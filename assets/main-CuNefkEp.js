(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Yd={exports:{}},Nl={};var lv;function PA(){if(lv)return Nl;lv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:f,ref:o!==void 0?o:null,props:u}}return Nl.Fragment=e,Nl.jsx=n,Nl.jsxs=n,Nl}var uv;function zA(){return uv||(uv=1,Yd.exports=PA()),Yd.exports}var T=zA(),Qd={exports:{}},xe={};var cv;function BA(){if(cv)return xe;cv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),I=Symbol.iterator;function q(S){return S===null||typeof S!="object"?null:(S=I&&S[I]||S["@@iterator"],typeof S=="function"?S:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,te={};function ue(S,G,ie){this.props=S,this.context=G,this.refs=te,this.updater=ie||J}ue.prototype.isReactComponent={},ue.prototype.setState=function(S,G){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,G,"setState")},ue.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function ve(){}ve.prototype=ue.prototype;function ye(S,G,ie){this.props=S,this.context=G,this.refs=te,this.updater=ie||J}var Se=ye.prototype=new ve;Se.constructor=ye,W(Se,ue.prototype),Se.isPureReactComponent=!0;var qe=Array.isArray;function ge(){}var D={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function C(S,G,ie){var Z=ie.ref;return{$$typeof:s,type:S,key:G,ref:Z!==void 0?Z:null,props:ie}}function M(S,G){return C(S.type,G,S.props)}function O(S){return typeof S=="object"&&S!==null&&S.$$typeof===s}function k(S){var G={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(ie){return G[ie]})}var x=/\/+/g;function we(S,G){return typeof S=="object"&&S!==null&&S.key!=null?k(""+S.key):G.toString(36)}function Ie(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(ge,ge):(S.status="pending",S.then(function(G){S.status==="pending"&&(S.status="fulfilled",S.value=G)},function(G){S.status==="pending"&&(S.status="rejected",S.reason=G)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function F(S,G,ie,Z,fe){var Te=typeof S;(Te==="undefined"||Te==="boolean")&&(S=null);var De=!1;if(S===null)De=!0;else switch(Te){case"bigint":case"string":case"number":De=!0;break;case"object":switch(S.$$typeof){case s:case e:De=!0;break;case b:return De=S._init,F(De(S._payload),G,ie,Z,fe)}}if(De)return fe=fe(S),De=Z===""?"."+we(S,0):Z,qe(fe)?(ie="",De!=null&&(ie=De.replace(x,"$&/")+"/"),F(fe,G,ie,"",function(Ui){return Ui})):fe!=null&&(O(fe)&&(fe=M(fe,ie+(fe.key==null||S&&S.key===fe.key?"":(""+fe.key).replace(x,"$&/")+"/")+De)),G.push(fe)),1;De=0;var ft=Z===""?".":Z+":";if(qe(S))for(var nt=0;nt<S.length;nt++)Z=S[nt],Te=ft+we(Z,nt),De+=F(Z,G,ie,Te,fe);else if(nt=q(S),typeof nt=="function")for(S=nt.call(S),nt=0;!(Z=S.next()).done;)Z=Z.value,Te=ft+we(Z,nt++),De+=F(Z,G,ie,Te,fe);else if(Te==="object"){if(typeof S.then=="function")return F(Ie(S),G,ie,Z,fe);throw G=String(S),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return De}function ne(S,G,ie){if(S==null)return S;var Z=[],fe=0;return F(S,Z,"","",function(Te){return G.call(ie,Te,fe++)}),Z}function re(S){if(S._status===-1){var G=S._result;G=G(),G.then(function(ie){(S._status===0||S._status===-1)&&(S._status=1,S._result=ie)},function(ie){(S._status===0||S._status===-1)&&(S._status=2,S._result=ie)}),S._status===-1&&(S._status=0,S._result=G)}if(S._status===1)return S._result.default;throw S._result}var ce=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},ee={map:ne,forEach:function(S,G,ie){ne(S,function(){G.apply(this,arguments)},ie)},count:function(S){var G=0;return ne(S,function(){G++}),G},toArray:function(S){return ne(S,function(G){return G})||[]},only:function(S){if(!O(S))throw Error("React.Children.only expected to receive a single React element child.");return S}};return xe.Activity=A,xe.Children=ee,xe.Component=ue,xe.Fragment=n,xe.Profiler=o,xe.PureComponent=ye,xe.StrictMode=r,xe.Suspense=_,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,xe.__COMPILER_RUNTIME={__proto__:null,c:function(S){return D.H.useMemoCache(S)}},xe.cache=function(S){return function(){return S.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(S,G,ie){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var Z=W({},S.props),fe=S.key;if(G!=null)for(Te in G.key!==void 0&&(fe=""+G.key),G)!R.call(G,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&G.ref===void 0||(Z[Te]=G[Te]);var Te=arguments.length-2;if(Te===1)Z.children=ie;else if(1<Te){for(var De=Array(Te),ft=0;ft<Te;ft++)De[ft]=arguments[ft+2];Z.children=De}return C(S.type,fe,Z)},xe.createContext=function(S){return S={$$typeof:f,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:u,_context:S},S},xe.createElement=function(S,G,ie){var Z,fe={},Te=null;if(G!=null)for(Z in G.key!==void 0&&(Te=""+G.key),G)R.call(G,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(fe[Z]=G[Z]);var De=arguments.length-2;if(De===1)fe.children=ie;else if(1<De){for(var ft=Array(De),nt=0;nt<De;nt++)ft[nt]=arguments[nt+2];fe.children=ft}if(S&&S.defaultProps)for(Z in De=S.defaultProps,De)fe[Z]===void 0&&(fe[Z]=De[Z]);return C(S,Te,fe)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(S){return{$$typeof:m,render:S}},xe.isValidElement=O,xe.lazy=function(S){return{$$typeof:b,_payload:{_status:-1,_result:S},_init:re}},xe.memo=function(S,G){return{$$typeof:g,type:S,compare:G===void 0?null:G}},xe.startTransition=function(S){var G=D.T,ie={};D.T=ie;try{var Z=S(),fe=D.S;fe!==null&&fe(ie,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(ge,ce)}catch(Te){ce(Te)}finally{G!==null&&ie.types!==null&&(G.types=ie.types),D.T=G}},xe.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},xe.use=function(S){return D.H.use(S)},xe.useActionState=function(S,G,ie){return D.H.useActionState(S,G,ie)},xe.useCallback=function(S,G){return D.H.useCallback(S,G)},xe.useContext=function(S){return D.H.useContext(S)},xe.useDebugValue=function(){},xe.useDeferredValue=function(S,G){return D.H.useDeferredValue(S,G)},xe.useEffect=function(S,G){return D.H.useEffect(S,G)},xe.useEffectEvent=function(S){return D.H.useEffectEvent(S)},xe.useId=function(){return D.H.useId()},xe.useImperativeHandle=function(S,G,ie){return D.H.useImperativeHandle(S,G,ie)},xe.useInsertionEffect=function(S,G){return D.H.useInsertionEffect(S,G)},xe.useLayoutEffect=function(S,G){return D.H.useLayoutEffect(S,G)},xe.useMemo=function(S,G){return D.H.useMemo(S,G)},xe.useOptimistic=function(S,G){return D.H.useOptimistic(S,G)},xe.useReducer=function(S,G,ie){return D.H.useReducer(S,G,ie)},xe.useRef=function(S){return D.H.useRef(S)},xe.useState=function(S){return D.H.useState(S)},xe.useSyncExternalStore=function(S,G,ie){return D.H.useSyncExternalStore(S,G,ie)},xe.useTransition=function(){return D.H.useTransition()},xe.version="19.2.3",xe}var hv;function zm(){return hv||(hv=1,Qd.exports=BA()),Qd.exports}var ae=zm(),Kd={exports:{}},Dl={},Xd={exports:{}},$d={};var fv;function qA(){return fv||(fv=1,(function(s){function e(F,ne){var re=F.length;F.push(ne);e:for(;0<re;){var ce=re-1>>>1,ee=F[ce];if(0<o(ee,ne))F[ce]=ne,F[re]=ee,re=ce;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var ne=F[0],re=F.pop();if(re!==ne){F[0]=re;e:for(var ce=0,ee=F.length,S=ee>>>1;ce<S;){var G=2*(ce+1)-1,ie=F[G],Z=G+1,fe=F[Z];if(0>o(ie,re))Z<ee&&0>o(fe,ie)?(F[ce]=fe,F[Z]=re,ce=Z):(F[ce]=ie,F[G]=re,ce=G);else if(Z<ee&&0>o(fe,re))F[ce]=fe,F[Z]=re,ce=Z;else break e}}return ne}function o(F,ne){var re=F.sortIndex-ne.sortIndex;return re!==0?re:F.id-ne.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();s.unstable_now=function(){return f.now()-m}}var _=[],g=[],b=1,A=null,I=3,q=!1,J=!1,W=!1,te=!1,ue=typeof setTimeout=="function"?setTimeout:null,ve=typeof clearTimeout=="function"?clearTimeout:null,ye=typeof setImmediate<"u"?setImmediate:null;function Se(F){for(var ne=n(g);ne!==null;){if(ne.callback===null)r(g);else if(ne.startTime<=F)r(g),ne.sortIndex=ne.expirationTime,e(_,ne);else break;ne=n(g)}}function qe(F){if(W=!1,Se(F),!J)if(n(_)!==null)J=!0,ge||(ge=!0,k());else{var ne=n(g);ne!==null&&Ie(qe,ne.startTime-F)}}var ge=!1,D=-1,R=5,C=-1;function M(){return te?!0:!(s.unstable_now()-C<R)}function O(){if(te=!1,ge){var F=s.unstable_now();C=F;var ne=!0;try{e:{J=!1,W&&(W=!1,ve(D),D=-1),q=!0;var re=I;try{t:{for(Se(F),A=n(_);A!==null&&!(A.expirationTime>F&&M());){var ce=A.callback;if(typeof ce=="function"){A.callback=null,I=A.priorityLevel;var ee=ce(A.expirationTime<=F);if(F=s.unstable_now(),typeof ee=="function"){A.callback=ee,Se(F),ne=!0;break t}A===n(_)&&r(_),Se(F)}else r(_);A=n(_)}if(A!==null)ne=!0;else{var S=n(g);S!==null&&Ie(qe,S.startTime-F),ne=!1}}break e}finally{A=null,I=re,q=!1}ne=void 0}}finally{ne?k():ge=!1}}}var k;if(typeof ye=="function")k=function(){ye(O)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,we=x.port2;x.port1.onmessage=O,k=function(){we.postMessage(null)}}else k=function(){ue(O,0)};function Ie(F,ne){D=ue(function(){F(s.unstable_now())},ne)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return I},s.unstable_next=function(F){switch(I){case 1:case 2:case 3:var ne=3;break;default:ne=I}var re=I;I=ne;try{return F()}finally{I=re}},s.unstable_requestPaint=function(){te=!0},s.unstable_runWithPriority=function(F,ne){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var re=I;I=F;try{return ne()}finally{I=re}},s.unstable_scheduleCallback=function(F,ne,re){var ce=s.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ce+re:ce):re=ce,F){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=re+ee,F={id:b++,callback:ne,priorityLevel:F,startTime:re,expirationTime:ee,sortIndex:-1},re>ce?(F.sortIndex=re,e(g,F),n(_)===null&&F===n(g)&&(W?(ve(D),D=-1):W=!0,Ie(qe,re-ce))):(F.sortIndex=ee,e(_,F),J||q||(J=!0,ge||(ge=!0,k()))),F},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(F){var ne=I;return function(){var re=I;I=ne;try{return F.apply(this,arguments)}finally{I=re}}}})($d)),$d}var dv;function HA(){return dv||(dv=1,Xd.exports=qA()),Xd.exports}var Jd={exports:{}},Xt={};var mv;function FA(){if(mv)return Xt;mv=1;var s=zm();function e(_){var g="https://react.dev/errors/"+_;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+_+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(_,g,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:_,containerInfo:g,implementation:b}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(_,g){if(_==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Xt.createPortal=function(_,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(_,g,null,b)},Xt.flushSync=function(_){var g=f.T,b=r.p;try{if(f.T=null,r.p=2,_)return _()}finally{f.T=g,r.p=b,r.d.f()}},Xt.preconnect=function(_,g){typeof _=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(_,g))},Xt.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},Xt.preinit=function(_,g){if(typeof _=="string"&&g&&typeof g.as=="string"){var b=g.as,A=m(b,g.crossOrigin),I=typeof g.integrity=="string"?g.integrity:void 0,q=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?r.d.S(_,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:I,fetchPriority:q}):b==="script"&&r.d.X(_,{crossOrigin:A,integrity:I,fetchPriority:q,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Xt.preinitModule=function(_,g){if(typeof _=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=m(g.as,g.crossOrigin);r.d.M(_,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(_)},Xt.preload=function(_,g){if(typeof _=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,A=m(b,g.crossOrigin);r.d.L(_,b,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Xt.preloadModule=function(_,g){if(typeof _=="string")if(g){var b=m(g.as,g.crossOrigin);r.d.m(_,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(_)},Xt.requestFormReset=function(_){r.d.r(_)},Xt.unstable_batchedUpdates=function(_,g){return _(g)},Xt.useFormState=function(_,g,b){return f.H.useFormState(_,g,b)},Xt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Xt.version="19.2.3",Xt}var pv;function iT(){if(pv)return Jd.exports;pv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Jd.exports=FA(),Jd.exports}var gv;function GA(){if(gv)return Dl;gv=1;var s=HA(),e=zm(),n=iT();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function _(t){if(u(t)!==t)throw Error(r(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return _(h),t;if(d===l)return _(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=d;else{for(var y=!1,E=h.child;E;){if(E===a){y=!0,a=h,l=d;break}if(E===l){y=!0,l=h,a=d;break}E=E.sibling}if(!y){for(E=d.child;E;){if(E===a){y=!0,a=d,l=h;break}if(E===l){y=!0,l=d,a=h;break}E=E.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function b(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=b(t),i!==null)return i;t=t.sibling}return null}var A=Object.assign,I=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),ue=Symbol.for("react.profiler"),ve=Symbol.for("react.consumer"),ye=Symbol.for("react.context"),Se=Symbol.for("react.forward_ref"),qe=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function we(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case W:return"Fragment";case ue:return"Profiler";case te:return"StrictMode";case qe:return"Suspense";case ge:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case J:return"Portal";case ye:return t.displayName||"Context";case ve:return(t._context.displayName||"Context")+".Consumer";case Se:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return i=t.displayName||null,i!==null?i:we(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return we(t(i))}catch{}}return null}var Ie=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},ce=[],ee=-1;function S(t){return{current:t}}function G(t){0>ee||(t.current=ce[ee],ce[ee]=null,ee--)}function ie(t,i){ee++,ce[ee]=t.current,t.current=i}var Z=S(null),fe=S(null),Te=S(null),De=S(null);function ft(t,i){switch(ie(Te,i),ie(fe,t),ie(Z,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?D_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=D_(i),t=O_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}G(Z),ie(Z,t)}function nt(){G(Z),G(fe),G(Te)}function Ui(t){t.memoizedState!==null&&ie(De,t);var i=Z.current,a=O_(i,t.type);i!==a&&(ie(fe,t),ie(Z,a))}function sa(t){fe.current===t&&(G(Z),G(fe)),De.current===t&&(G(De),xl._currentValue=re)}var ra,aa;function ri(t){if(ra===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ra=i&&i[1]||"",aa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ra+t+aa}var xo=!1;function dr(t,i){if(!t||xo)return"";xo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var z=H}Reflect.construct(t,[],X)}else{try{X.call()}catch(H){z=H}t.call(X.prototype)}}else{try{throw Error()}catch(H){z=H}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),y=d[0],E=d[1];if(y&&E){var N=y.split(`
`),P=E.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===P.length)for(l=N.length-1,h=P.length-1;1<=l&&0<=h&&N[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==P[h]){var Y=`
`+N[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=h);break}}}finally{xo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ri(a):""}function Ro(t,i){switch(t.tag){case 26:case 27:case 5:return ri(t.type);case 16:return ri("Lazy");case 13:return t.child!==i&&i!==null?ri("Suspense Fallback"):ri("Suspense");case 19:return ri("SuspenseList");case 0:case 15:return dr(t.type,!1);case 11:return dr(t.type.render,!1);case 1:return dr(t.type,!0);case 31:return ri("Activity");default:return""}}function Io(t){try{var i="",a=null;do i+=Ro(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var vt=Object.prototype.hasOwnProperty,Ot=s.unstable_scheduleCallback,ds=s.unstable_cancelCallback,Qh=s.unstable_shouldYield,cu=s.unstable_requestPaint,en=s.unstable_now,mr=s.unstable_getCurrentPriorityLevel,Co=s.unstable_ImmediatePriority,No=s.unstable_UserBlockingPriority,ms=s.unstable_NormalPriority,Kh=s.unstable_LowPriority,hu=s.unstable_IdlePriority,fu=s.log,du=s.unstable_setDisableYieldValue,zn=null,Pt=null;function Sn(t){if(typeof fu=="function"&&du(t),Pt&&typeof Pt.setStrictMode=="function")try{Pt.setStrictMode(zn,t)}catch{}}var dt=Math.clz32?Math.clz32:pu,mu=Math.log,oa=Math.LN2;function pu(t){return t>>>=0,t===0?32:31-(mu(t)/oa|0)|0}var ai=256,pr=262144,Tt=4194304;function oi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function li(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~d,l!==0?h=oi(l):(y&=E,y!==0?h=oi(y):a||(a=E&~t,a!==0&&(h=oi(a))))):(E=l&~d,E!==0?h=oi(E):y!==0?h=oi(y):a||(a=l&~t,a!==0&&(h=oi(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Bn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Xh(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gu(){var t=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),t}function ui(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function gr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function $h(t,i,a,l,h,d){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,N=t.expirationTimes,P=t.hiddenUpdates;for(a=y&~a;0<a;){var Y=31-dt(a),X=1<<Y;E[Y]=0,N[Y]=-1;var z=P[Y];if(z!==null)for(P[Y]=null,Y=0;Y<z.length;Y++){var H=z[Y];H!==null&&(H.lane&=-536870913)}a&=~X}l!==0&&yr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(y&~i))}function yr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-dt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Do(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-dt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Oo(t,i){var a=i&-i;return a=(a&42)!==0?1:_r(a),(a&(t.suspendedLanes|i))!==0?0:a}function _r(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ji(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function yu(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:tv(t.type))}function qn(t,i){var a=ne.p;try{return ne.p=t,i()}finally{ne.p=a}}var Hn=Math.random().toString(36).slice(2),Et="__reactFiber$"+Hn,kt="__reactProps$"+Hn,ci="__reactContainer$"+Hn,la="__reactEvents$"+Hn,Jh="__reactListeners$"+Hn,_u="__reactHandles$"+Hn,vu="__reactResources$"+Hn,hi="__reactMarker$"+Hn;function ua(t){delete t[Et],delete t[kt],delete t[la],delete t[Jh],delete t[_u]}function fi(t){var i=t[Et];if(i)return i;for(var a=t.parentNode;a;){if(i=a[ci]||a[Et]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=P_(t);t!==null;){if(a=t[Et])return a;t=P_(t)}return i}t=a,a=t.parentNode}return null}function xn(t){if(t=t[Et]||t[ci]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function mn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function di(t){var i=t[vu];return i||(i=t[vu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function bt(t){t[hi]=!0}var Mo=new Set,Vo={};function mi(t,i){pi(t,i),pi(t+"Capture",i)}function pi(t,i){for(Vo[t]=i,t=0;t<i.length;t++)Mo.add(i[t])}var ko=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lo={},Uo={};function Tu(t){return vt.call(Uo,t)?!0:vt.call(Lo,t)?!1:ko.test(t)?Uo[t]=!0:(Lo[t]=!0,!1)}function ca(t,i,a){if(Tu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function pn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function wt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ps(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function jo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,d.call(this,y)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ke(t){if(!t._valueTracker){var i=ps(t)?"checked":"value";t._valueTracker=jo(t,i,""+t[i])}}function vr(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=ps(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function gi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Tr=/[\n"\\]/g;function rn(t){return t.replace(Tr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ha(t,i,a,l,h,d,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),i!=null?y==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Lt(i)):t.value!==""+Lt(i)&&(t.value=""+Lt(i)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),i!=null?Po(t,y,Lt(i)):a!=null?Po(t,y,Lt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Lt(E):t.removeAttribute("name")}function Eu(t,i,a,l,h,d,y,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ke(t);return}a=a!=null?""+Lt(a):"",i=i!=null?""+Lt(i):a,E||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),Ke(t)}function Po(t,i,a){i==="number"&&gi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function gs(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Lt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function bu(t,i,a){if(i!=null&&(i=""+Lt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Lt(a):""}function ys(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(Ie(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Lt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ke(t)}function an(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var wu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||wu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Bo(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&zo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&zo(t,d,i[d])}function fa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Au=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_s=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function da(t){return _s.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Fn(){}var qo=null;function Rn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vs=null,yi=null;function Er(t){var i=xn(t);if(i&&(t=i.stateNode)){var a=t[kt]||null;e:switch(t=i.stateNode,i.type){case"input":if(ha(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[kt]||null;if(!h)throw Error(r(90));ha(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&vr(l)}break e;case"textarea":bu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&gs(t,!!a.multiple,i,!1)}}}var ma=!1;function Ts(t,i,a){if(ma)return t(i,a);ma=!0;try{var l=t(i);return l}finally{if(ma=!1,(vs!==null||yi!==null)&&(yc(),vs&&(i=vs,t=yi,yi=vs=null,Er(i),t)))for(i=0;i<t.length;i++)Er(t[i])}}function Gn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[kt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),br=!1;if(In)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){br=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{br=!1}var _i=null,Ho=null,wr=null;function Fo(){if(wr)return wr;var t,i=Ho,a=i.length,l,h="value"in _i?_i.value:_i.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var y=a-t;for(l=1;l<=y&&i[a-l]===h[d-l];l++);return wr=h.slice(t,1<l?1-l:void 0)}function Ar(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Pi(){return!0}function Yn(){return!1}function zt(t){function i(a,l,h,d,y){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Pi:Yn,this.isPropagationStopped=Yn,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),i}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=zt(zi),Es=A({},zi,{view:0,detail:0}),Go=zt(Es),bs,pa,Ti,ga=A({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ws,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ti&&(Ti&&t.type==="mousemove"?(bs=t.screenX-Ti.screenX,pa=t.screenY-Ti.screenY):pa=bs=0,Ti=t),bs)},movementY:function(t){return"movementY"in t?t.movementY:pa}}),Yo=zt(ga),Sr=A({},ga,{dataTransfer:0}),Su=zt(Sr),xu=A({},Es,{relatedTarget:0}),xr=zt(xu),Qo=A({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ru=zt(Qo),ya=A({},zi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Iu=zt(ya),Cu=A({},zi,{data:0}),Ei=zt(Cu),Nu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Ou[t])?!!i[t]:!1}function ws(){return Mu}var tn=A({},Es,{key:function(t){if(t.key){var i=Nu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ar(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Du[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ws,charCode:function(t){return t.type==="keypress"?Ar(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ar(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Vu=zt(tn),ku=A({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bi=zt(ku),c=A({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ws}),p=zt(c),v=A({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=zt(v),U=A({},ga,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=zt(U),se=A({},zi,{newState:0,oldState:0}),Ce=zt(se),mt=[9,13,27,32],Ge=In&&"CompositionEvent"in window,ot=null;In&&"documentMode"in document&&(ot=document.documentMode);var Cn=In&&"TextEvent"in window&&!ot,bi=In&&(!Ge||ot&&8<ot&&11>=ot),Qn=" ",Kn=!1;function Rr(t,i){switch(t){case"keyup":return mt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _a(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var va=!1;function uw(t,i){switch(t){case"compositionend":return _a(i);case"keypress":return i.which!==32?null:(Kn=!0,Qn);case"textInput":return t=i.data,t===Qn&&Kn?null:t;default:return null}}function cw(t,i){if(va)return t==="compositionend"||!Ge&&Rr(t,i)?(t=Fo(),wr=Ho=_i=null,va=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return bi&&i.locale!=="ko"?null:i.data;default:return null}}var hw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!hw[t.type]:i==="textarea"}function Hp(t,i,a,l){vs?yi?yi.push(l):yi=[l]:vs=l,i=Ac(i,"onChange"),0<i.length&&(a=new vi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Ko=null,Xo=null;function fw(t){S_(t,0)}function Lu(t){var i=mn(t);if(vr(i))return t}function Fp(t,i){if(t==="change")return i}var Gp=!1;if(In){var Zh;if(In){var Wh="oninput"in document;if(!Wh){var Yp=document.createElement("div");Yp.setAttribute("oninput","return;"),Wh=typeof Yp.oninput=="function"}Zh=Wh}else Zh=!1;Gp=Zh&&(!document.documentMode||9<document.documentMode)}function Qp(){Ko&&(Ko.detachEvent("onpropertychange",Kp),Xo=Ko=null)}function Kp(t){if(t.propertyName==="value"&&Lu(Xo)){var i=[];Hp(i,Xo,t,Rn(t)),Ts(fw,i)}}function dw(t,i,a){t==="focusin"?(Qp(),Ko=i,Xo=a,Ko.attachEvent("onpropertychange",Kp)):t==="focusout"&&Qp()}function mw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lu(Xo)}function pw(t,i){if(t==="click")return Lu(i)}function gw(t,i){if(t==="input"||t==="change")return Lu(i)}function yw(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var gn=typeof Object.is=="function"?Object.is:yw;function $o(t,i){if(gn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!vt.call(i,h)||!gn(t[h],i[h]))return!1}return!0}function Xp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $p(t,i){var a=Xp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Xp(a)}}function Jp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Jp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Zp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=gi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=gi(t.document)}return i}function ef(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var _w=In&&"documentMode"in document&&11>=document.documentMode,Ta=null,tf=null,Jo=null,nf=!1;function Wp(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;nf||Ta==null||Ta!==gi(l)||(l=Ta,"selectionStart"in l&&ef(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Jo&&$o(Jo,l)||(Jo=l,l=Ac(tf,"onSelect"),0<l.length&&(i=new vi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ta)))}function Ir(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ea={animationend:Ir("Animation","AnimationEnd"),animationiteration:Ir("Animation","AnimationIteration"),animationstart:Ir("Animation","AnimationStart"),transitionrun:Ir("Transition","TransitionRun"),transitionstart:Ir("Transition","TransitionStart"),transitioncancel:Ir("Transition","TransitionCancel"),transitionend:Ir("Transition","TransitionEnd")},sf={},eg={};In&&(eg=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function Cr(t){if(sf[t])return sf[t];if(!Ea[t])return t;var i=Ea[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in eg)return sf[t]=i[a];return t}var tg=Cr("animationend"),ng=Cr("animationiteration"),ig=Cr("animationstart"),vw=Cr("transitionrun"),Tw=Cr("transitionstart"),Ew=Cr("transitioncancel"),sg=Cr("transitionend"),rg=new Map,rf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rf.push("scrollEnd");function Xn(t,i){rg.set(t,i),mi(i,[t])}var Uu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Nn=[],ba=0,af=0;function ju(){for(var t=ba,i=af=ba=0;i<t;){var a=Nn[i];Nn[i++]=null;var l=Nn[i];Nn[i++]=null;var h=Nn[i];Nn[i++]=null;var d=Nn[i];if(Nn[i++]=null,l!==null&&h!==null){var y=l.pending;y===null?h.next=h:(h.next=y.next,y.next=h),l.pending=h}d!==0&&ag(a,h,d)}}function Pu(t,i,a,l){Nn[ba++]=t,Nn[ba++]=i,Nn[ba++]=a,Nn[ba++]=l,af|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function of(t,i,a,l){return Pu(t,i,a,l),zu(t)}function Nr(t,i){return Pu(t,null,null,i),zu(t)}function ag(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-dt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function zu(t){if(50<vl)throw vl=0,gd=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var wa={};function bw(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,i,a,l){return new bw(t,i,a,l)}function lf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qi(t,i){var a=t.alternate;return a===null?(a=yn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function og(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Bu(t,i,a,l,h,d){var y=0;if(l=t,typeof t=="function")lf(t)&&(y=1);else if(typeof t=="string")y=RA(t,a,Z.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=yn(31,a,i,h),t.elementType=C,t.lanes=d,t;case W:return Dr(a.children,h,d,i);case te:y=8,h|=24;break;case ue:return t=yn(12,a,i,h|2),t.elementType=ue,t.lanes=d,t;case qe:return t=yn(13,a,i,h),t.elementType=qe,t.lanes=d,t;case ge:return t=yn(19,a,i,h),t.elementType=ge,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ye:y=10;break e;case ve:y=9;break e;case Se:y=11;break e;case D:y=14;break e;case R:y=16,l=null;break e}y=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return i=yn(y,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Dr(t,i,a,l){return t=yn(7,t,l,i),t.lanes=a,t}function uf(t,i,a){return t=yn(6,t,null,i),t.lanes=a,t}function lg(t){var i=yn(18,null,null,0);return i.stateNode=t,i}function cf(t,i,a){return i=yn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var ug=new WeakMap;function Dn(t,i){if(typeof t=="object"&&t!==null){var a=ug.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Io(i)},ug.set(t,i),i)}return{value:t,source:i,stack:Io(i)}}var Aa=[],Sa=0,qu=null,Zo=0,On=[],Mn=0,As=null,wi=1,Ai="";function Hi(t,i){Aa[Sa++]=Zo,Aa[Sa++]=qu,qu=t,Zo=i}function cg(t,i,a){On[Mn++]=wi,On[Mn++]=Ai,On[Mn++]=As,As=t;var l=wi;t=Ai;var h=32-dt(l)-1;l&=~(1<<h),a+=1;var d=32-dt(i)+h;if(30<d){var y=h-h%5;d=(l&(1<<y)-1).toString(32),l>>=y,h-=y,wi=1<<32-dt(i)+h|a<<h|l,Ai=d+t}else wi=1<<d|a<<h|l,Ai=t}function hf(t){t.return!==null&&(Hi(t,1),cg(t,1,0))}function ff(t){for(;t===qu;)qu=Aa[--Sa],Aa[Sa]=null,Zo=Aa[--Sa],Aa[Sa]=null;for(;t===As;)As=On[--Mn],On[Mn]=null,Ai=On[--Mn],On[Mn]=null,wi=On[--Mn],On[Mn]=null}function hg(t,i){On[Mn++]=wi,On[Mn++]=Ai,On[Mn++]=As,wi=i.id,Ai=i.overflow,As=t}var Bt=null,st=null,ze=!1,Ss=null,Vn=!1,df=Error(r(519));function xs(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wo(Dn(i,t)),df}function fg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Et]=t,i[kt]=l,a){case"dialog":Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":case"embed":Ve("load",i);break;case"video":case"audio":for(a=0;a<El.length;a++)Ve(El[a],i);break;case"source":Ve("error",i);break;case"img":case"image":case"link":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"input":Ve("invalid",i),Eu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ve("invalid",i);break;case"textarea":Ve("invalid",i),ys(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||C_(i.textContent,a)?(l.popover!=null&&(Ve("beforetoggle",i),Ve("toggle",i)),l.onScroll!=null&&Ve("scroll",i),l.onScrollEnd!=null&&Ve("scrollend",i),l.onClick!=null&&(i.onclick=Fn),i=!0):i=!1,i||xs(t,!0)}function dg(t){for(Bt=t.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:Bt=Bt.return}}function xa(t){if(t!==Bt)return!1;if(!ze)return dg(t),ze=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Dd(t.type,t.memoizedProps)),a=!a),a&&st&&xs(t),dg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));st=j_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));st=j_(t)}else i===27?(i=st,zs(t.type)?(t=Ld,Ld=null,st=t):st=i):st=Bt?Ln(t.stateNode.nextSibling):null;return!0}function Or(){st=Bt=null,ze=!1}function mf(){var t=Ss;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),Ss=null),t}function Wo(t){Ss===null?Ss=[t]:Ss.push(t)}var pf=S(null),Mr=null,Fi=null;function Rs(t,i,a){ie(pf,i._currentValue),i._currentValue=a}function Gi(t){t._currentValue=pf.current,G(pf)}function gf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function yf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var y=h.child;d=d.firstContext;e:for(;d!==null;){var E=d;d=h;for(var N=0;N<i.length;N++)if(E.context===i[N]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),gf(d.return,a,t),l||(y=null);break e}d=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(r(341));y.lanes|=a,d=y.alternate,d!==null&&(d.lanes|=a),gf(y,a,t),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function Ra(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var E=h.type;gn(h.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(h===De.current){if(y=h.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(xl):t=[xl])}h=h.return}t!==null&&yf(i,t,a,l),i.flags|=262144}function Hu(t){for(t=t.firstContext;t!==null;){if(!gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Vr(t){Mr=t,Fi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qt(t){return mg(Mr,t)}function Fu(t,i){return Mr===null&&Vr(t),mg(t,i)}function mg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Fi===null){if(t===null)throw Error(r(308));Fi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Fi=Fi.next=i;return a}var ww=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Aw=s.unstable_scheduleCallback,Sw=s.unstable_NormalPriority,At={$$typeof:ye,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _f(){return{controller:new ww,data:new Map,refCount:0}}function el(t){t.refCount--,t.refCount===0&&Aw(Sw,function(){t.controller.abort()})}var tl=null,vf=0,Ia=0,Ca=null;function xw(t,i){if(tl===null){var a=tl=[];vf=0,Ia=bd(),Ca={status:"pending",value:void 0,then:function(l){a.push(l)}}}return vf++,i.then(pg,pg),i}function pg(){if(--vf===0&&tl!==null){Ca!==null&&(Ca.status="fulfilled");var t=tl;tl=null,Ia=0,Ca=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Rw(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var gg=F.S;F.S=function(t,i){Wy=en(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&xw(t,i),gg!==null&&gg(t,i)};var kr=S(null);function Tf(){var t=kr.current;return t!==null?t:tt.pooledCache}function Gu(t,i){i===null?ie(kr,kr.current):ie(kr,i.pool)}function yg(){var t=Tf();return t===null?null:{parent:At._currentValue,pool:t}}var Na=Error(r(460)),Ef=Error(r(474)),Yu=Error(r(542)),Qu={then:function(){}};function _g(t){return t=t.status,t==="fulfilled"||t==="rejected"}function vg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Fn,Fn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Eg(t),t;default:if(typeof i.status=="string")i.then(Fn,Fn);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Eg(t),t}throw Ur=i,Na}}function Lr(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ur=a,Na):a}}var Ur=null;function Tg(){if(Ur===null)throw Error(r(459));var t=Ur;return Ur=null,t}function Eg(t){if(t===Na||t===Yu)throw Error(r(483))}var Da=null,nl=0;function Ku(t){var i=nl;return nl+=1,Da===null&&(Da=[]),vg(Da,t,i)}function il(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Xu(t,i){throw i.$$typeof===I?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function bg(t){function i(L,V){if(t){var j=L.deletions;j===null?(L.deletions=[V],L.flags|=16):j.push(V)}}function a(L,V){if(!t)return null;for(;V!==null;)i(L,V),V=V.sibling;return null}function l(L){for(var V=new Map;L!==null;)L.key!==null?V.set(L.key,L):V.set(L.index,L),L=L.sibling;return V}function h(L,V){return L=qi(L,V),L.index=0,L.sibling=null,L}function d(L,V,j){return L.index=j,t?(j=L.alternate,j!==null?(j=j.index,j<V?(L.flags|=67108866,V):j):(L.flags|=67108866,V)):(L.flags|=1048576,V)}function y(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function E(L,V,j,Q){return V===null||V.tag!==6?(V=uf(j,L.mode,Q),V.return=L,V):(V=h(V,j),V.return=L,V)}function N(L,V,j,Q){var me=j.type;return me===W?Y(L,V,j.props.children,Q,j.key):V!==null&&(V.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&Lr(me)===V.type)?(V=h(V,j.props),il(V,j),V.return=L,V):(V=Bu(j.type,j.key,j.props,null,L.mode,Q),il(V,j),V.return=L,V)}function P(L,V,j,Q){return V===null||V.tag!==4||V.stateNode.containerInfo!==j.containerInfo||V.stateNode.implementation!==j.implementation?(V=cf(j,L.mode,Q),V.return=L,V):(V=h(V,j.children||[]),V.return=L,V)}function Y(L,V,j,Q,me){return V===null||V.tag!==7?(V=Dr(j,L.mode,Q,me),V.return=L,V):(V=h(V,j),V.return=L,V)}function X(L,V,j){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=uf(""+V,L.mode,j),V.return=L,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case q:return j=Bu(V.type,V.key,V.props,null,L.mode,j),il(j,V),j.return=L,j;case J:return V=cf(V,L.mode,j),V.return=L,V;case R:return V=Lr(V),X(L,V,j)}if(Ie(V)||k(V))return V=Dr(V,L.mode,j,null),V.return=L,V;if(typeof V.then=="function")return X(L,Ku(V),j);if(V.$$typeof===ye)return X(L,Fu(L,V),j);Xu(L,V)}return null}function z(L,V,j,Q){var me=V!==null?V.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return me!==null?null:E(L,V,""+j,Q);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case q:return j.key===me?N(L,V,j,Q):null;case J:return j.key===me?P(L,V,j,Q):null;case R:return j=Lr(j),z(L,V,j,Q)}if(Ie(j)||k(j))return me!==null?null:Y(L,V,j,Q,null);if(typeof j.then=="function")return z(L,V,Ku(j),Q);if(j.$$typeof===ye)return z(L,V,Fu(L,j),Q);Xu(L,j)}return null}function H(L,V,j,Q,me){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return L=L.get(j)||null,E(V,L,""+Q,me);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case q:return L=L.get(Q.key===null?j:Q.key)||null,N(V,L,Q,me);case J:return L=L.get(Q.key===null?j:Q.key)||null,P(V,L,Q,me);case R:return Q=Lr(Q),H(L,V,j,Q,me)}if(Ie(Q)||k(Q))return L=L.get(j)||null,Y(V,L,Q,me,null);if(typeof Q.then=="function")return H(L,V,j,Ku(Q),me);if(Q.$$typeof===ye)return H(L,V,j,Fu(V,Q),me);Xu(V,Q)}return null}function he(L,V,j,Q){for(var me=null,He=null,de=V,Oe=V=0,Le=null;de!==null&&Oe<j.length;Oe++){de.index>Oe?(Le=de,de=null):Le=de.sibling;var Fe=z(L,de,j[Oe],Q);if(Fe===null){de===null&&(de=Le);break}t&&de&&Fe.alternate===null&&i(L,de),V=d(Fe,V,Oe),He===null?me=Fe:He.sibling=Fe,He=Fe,de=Le}if(Oe===j.length)return a(L,de),ze&&Hi(L,Oe),me;if(de===null){for(;Oe<j.length;Oe++)de=X(L,j[Oe],Q),de!==null&&(V=d(de,V,Oe),He===null?me=de:He.sibling=de,He=de);return ze&&Hi(L,Oe),me}for(de=l(de);Oe<j.length;Oe++)Le=H(de,L,Oe,j[Oe],Q),Le!==null&&(t&&Le.alternate!==null&&de.delete(Le.key===null?Oe:Le.key),V=d(Le,V,Oe),He===null?me=Le:He.sibling=Le,He=Le);return t&&de.forEach(function(Gs){return i(L,Gs)}),ze&&Hi(L,Oe),me}function _e(L,V,j,Q){if(j==null)throw Error(r(151));for(var me=null,He=null,de=V,Oe=V=0,Le=null,Fe=j.next();de!==null&&!Fe.done;Oe++,Fe=j.next()){de.index>Oe?(Le=de,de=null):Le=de.sibling;var Gs=z(L,de,Fe.value,Q);if(Gs===null){de===null&&(de=Le);break}t&&de&&Gs.alternate===null&&i(L,de),V=d(Gs,V,Oe),He===null?me=Gs:He.sibling=Gs,He=Gs,de=Le}if(Fe.done)return a(L,de),ze&&Hi(L,Oe),me;if(de===null){for(;!Fe.done;Oe++,Fe=j.next())Fe=X(L,Fe.value,Q),Fe!==null&&(V=d(Fe,V,Oe),He===null?me=Fe:He.sibling=Fe,He=Fe);return ze&&Hi(L,Oe),me}for(de=l(de);!Fe.done;Oe++,Fe=j.next())Fe=H(de,L,Oe,Fe.value,Q),Fe!==null&&(t&&Fe.alternate!==null&&de.delete(Fe.key===null?Oe:Fe.key),V=d(Fe,V,Oe),He===null?me=Fe:He.sibling=Fe,He=Fe);return t&&de.forEach(function(jA){return i(L,jA)}),ze&&Hi(L,Oe),me}function et(L,V,j,Q){if(typeof j=="object"&&j!==null&&j.type===W&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case q:e:{for(var me=j.key;V!==null;){if(V.key===me){if(me=j.type,me===W){if(V.tag===7){a(L,V.sibling),Q=h(V,j.props.children),Q.return=L,L=Q;break e}}else if(V.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&Lr(me)===V.type){a(L,V.sibling),Q=h(V,j.props),il(Q,j),Q.return=L,L=Q;break e}a(L,V);break}else i(L,V);V=V.sibling}j.type===W?(Q=Dr(j.props.children,L.mode,Q,j.key),Q.return=L,L=Q):(Q=Bu(j.type,j.key,j.props,null,L.mode,Q),il(Q,j),Q.return=L,L=Q)}return y(L);case J:e:{for(me=j.key;V!==null;){if(V.key===me)if(V.tag===4&&V.stateNode.containerInfo===j.containerInfo&&V.stateNode.implementation===j.implementation){a(L,V.sibling),Q=h(V,j.children||[]),Q.return=L,L=Q;break e}else{a(L,V);break}else i(L,V);V=V.sibling}Q=cf(j,L.mode,Q),Q.return=L,L=Q}return y(L);case R:return j=Lr(j),et(L,V,j,Q)}if(Ie(j))return he(L,V,j,Q);if(k(j)){if(me=k(j),typeof me!="function")throw Error(r(150));return j=me.call(j),_e(L,V,j,Q)}if(typeof j.then=="function")return et(L,V,Ku(j),Q);if(j.$$typeof===ye)return et(L,V,Fu(L,j),Q);Xu(L,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,V!==null&&V.tag===6?(a(L,V.sibling),Q=h(V,j),Q.return=L,L=Q):(a(L,V),Q=uf(j,L.mode,Q),Q.return=L,L=Q),y(L)):a(L,V)}return function(L,V,j,Q){try{nl=0;var me=et(L,V,j,Q);return Da=null,me}catch(de){if(de===Na||de===Yu)throw de;var He=yn(29,de,null,L.mode);return He.lanes=Q,He.return=L,He}}}var jr=bg(!0),wg=bg(!1),Is=!1;function bf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Cs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ns(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=zu(t),ag(t,null,a),i}return Pu(t,l,i,a),zu(t)}function sl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Do(t,a)}}function Af(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=y:d=d.next=y,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Sf=!1;function rl(){if(Sf){var t=Ca;if(t!==null)throw t}}function al(t,i,a,l){Sf=!1;var h=t.updateQueue;Is=!1;var d=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var N=E,P=N.next;N.next=null,y===null?d=P:y.next=P,y=N;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,E=Y.lastBaseUpdate,E!==y&&(E===null?Y.firstBaseUpdate=P:E.next=P,Y.lastBaseUpdate=N))}if(d!==null){var X=h.baseState;y=0,Y=P=N=null,E=d;do{var z=E.lane&-536870913,H=z!==E.lane;if(H?(ke&z)===z:(l&z)===z){z!==0&&z===Ia&&(Sf=!0),Y!==null&&(Y=Y.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var he=t,_e=E;z=i;var et=a;switch(_e.tag){case 1:if(he=_e.payload,typeof he=="function"){X=he.call(et,X,z);break e}X=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=_e.payload,z=typeof he=="function"?he.call(et,X,z):he,z==null)break e;X=A({},X,z);break e;case 2:Is=!0}}z=E.callback,z!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Y===null?(P=Y=H,N=X):Y=Y.next=H,y|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Y===null&&(N=X),h.baseState=N,h.firstBaseUpdate=P,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),ks|=y,t.lanes=y,t.memoizedState=X}}function Ag(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function Sg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ag(a[t],i)}var Oa=S(null),$u=S(0);function xg(t,i){t=es,ie($u,t),ie(Oa,i),es=t|i.baseLanes}function xf(){ie($u,es),ie(Oa,Oa.current)}function Rf(){es=$u.current,G(Oa),G($u)}var _n=S(null),kn=null;function Ds(t){var i=t.alternate;ie(pt,pt.current&1),ie(_n,t),kn===null&&(i===null||Oa.current!==null||i.memoizedState!==null)&&(kn=t)}function If(t){ie(pt,pt.current),ie(_n,t),kn===null&&(kn=t)}function Rg(t){t.tag===22?(ie(pt,pt.current),ie(_n,t),kn===null&&(kn=t)):Os()}function Os(){ie(pt,pt.current),ie(_n,_n.current)}function vn(t){G(_n),kn===t&&(kn=null),G(pt)}var pt=S(0);function Ju(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Vd(a)||kd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Yi=0,Ne=null,Ze=null,St=null,Zu=!1,Ma=!1,Pr=!1,Wu=0,ol=0,Va=null,Iw=0;function ct(){throw Error(r(321))}function Cf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!gn(t[a],i[a]))return!1;return!0}function Nf(t,i,a,l,h,d){return Yi=d,Ne=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=t===null||t.memoizedState===null?cy:Gf,Pr=!1,d=a(l,h),Pr=!1,Ma&&(d=Cg(i,a,l,h)),Ig(t),d}function Ig(t){F.H=cl;var i=Ze!==null&&Ze.next!==null;if(Yi=0,St=Ze=Ne=null,Zu=!1,ol=0,Va=null,i)throw Error(r(300));t===null||xt||(t=t.dependencies,t!==null&&Hu(t)&&(xt=!0))}function Cg(t,i,a,l){Ne=t;var h=0;do{if(Ma&&(Va=null),ol=0,Ma=!1,25<=h)throw Error(r(301));if(h+=1,St=Ze=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}F.H=hy,d=i(a,l)}while(Ma);return d}function Cw(){var t=F.H,i=t.useState()[0];return i=typeof i.then=="function"?ll(i):i,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Ne.flags|=1024),i}function Df(){var t=Wu!==0;return Wu=0,t}function Of(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Mf(t){if(Zu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Zu=!1}Yi=0,St=Ze=Ne=null,Ma=!1,ol=Wu=0,Va=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Ne.memoizedState=St=t:St=St.next=t,St}function gt(){if(Ze===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var i=St===null?Ne.memoizedState:St.next;if(i!==null)St=i,Ze=t;else{if(t===null)throw Ne.alternate===null?Error(r(467)):Error(r(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},St===null?Ne.memoizedState=St=t:St=St.next=t}return St}function ec(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ll(t){var i=ol;return ol+=1,Va===null&&(Va=[]),t=vg(Va,t,i),i=Ne,(St===null?i.memoizedState:St.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?cy:Gf),t}function tc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ll(t);if(t.$$typeof===ye)return qt(t)}throw Error(r(438,String(t)))}function Vf(t){var i=null,a=Ne.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=ec(),Ne.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=M;return i.index++,a}function Qi(t,i){return typeof i=="function"?i(t):i}function nc(t){var i=gt();return kf(i,Ze,t)}function kf(t,i,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var y=h.next;h.next=d.next,d.next=y}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var E=y=null,N=null,P=i,Y=!1;do{var X=P.lane&-536870913;if(X!==P.lane?(ke&X)===X:(Yi&X)===X){var z=P.revertLane;if(z===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),X===Ia&&(Y=!0);else if((Yi&z)===z){P=P.next,z===Ia&&(Y=!0);continue}else X={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},N===null?(E=N=X,y=d):N=N.next=X,Ne.lanes|=z,ks|=z;X=P.action,Pr&&a(d,X),d=P.hasEagerState?P.eagerState:a(d,X)}else z={lane:X,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},N===null?(E=N=z,y=d):N=N.next=z,Ne.lanes|=X,ks|=X;P=P.next}while(P!==null&&P!==i);if(N===null?y=d:N.next=E,!gn(d,t.memoizedState)&&(xt=!0,Y&&(a=Ca,a!==null)))throw a;t.memoizedState=d,t.baseState=y,t.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Lf(t){var i=gt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do d=t(d,y.action),y=y.next;while(y!==h);gn(d,i.memoizedState)||(xt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Ng(t,i,a){var l=Ne,h=gt(),d=ze;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var y=!gn((Ze||h).memoizedState,a);if(y&&(h.memoizedState=a,xt=!0),h=h.queue,Pf(Mg.bind(null,l,h,t),[t]),h.getSnapshot!==i||y||St!==null&&St.memoizedState.tag&1){if(l.flags|=2048,ka(9,{destroy:void 0},Og.bind(null,l,h,a,i),null),tt===null)throw Error(r(349));d||(Yi&127)!==0||Dg(l,i,a)}return a}function Dg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ne.updateQueue,i===null?(i=ec(),Ne.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Og(t,i,a,l){i.value=a,i.getSnapshot=l,Vg(i)&&kg(t)}function Mg(t,i,a){return a(function(){Vg(i)&&kg(t)})}function Vg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!gn(t,a)}catch{return!0}}function kg(t){var i=Nr(t,2);i!==null&&hn(i,t,2)}function Uf(t){var i=nn();if(typeof t=="function"){var a=t;if(t=a(),Pr){Sn(!0);try{a()}finally{Sn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:t},i}function Lg(t,i,a,l){return t.baseState=a,kf(t,Ze,typeof l=="function"?l:Qi)}function Nw(t,i,a,l,h){if(rc(t))throw Error(r(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};F.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Ug(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Ug(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=F.T,y={};F.T=y;try{var E=a(h,l),N=F.S;N!==null&&N(y,E),jg(t,i,E)}catch(P){jf(t,i,P)}finally{d!==null&&y.types!==null&&(d.types=y.types),F.T=d}}else try{d=a(h,l),jg(t,i,d)}catch(P){jf(t,i,P)}}function jg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Pg(t,i,l)},function(l){return jf(t,i,l)}):Pg(t,i,a)}function Pg(t,i,a){i.status="fulfilled",i.value=a,zg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Ug(t,a)))}function jf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,zg(i),i=i.next;while(i!==l)}t.action=null}function zg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Bg(t,i){return i}function qg(t,i){if(ze){var a=tt.formState;if(a!==null){e:{var l=Ne;if(ze){if(st){t:{for(var h=st,d=Vn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Ln(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){st=Ln(h.nextSibling),l=h.data==="F!";break e}}xs(l)}l=!1}l&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bg,lastRenderedState:i},a.queue=l,a=oy.bind(null,Ne,l),l.dispatch=a,l=Uf(!1),d=Ff.bind(null,Ne,!1,l.queue),l=nn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=Nw.bind(null,Ne,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Hg(t){var i=gt();return Fg(i,Ze,t)}function Fg(t,i,a){if(i=kf(t,i,Bg)[0],t=nc(Qi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ll(i)}catch(y){throw y===Na?Yu:y}else l=i;i=gt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ne.flags|=2048,ka(9,{destroy:void 0},Dw.bind(null,h,a),null)),[l,d,t]}function Dw(t,i){t.action=i}function Gg(t){var i=gt(),a=Ze;if(a!==null)return Fg(i,a,t);gt(),i=i.memoizedState,a=gt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function ka(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ne.updateQueue,i===null&&(i=ec(),Ne.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Yg(){return gt().memoizedState}function ic(t,i,a,l){var h=nn();Ne.flags|=t,h.memoizedState=ka(1|i,{destroy:void 0},a,l===void 0?null:l)}function sc(t,i,a,l){var h=gt();l=l===void 0?null:l;var d=h.memoizedState.inst;Ze!==null&&l!==null&&Cf(l,Ze.memoizedState.deps)?h.memoizedState=ka(i,d,a,l):(Ne.flags|=t,h.memoizedState=ka(1|i,d,a,l))}function Qg(t,i){ic(8390656,8,t,i)}function Pf(t,i){sc(2048,8,t,i)}function Ow(t){Ne.flags|=4;var i=Ne.updateQueue;if(i===null)i=ec(),Ne.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Kg(t){var i=gt().memoizedState;return Ow({ref:i,nextImpl:t}),function(){if((Ye&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Xg(t,i){return sc(4,2,t,i)}function $g(t,i){return sc(4,4,t,i)}function Jg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Zg(t,i,a){a=a!=null?a.concat([t]):null,sc(4,4,Jg.bind(null,i,t),a)}function zf(){}function Wg(t,i){var a=gt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Cf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function ey(t,i){var a=gt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Cf(i,l[1]))return l[0];if(l=t(),Pr){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[l,i],l}function Bf(t,i,a){return a===void 0||(Yi&1073741824)!==0&&(ke&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=t_(),Ne.lanes|=t,ks|=t,a)}function ty(t,i,a,l){return gn(a,i)?a:Oa.current!==null?(t=Bf(t,a,l),gn(t,i)||(xt=!0),t):(Yi&42)===0||(Yi&1073741824)!==0&&(ke&261930)===0?(xt=!0,t.memoizedState=a):(t=t_(),Ne.lanes|=t,ks|=t,i)}function ny(t,i,a,l,h){var d=ne.p;ne.p=d!==0&&8>d?d:8;var y=F.T,E={};F.T=E,Ff(t,!1,i,a);try{var N=h(),P=F.S;if(P!==null&&P(E,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Y=Rw(N,l);ul(t,i,Y,bn(t))}else ul(t,i,l,bn(t))}catch(X){ul(t,i,{then:function(){},status:"rejected",reason:X},bn())}finally{ne.p=d,y!==null&&E.types!==null&&(y.types=E.types),F.T=y}}function Mw(){}function qf(t,i,a,l){if(t.tag!==5)throw Error(r(476));var h=iy(t).queue;ny(t,h,i,re,a===null?Mw:function(){return sy(t),a(l)})}function iy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:re},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function sy(t){var i=iy(t);i.next===null&&(i=t.alternate.memoizedState),ul(t,i.next.queue,{},bn())}function Hf(){return qt(xl)}function ry(){return gt().memoizedState}function ay(){return gt().memoizedState}function Vw(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=bn();t=Cs(a);var l=Ns(i,t,a);l!==null&&(hn(l,i,a),sl(l,i,a)),i={cache:_f()},t.payload=i;return}i=i.return}}function kw(t,i,a){var l=bn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},rc(t)?ly(i,a):(a=of(t,i,a,l),a!==null&&(hn(a,t,l),uy(a,i,l)))}function oy(t,i,a){var l=bn();ul(t,i,a,l)}function ul(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(rc(t))ly(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var y=i.lastRenderedState,E=d(y,a);if(h.hasEagerState=!0,h.eagerState=E,gn(E,y))return Pu(t,i,h,0),tt===null&&ju(),!1}catch{}if(a=of(t,i,h,l),a!==null)return hn(a,t,l),uy(a,i,l),!0}return!1}function Ff(t,i,a,l){if(l={lane:2,revertLane:bd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},rc(t)){if(i)throw Error(r(479))}else i=of(t,a,l,2),i!==null&&hn(i,t,2)}function rc(t){var i=t.alternate;return t===Ne||i!==null&&i===Ne}function ly(t,i){Ma=Zu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function uy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Do(t,a)}}var cl={readContext:qt,use:tc,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};cl.useEffectEvent=ct;var cy={readContext:qt,use:tc,useCallback:function(t,i){return nn().memoizedState=[t,i===void 0?null:i],t},useContext:qt,useEffect:Qg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,ic(4194308,4,Jg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return ic(4194308,4,t,i)},useInsertionEffect:function(t,i){ic(4,2,t,i)},useMemo:function(t,i){var a=nn();i=i===void 0?null:i;var l=t();if(Pr){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=nn();if(a!==void 0){var h=a(i);if(Pr){Sn(!0);try{a(i)}finally{Sn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=kw.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var i=nn();return t={current:t},i.memoizedState=t},useState:function(t){t=Uf(t);var i=t.queue,a=oy.bind(null,Ne,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:zf,useDeferredValue:function(t,i){var a=nn();return Bf(a,t,i)},useTransition:function(){var t=Uf(!1);return t=ny.bind(null,Ne,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ne,h=nn();if(ze){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),tt===null)throw Error(r(349));(ke&127)!==0||Dg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Qg(Mg.bind(null,l,d,t),[t]),l.flags|=2048,ka(9,{destroy:void 0},Og.bind(null,l,d,a,i),null),a},useId:function(){var t=nn(),i=tt.identifierPrefix;if(ze){var a=Ai,l=wi;a=(l&~(1<<32-dt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Wu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=Iw++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Hf,useFormState:qg,useActionState:qg,useOptimistic:function(t){var i=nn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Ff.bind(null,Ne,!0,a),a.dispatch=i,[t,i]},useMemoCache:Vf,useCacheRefresh:function(){return nn().memoizedState=Vw.bind(null,Ne)},useEffectEvent:function(t){var i=nn(),a={impl:t};return i.memoizedState=a,function(){if((Ye&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Gf={readContext:qt,use:tc,useCallback:Wg,useContext:qt,useEffect:Pf,useImperativeHandle:Zg,useInsertionEffect:Xg,useLayoutEffect:$g,useMemo:ey,useReducer:nc,useRef:Yg,useState:function(){return nc(Qi)},useDebugValue:zf,useDeferredValue:function(t,i){var a=gt();return ty(a,Ze.memoizedState,t,i)},useTransition:function(){var t=nc(Qi)[0],i=gt().memoizedState;return[typeof t=="boolean"?t:ll(t),i]},useSyncExternalStore:Ng,useId:ry,useHostTransitionStatus:Hf,useFormState:Hg,useActionState:Hg,useOptimistic:function(t,i){var a=gt();return Lg(a,Ze,t,i)},useMemoCache:Vf,useCacheRefresh:ay};Gf.useEffectEvent=Kg;var hy={readContext:qt,use:tc,useCallback:Wg,useContext:qt,useEffect:Pf,useImperativeHandle:Zg,useInsertionEffect:Xg,useLayoutEffect:$g,useMemo:ey,useReducer:Lf,useRef:Yg,useState:function(){return Lf(Qi)},useDebugValue:zf,useDeferredValue:function(t,i){var a=gt();return Ze===null?Bf(a,t,i):ty(a,Ze.memoizedState,t,i)},useTransition:function(){var t=Lf(Qi)[0],i=gt().memoizedState;return[typeof t=="boolean"?t:ll(t),i]},useSyncExternalStore:Ng,useId:ry,useHostTransitionStatus:Hf,useFormState:Gg,useActionState:Gg,useOptimistic:function(t,i){var a=gt();return Ze!==null?Lg(a,Ze,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Vf,useCacheRefresh:ay};hy.useEffectEvent=Kg;function Yf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:A({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Qf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=bn(),h=Cs(l);h.payload=i,a!=null&&(h.callback=a),i=Ns(t,h,l),i!==null&&(hn(i,t,l),sl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=bn(),h=Cs(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ns(t,h,l),i!==null&&(hn(i,t,l),sl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=bn(),l=Cs(a);l.tag=2,i!=null&&(l.callback=i),i=Ns(t,l,a),i!==null&&(hn(i,t,a),sl(i,t,a))}};function fy(t,i,a,l,h,d,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,y):i.prototype&&i.prototype.isPureReactComponent?!$o(a,l)||!$o(h,d):!0}function dy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Qf.enqueueReplaceState(i,i.state,null)}function zr(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=A({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function my(t){Uu(t)}function py(t){console.error(t)}function gy(t){Uu(t)}function ac(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function yy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Kf(t,i,a){return a=Cs(a),a.tag=3,a.payload={element:null},a.callback=function(){ac(t,i)},a}function _y(t){return t=Cs(t),t.tag=3,t}function vy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){yy(i,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){yy(i,a,l),typeof h!="function"&&(Ls===null?Ls=new Set([this]):Ls.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function Lw(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ra(i,a,h,!0),a=_n.current,a!==null){switch(a.tag){case 31:case 13:return kn===null?_c():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Qu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),vd(t,l,h)),!1;case 22:return a.flags|=65536,l===Qu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),vd(t,l,h)),!1}throw Error(r(435,a.tag))}return vd(t,l,h),_c(),!1}if(ze)return i=_n.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==df&&(t=Error(r(422),{cause:l}),Wo(Dn(t,a)))):(l!==df&&(i=Error(r(423),{cause:l}),Wo(Dn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Dn(l,a),h=Kf(t.stateNode,l,h),Af(t,h),ht!==4&&(ht=2)),!1;var d=Error(r(520),{cause:l});if(d=Dn(d,a),_l===null?_l=[d]:_l.push(d),ht!==4&&(ht=2),i===null)return!0;l=Dn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Kf(a.stateNode,l,t),Af(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ls===null||!Ls.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=_y(h),vy(h,t,a,l),Af(a,h),!1}a=a.return}while(a!==null);return!1}var Xf=Error(r(461)),xt=!1;function Ht(t,i,a,l){i.child=t===null?wg(i,null,a,l):jr(i,t.child,a,l)}function Ty(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return Vr(i),l=Nf(t,i,a,y,d,h),E=Df(),t!==null&&!xt?(Of(t,i,h),Ki(t,i,h)):(ze&&E&&hf(i),i.flags|=1,Ht(t,i,l,h),i.child)}function Ey(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!lf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,by(t,i,d,l,h)):(t=Bu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!id(t,h)){var y=d.memoizedProps;if(a=a.compare,a=a!==null?a:$o,a(y,l)&&t.ref===i.ref)return Ki(t,i,h)}return i.flags|=1,t=qi(d,l),t.ref=i.ref,t.return=i,i.child=t}function by(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if($o(d,l)&&t.ref===i.ref)if(xt=!1,i.pendingProps=l=d,id(t,h))(t.flags&131072)!==0&&(xt=!0);else return i.lanes=t.lanes,Ki(t,i,h)}return $f(t,i,a,l,h)}function wy(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Ay(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Gu(i,d!==null?d.cachePool:null),d!==null?xg(i,d):xf(),Rg(i);else return l=i.lanes=536870912,Ay(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Gu(i,d.cachePool),xg(i,d),Os(),i.memoizedState=null):(t!==null&&Gu(i,null),xf(),Os());return Ht(t,i,h,a),i.child}function hl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Ay(t,i,a,l,h){var d=Tf();return d=d===null?null:{parent:At._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Gu(i,null),xf(),Rg(i),t!==null&&Ra(t,i,l,!0),i.childLanes=h,null}function oc(t,i){return i=uc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Sy(t,i,a){return jr(i,t.child,null,a),t=oc(i,i.pendingProps),t.flags|=2,vn(i),i.memoizedState=null,t}function Uw(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(ze){if(l.mode==="hidden")return t=oc(i,l),i.lanes=536870912,hl(null,t);if(If(i),(t=st)?(t=U_(t,Vn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:As!==null?{id:wi,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=lg(t),a.return=i,i.child=a,Bt=i,st=null)):t=null,t===null)throw xs(i);return i.lanes=536870912,null}return oc(i,l)}var d=t.memoizedState;if(d!==null){var y=d.dehydrated;if(If(i),h)if(i.flags&256)i.flags&=-257,i=Sy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(xt||Ra(t,i,a,!1),h=(a&t.childLanes)!==0,xt||h){if(l=tt,l!==null&&(y=Oo(l,a),y!==0&&y!==d.retryLane))throw d.retryLane=y,Nr(t,y),hn(l,t,y),Xf;_c(),i=Sy(t,i,a)}else t=d.treeContext,st=Ln(y.nextSibling),Bt=i,ze=!0,Ss=null,Vn=!1,t!==null&&hg(i,t),i=oc(i,l),i.flags|=4096;return i}return t=qi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function lc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function $f(t,i,a,l,h){return Vr(i),a=Nf(t,i,a,l,void 0,h),l=Df(),t!==null&&!xt?(Of(t,i,h),Ki(t,i,h)):(ze&&l&&hf(i),i.flags|=1,Ht(t,i,a,h),i.child)}function xy(t,i,a,l,h,d){return Vr(i),i.updateQueue=null,a=Cg(i,l,a,h),Ig(t),l=Df(),t!==null&&!xt?(Of(t,i,d),Ki(t,i,d)):(ze&&l&&hf(i),i.flags|=1,Ht(t,i,a,d),i.child)}function Ry(t,i,a,l,h){if(Vr(i),i.stateNode===null){var d=wa,y=a.contextType;typeof y=="object"&&y!==null&&(d=qt(y)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Qf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},bf(i),y=a.contextType,d.context=typeof y=="object"&&y!==null?qt(y):wa,d.state=i.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Yf(i,a,y,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&Qf.enqueueReplaceState(d,d.state,null),al(i,l,d,h),rl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var E=i.memoizedProps,N=zr(a,E);d.props=N;var P=d.context,Y=a.contextType;y=wa,typeof Y=="object"&&Y!==null&&(y=qt(Y));var X=a.getDerivedStateFromProps;Y=typeof X=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||P!==y)&&dy(i,d,l,y),Is=!1;var z=i.memoizedState;d.state=z,al(i,l,d,h),rl(),P=i.memoizedState,E||z!==P||Is?(typeof X=="function"&&(Yf(i,a,X,l),P=i.memoizedState),(N=Is||fy(i,a,N,l,z,P,y))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=P),d.props=l,d.state=P,d.context=y,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,wf(t,i),y=i.memoizedProps,Y=zr(a,y),d.props=Y,X=i.pendingProps,z=d.context,P=a.contextType,N=wa,typeof P=="object"&&P!==null&&(N=qt(P)),E=a.getDerivedStateFromProps,(P=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==X||z!==N)&&dy(i,d,l,N),Is=!1,z=i.memoizedState,d.state=z,al(i,l,d,h),rl();var H=i.memoizedState;y!==X||z!==H||Is||t!==null&&t.dependencies!==null&&Hu(t.dependencies)?(typeof E=="function"&&(Yf(i,a,E,l),H=i.memoizedState),(Y=Is||fy(i,a,Y,l,z,H,N)||t!==null&&t.dependencies!==null&&Hu(t.dependencies))?(P||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=N,l=Y):(typeof d.componentDidUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,lc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=jr(i,t.child,null,h),i.child=jr(i,null,a,h)):Ht(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Ki(t,i,h),t}function Iy(t,i,a,l){return Or(),i.flags|=256,Ht(t,i,a,l),i.child}var Jf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zf(t){return{baseLanes:t,cachePool:yg()}}function Wf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=En),t}function Cy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,y;if((y=d)||(y=t!==null&&t.memoizedState===null?!1:(pt.current&2)!==0),y&&(h=!0,i.flags&=-129),y=(i.flags&32)!==0,i.flags&=-33,t===null){if(ze){if(h?Ds(i):Os(),(t=st)?(t=U_(t,Vn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:As!==null?{id:wi,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=lg(t),a.return=i,i.child=a,Bt=i,st=null)):t=null,t===null)throw xs(i);return kd(t)?i.lanes=32:i.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Os(),h=i.mode,E=uc({mode:"hidden",children:E},h),l=Dr(l,h,a,null),E.return=i,l.return=i,E.sibling=l,i.child=E,l=i.child,l.memoizedState=Zf(a),l.childLanes=Wf(t,y,a),i.memoizedState=Jf,hl(null,l)):(Ds(i),ed(i,E))}var N=t.memoizedState;if(N!==null&&(E=N.dehydrated,E!==null)){if(d)i.flags&256?(Ds(i),i.flags&=-257,i=td(t,i,a)):i.memoizedState!==null?(Os(),i.child=t.child,i.flags|=128,i=null):(Os(),E=l.fallback,h=i.mode,l=uc({mode:"visible",children:l.children},h),E=Dr(E,h,a,null),E.flags|=2,l.return=i,E.return=i,l.sibling=E,i.child=l,jr(i,t.child,null,a),l=i.child,l.memoizedState=Zf(a),l.childLanes=Wf(t,y,a),i.memoizedState=Jf,i=hl(null,l));else if(Ds(i),kd(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var P=y.dgst;y=P,l=Error(r(419)),l.stack="",l.digest=y,Wo({value:l,source:null,stack:null}),i=td(t,i,a)}else if(xt||Ra(t,i,a,!1),y=(a&t.childLanes)!==0,xt||y){if(y=tt,y!==null&&(l=Oo(y,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Nr(t,l),hn(y,t,l),Xf;Vd(E)||_c(),i=td(t,i,a)}else Vd(E)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,st=Ln(E.nextSibling),Bt=i,ze=!0,Ss=null,Vn=!1,t!==null&&hg(i,t),i=ed(i,l.children),i.flags|=4096);return i}return h?(Os(),E=l.fallback,h=i.mode,N=t.child,P=N.sibling,l=qi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,P!==null?E=qi(P,E):(E=Dr(E,h,a,null),E.flags|=2),E.return=i,l.return=i,l.sibling=E,i.child=l,hl(null,l),l=i.child,E=t.child.memoizedState,E===null?E=Zf(a):(h=E.cachePool,h!==null?(N=At._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=yg(),E={baseLanes:E.baseLanes|a,cachePool:h}),l.memoizedState=E,l.childLanes=Wf(t,y,a),i.memoizedState=Jf,hl(t.child,l)):(Ds(i),a=t.child,t=a.sibling,a=qi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(y=i.deletions,y===null?(i.deletions=[t],i.flags|=16):y.push(t)),i.child=a,i.memoizedState=null,a)}function ed(t,i){return i=uc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function uc(t,i){return t=yn(22,t,null,i),t.lanes=0,t}function td(t,i,a){return jr(i,t.child,null,a),t=ed(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Ny(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),gf(t.return,i,a)}function nd(t,i,a,l,h,d){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=a,y.tailMode=h,y.treeForkCount=d)}function Dy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var y=pt.current,E=(y&2)!==0;if(E?(y=y&1|2,i.flags|=128):y&=1,ie(pt,y),Ht(t,i,l,a),l=ze?Zo:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ny(t,a,i);else if(t.tag===19)Ny(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Ju(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),nd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Ju(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}nd(i,!0,a,null,d,l);break;case"together":nd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Ki(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),ks|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ra(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=qi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=qi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function id(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Hu(t)))}function jw(t,i,a){switch(i.tag){case 3:ft(i,i.stateNode.containerInfo),Rs(i,At,t.memoizedState.cache),Or();break;case 27:case 5:Ui(i);break;case 4:ft(i,i.stateNode.containerInfo);break;case 10:Rs(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,If(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ds(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Cy(t,i,a):(Ds(i),t=Ki(t,i,a),t!==null?t.sibling:null);Ds(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ra(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Dy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(pt,pt.current),l)break;return null;case 22:return i.lanes=0,wy(t,i,a,i.pendingProps);case 24:Rs(i,At,t.memoizedState.cache)}return Ki(t,i,a)}function Oy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)xt=!0;else{if(!id(t,a)&&(i.flags&128)===0)return xt=!1,jw(t,i,a);xt=(t.flags&131072)!==0}else xt=!1,ze&&(i.flags&1048576)!==0&&cg(i,Zo,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Lr(i.elementType),i.type=t,typeof t=="function")lf(t)?(l=zr(t,l),i.tag=1,i=Ry(null,i,t,l,a)):(i.tag=0,i=$f(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===Se){i.tag=11,i=Ty(null,i,t,l,a);break e}else if(h===D){i.tag=14,i=Ey(null,i,t,l,a);break e}}throw i=we(t)||t,Error(r(306,i,""))}}return i;case 0:return $f(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=zr(l,i.pendingProps),Ry(t,i,l,h,a);case 3:e:{if(ft(i,i.stateNode.containerInfo),t===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,wf(t,i),al(i,l,null,a);var y=i.memoizedState;if(l=y.cache,Rs(i,At,l),l!==d.cache&&yf(i,[At],a,!0),rl(),l=y.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:y.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Iy(t,i,l,a);break e}else if(l!==h){h=Dn(Error(r(424)),i),Wo(h),i=Iy(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,st=Ln(t.firstChild),Bt=i,ze=!0,Ss=null,Vn=!0,a=wg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Or(),l===h){i=Ki(t,i,a);break e}Ht(t,i,l,a)}i=i.child}return i;case 26:return lc(t,i),t===null?(a=H_(i.type,null,i.pendingProps,null))?i.memoizedState=a:ze||(a=i.type,t=i.pendingProps,l=Sc(Te.current).createElement(a),l[Et]=i,l[kt]=t,Ft(l,a,t),bt(l),i.stateNode=l):i.memoizedState=H_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ui(i),t===null&&ze&&(l=i.stateNode=z_(i.type,i.pendingProps,Te.current),Bt=i,Vn=!0,h=st,zs(i.type)?(Ld=h,st=Ln(l.firstChild)):st=h),Ht(t,i,i.pendingProps.children,a),lc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ze&&((h=l=st)&&(l=mA(l,i.type,i.pendingProps,Vn),l!==null?(i.stateNode=l,Bt=i,st=Ln(l.firstChild),Vn=!1,h=!0):h=!1),h||xs(i)),Ui(i),h=i.type,d=i.pendingProps,y=t!==null?t.memoizedProps:null,l=d.children,Dd(h,d)?l=null:y!==null&&Dd(h,y)&&(i.flags|=32),i.memoizedState!==null&&(h=Nf(t,i,Cw,null,null,a),xl._currentValue=h),lc(t,i),Ht(t,i,l,a),i.child;case 6:return t===null&&ze&&((t=a=st)&&(a=pA(a,i.pendingProps,Vn),a!==null?(i.stateNode=a,Bt=i,st=null,t=!0):t=!1),t||xs(i)),null;case 13:return Cy(t,i,a);case 4:return ft(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=jr(i,null,l,a):Ht(t,i,l,a),i.child;case 11:return Ty(t,i,i.type,i.pendingProps,a);case 7:return Ht(t,i,i.pendingProps,a),i.child;case 8:return Ht(t,i,i.pendingProps.children,a),i.child;case 12:return Ht(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Rs(i,i.type,l.value),Ht(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Vr(i),h=qt(h),l=l(h),i.flags|=1,Ht(t,i,l,a),i.child;case 14:return Ey(t,i,i.type,i.pendingProps,a);case 15:return by(t,i,i.type,i.pendingProps,a);case 19:return Dy(t,i,a);case 31:return Uw(t,i,a);case 22:return wy(t,i,a,i.pendingProps);case 24:return Vr(i),l=qt(At),t===null?(h=Tf(),h===null&&(h=tt,d=_f(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},bf(i),Rs(i,At,h)):((t.lanes&a)!==0&&(wf(t,i),al(i,null,null,a),rl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Rs(i,At,l)):(l=d.cache,Rs(i,At,l),l!==h.cache&&yf(i,[At],a,!0))),Ht(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Xi(t){t.flags|=4}function sd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(r_())t.flags|=8192;else throw Ur=Qu,Ef}else t.flags&=-16777217}function My(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!K_(i))if(r_())t.flags|=8192;else throw Ur=Qu,Ef}function cc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?gu():536870912,t.lanes|=i,Pa|=i)}function fl(t,i){if(!ze)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function Pw(t,i,a){var l=i.pendingProps;switch(ff(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Gi(At),nt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(xa(i)?Xi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,mf())),rt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Xi(i),d!==null?(rt(i),My(i,d)):(rt(i),sd(i,h,null,l,a))):d?d!==t.memoizedState?(Xi(i),rt(i),My(i,d)):(rt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Xi(i),rt(i),sd(i,h,t,l,a)),null;case 27:if(sa(i),a=Te.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Xi(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return rt(i),null}t=Z.current,xa(i)?fg(i):(t=z_(h,l,a),i.stateNode=t,Xi(i))}return rt(i),null;case 5:if(sa(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Xi(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return rt(i),null}if(d=Z.current,xa(i))fg(i);else{var y=Sc(Te.current);switch(d){case 1:d=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=y.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?y.createElement(h,{is:l.is}):y.createElement(h)}}d[Et]=i,d[kt]=l;e:for(y=i.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===i)break e;for(;y.sibling===null;){if(y.return===null||y.return===i)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}i.stateNode=d;e:switch(Ft(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Xi(i)}}return rt(i),sd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Xi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(t=Te.current,xa(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Bt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Et]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||C_(t.nodeValue,a)),t||xs(i,!0)}else t=Sc(t).createTextNode(l),t[Et]=i,i.stateNode=t}return rt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=xa(i),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Et]=i}else Or(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),t=!1}else a=mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(vn(i),i):(vn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return rt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=xa(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Et]=i}else Or(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),h=!1}else h=mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(vn(i),i):(vn(i),null)}return vn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),cc(i,i.updateQueue),rt(i),null);case 4:return nt(),t===null&&xd(i.stateNode.containerInfo),rt(i),null;case 10:return Gi(i.type),rt(i),null;case 19:if(G(pt),l=i.memoizedState,l===null)return rt(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)fl(l,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Ju(t),d!==null){for(i.flags|=128,fl(l,!1),t=d.updateQueue,i.updateQueue=t,cc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)og(a,t),a=a.sibling;return ie(pt,pt.current&1|2),ze&&Hi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&en()>pc&&(i.flags|=128,h=!0,fl(l,!1),i.lanes=4194304)}else{if(!h)if(t=Ju(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,cc(i,t),fl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!ze)return rt(i),null}else 2*en()-l.renderingStartTime>pc&&a!==536870912&&(i.flags|=128,h=!0,fl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=en(),t.sibling=null,a=pt.current,ie(pt,h?a&1|2:a&1),ze&&Hi(i,l.treeForkCount),t):(rt(i),null);case 22:case 23:return vn(i),Rf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),a=i.updateQueue,a!==null&&cc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&G(kr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Gi(At),rt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function zw(t,i){switch(ff(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Gi(At),nt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return sa(i),null;case 31:if(i.memoizedState!==null){if(vn(i),i.alternate===null)throw Error(r(340));Or()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(vn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Or()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return G(pt),null;case 4:return nt(),null;case 10:return Gi(i.type),null;case 22:case 23:return vn(i),Rf(),t!==null&&G(kr),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Gi(At),null;case 25:return null;default:return null}}function Vy(t,i){switch(ff(i),i.tag){case 3:Gi(At),nt();break;case 26:case 27:case 5:sa(i);break;case 4:nt();break;case 31:i.memoizedState!==null&&vn(i);break;case 13:vn(i);break;case 19:G(pt);break;case 10:Gi(i.type);break;case 22:case 23:vn(i),Rf(),t!==null&&G(kr);break;case 24:Gi(At)}}function dl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,y=a.inst;l=d(),y.destroy=l}a=a.next}while(a!==h)}}catch(E){$e(i,i.return,E)}}function Ms(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=i;var N=a,P=E;try{P()}catch(Y){$e(h,N,Y)}}}l=l.next}while(l!==d)}}catch(Y){$e(i,i.return,Y)}}function ky(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Sg(i,a)}catch(l){$e(t,t.return,l)}}}function Ly(t,i,a){a.props=zr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){$e(t,i,l)}}function ml(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){$e(t,i,h)}}function Si(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){$e(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$e(t,i,h)}else a.current=null}function Uy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){$e(t,t.return,h)}}function rd(t,i,a){try{var l=t.stateNode;lA(l,t.type,a,i),l[kt]=i}catch(h){$e(t,t.return,h)}}function jy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&zs(t.type)||t.tag===4}function ad(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&zs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function od(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Fn));else if(l!==4&&(l===27&&zs(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(od(t,i,a),t=t.sibling;t!==null;)od(t,i,a),t=t.sibling}function hc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&zs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(hc(t,i,a),t=t.sibling;t!==null;)hc(t,i,a),t=t.sibling}function Py(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ft(i,l,a),i[Et]=t,i[kt]=a}catch(d){$e(t,t.return,d)}}var $i=!1,Rt=!1,ld=!1,zy=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function Bw(t,i){if(t=t.containerInfo,Cd=Oc,t=Zp(t),ef(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var y=0,E=-1,N=-1,P=0,Y=0,X=t,z=null;t:for(;;){for(var H;X!==a||h!==0&&X.nodeType!==3||(E=y+h),X!==d||l!==0&&X.nodeType!==3||(N=y+l),X.nodeType===3&&(y+=X.nodeValue.length),(H=X.firstChild)!==null;)z=X,X=H;for(;;){if(X===t)break t;if(z===a&&++P===h&&(E=y),z===d&&++Y===l&&(N=y),(H=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=H}a=E===-1||N===-1?null:{start:E,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Nd={focusedElem:t,selectionRange:a},Oc=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var he=zr(a.type,h);t=l.getSnapshotBeforeUpdate(he,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){$e(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Md(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Md(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}}function By(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Zi(t,a),l&4&&dl(5,a);break;case 1:if(Zi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(y){$e(a,a.return,y)}else{var h=zr(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(y){$e(a,a.return,y)}}l&64&&ky(a),l&512&&ml(a,a.return);break;case 3:if(Zi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Sg(t,i)}catch(y){$e(a,a.return,y)}}break;case 27:i===null&&l&4&&Py(a);case 26:case 5:Zi(t,a),i===null&&l&4&&Uy(a),l&512&&ml(a,a.return);break;case 12:Zi(t,a);break;case 31:Zi(t,a),l&4&&Fy(t,a);break;case 13:Zi(t,a),l&4&&Gy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=$w.bind(null,a),gA(t,a))));break;case 22:if(l=a.memoizedState!==null||$i,!l){i=i!==null&&i.memoizedState!==null||Rt,h=$i;var d=Rt;$i=l,(Rt=i)&&!d?Wi(t,a,(a.subtreeFlags&8772)!==0):Zi(t,a),$i=h,Rt=d}break;case 30:break;default:Zi(t,a)}}function qy(t){var i=t.alternate;i!==null&&(t.alternate=null,qy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ua(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,on=!1;function Ji(t,i,a){for(a=a.child;a!==null;)Hy(t,i,a),a=a.sibling}function Hy(t,i,a){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(zn,a)}catch{}switch(a.tag){case 26:Rt||Si(a,i),Ji(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Rt||Si(a,i);var l=lt,h=on;zs(a.type)&&(lt=a.stateNode,on=!1),Ji(t,i,a),wl(a.stateNode),lt=l,on=h;break;case 5:Rt||Si(a,i);case 6:if(l=lt,h=on,lt=null,Ji(t,i,a),lt=l,on=h,lt!==null)if(on)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(d){$e(a,i,d)}else try{lt.removeChild(a.stateNode)}catch(d){$e(a,i,d)}break;case 18:lt!==null&&(on?(t=lt,k_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Qa(t)):k_(lt,a.stateNode));break;case 4:l=lt,h=on,lt=a.stateNode.containerInfo,on=!0,Ji(t,i,a),lt=l,on=h;break;case 0:case 11:case 14:case 15:Ms(2,a,i),Rt||Ms(4,a,i),Ji(t,i,a);break;case 1:Rt||(Si(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Ly(a,i,l)),Ji(t,i,a);break;case 21:Ji(t,i,a);break;case 22:Rt=(l=Rt)||a.memoizedState!==null,Ji(t,i,a),Rt=l;break;default:Ji(t,i,a)}}function Fy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Qa(t)}catch(a){$e(i,i.return,a)}}}function Gy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Qa(t)}catch(a){$e(i,i.return,a)}}function qw(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new zy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new zy),i;default:throw Error(r(435,t.tag))}}function fc(t,i){var a=qw(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=Jw.bind(null,t,l);l.then(h,h)}})}function ln(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,y=i,E=y;e:for(;E!==null;){switch(E.tag){case 27:if(zs(E.type)){lt=E.stateNode,on=!1;break e}break;case 5:lt=E.stateNode,on=!1;break e;case 3:case 4:lt=E.stateNode.containerInfo,on=!0;break e}E=E.return}if(lt===null)throw Error(r(160));Hy(d,y,h),lt=null,on=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Yy(i,t),i=i.sibling}var $n=null;function Yy(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(i,t),un(t),l&4&&(Ms(3,t,t.return),dl(3,t),Ms(5,t,t.return));break;case 1:ln(i,t),un(t),l&512&&(Rt||a===null||Si(a,a.return)),l&64&&$i&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=$n;if(ln(i,t),un(t),l&512&&(Rt||a===null||Si(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[hi]||d[Et]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ft(d,l,a),d[Et]=t,bt(d),l=d;break e;case"link":var y=Y_("link","href",h).get(l+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(d=y[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;case"meta":if(y=Y_("meta","content",h).get(l+(a.content||""))){for(E=0;E<y.length;E++)if(d=y[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[Et]=t,bt(d),l=d}t.stateNode=l}else Q_(h,t.type,t.stateNode);else t.stateNode=G_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Q_(h,t.type,t.stateNode):G_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&rd(t,t.memoizedProps,a.memoizedProps)}break;case 27:ln(i,t),un(t),l&512&&(Rt||a===null||Si(a,a.return)),a!==null&&l&4&&rd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(ln(i,t),un(t),l&512&&(Rt||a===null||Si(a,a.return)),t.flags&32){h=t.stateNode;try{an(h,"")}catch(he){$e(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,rd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(ld=!0);break;case 6:if(ln(i,t),un(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){$e(t,t.return,he)}}break;case 3:if(Ic=null,h=$n,$n=xc(i.containerInfo),ln(i,t),$n=h,un(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Qa(i.containerInfo)}catch(he){$e(t,t.return,he)}ld&&(ld=!1,Qy(t));break;case 4:l=$n,$n=xc(t.stateNode.containerInfo),ln(i,t),un(t),$n=l;break;case 12:ln(i,t),un(t);break;case 31:ln(i,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,fc(t,l)));break;case 13:ln(i,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(mc=en()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,fc(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,P=$i,Y=Rt;if($i=P||h,Rt=Y||N,ln(i,t),Rt=Y,$i=P,un(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||$i||Rt||Br(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=N.stateNode;var X=N.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(he){$e(N,N.return,he)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(he){$e(N,N.return,he)}}}else if(i.tag===18){if(a===null){N=i;try{var H=N.stateNode;h?L_(H,!0):L_(N.stateNode,!1)}catch(he){$e(N,N.return,he)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,fc(t,a))));break;case 19:ln(i,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,fc(t,l)));break;case 30:break;case 21:break;default:ln(i,t),un(t)}}function un(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(jy(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=ad(t);hc(t,d,h);break;case 5:var y=a.stateNode;a.flags&32&&(an(y,""),a.flags&=-33);var E=ad(t);hc(t,E,y);break;case 3:case 4:var N=a.stateNode.containerInfo,P=ad(t);od(t,P,N);break;default:throw Error(r(161))}}catch(Y){$e(t,t.return,Y)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Qy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Qy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Zi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)By(t,i.alternate,i),i=i.sibling}function Br(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ms(4,i,i.return),Br(i);break;case 1:Si(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Ly(i,i.return,a),Br(i);break;case 27:wl(i.stateNode);case 26:case 5:Si(i,i.return),Br(i);break;case 22:i.memoizedState===null&&Br(i);break;case 30:Br(i);break;default:Br(i)}t=t.sibling}}function Wi(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,y=d.flags;switch(d.tag){case 0:case 11:case 15:Wi(h,d,a),dl(4,d);break;case 1:if(Wi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){$e(l,l.return,P)}if(l=d,h=l.updateQueue,h!==null){var E=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)Ag(N[h],E)}catch(P){$e(l,l.return,P)}}a&&y&64&&ky(d),ml(d,d.return);break;case 27:Py(d);case 26:case 5:Wi(h,d,a),a&&l===null&&y&4&&Uy(d),ml(d,d.return);break;case 12:Wi(h,d,a);break;case 31:Wi(h,d,a),a&&y&4&&Fy(h,d);break;case 13:Wi(h,d,a),a&&y&4&&Gy(h,d);break;case 22:d.memoizedState===null&&Wi(h,d,a),ml(d,d.return);break;case 30:break;default:Wi(h,d,a)}i=i.sibling}}function ud(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&el(a))}function cd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&el(t))}function Jn(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ky(t,i,a,l),i=i.sibling}function Ky(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Jn(t,i,a,l),h&2048&&dl(9,i);break;case 1:Jn(t,i,a,l);break;case 3:Jn(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&el(t)));break;case 12:if(h&2048){Jn(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,y=d.id,E=d.onPostCommit;typeof E=="function"&&E(y,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){$e(i,i.return,N)}}else Jn(t,i,a,l);break;case 31:Jn(t,i,a,l);break;case 13:Jn(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,y=i.alternate,i.memoizedState!==null?d._visibility&2?Jn(t,i,a,l):pl(t,i):d._visibility&2?Jn(t,i,a,l):(d._visibility|=2,La(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&ud(y,i);break;case 24:Jn(t,i,a,l),h&2048&&cd(i.alternate,i);break;default:Jn(t,i,a,l)}}function La(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,y=i,E=a,N=l,P=y.flags;switch(y.tag){case 0:case 11:case 15:La(d,y,E,N,h),dl(8,y);break;case 23:break;case 22:var Y=y.stateNode;y.memoizedState!==null?Y._visibility&2?La(d,y,E,N,h):pl(d,y):(Y._visibility|=2,La(d,y,E,N,h)),h&&P&2048&&ud(y.alternate,y);break;case 24:La(d,y,E,N,h),h&&P&2048&&cd(y.alternate,y);break;default:La(d,y,E,N,h)}i=i.sibling}}function pl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:pl(a,l),h&2048&&ud(l.alternate,l);break;case 24:pl(a,l),h&2048&&cd(l.alternate,l);break;default:pl(a,l)}i=i.sibling}}var gl=8192;function Ua(t,i,a){if(t.subtreeFlags&gl)for(t=t.child;t!==null;)Xy(t,i,a),t=t.sibling}function Xy(t,i,a){switch(t.tag){case 26:Ua(t,i,a),t.flags&gl&&t.memoizedState!==null&&IA(a,$n,t.memoizedState,t.memoizedProps);break;case 5:Ua(t,i,a);break;case 3:case 4:var l=$n;$n=xc(t.stateNode.containerInfo),Ua(t,i,a),$n=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=gl,gl=16777216,Ua(t,i,a),gl=l):Ua(t,i,a));break;default:Ua(t,i,a)}}function $y(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function yl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,Zy(l,t)}$y(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Jy(t),t=t.sibling}function Jy(t){switch(t.tag){case 0:case 11:case 15:yl(t),t.flags&2048&&Ms(9,t,t.return);break;case 3:yl(t);break;case 12:yl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,dc(t)):yl(t);break;default:yl(t)}}function dc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,Zy(l,t)}$y(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ms(8,i,i.return),dc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,dc(i));break;default:dc(i)}t=t.sibling}}function Zy(t,i){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Ms(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:el(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var h=l.sibling,d=l.return;if(qy(l),l===a){Ut=null;break e}if(h!==null){h.return=d,Ut=h;break e}Ut=d}}}var Hw={getCacheForType:function(t){var i=qt(At),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return qt(At).controller.signal}},Fw=typeof WeakMap=="function"?WeakMap:Map,Ye=0,tt=null,Me=null,ke=0,Xe=0,Tn=null,Vs=!1,ja=!1,hd=!1,es=0,ht=0,ks=0,qr=0,fd=0,En=0,Pa=0,_l=null,cn=null,dd=!1,mc=0,Wy=0,pc=1/0,gc=null,Ls=null,Mt=0,Us=null,za=null,ts=0,md=0,pd=null,e_=null,vl=0,gd=null;function bn(){return(Ye&2)!==0&&ke!==0?ke&-ke:F.T!==null?bd():yu()}function t_(){if(En===0)if((ke&536870912)===0||ze){var t=pr;pr<<=1,(pr&3932160)===0&&(pr=262144),En=t}else En=536870912;return t=_n.current,t!==null&&(t.flags|=32),En}function hn(t,i,a){(t===tt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(Ba(t,0),js(t,ke,En,!1)),gr(t,a),((Ye&2)===0||t!==tt)&&(t===tt&&((Ye&2)===0&&(qr|=a),ht===4&&js(t,ke,En,!1)),xi(t))}function n_(t,i,a){if((Ye&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Bn(t,i),h=l?Qw(t,i):_d(t,i,!0),d=l;do{if(h===0){ja&&!l&&js(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!Gw(a)){h=_d(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){i=y;e:{var E=t;h=_l;var N=E.current.memoizedState.isDehydrated;if(N&&(Ba(E,y).flags|=256),y=_d(E,y,!1),y!==2){if(hd&&!N){E.errorRecoveryDisabledLanes|=d,qr|=d,h=4;break e}d=cn,cn=h,d!==null&&(cn===null?cn=d:cn.push.apply(cn,d))}h=y}if(d=!1,h!==2)continue}}if(h===1){Ba(t,0),js(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:js(l,i,En,!Vs);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=mc+300-en(),10<h)){if(js(l,i,En,!Vs),li(l,0,!0)!==0)break e;ts=i,l.timeoutHandle=M_(i_.bind(null,l,a,cn,gc,dd,i,En,qr,Pa,Vs,d,"Throttled",-0,0),h);break e}i_(l,a,cn,gc,dd,i,En,qr,Pa,Vs,d,null,-0,0)}}break}while(!0);xi(t)}function i_(t,i,a,l,h,d,y,E,N,P,Y,X,z,H){if(t.timeoutHandle=-1,X=i.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fn},Xy(i,d,X);var he=(d&62914560)===d?mc-en():(d&4194048)===d?Wy-en():0;if(he=CA(X,he),he!==null){ts=d,t.cancelPendingCommit=he(h_.bind(null,t,i,d,a,l,h,y,E,N,Y,X,null,z,H)),js(t,d,y,!P);return}}h_(t,i,d,a,l,h,y,E,N)}function Gw(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!gn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function js(t,i,a,l){i&=~fd,i&=~qr,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-dt(h),y=1<<d;l[d]=-1,h&=~y}a!==0&&yr(t,a,i)}function yc(){return(Ye&6)===0?(Tl(0),!1):!0}function yd(){if(Me!==null){if(Xe===0)var t=Me.return;else t=Me,Fi=Mr=null,Mf(t),Da=null,nl=0,t=Me;for(;t!==null;)Vy(t.alternate,t),t=t.return;Me=null}}function Ba(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,hA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ts=0,yd(),tt=t,Me=a=qi(t.current,null),ke=i,Xe=0,Tn=null,Vs=!1,ja=Bn(t,i),hd=!1,Pa=En=fd=qr=ks=ht=0,cn=_l=null,dd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-dt(l),d=1<<h;i|=t[h],l&=~d}return es=i,ju(),a}function s_(t,i){Ne=null,F.H=cl,i===Na||i===Yu?(i=Tg(),Xe=3):i===Ef?(i=Tg(),Xe=4):Xe=i===Xf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Tn=i,Me===null&&(ht=1,ac(t,Dn(i,t.current)))}function r_(){var t=_n.current;return t===null?!0:(ke&4194048)===ke?kn===null:(ke&62914560)===ke||(ke&536870912)!==0?t===kn:!1}function a_(){var t=F.H;return F.H=cl,t===null?cl:t}function o_(){var t=F.A;return F.A=Hw,t}function _c(){ht=4,Vs||(ke&4194048)!==ke&&_n.current!==null||(ja=!0),(ks&134217727)===0&&(qr&134217727)===0||tt===null||js(tt,ke,En,!1)}function _d(t,i,a){var l=Ye;Ye|=2;var h=a_(),d=o_();(tt!==t||ke!==i)&&(gc=null,Ba(t,i)),i=!1;var y=ht;e:do try{if(Xe!==0&&Me!==null){var E=Me,N=Tn;switch(Xe){case 8:yd(),y=6;break e;case 3:case 2:case 9:case 6:_n.current===null&&(i=!0);var P=Xe;if(Xe=0,Tn=null,qa(t,E,N,P),a&&ja){y=0;break e}break;default:P=Xe,Xe=0,Tn=null,qa(t,E,N,P)}}Yw(),y=ht;break}catch(Y){s_(t,Y)}while(!0);return i&&t.shellSuspendCounter++,Fi=Mr=null,Ye=l,F.H=h,F.A=d,Me===null&&(tt=null,ke=0,ju()),y}function Yw(){for(;Me!==null;)l_(Me)}function Qw(t,i){var a=Ye;Ye|=2;var l=a_(),h=o_();tt!==t||ke!==i?(gc=null,pc=en()+500,Ba(t,i)):ja=Bn(t,i);e:do try{if(Xe!==0&&Me!==null){i=Me;var d=Tn;t:switch(Xe){case 1:Xe=0,Tn=null,qa(t,i,d,1);break;case 2:case 9:if(_g(d)){Xe=0,Tn=null,u_(i);break}i=function(){Xe!==2&&Xe!==9||tt!==t||(Xe=7),xi(t)},d.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:_g(d)?(Xe=0,Tn=null,u_(i)):(Xe=0,Tn=null,qa(t,i,d,7));break;case 5:var y=null;switch(Me.tag){case 26:y=Me.memoizedState;case 5:case 27:var E=Me;if(y?K_(y):E.stateNode.complete){Xe=0,Tn=null;var N=E.sibling;if(N!==null)Me=N;else{var P=E.return;P!==null?(Me=P,vc(P)):Me=null}break t}}Xe=0,Tn=null,qa(t,i,d,5);break;case 6:Xe=0,Tn=null,qa(t,i,d,6);break;case 8:yd(),ht=6;break e;default:throw Error(r(462))}}Kw();break}catch(Y){s_(t,Y)}while(!0);return Fi=Mr=null,F.H=l,F.A=h,Ye=a,Me!==null?0:(tt=null,ke=0,ju(),ht)}function Kw(){for(;Me!==null&&!Qh();)l_(Me)}function l_(t){var i=Oy(t.alternate,t,es);t.memoizedProps=t.pendingProps,i===null?vc(t):Me=i}function u_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=xy(a,i,i.pendingProps,i.type,void 0,ke);break;case 11:i=xy(a,i,i.pendingProps,i.type.render,i.ref,ke);break;case 5:Mf(i);default:Vy(a,i),i=Me=og(i,es),i=Oy(a,i,es)}t.memoizedProps=t.pendingProps,i===null?vc(t):Me=i}function qa(t,i,a,l){Fi=Mr=null,Mf(i),Da=null,nl=0;var h=i.return;try{if(Lw(t,h,i,a,ke)){ht=1,ac(t,Dn(a,t.current)),Me=null;return}}catch(d){if(h!==null)throw Me=h,d;ht=1,ac(t,Dn(a,t.current)),Me=null;return}i.flags&32768?(ze||l===1?t=!0:ja||(ke&536870912)!==0?t=!1:(Vs=t=!0,(l===2||l===9||l===3||l===6)&&(l=_n.current,l!==null&&l.tag===13&&(l.flags|=16384))),c_(i,t)):vc(i)}function vc(t){var i=t;do{if((i.flags&32768)!==0){c_(i,Vs);return}t=i.return;var a=Pw(i.alternate,i,es);if(a!==null){Me=a;return}if(i=i.sibling,i!==null){Me=i;return}Me=i=t}while(i!==null);ht===0&&(ht=5)}function c_(t,i){do{var a=zw(t.alternate,t);if(a!==null){a.flags&=32767,Me=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Me=t;return}Me=t=a}while(t!==null);ht=6,Me=null}function h_(t,i,a,l,h,d,y,E,N){t.cancelPendingCommit=null;do Tc();while(Mt!==0);if((Ye&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=af,$h(t,a,d,y,E,N),t===tt&&(Me=tt=null,ke=0),za=i,Us=t,ts=a,md=d,pd=h,e_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Zw(ms,function(){return g_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=ne.p,ne.p=2,y=Ye,Ye|=4;try{Bw(t,i,a)}finally{Ye=y,ne.p=h,F.T=l}}Mt=1,f_(),d_(),m_()}}function f_(){if(Mt===1){Mt=0;var t=Us,i=za,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=ne.p;ne.p=2;var h=Ye;Ye|=4;try{Yy(i,t);var d=Nd,y=Zp(t.containerInfo),E=d.focusedElem,N=d.selectionRange;if(y!==E&&E&&E.ownerDocument&&Jp(E.ownerDocument.documentElement,E)){if(N!==null&&ef(E)){var P=N.start,Y=N.end;if(Y===void 0&&(Y=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(Y,E.value.length);else{var X=E.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var H=z.getSelection(),he=E.textContent.length,_e=Math.min(N.start,he),et=N.end===void 0?_e:Math.min(N.end,he);!H.extend&&_e>et&&(y=et,et=_e,_e=y);var L=$p(E,_e),V=$p(E,et);if(L&&V&&(H.rangeCount!==1||H.anchorNode!==L.node||H.anchorOffset!==L.offset||H.focusNode!==V.node||H.focusOffset!==V.offset)){var j=X.createRange();j.setStart(L.node,L.offset),H.removeAllRanges(),_e>et?(H.addRange(j),H.extend(V.node,V.offset)):(j.setEnd(V.node,V.offset),H.addRange(j))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Q=X[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Oc=!!Cd,Nd=Cd=null}finally{Ye=h,ne.p=l,F.T=a}}t.current=i,Mt=2}}function d_(){if(Mt===2){Mt=0;var t=Us,i=za,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=ne.p;ne.p=2;var h=Ye;Ye|=4;try{By(t,i.alternate,i)}finally{Ye=h,ne.p=l,F.T=a}}Mt=3}}function m_(){if(Mt===4||Mt===3){Mt=0,cu();var t=Us,i=za,a=ts,l=e_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Mt=5:(Mt=0,za=Us=null,p_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ls=null),ji(a),i=i.stateNode,Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(zn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=F.T,h=ne.p,ne.p=2,F.T=null;try{for(var d=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];d(E.value,{componentStack:E.stack})}}finally{F.T=i,ne.p=h}}(ts&3)!==0&&Tc(),xi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===gd?vl++:(vl=0,gd=t):vl=0,Tl(0)}}function p_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,el(i)))}function Tc(){return f_(),d_(),m_(),g_()}function g_(){if(Mt!==5)return!1;var t=Us,i=md;md=0;var a=ji(ts),l=F.T,h=ne.p;try{ne.p=32>a?32:a,F.T=null,a=pd,pd=null;var d=Us,y=ts;if(Mt=0,za=Us=null,ts=0,(Ye&6)!==0)throw Error(r(331));var E=Ye;if(Ye|=4,Jy(d.current),Ky(d,d.current,y,a),Ye=E,Tl(0,!1),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(zn,d)}catch{}return!0}finally{ne.p=h,F.T=l,p_(t,i)}}function y_(t,i,a){i=Dn(a,i),i=Kf(t.stateNode,i,2),t=Ns(t,i,2),t!==null&&(gr(t,2),xi(t))}function $e(t,i,a){if(t.tag===3)y_(t,t,a);else for(;i!==null;){if(i.tag===3){y_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ls===null||!Ls.has(l))){t=Dn(a,t),a=_y(2),l=Ns(i,a,2),l!==null&&(vy(a,l,i,t),gr(l,2),xi(l));break}}i=i.return}}function vd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Fw;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(hd=!0,h.add(a),t=Xw.bind(null,t,i,a),i.then(t,t))}function Xw(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,tt===t&&(ke&a)===a&&(ht===4||ht===3&&(ke&62914560)===ke&&300>en()-mc?(Ye&2)===0&&Ba(t,0):fd|=a,Pa===ke&&(Pa=0)),xi(t)}function __(t,i){i===0&&(i=gu()),t=Nr(t,i),t!==null&&(gr(t,i),xi(t))}function $w(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),__(t,a)}function Jw(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),__(t,a)}function Zw(t,i){return Ot(t,i)}var Ec=null,Ha=null,Td=!1,bc=!1,Ed=!1,Ps=0;function xi(t){t!==Ha&&t.next===null&&(Ha===null?Ec=Ha=t:Ha=Ha.next=t),bc=!0,Td||(Td=!0,eA())}function Tl(t,i){if(!Ed&&bc){Ed=!0;do for(var a=!1,l=Ec;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var y=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-dt(42|t)+1)-1,d&=h&~(y&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,b_(l,d))}else d=ke,d=li(l,l===tt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Bn(l,d)||(a=!0,b_(l,d));l=l.next}while(a);Ed=!1}}function Ww(){v_()}function v_(){bc=Td=!1;var t=0;Ps!==0&&cA()&&(t=Ps);for(var i=en(),a=null,l=Ec;l!==null;){var h=l.next,d=T_(l,i);d===0?(l.next=null,a===null?Ec=h:a.next=h,h===null&&(Ha=a)):(a=l,(t!==0||(d&3)!==0)&&(bc=!0)),l=h}Mt!==0&&Mt!==5||Tl(t),Ps!==0&&(Ps=0)}function T_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var y=31-dt(d),E=1<<y,N=h[y];N===-1?((E&a)===0||(E&l)!==0)&&(h[y]=Xh(E,i)):N<=i&&(t.expiredLanes|=E),d&=~E}if(i=tt,a=ke,a=li(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ds(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Bn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&ds(l),ji(a)){case 2:case 8:a=No;break;case 32:a=ms;break;case 268435456:a=hu;break;default:a=ms}return l=E_.bind(null,t),a=Ot(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&ds(l),t.callbackPriority=2,t.callbackNode=null,2}function E_(t,i){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Tc()&&t.callbackNode!==a)return null;var l=ke;return l=li(t,t===tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(n_(t,l,i),T_(t,en()),t.callbackNode!=null&&t.callbackNode===a?E_.bind(null,t):null)}function b_(t,i){if(Tc())return null;n_(t,i,!0)}function eA(){fA(function(){(Ye&6)!==0?Ot(Co,Ww):v_()})}function bd(){if(Ps===0){var t=Ia;t===0&&(t=ai,ai<<=1,(ai&261888)===0&&(ai=256)),Ps=t}return Ps}function w_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:da(""+t)}function A_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function tA(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=w_((h[kt]||null).action),y=l.submitter;y&&(i=(i=y[kt]||null)?w_(i.formAction):y.getAttribute("formAction"),i!==null&&(d=i,y=null));var E=new vi("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ps!==0){var N=y?A_(h,y):new FormData(h);qf(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(E.preventDefault(),N=y?A_(h,y):new FormData(h),qf(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var wd=0;wd<rf.length;wd++){var Ad=rf[wd],nA=Ad.toLowerCase(),iA=Ad[0].toUpperCase()+Ad.slice(1);Xn(nA,"on"+iA)}Xn(tg,"onAnimationEnd"),Xn(ng,"onAnimationIteration"),Xn(ig,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(vw,"onTransitionRun"),Xn(Tw,"onTransitionStart"),Xn(Ew,"onTransitionCancel"),Xn(sg,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function S_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var y=l.length-1;0<=y;y--){var E=l[y],N=E.instance,P=E.currentTarget;if(E=E.listener,N!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=P;try{d(h)}catch(Y){Uu(Y)}h.currentTarget=null,d=N}else for(y=0;y<l.length;y++){if(E=l[y],N=E.instance,P=E.currentTarget,E=E.listener,N!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=P;try{d(h)}catch(Y){Uu(Y)}h.currentTarget=null,d=N}}}}function Ve(t,i){var a=i[la];a===void 0&&(a=i[la]=new Set);var l=t+"__bubble";a.has(l)||(x_(i,t,2,!1),a.add(l))}function Sd(t,i,a){var l=0;i&&(l|=4),x_(a,t,l,i)}var wc="_reactListening"+Math.random().toString(36).slice(2);function xd(t){if(!t[wc]){t[wc]=!0,Mo.forEach(function(a){a!=="selectionchange"&&(sA.has(a)||Sd(a,!1,t),Sd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[wc]||(i[wc]=!0,Sd("selectionchange",!1,i))}}function x_(t,i,a,l){switch(tv(i)){case 2:var h=OA;break;case 8:h=MA;break;default:h=Bd}a=h.bind(null,i,a,t),h=void 0,!br||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Rd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===h)break;if(y===4)for(y=l.return;y!==null;){var N=y.tag;if((N===3||N===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;E!==null;){if(y=fi(E),y===null)return;if(N=y.tag,N===5||N===6||N===26||N===27){l=d=y;continue e}E=E.parentNode}}l=l.return}Ts(function(){var P=d,Y=Rn(a),X=[];e:{var z=rg.get(t);if(z!==void 0){var H=vi,he=t;switch(t){case"keypress":if(Ar(a)===0)break e;case"keydown":case"keyup":H=Vu;break;case"focusin":he="focus",H=xr;break;case"focusout":he="blur",H=xr;break;case"beforeblur":case"afterblur":H=xr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Yo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Su;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=p;break;case tg:case ng:case ig:H=Ru;break;case sg:H=w;break;case"scroll":case"scrollend":H=Go;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=Iu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Bi;break;case"toggle":case"beforetoggle":H=Ce}var _e=(i&4)!==0,et=!_e&&(t==="scroll"||t==="scrollend"),L=_e?z!==null?z+"Capture":null:z;_e=[];for(var V=P,j;V!==null;){var Q=V;if(j=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||j===null||L===null||(Q=Gn(V,L),Q!=null&&_e.push(bl(V,Q,j))),et)break;V=V.return}0<_e.length&&(z=new H(z,he,null,a,Y),X.push({event:z,listeners:_e}))}}if((i&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",z&&a!==qo&&(he=a.relatedTarget||a.fromElement)&&(fi(he)||he[ci]))break e;if((H||z)&&(z=Y.window===Y?Y:(z=Y.ownerDocument)?z.defaultView||z.parentWindow:window,H?(he=a.relatedTarget||a.toElement,H=P,he=he?fi(he):null,he!==null&&(et=u(he),_e=he.tag,he!==et||_e!==5&&_e!==27&&_e!==6)&&(he=null)):(H=null,he=P),H!==he)){if(_e=Yo,Q="onMouseLeave",L="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Bi,Q="onPointerLeave",L="onPointerEnter",V="pointer"),et=H==null?z:mn(H),j=he==null?z:mn(he),z=new _e(Q,V+"leave",H,a,Y),z.target=et,z.relatedTarget=j,Q=null,fi(Y)===P&&(_e=new _e(L,V+"enter",he,a,Y),_e.target=j,_e.relatedTarget=et,Q=_e),et=Q,H&&he)t:{for(_e=rA,L=H,V=he,j=0,Q=L;Q;Q=_e(Q))j++;Q=0;for(var me=V;me;me=_e(me))Q++;for(;0<j-Q;)L=_e(L),j--;for(;0<Q-j;)V=_e(V),Q--;for(;j--;){if(L===V||V!==null&&L===V.alternate){_e=L;break t}L=_e(L),V=_e(V)}_e=null}else _e=null;H!==null&&R_(X,z,H,_e,!1),he!==null&&et!==null&&R_(X,et,he,_e,!0)}}e:{if(z=P?mn(P):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var He=Fp;else if(qp(z))if(Gp)He=gw;else{He=mw;var de=dw}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&fa(P.elementType)&&(He=Fp):He=pw;if(He&&(He=He(t,P))){Hp(X,He,a,Y);break e}de&&de(t,z,P),t==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&Po(z,"number",z.value)}switch(de=P?mn(P):window,t){case"focusin":(qp(de)||de.contentEditable==="true")&&(Ta=de,tf=P,Jo=null);break;case"focusout":Jo=tf=Ta=null;break;case"mousedown":nf=!0;break;case"contextmenu":case"mouseup":case"dragend":nf=!1,Wp(X,a,Y);break;case"selectionchange":if(_w)break;case"keydown":case"keyup":Wp(X,a,Y)}var Oe;if(Ge)e:{switch(t){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else va?Rr(t,a)&&(Le="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Le="onCompositionStart");Le&&(bi&&a.locale!=="ko"&&(va||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&va&&(Oe=Fo()):(_i=Y,Ho="value"in _i?_i.value:_i.textContent,va=!0)),de=Ac(P,Le),0<de.length&&(Le=new Ei(Le,t,null,a,Y),X.push({event:Le,listeners:de}),Oe?Le.data=Oe:(Oe=_a(a),Oe!==null&&(Le.data=Oe)))),(Oe=Cn?uw(t,a):cw(t,a))&&(Le=Ac(P,"onBeforeInput"),0<Le.length&&(de=new Ei("onBeforeInput","beforeinput",null,a,Y),X.push({event:de,listeners:Le}),de.data=Oe)),tA(X,t,P,a,Y)}S_(X,i)})}function bl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Ac(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Gn(t,a),h!=null&&l.unshift(bl(t,h,d)),h=Gn(t,i),h!=null&&l.push(bl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function rA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function R_(t,i,a,l,h){for(var d=i._reactName,y=[];a!==null&&a!==l;){var E=a,N=E.alternate,P=E.stateNode;if(E=E.tag,N!==null&&N===l)break;E!==5&&E!==26&&E!==27||P===null||(N=P,h?(P=Gn(a,d),P!=null&&y.unshift(bl(a,P,N))):h||(P=Gn(a,d),P!=null&&y.push(bl(a,P,N)))),a=a.return}y.length!==0&&t.push({event:i,listeners:y})}var aA=/\r\n?/g,oA=/\u0000|\uFFFD/g;function I_(t){return(typeof t=="string"?t:""+t).replace(aA,`
`).replace(oA,"")}function C_(t,i){return i=I_(i),I_(t)===i}function We(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||an(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&an(t,""+l);break;case"className":pn(t,"class",l);break;case"tabIndex":pn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(t,a,l);break;case"style":Bo(t,l,d);break;case"data":if(i!=="object"){pn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=da(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&We(t,i,"name",h.name,h,null),We(t,i,"formEncType",h.formEncType,h,null),We(t,i,"formMethod",h.formMethod,h,null),We(t,i,"formTarget",h.formTarget,h,null)):(We(t,i,"encType",h.encType,h,null),We(t,i,"method",h.method,h,null),We(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=da(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Fn);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=da(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),ca(t,"popover",l);break;case"xlinkActuate":wt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":wt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":wt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":wt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":wt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":wt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":wt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":wt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":wt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ca(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Au.get(a)||a,ca(t,a,l))}}function Id(t,i,a,l,h,d){switch(a){case"style":Bo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?an(t,l):(typeof l=="number"||typeof l=="bigint")&&an(t,""+l);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[kt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ca(t,a,l)}}}function Ft(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var y=a[d];if(y!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:We(t,i,d,y,a,null)}}h&&We(t,i,"srcSet",a.srcSet,a,null),l&&We(t,i,"src",a.src,a,null);return;case"input":Ve("invalid",t);var E=d=y=h=null,N=null,P=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":y=Y;break;case"checked":N=Y;break;case"defaultChecked":P=Y;break;case"value":d=Y;break;case"defaultValue":E=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,i));break;default:We(t,i,l,Y,a,null)}}Eu(t,d,E,N,P,y,h,!1);return;case"select":Ve("invalid",t),l=y=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:We(t,i,h,E,a,null)}i=d,a=y,t.multiple=!!l,i!=null?gs(t,!!l,i,!1):a!=null&&gs(t,!!l,a,!0);return;case"textarea":Ve("invalid",t),d=h=l=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:We(t,i,y,E,a,null)}ys(t,l,h,d);return;case"option":for(N in a)a.hasOwnProperty(N)&&(l=a[N],l!=null)&&(N==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":We(t,i,N,l,a,null));return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(l=0;l<El.length;l++)Ve(El[l],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:We(t,i,P,l,a,null)}return;default:if(fa(i)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Id(t,i,Y,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&We(t,i,E,l,a,null))}function lA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,y=null,E=null,N=null,P=null,Y=null;for(H in a){var X=a[H];if(a.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":N=X;default:l.hasOwnProperty(H)||We(t,i,H,null,l,X)}}for(var z in l){var H=l[z];if(X=a[z],l.hasOwnProperty(z)&&(H!=null||X!=null))switch(z){case"type":d=H;break;case"name":h=H;break;case"checked":P=H;break;case"defaultChecked":Y=H;break;case"value":y=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,i));break;default:H!==X&&We(t,i,z,H,l,X)}}ha(t,y,E,N,P,Y,d,h);return;case"select":H=y=E=z=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":H=N;default:l.hasOwnProperty(d)||We(t,i,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":z=d;break;case"defaultValue":E=d;break;case"multiple":y=d;default:d!==N&&We(t,i,h,d,l,N)}i=E,a=y,l=H,z!=null?gs(t,!!a,z,!1):!!l!=!!a&&(i!=null?gs(t,!!a,i,!0):gs(t,!!a,a?[]:"",!1));return;case"textarea":H=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:We(t,i,E,null,l,h)}for(y in l)if(h=l[y],d=a[y],l.hasOwnProperty(y)&&(h!=null||d!=null))switch(y){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&We(t,i,y,h,l,d)}bu(t,z,H);return;case"option":for(var he in a)z=a[he],a.hasOwnProperty(he)&&z!=null&&!l.hasOwnProperty(he)&&(he==="selected"?t.selected=!1:We(t,i,he,null,l,z));for(N in l)z=l[N],H=a[N],l.hasOwnProperty(N)&&z!==H&&(z!=null||H!=null)&&(N==="selected"?t.selected=z&&typeof z!="function"&&typeof z!="symbol":We(t,i,N,z,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)z=a[_e],a.hasOwnProperty(_e)&&z!=null&&!l.hasOwnProperty(_e)&&We(t,i,_e,null,l,z);for(P in l)if(z=l[P],H=a[P],l.hasOwnProperty(P)&&z!==H&&(z!=null||H!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,i));break;default:We(t,i,P,z,l,H)}return;default:if(fa(i)){for(var et in a)z=a[et],a.hasOwnProperty(et)&&z!==void 0&&!l.hasOwnProperty(et)&&Id(t,i,et,void 0,l,z);for(Y in l)z=l[Y],H=a[Y],!l.hasOwnProperty(Y)||z===H||z===void 0&&H===void 0||Id(t,i,Y,z,l,H);return}}for(var L in a)z=a[L],a.hasOwnProperty(L)&&z!=null&&!l.hasOwnProperty(L)&&We(t,i,L,null,l,z);for(X in l)z=l[X],H=a[X],!l.hasOwnProperty(X)||z===H||z==null&&H==null||We(t,i,X,z,l,H)}function N_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function uA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,y=h.initiatorType,E=h.duration;if(d&&E&&N_(y)){for(y=0,E=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],P=N.startTime;if(P>E)break;var Y=N.transferSize,X=N.initiatorType;Y&&N_(X)&&(N=N.responseEnd,y+=Y*(N<E?1:(E-P)/(N-P)))}if(--l,i+=8*(d+y)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Cd=null,Nd=null;function Sc(t){return t.nodeType===9?t:t.ownerDocument}function D_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function O_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Dd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Od=null;function cA(){var t=window.event;return t&&t.type==="popstate"?t===Od?!1:(Od=t,!0):(Od=null,!1)}var M_=typeof setTimeout=="function"?setTimeout:void 0,hA=typeof clearTimeout=="function"?clearTimeout:void 0,V_=typeof Promise=="function"?Promise:void 0,fA=typeof queueMicrotask=="function"?queueMicrotask:typeof V_<"u"?function(t){return V_.resolve(null).then(t).catch(dA)}:M_;function dA(t){setTimeout(function(){throw t})}function zs(t){return t==="head"}function k_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Qa(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")wl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,wl(a);for(var d=a.firstChild;d;){var y=d.nextSibling,E=d.nodeName;d[hi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=y}}else a==="body"&&wl(t.ownerDocument.body);a=h}while(a);Qa(i)}function L_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Md(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Md(a),ua(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function mA(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[hi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Ln(t.nextSibling),t===null)break}return null}function pA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Ln(t.nextSibling),t===null))return null;return t}function U_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Ln(t.nextSibling),t===null))return null;return t}function Vd(t){return t.data==="$?"||t.data==="$~"}function kd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function gA(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Ln(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Ld=null;function j_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Ln(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function P_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function z_(t,i,a){switch(i=Sc(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function wl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ua(t)}var Un=new Map,B_=new Set;function xc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ns=ne.d;ne.d={f:yA,r:_A,D:vA,C:TA,L:EA,m:bA,X:AA,S:wA,M:SA};function yA(){var t=ns.f(),i=yc();return t||i}function _A(t){var i=xn(t);i!==null&&i.tag===5&&i.type==="form"?sy(i):ns.r(t)}var Fa=typeof document>"u"?null:document;function q_(t,i,a){var l=Fa;if(l&&typeof i=="string"&&i){var h=rn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),B_.has(h)||(B_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ft(i,"link",t),bt(i),l.head.appendChild(i)))}}function vA(t){ns.D(t),q_("dns-prefetch",t,null)}function TA(t,i){ns.C(t,i),q_("preconnect",t,i)}function EA(t,i,a){ns.L(t,i,a);var l=Fa;if(l&&t&&i){var h='link[rel="preload"][as="'+rn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(t)+'"]';var d=h;switch(i){case"style":d=Ga(t);break;case"script":d=Ya(t)}Un.has(d)||(t=A({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Un.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Al(d))||i==="script"&&l.querySelector(Sl(d))||(i=l.createElement("link"),Ft(i,"link",t),bt(i),l.head.appendChild(i)))}}function bA(t,i){ns.m(t,i);var a=Fa;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+rn(l)+'"][href="'+rn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ya(t)}if(!Un.has(d)&&(t=A({rel:"modulepreload",href:t},i),Un.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Sl(d)))return}l=a.createElement("link"),Ft(l,"link",t),bt(l),a.head.appendChild(l)}}}function wA(t,i,a){ns.S(t,i,a);var l=Fa;if(l&&t){var h=di(l).hoistableStyles,d=Ga(t);i=i||"default";var y=h.get(d);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Al(d)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Un.get(d))&&Ud(t,a);var N=y=l.createElement("link");bt(N),Ft(N,"link",t),N._p=new Promise(function(P,Y){N.onload=P,N.onerror=Y}),N.addEventListener("load",function(){E.loading|=1}),N.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Rc(y,i,l)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(d,y)}}}function AA(t,i){ns.X(t,i);var a=Fa;if(a&&t){var l=di(a).hoistableScripts,h=Ya(t),d=l.get(h);d||(d=a.querySelector(Sl(h)),d||(t=A({src:t,async:!0},i),(i=Un.get(h))&&jd(t,i),d=a.createElement("script"),bt(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function SA(t,i){ns.M(t,i);var a=Fa;if(a&&t){var l=di(a).hoistableScripts,h=Ya(t),d=l.get(h);d||(d=a.querySelector(Sl(h)),d||(t=A({src:t,async:!0,type:"module"},i),(i=Un.get(h))&&jd(t,i),d=a.createElement("script"),bt(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function H_(t,i,a,l){var h=(h=Te.current)?xc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ga(a.href),a=di(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ga(a.href);var d=di(h).hoistableStyles,y=d.get(t);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,y),(d=h.querySelector(Al(t)))&&!d._p&&(y.instance=d,y.state.loading=5),Un.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(t,a),d||xA(h,t,a,y.state))),i&&l===null)throw Error(r(528,""));return y}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ya(a),a=di(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ga(t){return'href="'+rn(t)+'"'}function Al(t){return'link[rel="stylesheet"]['+t+"]"}function F_(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function xA(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ft(i,"link",a),bt(i),t.head.appendChild(i))}function Ya(t){return'[src="'+rn(t)+'"]'}function Sl(t){return"script[async]"+t}function G_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+rn(a.href)+'"]');if(l)return i.instance=l,bt(l),l;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),bt(l),Ft(l,"style",h),Rc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ga(a.href);var d=t.querySelector(Al(h));if(d)return i.state.loading|=4,i.instance=d,bt(d),d;l=F_(a),(h=Un.get(h))&&Ud(l,h),d=(t.ownerDocument||t).createElement("link"),bt(d);var y=d;return y._p=new Promise(function(E,N){y.onload=E,y.onerror=N}),Ft(d,"link",l),i.state.loading|=4,Rc(d,a.precedence,t),i.instance=d;case"script":return d=Ya(a.src),(h=t.querySelector(Sl(d)))?(i.instance=h,bt(h),h):(l=a,(h=Un.get(d))&&(l=A({},a),jd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),bt(h),Ft(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Rc(l,a.precedence,t));return i.instance}function Rc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===i)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Ud(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function jd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Ic=null;function Y_(t,i,a){if(Ic===null){var l=new Map,h=Ic=new Map;h.set(a,l)}else h=Ic,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[hi]||d[Et]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(i)||"";y=t+y;var E=l.get(y);E?E.push(d):l.set(y,[d])}}return l}function Q_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function RA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function K_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function IA(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ga(l.href),d=i.querySelector(Al(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Cc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,bt(d);return}d=i.ownerDocument||i,l=F_(l),(h=Un.get(h))&&Ud(l,h),d=d.createElement("link"),bt(d);var y=d;y._p=new Promise(function(E,N){y.onload=E,y.onerror=N}),Ft(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Cc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Pd=0;function CA(t,i){return t.stylesheets&&t.count===0&&Dc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Dc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Pd===0&&(Pd=62500*uA());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Dc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Pd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Cc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Dc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Nc=null;function Dc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Nc=new Map,i.forEach(NA,t),Nc=null,Cc.call(t))}function NA(t,i){if(!(i.state.loading&4)){var a=Nc.get(t);if(a)var l=a.get(null);else{a=new Map,Nc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var y=h[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}h=i.instance,y=h.getAttribute("data-precedence"),d=a.get(y)||l,d===l&&a.set(null,h),a.set(y,h),this.count++,l=Cc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var xl={$$typeof:ye,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function DA(t,i,a,l,h,d,y,E,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function X_(t,i,a,l,h,d,y,E,N,P,Y,X){return t=new DA(t,i,a,y,N,P,Y,X,E),i=1,d===!0&&(i|=24),d=yn(3,null,null,i),t.current=d,d.stateNode=t,i=_f(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},bf(d),t}function $_(t){return t?(t=wa,t):wa}function J_(t,i,a,l,h,d){h=$_(h),l.context===null?l.context=h:l.pendingContext=h,l=Cs(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ns(t,l,i),a!==null&&(hn(a,t,i),sl(a,t,i))}function Z_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function zd(t,i){Z_(t,i),(t=t.alternate)&&Z_(t,i)}function W_(t){if(t.tag===13||t.tag===31){var i=Nr(t,67108864);i!==null&&hn(i,t,67108864),zd(t,67108864)}}function ev(t){if(t.tag===13||t.tag===31){var i=bn();i=_r(i);var a=Nr(t,i);a!==null&&hn(a,t,i),zd(t,i)}}var Oc=!0;function OA(t,i,a,l){var h=F.T;F.T=null;var d=ne.p;try{ne.p=2,Bd(t,i,a,l)}finally{ne.p=d,F.T=h}}function MA(t,i,a,l){var h=F.T;F.T=null;var d=ne.p;try{ne.p=8,Bd(t,i,a,l)}finally{ne.p=d,F.T=h}}function Bd(t,i,a,l){if(Oc){var h=qd(l);if(h===null)Rd(t,i,l,Mc,a),nv(t,l);else if(kA(h,t,i,a,l))l.stopPropagation();else if(nv(t,l),i&4&&-1<VA.indexOf(t)){for(;h!==null;){var d=xn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=oi(d.pendingLanes);if(y!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var N=1<<31-dt(y);E.entanglements[1]|=N,y&=~N}xi(d),(Ye&6)===0&&(pc=en()+500,Tl(0))}}break;case 31:case 13:E=Nr(d,2),E!==null&&hn(E,d,2),yc(),zd(d,2)}if(d=qd(l),d===null&&Rd(t,i,l,Mc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Rd(t,i,l,null,a)}}function qd(t){return t=Rn(t),Hd(t)}var Mc=null;function Hd(t){if(Mc=null,t=fi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Mc=t,null}function tv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mr()){case Co:return 2;case No:return 8;case ms:case Kh:return 32;case hu:return 268435456;default:return 32}default:return 32}}var Fd=!1,Bs=null,qs=null,Hs=null,Rl=new Map,Il=new Map,Fs=[],VA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nv(t,i){switch(t){case"focusin":case"focusout":Bs=null;break;case"dragenter":case"dragleave":qs=null;break;case"mouseover":case"mouseout":Hs=null;break;case"pointerover":case"pointerout":Rl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(i.pointerId)}}function Cl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=xn(i),i!==null&&W_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function kA(t,i,a,l,h){switch(i){case"focusin":return Bs=Cl(Bs,t,i,a,l,h),!0;case"dragenter":return qs=Cl(qs,t,i,a,l,h),!0;case"mouseover":return Hs=Cl(Hs,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Rl.set(d,Cl(Rl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Il.set(d,Cl(Il.get(d)||null,t,i,a,l,h)),!0}return!1}function iv(t){var i=fi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,qn(t.priority,function(){ev(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,qn(t.priority,function(){ev(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=qd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);qo=l,a.target.dispatchEvent(l),qo=null}else return i=xn(a),i!==null&&W_(i),t.blockedOn=a,!1;i.shift()}return!0}function sv(t,i,a){Vc(t)&&a.delete(i)}function LA(){Fd=!1,Bs!==null&&Vc(Bs)&&(Bs=null),qs!==null&&Vc(qs)&&(qs=null),Hs!==null&&Vc(Hs)&&(Hs=null),Rl.forEach(sv),Il.forEach(sv)}function kc(t,i){t.blockedOn===i&&(t.blockedOn=null,Fd||(Fd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,LA)))}var Lc=null;function rv(t){Lc!==t&&(Lc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Lc===t&&(Lc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Hd(l||a)===null)continue;break}var d=xn(a);d!==null&&(t.splice(i,3),i-=3,qf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Qa(t){function i(N){return kc(N,t)}Bs!==null&&kc(Bs,t),qs!==null&&kc(qs,t),Hs!==null&&kc(Hs,t),Rl.forEach(i),Il.forEach(i);for(var a=0;a<Fs.length;a++){var l=Fs[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Fs.length&&(a=Fs[0],a.blockedOn===null);)iv(a),a.blockedOn===null&&Fs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],y=h[kt]||null;if(typeof d=="function")y||rv(a);else if(y){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,y=d[kt]||null)E=y.formAction;else if(Hd(h)!==null)continue}else E=y.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),rv(a)}}}function av(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Gd(t){this._internalRoot=t}Uc.prototype.render=Gd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=bn();J_(a,l,t,i,null,null)},Uc.prototype.unmount=Gd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;J_(t.current,2,null,t,null,null),yc(),i[ci]=null}};function Uc(t){this._internalRoot=t}Uc.prototype.unstable_scheduleHydration=function(t){if(t){var i=yu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Fs.length&&i!==0&&i<Fs[a].priority;a++);Fs.splice(a,0,t),a===0&&iv(t)}};var ov=e.version;if(ov!=="19.2.3")throw Error(r(527,ov,"19.2.3"));ne.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=g(i),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var UA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{zn=jc.inject(UA),Pt=jc}catch{}}return Dl.createRoot=function(t,i){if(!o(t))throw Error(r(299));var a=!1,l="",h=my,d=py,y=gy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),i=X_(t,1,!1,null,null,a,l,null,h,d,y,av),t[ci]=i.current,xd(t),new Gd(i)},Dl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(r(299));var l=!1,h="",d=my,y=py,E=gy,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=X_(t,1,!0,i,a??null,l,h,N,d,y,E,av),i.context=$_(null),a=i.current,l=bn(),l=_r(l),h=Cs(l),h.callback=null,Ns(a,h,l),a=l,i.current.lanes=a,gr(i,a),xi(i),t[ci]=i.current,xd(t),new Uc(i)},Dl.version="19.2.3",Dl}var yv;function YA(){if(yv)return Kd.exports;yv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Kd.exports=GA(),Kd.exports}var QA=YA();const KA=()=>{const[s,e]=ae.useState(!1);return ae.useEffect(()=>{e(!0)},[]),T.jsxs("section",{className:"relative h-screen flex flex-col justify-center items-center text-center bg-white text-white overflow-hidden",children:[T.jsxs("div",{className:"absolute inset-0 z-0",children:[T.jsx("div",{className:"absolute inset-0 bg-black/20 z-10"}),T.jsx("img",{src:"https://images.unsplash.com/photo-1519741497674-611481863552?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80",alt:"Wedding Background",className:"w-full h-full object-cover"})]}),T.jsxs("div",{className:`relative z-20 p-8 transition-all duration-1000 ease-out transform ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[T.jsx("p",{className:"text-base md:text-lg tracking-[0.2em] mb-4 text-white/90 font-classic",children:"  "}),T.jsxs("h1",{className:"text-5xl md:text-6xl lg:text-7xl mb-8 font-classic font-bold text-white drop-shadow-lg leading-tight",children:[" ",T.jsx("br",{className:"md:hidden"}),T.jsx("span",{className:"text-3xl md:text-4xl lg:text-5xl mx-2 text-soft-pink font-serif italic",children:"&"}),T.jsx("br",{className:"md:hidden"})," "]}),T.jsxs("div",{className:"flex items-center justify-center gap-4 text-white/90 font-classic",children:[T.jsx("div",{className:"h-px w-12 bg-white/60"}),T.jsx("p",{className:"text-xl md:text-2xl tracking-widest font-light",children:"2026 4 25   4 50"}),T.jsx("div",{className:"h-px w-12 bg-white/60"})]})]}),T.jsx("div",{className:"absolute bottom-8 z-20 animate-bounce text-white/80 text-sm tracking-widest font-classic",children:" "})]})},XA=(s,{threshold:e=.1,root:n=null,rootMargin:r="0%"}={})=>{const[o,u]=ae.useState(!1);return ae.useEffect(()=>{const f=s?.current;if(!f)return;const m=new IntersectionObserver(([_])=>{_.isIntersecting&&(u(!0),m.unobserve(f))},{threshold:e,root:n,rootMargin:r});return m.observe(f),()=>{m.disconnect()}},[s,e,n,r]),o},$A=()=>{const s=ae.useRef(null),e=XA(s,{threshold:.3});return T.jsx("section",{className:"py-20 px-4 text-center bg-white",ref:s,children:T.jsxs("div",{className:`transition-all duration-1000 ease-out transform ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[T.jsxs("div",{className:"mb-12",children:[T.jsx("p",{className:"text-primary text-sm tracking-[0.2em] mb-3 opacity-60 font-classic",children:" "}),T.jsx("h2",{className:"text-3xl md:text-4xl text-text font-classic font-bold",children:" "})]}),T.jsxs("div",{className:"font-classic text-xl leading-loose text-text/80 mb-12 space-y-2",children:[T.jsx("p",{children:"   "}),T.jsx("p",{children:"    "}),T.jsx("p",{children:" ."}),T.jsx("br",{}),T.jsx("p",{children:"    "}),T.jsx("p",{children:"  "}),T.jsx("p",{children:"  ."})]}),T.jsxs("div",{className:"flex flex-col items-center gap-4 font-classic text-xl",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("span",{className:"text-base text-primary font-bold tracking-widest",children:""}),T.jsx("strong",{className:"text-text text-2xl font-bold",children:""})]}),T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("span",{className:"text-base text-primary font-bold tracking-widest",children:""}),T.jsx("strong",{className:"text-text text-2xl font-bold",children:""})]})]})]})})},JA=()=>T.jsx("section",{style:Zn.section,children:T.jsxs("div",{style:Zn.container,children:[T.jsxs("div",{style:Zn.item,children:[T.jsx("h3",{style:Zn.label,children:""}),T.jsx("p",{style:Zn.value,children:"2026 4 25"}),T.jsx("p",{style:Zn.subValue,children:"  4 50"})]}),T.jsx("div",{style:Zn.divider}),T.jsxs("div",{style:Zn.item,children:[T.jsx("h3",{style:Zn.label,children:""}),T.jsx("p",{style:Zn.value,children:"  "}),T.jsx("p",{style:Zn.subValue,children:"   4 140"})]})]})}),Zn={section:{padding:"3rem 1.5rem",backgroundColor:"#fff"},container:{backgroundColor:"#fff",padding:"2rem",borderRadius:"2px",boxShadow:"0 5px 15px rgba(0,0,0,0.03)",maxWidth:"400px",margin:"0 auto"},item:{textAlign:"center",marginBottom:"1.5rem"},divider:{width:"1px",height:"40px",backgroundColor:"#ddd",margin:"0 auto 1.5rem"},label:{fontSize:"0.8rem",color:"#aaa",letterSpacing:"0.1em",marginBottom:"0.5rem"},value:{fontSize:"1.3rem",fontFamily:"var(--font-serif)",fontWeight:"700",marginBottom:"0.2rem"},subValue:{fontSize:"0.95rem",color:"#666"}},ZA="/Invitation/assets/gallery1-C7q5Nxgj.jpg",sT=Object.freeze(Object.defineProperty({__proto__:null,default:ZA},Symbol.toStringTag,{value:"Module"})),WA="/Invitation/assets/gallery2-AWOh7shC.jpg",rT=Object.freeze(Object.defineProperty({__proto__:null,default:WA},Symbol.toStringTag,{value:"Module"})),eS="/Invitation/assets/gallery3-DBbQTIVG.jpg",aT=Object.freeze(Object.defineProperty({__proto__:null,default:eS},Symbol.toStringTag,{value:"Module"})),tS=Object.assign({"../assets/images/gallery1.jpg":sT,"../assets/images/gallery2.jpg":rT,"../assets/images/gallery3.jpg":aT}),Pc=Object.values(tS).map(s=>s.default),oT=({forceUnlock:s=!1})=>{const[e,n]=ae.useState(null);if(Pc.length===0)return null;const[r,o]=ae.useState([]);return ae.useEffect(()=>{if(s)return;const u=()=>{const f=JSON.parse(localStorage.getItem("wedding_collection")||"[]");o(f)};return u(),window.addEventListener("storage",u),window.addEventListener("collectionUpdated",u),()=>{window.removeEventListener("storage",u),window.removeEventListener("collectionUpdated",u)}},[s]),ae.useEffect(()=>{if(s)return;const u=JSON.parse(localStorage.getItem("wedding_collection")||"[]");o(u)},[Pc,s]),T.jsxs("section",{id:"gallery",className:"py-20 bg-background relative overflow-hidden",children:[T.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[T.jsx("div",{className:"absolute top-10 right-10 w-64 h-64 bg-primary/5 rounded-full blur-3xl"}),T.jsx("div",{className:"absolute bottom-10 left-10 w-96 h-96 bg-secondary/5 rounded-full blur-3xl"})]}),T.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[T.jsx("h2",{className:"text-3xl md:text-4xl text-primary font-classic font-bold mb-4 text-center animate-fade-in-up",children:" "}),T.jsxs("p",{className:"text-text/60 text-center font-body mb-12 tracking-widest uppercase text-sm animate-fade-in-up delay-100 font-classic",children:["  ",s?"":`(${r.length}/${Pc.length})`]}),T.jsx("div",{className:"columns-1 sm:columns-2 lg:columns-3 gap-6 space-y-6",children:Pc.map((u,f)=>{const m=s||r.includes(f);return T.jsx("div",{className:"break-inside-avoid group relative rounded-2xl overflow-hidden shadow-soft-md hover:shadow-soft-xl transition-all duration-500 hover:-translate-y-1 bg-white",onClick:()=>m&&n(u),children:T.jsxs("div",{className:"relative overflow-hidden",children:[T.jsx("img",{src:u,alt:`Gallery ${f+1}`,className:`w-full h-auto object-cover transition-all duration-700 
                                            ${m?"cursor-pointer hover:scale-105 filter brightness-100":"blur-xl grayscale contrast-125 cursor-not-allowed opacity-50"}
                                        `,loading:"lazy"}),m&&T.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors duration-300 pointer-events-none"}),!m&&T.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/10 z-10 backdrop-blur-[2px]",children:[T.jsx("div",{className:"bg-white/90 backdrop-blur-md p-4 rounded-full shadow-lg transform group-hover:scale-110 transition-transform duration-300",children:T.jsx("span",{className:"text-2xl",children:""})}),T.jsx("span",{className:"text-white font-bold tracking-widest mt-2 drop-shadow-md text-xs uppercase bg-black/20 px-3 py-1 rounded-full",children:"Locked"})]})]})},f)})})]}),e&&T.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/95 backdrop-blur-md p-4 animate-in fade-in duration-200",onClick:()=>n(null),children:[T.jsx("img",{src:e,alt:"Full view",className:"max-w-full max-h-[90vh] object-contain rounded-lg shadow-2xl"}),T.jsx("button",{className:"absolute top-4 right-4 text-white hover:text-gray-300 transition-colors",children:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})},nS=()=>T.jsxs("section",{className:"py-20 px-4 md:px-6 bg-background text-center relative overflow-hidden",children:[T.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-4xl h-full max-h-[500px] bg-primary/5 rounded-full blur-[100px] pointer-events-none"}),T.jsxs("div",{className:"relative z-10 w-full max-w-6xl mx-auto",children:[T.jsx("h2",{className:"text-3xl md:text-4xl text-primary font-classic font-bold mb-12 text-center animate-fade-in-up",children:" "}),T.jsx("div",{className:"w-full aspect-video rounded-3xl overflow-hidden shadow-soft-xl border border-white/50 bg-black/5 animate-fade-in-up delay-100",children:T.jsx("iframe",{className:"w-full h-full",src:"https://www.youtube-nocookie.com/embed/2Vv-BfVoq4g",title:"Wedding Video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})})]})]}),lT=()=>{const s="https://naver.me/x7ndUhZi",e="https://place.map.kakao.com/25447779",n=r=>{window.open(r,"_blank")};return T.jsxs("section",{className:"py-24 px-4 bg-background text-center relative overflow-hidden font-body",children:[T.jsx("div",{className:"mb-12 animate-fade-in-up",children:T.jsx("h2",{className:"text-4xl md:text-5xl text-text font-classic font-bold",children:" "})}),T.jsx("div",{className:"max-w-5xl mx-auto mb-12 animate-fade-in-up delay-100",children:T.jsx("div",{className:"w-full aspect-video md:aspect-[21/9] rounded-xl overflow-hidden shadow-sm border border-black/5 bg-gray-50",children:T.jsx("iframe",{src:"https://maps.google.com/maps?q=%20%20&t=&z=17&ie=UTF8&iwloc=&output=embed",className:"w-full h-full transition-all duration-700",frameBorder:"0",title:"Google Map",loading:"lazy",allowFullScreen:!0})})}),T.jsxs("div",{className:"max-w-lg mx-auto mb-12 space-y-2 animate-fade-in-up delay-200 font-classic",children:[T.jsxs("h3",{className:"text-2xl text-text font-bold tracking-wide",children:["  ",T.jsx("span",{className:"font-normal text-lg ml-2 text-text/60",children:"7 "})]}),T.jsx("p",{className:"text-text/70 text-lg",children:"   4 140"}),T.jsx("div",{className:"w-8 h-[1px] bg-primary/20 mx-auto my-4"}),T.jsx("p",{className:"text-text/50 text-sm tracking-wider",children:"Tel. 031-487-8100"})]}),T.jsxs("div",{className:"flex flex-wrap justify-center gap-4 animate-fade-in-up delay-300",children:[T.jsxs("button",{className:"flex items-center gap-3 px-8 py-3 bg-white border border-gray-200 rounded-full hover:border-[#03C75A] hover:bg-[#03C75A]/5 transition-all group font-classic",onClick:()=>n(s),children:[T.jsx(iS,{}),T.jsx("span",{className:"text-gray-600 group-hover:text-[#03C75A] font-medium transition-colors",children:" "})]}),T.jsxs("button",{className:"flex items-center gap-3 px-8 py-3 bg-white border border-gray-200 rounded-full hover:border-[#FEE500] hover:bg-[#FEE500]/10 transition-all group font-classic",onClick:()=>n(e),children:[T.jsx(sS,{}),T.jsx("span",{className:"text-gray-600 group-hover:text-black font-medium transition-colors",children:" "})]})]})]})},iS=()=>T.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-[#03C75A]",children:T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.4153 3H21V21H16.4153V10.7417L7.69231 21H3V3H7.69231V13.2519L16.4153 3Z",fill:"currentColor"})}),sS=()=>T.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",className:"text-[#FEE500]",children:T.jsx("path",{d:"M12 3C6.47715 3 2 6.35786 2 10.5C2 13.1679 3.65685 15.5393 6.1875 16.9079L5.4375 19.6579C5.375 19.8766 5.5625 20.0641 5.78125 20.0016L9.625 19.0641C10.375 19.2829 11.1875 19.4079 12 19.4079C17.5228 19.4079 22 16.05 22 11.9079C22 7.76579 17.5228 4.40786 12 4.40786V3Z"})}),rS=()=>{const[s,e]=ae.useState(!1),n=ae.useRef(null),r=()=>{s?n.current.pause():n.current.play(),e(!s)};return ae.useEffect(()=>{if(n.current){n.current.volume=.5;const o=n.current.play();o!==void 0&&o.then(()=>{e(!0)}).catch(u=>{console.log("Auto-play prevented:",u),e(!1)})}},[]),T.jsxs("div",{style:_v.container,children:[T.jsx("audio",{ref:n,src:"/Invitation/bgm.mp3",loop:!0}),T.jsx("button",{onClick:r,style:_v.button,children:s?" ":" "})]})},_v={container:{position:"fixed",top:"20px",right:"20px",zIndex:1e3},button:{background:"rgba(255, 255, 255, 0.8)",border:"1px solid #ddd",borderRadius:"20px",padding:"8px 16px",fontSize:"0.8rem",cursor:"pointer",boxShadow:"0 2px 5px rgba(0,0,0,0.1)",display:"flex",alignItems:"center",gap:"5px",fontFamily:"'Gowun Batang', serif"}},aS=()=>{const[s,e]=ae.useState(null),n=[{type:"Groom",name:"",bank:"",account:"495-910449-55107",displayAccount:"495-910449-55107"},{type:"Bride",name:"",bank:"",account:"110-297-915880",displayAccount:"110-297-915880"}],r=o=>{navigator.clipboard.writeText(`${o.bank} ${o.account}`).then(()=>{e(o.type),setTimeout(()=>e(null),2e3)})};return T.jsxs("section",{className:"py-20 px-6 bg-background text-center relative overflow-hidden font-body",children:[T.jsx("h2",{className:"text-3xl md:text-4xl text-primary font-classic font-bold mb-10 text-center animate-fade-in-up",children:"  "}),T.jsx("div",{className:"max-w-2xl mx-auto space-y-6 animate-fade-in-up delay-100",children:n.map(o=>T.jsxs("div",{className:"bg-white/60 backdrop-blur-md rounded-2xl p-6 border border-white/50 shadow-soft-md flex flex-col md:flex-row items-center justify-between gap-4 group hover:shadow-soft-lg transition-all hover:bg-white/80",children:[T.jsxs("div",{className:"text-left md:flex-1 w-full md:w-auto text-center md:text-left",children:[T.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2 mb-1",children:[T.jsx("span",{className:"text-base font-bold text-primary tracking-widest font-classic",children:o.type==="Groom"?"":""}),T.jsx("span",{className:"text-lg font-bold text-text",children:o.name})]}),T.jsxs("div",{className:"text-gray-600 font-mono text-sm md:text-base",children:[o.bank," ",T.jsx("span",{className:"text-gray-400 mx-1",children:"|"})," ",o.displayAccount]})]}),T.jsx("button",{onClick:()=>r(o),className:`
                                px-6 py-2 rounded-full font-medium text-sm transition-all duration-300 min-w-[100px] font-classic
                                ${s===o.type?"bg-[#03C75A] text-white shadow-md":"bg-white border border-primary/20 text-text/80 hover:border-primary hover:text-primary"}
                            `,children:s===o.type?"":""})]},o.type))})]})},oS=()=>T.jsxs("div",{className:"app-container font-classic",children:[T.jsx(KA,{}),T.jsx($A,{}),T.jsx(JA,{}),T.jsx(oT,{forceUnlock:!0}),T.jsx(nS,{}),T.jsx(aS,{}),T.jsx(rS,{}),T.jsx(lT,{})]}),lS=()=>{};var vv={};const uT=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},uS=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[n++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[n++],f=s[n++],m=s[n++],_=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(_>>10)),e[r++]=String.fromCharCode(56320+(_&1023))}else{const u=s[n++],f=s[n++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},cT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],f=o+1<s.length,m=f?s[o+1]:0,_=o+2<s.length,g=_?s[o+2]:0,b=u>>2,A=(u&3)<<4|m>>4;let I=(m&15)<<2|g>>6,q=g&63;_||(q=64,f||(I=64)),r.push(n[b],n[A],n[I],n[q])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(uT(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):uS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=n[s.charAt(o++)],m=o<s.length?n[s.charAt(o)]:0;++o;const g=o<s.length?n[s.charAt(o)]:64;++o;const A=o<s.length?n[s.charAt(o)]:64;if(++o,u==null||m==null||g==null||A==null)throw new cS;const I=u<<2|m>>4;if(r.push(I),g!==64){const q=m<<4&240|g>>2;if(r.push(q),A!==64){const J=g<<6&192|A;r.push(J)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class cS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hS=function(s){const e=uT(s);return cT.encodeByteArray(e,!0)},nh=function(s){return hS(s).replace(/\./g,"")},hT=function(s){try{return cT.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function fS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const dS=()=>fS().__FIREBASE_DEFAULTS__,mS=()=>{if(typeof process>"u"||typeof vv>"u")return;const s=vv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},pS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&hT(s[1]);return e&&JSON.parse(e)},wh=()=>{try{return lS()||dS()||mS()||pS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},fT=s=>wh()?.emulatorHosts?.[s],gS=s=>{const e=fT(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},dT=()=>wh()?.config,mT=s=>wh()?.[`_${s}`];class yS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function _o(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pT(s){return(await fetch(s,{credentials:"include"})).ok}function _S(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[nh(JSON.stringify(n)),nh(JSON.stringify(f)),""].join(".")}const Ul={};function vS(){const s={prod:[],emulator:[]};for(const e of Object.keys(Ul))Ul[e]?s.emulator.push(e):s.prod.push(e);return s}function TS(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let Tv=!1;function gT(s,e){if(typeof window>"u"||typeof document>"u"||!_o(window.location.host)||Ul[s]===e||Ul[s]||Tv)return;Ul[s]=e;function n(I){return`__firebase__banner__${I}`}const r="__firebase__banner",u=vS().prod.length>0;function f(){const I=document.getElementById(r);I&&I.remove()}function m(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function _(I,q){I.setAttribute("width","24"),I.setAttribute("id",q),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function g(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{Tv=!0,f()},I}function b(I,q){I.setAttribute("id",q),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function A(){const I=TS(r),q=n("text"),J=document.getElementById(q)||document.createElement("span"),W=n("learnmore"),te=document.getElementById(W)||document.createElement("a"),ue=n("preprendIcon"),ve=document.getElementById(ue)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const ye=I.element;m(ye),b(te,W);const Se=g();_(ve,ue),ye.append(ve,J,te,Se),document.body.appendChild(ye)}u?(J.innerText="Preview backend disconnected.",ve.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ve.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ES(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function bS(){const s=wh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yT(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function AS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SS(){const s=Wt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function xS(){return!bS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _T(){try{return typeof indexedDB=="object"}catch{return!1}}function vT(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}function RS(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const IS="FirebaseError";class si extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=IS,Object.setPrototypeOf(this,si.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wr.prototype.create)}}class Wr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?CS(u,r):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new si(o,m,r)}}function CS(s,e){return s.replace(NS,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const NS=/\{\$([^}]+)}/g;function DS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function as(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const u=s[o],f=e[o];if(Ev(u)&&Ev(f)){if(!as(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function Ev(s){return s!==null&&typeof s=="object"}function Zl(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function OS(s,e){const n=new MS(s,e);return n.subscribe.bind(n)}class MS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");VS(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=Zd),o.error===void 0&&(o.error=Zd),o.complete===void 0&&(o.complete=Zd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VS(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function Zd(){}const kS=1e3,LS=2,US=14400*1e3,jS=.5;function bv(s,e=kS,n=LS){const r=e*Math.pow(n,s),o=Math.round(jS*r*(Math.random()-.5)*2);return Math.min(US,r+o)}function Dt(s){return s&&s._delegate?s._delegate:s}class ni{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Hr="[DEFAULT]";class PS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new yS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BS(e))try{this.getOrInitializeService({instanceIdentifier:Hr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=Hr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hr){return this.instances.has(e)}getOptions(e=Hr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&f.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&e(u,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:zS(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Hr){return this.component?this.component.multipleInstances?e:Hr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zS(s){return s===Hr?void 0:s}function BS(s){return s.instantiationMode==="EAGER"}class qS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new PS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ue;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ue||(Ue={}));const HS={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},FS=Ue.INFO,GS={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},YS=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=GS[e];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ah{constructor(e){this.name=e,this._logLevel=FS,this._logHandler=YS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const QS=(s,e)=>e.some(n=>s instanceof n);let wv,Av;function KS(){return wv||(wv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XS(){return Av||(Av=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TT=new WeakMap,mm=new WeakMap,ET=new WeakMap,Wd=new WeakMap,Bm=new WeakMap;function $S(s){const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{n(Zs(s.result)),o()},f=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&TT.set(n,s)}).catch(()=>{}),Bm.set(e,s),e}function JS(s){if(mm.has(s))return;const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});mm.set(s,e)}let pm={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return mm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||ET.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zs(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function ZS(s){pm=s(pm)}function WS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(em(this),e,...n);return ET.set(r,e.sort?e.sort():[e]),Zs(r)}:XS().includes(s)?function(...e){return s.apply(em(this),e),Zs(TT.get(this))}:function(...e){return Zs(s.apply(em(this),e))}}function e1(s){return typeof s=="function"?WS(s):(s instanceof IDBTransaction&&JS(s),QS(s,KS())?new Proxy(s,pm):s)}function Zs(s){if(s instanceof IDBRequest)return $S(s);if(Wd.has(s))return Wd.get(s);const e=e1(s);return e!==s&&(Wd.set(s,e),Bm.set(e,s)),e}const em=s=>Bm.get(s);function bT(s,e,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(s,e),m=Zs(f);return r&&f.addEventListener("upgradeneeded",_=>{r(Zs(f.result),_.oldVersion,_.newVersion,Zs(f.transaction),_)}),n&&f.addEventListener("blocked",_=>n(_.oldVersion,_.newVersion,_)),m.then(_=>{u&&_.addEventListener("close",()=>u()),o&&_.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const t1=["get","getKey","getAll","getAllKeys","count"],n1=["put","add","delete","clear"],tm=new Map;function Sv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(tm.get(e))return tm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=n1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||t1.includes(n)))return;const u=async function(f,...m){const _=this.transaction(f,o?"readwrite":"readonly");let g=_.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&_.done]))[0]};return tm.set(e,u),u}ZS(s=>({...s,get:(e,n,r)=>Sv(e,n)||s.get(e,n,r),has:(e,n)=>!!Sv(e,n)||s.has(e,n)}));class i1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(s1(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function s1(s){return s.getComponent()?.type==="VERSION"}const gm="@firebase/app",xv="0.14.7";const os=new Ah("@firebase/app"),r1="@firebase/app-compat",a1="@firebase/analytics-compat",o1="@firebase/analytics",l1="@firebase/app-check-compat",u1="@firebase/app-check",c1="@firebase/auth",h1="@firebase/auth-compat",f1="@firebase/database",d1="@firebase/data-connect",m1="@firebase/database-compat",p1="@firebase/functions",g1="@firebase/functions-compat",y1="@firebase/installations",_1="@firebase/installations-compat",v1="@firebase/messaging",T1="@firebase/messaging-compat",E1="@firebase/performance",b1="@firebase/performance-compat",w1="@firebase/remote-config",A1="@firebase/remote-config-compat",S1="@firebase/storage",x1="@firebase/storage-compat",R1="@firebase/firestore",I1="@firebase/ai",C1="@firebase/firestore-compat",N1="firebase",D1="12.8.0";const ym="[DEFAULT]",O1={[gm]:"fire-core",[r1]:"fire-core-compat",[o1]:"fire-analytics",[a1]:"fire-analytics-compat",[u1]:"fire-app-check",[l1]:"fire-app-check-compat",[c1]:"fire-auth",[h1]:"fire-auth-compat",[f1]:"fire-rtdb",[d1]:"fire-data-connect",[m1]:"fire-rtdb-compat",[p1]:"fire-fn",[g1]:"fire-fn-compat",[y1]:"fire-iid",[_1]:"fire-iid-compat",[v1]:"fire-fcm",[T1]:"fire-fcm-compat",[E1]:"fire-perf",[b1]:"fire-perf-compat",[w1]:"fire-rc",[A1]:"fire-rc-compat",[S1]:"fire-gcs",[x1]:"fire-gcs-compat",[R1]:"fire-fst",[C1]:"fire-fst-compat",[I1]:"fire-vertex","fire-js":"fire-js",[N1]:"fire-js-all"};const ih=new Map,M1=new Map,_m=new Map;function Rv(s,e){try{s.container.addComponent(e)}catch(n){os.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function ki(s){const e=s.name;if(_m.has(e))return os.debug(`There were multiple attempts to register component ${e}.`),!1;_m.set(e,s);for(const n of ih.values())Rv(n,s);for(const n of M1.values())Rv(n,s);return!0}function ea(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function Wn(s){return s==null?!1:s.settings!==void 0}const V1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ws=new Wr("app","Firebase",V1);class k1{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ni("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ws.create("app-deleted",{appName:this._name})}}const vo=D1;function wT(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:ym,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Ws.create("bad-app-name",{appName:String(o)});if(n||(n=dT()),!n)throw Ws.create("no-options");const u=ih.get(o);if(u){if(as(n,u.options)&&as(r,u.config))return u;throw Ws.create("duplicate-app",{appName:o})}const f=new qS(o);for(const _ of _m.values())f.addComponent(_);const m=new k1(n,r,f);return ih.set(o,m),m}function qm(s=ym){const e=ih.get(s);if(!e&&s===ym&&dT())return wT();if(!e)throw Ws.create("no-app",{appName:s});return e}function Pn(s,e,n){let r=O1[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${r}" with version "${e}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),os.warn(f.join(" "));return}ki(new ni(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const L1="firebase-heartbeat-database",U1=1,Hl="firebase-heartbeat-store";let nm=null;function AT(){return nm||(nm=bT(L1,U1,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Hl)}catch(n){console.warn(n)}}}}).catch(s=>{throw Ws.create("idb-open",{originalErrorMessage:s.message})})),nm}async function j1(s){try{const n=(await AT()).transaction(Hl),r=await n.objectStore(Hl).get(ST(s));return await n.done,r}catch(e){if(e instanceof si)os.warn(e.message);else{const n=Ws.create("idb-get",{originalErrorMessage:e?.message});os.warn(n.message)}}}async function Iv(s,e){try{const r=(await AT()).transaction(Hl,"readwrite");await r.objectStore(Hl).put(e,ST(s)),await r.done}catch(n){if(n instanceof si)os.warn(n.message);else{const r=Ws.create("idb-set",{originalErrorMessage:n?.message});os.warn(r.message)}}}function ST(s){return`${s.name}!${s.options.appId}`}const P1=1024,z1=30;class B1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new H1(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Cv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>z1){const o=F1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){os.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Cv(),{heartbeatsToSend:n,unsentEntries:r}=q1(this._heartbeatsCache.heartbeats),o=nh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return os.warn(e),""}}}function Cv(){return new Date().toISOString().substring(0,10)}function q1(s,e=P1){const n=[];let r=s.slice();for(const o of s){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Nv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Nv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class H1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _T()?vT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await j1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Iv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Iv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Nv(s){return nh(JSON.stringify({version:2,heartbeats:s})).length}function F1(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}function G1(s){ki(new ni("platform-logger",e=>new i1(e),"PRIVATE")),ki(new ni("heartbeat",e=>new B1(e),"PRIVATE")),Pn(gm,xv,s),Pn(gm,xv,"esm2020"),Pn("fire-js","")}G1("");var Y1="firebase",Q1="12.8.0";Pn(Y1,Q1,"app");const xT="@firebase/installations",Hm="0.6.19";const RT=1e4,IT=`w:${Hm}`,CT="FIS_v2",K1="https://firebaseinstallations.googleapis.com/v1",X1=3600*1e3,$1="installations",J1="Installations";const Z1={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Kr=new Wr($1,J1,Z1);function NT(s){return s instanceof si&&s.code.includes("request-failed")}function DT({projectId:s}){return`${K1}/projects/${s}/installations`}function OT(s){return{token:s.token,requestStatus:2,expiresIn:ex(s.expiresIn),creationTime:Date.now()}}async function MT(s,e){const r=(await e.json()).error;return Kr.create("request-failed",{requestName:s,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function VT({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function W1(s,{refreshToken:e}){const n=VT(s);return n.append("Authorization",tx(e)),n}async function kT(s){const e=await s();return e.status>=500&&e.status<600?s():e}function ex(s){return Number(s.replace("s","000"))}function tx(s){return`${CT} ${s}`}async function nx({appConfig:s,heartbeatServiceProvider:e},{fid:n}){const r=DT(s),o=VT(s),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={fid:n,authVersion:CT,appId:s.appId,sdkVersion:IT},m={method:"POST",headers:o,body:JSON.stringify(f)},_=await kT(()=>fetch(r,m));if(_.ok){const g=await _.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:OT(g.authToken)}}else throw await MT("Create Installation",_)}function LT(s){return new Promise(e=>{setTimeout(e,s)})}function ix(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}const sx=/^[cdef][\w-]{21}$/,vm="";function rx(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const n=ax(s);return sx.test(n)?n:vm}catch{return vm}}function ax(s){return ix(s).substr(0,22)}function Sh(s){return`${s.appName}!${s.appId}`}const UT=new Map;function jT(s,e){const n=Sh(s);PT(n,e),ox(n,e)}function PT(s,e){const n=UT.get(s);if(n)for(const r of n)r(e)}function ox(s,e){const n=lx();n&&n.postMessage({key:s,fid:e}),ux()}let Fr=null;function lx(){return!Fr&&"BroadcastChannel"in self&&(Fr=new BroadcastChannel("[Firebase] FID Change"),Fr.onmessage=s=>{PT(s.data.key,s.data.fid)}),Fr}function ux(){UT.size===0&&Fr&&(Fr.close(),Fr=null)}const cx="firebase-installations-database",hx=1,Xr="firebase-installations-store";let im=null;function Fm(){return im||(im=bT(cx,hx,{upgrade:(s,e)=>{e===0&&s.createObjectStore(Xr)}})),im}async function sh(s,e){const n=Sh(s),o=(await Fm()).transaction(Xr,"readwrite"),u=o.objectStore(Xr),f=await u.get(n);return await u.put(e,n),await o.done,(!f||f.fid!==e.fid)&&jT(s,e.fid),e}async function zT(s){const e=Sh(s),r=(await Fm()).transaction(Xr,"readwrite");await r.objectStore(Xr).delete(e),await r.done}async function xh(s,e){const n=Sh(s),o=(await Fm()).transaction(Xr,"readwrite"),u=o.objectStore(Xr),f=await u.get(n),m=e(f);return m===void 0?await u.delete(n):await u.put(m,n),await o.done,m&&(!f||f.fid!==m.fid)&&jT(s,m.fid),m}async function Gm(s){let e;const n=await xh(s.appConfig,r=>{const o=fx(r),u=dx(s,o);return e=u.registrationPromise,u.installationEntry});return n.fid===vm?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function fx(s){const e=s||{fid:rx(),registrationStatus:0};return BT(e)}function dx(s,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Kr.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=mx(s,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:px(s)}:{installationEntry:e}}async function mx(s,e){try{const n=await nx(s,e);return sh(s.appConfig,n)}catch(n){throw NT(n)&&n.customData.serverCode===409?await zT(s.appConfig):await sh(s.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function px(s){let e=await Dv(s.appConfig);for(;e.registrationStatus===1;)await LT(100),e=await Dv(s.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Gm(s);return r||n}return e}function Dv(s){return xh(s,e=>{if(!e)throw Kr.create("installation-not-found");return BT(e)})}function BT(s){return gx(s)?{fid:s.fid,registrationStatus:0}:s}function gx(s){return s.registrationStatus===1&&s.registrationTime+RT<Date.now()}async function yx({appConfig:s,heartbeatServiceProvider:e},n){const r=_x(s,n),o=W1(s,n),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={installation:{sdkVersion:IT,appId:s.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},_=await kT(()=>fetch(r,m));if(_.ok){const g=await _.json();return OT(g)}else throw await MT("Generate Auth Token",_)}function _x(s,{fid:e}){return`${DT(s)}/${e}/authTokens:generate`}async function Ym(s,e=!1){let n;const r=await xh(s.appConfig,u=>{if(!qT(u))throw Kr.create("not-registered");const f=u.authToken;if(!e&&Ex(f))return u;if(f.requestStatus===1)return n=vx(s,e),u;{if(!navigator.onLine)throw Kr.create("app-offline");const m=wx(u);return n=Tx(s,m),m}});return n?await n:r.authToken}async function vx(s,e){let n=await Ov(s.appConfig);for(;n.authToken.requestStatus===1;)await LT(100),n=await Ov(s.appConfig);const r=n.authToken;return r.requestStatus===0?Ym(s,e):r}function Ov(s){return xh(s,e=>{if(!qT(e))throw Kr.create("not-registered");const n=e.authToken;return Ax(n)?{...e,authToken:{requestStatus:0}}:e})}async function Tx(s,e){try{const n=await yx(s,e),r={...e,authToken:n};return await sh(s.appConfig,r),n}catch(n){if(NT(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await zT(s.appConfig);else{const r={...e,authToken:{requestStatus:0}};await sh(s.appConfig,r)}throw n}}function qT(s){return s!==void 0&&s.registrationStatus===2}function Ex(s){return s.requestStatus===2&&!bx(s)}function bx(s){const e=Date.now();return e<s.creationTime||s.creationTime+s.expiresIn<e+X1}function wx(s){const e={requestStatus:1,requestTime:Date.now()};return{...s,authToken:e}}function Ax(s){return s.requestStatus===1&&s.requestTime+RT<Date.now()}async function Sx(s){const e=s,{installationEntry:n,registrationPromise:r}=await Gm(e);return r?r.catch(console.error):Ym(e).catch(console.error),n.fid}async function xx(s,e=!1){const n=s;return await Rx(n),(await Ym(n,e)).token}async function Rx(s){const{registrationPromise:e}=await Gm(s);e&&await e}function Ix(s){if(!s||!s.options)throw sm("App Configuration");if(!s.name)throw sm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!s.options[n])throw sm(n);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function sm(s){return Kr.create("missing-app-config-values",{valueName:s})}const HT="installations",Cx="installations-internal",Nx=s=>{const e=s.getProvider("app").getImmediate(),n=Ix(e),r=ea(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Dx=s=>{const e=s.getProvider("app").getImmediate(),n=ea(e,HT).getImmediate();return{getId:()=>Sx(n),getToken:o=>xx(n,o)}};function Ox(){ki(new ni(HT,Nx,"PUBLIC")),ki(new ni(Cx,Dx,"PRIVATE"))}Ox();Pn(xT,Hm);Pn(xT,Hm,"esm2020");const rh="analytics",Mx="firebase_id",Vx="origin",kx=60*1e3,Lx="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Qm="https://www.googletagmanager.com/gtag/js";const sn=new Ah("@firebase/analytics");const Ux={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},An=new Wr("analytics","Analytics",Ux);function jx(s){if(!s.startsWith(Qm)){const e=An.create("invalid-gtag-resource",{gtagURL:s});return sn.warn(e.message),""}return s}function FT(s){return Promise.all(s.map(e=>e.catch(n=>n)))}function Px(s,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(s,e)),n}function zx(s,e){const n=Px("firebase-js-sdk-policy",{createScriptURL:jx}),r=document.createElement("script"),o=`${Qm}?l=${s}&id=${e}`;r.src=n?n?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function Bx(s){let e=[];return Array.isArray(window[s])?e=window[s]:window[s]=e,e}async function qx(s,e,n,r,o,u){const f=r[o];try{if(f)await e[f];else{const _=(await FT(n)).find(g=>g.measurementId===o);_&&await e[_.appId]}}catch(m){sn.error(m)}s("config",o,u)}async function Hx(s,e,n,r,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await FT(n);for(const _ of f){const g=m.find(A=>A.measurementId===_),b=g&&e[g.appId];if(b)u.push(b);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),s("event",r,o||{})}catch(u){sn.error(u)}}function Fx(s,e,n,r){async function o(u,...f){try{if(u==="event"){const[m,_]=f;await Hx(s,e,n,m,_)}else if(u==="config"){const[m,_]=f;await qx(s,e,n,r,m,_)}else if(u==="consent"){const[m,_]=f;s("consent",m,_)}else if(u==="get"){const[m,_,g]=f;s("get",m,_,g)}else if(u==="set"){const[m]=f;s("set",m)}else s(u,...f)}catch(m){sn.error(m)}}return o}function Gx(s,e,n,r,o){let u=function(...f){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=Fx(u,s,e,n),{gtagCore:u,wrappedGtag:window[o]}}function Yx(s){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Qm)&&n.src.includes(s))return n;return null}const Qx=30,Kx=1e3;class Xx{constructor(e={},n=Kx){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const GT=new Xx;function $x(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function Jx(s){const{appId:e,apiKey:n}=s,r={method:"GET",headers:$x(n)},o=Lx.replace("{app-id}",e),u=await fetch(o,r);if(u.status!==200&&u.status!==304){let f="";try{const m=await u.json();m.error?.message&&(f=m.error.message)}catch{}throw An.create("config-fetch-failed",{httpStatus:u.status,responseMessage:f})}return u.json()}async function Zx(s,e=GT,n){const{appId:r,apiKey:o,measurementId:u}=s.options;if(!r)throw An.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:r};throw An.create("no-api-key")}const f=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new tR;return setTimeout(async()=>{m.abort()},kx),YT({appId:r,apiKey:o,measurementId:u},f,m,e)}async function YT(s,{throttleEndTimeMillis:e,backoffCount:n},r,o=GT){const{appId:u,measurementId:f}=s;try{await Wx(r,e)}catch(m){if(f)return sn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:u,measurementId:f};throw m}try{const m=await Jx(s);return o.deleteThrottleMetadata(u),m}catch(m){const _=m;if(!eR(_)){if(o.deleteThrottleMetadata(u),f)return sn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${_?.message}]`),{appId:u,measurementId:f};throw m}const g=Number(_?.customData?.httpStatus)===503?bv(n,o.intervalMillis,Qx):bv(n,o.intervalMillis),b={throttleEndTimeMillis:Date.now()+g,backoffCount:n+1};return o.setThrottleMetadata(u,b),sn.debug(`Calling attemptFetch again in ${g} millis`),YT(s,b,r,o)}}function Wx(s,e){return new Promise((n,r)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);s.addEventListener(()=>{clearTimeout(u),r(An.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function eR(s){if(!(s instanceof si)||!s.customData)return!1;const e=Number(s.customData.httpStatus);return e===429||e===500||e===503||e===504}class tR{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function nR(s,e,n,r,o){if(o&&o.global){s("event",n,r);return}else{const u=await e,f={...r,send_to:u};s("event",n,f)}}async function iR(s,e,n,r){if(r&&r.global){const o={};for(const u of Object.keys(n))o[`user_properties.${u}`]=n[u];return s("set",o),Promise.resolve()}else{const o=await e;s("config",o,{update:!0,user_properties:n})}}async function sR(){if(_T())try{await vT()}catch(s){return sn.warn(An.create("indexeddb-unavailable",{errorInfo:s?.toString()}).message),!1}else return sn.warn(An.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function rR(s,e,n,r,o,u,f){const m=Zx(s);m.then(I=>{n[I.measurementId]=I.appId,s.options.measurementId&&I.measurementId!==s.options.measurementId&&sn.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${I.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(I=>sn.error(I)),e.push(m);const _=sR().then(I=>{if(I)return r.getId()}),[g,b]=await Promise.all([m,_]);Yx(u)||zx(u,g.measurementId),o("js",new Date);const A=f?.config??{};return A[Vx]="firebase",A.update=!0,b!=null&&(A[Mx]=b),o("config",g.measurementId,A),g.measurementId}class aR{constructor(e){this.app=e}_delete(){return delete to[this.app.options.appId],Promise.resolve()}}let to={},Mv=[];const Vv={};let rm="dataLayer",oR="gtag",kv,Km,Lv=!1;function lR(){const s=[];if(yT()&&s.push("This is a browser extension environment."),RS()||s.push("Cookies are not available."),s.length>0){const e=s.map((r,o)=>`(${o+1}) ${r}`).join(" "),n=An.create("invalid-analytics-context",{errorInfo:e});sn.warn(n.message)}}function uR(s,e,n){lR();const r=s.options.appId;if(!r)throw An.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)sn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw An.create("no-api-key");if(to[r]!=null)throw An.create("already-exists",{id:r});if(!Lv){Bx(rm);const{wrappedGtag:u,gtagCore:f}=Gx(to,Mv,Vv,rm,oR);Km=u,kv=f,Lv=!0}return to[r]=rR(s,Mv,Vv,e,kv,rm,n),new aR(s)}function cR(s=qm()){s=Dt(s);const e=ea(s,rh);return e.isInitialized()?e.getImmediate():hR(s)}function hR(s,e={}){const n=ea(s,rh);if(n.isInitialized()){const o=n.getImmediate();if(as(e,n.getOptions()))return o;throw An.create("already-initialized")}return n.initialize({options:e})}function fR(s,e,n){s=Dt(s),iR(Km,to[s.app.options.appId],e,n).catch(r=>sn.error(r))}function dR(s,e,n,r){s=Dt(s),nR(Km,to[s.app.options.appId],e,n,r).catch(o=>sn.error(o))}const Uv="@firebase/analytics",jv="0.10.19";function mR(){ki(new ni(rh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return uR(r,o,n)},"PUBLIC")),ki(new ni("analytics-internal",s,"PRIVATE")),Pn(Uv,jv),Pn(Uv,jv,"esm2020");function s(e){try{const n=e.getProvider(rh).getImmediate();return{logEvent:(r,o,u)=>dR(n,r,o,u),setUserProperties:(r,o)=>fR(n,r,o)}}catch(n){throw An.create("interop-component-reg-failed",{reason:n})}}}mR();var Pv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var er,QT;(function(){var s;function e(D,R){function C(){}C.prototype=R.prototype,D.F=R.prototype,D.prototype=new C,D.prototype.constructor=D,D.D=function(M,O,k){for(var x=Array(arguments.length-2),we=2;we<arguments.length;we++)x[we-2]=arguments[we];return R.prototype[O].apply(M,x)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,R,C){C||(C=0);const M=Array(16);if(typeof R=="string")for(var O=0;O<16;++O)M[O]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(O=0;O<16;++O)M[O]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=D.g[0],C=D.g[1],O=D.g[2];let k=D.g[3],x;x=R+(k^C&(O^k))+M[0]+3614090360&4294967295,R=C+(x<<7&4294967295|x>>>25),x=k+(O^R&(C^O))+M[1]+3905402710&4294967295,k=R+(x<<12&4294967295|x>>>20),x=O+(C^k&(R^C))+M[2]+606105819&4294967295,O=k+(x<<17&4294967295|x>>>15),x=C+(R^O&(k^R))+M[3]+3250441966&4294967295,C=O+(x<<22&4294967295|x>>>10),x=R+(k^C&(O^k))+M[4]+4118548399&4294967295,R=C+(x<<7&4294967295|x>>>25),x=k+(O^R&(C^O))+M[5]+1200080426&4294967295,k=R+(x<<12&4294967295|x>>>20),x=O+(C^k&(R^C))+M[6]+2821735955&4294967295,O=k+(x<<17&4294967295|x>>>15),x=C+(R^O&(k^R))+M[7]+4249261313&4294967295,C=O+(x<<22&4294967295|x>>>10),x=R+(k^C&(O^k))+M[8]+1770035416&4294967295,R=C+(x<<7&4294967295|x>>>25),x=k+(O^R&(C^O))+M[9]+2336552879&4294967295,k=R+(x<<12&4294967295|x>>>20),x=O+(C^k&(R^C))+M[10]+4294925233&4294967295,O=k+(x<<17&4294967295|x>>>15),x=C+(R^O&(k^R))+M[11]+2304563134&4294967295,C=O+(x<<22&4294967295|x>>>10),x=R+(k^C&(O^k))+M[12]+1804603682&4294967295,R=C+(x<<7&4294967295|x>>>25),x=k+(O^R&(C^O))+M[13]+4254626195&4294967295,k=R+(x<<12&4294967295|x>>>20),x=O+(C^k&(R^C))+M[14]+2792965006&4294967295,O=k+(x<<17&4294967295|x>>>15),x=C+(R^O&(k^R))+M[15]+1236535329&4294967295,C=O+(x<<22&4294967295|x>>>10),x=R+(O^k&(C^O))+M[1]+4129170786&4294967295,R=C+(x<<5&4294967295|x>>>27),x=k+(C^O&(R^C))+M[6]+3225465664&4294967295,k=R+(x<<9&4294967295|x>>>23),x=O+(R^C&(k^R))+M[11]+643717713&4294967295,O=k+(x<<14&4294967295|x>>>18),x=C+(k^R&(O^k))+M[0]+3921069994&4294967295,C=O+(x<<20&4294967295|x>>>12),x=R+(O^k&(C^O))+M[5]+3593408605&4294967295,R=C+(x<<5&4294967295|x>>>27),x=k+(C^O&(R^C))+M[10]+38016083&4294967295,k=R+(x<<9&4294967295|x>>>23),x=O+(R^C&(k^R))+M[15]+3634488961&4294967295,O=k+(x<<14&4294967295|x>>>18),x=C+(k^R&(O^k))+M[4]+3889429448&4294967295,C=O+(x<<20&4294967295|x>>>12),x=R+(O^k&(C^O))+M[9]+568446438&4294967295,R=C+(x<<5&4294967295|x>>>27),x=k+(C^O&(R^C))+M[14]+3275163606&4294967295,k=R+(x<<9&4294967295|x>>>23),x=O+(R^C&(k^R))+M[3]+4107603335&4294967295,O=k+(x<<14&4294967295|x>>>18),x=C+(k^R&(O^k))+M[8]+1163531501&4294967295,C=O+(x<<20&4294967295|x>>>12),x=R+(O^k&(C^O))+M[13]+2850285829&4294967295,R=C+(x<<5&4294967295|x>>>27),x=k+(C^O&(R^C))+M[2]+4243563512&4294967295,k=R+(x<<9&4294967295|x>>>23),x=O+(R^C&(k^R))+M[7]+1735328473&4294967295,O=k+(x<<14&4294967295|x>>>18),x=C+(k^R&(O^k))+M[12]+2368359562&4294967295,C=O+(x<<20&4294967295|x>>>12),x=R+(C^O^k)+M[5]+4294588738&4294967295,R=C+(x<<4&4294967295|x>>>28),x=k+(R^C^O)+M[8]+2272392833&4294967295,k=R+(x<<11&4294967295|x>>>21),x=O+(k^R^C)+M[11]+1839030562&4294967295,O=k+(x<<16&4294967295|x>>>16),x=C+(O^k^R)+M[14]+4259657740&4294967295,C=O+(x<<23&4294967295|x>>>9),x=R+(C^O^k)+M[1]+2763975236&4294967295,R=C+(x<<4&4294967295|x>>>28),x=k+(R^C^O)+M[4]+1272893353&4294967295,k=R+(x<<11&4294967295|x>>>21),x=O+(k^R^C)+M[7]+4139469664&4294967295,O=k+(x<<16&4294967295|x>>>16),x=C+(O^k^R)+M[10]+3200236656&4294967295,C=O+(x<<23&4294967295|x>>>9),x=R+(C^O^k)+M[13]+681279174&4294967295,R=C+(x<<4&4294967295|x>>>28),x=k+(R^C^O)+M[0]+3936430074&4294967295,k=R+(x<<11&4294967295|x>>>21),x=O+(k^R^C)+M[3]+3572445317&4294967295,O=k+(x<<16&4294967295|x>>>16),x=C+(O^k^R)+M[6]+76029189&4294967295,C=O+(x<<23&4294967295|x>>>9),x=R+(C^O^k)+M[9]+3654602809&4294967295,R=C+(x<<4&4294967295|x>>>28),x=k+(R^C^O)+M[12]+3873151461&4294967295,k=R+(x<<11&4294967295|x>>>21),x=O+(k^R^C)+M[15]+530742520&4294967295,O=k+(x<<16&4294967295|x>>>16),x=C+(O^k^R)+M[2]+3299628645&4294967295,C=O+(x<<23&4294967295|x>>>9),x=R+(O^(C|~k))+M[0]+4096336452&4294967295,R=C+(x<<6&4294967295|x>>>26),x=k+(C^(R|~O))+M[7]+1126891415&4294967295,k=R+(x<<10&4294967295|x>>>22),x=O+(R^(k|~C))+M[14]+2878612391&4294967295,O=k+(x<<15&4294967295|x>>>17),x=C+(k^(O|~R))+M[5]+4237533241&4294967295,C=O+(x<<21&4294967295|x>>>11),x=R+(O^(C|~k))+M[12]+1700485571&4294967295,R=C+(x<<6&4294967295|x>>>26),x=k+(C^(R|~O))+M[3]+2399980690&4294967295,k=R+(x<<10&4294967295|x>>>22),x=O+(R^(k|~C))+M[10]+4293915773&4294967295,O=k+(x<<15&4294967295|x>>>17),x=C+(k^(O|~R))+M[1]+2240044497&4294967295,C=O+(x<<21&4294967295|x>>>11),x=R+(O^(C|~k))+M[8]+1873313359&4294967295,R=C+(x<<6&4294967295|x>>>26),x=k+(C^(R|~O))+M[15]+4264355552&4294967295,k=R+(x<<10&4294967295|x>>>22),x=O+(R^(k|~C))+M[6]+2734768916&4294967295,O=k+(x<<15&4294967295|x>>>17),x=C+(k^(O|~R))+M[13]+1309151649&4294967295,C=O+(x<<21&4294967295|x>>>11),x=R+(O^(C|~k))+M[4]+4149444226&4294967295,R=C+(x<<6&4294967295|x>>>26),x=k+(C^(R|~O))+M[11]+3174756917&4294967295,k=R+(x<<10&4294967295|x>>>22),x=O+(R^(k|~C))+M[2]+718787259&4294967295,O=k+(x<<15&4294967295|x>>>17),x=C+(k^(O|~R))+M[9]+3951481745&4294967295,D.g[0]=D.g[0]+R&4294967295,D.g[1]=D.g[1]+(O+(x<<21&4294967295|x>>>11))&4294967295,D.g[2]=D.g[2]+O&4294967295,D.g[3]=D.g[3]+k&4294967295}r.prototype.v=function(D,R){R===void 0&&(R=D.length);const C=R-this.blockSize,M=this.C;let O=this.h,k=0;for(;k<R;){if(O==0)for(;k<=C;)o(this,D,k),k+=this.blockSize;if(typeof D=="string"){for(;k<R;)if(M[O++]=D.charCodeAt(k++),O==this.blockSize){o(this,M),O=0;break}}else for(;k<R;)if(M[O++]=D[k++],O==this.blockSize){o(this,M),O=0;break}}this.h=O,this.o+=R},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var R=1;R<D.length-8;++R)D[R]=0;R=this.o*8;for(var C=D.length-8;C<D.length;++C)D[C]=R&255,R/=256;for(this.v(D),D=Array(16),R=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)D[R++]=this.g[C]>>>M&255;return D};function u(D,R){var C=m;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=R(D)}function f(D,R){this.h=R;const C=[];let M=!0;for(let O=D.length-1;O>=0;O--){const k=D[O]|0;M&&k==R||(C[O]=k,M=!1)}this.g=C}var m={};function _(D){return-128<=D&&D<128?u(D,function(R){return new f([R|0],R<0?-1:0)}):new f([D|0],D<0?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return A;if(D<0)return te(g(-D));const R=[];let C=1;for(let M=0;D>=C;M++)R[M]=D/C|0,C*=4294967296;return new f(R,0)}function b(D,R){if(D.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(D.charAt(0)=="-")return te(b(D.substring(1),R));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(R,8));let M=A;for(let k=0;k<D.length;k+=8){var O=Math.min(8,D.length-k);const x=parseInt(D.substring(k,k+O),R);O<8?(O=g(Math.pow(R,O)),M=M.j(O).add(g(x))):(M=M.j(C),M=M.add(g(x)))}return M}var A=_(0),I=_(1),q=_(16777216);s=f.prototype,s.m=function(){if(W(this))return-te(this).m();let D=0,R=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);D+=(M>=0?M:4294967296+M)*R,R*=4294967296}return D},s.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(J(this))return"0";if(W(this))return"-"+te(this).toString(D);const R=g(Math.pow(D,6));var C=this;let M="";for(;;){const O=Se(C,R).g;C=ue(C,O.j(R));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(D);if(C=O,J(C))return k+M;for(;k.length<6;)k="0"+k;M=k+M}},s.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function J(D){if(D.h!=0)return!1;for(let R=0;R<D.g.length;R++)if(D.g[R]!=0)return!1;return!0}function W(D){return D.h==-1}s.l=function(D){return D=ue(this,D),W(D)?-1:J(D)?0:1};function te(D){const R=D.g.length,C=[];for(let M=0;M<R;M++)C[M]=~D.g[M];return new f(C,~D.h).add(I)}s.abs=function(){return W(this)?te(this):this},s.add=function(D){const R=Math.max(this.g.length,D.g.length),C=[];let M=0;for(let O=0;O<=R;O++){let k=M+(this.i(O)&65535)+(D.i(O)&65535),x=(k>>>16)+(this.i(O)>>>16)+(D.i(O)>>>16);M=x>>>16,k&=65535,x&=65535,C[O]=x<<16|k}return new f(C,C[C.length-1]&-2147483648?-1:0)};function ue(D,R){return D.add(te(R))}s.j=function(D){if(J(this)||J(D))return A;if(W(this))return W(D)?te(this).j(te(D)):te(te(this).j(D));if(W(D))return te(this.j(te(D)));if(this.l(q)<0&&D.l(q)<0)return g(this.m()*D.m());const R=this.g.length+D.g.length,C=[];for(var M=0;M<2*R;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<D.g.length;O++){const k=this.i(M)>>>16,x=this.i(M)&65535,we=D.i(O)>>>16,Ie=D.i(O)&65535;C[2*M+2*O]+=x*Ie,ve(C,2*M+2*O),C[2*M+2*O+1]+=k*Ie,ve(C,2*M+2*O+1),C[2*M+2*O+1]+=x*we,ve(C,2*M+2*O+1),C[2*M+2*O+2]+=k*we,ve(C,2*M+2*O+2)}for(D=0;D<R;D++)C[D]=C[2*D+1]<<16|C[2*D];for(D=R;D<2*R;D++)C[D]=0;return new f(C,0)};function ve(D,R){for(;(D[R]&65535)!=D[R];)D[R+1]+=D[R]>>>16,D[R]&=65535,R++}function ye(D,R){this.g=D,this.h=R}function Se(D,R){if(J(R))throw Error("division by zero");if(J(D))return new ye(A,A);if(W(D))return R=Se(te(D),R),new ye(te(R.g),te(R.h));if(W(R))return R=Se(D,te(R)),new ye(te(R.g),R.h);if(D.g.length>30){if(W(D)||W(R))throw Error("slowDivide_ only works with positive integers.");for(var C=I,M=R;M.l(D)<=0;)C=qe(C),M=qe(M);var O=ge(C,1),k=ge(M,1);for(M=ge(M,2),C=ge(C,2);!J(M);){var x=k.add(M);x.l(D)<=0&&(O=O.add(C),k=x),M=ge(M,1),C=ge(C,1)}return R=ue(D,O.j(R)),new ye(O,R)}for(O=A;D.l(R)>=0;){for(C=Math.max(1,Math.floor(D.m()/R.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),k=g(C),x=k.j(R);W(x)||x.l(D)>0;)C-=M,k=g(C),x=k.j(R);J(k)&&(k=I),O=O.add(k),D=ue(D,x)}return new ye(O,D)}s.B=function(D){return Se(this,D).h},s.and=function(D){const R=Math.max(this.g.length,D.g.length),C=[];for(let M=0;M<R;M++)C[M]=this.i(M)&D.i(M);return new f(C,this.h&D.h)},s.or=function(D){const R=Math.max(this.g.length,D.g.length),C=[];for(let M=0;M<R;M++)C[M]=this.i(M)|D.i(M);return new f(C,this.h|D.h)},s.xor=function(D){const R=Math.max(this.g.length,D.g.length),C=[];for(let M=0;M<R;M++)C[M]=this.i(M)^D.i(M);return new f(C,this.h^D.h)};function qe(D){const R=D.g.length+1,C=[];for(let M=0;M<R;M++)C[M]=D.i(M)<<1|D.i(M-1)>>>31;return new f(C,D.h)}function ge(D,R){const C=R>>5;R%=32;const M=D.g.length-C,O=[];for(let k=0;k<M;k++)O[k]=R>0?D.i(k+C)>>>R|D.i(k+C+1)<<32-R:D.i(k+C);return new f(O,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,QT=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=b,er=f}).apply(typeof Pv<"u"?Pv:typeof self<"u"?self:typeof window<"u"?window:{});var zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var KT,Ml,XT,Yc,Tm,$T,JT,ZT;(function(){var s,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof zc=="object"&&zc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function o(c,p){if(p)e:{var v=r;c=c.split(".");for(var w=0;w<c.length-1;w++){var U=c[w];if(!(U in v))break e;v=v[U]}c=c[c.length-1],w=v[c],p=p(w),p!=w&&p!=null&&e(v,c,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(p){var v=[],w;for(w in p)Object.prototype.hasOwnProperty.call(p,w)&&v.push([w,p[w]]);return v}});var u=u||{},f=this||self;function m(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function _(c,p,v){return c.call.apply(c.bind,arguments)}function g(c,p,v){return g=_,g.apply(null,arguments)}function b(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function A(c,p){function v(){}v.prototype=p.prototype,c.Z=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(w,U,B){for(var se=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)se[Ce-2]=arguments[Ce];return p.prototype[U].apply(w,se)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function q(c){const p=c.length;if(p>0){const v=Array(p);for(let w=0;w<p;w++)v[w]=c[w];return v}return[]}function J(c,p){for(let w=1;w<arguments.length;w++){const U=arguments[w];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=c.length||0;const B=U.length||0;c.length=v+B;for(let se=0;se<B;se++)c[v+se]=U[se]}else c.push(U)}}class W{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function te(c){f.setTimeout(()=>{throw c},0)}function ue(){var c=D;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class ve{constructor(){this.h=this.g=null}add(p,v){const w=ye.get();w.set(p,v),this.h?this.h.next=w:this.g=w,this.h=w}}var ye=new W(()=>new Se,c=>c.reset());class Se{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let qe,ge=!1,D=new ve,R=()=>{const c=Promise.resolve(void 0);qe=()=>{c.then(C)}};function C(){for(var c;c=ue();){try{c.h.call(c.g)}catch(v){te(v)}var p=ye;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}ge=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,p),f.removeEventListener("test",v,p)}catch{}return c})();function x(c){return/^[\s\xa0]*$/.test(c)}function we(c,p){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}A(we,O),we.prototype.init=function(c,p){const v=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&we.Z.h.call(this)},we.prototype.h=function(){we.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ie="closure_listenable_"+(Math.random()*1e6|0),F=0;function ne(c,p,v,w,U){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!w,this.ha=U,this.key=++F,this.da=this.fa=!1}function re(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ce(c,p,v){for(const w in c)p.call(v,c[w],w,c)}function ee(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function S(c){const p={};for(const v in c)p[v]=c[v];return p}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(c,p){let v,w;for(let U=1;U<arguments.length;U++){w=arguments[U];for(v in w)c[v]=w[v];for(let B=0;B<G.length;B++)v=G[B],Object.prototype.hasOwnProperty.call(w,v)&&(c[v]=w[v])}}function Z(c){this.src=c,this.g={},this.h=0}Z.prototype.add=function(c,p,v,w,U){const B=c.toString();c=this.g[B],c||(c=this.g[B]=[],this.h++);const se=Te(c,p,w,U);return se>-1?(p=c[se],v||(p.fa=!1)):(p=new ne(p,this.src,B,!!w,U),p.fa=v,c.push(p)),p};function fe(c,p){const v=p.type;if(v in c.g){var w=c.g[v],U=Array.prototype.indexOf.call(w,p,void 0),B;(B=U>=0)&&Array.prototype.splice.call(w,U,1),B&&(re(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Te(c,p,v,w){for(let U=0;U<c.length;++U){const B=c[U];if(!B.da&&B.listener==p&&B.capture==!!v&&B.ha==w)return U}return-1}var De="closure_lm_"+(Math.random()*1e6|0),ft={};function nt(c,p,v,w,U){if(Array.isArray(p)){for(let B=0;B<p.length;B++)nt(c,p[B],v,w,U);return null}return v=Io(v),c&&c[Ie]?c.J(p,v,m(w)?!!w.capture:!1,U):Ui(c,p,v,!1,w,U)}function Ui(c,p,v,w,U,B){if(!p)throw Error("Invalid event type");const se=m(U)?!!U.capture:!!U;let Ce=dr(c);if(Ce||(c[De]=Ce=new Z(c)),v=Ce.add(p,v,w,se,B),v.proxy)return v;if(w=sa(),v.proxy=w,w.src=c,w.listener=v,c.addEventListener)k||(U=se),U===void 0&&(U=!1),c.addEventListener(p.toString(),w,U);else if(c.attachEvent)c.attachEvent(ri(p.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function sa(){function c(v){return p.call(c.src,c.listener,v)}const p=xo;return c}function ra(c,p,v,w,U){if(Array.isArray(p))for(var B=0;B<p.length;B++)ra(c,p[B],v,w,U);else w=m(w)?!!w.capture:!!w,v=Io(v),c&&c[Ie]?(c=c.i,B=String(p).toString(),B in c.g&&(p=c.g[B],v=Te(p,v,w,U),v>-1&&(re(p[v]),Array.prototype.splice.call(p,v,1),p.length==0&&(delete c.g[B],c.h--)))):c&&(c=dr(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Te(p,v,w,U)),(v=c>-1?p[c]:null)&&aa(v))}function aa(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Ie])fe(p.i,c);else{var v=c.type,w=c.proxy;p.removeEventListener?p.removeEventListener(v,w,c.capture):p.detachEvent?p.detachEvent(ri(v),w):p.addListener&&p.removeListener&&p.removeListener(w),(v=dr(p))?(fe(v,c),v.h==0&&(v.src=null,p[De]=null)):re(c)}}}function ri(c){return c in ft?ft[c]:ft[c]="on"+c}function xo(c,p){if(c.da)c=!0;else{p=new we(p,this);const v=c.listener,w=c.ha||c.src;c.fa&&aa(c),c=v.call(w,p)}return c}function dr(c){return c=c[De],c instanceof Z?c:null}var Ro="__closure_events_fn_"+(Math.random()*1e9>>>0);function Io(c){return typeof c=="function"?c:(c[Ro]||(c[Ro]=function(p){return c.handleEvent(p)}),c[Ro])}function vt(){M.call(this),this.i=new Z(this),this.M=this,this.G=null}A(vt,M),vt.prototype[Ie]=!0,vt.prototype.removeEventListener=function(c,p,v,w){ra(this,c,p,v,w)};function Ot(c,p){var v,w=c.G;if(w)for(v=[];w;w=w.G)v.push(w);if(c=c.M,w=p.type||p,typeof p=="string")p=new O(p,c);else if(p instanceof O)p.target=p.target||c;else{var U=p;p=new O(w,c),ie(p,U)}U=!0;let B,se;if(v)for(se=v.length-1;se>=0;se--)B=p.g=v[se],U=ds(B,w,!0,p)&&U;if(B=p.g=c,U=ds(B,w,!0,p)&&U,U=ds(B,w,!1,p)&&U,v)for(se=0;se<v.length;se++)B=p.g=v[se],U=ds(B,w,!1,p)&&U}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const v=c.g[p];for(let w=0;w<v.length;w++)re(v[w]);delete c.g[p],c.h--}}this.G=null},vt.prototype.J=function(c,p,v,w){return this.i.add(String(c),p,!1,v,w)},vt.prototype.K=function(c,p,v,w){return this.i.add(String(c),p,!0,v,w)};function ds(c,p,v,w){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let U=!0;for(let B=0;B<p.length;++B){const se=p[B];if(se&&!se.da&&se.capture==v){const Ce=se.listener,mt=se.ha||se.src;se.fa&&fe(c.i,se),U=Ce.call(mt,w)!==!1&&U}}return U&&!w.defaultPrevented}function Qh(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(c,p||0)}function cu(c){c.g=Qh(()=>{c.g=null,c.i&&(c.i=!1,cu(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class en extends M{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:cu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mr(c){M.call(this),this.h=c,this.g={}}A(mr,M);var Co=[];function No(c){ce(c.g,function(p,v){this.g.hasOwnProperty(v)&&aa(p)},c),c.g={}}mr.prototype.N=function(){mr.Z.N.call(this),No(this)},mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ms=f.JSON.stringify,Kh=f.JSON.parse,hu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function fu(){}function du(){}var zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pt(){O.call(this,"d")}A(Pt,O);function Sn(){O.call(this,"c")}A(Sn,O);var dt={},mu=null;function oa(){return mu=mu||new vt}dt.Ia="serverreachability";function pu(c){O.call(this,dt.Ia,c)}A(pu,O);function ai(c){const p=oa();Ot(p,new pu(p))}dt.STAT_EVENT="statevent";function pr(c,p){O.call(this,dt.STAT_EVENT,c),this.stat=p}A(pr,O);function Tt(c){const p=oa();Ot(p,new pr(p,c))}dt.Ja="timingevent";function oi(c,p){O.call(this,dt.Ja,c),this.size=p}A(oi,O);function li(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},p)}function Bn(){this.g=!0}Bn.prototype.ua=function(){this.g=!1};function Xh(c,p,v,w,U,B){c.info(function(){if(c.g)if(B){var se="",Ce=B.split("&");for(let Ge=0;Ge<Ce.length;Ge++){var mt=Ce[Ge].split("=");if(mt.length>1){const ot=mt[0];mt=mt[1];const Cn=ot.split("_");se=Cn.length>=2&&Cn[1]=="type"?se+(ot+"="+mt+"&"):se+(ot+"=redacted&")}}}else se=null;else se=B;return"XMLHTTP REQ ("+w+") [attempt "+U+"]: "+p+`
`+v+`
`+se})}function gu(c,p,v,w,U,B,se){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+U+"]: "+p+`
`+v+`
`+B+" "+se})}function ui(c,p,v,w){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+$h(c,v)+(w?" "+w:"")})}function gr(c,p){c.info(function(){return"TIMEOUT: "+p})}Bn.prototype.info=function(){};function $h(c,p){if(!c.g)return p;if(!p)return null;try{const B=JSON.parse(p);if(B){for(c=0;c<B.length;c++)if(Array.isArray(B[c])){var v=B[c];if(!(v.length<2)){var w=v[1];if(Array.isArray(w)&&!(w.length<1)){var U=w[0];if(U!="noop"&&U!="stop"&&U!="close")for(let se=1;se<w.length;se++)w[se]=""}}}}return ms(B)}catch{return p}}var yr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Do={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Oo;function _r(){}A(_r,fu),_r.prototype.g=function(){return new XMLHttpRequest},Oo=new _r;function ji(c){return encodeURIComponent(String(c))}function yu(c){var p=1;c=c.split(":");const v=[];for(;p>0&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function qn(c,p,v,w){this.j=c,this.i=p,this.l=v,this.S=w||1,this.V=new mr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hn}function Hn(){this.i=null,this.g="",this.h=!1}var Et={},kt={};function ci(c,p,v){c.M=1,c.A=vr(wt(p)),c.u=v,c.R=!0,la(c,null)}function la(c,p){c.F=Date.now(),hi(c),c.B=wt(c.A);var v=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),fa(v.i,"t",w),c.C=0,v=c.j.L,c.h=new Hn,c.g=Ou(c.j,v?p:null,!c.u),c.P>0&&(c.O=new en(g(c.Y,c,c.g),c.P)),p=c.V,v=c.g,w=c.ba;var U="readystatechange";Array.isArray(U)||(U&&(Co[0]=U.toString()),U=Co);for(let B=0;B<U.length;B++){const se=nt(v,U[B],w||p.handleEvent,!1,p.h||p);if(!se)break;p.g[se.key]=se}p=c.J?S(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),ai(),Xh(c.i,c.v,c.B,c.l,c.S,c.u)}qn.prototype.ba=function(c){c=c.target;const p=this.O;p&&Yn(c)==3?p.j():this.Y(c)},qn.prototype.Y=function(c){try{if(c==this.g)e:{const Ce=Yn(this.g),mt=this.g.ya(),Ge=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||zt(this.g)))){this.K||Ce!=4||mt==7||(mt==8||Ge<=0?ai(3):ai(2)),fi(this);var p=this.g.ca();this.X=p;var v=Jh(this);if(this.o=p==200,gu(this.i,this.v,this.B,this.l,this.S,Ce,p),this.o){if(this.U&&!this.L){t:{if(this.g){var w,U=this.g;if((w=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(w)){var B=w;break t}}B=null}if(c=B)ui(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,di(this,c);else{this.o=!1,this.m=3,Tt(12),mn(this),xn(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<v.length;)if(ot=vu(this,v),ot==kt){Ce==4&&(this.m=4,Tt(14),c=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==Et){this.m=4,Tt(15),ui(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ui(this.i,this.l,ot,null),di(this,ot);if(_u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||v.length!=0||this.h.h||(this.m=1,Tt(16),c=!1),this.o=this.o&&c,!c)ui(this.i,this.l,v,"[Invalid Chunked Response]"),mn(this),xn(this);else if(v.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Qo(se),se.P=!0,Tt(11))}}else ui(this.i,this.l,v,null),di(this,v);Ce==4&&mn(this),this.o&&!this.K&&(Ce==4?Iu(this.j,this):(this.o=!1,hi(this)))}else zi(this.g),p==400&&v.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),mn(this),xn(this)}}}catch{}};function Jh(c){if(!_u(c))return c.g.la();const p=zt(c.g);if(p==="")return"";let v="";const w=p.length,U=Yn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return mn(c),xn(c),"";c.h.i=new f.TextDecoder}for(let B=0;B<w;B++)c.h.h=!0,v+=c.h.i.decode(p[B],{stream:!(U&&B==w-1)});return p.length=0,c.h.g+=v,c.C=0,c.h.g}function _u(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function vu(c,p){var v=c.C,w=p.indexOf(`
`,v);return w==-1?kt:(v=Number(p.substring(v,w)),isNaN(v)?Et:(w+=1,w+v>p.length?kt:(p=p.slice(w,w+v),c.C=w+v,p)))}qn.prototype.cancel=function(){this.K=!0,mn(this)};function hi(c){c.T=Date.now()+c.H,ua(c,c.H)}function ua(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=li(g(c.aa,c),p)}function fi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}qn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(gr(this.i,this.B),this.M!=2&&(ai(),Tt(17)),mn(this),this.m=2,xn(this)):ua(this,this.T-c)};function xn(c){c.j.I==0||c.K||Iu(c.j,c)}function mn(c){fi(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,No(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function di(c,p){try{var v=c.j;if(v.I!=0&&(v.g==c||pi(v.h,c))){if(!c.L&&pi(v.h,c)&&v.I==3){try{var w=v.Ba.g.parse(p)}catch{w=null}if(Array.isArray(w)&&w.length==3){var U=w;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)ya(v),bs(v);else break e;xr(v),Tt(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=li(g(v.Va,v),6e3));mi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ei(v,11)}else if((c.L||v.g==c)&&ya(v),!x(p))for(U=v.Ba.g.parse(p),p=0;p<U.length;p++){let Ge=U[p];const ot=Ge[0];if(!(ot<=v.K))if(v.K=ot,Ge=Ge[1],v.I==2)if(Ge[0]=="c"){v.M=Ge[1],v.ba=Ge[2];const Cn=Ge[3];Cn!=null&&(v.ka=Cn,v.j.info("VER="+v.ka));const bi=Ge[4];bi!=null&&(v.za=bi,v.j.info("SVER="+v.za));const Qn=Ge[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(w=1.5*Qn,v.O=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const Kn=c.g;if(Kn){const Rr=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rr){var B=w.h;B.g||Rr.indexOf("spdy")==-1&&Rr.indexOf("quic")==-1&&Rr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(ko(B,B.h),B.h=null))}if(w.G){const _a=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;_a&&(w.wa=_a,Ke(w.J,w.G,_a))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),w=v;var se=c;if(w.na=Du(w,w.L?w.ba:null,w.W),se.L){Lo(w.h,se);var Ce=se,mt=w.O;mt&&(Ce.H=mt),Ce.D&&(fi(Ce),hi(Ce)),w.g=se}else xu(w);v.i.length>0&&Ti(v)}else Ge[0]!="stop"&&Ge[0]!="close"||Ei(v,7);else v.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Ei(v,7):Go(v):Ge[0]!="noop"&&v.l&&v.l.qa(Ge),v.A=0)}}ai(4)}catch{}}var bt=class{constructor(c,p){this.g=c,this.map=p}};function Mo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Vo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function mi(c){return c.h?1:c.g?c.g.size:0}function pi(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function ko(c,p){c.g?c.g.add(p):c.h=p}function Lo(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Mo.prototype.cancel=function(){if(this.i=Uo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Uo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.G);return p}return q(c.i)}var Tu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ca(c,p){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const w=c[v].indexOf("=");let U,B=null;w>=0?(U=c[v].substring(0,w),B=c[v].substring(w+1)):U=c[v],p(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function pn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof pn?(this.l=c.l,Lt(this,c.j),this.o=c.o,this.g=c.g,ps(this,c.u),this.h=c.h,jo(this,Au(c.i)),this.m=c.m):c&&(p=String(c).match(Tu))?(this.l=!1,Lt(this,p[1]||"",!0),this.o=gi(p[2]||""),this.g=gi(p[3]||"",!0),ps(this,p[4]),this.h=gi(p[5]||"",!0),jo(this,p[6]||"",!0),this.m=gi(p[7]||"")):(this.l=!1,this.i=new ys(null,this.l))}pn.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(Tr(p,ha,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Tr(p,ha,!0),"@"),c.push(ji(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Tr(v,v.charAt(0)=="/"?Po:Eu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Tr(v,bu)),c.join("")},pn.prototype.resolve=function(c){const p=wt(this);let v=!!c.j;v?Lt(p,c.j):v=!!c.o,v?p.o=c.o:v=!!c.g,v?p.g=c.g:v=c.u!=null;var w=c.h;if(v)ps(p,c.u);else if(v=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var U=p.h.lastIndexOf("/");U!=-1&&(w=p.h.slice(0,U+1)+w)}if(U=w,U==".."||U==".")w="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){w=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let se=0;se<U.length;){const Ce=U[se++];Ce=="."?w&&se==U.length&&B.push(""):Ce==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),w&&se==U.length&&B.push("")):(B.push(Ce),w=!0)}w=B.join("/")}else w=U}return v?p.h=w:v=c.i.toString()!=="",v?jo(p,Au(c.i)):v=!!c.m,v&&(p.m=c.m),p};function wt(c){return new pn(c)}function Lt(c,p,v){c.j=v?gi(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function ps(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function jo(c,p,v){p instanceof ys?(c.i=p,da(c.i,c.l)):(v||(p=Tr(p,gs)),c.i=new ys(p,c.l))}function Ke(c,p,v){c.i.set(p,v)}function vr(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function gi(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Tr(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,rn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function rn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ha=/[#\/\?@]/g,Eu=/[#\?:]/g,Po=/[#\?]/g,gs=/[#\?@]/g,bu=/#/g;function ys(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function an(c){c.g||(c.g=new Map,c.h=0,c.i&&ca(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}s=ys.prototype,s.add=function(c,p){an(this),this.i=null,c=_s(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function wu(c,p){an(c),p=_s(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function zo(c,p){return an(c),p=_s(c,p),c.g.has(p)}s.forEach=function(c,p){an(this),this.g.forEach(function(v,w){v.forEach(function(U){c.call(p,U,w,this)},this)},this)};function Bo(c,p){an(c);let v=[];if(typeof p=="string")zo(c,p)&&(v=v.concat(c.g.get(_s(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)v=v.concat(c[p]);return v}s.set=function(c,p){return an(this),this.i=null,c=_s(this,c),zo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},s.get=function(c,p){return c?(c=Bo(this,c),c.length>0?String(c[0]):p):p};function fa(c,p,v){wu(c,p),v.length>0&&(c.i=null,c.g.set(_s(c,p),q(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let w=0;w<p.length;w++){var v=p[w];const U=ji(v);v=Bo(this,v);for(let B=0;B<v.length;B++){let se=U;v[B]!==""&&(se+="="+ji(v[B])),c.push(se)}}return this.i=c.join("&")};function Au(c){const p=new ys;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function _s(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function da(c,p){p&&!c.j&&(an(c),c.i=null,c.g.forEach(function(v,w){const U=w.toLowerCase();w!=U&&(wu(this,w),fa(this,U,v))},c)),c.j=p}function Fn(c,p){const v=new Bn;if(f.Image){const w=new Image;w.onload=b(Rn,v,"TestLoadImage: loaded",!0,p,w),w.onerror=b(Rn,v,"TestLoadImage: error",!1,p,w),w.onabort=b(Rn,v,"TestLoadImage: abort",!1,p,w),w.ontimeout=b(Rn,v,"TestLoadImage: timeout",!1,p,w),f.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else p(!1)}function qo(c,p){const v=new Bn,w=new AbortController,U=setTimeout(()=>{w.abort(),Rn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:w.signal}).then(B=>{clearTimeout(U),B.ok?Rn(v,"TestPingServer: ok",!0,p):Rn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(U),Rn(v,"TestPingServer: error",!1,p)})}function Rn(c,p,v,w,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),w(v)}catch{}}function vs(){this.g=new hu}function yi(c){this.i=c.Sb||null,this.h=c.ab||!1}A(yi,fu),yi.prototype.g=function(){return new Er(this.i,this.h)};function Er(c,p){vt.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Er,vt),s=Er.prototype,s.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,Gn(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ts(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ma(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ma(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Ts(this):Gn(this),this.readyState==3&&ma(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,Ts(this))},s.Na=function(c){this.g&&(this.response=c,Ts(this))},s.ga=function(){this.g&&Ts(this)};function Ts(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Gn(c)}s.setRequestHeader=function(c,p){this.A.append(c,p)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function Gn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Er.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function In(c){let p="";return ce(c,function(v,w){p+=w,p+=":",p+=v,p+=`\r
`}),p}function br(c,p,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=In(v),typeof c=="string"?v!=null&&ji(v):Ke(c,p,v))}function Je(c){vt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Je,vt);var _i=/^https?$/i,Ho=["POST","PUT"];s=Je.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,p,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Oo.g(),this.g.onreadystatechange=I(g(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(B){wr(this,B);return}if(c=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var U in w)v.set(U,w[U]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const B of w.keys())v.set(B,w.get(B));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),U=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Ho,p,void 0)>=0)||w||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,se]of v)this.g.setRequestHeader(B,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(B){wr(this,B)}};function wr(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,Fo(c),Pi(c)}function Fo(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ot(this,"complete"),Ot(this,"abort"),Pi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pi(this,!0)),Je.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Ar(this):this.Xa())},s.Xa=function(){Ar(this)};function Ar(c){if(c.h&&typeof u<"u"){if(c.v&&Yn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ot(c,"readystatechange"),Yn(c)==4){c.h=!1;try{const B=c.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var w;if(w=B===0){let se=String(c.D).match(Tu)[1]||null;!se&&f.self&&f.self.location&&(se=f.self.location.protocol.slice(0,-1)),w=!_i.test(se?se.toLowerCase():"")}v=w}if(v)Ot(c,"complete"),Ot(c,"success");else{c.o=6;try{var U=Yn(c)>2?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.ca()+"]",Fo(c)}}finally{Pi(c)}}}}function Pi(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,p||Ot(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Yn(c){return c.g?c.g.readyState:0}s.ca=function(){try{return Yn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Kh(p)}};function zt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function zi(c){const p={};c=(c.g&&Yn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(x(c[w]))continue;var v=yu(c[w]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=p[U]||[];p[U]=B,B.push(v)}ee(p,function(w){return w.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function Es(c){this.za=0,this.i=[],this.j=new Bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vi("baseRetryDelayMs",5e3,c),this.Za=vi("retryDelaySeedMs",1e4,c),this.Ta=vi("forwardChannelMaxRetries",2,c),this.va=vi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Mo(c&&c.concurrentRequestLimit),this.Ba=new vs,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Es.prototype,s.ka=8,s.I=1,s.connect=function(c,p,v,w){Tt(0),this.W=c,this.H=p||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.J=Du(this,null,this.W),Ti(this)};function Go(c){if(pa(c),c.I==3){var p=c.V++,v=wt(c.J);if(Ke(v,"SID",c.M),Ke(v,"RID",p),Ke(v,"TYPE","terminate"),Sr(c,v),p=new qn(c,c.j,p),p.M=2,p.A=vr(wt(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=p.A,v=!0),v||(p.g=Ou(p.j,null),p.g.ea(p.A)),p.F=Date.now(),hi(p)}Nu(c)}function bs(c){c.g&&(Qo(c),c.g.cancel(),c.g=null)}function pa(c){bs(c),c.v&&(f.clearTimeout(c.v),c.v=null),ya(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Ti(c){if(!Vo(c.h)&&!c.m){c.m=!0;var p=c.Ea;qe||R(),ge||(qe(),ge=!0),D.add(p,c),c.D=0}}function ga(c,p){return mi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=li(g(c.Ea,c,p),Cu(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const U=new qn(this,this.j,c);let B=this.o;if(this.U&&(B?(B=S(B),ie(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(p+=w,p>4096){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=Su(this,U,p),v=wt(this.J),Ke(v,"RID",c),Ke(v,"CVER",22),this.G&&Ke(v,"X-HTTP-Session-Id",this.G),Sr(this,v),B&&(this.R?p="headers="+ji(In(B))+"&"+p:this.u&&br(v,this.u,B)),ko(this.h,U),this.Ra&&Ke(v,"TYPE","init"),this.S?(Ke(v,"$req",p),Ke(v,"SID","null"),U.U=!0,ci(U,v,null)):ci(U,v,p),this.I=2}}else this.I==3&&(c?Yo(this,c):this.i.length==0||Vo(this.h)||Yo(this))};function Yo(c,p){var v;p?v=p.l:v=c.V++;const w=wt(c.J);Ke(w,"SID",c.M),Ke(w,"RID",v),Ke(w,"AID",c.K),Sr(c,w),c.u&&c.o&&br(w,c.u,c.o),v=new qn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),p&&(c.i=p.G.concat(c.i)),p=Su(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),ko(c.h,v),ci(v,w,p)}function Sr(c,p){c.H&&ce(c.H,function(v,w){Ke(p,w,v)}),c.l&&ce({},function(v,w){Ke(p,w,v)})}function Su(c,p,v){v=Math.min(c.i.length,v);const w=c.l?g(c.l.Ka,c.l,c):null;e:{var U=c.i;let Ce=-1;for(;;){const mt=["count="+v];Ce==-1?v>0?(Ce=U[0].g,mt.push("ofs="+Ce)):Ce=0:mt.push("ofs="+Ce);let Ge=!0;for(let ot=0;ot<v;ot++){var B=U[ot].g;const Cn=U[ot].map;if(B-=Ce,B<0)Ce=Math.max(0,U[ot].g-100),Ge=!1;else try{B="req"+B+"_"||"";try{var se=Cn instanceof Map?Cn:Object.entries(Cn);for(const[bi,Qn]of se){let Kn=Qn;m(Qn)&&(Kn=ms(Qn)),mt.push(B+bi+"="+encodeURIComponent(Kn))}}catch(bi){throw mt.push(B+"type="+encodeURIComponent("_badmap")),bi}}catch{w&&w(Cn)}}if(Ge){se=mt.join("&");break e}}se=void 0}return c=c.i.splice(0,v),p.G=c,se}function xu(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;qe||R(),ge||(qe(),ge=!0),D.add(p,c),c.A=0}}function xr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=li(g(c.Da,c),Cu(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,Ru(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=li(g(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),bs(this),Ru(this))};function Qo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Ru(c){c.g=new qn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=wt(c.na);Ke(p,"RID","rpc"),Ke(p,"SID",c.M),Ke(p,"AID",c.K),Ke(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(p,"TO",c.ia),Ke(p,"TYPE","xmlhttp"),Sr(c,p),c.u&&c.o&&br(p,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=vr(wt(p)),v.u=null,v.R=!0,la(v,c)}s.Va=function(){this.C!=null&&(this.C=null,bs(this),xr(this),Tt(19))};function ya(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Iu(c,p){var v=null;if(c.g==p){ya(c),Qo(c),c.g=null;var w=2}else if(pi(c.h,p))v=p.G,Lo(c.h,p),w=1;else return;if(c.I!=0){if(p.o)if(w==1){v=p.u?p.u.length:0,p=Date.now()-p.F;var U=c.D;w=oa(),Ot(w,new oi(w,v)),Ti(c)}else xu(c);else if(U=p.m,U==3||U==0&&p.X>0||!(w==1&&ga(c,p)||w==2&&xr(c)))switch(v&&v.length>0&&(p=c.h,p.i=p.i.concat(v)),U){case 1:Ei(c,5);break;case 4:Ei(c,10);break;case 3:Ei(c,6);break;default:Ei(c,2)}}}function Cu(c,p){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*p}function Ei(c,p){if(c.j.info("Error code "+p),p==2){var v=g(c.bb,c),w=c.Ua;const U=!w;w=new pn(w||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Lt(w,"https"),vr(w),U?Fn(w.toString(),v):qo(w.toString(),v)}else Tt(2);c.I=0,c.l&&c.l.pa(p),Nu(c),pa(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function Nu(c){if(c.I=0,c.ja=[],c.l){const p=Uo(c.h);(p.length!=0||c.i.length!=0)&&(J(c.ja,p),J(c.ja,c.i),c.h.i.length=0,q(c.i),c.i.length=0),c.l.oa()}}function Du(c,p,v){var w=v instanceof pn?wt(v):new pn(v);if(w.g!="")p&&(w.g=p+"."+w.g),ps(w,w.u);else{var U=f.location;w=U.protocol,p=p?p+"."+U.hostname:U.hostname,U=+U.port;const B=new pn(null);w&&Lt(B,w),p&&(B.g=p),U&&ps(B,U),v&&(B.h=v),w=B}return v=c.G,p=c.wa,v&&p&&Ke(w,v,p),Ke(w,"VER",c.ka),Sr(c,w),w}function Ou(c,p,v){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new Je(new yi({ab:v})):new Je(c.ma),p.Fa(c.L),p}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mu(){}s=Mu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ws(){}ws.prototype.g=function(c,p){return new tn(c,p)};function tn(c,p){vt.call(this),this.g=new Es(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!x(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!x(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Bi(this)}A(tn,vt),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Go(this.g)},tn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=ms(c),c=v);p.i.push(new bt(p.Ya++,c)),p.I==3&&Ti(p)},tn.prototype.N=function(){this.g.l=null,delete this.j,Go(this.g),delete this.g,tn.Z.N.call(this)};function Vu(c){Pt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const v in p){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}A(Vu,Pt);function ku(){Sn.call(this),this.status=1}A(ku,Sn);function Bi(c){this.g=c}A(Bi,Mu),Bi.prototype.ra=function(){Ot(this.g,"a")},Bi.prototype.qa=function(c){Ot(this.g,new Vu(c))},Bi.prototype.pa=function(c){Ot(this.g,new ku)},Bi.prototype.oa=function(){Ot(this.g,"b")},ws.prototype.createWebChannel=ws.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,ZT=function(){return new ws},JT=function(){return oa()},$T=dt,Tm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},yr.NO_ERROR=0,yr.TIMEOUT=8,yr.HTTP_ERROR=6,Yc=yr,Do.COMPLETE="complete",XT=Do,du.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",vt.prototype.listen=vt.prototype.J,Ml=du,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,KT=Je}).apply(typeof zc<"u"?zc:typeof self<"u"?self:typeof window<"u"?window:{});class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");let To="12.8.0";function pR(s){To=s}const $r=new Ah("@firebase/firestore");function Xa(){return $r.logLevel}function le(s,...e){if($r.logLevel<=Ue.DEBUG){const n=e.map(Xm);$r.debug(`Firestore (${To}): ${s}`,...n)}}function ls(s,...e){if($r.logLevel<=Ue.ERROR){const n=e.map(Xm);$r.error(`Firestore (${To}): ${s}`,...n)}}function lo(s,...e){if($r.logLevel<=Ue.WARN){const n=e.map(Xm);$r.warn(`Firestore (${To}): ${s}`,...n)}}function Xm(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function Ee(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,WT(s,r,n)}function WT(s,e,n){let r=`FIRESTORE (${To}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ls(r),new Error(r)}function Qe(s,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||WT(e,o,r)}function Re(s,e){return s}const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends si{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class rs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class eE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Jt.UNAUTHENTICATED)))}shutdown(){}}class yR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class _R{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let r=this.i;const o=_=>this.i!==r?(r=this.i,n(_)):Promise.resolve();let u=new rs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new rs,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const _=u;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},m=_=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((_=>m(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?m(_):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new rs)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string",31837,{l:r}),new eE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class vR{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class TR{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new vR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class zv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ER{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const r=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new zv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new zv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function bR(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class $m{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=bR(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=e.charAt(o[u]%62))}return r}}function je(s,e){return s<e?-1:s>e?1:0}function Em(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const o=s.charAt(r),u=e.charAt(r);if(o!==u)return am(o)===am(u)?je(o,u):am(o)?1:-1}return je(s.length,e.length)}const wR=55296,AR=57343;function am(s){const e=s.charCodeAt(0);return e>=wR&&e<=AR}function uo(s,e,n){return s.length===e.length&&s.every(((r,o)=>n(r,e[o])))}const Bv="__name__";class Ii{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ee(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ii.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ii?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const u=Ii.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return je(e.length,n.length)}static compareSegments(e,n){const r=Ii.isNumericId(e),o=Ii.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Ii.extractNumericId(e).compare(Ii.extractNumericId(n)):Em(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return er.fromString(e.substring(4,e.length-2))}}class it extends Ii{construct(e,n,r){return new it(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new oe(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new it(n)}static emptyPath(){return new it([])}}const SR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Ii{construct(e,n,r){return new Yt(e,n,r)}static isValidIdentifier(e){return SR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Bv}static keyField(){return new Yt([Bv])}static fromServerFormat(e){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new oe(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new oe(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new oe(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(r+=m,o++):(u(),o++)}if(u(),f)throw new oe(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(it.fromString(e))}static fromName(e){return new pe(it.fromString(e).popFirst(5))}static empty(){return new pe(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new it(e.slice()))}}function tE(s,e,n){if(!n)throw new oe(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function xR(s,e,n,r){if(e===!0&&r===!0)throw new oe(K.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function qv(s){if(!pe.isDocumentKey(s))throw new oe(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Hv(s){if(pe.isDocumentKey(s))throw new oe(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function nE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Rh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ee(12329,{type:typeof s})}function us(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new oe(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Rh(s);throw new oe(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function Nt(s,e){const n={typeString:s};return e&&(n.value=e),n}function Wl(s,e){if(!nE(s))throw new oe(K.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const f=s[r];if(o&&typeof f!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new oe(K.INVALID_ARGUMENT,n);return!0}const Fv=-62135596800,Gv=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Gv);return new at(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Fv)throw new oe(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Gv}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Wl(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Fv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:Nt("string",at._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new at(0,0))}static max(){return new Ae(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Fl=-1;function RR(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new ir(o,pe.empty(),e)}function IR(s){return new ir(s.readTime,s.key,Fl)}class ir{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ir(Ae.min(),pe.empty(),Fl)}static max(){return new ir(Ae.max(),pe.empty(),Fl)}}function CR(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(s.documentKey,e.documentKey),n!==0?n:je(s.largestBatchId,e.largestBatchId))}const NR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Eo(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==NR)throw s;le("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):$.reject(n)}static resolve(e){return new $(((n,r)=>{n(e)}))}static reject(e){return new $(((n,r)=>{r(e)}))}static waitFor(e){return new $(((n,r)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(_=>r(_)))})),f=!0,u===o&&n()}))}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next((o=>o?$.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(e,n){return new $(((r,o)=>{const u=e.length,f=new Array(u);let m=0;for(let _=0;_<u;_++){const g=_;n(e[g]).next((b=>{f[g]=b,++m,m===u&&r(f)}),(b=>o(b)))}}))}static doWhile(e,n){return new $(((r,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):r()};u()}))}}function OR(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bo(s){return s.name==="IndexedDbTransactionError"}class Ih{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ih.ce=-1;const Jm=-1;function Ch(s){return s==null}function ah(s){return s===0&&1/s==-1/0}function MR(s){return typeof s=="number"&&Number.isInteger(s)&&!ah(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const iE="";function VR(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=Yv(e)),e=kR(s.get(n),e);return Yv(e)}function kR(s,e){let n=e;const r=s.length;for(let o=0;o<r;o++){const u=s.charAt(o);switch(u){case"\0":n+="";break;case iE:n+="";break;default:n+=u}}return n}function Yv(s){return s+iE+""}function Qv(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function cr(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function sE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class ut{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bc(this.root,e,this.comparator,!0)}}class Bc{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,r,o,u){this.key=e,this.value=n,this.color=r??Gt.RED,this.left=o??Gt.EMPTY,this.right=u??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,u){return new Gt(e??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,r,o,u){return this}insert(e,n,r){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Kv(this.data.getIterator())}getIteratorFrom(e){return new Kv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class Kv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new wn([])}unionWith(e){let n=new Vt(Yt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return uo(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class rE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new rE("Invalid base64 string: "+u):u}})(e);return new Kt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const LR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sr(s){if(Qe(!!s,39018),typeof s=="string"){let e=0;const n=LR.exec(s);if(Qe(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yt(s.seconds),nanos:yt(s.nanos)}}function yt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function rr(s){return typeof s=="string"?Kt.fromBase64String(s):Kt.fromUint8Array(s)}const aE="server_timestamp",oE="__type__",lE="__previous_value__",uE="__local_write_time__";function Zm(s){return(s?.mapValue?.fields||{})[oE]?.stringValue===aE}function Nh(s){const e=s.mapValue.fields[lE];return Zm(e)?Nh(e):e}function Gl(s){const e=sr(s.mapValue.fields[uE].timestampValue);return new at(e.seconds,e.nanos)}class UR{constructor(e,n,r,o,u,f,m,_,g,b,A){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=_,this.useFetchStreams=g,this.isUsingEmulator=b,this.apiKey=A}}const oh="(default)";class Yl{constructor(e,n){this.projectId=e,this.database=n||oh}static empty(){return new Yl("","")}get isDefaultDatabase(){return this.database===oh}isEqual(e){return e instanceof Yl&&e.projectId===this.projectId&&e.database===this.database}}function jR(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new oe(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yl(s.options.projectId,e)}const cE="__type__",PR="__max__",qc={mapValue:{}},hE="__vector__",lh="value";function ar(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Zm(s)?4:BR(s)?9007199254740991:zR(s)?10:11:Ee(28295,{value:s})}function Li(s,e){if(s===e)return!0;const n=ar(s);if(n!==ar(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Gl(s).isEqual(Gl(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=sr(o.timestampValue),m=sr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,u){return rr(o.bytesValue).isEqual(rr(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,u){return yt(o.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(u.geoPointValue.longitude)})(s,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return yt(o.integerValue)===yt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=yt(o.doubleValue),m=yt(u.doubleValue);return f===m?ah(f)===ah(m):isNaN(f)&&isNaN(m)}return!1})(s,e);case 9:return uo(s.arrayValue.values||[],e.arrayValue.values||[],Li);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Qv(f)!==Qv(m))return!1;for(const _ in f)if(f.hasOwnProperty(_)&&(m[_]===void 0||!Li(f[_],m[_])))return!1;return!0})(s,e);default:return Ee(52216,{left:s})}}function Ql(s,e){return(s.values||[]).find((n=>Li(n,e)))!==void 0}function co(s,e){if(s===e)return 0;const n=ar(s),r=ar(e);if(n!==r)return je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(s.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=yt(u.integerValue||u.doubleValue),_=yt(f.integerValue||f.doubleValue);return m<_?-1:m>_?1:m===_?0:isNaN(m)?isNaN(_)?0:-1:1})(s,e);case 3:return Xv(s.timestampValue,e.timestampValue);case 4:return Xv(Gl(s),Gl(e));case 5:return Em(s.stringValue,e.stringValue);case 6:return(function(u,f){const m=rr(u),_=rr(f);return m.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),_=f.split("/");for(let g=0;g<m.length&&g<_.length;g++){const b=je(m[g],_[g]);if(b!==0)return b}return je(m.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=je(yt(u.latitude),yt(f.latitude));return m!==0?m:je(yt(u.longitude),yt(f.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return $v(s.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},_=f.fields||{},g=m[lh]?.arrayValue,b=_[lh]?.arrayValue,A=je(g?.values?.length||0,b?.values?.length||0);return A!==0?A:$v(g,b)})(s.mapValue,e.mapValue);case 11:return(function(u,f){if(u===qc.mapValue&&f===qc.mapValue)return 0;if(u===qc.mapValue)return 1;if(f===qc.mapValue)return-1;const m=u.fields||{},_=Object.keys(m),g=f.fields||{},b=Object.keys(g);_.sort(),b.sort();for(let A=0;A<_.length&&A<b.length;++A){const I=Em(_[A],b[A]);if(I!==0)return I;const q=co(m[_[A]],g[b[A]]);if(q!==0)return q}return je(_.length,b.length)})(s.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function Xv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return je(s,e);const n=sr(s),r=sr(e),o=je(n.seconds,r.seconds);return o!==0?o:je(n.nanos,r.nanos)}function $v(s,e){const n=s.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=co(n[o],r[o]);if(u)return u}return je(n.length,r.length)}function ho(s){return bm(s)}function bm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=sr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return rr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return pe.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=bm(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of r)u?u=!1:o+=",",o+=`${f}:${bm(n.fields[f])}`;return o+"}"})(s.mapValue):Ee(61005,{value:s})}function Qc(s){switch(ar(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nh(s);return e?16+Qc(e):16;case 5:return 2*s.stringValue.length;case 6:return rr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Qc(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return cr(r.fields,((u,f)=>{o+=u.length+Qc(f)})),o})(s.mapValue);default:throw Ee(13486,{value:s})}}function Jv(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function wm(s){return!!s&&"integerValue"in s}function Wm(s){return!!s&&"arrayValue"in s}function Zv(s){return!!s&&"nullValue"in s}function Wv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Kc(s){return!!s&&"mapValue"in s}function zR(s){return(s?.mapValue?.fields||{})[cE]?.stringValue===hE}function jl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return cr(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=jl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=jl(s.arrayValue.values[n]);return e}return{...s}}function BR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===PR}class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Kc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=jl(n)}setAll(e){let n=Yt.emptyPath(),r={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const _=this.getFieldsMap(n);this.applyChanges(_,r,o),r={},o=[],n=m.popLast()}f?r[m.lastSegment()]=jl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(e){const n=this.field(e.popLast());Kc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Li(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];Kc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){cr(n,((o,u)=>e[o]=u));for(const o of r)delete e[o]}clone(){return new dn(jl(this.value))}}function fE(s){const e=[];return cr(s.fields,((n,r)=>{const o=new Yt([n]);if(Kc(r)){const u=fE(r.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new wn(e)}class Zt{constructor(e,n,r,o,u,f,m){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,Ae.min(),Ae.min(),Ae.min(),dn.empty(),0)}static newFoundDocument(e,n,r,o){return new Zt(e,1,n,Ae.min(),r,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,Ae.min(),Ae.min(),dn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,Ae.min(),Ae.min(),dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class uh{constructor(e,n){this.position=e,this.inclusive=n}}function e0(s,e,n){let r=0;for(let o=0;o<s.position.length;o++){const u=e[o],f=s.position[o];if(u.field.isKeyField()?r=pe.comparator(pe.fromName(f.referenceValue),n.key):r=co(f,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function t0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Li(s.position[n],e.position[n]))return!1;return!0}class Kl{constructor(e,n="asc"){this.field=e,this.dir=n}}function qR(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class dE{}class Ct extends dE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new FR(e,n,r):n==="array-contains"?new QR(e,r):n==="in"?new KR(e,r):n==="not-in"?new XR(e,r):n==="array-contains-any"?new $R(e,r):new Ct(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new GR(e,r):new YR(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(co(n,this.value)):n!==null&&ar(this.value)===ar(n)&&this.matchesComparison(co(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends dE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ii(e,n)}matches(e){return mE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function mE(s){return s.op==="and"}function pE(s){return HR(s)&&mE(s)}function HR(s){for(const e of s.filters)if(e instanceof ii)return!1;return!0}function Am(s){if(s instanceof Ct)return s.field.canonicalString()+s.op.toString()+ho(s.value);if(pE(s))return s.filters.map((e=>Am(e))).join(",");{const e=s.filters.map((n=>Am(n))).join(",");return`${s.op}(${e})`}}function gE(s,e){return s instanceof Ct?(function(r,o){return o instanceof Ct&&r.op===o.op&&r.field.isEqual(o.field)&&Li(r.value,o.value)})(s,e):s instanceof ii?(function(r,o){return o instanceof ii&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,f,m)=>u&&gE(f,o.filters[m])),!0):!1})(s,e):void Ee(19439)}function yE(s){return s instanceof Ct?(function(n){return`${n.field.canonicalString()} ${n.op} ${ho(n.value)}`})(s):s instanceof ii?(function(n){return n.op.toString()+" {"+n.getFilters().map(yE).join(" ,")+"}"})(s):"Filter"}class FR extends Ct{constructor(e,n,r){super(e,n,r),this.key=pe.fromName(r.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class GR extends Ct{constructor(e,n){super(e,"in",n),this.keys=_E("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class YR extends Ct{constructor(e,n){super(e,"not-in",n),this.keys=_E("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function _E(s,e){return(e.arrayValue?.values||[]).map((n=>pe.fromName(n.referenceValue)))}class QR extends Ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Wm(n)&&Ql(n.arrayValue,this.value)}}class KR extends Ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ql(this.value.arrayValue,n)}}class XR extends Ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ql(this.value.arrayValue,n)}}class $R extends Ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Wm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Ql(this.value.arrayValue,r)))}}class JR{constructor(e,n=null,r=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function n0(s,e=null,n=[],r=[],o=null,u=null,f=null){return new JR(s,e,n,r,o,u,f)}function ep(s){const e=Re(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Am(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Ch(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>ho(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>ho(r))).join(",")),e.Te=n}return e.Te}function tp(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!qR(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!gE(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!t0(s.startAt,e.startAt)&&t0(s.endAt,e.endAt)}function Sm(s){return pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class wo{constructor(e,n=null,r=[],o=[],u=null,f="F",m=null,_=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function ZR(s,e,n,r,o,u,f,m){return new wo(s,e,n,r,o,u,f,m)}function np(s){return new wo(s)}function i0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function WR(s){return pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function vE(s){return s.collectionGroup!==null}function Pl(s){const e=Re(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Vt(Yt.comparator);return f.filters.forEach((_=>{_.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Kl(u,r))})),n.has(Yt.keyField().canonicalString())||e.Ie.push(new Kl(Yt.keyField(),r))}return e.Ie}function Ci(s){const e=Re(s);return e.Ee||(e.Ee=eI(e,Pl(s))),e.Ee}function eI(s,e){if(s.limitType==="F")return n0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Kl(o.field,u)}));const n=s.endAt?new uh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new uh(s.startAt.position,s.startAt.inclusive):null;return n0(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function xm(s,e){const n=s.filters.concat([e]);return new wo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function tI(s,e){const n=s.explicitOrderBy.concat([e]);return new wo(s.path,s.collectionGroup,n,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function ch(s,e,n){return new wo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function Dh(s,e){return tp(Ci(s),Ci(e))&&s.limitType===e.limitType}function TE(s){return`${ep(Ci(s))}|lt:${s.limitType}`}function $a(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>yE(o))).join(", ")}]`),Ch(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>ho(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>ho(o))).join(",")),`Target(${r})`})(Ci(s))}; limitType=${s.limitType})`}function Oh(s,e){return e.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):pe.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,o){for(const u of Pl(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(f,m,_){const g=e0(f,m,_);return f.inclusive?g<=0:g<0})(r.startAt,Pl(r),o)||r.endAt&&!(function(f,m,_){const g=e0(f,m,_);return f.inclusive?g>=0:g>0})(r.endAt,Pl(r),o))})(s,e)}function nI(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function EE(s){return(e,n)=>{let r=!1;for(const o of Pl(s)){const u=iI(o,e,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function iI(s,e,n){const r=s.field.isKeyField()?pe.comparator(e.key,n.key):(function(u,f,m){const _=f.data.field(u),g=m.data.field(u);return _!==null&&g!==null?co(_,g):Ee(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Ee(19790,{direction:s.dir})}}class ta{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){cr(this.inner,((n,r)=>{for(const[o,u]of r)e(o,u)}))}isEmpty(){return sE(this.inner)}size(){return this.innerSize}}const sI=new ut(pe.comparator);function cs(){return sI}const bE=new ut(pe.comparator);function Vl(...s){let e=bE;for(const n of s)e=e.insert(n.key,n);return e}function wE(s){let e=bE;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Gr(){return zl()}function AE(){return zl()}function zl(){return new ta((s=>s.toString()),((s,e)=>s.isEqual(e)))}const rI=new ut(pe.comparator),aI=new Vt(pe.comparator);function Pe(...s){let e=aI;for(const n of s)e=e.add(n);return e}const oI=new Vt(je);function lI(){return oI}function ip(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ah(e)?"-0":e}}function SE(s){return{integerValue:""+s}}function uI(s,e){return MR(e)?SE(e):ip(s,e)}class Mh{constructor(){this._=void 0}}function cI(s,e,n){return s instanceof Xl?(function(o,u){const f={fields:{[oE]:{stringValue:aE},[uE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Zm(u)&&(u=Nh(u)),u&&(f.fields[lE]=u),{mapValue:f}})(n,e):s instanceof fo?RE(s,e):s instanceof $l?IE(s,e):(function(o,u){const f=xE(o,u),m=s0(f)+s0(o.Ae);return wm(f)&&wm(o.Ae)?SE(m):ip(o.serializer,m)})(s,e)}function hI(s,e,n){return s instanceof fo?RE(s,e):s instanceof $l?IE(s,e):n}function xE(s,e){return s instanceof hh?(function(r){return wm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class Xl extends Mh{}class fo extends Mh{constructor(e){super(),this.elements=e}}function RE(s,e){const n=CE(e);for(const r of s.elements)n.some((o=>Li(o,r)))||n.push(r);return{arrayValue:{values:n}}}class $l extends Mh{constructor(e){super(),this.elements=e}}function IE(s,e){let n=CE(e);for(const r of s.elements)n=n.filter((o=>!Li(o,r)));return{arrayValue:{values:n}}}class hh extends Mh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function s0(s){return yt(s.integerValue||s.doubleValue)}function CE(s){return Wm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class NE{constructor(e,n){this.field=e,this.transform=n}}function fI(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof fo&&o instanceof fo||r instanceof $l&&o instanceof $l?uo(r.elements,o.elements,Li):r instanceof hh&&o instanceof hh?Li(r.Ae,o.Ae):r instanceof Xl&&o instanceof Xl})(s.transform,e.transform)}class dI{constructor(e,n){this.version=e,this.transformResults=n}}class Ni{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ni}static exists(e){return new Ni(void 0,e)}static updateTime(e){return new Ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Vh{}function DE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new ME(s.key,Ni.none()):new eu(s.key,s.data,Ni.none());{const n=s.data,r=dn.empty();let o=new Vt(Yt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?r.delete(u):r.set(u,f),o=o.add(u)}return new hr(s.key,r,new wn(o.toArray()),Ni.none())}}function mI(s,e,n){s instanceof eu?(function(o,u,f){const m=o.value.clone(),_=a0(o.fieldTransforms,u,f.transformResults);m.setAll(_),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(s,e,n):s instanceof hr?(function(o,u,f){if(!Xc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=a0(o.fieldTransforms,u,f.transformResults),_=u.data;_.setAll(OE(o)),_.setAll(m),u.convertToFoundDocument(f.version,_).setHasCommittedMutations()})(s,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Bl(s,e,n,r){return s instanceof eu?(function(u,f,m,_){if(!Xc(u.precondition,f))return m;const g=u.value.clone(),b=o0(u.fieldTransforms,_,f);return g.setAll(b),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(s,e,n,r):s instanceof hr?(function(u,f,m,_){if(!Xc(u.precondition,f))return m;const g=o0(u.fieldTransforms,_,f),b=f.data;return b.setAll(OE(u)),b.setAll(g),f.convertToFoundDocument(f.version,b).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(s,e,n,r):(function(u,f,m){return Xc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(s,e,n)}function pI(s,e){let n=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),u=xE(r.transform,o||null);u!=null&&(n===null&&(n=dn.empty()),n.set(r.field,u))}return n||null}function r0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&uo(r,o,((u,f)=>fI(u,f)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class eu extends Vh{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class hr extends Vh{constructor(e,n,r,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function OE(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function a0(s,e,n){const r=new Map;Qe(s.length===n.length,32656,{Ve:n.length,de:s.length});for(let o=0;o<n.length;o++){const u=s[o],f=u.transform,m=e.data.field(u.field);r.set(u.field,hI(f,m,n[o]))}return r}function o0(s,e,n){const r=new Map;for(const o of s){const u=o.transform,f=n.data.field(o.field);r.set(o.field,cI(u,f,e))}return r}class ME extends Vh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gI extends Vh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class yI{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&mI(u,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Bl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Bl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=AE();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const _=DE(f,m);_!==null&&r.set(o.key,_),f.isValidDocument()||f.convertToNoDocument(Ae.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&uo(this.mutations,e.mutations,((n,r)=>r0(n,r)))&&uo(this.baseMutations,e.baseMutations,((n,r)=>r0(n,r)))}}class sp{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){Qe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return rI})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,r[f].version);return new sp(e,n,r,o)}}class _I{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class vI{constructor(e,n){this.count=e,this.unchangedNames=n}}var It,Be;function TI(s){switch(s){case K.OK:return Ee(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return Ee(15467,{code:s})}}function VE(s){if(s===void 0)return ls("GRPC error has no .code"),K.UNKNOWN;switch(s){case It.OK:return K.OK;case It.CANCELLED:return K.CANCELLED;case It.UNKNOWN:return K.UNKNOWN;case It.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case It.INTERNAL:return K.INTERNAL;case It.UNAVAILABLE:return K.UNAVAILABLE;case It.UNAUTHENTICATED:return K.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case It.NOT_FOUND:return K.NOT_FOUND;case It.ALREADY_EXISTS:return K.ALREADY_EXISTS;case It.PERMISSION_DENIED:return K.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case It.ABORTED:return K.ABORTED;case It.OUT_OF_RANGE:return K.OUT_OF_RANGE;case It.UNIMPLEMENTED:return K.UNIMPLEMENTED;case It.DATA_LOSS:return K.DATA_LOSS;default:return Ee(39323,{code:s})}}(Be=It||(It={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";function EI(){return new TextEncoder}const bI=new er([4294967295,4294967295],0);function l0(s){const e=EI().encode(s),n=new QT;return n.update(e),new Uint8Array(n.digest())}function u0(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new er([n,r],0),new er([o,u],0)]}class rp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new kl(`Invalid padding: ${n}`);if(r<0)throw new kl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new kl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new kl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=er.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(er.fromNumber(r)));return o.compare(bI)===1&&(o=new er([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=l0(e),[r,o]=u0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);if(!this.we(f))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new rp(u,o,n);return r.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=l0(e),[r,o]=u0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);this.be(f)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class kh{constructor(e,n,r,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,tu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new kh(Ae.min(),o,new ut(je),cs(),Pe())}}class tu{constructor(e,n,r,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new tu(r,n,Pe(),Pe(),Pe())}}class $c{constructor(e,n,r,o){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=o}}class kE{constructor(e,n){this.targetId=e,this.Ce=n}}class LE{constructor(e,n,r=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class c0{constructor(){this.ve=0,this.Fe=h0(),this.Me=Kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),n=Pe(),r=Pe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Ee(38017,{changeType:u})}})),new tu(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=h0()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class wI{constructor(e){this.Ge=e,this.ze=new Map,this.je=cs(),this.He=Hc(),this.Je=Hc(),this.Ze=new ut(je)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Sm(u))if(r===0){const f=new pe(u.path);this.et(n,f,Zt.newNoDocument(f,Ae.min()))}else Qe(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const m=this.ut(e),_=m?this.ct(m,e,f):1;if(_!==0){this.it(n);const g=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=rr(r).toUint8Array()}catch(_){if(_ instanceof rE)return lo("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{m=new rp(f,o,u)}catch(_){return lo(_ instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return m.ge===0?null:m}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Sm(m.target)){const _=new pe(m.target.path);this.It(_).has(f)||this.Et(f,_)||this.et(f,_,Zt.newNoDocument(_,e))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let r=Pe();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((_=>{const g=this.ot(_);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new kh(e,n,this.Ze,this.je,r);return this.je=cs(),this.He=Hc(),this.Je=Hc(),this.Ze=new ut(je),o}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new c0,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Vt(je),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Vt(je),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new c0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Hc(){return new ut(pe.comparator)}function h0(){return new ut(pe.comparator)}const AI={asc:"ASCENDING",desc:"DESCENDING"},SI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xI={and:"AND",or:"OR"};class RI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Rm(s,e){return s.useProto3Json||Ch(e)?e:{value:e}}function fh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function UE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function II(s,e){return fh(s,e.toTimestamp())}function Di(s){return Qe(!!s,49232),Ae.fromTimestamp((function(n){const r=sr(n);return new at(r.seconds,r.nanos)})(s))}function ap(s,e){return Im(s,e).canonicalString()}function Im(s,e){const n=(function(o){return new it(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?n:n.child(e)}function jE(s){const e=it.fromString(s);return Qe(HE(e),10190,{key:e.toString()}),e}function Cm(s,e){return ap(s.databaseId,e.path)}function om(s,e){const n=jE(e);if(n.get(1)!==s.databaseId.projectId)throw new oe(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new oe(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new pe(zE(n))}function PE(s,e){return ap(s.databaseId,e)}function CI(s){const e=jE(s);return e.length===4?it.emptyPath():zE(e)}function Nm(s){return new it(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function zE(s){return Qe(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function f0(s,e,n){return{name:Cm(s,e),fields:n.value.mapValue.fields}}function NI(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,b){return g.useProto3Json?(Qe(b===void 0||typeof b=="string",58123),Kt.fromBase64String(b||"")):(Qe(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Kt.fromUint8Array(b||new Uint8Array))})(s,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(g){const b=g.code===void 0?K.UNKNOWN:VE(g.code);return new oe(b,g.message||"")})(f);n=new LE(r,o,u,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=om(s,r.document.name),u=Di(r.document.updateTime),f=r.document.createTime?Di(r.document.createTime):Ae.min(),m=new dn({mapValue:{fields:r.document.fields}}),_=Zt.newFoundDocument(o,u,f,m),g=r.targetIds||[],b=r.removedTargetIds||[];n=new $c(g,b,_.key,_)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=om(s,r.document),u=r.readTime?Di(r.readTime):Ae.min(),f=Zt.newNoDocument(o,u),m=r.removedTargetIds||[];n=new $c([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=om(s,r.document),u=r.removedTargetIds||[];n=new $c([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,f=new vI(o,u),m=r.targetId;n=new kE(m,f)}}return n}function DI(s,e){let n;if(e instanceof eu)n={update:f0(s,e.key,e.value)};else if(e instanceof ME)n={delete:Cm(s,e.key)};else if(e instanceof hr)n={update:f0(s,e.key,e.data),updateMask:zI(e.fieldMask)};else{if(!(e instanceof gI))return Ee(16599,{dt:e.type});n={verify:Cm(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(u,f){const m=f.transform;if(m instanceof Xl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof fo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof $l)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof hh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:f.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:II(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(s,e.precondition)),n}function OI(s,e){return s&&s.length>0?(Qe(e!==void 0,14353),s.map((n=>(function(o,u){let f=o.updateTime?Di(o.updateTime):Di(u);return f.isEqual(Ae.min())&&(f=Di(u)),new dI(f,o.transformResults||[])})(n,e)))):[]}function MI(s,e){return{documents:[PE(s,e.path)]}}function VI(s,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=PE(s,o);const u=(function(g){if(g.length!==0)return qE(ii.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((b=>(function(I){return{field:Ja(I.field),direction:UI(I.dir)}})(b)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Rm(s,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function kI(s){let e=CI(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Qe(r===1,65062);const b=n.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let u=[];n.where&&(u=(function(A){const I=BE(A);return I instanceof ii&&pE(I)?I.getFilters():[I]})(n.where));let f=[];n.orderBy&&(f=(function(A){return A.map((I=>(function(J){return new Kl(Za(J.field),(function(te){switch(te){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(I)))})(n.orderBy));let m=null;n.limit&&(m=(function(A){let I;return I=typeof A=="object"?A.value:A,Ch(I)?null:I})(n.limit));let _=null;n.startAt&&(_=(function(A){const I=!!A.before,q=A.values||[];return new uh(q,I)})(n.startAt));let g=null;return n.endAt&&(g=(function(A){const I=!A.before,q=A.values||[];return new uh(q,I)})(n.endAt)),ZR(e,o,f,u,m,"F",_,g)}function LI(s,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function BE(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Za(n.unaryFilter.field);return Ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Za(n.unaryFilter.field);return Ct.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Za(n.unaryFilter.field);return Ct.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Za(n.unaryFilter.field);return Ct.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Ct.create(Za(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return ii.create(n.compositeFilter.filters.map((r=>BE(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(s):Ee(30097,{filter:s})}function UI(s){return AI[s]}function jI(s){return SI[s]}function PI(s){return xI[s]}function Ja(s){return{fieldPath:s.canonicalString()}}function Za(s){return Yt.fromServerFormat(s.fieldPath)}function qE(s){return s instanceof Ct?(function(n){if(n.op==="=="){if(Wv(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NAN"}};if(Zv(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Wv(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NOT_NAN"}};if(Zv(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ja(n.field),op:jI(n.op),value:n.value}}})(s):s instanceof ii?(function(n){const r=n.getFilters().map((o=>qE(o)));return r.length===1?r[0]:{compositeFilter:{op:PI(n.op),filters:r}}})(s):Ee(54877,{filter:s})}function zI(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function HE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function FE(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class Js{constructor(e,n,r,o,u=Ae.min(),f=Ae.min(),m=Kt.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=_}withSequenceNumber(e){return new Js(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class BI{constructor(e){this.yt=e}}function qI(s){const e=kI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?ch(e,e.limit,"L"):e}class HI{constructor(){this.Sn=new FI}addToCollectionParentIndex(e,n){return this.Sn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(ir.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(ir.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class FI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Vt(it.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Vt(it.comparator)).toArray()}}const d0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GE=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(GE,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class mo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new mo(0)}static ar(){return new mo(-1)}}const m0="LruGarbageCollector",GI=1048576;function p0([s,e],[n,r]){const o=je(s,n);return o===0?je(e,r):o}class YI{constructor(e){this.Pr=e,this.buffer=new Vt(p0),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();p0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class QI{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){le(m0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){bo(n)?le(m0,"Ignoring IndexedDB error during garbage collection: ",n):await Eo(n)}await this.Ar(3e5)}))}}class KI{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return $.resolve(Ih.ce);const r=new YI(n);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(d0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),d0):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,o,u,f,m,_,g;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(r=A,m=Date.now(),this.removeTargets(e,r,n)))).next((A=>(u=A,_=Date.now(),this.removeOrphanedDocuments(e,r)))).next((A=>(g=Date.now(),Xa()<=Ue.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-b}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(_-m)+`ms
	Removed ${A} documents in `+(g-_)+`ms
Total Duration: ${g-b}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A}))))}}function XI(s,e){return new KI(s,e)}class $I{constructor(){this.changes=new ta((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class JI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class ZI{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&Bl(r.mutation,o,wn.empty(),at.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Pe()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Pe()){const o=Gr();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((u=>{let f=Vl();return u.forEach(((m,_)=>{f=f.insert(m,_.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const r=Gr();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Pe())))}populateOverlays(e,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,r,o){let u=cs();const f=zl(),m=(function(){return zl()})();return n.forEach(((_,g)=>{const b=r.get(g.key);o.has(g.key)&&(b===void 0||b.mutation instanceof hr)?u=u.insert(g.key,g):b!==void 0?(f.set(g.key,b.mutation.getFieldMask()),Bl(b.mutation,g,b.mutation.getFieldMask(),at.now())):f.set(g.key,wn.empty())})),this.recalculateAndSaveOverlays(e,u).next((_=>(_.forEach(((g,b)=>f.set(g,b))),n.forEach(((g,b)=>m.set(g,new JI(b,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const r=zl();let o=new ut(((f,m)=>f-m)),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((_=>{const g=n.get(_);if(g===null)return;let b=r.get(_)||wn.empty();b=m.applyToLocalView(g,b),r.set(_,b);const A=(o.get(m.batchId)||Pe()).add(_);o=o.insert(m.batchId,A)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const _=m.getNext(),g=_.key,b=_.value,A=AE();b.forEach((I=>{if(!u.has(I)){const q=DE(n.get(I),r.get(I));q!==null&&A.set(I,q),u=u.add(I)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,A))}return $.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return WR(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-u.size):$.resolve(Gr());let m=Fl,_=u;return f.next((g=>$.forEach(g,((b,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(b)?$.resolve():this.remoteDocumentCache.getEntry(e,b).next((I=>{_=_.insert(b,I)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,_,g,Pe()))).next((b=>({batchId:m,changes:wE(b)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((r=>{let o=Vl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const u=n.collectionGroup;let f=Vl();return this.indexManager.getCollectionParents(e,u).next((m=>$.forEach(m,(_=>{const g=(function(A,I){return new wo(I,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(n,_.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,r,o).next((b=>{b.forEach(((A,I)=>{f=f.insert(A,I)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,o)))).next((f=>{u.forEach(((_,g)=>{const b=g.getKey();f.get(b)===null&&(f=f.insert(b,Zt.newInvalidDocument(b)))}));let m=Vl();return f.forEach(((_,g)=>{const b=u.get(_);b!==void 0&&Bl(b.mutation,g,wn.empty(),at.now()),Oh(n,g)&&(m=m.insert(_,g))})),m}))}}class WI{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return $.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Di(o.createTime)}})(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:qI(o.bundledQuery),readTime:Di(o.readTime)}})(n)),$.resolve()}}class e2{constructor(){this.overlays=new ut(pe.comparator),this.Lr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Gr();return $.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,u)=>{this.bt(e,n,u)})),$.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const o=Gr(),u=n.length+1,f=new pe(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const _=m.getNext().value,g=_.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&_.largestBatchId>r&&o.set(_.getKey(),_)}return $.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let u=new ut(((g,b)=>g-b));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>r){let b=u.get(g.largestBatchId);b===null&&(b=Gr(),u=u.insert(g.largestBatchId,b)),b.set(g.getKey(),g)}}const m=Gr(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((g,b)=>m.set(g,b))),!(m.size()>=o)););return $.resolve(m)}bt(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new _I(n,r));let u=this.Lr.get(n);u===void 0&&(u=Pe(),this.Lr.set(n,u)),this.Lr.set(n,u.add(r.key))}}class t2{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}class op{constructor(){this.kr=new Vt(jt.Kr),this.qr=new Vt(jt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new jt(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new jt(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new pe(new it([])),r=new jt(n,e),o=new jt(n,e+1),u=[];return this.qr.forEachInRange([r,o],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new pe(new it([])),r=new jt(n,e),o=new jt(n,e+1);let u=Pe();return this.qr.forEachInRange([r,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new jt(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class jt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return pe.comparator(e.key,n.key)||je(e.Hr,n.Hr)}static Ur(e,n){return je(e.Hr,n.Hr)||pe.comparator(e.key,n.key)}}class n2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Vt(jt.Kr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new yI(u,n,r,o);this.mutationQueue.push(f);for(const m of o)this.Jr=this.Jr.add(new jt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return $.resolve(f)}lookupMutationBatch(e,n){return $.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.Xr(r),u=o<0?0:o;return $.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Jm:this.Yn-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new jt(n,0),o=new jt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([r,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),$.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Vt(je);return n.forEach((o=>{const u=new jt(o,0),f=new jt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(m=>{r=r.add(m.Hr)}))})),$.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let u=r;pe.isDocumentKey(u)||(u=u.child(""));const f=new jt(new pe(u),0);let m=new Vt(je);return this.Jr.forEachWhile((_=>{const g=_.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(m=m.add(_.Hr)),!0)}),f),$.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Qe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return $.forEach(n.mutations,(o=>{const u=new jt(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new jt(n,0),o=this.Jr.firstAfterOrEqual(r);return $.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class i2{constructor(e){this.ti=e,this.docs=(function(){return new ut(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let r=cs();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))})),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let u=cs();const f=n.path,m=new pe(f.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(m);for(;_.hasNext();){const{key:g,value:{document:b}}=_.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||CR(IR(b),r)<=0||(o.has(b.key)||Oh(n,b))&&(u=u.insert(b.key,b.mutableCopy()))}return $.resolve(u)}getAllFromCollectionGroup(e,n,r,o){Ee(9500)}ni(e,n){return $.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new s2(this)}getSize(e){return $.resolve(this.size)}}class s2 extends $I{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),$.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class r2{constructor(e){this.persistence=e,this.ri=new ta((n=>ep(n)),tp),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.ii=0,this.si=new op,this.targetCount=0,this.oi=mo._r()}forEachTarget(e,n){return this.ri.forEach(((r,o)=>n(o))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),$.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new mo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.lr(n),$.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let o=0;const u=[];return this.ri.forEach(((f,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),$.waitFor(u).next((()=>o))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),$.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.si.containsKey(n))}}class YE{constructor(e,n){this._i={},this.overlays={},this.ai=new Ih(0),this.ui=!1,this.ui=!0,this.ci=new t2,this.referenceDelegate=e(this),this.li=new r2(this),this.indexManager=new HI,this.remoteDocumentCache=(function(o){return new i2(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new BI(n),this.Pi=new WI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new e2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new n2(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){le("MemoryPersistence","Starting transaction:",e);const o=new a2(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return $.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class a2 extends DR{constructor(e){super(),this.currentSequenceNumber=e}}class lp{constructor(e){this.persistence=e,this.Ri=new op,this.Ai=null}static Vi(e){return new lp(e)}get di(){if(this.Ai)return this.Ai;throw Ee(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,(r=>{const o=pe.fromPath(r);return this.mi(e,o).next((u=>{u||n.removeEntry(o,Ae.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class dh{constructor(e,n){this.persistence=e,this.fi=new ta((r=>VR(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=XI(this,n)}static Vi(e,n){return new dh(e,n)}Ti(){}Ii(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return $.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((u=>u?$.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(f=>this.wr(e,f,n).next((m=>{m||(r++,u.removeEntry(f,Ae.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),$.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Qc(e.data.value)),n}wr(e,n,r){return $.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return $.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class up{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=o}static Es(e,n){let r=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new up(e,n.fromCache,r,o)}}class o2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class l2{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return xS()?8:OR(Wt())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const u={result:null};return this.gs(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(e,n,o,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new o2;return this.ys(e,n,f).next((m=>{if(u.result=m,this.As)return this.ws(e,n,f,m.size)}))})).next((()=>u.result))}ws(e,n,r,o){return r.documentReadCount<this.Vs?(Xa()<=Ue.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",$a(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(Xa()<=Ue.DEBUG&&le("QueryEngine","Query:",$a(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(Xa()<=Ue.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",$a(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ci(n))):$.resolve())}gs(e,n){if(i0(n))return $.resolve(null);let r=Ci(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=ch(n,null,"F"),r=Ci(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const f=Pe(...u);return this.fs.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,r).next((_=>{const g=this.bs(n,m);return this.Ss(n,g,f,_.readTime)?this.gs(e,ch(n,null,"F")):this.Ds(e,g,n,_)}))))})))))}ps(e,n,r,o){return i0(n)||o.isEqual(Ae.min())?$.resolve(null):this.fs.getDocuments(e,r).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,r,o)?$.resolve(null):(Xa()<=Ue.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),$a(n)),this.Ds(e,f,n,RR(o,Fl)).next((m=>m)))}))}bs(e,n){let r=new Vt(EE(e));return n.forEach(((o,u)=>{Oh(e,u)&&(r=r.add(u))})),r}Ss(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,r){return Xa()<=Ue.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",$a(n)),this.fs.getDocumentsMatchingQuery(e,n,ir.min(),r)}Ds(e,n,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const cp="LocalStore",u2=3e8;class c2{constructor(e,n,r,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ut(je),this.Fs=new ta((u=>ep(u)),tp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function h2(s,e,n,r){return new c2(s,e,n,r)}async function QE(s,e){const n=Re(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],m=[];let _=Pe();for(const g of o){f.push(g.batchId);for(const b of g.mutations)_=_.add(b.key)}for(const g of u){m.push(g.batchId);for(const b of g.mutations)_=_.add(b.key)}return n.localDocuments.getDocuments(r,_).next((g=>({Ns:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function f2(s,e){const n=Re(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,_,g,b){const A=g.batch,I=A.keys();let q=$.resolve();return I.forEach((J=>{q=q.next((()=>b.getEntry(_,J))).next((W=>{const te=g.docVersions.get(J);Qe(te!==null,48541),W.version.compareTo(te)<0&&(A.applyToRemoteDocument(W,g),W.isValidDocument()&&(W.setReadTime(g.commitVersion),b.addEntry(W)))}))})),q.next((()=>m.mutationQueue.removeMutationBatch(_,A)))})(n,r,e,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let _=Pe();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(_=_.add(m.batch.mutations[g].key));return _})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function KE(s){const e=Re(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function d2(s,e){const n=Re(s),r=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((b,A)=>{const I=o.get(A);if(!I)return;m.push(n.li.removeMatchingKeys(u,b.removedDocuments,A).next((()=>n.li.addMatchingKeys(u,b.addedDocuments,A))));let q=I.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?q=q.withResumeToken(Kt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):b.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(b.resumeToken,r)),o=o.insert(A,q),(function(W,te,ue){return W.resumeToken.approximateByteSize()===0||te.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=u2?!0:ue.addedDocuments.size+ue.modifiedDocuments.size+ue.removedDocuments.size>0})(I,q,b)&&m.push(n.li.updateTargetData(u,q))}));let _=cs(),g=Pe();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,b))})),m.push(m2(u,f,e.documentUpdates).next((b=>{_=b.Bs,g=b.Ls}))),!r.isEqual(Ae.min())){const b=n.li.getLastRemoteSnapshotVersion(u).next((A=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(b)}return $.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,_,g))).next((()=>_))})).then((u=>(n.vs=o,u)))}function m2(s,e,n){let r=Pe(),o=Pe();return n.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let f=cs();return n.forEach(((m,_)=>{const g=u.get(m);_.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),_.isNoDocument()&&_.version.isEqual(Ae.min())?(e.removeEntry(m,_.readTime),f=f.insert(m,_)):!g.isValidDocument()||_.version.compareTo(g.version)>0||_.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(_),f=f.insert(m,_)):le(cp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",_.version)})),{Bs:f,Ls:o}}))}function p2(s,e){const n=Re(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Jm),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function g2(s,e){const n=Re(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.li.getTargetData(r,e).next((u=>u?(o=u,$.resolve(o)):n.li.allocateTargetId(r).next((f=>(o=new Js(e,f,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function Dm(s,e,n){const r=Re(s),o=r.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!bo(f))throw f;le(cp,`Failed to update sequence numbers for target ${e}: ${f}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function g0(s,e,n){const r=Re(s);let o=Ae.min(),u=Pe();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(_,g,b){const A=Re(_),I=A.Fs.get(b);return I!==void 0?$.resolve(A.vs.get(I)):A.li.getTargetData(g,b)})(r,f,Ci(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(f,m.targetId).next((_=>{u=_}))})).next((()=>r.Cs.getDocumentsMatchingQuery(f,e,n?o:Ae.min(),n?u:Pe()))).next((m=>(y2(r,nI(e),m),{documents:m,ks:u})))))}function y2(s,e,n){let r=s.Ms.get(e)||Ae.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Ms.set(e,r)}class y0{constructor(){this.activeTargetIds=lI()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _2{constructor(){this.vo=new y0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new y0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class v2{Mo(e){}shutdown(){}}const _0="ConnectivityMonitor";class v0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){le(_0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){le(_0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Fc=null;function Om(){return Fc===null?Fc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Fc++,"0x"+Fc.toString(16)}const lm="RestConnection",T2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class E2{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===oh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,n,r,o,u){const f=Om(),m=this.Qo(e,n.toUriEncodedString());le(lm,`Sending RPC '${e}' ${f}:`,m,r);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,o,u);const{host:g}=new URL(m),b=_o(g);return this.zo(e,m,_,r,b).then((A=>(le(lm,`Received RPC '${e}' ${f}: `,A),A)),(A=>{throw lo(lm,`RPC '${e}' ${f} failed with error: `,A,"url: ",m,"request:",r),A}))}jo(e,n,r,o,u,f){return this.Wo(e,n,r,o,u)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+To})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),r&&r.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const r=T2[e];let o=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class b2{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const $t="WebChannelConnection",Ol=(s,e,n)=>{s.listen(e,(r=>{try{n(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class no extends E2{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!no.c_){const e=JT();Ol(e,$T.STAT_EVENT,(n=>{n.stat===Tm.PROXY?le($t,"STAT_EVENT: detected buffering proxy"):n.stat===Tm.NOPROXY&&le($t,"STAT_EVENT: detected no buffering proxy")})),no.c_=!0}}zo(e,n,r,o,u){const f=Om();return new Promise(((m,_)=>{const g=new KT;g.setWithCredentials(!0),g.listenOnce(XT.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Yc.NO_ERROR:const A=g.getResponseJson();le($t,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(A)),m(A);break;case Yc.TIMEOUT:le($t,`RPC '${e}' ${f} timed out`),_(new oe(K.DEADLINE_EXCEEDED,"Request time out"));break;case Yc.HTTP_ERROR:const I=g.getStatus();if(le($t,`RPC '${e}' ${f} failed with status:`,I,"response text:",g.getResponseText()),I>0){let q=g.getResponseJson();Array.isArray(q)&&(q=q[0]);const J=q?.error;if(J&&J.status&&J.message){const W=(function(ue){const ve=ue.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(ve)>=0?ve:K.UNKNOWN})(J.status);_(new oe(W,J.message))}else _(new oe(K.UNKNOWN,"Server responded with status "+g.getStatus()))}else _(new oe(K.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{le($t,`RPC '${e}' ${f} completed.`)}}));const b=JSON.stringify(o);le($t,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",b,r,15)}))}T_(e,n,r){const o=Om(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(m.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const g=u.join("");le($t,`Creating RPC '${e}' stream ${o}: ${g}`,m);const b=f.createWebChannel(g,m);this.I_(b);let A=!1,I=!1;const q=new b2({Ho:J=>{I?le($t,`Not sending because RPC '${e}' stream ${o} is closed:`,J):(A||(le($t,`Opening RPC '${e}' stream ${o} transport.`),b.open(),A=!0),le($t,`RPC '${e}' stream ${o} sending:`,J),b.send(J))},Jo:()=>b.close()});return Ol(b,Ml.EventType.OPEN,(()=>{I||(le($t,`RPC '${e}' stream ${o} transport opened.`),q.i_())})),Ol(b,Ml.EventType.CLOSE,(()=>{I||(I=!0,le($t,`RPC '${e}' stream ${o} transport closed`),q.o_(),this.E_(b))})),Ol(b,Ml.EventType.ERROR,(J=>{I||(I=!0,lo($t,`RPC '${e}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),q.o_(new oe(K.UNAVAILABLE,"The operation could not be completed")))})),Ol(b,Ml.EventType.MESSAGE,(J=>{if(!I){const W=J.data[0];Qe(!!W,16349);const te=W,ue=te?.error||te[0]?.error;if(ue){le($t,`RPC '${e}' stream ${o} received error:`,ue);const ve=ue.status;let ye=(function(ge){const D=It[ge];if(D!==void 0)return VE(D)})(ve),Se=ue.message;ye===void 0&&(ye=K.INTERNAL,Se="Unknown error status: "+ve+" with message "+ue.message),I=!0,q.o_(new oe(ye,Se)),b.close()}else le($t,`RPC '${e}' stream ${o} received:`,W),q.__(W)}})),no.u_(),setTimeout((()=>{q.s_()}),0),q}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return ZT()}}function w2(s){return new no(s)}function um(){return typeof document<"u"?document:null}function Lh(s){return new RI(s,!0)}no.c_=!1;class XE{constructor(e,n,r=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const T0="PersistentStream";class $E{constructor(e,n,r,o,u,f,m,_){this.Ci=e,this.b_=r,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new XE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(ls(n.toString()),ls("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new oe(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(T0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(le(T0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class A2 extends $E{constructor(e,n,r,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=NI(this.serializer,e),r=(function(u){if(!("targetChange"in u))return Ae.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ae.min():f.readTime?Di(f.readTime):Ae.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=Nm(this.serializer),n.addTarget=(function(u,f){let m;const _=f.target;if(m=Sm(_)?{documents:MI(u,_)}:{query:VI(u,_).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=UE(u,f.resumeToken);const g=Rm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Ae.min())>0){m.readTime=fh(u,f.snapshotVersion.toTimestamp());const g=Rm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const r=LI(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=Nm(this.serializer),n.removeTarget=e,this.K_(n)}}class S2 extends $E{constructor(e,n,r,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=OI(e.writeResults,e.commitTime),r=Di(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Nm(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>DI(this.serializer,r)))};this.K_(n)}}class x2{}class R2 extends x2{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(K.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(e,Im(n,r),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(K.UNKNOWN,u.toString())}))}jo(e,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.jo(e,Im(n,r),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new oe(K.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function I2(s,e,n,r){return new R2(s,e,n,r)}class C2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ls(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Jr="RemoteStore";class N2{constructor(e,n,r,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{r.enqueueAndForget((async()=>{na(this)&&(le(Jr,"Restarting streams for network reachability change."),await(async function(_){const g=Re(_);g.Ea.add(4),await nu(g),g.Va.set("Unknown"),g.Ea.delete(4),await Uh(g)})(this))}))})),this.Va=new C2(r,o)}}async function Uh(s){if(na(s))for(const e of s.Ra)await e(!0)}async function nu(s){for(const e of s.Ra)await e(!1)}function JE(s,e){const n=Re(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),mp(n)?dp(n):Ao(n).O_()&&fp(n,e))}function hp(s,e){const n=Re(s),r=Ao(n);n.Ia.delete(e),r.O_()&&ZE(n,e),n.Ia.size===0&&(r.O_()?r.L_():na(n)&&n.Va.set("Unknown"))}function fp(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ao(s).Z_(e)}function ZE(s,e){s.da.$e(e),Ao(s).X_(e)}function dp(s){s.da=new wI({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Ao(s).start(),s.Va.ua()}function mp(s){return na(s)&&!Ao(s).x_()&&s.Ia.size>0}function na(s){return Re(s).Ea.size===0}function WE(s){s.da=void 0}async function D2(s){s.Va.set("Online")}async function O2(s){s.Ia.forEach(((e,n)=>{fp(s,e)}))}async function M2(s,e){WE(s),mp(s)?(s.Va.ha(e),dp(s)):s.Va.set("Unknown")}async function V2(s,e,n){if(s.Va.set("Online"),e instanceof LE&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.da.removeTarget(m))})(s,e)}catch(r){le(Jr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await mh(s,r)}else if(e instanceof $c?s.da.Xe(e):e instanceof kE?s.da.st(e):s.da.tt(e),!n.isEqual(Ae.min()))try{const r=await KE(s.localStore);n.compareTo(r)>=0&&await(function(u,f){const m=u.da.Tt(f);return m.targetChanges.forEach(((_,g)=>{if(_.resumeToken.approximateByteSize()>0){const b=u.Ia.get(g);b&&u.Ia.set(g,b.withResumeToken(_.resumeToken,f))}})),m.targetMismatches.forEach(((_,g)=>{const b=u.Ia.get(_);if(!b)return;u.Ia.set(_,b.withResumeToken(Kt.EMPTY_BYTE_STRING,b.snapshotVersion)),ZE(u,_);const A=new Js(b.target,_,g,b.sequenceNumber);fp(u,A)})),u.remoteSyncer.applyRemoteEvent(m)})(s,n)}catch(r){le(Jr,"Failed to raise snapshot:",r),await mh(s,r)}}async function mh(s,e,n){if(!bo(e))throw e;s.Ea.add(1),await nu(s),s.Va.set("Offline"),n||(n=()=>KE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{le(Jr,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Uh(s)}))}function eb(s,e){return e().catch((n=>mh(s,n,e)))}async function jh(s){const e=Re(s),n=or(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Jm;for(;k2(e);)try{const o=await p2(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,L2(e,o)}catch(o){await mh(e,o)}tb(e)&&nb(e)}function k2(s){return na(s)&&s.Ta.length<10}function L2(s,e){s.Ta.push(e);const n=or(s);n.O_()&&n.Y_&&n.ea(e.mutations)}function tb(s){return na(s)&&!or(s).x_()&&s.Ta.length>0}function nb(s){or(s).start()}async function U2(s){or(s).ra()}async function j2(s){const e=or(s);for(const n of s.Ta)e.ea(n.mutations)}async function P2(s,e,n){const r=s.Ta.shift(),o=sp.from(r,e,n);await eb(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await jh(s)}async function z2(s,e){e&&or(s).Y_&&await(async function(r,o){if((function(f){return TI(f)&&f!==K.ABORTED})(o.code)){const u=r.Ta.shift();or(r).B_(),await eb(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await jh(r)}})(s,e),tb(s)&&nb(s)}async function E0(s,e){const n=Re(s);n.asyncQueue.verifyOperationInProgress(),le(Jr,"RemoteStore received new credentials");const r=na(n);n.Ea.add(3),await nu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Uh(n)}async function B2(s,e){const n=Re(s);e?(n.Ea.delete(2),await Uh(n)):e||(n.Ea.add(2),await nu(n),n.Va.set("Unknown"))}function Ao(s){return s.ma||(s.ma=(function(n,r,o){const u=Re(n);return u.sa(),new A2(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Zo:D2.bind(null,s),Yo:O2.bind(null,s),t_:M2.bind(null,s),J_:V2.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),mp(s)?dp(s):s.Va.set("Unknown")):(await s.ma.stop(),WE(s))}))),s.ma}function or(s){return s.fa||(s.fa=(function(n,r,o){const u=Re(n);return u.sa(),new S2(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:U2.bind(null,s),t_:z2.bind(null,s),ta:j2.bind(null,s),na:P2.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await jh(s)):(await s.fa.stop(),s.Ta.length>0&&(le(Jr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class pp{constructor(e,n,r,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,u){const f=Date.now()+r,m=new pp(e,n,f,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gp(s,e){if(ls("AsyncQueue",`${e}: ${s}`),bo(s))return new oe(K.UNAVAILABLE,`${e}: ${s}`);throw s}class io{static emptySet(e){return new io(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||pe.comparator(n.key,r.key):(n,r)=>pe.comparator(n.key,r.key),this.keyedMap=Vl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof io)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new io;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class b0{constructor(){this.ga=new ut(pe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class po{constructor(e,n,r,o,u,f,m,_,g){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=_,this.hasCachedResults=g}static fromInitialDocuments(e,n,r,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new po(e,n,io.emptySet(n),f,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class q2{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class H2{constructor(){this.queries=w0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Re(n),u=o.queries;o.queries=w0(),u.forEach(((f,m)=>{for(const _ of m.ba)_.onError(r)}))})(this,new oe(K.ABORTED,"Firestore shutting down"))}}function w0(){return new ta((s=>TE(s)),Dh)}async function ib(s,e){const n=Re(s);let r=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(r=2):(u=new q2,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=gp(f,`Initialization of query '${$a(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&yp(n)}async function sb(s,e){const n=Re(s),r=e.query;let o=3;const u=n.queries.get(r);if(u){const f=u.ba.indexOf(e);f>=0&&(u.ba.splice(f,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function F2(s,e){const n=Re(s);let r=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ba)m.Fa(o)&&(r=!0);f.wa=o}}r&&yp(n)}function G2(s,e,n){const r=Re(s),o=r.queries.get(e);if(o)for(const u of o.ba)u.onError(n);r.queries.delete(e)}function yp(s){s.Ca.forEach((e=>{e.next()}))}var Mm,A0;(A0=Mm||(Mm={})).Ma="default",A0.Cache="cache";class rb{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new po(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=po.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Mm.Cache}}class ab{constructor(e){this.key=e}}class ob{constructor(e){this.key=e}}class Y2{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Pe(),this.mutatedKeys=Pe(),this.eu=EE(e),this.tu=new io(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new b0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,A)=>{const I=o.get(b),q=Oh(this.query,A)?A:null,J=!!I&&this.mutatedKeys.has(I.key),W=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let te=!1;I&&q?I.data.isEqual(q.data)?J!==W&&(r.track({type:3,doc:q}),te=!0):this.su(I,q)||(r.track({type:2,doc:q}),te=!0,(_&&this.eu(q,_)>0||g&&this.eu(q,g)<0)&&(m=!0)):!I&&q?(r.track({type:0,doc:q}),te=!0):I&&!q&&(r.track({type:1,doc:I}),te=!0,(_||g)&&(m=!0)),te&&(q?(f=f.add(q),u=W?u.add(b):u.delete(b)):(f=f.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const b=this.query.limitType==="F"?f.last():f.first();f=f.delete(b.key),u=u.delete(b.key),r.track({type:1,doc:b})}return{tu:f,iu:r,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((b,A)=>(function(q,J){const W=te=>{switch(te){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Vt:te})}};return W(q)-W(J)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(r),o=o??!1;const m=n&&!o?this._u():[],_=this.Ya.size===0&&this.current&&!o?1:0,g=_!==this.Xa;return this.Xa=_,f.length!==0||g?{snapshot:new po(this.query,e.tu,u,f,e.mutatedKeys,_===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new b0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Pe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new ob(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new ab(r))})),n}cu(e){this.Za=e.ks,this.Ya=Pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return po.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const _p="SyncEngine";class Q2{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class K2{constructor(e){this.key=e,this.hu=!1}}class X2{constructor(e,n,r,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ta((m=>TE(m)),Dh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ut(pe.comparator),this.Au=new Map,this.Vu=new op,this.du={},this.mu=new Map,this.fu=mo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function $2(s,e,n=!0){const r=db(s);let o;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await lb(r,e,n,!0),o}async function J2(s,e){const n=db(s);await lb(n,e,!0,!1)}async function lb(s,e,n,r){const o=await g2(s.localStore,Ci(e)),u=o.targetId,f=s.sharedClientState.addLocalQueryTarget(u,n);let m;return r&&(m=await Z2(s,e,u,f==="current",o.resumeToken)),s.isPrimaryClient&&n&&JE(s.remoteStore,o),m}async function Z2(s,e,n,r,o){s.pu=(A,I,q)=>(async function(W,te,ue,ve){let ye=te.view.ru(ue);ye.Ss&&(ye=await g0(W.localStore,te.query,!1).then((({documents:D})=>te.view.ru(D,ye))));const Se=ve&&ve.targetChanges.get(te.targetId),qe=ve&&ve.targetMismatches.get(te.targetId)!=null,ge=te.view.applyChanges(ye,W.isPrimaryClient,Se,qe);return x0(W,te.targetId,ge.au),ge.snapshot})(s,A,I,q);const u=await g0(s.localStore,e,!0),f=new Y2(e,u.ks),m=f.ru(u.documents),_=tu.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),g=f.applyChanges(m,s.isPrimaryClient,_);x0(s,n,g.au);const b=new Q2(e,n,f);return s.Tu.set(e,b),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),g.snapshot}async function W2(s,e,n){const r=Re(s),o=r.Tu.get(e),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((f=>!Dh(f,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Dm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&hp(r.remoteStore,o.targetId),Vm(r,o.targetId)})).catch(Eo)):(Vm(r,o.targetId),await Dm(r.localStore,o.targetId,!0))}async function eC(s,e){const n=Re(s),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),hp(n.remoteStore,r.targetId))}async function tC(s,e,n){const r=lC(s);try{const o=await(function(f,m){const _=Re(f),g=at.now(),b=m.reduce(((q,J)=>q.add(J.key)),Pe());let A,I;return _.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let J=cs(),W=Pe();return _.xs.getEntries(q,b).next((te=>{J=te,J.forEach(((ue,ve)=>{ve.isValidDocument()||(W=W.add(ue))}))})).next((()=>_.localDocuments.getOverlayedDocuments(q,J))).next((te=>{A=te;const ue=[];for(const ve of m){const ye=pI(ve,A.get(ve.key).overlayedDocument);ye!=null&&ue.push(new hr(ve.key,ye,fE(ye.value.mapValue),Ni.exists(!0)))}return _.mutationQueue.addMutationBatch(q,g,ue,m)})).next((te=>{I=te;const ue=te.applyToLocalDocumentSet(A,W);return _.documentOverlayCache.saveOverlays(q,te.batchId,ue)}))})).then((()=>({batchId:I.batchId,changes:wE(A)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(f,m,_){let g=f.du[f.currentUser.toKey()];g||(g=new ut(je)),g=g.insert(m,_),f.du[f.currentUser.toKey()]=g})(r,o.batchId,n),await iu(r,o.changes),await jh(r.remoteStore)}catch(o){const u=gp(o,"Failed to persist write");n.reject(u)}}async function ub(s,e){const n=Re(s);try{const r=await d2(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Qe(f.hu,14607):o.removedDocuments.size>0&&(Qe(f.hu,42227),f.hu=!1))})),await iu(n,r,e)}catch(r){await Eo(r)}}function S0(s,e,n){const r=Re(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const _=Re(f);_.onlineState=m;let g=!1;_.queries.forEach(((b,A)=>{for(const I of A.ba)I.va(m)&&(g=!0)})),g&&yp(_)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function nC(s,e,n){const r=Re(s);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),u=o&&o.key;if(u){let f=new ut(pe.comparator);f=f.insert(u,Zt.newNoDocument(u,Ae.min()));const m=Pe().add(u),_=new kh(Ae.min(),new Map,new ut(je),f,m);await ub(r,_),r.Ru=r.Ru.remove(u),r.Au.delete(e),vp(r)}else await Dm(r.localStore,e,!1).then((()=>Vm(r,e,n))).catch(Eo)}async function iC(s,e){const n=Re(s),r=e.batch.batchId;try{const o=await f2(n.localStore,e);hb(n,r,null),cb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await iu(n,o)}catch(o){await Eo(o)}}async function sC(s,e,n){const r=Re(s);try{const o=await(function(f,m){const _=Re(f);return _.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let b;return _.mutationQueue.lookupMutationBatch(g,m).next((A=>(Qe(A!==null,37113),b=A.keys(),_.mutationQueue.removeMutationBatch(g,A)))).next((()=>_.mutationQueue.performConsistencyCheck(g))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(g,b,m))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,b))).next((()=>_.localDocuments.getDocuments(g,b)))}))})(r.localStore,e);hb(r,e,n),cb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await iu(r,o)}catch(o){await Eo(o)}}function cb(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function hb(s,e,n){const r=Re(s);let o=r.du[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function Vm(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||fb(s,r)}))}function fb(s,e){s.Eu.delete(e.path.canonicalString());const n=s.Ru.get(e);n!==null&&(hp(s.remoteStore,n),s.Ru=s.Ru.remove(e),s.Au.delete(n),vp(s))}function x0(s,e,n){for(const r of n)r instanceof ab?(s.Vu.addReference(r.key,e),rC(s,r)):r instanceof ob?(le(_p,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||fb(s,r.key)):Ee(19791,{wu:r})}function rC(s,e){const n=e.key,r=n.path.canonicalString();s.Ru.get(n)||s.Eu.has(r)||(le(_p,"New document in limbo: "+n),s.Eu.add(r),vp(s))}function vp(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new pe(it.fromString(e)),r=s.fu.next();s.Au.set(r,new K2(n)),s.Ru=s.Ru.insert(n,r),JE(s.remoteStore,new Js(Ci(np(n.path)),r,"TargetPurposeLimboResolution",Ih.ce))}}async function iu(s,e,n){const r=Re(s),o=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,_)=>{f.push(r.pu(_,e,n).then((g=>{if((g||n)&&r.isPrimaryClient){const b=g?!g.fromCache:n?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,b?"current":"not-current")}if(g){o.push(g);const b=up.Es(_.targetId,g);u.push(b)}})))})),await Promise.all(f),r.Pu.J_(o),await(async function(_,g){const b=Re(_);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>$.forEach(g,(I=>$.forEach(I.Ts,(q=>b.persistence.referenceDelegate.addReference(A,I.targetId,q))).next((()=>$.forEach(I.Is,(q=>b.persistence.referenceDelegate.removeReference(A,I.targetId,q)))))))))}catch(A){if(!bo(A))throw A;le(cp,"Failed to update sequence numbers: "+A)}for(const A of g){const I=A.targetId;if(!A.fromCache){const q=b.vs.get(I),J=q.snapshotVersion,W=q.withLastLimboFreeSnapshotVersion(J);b.vs=b.vs.insert(I,W)}}})(r.localStore,u))}async function aC(s,e){const n=Re(s);if(!n.currentUser.isEqual(e)){le(_p,"User change. New user:",e.toKey());const r=await QE(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((_=>{_.reject(new oe(K.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await iu(n,r.Ns)}}function oC(s,e){const n=Re(s),r=n.Au.get(e);if(r&&r.hu)return Pe().add(r.key);{let o=Pe();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function db(s){const e=Re(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=ub.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nC.bind(null,e),e.Pu.J_=F2.bind(null,e.eventManager),e.Pu.yu=G2.bind(null,e.eventManager),e}function lC(s){const e=Re(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sC.bind(null,e),e}class ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return h2(this.persistence,new l2,e.initialUser,this.serializer)}Cu(e){return new YE(lp.Vi,this.serializer)}Du(e){return new _2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ph.provider={build:()=>new ph};class uC extends ph{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Qe(this.persistence.referenceDelegate instanceof dh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new QI(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new YE((r=>dh.Vi(r,n)),this.serializer)}}class km{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>S0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=aC.bind(null,this.syncEngine),await B2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new H2})()}createDatastore(e){const n=Lh(e.databaseInfo.databaseId),r=w2(e.databaseInfo);return I2(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,u,f,m){return new N2(r,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>S0(this.syncEngine,n,0)),(function(){return v0.v()?new v0:new v2})())}createSyncEngine(e,n){return(function(o,u,f,m,_,g,b){const A=new X2(o,u,f,m,_,g);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Re(n);le(Jr,"RemoteStore shutting down."),r.Ea.add(5),await nu(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}km.provider={build:()=>new km};class mb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ls("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const lr="FirestoreClient";class cC{constructor(e,n,r,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=$m.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{le(lr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(le(lr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=gp(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function cm(s,e){s.asyncQueue.verifyOperationInProgress(),le(lr,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await QE(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function R0(s,e){s.asyncQueue.verifyOperationInProgress();const n=await hC(s);le(lr,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>E0(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>E0(e.remoteStore,o))),s._onlineComponents=e}async function hC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){le(lr,"Using user provided OfflineComponentProvider");try{await cm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;lo("Error using user provided cache. Falling back to memory cache: "+n),await cm(s,new ph)}}else le(lr,"Using default OfflineComponentProvider"),await cm(s,new uC(void 0));return s._offlineComponents}async function pb(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(le(lr,"Using user provided OnlineComponentProvider"),await R0(s,s._uninitializedComponentsProvider._online)):(le(lr,"Using default OnlineComponentProvider"),await R0(s,new km))),s._onlineComponents}function fC(s){return pb(s).then((e=>e.syncEngine))}async function gb(s){const e=await pb(s),n=e.eventManager;return n.onListen=$2.bind(null,e.syncEngine),n.onUnlisten=W2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=J2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=eC.bind(null,e.syncEngine),n}function dC(s,e,n={}){const r=new rs;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,_,g){const b=new mb({next:I=>{b.Nu(),f.enqueueAndForget((()=>sb(u,A)));const q=I.docs.has(m);!q&&I.fromCache?g.reject(new oe(K.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&I.fromCache&&_&&_.source==="server"?g.reject(new oe(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(I)},error:I=>g.reject(I)}),A=new rb(np(m.path),b,{includeMetadataChanges:!0,Ka:!0});return ib(u,A)})(await gb(s),s.asyncQueue,e,n,r))),r.promise}function mC(s,e,n={}){const r=new rs;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,_,g){const b=new mb({next:I=>{b.Nu(),f.enqueueAndForget((()=>sb(u,A))),I.fromCache&&_.source==="server"?g.reject(new oe(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(I)},error:I=>g.reject(I)}),A=new rb(m,b,{includeMetadataChanges:!0,Ka:!0});return ib(u,A)})(await gb(s),s.asyncQueue,e,n,r))),r.promise}function pC(s,e){const n=new rs;return s.asyncQueue.enqueueAndForget((async()=>tC(await fC(s),e,n))),n.promise}function yb(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const gC="ComponentProvider",I0=new Map;function yC(s,e,n,r,o){return new UR(s,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,yb(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const _b="firestore.googleapis.com",C0=!0;class N0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_b,this.ssl=C0}else this.host=e.host,this.ssl=e.ssl??C0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=GE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<GI)throw new oe(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yb(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new oe(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new oe(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new oe(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ph{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new N0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new N0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new gR;switch(r.type){case"firstParty":return new TR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new oe(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=I0.get(n);r&&(le(gC,"Removing Datastore"),I0.delete(n),r.terminate())})(this),Promise.resolve()}}function _C(s,e,n,r={}){s=us(s,Ph);const o=_o(e),u=s._getSettings(),f={...u,emulatorOptions:s._getEmulatorOptions()},m=`${e}:${n}`;o&&(pT(`https://${m}`),gT("Firestore",!0)),u.host!==_b&&u.host!==m&&lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...u,host:m,ssl:o,emulatorOptions:r};if(!as(_,f)&&(s._setSettings(_),r.mockUserToken)){let g,b;if(typeof r.mockUserToken=="string")g=r.mockUserToken,b=Jt.MOCK_USER;else{g=_S(r.mockUserToken,s._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new oe(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Jt(A)}s._authCredentials=new yR(new eE(g,b))}}class fr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fr(this.firestore,e,this._query)}}class _t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _t(this.firestore,e,this._key)}toJSON(){return{type:_t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Wl(n,_t._jsonSchema))return new _t(e,r||null,new pe(it.fromString(n.referencePath)))}}_t._jsonSchemaVersion="firestore/documentReference/1.0",_t._jsonSchema={type:Nt("string",_t._jsonSchemaVersion),referencePath:Nt("string")};class tr extends fr{constructor(e,n,r){super(e,n,np(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new pe(e))}withConverter(e){return new tr(this.firestore,e,this._path)}}function vC(s,e,...n){if(s=Dt(s),tE("collection","path",e),s instanceof Ph){const r=it.fromString(e,...n);return Hv(r),new tr(s,null,r)}{if(!(s instanceof _t||s instanceof tr))throw new oe(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(it.fromString(e,...n));return Hv(r),new tr(s.firestore,null,r)}}function zh(s,e,...n){if(s=Dt(s),arguments.length===1&&(e=$m.newId()),tE("doc","path",e),s instanceof Ph){const r=it.fromString(e,...n);return qv(r),new _t(s,null,new pe(r))}{if(!(s instanceof _t||s instanceof tr))throw new oe(K.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(it.fromString(e,...n));return qv(r),new _t(s.firestore,s instanceof tr?s.converter:null,new pe(r))}}const D0="AsyncQueue";class O0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new XE(this,"async_queue_retry"),this._c=()=>{const r=um();r&&le(D0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=um();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=um();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new rs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!bo(e))throw e;le(D0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ls("INTERNAL UNHANDLED ERROR: ",M0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=pp.createAndSchedule(this,e,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:M0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function M0(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class su extends Ph{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new O0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new O0(e),this._firestoreClient=void 0,await e}}}function TC(s,e){const n=typeof s=="object"?s:qm(),r=typeof s=="string"?s:oh,o=ea(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=gS("firestore");u&&_C(o,...u)}return o}function Tp(s){if(s._terminated)throw new oe(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||EC(s),s._firestoreClient}function EC(s){const e=s._freezeSettings(),n=yC(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new cC(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(s._componentsProvider))}class jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jn(Kt.fromBase64String(e))}catch(n){throw new oe(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new jn(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Wl(e,jn._jsonSchema))return jn.fromBase64String(e.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:Nt("string",jn._jsonSchemaVersion),bytes:Nt("string")};class Ep{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ru{constructor(e){this._methodName=e}}class Oi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oi._jsonSchemaVersion}}static fromJSON(e){if(Wl(e,Oi._jsonSchema))return new Oi(e.latitude,e.longitude)}}Oi._jsonSchemaVersion="firestore/geoPoint/1.0",Oi._jsonSchema={type:Nt("string",Oi._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};class ti{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ti._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Wl(e,ti._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ti(e.vectorValues);throw new oe(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ti._jsonSchemaVersion="firestore/vectorValue/1.0",ti._jsonSchema={type:Nt("string",ti._jsonSchemaVersion),vectorValues:Nt("object")};const bC=/^__.*__$/;class wC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new hr(e,this.data,this.fieldMask,n,this.fieldTransforms):new eu(e,this.data,n,this.fieldTransforms)}}class vb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new hr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Tb(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{dataSource:s})}}class Bh{constructor(e,n,r,o,u,f){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Bh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return gh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Tb(this.dataSource)&&bC.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class AC{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Lh(e)}createContext(e,n,r,o=!1){return new Bh({dataSource:e,methodName:n,targetDoc:r,path:Yt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bp(s){const e=s._freezeSettings(),n=Lh(s._databaseId);return new AC(s._databaseId,!!e.ignoreUndefinedProperties,n)}function SC(s,e,n,r,o,u={}){const f=s.createContext(u.merge||u.mergeFields?2:0,e,n,o);Sp("Data must be an object, but it was:",f,r);const m=Eb(r,f);let _,g;if(u.merge)_=new wn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const b=[];for(const A of u.mergeFields){const I=go(e,A,n);if(!f.contains(I))throw new oe(K.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);Ab(b,I)||b.push(I)}_=new wn(b),g=f.fieldTransforms.filter((A=>_.covers(A.field)))}else _=null,g=f.fieldTransforms;return new wC(new dn(m),_,g)}class qh extends ru{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qh}}function xC(s,e,n){return new Bh({dataSource:3,targetDoc:e.settings.targetDoc,methodName:s._methodName,arrayElement:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class wp extends ru{_toFieldTransform(e){return new NE(e.path,new Xl)}isEqual(e){return e instanceof wp}}class Ap extends ru{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=xC(this,e,!0),r=this.Ac.map((u=>So(u,n))),o=new fo(r);return new NE(e.path,o)}isEqual(e){return e instanceof Ap&&as(this.Ac,e.Ac)}}function RC(s,e,n,r){const o=s.createContext(1,e,n);Sp("Data must be an object, but it was:",o,r);const u=[],f=dn.empty();cr(r,((_,g)=>{const b=wb(e,_,n);g=Dt(g);const A=o.childContextForFieldPath(b);if(g instanceof qh)u.push(b);else{const I=So(g,A);I!=null&&(u.push(b),f.set(b,I))}}));const m=new wn(u);return new vb(f,m,o.fieldTransforms)}function IC(s,e,n,r,o,u){const f=s.createContext(1,e,n),m=[go(e,r,n)],_=[o];if(u.length%2!=0)throw new oe(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<u.length;I+=2)m.push(go(e,u[I])),_.push(u[I+1]);const g=[],b=dn.empty();for(let I=m.length-1;I>=0;--I)if(!Ab(g,m[I])){const q=m[I];let J=_[I];J=Dt(J);const W=f.childContextForFieldPath(q);if(J instanceof qh)g.push(q);else{const te=So(J,W);te!=null&&(g.push(q),b.set(q,te))}}const A=new wn(g);return new vb(b,A,f.fieldTransforms)}function CC(s,e,n,r=!1){return So(n,s.createContext(r?4:3,e))}function So(s,e){if(bb(s=Dt(s)))return Sp("Unsupported field value:",e,s),Eb(s,e);if(s instanceof ru)return(function(r,o){if(!Tb(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const u=[];let f=0;for(const m of r){let _=So(m,o.childContextForArray(f));_==null&&(_={nullValue:"NULL_VALUE"}),u.push(_),f++}return{arrayValue:{values:u}}})(s,e)}return(function(r,o){if((r=Dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return uI(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=at.fromDate(r);return{timestampValue:fh(o.serializer,u)}}if(r instanceof at){const u=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:fh(o.serializer,u)}}if(r instanceof Oi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof jn)return{bytesValue:UE(o.serializer,r._byteString)};if(r instanceof _t){const u=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ap(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ti)return(function(f,m){const _=f instanceof ti?f.toArray():f;return{mapValue:{fields:{[cE]:{stringValue:hE},[lh]:{arrayValue:{values:_.map((b=>{if(typeof b!="number")throw m.createError("VectorValues must only contain numeric values.");return ip(m.serializer,b)}))}}}}}})(r,o);if(FE(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Rh(r)}`)})(s,e)}function Eb(s,e){const n={};return sE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cr(s,((r,o)=>{const u=So(o,e.childContextForField(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function bb(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof at||s instanceof Oi||s instanceof jn||s instanceof _t||s instanceof ru||s instanceof ti||FE(s))}function Sp(s,e,n){if(!bb(n)||!nE(n)){const r=Rh(n);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function go(s,e,n){if((e=Dt(e))instanceof Ep)return e._internalPath;if(typeof e=="string")return wb(s,e);throw gh("Field path arguments must be of type string or ",s,!1,void 0,n)}const NC=new RegExp("[~\\*/\\[\\]]");function wb(s,e,n){if(e.search(NC)>=0)throw gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Ep(...e.split("."))._internalPath}catch{throw gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function gh(s,e,n,r,o){const u=r&&!r.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let _="";return(u||f)&&(_+=" (found",u&&(_+=` in field ${r}`),f&&(_+=` in document ${o}`),_+=")"),new oe(K.INVALID_ARGUMENT,m+s+_)}function Ab(s,e){return s.some((n=>n.isEqual(e)))}class DC{convertValue(e,n="none"){switch(ar(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(rr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return cr(e,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(e){const n=e.fields?.[lh].arrayValue?.values?.map((r=>yt(r.doubleValue)));return new ti(n)}convertGeoPoint(e){return new Oi(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Nh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Gl(e));default:return null}}convertTimestamp(e){const n=sr(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=it.fromString(e);Qe(HE(r),9688,{name:e});const o=new Yl(r.get(1),r.get(3)),u=new pe(r.popFirst(5));return o.isEqual(n)||ls(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class Sb extends DC{constructor(e){super(),this.firestore=e}convertBytes(e){return new jn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,n)}}function OC(){return new wp("serverTimestamp")}function MC(...s){return new Ap("arrayUnion",s)}const V0="@firebase/firestore",k0="4.10.0";class xb{constructor(e,n,r,o,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new VC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(go("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class VC extends xb{data(){return super.data()}}function kC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new oe(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xp{}class Rp extends xp{}function LC(s,e,...n){let r=[];e instanceof xp&&r.push(e),r=r.concat(n),(function(u){const f=u.filter((_=>_ instanceof Cp)).length,m=u.filter((_=>_ instanceof Ip)).length;if(f>1||f>0&&m>0)throw new oe(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class Ip extends Rp{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ip(e,n,r)}_apply(e){const n=this._parse(e);return Rb(e._query,n),new fr(e.firestore,e.converter,xm(e._query,n))}_parse(e){const n=bp(e.firestore);return(function(u,f,m,_,g,b,A){let I;if(g.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new oe(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){U0(A,b);const J=[];for(const W of A)J.push(L0(_,u,W));I={arrayValue:{values:J}}}else I=L0(_,u,A)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||U0(A,b),I=CC(m,f,A,b==="in"||b==="not-in");return Ct.create(g,b,I)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Cp extends xp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Cp(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ii.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const _ of m)Rb(f,_),f=xm(f,_)})(e._query,n),new fr(e.firestore,e.converter,xm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Np extends Rp{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Np(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new oe(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new oe(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Kl(u,f)})(e._query,this._field,this._direction);return new fr(e.firestore,e.converter,tI(e._query,n))}}function UC(s,e="asc"){const n=e,r=go("orderBy",s);return Np._create(r,n)}class Dp extends Rp{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Dp(e,n,r)}_apply(e){return new fr(e.firestore,e.converter,ch(e._query,this._limit,this._limitType))}}function jC(s){return Dp._create("limit",s,"F")}function L0(s,e,n){if(typeof(n=Dt(n))=="string"){if(n==="")throw new oe(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vE(e)&&n.indexOf("/")!==-1)throw new oe(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(it.fromString(n));if(!pe.isDocumentKey(r))throw new oe(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Jv(s,new pe(r))}if(n instanceof _t)return Jv(s,n._key);throw new oe(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rh(n)}.`)}function U0(s,e){if(!Array.isArray(s)||s.length===0)throw new oe(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Rb(s,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new oe(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function PC(s,e,n){let r;return r=s?n&&(n.merge||n.mergeFields)?s.toFirestore(e,n):s.toFirestore(e):e,r}class Ll{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Yr extends xb{constructor(e,n,r,o,u,f){super(e,n,r,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(go("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Yr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Yr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Yr._jsonSchema={type:Nt("string",Yr._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class Jc extends Yr{data(e={}){return super.data(e)}}class so{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ll(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Jc(this._firestore,this._userDataWriter,r.key,r,new Ll(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const _=new Jc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ll(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:_,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const _=new Jc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ll(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,b=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),b=f.indexOf(m.doc.key)),{type:zC(m.type),doc:_,oldIndex:g,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=so._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$m.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function zC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:s})}}so._jsonSchemaVersion="firestore/querySnapshot/1.0",so._jsonSchema={type:Nt("string",so._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};function Op(s){s=us(s,_t);const e=us(s.firestore,su),n=Tp(e);return dC(n,s._key).then((r=>HC(e,s,r)))}function BC(s){s=us(s,fr);const e=us(s.firestore,su),n=Tp(e),r=new Sb(e);return kC(s._query),mC(n,s._query).then((o=>new so(e,r,s,o)))}function Lm(s,e,n){s=us(s,_t);const r=us(s.firestore,su),o=PC(s.converter,e,n),u=bp(r);return Ib(r,[SC(u,"setDoc",s._key,o,s.converter!==null,n).toMutation(s._key,Ni.none())])}function qC(s,e,n,...r){s=us(s,_t);const o=us(s.firestore,su),u=bp(o);let f;return f=typeof(e=Dt(e))=="string"||e instanceof Ep?IC(u,"updateDoc",s._key,e,n,r):RC(u,"updateDoc",s._key,e),Ib(o,[f.toMutation(s._key,Ni.exists(!0))])}function Ib(s,e){const n=Tp(s);return pC(n,e)}function HC(s,e,n){const r=n.docs.get(e._key),o=new Sb(s);return new Yr(s,o,e._key,r,new Ll(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){pR(vo),ki(new ni("firestore",((r,{instanceIdentifier:o,options:u})=>{const f=r.getProvider("app").getImmediate(),m=new su(new _R(r.getProvider("auth-internal")),new ER(f,r.getProvider("app-check-internal")),jR(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Pn(V0,k0,e),Pn(V0,k0,"esm2020")})();function Cb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FC=Cb,Nb=new Wr("auth","Firebase",Cb());const yh=new Ah("@firebase/auth");function GC(s,...e){yh.logLevel<=Ue.WARN&&yh.warn(`Auth (${vo}): ${s}`,...e)}function Zc(s,...e){yh.logLevel<=Ue.ERROR&&yh.error(`Auth (${vo}): ${s}`,...e)}function hs(s,...e){throw Mp(s,...e)}function Mi(s,...e){return Mp(s,...e)}function Db(s,e,n){const r={...FC(),[e]:n};return new Wr("auth","Firebase",r).create(e,{appName:s.name})}function nr(s){return Db(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mp(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return Nb.create(s,...e)}function be(s,e,...n){if(!s)throw Mp(e,...n)}function is(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Zc(e),new Error(e)}function fs(s,e){s||is(e)}function Um(){return typeof self<"u"&&self.location?.href||""}function YC(){return j0()==="http:"||j0()==="https:"}function j0(){return typeof self<"u"&&self.location?.protocol||null}function QC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YC()||yT()||"connection"in navigator)?navigator.onLine:!0}function KC(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class au{constructor(e,n){this.shortDelay=e,this.longDelay=n,fs(n>e,"Short delay should be less than long delay!"),this.isMobile=ES()||AS()}get(){return QC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Vp(s,e){fs(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Ob{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const XC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const $C=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],JC=new au(3e4,6e4);function Hh(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function ia(s,e,n,r,o={}){return Mb(s,o,async()=>{let u={},f={};r&&(e==="GET"?f=r:u={body:JSON.stringify(r)});const m=Zl({key:s.config.apiKey,...f}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const g={method:e,headers:_,...u};return wS()||(g.referrerPolicy="no-referrer"),s.emulatorConfig&&_o(s.emulatorConfig.host)&&(g.credentials="include"),Ob.fetch()(await kb(s,s.config.apiHost,n,m),g)})}async function Mb(s,e,n){s._canInitEmulator=!1;const r={...XC,...e};try{const o=new ZC(s),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Gc(s,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[_,g]=m.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gc(s,"credential-already-in-use",f);if(_==="EMAIL_EXISTS")throw Gc(s,"email-already-in-use",f);if(_==="USER_DISABLED")throw Gc(s,"user-disabled",f);const b=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Db(s,b,g);hs(s,b)}}catch(o){if(o instanceof si)throw o;hs(s,"network-request-failed",{message:String(o)})}}async function Vb(s,e,n,r,o={}){const u=await ia(s,e,n,r,o);return"mfaPendingCredential"in u&&hs(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function kb(s,e,n,r){const o=`${e}${n}?${r}`,u=s,f=u.config.emulator?Vp(s.config,o):`${s.config.apiScheme}://${o}`;return $C.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class ZC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Mi(this.auth,"network-request-failed")),JC.get())})}}function Gc(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Mi(s,e,r);return o.customData._tokenResponse=n,o}async function WC(s,e){return ia(s,"POST","/v1/accounts:delete",e)}async function _h(s,e){return ia(s,"POST","/v1/accounts:lookup",e)}function ql(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function eN(s,e=!1){const n=Dt(s),r=await n.getIdToken(e),o=kp(r);be(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:r,authTime:ql(hm(o.auth_time)),issuedAtTime:ql(hm(o.iat)),expirationTime:ql(hm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function hm(s){return Number(s)*1e3}function kp(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return Zc("JWT malformed, contained fewer than 3 sections"),null;try{const o=hT(n);return o?JSON.parse(o):(Zc("Failed to decode base64 JWT payload"),null)}catch(o){return Zc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function P0(s){const e=kp(s);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function yo(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof si&&tN(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function tN({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class nN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class jm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ql(this.lastLoginAt),this.creationTime=ql(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function vh(s){const e=s.auth,n=await s.getIdToken(),r=await yo(s,_h(e,{idToken:n}));be(r?.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const u=o.providerUserInfo?.length?Lb(o.providerUserInfo):[],f=sN(s.providerData,u),m=s.isAnonymous,_=!(s.email&&o.passwordHash)&&!f?.length,g=m?_:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new jm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(s,b)}async function iN(s){const e=Dt(s);await vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sN(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function Lb(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function rN(s,e){const n=await Mb(s,{},async()=>{const r=Zl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,f=await kb(s,o,"/v1/token",`key=${u}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:m,body:r};return s.emulatorConfig&&_o(s.emulatorConfig.host)&&(_.credentials="include"),Ob.fetch()(f,_)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function aN(s,e){return ia(s,"POST","/v2/accounts:revokeToken",Hh(s,e))}class ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):P0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=P0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await rN(e,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,f=new ro;return r&&(be(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),o&&(be(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(be(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ro,this.toJSON())}_performRefresh(){return is("not implemented")}}function Ys(s,e){be(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ei{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new nN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new jm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await yo(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return eN(this,e)}reload(){return iN(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ei({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await vh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wn(this.auth.app))return Promise.reject(nr(this.auth));const e=await this.getIdToken();return await yo(this,WC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,_=n._redirectEventId??void 0,g=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:A,emailVerified:I,isAnonymous:q,providerData:J,stsTokenManager:W}=n;be(A&&W,e,"internal-error");const te=ro.fromJSON(this.name,W);be(typeof A=="string",e,"internal-error"),Ys(r,e.name),Ys(o,e.name),be(typeof I=="boolean",e,"internal-error"),be(typeof q=="boolean",e,"internal-error"),Ys(u,e.name),Ys(f,e.name),Ys(m,e.name),Ys(_,e.name),Ys(g,e.name),Ys(b,e.name);const ue=new ei({uid:A,auth:e,email:o,emailVerified:I,displayName:r,isAnonymous:q,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:te,createdAt:g,lastLoginAt:b});return J&&Array.isArray(J)&&(ue.providerData=J.map(ve=>({...ve}))),_&&(ue._redirectEventId=_),ue}static async _fromIdTokenResponse(e,n,r=!1){const o=new ro;o.updateFromServerResponse(n);const u=new ei({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await vh(u),u}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];be(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Lb(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new ro;m.updateFromIdToken(r);const _=new ei({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new jm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(_,g),_}}const z0=new Map;function ss(s){fs(s instanceof Function,"Expected a class definition");let e=z0.get(s);return e?(fs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,z0.set(s,e),e)}class Ub{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Ub.type="NONE";const B0=Ub;function Wc(s,e,n){return`firebase:${s}:${e}:${n}`}class ao{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Wc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Wc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await _h(this.auth,{idToken:e}).catch(()=>{});return n?ei._fromGetAccountInfoResponse(this.auth,n,e):null}return ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ao(ss(B0),e,r);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ss(B0);const f=Wc(r,e.config.apiKey,e.name);let m=null;for(const g of n)try{const b=await g._get(f);if(b){let A;if(typeof b=="string"){const I=await _h(e,{idToken:b}).catch(()=>{});if(!I)break;A=await ei._fromGetAccountInfoResponse(e,I,b)}else A=ei._fromJSON(e,b);g!==u&&(m=A),u=g;break}}catch{}const _=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!_.length?new ao(u,e,r):(u=_[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new ao(u,e,r))}}function q0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Bb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Hb(e))return"Blackberry";if(Fb(e))return"Webos";if(Pb(e))return"Safari";if((e.includes("chrome/")||zb(e))&&!e.includes("edge/"))return"Chrome";if(qb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function jb(s=Wt()){return/firefox\//i.test(s)}function Pb(s=Wt()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zb(s=Wt()){return/crios\//i.test(s)}function Bb(s=Wt()){return/iemobile/i.test(s)}function qb(s=Wt()){return/android/i.test(s)}function Hb(s=Wt()){return/blackberry/i.test(s)}function Fb(s=Wt()){return/webos/i.test(s)}function Lp(s=Wt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function oN(s=Wt()){return Lp(s)&&!!window.navigator?.standalone}function lN(){return SS()&&document.documentMode===10}function Gb(s=Wt()){return Lp(s)||qb(s)||Fb(s)||Hb(s)||/windows phone/i.test(s)||Bb(s)}function Yb(s,e=[]){let n;switch(s){case"Browser":n=q0(Wt());break;case"Worker":n=`${q0(Wt())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${vo}/${r}`}class uN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((f,m)=>{try{const _=e(u);f(_)}catch(_){m(_)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function cN(s,e={}){return ia(s,"GET","/v2/passwordPolicy",Hh(s,e))}const hN=6;class fN{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??hN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class dN{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new H0(this),this.idTokenSubscription=new H0(this),this.beforeStateQueue=new uN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Nb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ss(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ao.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _h(this,{idToken:e}),r=await ei._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Wn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=r?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=KC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wn(this.app))return Promise.reject(nr(this));const n=e?Dt(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wn(this.app)?Promise.reject(nr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wn(this.app)?Promise.reject(nr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ss(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cN(this),n=new fN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await aN(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ss(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await ao.create(this,[ss(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const _=e.addObserver(n,r,o);return()=>{f=!0,_()}}else{const _=e.addObserver(n);return()=>{f=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Yb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&GC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Fh(s){return Dt(s)}class H0{constructor(e){this.auth=e,this.observer=null,this.addObserver=OS(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Up={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mN(s){Up=s}function pN(s){return Up.loadJS(s)}function gN(){return Up.gapiScript}function yN(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function _N(s,e){const n=ea(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(as(u,e??{}))return o;hs(o,"already-initialized")}return n.initialize({options:e})}function vN(s,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ss);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function TN(s,e,n){const r=Fh(s);be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=Qb(e),{host:f,port:m}=EN(e),_=m===null?"":`:${m}`,g={url:`${u}//${f}${_}/`},b=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){be(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),be(as(g,r.config.emulator)&&as(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,_o(f)?(pT(`${u}//${f}${_}`),gT("Auth",!0)):bN()}function Qb(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function EN(s){const e=Qb(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:F0(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:F0(f)}}}function F0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function bN(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Kb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return is("not implemented")}_getIdTokenResponse(e){return is("not implemented")}_linkToIdToken(e,n){return is("not implemented")}_getReauthenticationResolver(e){return is("not implemented")}}async function oo(s,e){return Vb(s,"POST","/v1/accounts:signInWithIdp",Hh(s,e))}const wN="http://localhost";class Zr extends Kb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...u}=n;if(!r||!o)return null;const f=new Zr(r,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return oo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,oo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,oo(e,n)}buildRequest(){const e={requestUri:wN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Zl(n)}return e}}class Xb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ou extends Xb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Qs extends ou{constructor(){super("facebook.com")}static credential(e){return Zr._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qs.credential(e.oauthAccessToken)}catch{return null}}}Qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qs.PROVIDER_ID="facebook.com";class Ks extends ou{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zr._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ks.credential(n,r)}catch{return null}}}Ks.GOOGLE_SIGN_IN_METHOD="google.com";Ks.PROVIDER_ID="google.com";class Xs extends ou{constructor(){super("github.com")}static credential(e){return Zr._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xs.credential(e.oauthAccessToken)}catch{return null}}}Xs.GITHUB_SIGN_IN_METHOD="github.com";Xs.PROVIDER_ID="github.com";class $s extends ou{constructor(){super("twitter.com")}static credential(e,n){return Zr._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return $s.credential(n,r)}catch{return null}}}$s.TWITTER_SIGN_IN_METHOD="twitter.com";$s.PROVIDER_ID="twitter.com";async function AN(s,e){return Vb(s,"POST","/v1/accounts:signUp",Hh(s,e))}class ur{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const u=await ei._fromIdTokenResponse(e,r,o),f=G0(r);return new ur({user:u,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=G0(r);return new ur({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function G0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function SN(s){if(Wn(s.app))return Promise.reject(nr(s));const e=Fh(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new ur({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await AN(e,{returnSecureToken:!0}),r=await ur._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}class Th extends si{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Th.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new Th(e,n,r,o)}}function $b(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Th._fromErrorAndOperation(s,u,e,r):u})}async function xN(s,e,n=!1){const r=await yo(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return ur._forOperation(s,"link",r)}async function RN(s,e,n=!1){const{auth:r}=s;if(Wn(r.app))return Promise.reject(nr(r));const o="reauthenticate";try{const u=await yo(s,$b(r,o,e,s),n);be(u.idToken,r,"internal-error");const f=kp(u.idToken);be(f,r,"internal-error");const{sub:m}=f;return be(s.uid===m,r,"user-mismatch"),ur._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&hs(r,"user-mismatch"),u}}async function IN(s,e,n=!1){if(Wn(s.app))return Promise.reject(nr(s));const r="signIn",o=await $b(s,r,e),u=await ur._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(u.user),u}async function CN(s,e){return ia(s,"POST","/v1/accounts:update",e)}async function NN(s,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Dt(s),u={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},f=await yo(r,CN(r.auth,u));r.displayName=f.displayName||null,r.photoURL=f.photoUrl||null;const m=r.providerData.find(({providerId:_})=>_==="password");m&&(m.displayName=r.displayName,m.photoURL=r.photoURL),await r._updateTokensIfNecessary(f)}function DN(s,e,n,r){return Dt(s).onIdTokenChanged(e,n,r)}function ON(s,e,n){return Dt(s).beforeAuthStateChanged(e,n)}function MN(s,e,n,r){return Dt(s).onAuthStateChanged(e,n,r)}const Eh="__sak";class Jb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Eh,"1"),this.storage.removeItem(Eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const VN=1e3,kN=10;class Zb extends Jb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Gb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,_)=>{this.notifyListeners(f,_)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);lN()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,kN):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},VN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Zb.type="LOCAL";const LN=Zb;class Wb extends Jb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Wb.type="SESSION";const ew=Wb;function UN(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Gh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new Gh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),_=await UN(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:_})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gh.receivers=[];function jp(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}class jN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,_)=>{const g=jp("",20);o.port1.start();const b=setTimeout(()=>{_(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(A){const I=A;if(I.data.eventId===g)switch(I.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(I.data.response);break;default:clearTimeout(b),clearTimeout(u),_(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Vi(){return window}function PN(s){Vi().location.href=s}function tw(){return typeof Vi().WorkerGlobalScope<"u"&&typeof Vi().importScripts=="function"}async function zN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BN(){return navigator?.serviceWorker?.controller||null}function qN(){return tw()?self:null}const nw="firebaseLocalStorageDb",HN=1,bh="firebaseLocalStorage",iw="fbase_key";class lu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yh(s,e){return s.transaction([bh],e?"readwrite":"readonly").objectStore(bh)}function FN(){const s=indexedDB.deleteDatabase(nw);return new lu(s).toPromise()}function Pm(){const s=indexedDB.open(nw,HN);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(bh,{keyPath:iw})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(bh)?e(r):(r.close(),await FN(),e(await Pm()))})})}async function Y0(s,e,n){const r=Yh(s,!0).put({[iw]:e,value:n});return new lu(r).toPromise()}async function GN(s,e){const n=Yh(s,!1).get(e),r=await new lu(n).toPromise();return r===void 0?null:r.value}function Q0(s,e){const n=Yh(s,!0).delete(e);return new lu(n).toPromise()}const YN=800,QN=3;class sw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>QN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gh._getInstance(qN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await zN(),!this.activeServiceWorker)return;this.sender=new jN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||BN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pm();return await Y0(e,Eh,"1"),await Q0(e,Eh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Y0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>GN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Q0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Yh(o,!1).getAll();return new lu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sw.type="LOCAL";const KN=sw;new au(3e4,6e4);function XN(s,e){return e?ss(e):(be(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Pp extends Kb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return oo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $N(s){return IN(s.auth,new Pp(s),s.bypassAuthState)}function JN(s){const{auth:e,user:n}=s;return be(n,e,"internal-error"),RN(n,new Pp(s),s.bypassAuthState)}async function ZN(s){const{auth:e,user:n}=s;return be(n,e,"internal-error"),xN(n,new Pp(s),s.bypassAuthState)}class rw{constructor(e,n,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const _={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(_))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $N;case"linkViaPopup":case"linkViaRedirect":return ZN;case"reauthViaPopup":case"reauthViaRedirect":return JN;default:hs(this.auth,"internal-error")}}resolve(e){fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const WN=new au(2e3,1e4);class eo extends rw{constructor(e,n,r,o,u){super(e,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,eo.currentPopupAction&&eo.currentPopupAction.cancel(),eo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){fs(this.filter.length===1,"Popup operations only handle one event");const e=jp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Mi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Mi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,eo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WN.get())};e()}}eo.currentPopupAction=null;const eD="pendingRedirect",eh=new Map;class tD extends rw{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=eh.get(this.auth._key());if(!e){try{const r=await nD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}eh.set(this.auth._key(),e)}return this.bypassAuthState||eh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nD(s,e){const n=rD(e),r=sD(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function iD(s,e){eh.set(s._key(),e)}function sD(s){return ss(s._redirectPersistence)}function rD(s){return Wc(eD,s.config.apiKey,s.name)}async function aD(s,e,n=!1){if(Wn(s.app))return Promise.reject(nr(s));const r=Fh(s),o=XN(r,e),f=await new tD(r,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}const oD=600*1e3;class lD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!aw(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Mi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=oD&&this.cachedEventUids.clear(),this.cachedEventUids.has(K0(e))}saveEventToCache(e){this.cachedEventUids.add(K0(e)),this.lastProcessedEventTime=Date.now()}}function K0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function aw({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function uD(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aw(s);default:return!1}}async function cD(s,e={}){return ia(s,"GET","/v1/projects",e)}const hD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fD=/^https?/;async function dD(s){if(s.config.emulator)return;const{authorizedDomains:e}=await cD(s);for(const n of e)try{if(mD(n))return}catch{}hs(s,"unauthorized-domain")}function mD(s){const e=Um(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!fD.test(n))return!1;if(hD.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const pD=new au(3e4,6e4);function X0(){const s=Vi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function gD(s){return new Promise((e,n)=>{function r(){X0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{X0(),n(Mi(s,"network-request-failed"))},timeout:pD.get()})}if(Vi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Vi().gapi?.load)r();else{const o=yN("iframefcb");return Vi()[o]=()=>{gapi.load?r():n(Mi(s,"network-request-failed"))},pN(`${gN()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw th=null,e})}let th=null;function yD(s){return th=th||gD(s),th}const _D=new au(5e3,15e3),vD="__/auth/iframe",TD="emulator/auth/iframe",ED={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wD(s){const e=s.config;be(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Vp(e,TD):`https://${s.config.authDomain}/${vD}`,r={apiKey:e.apiKey,appName:s.name,v:vo},o=bD.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${Zl(r).slice(1)}`}async function AD(s){const e=await yD(s),n=Vi().gapi;return be(n,s,"internal-error"),e.open({where:document.body,url:wD(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ED,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const f=Mi(s,"network-request-failed"),m=Vi().setTimeout(()=>{u(f)},_D.get());function _(){Vi().clearTimeout(m),o(r)}r.ping(_).then(_,()=>{u(f)})}))}const SD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xD=500,RD=600,ID="_blank",CD="http://localhost";class $0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ND(s,e,n,r=xD,o=RD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const _={...SD,width:r.toString(),height:o.toString(),top:u,left:f},g=Wt().toLowerCase();n&&(m=zb(g)?ID:n),jb(g)&&(e=e||CD,_.scrollbars="yes");const b=Object.entries(_).reduce((I,[q,J])=>`${I}${q}=${J},`,"");if(oN(g)&&m!=="_self")return DD(e||"",m),new $0(null);const A=window.open(e||"",m,b);be(A,s,"popup-blocked");try{A.focus()}catch{}return new $0(A)}function DD(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const OD="__/auth/handler",MD="emulator/auth/handler",VD=encodeURIComponent("fac");async function J0(s,e,n,r,o,u){be(s.config.authDomain,s,"auth-domain-config-required"),be(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:vo,eventId:o};if(e instanceof Xb){e.setDefaultLanguage(s.languageCode),f.providerId=e.providerId||"",DS(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,A]of Object.entries({}))f[b]=A}if(e instanceof ou){const b=e.getScopes().filter(A=>A!=="");b.length>0&&(f.scopes=b.join(","))}s.tenantId&&(f.tid=s.tenantId);const m=f;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const _=await s._getAppCheckToken(),g=_?`#${VD}=${encodeURIComponent(_)}`:"";return`${kD(s)}?${Zl(m).slice(1)}${g}`}function kD({config:s}){return s.emulator?Vp(s,MD):`https://${s.authDomain}/${OD}`}const fm="webStorageSupport";class LD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ew,this._completeRedirectFn=aD,this._overrideRedirectResult=iD}async _openPopup(e,n,r,o){fs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await J0(e,n,r,Um(),o);return ND(e,u,jp())}async _openRedirect(e,n,r,o){await this._originValidation(e);const u=await J0(e,n,r,Um(),o);return PN(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(fs(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await AD(e),r=new lD(e);return n.register("authEvent",o=>(be(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(fm,{type:fm},o=>{const u=o?.[0]?.[fm];u!==void 0&&n(!!u),hs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=dD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Gb()||Pb()||Lp()}}const UD=LD;var Z0="@firebase/auth",W0="1.12.0";class jD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function PD(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zD(s){ki(new ni("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=r.options;be(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:f,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Yb(s)},g=new dN(r,o,u,_);return vN(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ki(new ni("auth-internal",e=>{const n=Fh(e.getProvider("auth").getImmediate());return(r=>new jD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pn(Z0,W0,PD(s)),Pn(Z0,W0,"esm2020")}const BD=300,qD=mT("authIdTokenMaxAge")||BD;let eT=null;const HD=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>qD)return;const o=n?.token;eT!==o&&(eT=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function FD(s=qm()){const e=ea(s,"auth");if(e.isInitialized())return e.getImmediate();const n=_N(s,{popupRedirectResolver:UD,persistence:[KN,LN,ew]}),r=mT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=HD(u.toString());ON(n,f,()=>f(n.currentUser)),DN(n,m=>f(m))}}const o=fT("auth");return o&&TN(n,`http://${o}`),n}function GD(){return document.getElementsByTagName("head")?.[0]??document}mN({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const u=Mi("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",GD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zD("Browser");const YD={apiKey:"AIzaSyAVpKz8TJcz9Q0CbSj2v_KQyeEs6SsuXsI",authDomain:"invitation-475eb.firebaseapp.com",projectId:"invitation-475eb",storageBucket:"invitation-475eb.firebasestorage.app",messagingSenderId:"1068873981449",appId:"1:1068873981449:web:82210f667d60117585e2d8",measurementId:"G-5YHV8DE43L"},zp=wT(YD);cR(zp);const uu=TC(zp),Qr=FD(zp),QD=s=>{window.dispatchEvent(new CustomEvent("show-toast",{detail:{message:s}}))},KD=()=>{const[s,e]=ae.useState(null);return ae.useEffect(()=>{const n=r=>{const o=r.detail.message,u=Date.now();e({message:o,id:u}),setTimeout(()=>{e(f=>f&&f.id===u?null:f)},3e3)};return window.addEventListener("show-toast",n),()=>window.removeEventListener("show-toast",n)},[]),s?T.jsxs("div",{style:tT.toast,children:[T.jsx("span",{style:tT.icon,children:""}),s.message]}):null},tT={toast:{position:"fixed",top:"20px",left:"50%",transform:"translateX(-50%)",backgroundColor:"rgba(0, 0, 0, 0.9)",color:"#ffd700",padding:"12px 24px",borderRadius:"30px",fontSize:"0.9rem",fontWeight:"bold",zIndex:9999,display:"flex",alignItems:"center",gap:"8px",boxShadow:"0 4px 15px rgba(0,0,0,0.3)",animation:"slideDown 0.3s ease-out",whiteSpace:"nowrap",border:"1px solid #ffd700"},icon:{fontSize:"1.2rem"}},ow=document.createElement("style");ow.innerText=`
  @keyframes slideDown {
    from { transform: translate(-50%, -20px); opacity: 0; }
    to { transform: translate(-50%, 0); opacity: 1; }
  }
`;document.head.appendChild(ow);const Wa={FIRST_STEP:{id:"FIRST_STEP",title:" ",desc:"  ."},RUNNER:{id:"RUNNER",title:" ",desc:" () ."},HIGH_SCORE:{id:"HIGH_SCORE",title:" ",desc:"  100 !"},WEDDING_CRASHER:{id:"WEDDING_CRASHER",title:" ?",desc:"   10 ."},DATA_COLLECTOR:{id:"DATA_COLLECTOR",title:" ",desc:"    ."}},Jl=async(s,e=null)=>{const n=Qr.currentUser;if(n)try{const r=zh(uu,"users",n.uid),o=await Op(r);if(!o.exists())return;const f=o.data().achievements||[],m=async _=>{if(f.includes(_))return;const g=Wa[_];QD(` : ${g.title}`),await qC(r,{achievements:MC(_)})};switch(s){case"LOGIN":await m(Wa.FIRST_STEP.id);break;case"GAME_START":await m(Wa.RUNNER.id);break;case"GAME_SCORE":e>=100&&await m(Wa.HIGH_SCORE.id);break;case"TOUCH_CHARACTER":e&&e.groom>=10&&e.bride>=10&&await m(Wa.WEDDING_CRASHER.id);break;default:break}}catch(r){console.error("Error checking achievement:",r)}},XD=({onStart:s,onSwitchToV1:e})=>{const[n,r]=ae.useState(!1),[o,u]=ae.useState(""),[f,m]=ae.useState(!1),[_,g]=ae.useState("  ...");ae.useEffect(()=>{r(!0);const I=MN(Qr,q=>{});return()=>I()},[]);const b=async()=>{if(!o.trim()){alert(" ! ()");return}m(!0),g("   ...  ! "),[{text:"    ...  ! ",delay:800},{text:"    ... ",delay:1600},{text:`, [${o}] !  .`,delay:2400}].forEach(({text:q,delay:J})=>{setTimeout(()=>g(q),J)}),setTimeout(async()=>{try{let q=Qr.currentUser;q||(q=(await SN(Qr)).user),await NN(q,{displayName:o});const J=zh(uu,"users",q.uid);(await Op(J)).exists()?await Lm(J,{nickname:o},{merge:!0}):await Lm(J,{nickname:o,achievements:[],createdAt:new Date}),Jl("LOGIN"),s()}catch(q){console.error("Login Failed",q),alert(" .  ."),m(!1)}},3e3)},A=new URL("/Invitation/assets/pixel_castle_bg-JX_UEiKn.png",import.meta.url).href;return T.jsxs("div",{className:"flex flex-col items-center justify-center h-full w-full font-['Silkscreen'] relative overflow-hidden text-white",children:[T.jsx("div",{className:"absolute inset-0 z-0 bg-cover bg-center",style:{backgroundImage:`url(${A})`,imageRendering:"pixelated"},children:T.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-[2px]"})}),T.jsxs("div",{className:`relative z-10 flex flex-col items-center p-8 transition-all duration-700 transform ${n?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[T.jsx("div",{className:"absolute inset-0 border-4 border-white bg-black/60 shadow-lg",style:{clipPath:"polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)"}}),T.jsxs("div",{className:"relative z-20 flex flex-col items-center text-center w-full max-w-md",children:[T.jsxs("div",{className:"mb-10 animate-pulse",children:[T.jsx("p",{className:"text-yellow-400 text-sm tracking-[0.2em] mb-2 uppercase shine",children:"Join the Quest"}),T.jsxs("h1",{className:"text-5xl md:text-7xl text-white drop-shadow-[4px_4px_0_rgba(0,0,0,1)] leading-tight",children:["Wedding",T.jsx("br",{}),"Run"]})]}),T.jsx("div",{className:"w-full flex flex-col gap-4",children:f?T.jsx("div",{className:"w-full border-4 border-white p-6 bg-black/80 text-center",children:T.jsxs("p",{className:"text-green-400 text-lg animate-pulse",children:[">"," ",_," ",T.jsx("span",{className:"animate-blink",children:"_"})]})}):T.jsxs(T.Fragment,{children:[T.jsx("input",{type:"text",placeholder:"PLAYER NAME",value:o,onChange:I=>u(I.target.value),className:"w-full bg-black/50 border-4 border-white text-white p-4 text-center text-xl placeholder:text-gray-500 focus:bg-black/70 focus:outline-none focus:border-yellow-400 transition-colors uppercase font-['Silkscreen']",maxLength:8,onKeyDown:I=>I.key==="Enter"&&b(),autoFocus:!0}),T.jsx("button",{onClick:b,className:"w-full bg-blue-600 border-b-4 border-r-4 border-blue-800 text-white p-4 text-xl hover:bg-blue-500 hover:translate-y-1 hover:border-b-0 hover:border-r-0 active:translate-y-2 transition-all group relative overflow-hidden",children:T.jsx("span",{className:"relative z-10",children:"INSERT COIN (START)"})})]})}),T.jsx("button",{onClick:e,className:"mt-8 text-xs text-white/50 hover:text-white underline decoration-dashed underline-offset-4",children:"[ BACK TO CLASSIC_OS ]"})]})]}),T.jsx("div",{className:"absolute inset-0 pointer-events-none z-50 opacity-10",style:{background:"linear-gradient(to bottom, transparent 50%, rgba(0, 0, 0, 0.5) 51%)",backgroundSize:"100% 4px"}})]})},lw="/Invitation/assets/groom_nobg-tvOAzn_6.png",Bp="/Invitation/assets/bride_nobg-CV5a6LWZ.png",$D="/Invitation/assets/groom-cEf0GPId.jpg",JD="/Invitation/assets/bride-C9xQdNrL.jpg",ZD=()=>{const[s,e]=ae.useState(null),[n,r]=ae.useState(!1),o=[{id:"groom",name:"",type:"[ / ]",stars:"",desc:'"   ,    .  ,  ."',atk:"",def:"",img:$D,bank:"",account:"49591044955107",displayAccount:"495-910449-55107",holder:""},{id:"bride",name:"",type:"[ / ]",stars:"",desc:'"    ,     .    ."',atk:"",def:"",img:JD,bank:"",account:"110297915880",displayAccount:"110-297-915880",holder:""}],u=f=>{const m=`${f.account} ${f.bank}`;navigator.clipboard.writeText(m).then(()=>{r(!0),setTimeout(()=>r(!1),2e3)}).catch(_=>{console.error("Failed to copy: ",_)}),e(f.id)};return T.jsxs("section",{className:"py-24 px-4 bg-background text-center relative overflow-hidden",children:[T.jsx("div",{className:"absolute top-20 left-10 w-40 h-40 bg-primary/10 rounded-full blur-3xl animate-pulse"}),T.jsx("div",{className:"absolute bottom-20 right-10 w-60 h-60 bg-secondary/10 rounded-full blur-3xl animate-pulse delay-700"}),T.jsx("h2",{className:"text-3xl md:text-4xl text-primary font-heading font-medium mb-4 animate-fade-in-up relative z-10",children:"Groom & Bride"}),T.jsx("p",{className:"text-text/60 mb-12 animate-fade-in-up delay-100 font-body relative z-10",children:"   "}),T.jsx("div",{className:"flex flex-col md:flex-row justify-center gap-8 items-stretch max-w-5xl mx-auto relative z-10",children:o.map((f,m)=>T.jsx("div",{className:"relative w-full max-w-md group",children:T.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-[2.5rem] p-8 shadow-soft-lg border border-white/60 hover:shadow-soft-xl hover:-translate-y-2 transition-all duration-500 h-full flex flex-col items-center",children:[T.jsxs("div",{className:"relative w-48 h-48 mb-6",children:[T.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-tr from-primary/20 to-secondary/20 animate-spin-slow blur-md"}),T.jsx("div",{className:"absolute inset-1 rounded-full bg-white p-1 shadow-inner",children:T.jsx("img",{src:f.img,alt:f.name,className:"w-full h-full object-cover rounded-full"})})]}),T.jsx("h3",{className:"text-2xl font-bold text-text mb-2 font-heading",children:f.name}),T.jsx("p",{className:"text-primary font-body text-lg mb-6",children:f.type.replace("[","").replace("]","")}),T.jsx("div",{className:"w-full bg-background/50 rounded-2xl p-6 mb-6 flex-1 border border-primary/5",children:T.jsx("p",{className:"font-body text-text/80 italic leading-relaxed text-lg",children:f.desc.replace(/"/g,"")})}),T.jsxs("button",{onClick:()=>u(f),className:"w-full py-4 bg-white border border-primary/20 rounded-xl shadow-sm hover:shadow-md hover:border-primary/50 transition-all flex flex-col items-center justify-center gap-1 group/btn",children:[T.jsxs("div",{className:"flex items-center gap-2 text-text/60 text-sm group-hover/btn:text-primary transition-colors",children:[T.jsx("span",{children:f.bank}),T.jsx("span",{className:"w-1 h-3 bg-gray-300 rounded-full"}),T.jsx("span",{children:f.holder})]}),T.jsx("span",{className:"font-body font-bold text-lg text-text tracking-wide group-hover/btn:text-primary transition-colors",children:f.displayAccount}),T.jsx("span",{className:"text-xs text-primary/60 font-medium opacity-0 group-hover/btn:opacity-100 transition-opacity -mb-4 absolute bottom-2",children:"Click to Copy"})]})]})},f.id))}),T.jsx("div",{className:`
                    fixed bottom-10 left-1/2 -translate-x-1/2 bg-white/90 backdrop-blur-md text-text px-8 py-4 rounded-full shadow-soft-xl z-[100] whitespace-nowrap transition-all duration-500 border border-white/50
                    ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-8 pointer-events-none"}
                `,children:T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("span",{className:"text-primary text-xl",children:""}),T.jsx("span",{className:"font-body font-medium text-lg",children:" "})]})})]})},WD="/Invitation/assets/groom_sprites-C9FWbZGX.png",e4="/Invitation/assets/bride_sprites-CIfQIsBB.png",Qt={audioCtx:null,init(){this.audioCtx||(this.audioCtx=new(window.AudioContext||window.webkitAudioContext))},playTone(s,e,n,r=.1){try{if(this.audioCtx||this.init(),!this.audioCtx)return;this.audioCtx.state==="suspended"&&this.audioCtx.resume().catch(()=>{});const o=this.audioCtx.createOscillator(),u=this.audioCtx.createGain();o.type=e,o.frequency.setValueAtTime(s,this.audioCtx.currentTime),u.gain.setValueAtTime(r,this.audioCtx.currentTime),u.gain.exponentialRampToValueAtTime(.01,this.audioCtx.currentTime+n),o.connect(u),u.connect(this.audioCtx.destination),o.start(),o.stop(this.audioCtx.currentTime+n)}catch(o){console.warn("Audio play failed",o)}},playClick(){this.playTone(800,"sine",.1,.1)},playConfirm(){try{if(this.audioCtx||this.init(),!this.audioCtx)return;this.audioCtx.state==="suspended"&&this.audioCtx.resume().catch(()=>{});const s=this.audioCtx.currentTime,e=this.audioCtx.createOscillator(),n=this.audioCtx.createGain();e.type="sine",e.frequency.setValueAtTime(600,s),e.frequency.exponentialRampToValueAtTime(1200,s+.1),n.gain.setValueAtTime(.1,s),n.gain.exponentialRampToValueAtTime(.01,s+.2),e.connect(n),n.connect(this.audioCtx.destination),e.start(),e.stop(s+.2)}catch(s){console.warn("Audio confirm failed",s)}},playHover(){this.playTone(400,"sine",.05,.05)},playDamage(){this.playTone(150,"sawtooth",.2,.2)},playWin(){try{if(this.audioCtx||this.init(),!this.audioCtx)return;this.audioCtx.state==="suspended"&&this.audioCtx.resume().catch(()=>{});const s=this.audioCtx.currentTime;[523.25,659.25,783.99,1046.5].forEach((e,n)=>{const r=this.audioCtx.createOscillator(),o=this.audioCtx.createGain();r.type="square",r.frequency.setValueAtTime(e,s+n*.1),o.gain.setValueAtTime(.1,s+n*.1),o.gain.exponentialRampToValueAtTime(.01,s+n*.1+.1),r.connect(o),o.connect(this.audioCtx.destination),r.start(s+n*.1),r.stop(s+n*.1+.1)})}catch{}},playJump(){try{if(this.audioCtx||this.init(),!this.audioCtx)return;this.audioCtx.state==="suspended"&&this.audioCtx.resume().catch(()=>{});const s=this.audioCtx.currentTime,e=this.audioCtx.createOscillator(),n=this.audioCtx.createGain();e.type="square",e.frequency.setValueAtTime(150,s),e.frequency.linearRampToValueAtTime(300,s+.1),n.gain.setValueAtTime(.1,s),n.gain.exponentialRampToValueAtTime(.01,s+.1),e.connect(n),n.connect(this.audioCtx.destination),e.start(),e.stop(s+.1)}catch{}}},t4=({selectedCharacter:s="groom"})=>{const e=ae.useRef(null),[n,r]=ae.useState("START"),[o,u]=ae.useState(0),[f,m]=ae.useState(0),[_,g]=ae.useState(s),[b,A]=ae.useState(!1),I=ae.useRef(null),q=ae.useRef(new Image),J=ae.useRef(new Image),W=ae.useRef(new Image);ae.useEffect(()=>{let x=0;const we=3,Ie=()=>{x++,x>=we&&A(!0)},F=new Image;F.src=new URL("/Invitation/assets/pixel_castle_bg-JX_UEiKn.png",import.meta.url).href,F.onload=()=>{W.current=F,Ie()};const ne=ce=>new Promise(ee=>{const S=new Image;S.crossOrigin="Anonymous",S.src=ce,S.onload=()=>{const G=document.createElement("canvas");G.width=S.width,G.height=S.height;const ie=G.getContext("2d");ie.drawImage(S,0,0);const Z=ie.getImageData(0,0,G.width,G.height),fe=Z.data;for(let De=0;De<fe.length;De+=4){const ft=fe[De],nt=fe[De+1],Ui=fe[De+2];ft>240&&nt>240&&Ui>240&&(fe[De+3]=0)}ie.putImageData(Z,0,0);const Te=new Image;Te.onload=()=>ee(Te),Te.src=G.toDataURL()}}),re=async(ce,ee)=>{const S=await ne(ee);ce.current=S,Ie()};re(q,WD),re(J,e4)},[]);const te=800,ue=400,ve=50,ye=2026,Se=160,qe=40,ge=ae.useRef({dino:{x:50,y:0,w:0,h:0,dy:0,grounded:!0},items:[],obstacles:[],clouds:[],particles:[],fireworks:[],frame:0,bgOffset:0,isGameOver:!1,isGameClear:!1,animationId:null}),D=()=>{const x=Se;let we=Se;const Ie=_==="groom"?q.current:J.current;if(Ie&&Ie.complete&&Ie.width>0){const F=Ie.width/3,ne=Ie.height,re=F/ne;we=x*re}ge.current={dino:{x:100,y:ue-ve-x,w:we,h:x,dy:0,grounded:!0},items:[],obstacles:[],clouds:[],particles:[],fireworks:[],frame:0,bgOffset:0,isGameOver:!1,isGameClear:!1,animationId:null,speed:8,spawnRate:100},u(0),m(0)},R=()=>{if(ge.current.dino.grounded){Qt.playJump(),ge.current.dino.dy=-18,ge.current.dino.grounded=!1;for(let x=0;x<5;x++)ge.current.particles.push({x:ge.current.dino.x+ge.current.dino.w/2,y:ge.current.dino.y+ge.current.dino.h+qe,vx:(Math.random()-.5)*5,vy:(Math.random()-.5)*2,life:20,color:"#fff"})}},C=(x,we)=>{const Ie=["#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF"],F=Ie[Math.floor(Math.random()*Ie.length)];for(let ne=0;ne<20;ne++){const re=Math.random()*Math.PI*2,ce=Math.random()*5+2;ge.current.fireworks.push({x,y:we,vx:Math.cos(re)*ce,vy:Math.sin(re)*ce,life:60,color:F})}},M=async x=>{const we=Qr.currentUser;if(we)try{const Ie=zh(uu,"scores",we.uid);await Lm(Ie,{uid:we.uid,displayName:we.displayName||"Guest",score:x,timestamp:OC()},{merge:!0})}catch(Ie){console.error(Ie)}};ae.useEffect(()=>{const we=e.current.getContext("2d");we.imageSmoothingEnabled=!1;let Ie=performance.now();n==="PLAYING"&&(I.current&&clearInterval(I.current),I.current=setInterval(()=>{m(re=>re+1)},1e3));const F=re=>{if(n!=="PLAYING")return;const ce=Math.min((re-Ie)/16,2);Ie=re;const ee=ge.current;if(!ee.isGameClear&&!ee.isGameOver){if(ee.frame++,ee.speed=Math.min(16,8+Math.floor(ee.frame/500)),ee.spawnRate=Math.max(40,100-Math.floor(ee.frame/300)*10),ee.bgOffset+=ee.speed*.5*ce,ee.frame%30===0&&o>=ye&&(ee.isGameClear=!0,r("CLEAR"),Jl("GAME_CLEAR"),M(o),Qt.playWin(),C(te/2,ue/2),I.current&&clearInterval(I.current)),ee.dino.dy+=.8*ce,ee.dino.y+=ee.dino.dy*ce,ee.dino.y+ee.dino.h>ue-ve&&(ee.dino.y=ue-ve-ee.dino.h,ee.dino.dy=0,ee.dino.grounded=!0),ee.frame%ee.spawnRate===0)if(Math.random()>.4){const fe=["","","","",""],Te=fe[Math.floor(Math.random()*fe.length)];ee.items.push({x:te,y:ue-ve-60-Math.random()*100,w:50,h:50,type:Te,vy:Math.sin(ee.frame)*.5})}else{const fe=["","",""],Te=fe[Math.floor(Math.random()*fe.length)];ee.obstacles.push({x:te,y:ue-ve-50,w:50,h:50,type:Te})}const S=Z=>{Z.x-=ee.speed*ce,Z.vy&&(Z.y+=Math.sin(ee.frame*.1)*2*ce)};[...ee.items,...ee.obstacles].forEach(S),ee.items=ee.items.filter(Z=>Z.x+Z.w>0&&!Z.collected),ee.obstacles=ee.obstacles.filter(Z=>Z.x+Z.w>0);const G=20,ie=Z=>ee.dino.x+G<Z.x+Z.w-G&&ee.dino.x+ee.dino.w-G>Z.x+G&&ee.dino.y+G<Z.y+Z.h-G&&ee.dino.y+ee.dino.h-G>Z.y+G;ee.items.forEach(Z=>{if(ie(Z)){Z.collected=!0,Qt.playConfirm(),u(fe=>fe+1);for(let fe=0;fe<5;fe++)ee.particles.push({x:Z.x,y:Z.y,vx:(Math.random()-.5)*5,vy:(Math.random()-.5)*5,life:30,color:"#FFD700"})}}),ee.obstacles.forEach(Z=>{ie(Z)&&(Qt.playDamage(),ee.isGameOver=!0,r("GAME_OVER"),I.current&&clearInterval(I.current),M(o))})}else ee.isGameClear&&(ee.frame%30===0&&C(Math.random()*te,Math.random()*ue/2),I.current&&clearInterval(I.current));ee.particles.forEach(S=>{S.x+=S.vx*ce,S.y+=S.vy*ce,S.life-=ce,S.vy+=.1*ce}),ee.fireworks.forEach(S=>{S.x+=S.vx*ce,S.y+=S.vy*ce,S.life-=ce,S.vy+=.1*ce}),ee.particles=ee.particles.filter(S=>S.life>0),ee.fireworks=ee.fireworks.filter(S=>S.life>0),ne(we),(n==="PLAYING"||n==="CLEAR")&&(ge.current.animationId=requestAnimationFrame(F))},ne=re=>{const ce=ge.current;if(W.current&&W.current.complete){const S=-(ce.bgOffset%W.current.width);re.drawImage(W.current,S,0,W.current.width,ue),re.drawImage(W.current,S+W.current.width,0,W.current.width,ue)}else re.fillStyle="#87CEEB",re.fillRect(0,0,te,ue);re.textAlign="center",re.textBaseline="middle",re.font="40px Silkscreen",ce.items.forEach(S=>{S.collected||re.fillText(S.type,S.x+S.w/2,S.y+S.h/2)}),ce.obstacles.forEach(S=>{re.fillText(S.type,S.x+S.w/2,S.y+S.h/2)});const ee=_==="groom"?q.current:J.current;if(ee&&ee.complete&&ee.width>0){const S=ee.width/3,G=ee.height,ie=Math.floor(ce.frame/6)%2+1,Z=ce.dino.grounded&&!ce.isGameClear?ie:0;re.drawImage(ee,Z*S,0,S,G,ce.dino.x,ce.dino.y+qe,ce.dino.w,ce.dino.h)}ce.particles.forEach(S=>{re.fillStyle=S.color,re.fillRect(S.x,S.y,4,4)}),ce.fireworks.forEach(S=>{re.fillStyle=S.color,re.fillRect(S.x,S.y,3,3)})};return n==="PLAYING"||n==="CLEAR"?(Ie=performance.now(),ge.current.animationId=requestAnimationFrame(F)):ne(we),()=>{cancelAnimationFrame(ge.current.animationId),I.current&&clearInterval(I.current)}},[n,_,b]);const O=()=>{n==="START"||n==="GAME_OVER"||n==="CLEAR"?(Qt.playClick(),D(),r("PLAYING"),Jl("GAME_START")):R()},k=x=>{const we=Math.floor(x/60),Ie=x%60;return`${we.toString().padStart(2,"0")}:${Ie.toString().padStart(2,"0")}`};return T.jsxs("div",{onClick:O,className:"relative w-full aspect-[2/1] bg-sky-300 border-4 border-black overflow-hidden shadow-[8px_8px_0_rgba(0,0,0,0.5)] font-['Silkscreen'] select-none cursor-pointer",children:[T.jsx("canvas",{ref:e,width:800,height:400,className:"w-full h-full block",style:{imageRendering:"pixelated"}}),n==="START"&&T.jsxs("div",{className:"absolute inset-0 bg-black/60 flex flex-col items-center justify-center text-white p-4",children:[T.jsx("h2",{className:"text-4xl text-yellow-400 mb-4 animate-bounce drop-shadow-md",children:"WEDDING RUN"}),T.jsx("p",{className:"text-sm mb-8 animate-pulse text-gray-300",children:"INSERT COIN TO START"}),T.jsx("div",{className:"border-4 border-white px-6 py-2 bg-blue-600 hover:bg-blue-500 blink",children:"PRESS START"})]}),n==="GAME_OVER"&&T.jsxs("div",{className:"absolute inset-0 bg-black/70 flex flex-col items-center justify-center text-white",children:[T.jsx("h2",{className:"text-5xl text-red-500 mb-4 drop-shadow-md",children:"GAME OVER"}),T.jsxs("p",{className:"text-2xl mb-2",children:["SCORE: ",o]}),T.jsxs("p",{className:"text-lg text-gray-400 mb-8",children:["TIME: ",k(f)]}),T.jsx("div",{className:"border-4 border-white px-6 py-2 hover:bg-white hover:text-black transition-colors",children:"RETRY ?"})]}),T.jsx("div",{className:"absolute top-4 left-4 z-20",children:T.jsxs("div",{className:"bg-black/50 text-white px-3 py-1 border-2 border-white/50 text-sm flex items-center shadow-md backdrop-blur-sm rounded-md",children:[" ",k(f)]})}),T.jsxs("div",{className:"absolute top-4 right-4 text-2xl text-white drop-shadow-[2px_2px_0_black]",children:["SCORE: ",o]})]})};var n4=iT();const i4=Object.assign({"../../assets/images/gallery1.jpg":sT,"../../assets/images/gallery2.jpg":rT,"../../assets/images/gallery3.jpg":aT}),dm=Object.values(i4).map(s=>s.default),s4=()=>{const[s,e]=ae.useState(!1),[n,r]=ae.useState(null),[o,u]=ae.useState(null),f=()=>{s||dm.length===0||(Qt.playClick(),e(!0),r(null),setTimeout(()=>{const m=Math.floor(Math.random()*dm.length),_=dm[m],g=JSON.parse(localStorage.getItem("wedding_collection")||"[]");g.includes(m)||(g.push(m),localStorage.setItem("wedding_collection",JSON.stringify(g)),window.dispatchEvent(new Event("collectionUpdated")));const b=Math.random(),A=b>.8?"SSR":b>.5?"SR":"R";r(_),u(A),e(!1),Qt.playConfirm()},2e3))};return T.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-background relative overflow-hidden font-body p-4 select-none",children:[T.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[500px] h-[500px] bg-primary/10 rounded-full blur-[100px] animate-pulse pointer-events-none"}),T.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[600px] h-[600px] bg-secondary/10 rounded-full blur-[120px] animate-pulse delay-1000 pointer-events-none"}),!n&&!s&&T.jsxs("div",{className:"z-10 flex flex-col items-center w-full max-w-sm animate-in zoom-in duration-500",children:[T.jsxs("div",{className:"mb-8 text-center bg-white/50 backdrop-blur-md border border-white/60 px-8 py-6 rounded-[2.5rem] shadow-soft-lg",children:[T.jsx("h2",{className:"text-3xl font-heading text-primary mb-2",children:"Collect Memories"}),T.jsx("p",{className:"text-text/60 font-body text-lg",children:"Discover a special moment"})]}),T.jsxs("button",{onClick:f,className:"group relative w-24 h-24 bg-gradient-to-br from-white to-gray-50 text-primary rounded-full shadow-soft-xl hover:scale-110 active:scale-95 transition-all duration-300 flex items-center justify-center border border-white/60",title:"Open Memory",children:[T.jsx("span",{className:"text-4xl group-hover:rotate-12 transition-transform duration-300",children:""}),T.jsx("div",{className:"absolute inset-0 rounded-full bg-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"})]}),T.jsx("p",{className:"mt-8 text-sm text-text/40 font-body tracking-widest uppercase",children:"Tap camera to collect"})]}),s&&T.jsxs("div",{className:"z-10 flex flex-col items-center justify-center animate-pulse",children:[T.jsx("div",{className:"text-6xl mb-4 animate-[bounce_1s_infinite]",children:""}),T.jsx("p",{className:"text-2xl font-heading text-primary",children:"Developing..."})]}),n&&!s&&n4.createPortal(T.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 font-body",children:[T.jsx("div",{className:"absolute inset-0 bg-white/60 backdrop-blur-xl animate-in fade-in duration-300",onClick:()=>r(null)}),T.jsxs("div",{className:"relative z-10 flex flex-col items-center animate-in zoom-in duration-500",children:[T.jsxs("div",{className:"bg-white p-4 pb-16 rounded shadow-2xl transform rotate-1 border border-gray-100 max-w-[90vw] max-h-[70vh] flex flex-col items-center relative transition-transform hover:rotate-0 duration-300",children:[T.jsx("img",{src:n,alt:"Result",className:"w-[300px] h-[300px] object-cover bg-gray-100 shadow-inner"}),T.jsx("div",{className:"absolute bottom-6 font-handwriting text-2xl text-gray-600 rotate-[-2deg]",children:o==="SSR"?"Unforgettable Moment":"Lovely Day"})]}),T.jsxs("div",{className:"flex gap-4 mt-8",children:[T.jsx("button",{onClick:()=>r(null),className:"px-8 py-3 bg-white/80 backdrop-blur text-text rounded-full font-medium border border-white/60 shadow-soft-md hover:bg-white transition-all",children:"Close"}),T.jsxs("button",{onClick:f,className:"px-8 py-3 bg-primary text-white rounded-full font-medium shadow-soft-lg hover:bg-primary/90 hover:scale-105 transition-all flex items-center gap-2",children:[T.jsx("span",{children:""})," One More"]})]})]})]}),document.body)]})},nT=[{id:1,speaker:"",text:"!    .",image:"groom",expression:"smile"},{id:2,speaker:"",text:"        !",image:"bride",expression:"happy"},{id:3,speaker:"",text:"    .     ' '.",image:"groom",expression:"serious"},{id:4,speaker:"",text:"  ,   ?",image:"bride",expression:"wink"},{id:5,speaker:"SYSTEM",text:" []  .  !",image:"system",expression:"none"}],r4=({onClose:s})=>{const[e,n]=ae.useState(0),[r,o]=ae.useState(""),[u,f]=ae.useState(!1),m=nT[e];ae.useEffect(()=>{if(!m)return;o(""),f(!0);let g=0;const b=m.text,I=setInterval(()=>{g<b.length?(o(q=>q+b.charAt(g)),g++):(clearInterval(I),f(!1))},30);return()=>clearInterval(I)},[e]);const _=()=>{Qt.playClick(),u?(o(m.text),f(!1)):e<nT.length-1?n(g=>g+1):(Qt.playConfirm(),s())};return T.jsxs("div",{className:"w-full h-full relative flex flex-col justify-end overflow-hidden cursor-pointer min-h-[500px] bg-sky-200/20",onClick:_,children:[T.jsx("div",{className:"absolute bottom-32 left-1/2 -translate-x-1/2 h-[60%] flex items-end transition-transform duration-300",children:T.jsx("img",{src:m.image==="groom"?lw:Bp,alt:"Character",className:"h-full object-contain drop-shadow-[4px_4px_0_rgba(0,0,0,0.3)]"},e)}),T.jsxs("div",{className:"relative z-10 m-4 mb-6",children:[T.jsx("div",{className:"absolute -top-10 left-0 bg-blue-600 border-4 border-black border-b-0 px-6 py-2",children:T.jsx("span",{className:"text-white font-['Silkscreen'] text-xl tracking-wider uppercase drop-shadow-md",children:m.speaker})}),T.jsxs("div",{className:"bg-white border-4 border-black p-6 shadow-[8px_8px_0_rgba(0,0,0,0.5)] min-h-[160px] relative",children:[T.jsxs("p",{className:"font-['Silkscreen'] text-xl md:text-2xl text-black leading-relaxed tracking-wide",children:[r,u&&T.jsx("span",{className:"animate-blink inline-block ml-1 w-3 h-5 bg-black align-middle"})]}),!u&&T.jsx("div",{className:"absolute bottom-4 right-4 animate-bounce",children:T.jsx("div",{className:"w-0 h-0 border-l-[10px] border-l-transparent border-r-[10px] border-r-transparent border-t-[15px] border-t-red-500"})})]})]})]})},a4=({title:s,onClose:e,children:n})=>T.jsxs("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex justify-center items-center p-4 font-['Silkscreen'] select-none",children:[T.jsxs("div",{className:"w-full max-w-lg max-h-[85vh] bg-white border-4 border-black shadow-[8px_8px_0_rgba(0,0,0,0.5)] flex flex-col overflow-hidden animate-[slideUp_0.3s_steps(4)] relative",children:[T.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b-4 border-black bg-blue-600 text-white",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("span",{className:"animate-pulse",children:""}),T.jsx("span",{className:"text-lg uppercase tracking-wider",children:s})]}),T.jsx("button",{className:"text-white hover:text-yellow-300 transition-colors text-2xl leading-none w-8 h-8 flex items-center justify-center border-2 border-transparent hover:border-white hover:bg-white/10",onClick:e,children:"X"})]}),T.jsx("div",{className:"flex-1 overflow-y-auto p-0 scrollbar-hide bg-white relative",children:T.jsx("div",{className:"h-full",children:n})}),T.jsx("div",{className:"h-2 bg-black w-full"})]}),T.jsx("style",{children:`
                @keyframes slideUp {
                    from { transform: translateY(20px); opacity: 0; }
                    to { transform: translateY(0); opacity: 1; }
                }
            `})]}),o4=()=>{const[s,e]=ae.useState([]),[n,r]=ae.useState(!0),o=Qr.currentUser;return ae.useEffect(()=>{(async()=>{try{const f=LC(vC(uu,"scores"),UC("score","desc"),jC(50)),_=(await BC(f)).docs.map(A=>({id:A.id,...A.data()})),g=new Map;_.forEach(A=>{const I=A.displayName;(!g.has(I)||g.get(I).score<A.score)&&g.set(I,A)});const b=Array.from(g.values()).sort((A,I)=>I.score-A.score).slice(0,10);e(b)}catch(f){console.error("Error fetching rankings: ",f)}finally{r(!1)}})()},[]),n?T.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading..."}):T.jsxs("div",{className:"w-full max-w-2xl mx-auto p-6 bg-white/50 backdrop-blur-md rounded-3xl shadow-soft-lg border border-white/60 font-body",children:[T.jsx("h3",{className:"text-2xl text-center text-primary font-heading font-medium mb-6",children:"Hall of Fame"}),T.jsx("div",{className:"overflow-hidden rounded-2xl border border-white/50",children:T.jsxs("table",{className:"w-full text-left",children:[T.jsx("thead",{className:"bg-white/60",children:T.jsxs("tr",{children:[T.jsx("th",{className:"p-4 text-sm font-bold text-text/70 uppercase tracking-wider text-center",children:"#"}),T.jsx("th",{className:"p-4 text-sm font-bold text-text/70 uppercase tracking-wider",children:"Agent"}),T.jsx("th",{className:"p-4 text-sm font-bold text-text/70 uppercase tracking-wider text-right",children:"Score"})]})}),T.jsx("tbody",{className:"divide-y divide-white/40",children:s.map((u,f)=>{const m=o&&(o.uid===u.id||o.displayName===u.displayName);return T.jsxs("tr",{className:`
                                        transition-colors hover:bg-white/40
                                        ${m?"bg-primary/10":""}
                                        ${f<3?"font-bold":""}
                                    `,children:[T.jsxs("td",{className:"p-4 text-center",children:[f===0&&"",f===1&&"",f===2&&"",f>2&&f+1]}),T.jsxs("td",{className:`p-4 ${m?"text-primary":"text-text"}`,children:[u.displayName," ",m&&"(You)"]}),T.jsx("td",{className:"p-4 text-right font-mono text-text/80",children:u.score.toLocaleString()})]},u.id)})})]})}),T.jsx("div",{className:"mt-6 text-center text-xs text-text/40 tracking-widest uppercase",children:"* Real-time Updates"})]})},l4=()=>{const[s,e]=ae.useState([]),[n,r]=ae.useState(!0),o=Qr.currentUser;if(ae.useEffect(()=>{(async()=>{if(o)try{const m=zh(uu,"users",o.uid),_=await Op(m);_.exists()&&e(_.data().achievements||[])}catch(m){console.error("Error fetching achievements:",m)}finally{r(!1)}})()},[o]),n)return T.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading..."});const u=Object.values(Wa);return T.jsxs("div",{style:Ri.container,children:[T.jsx("h3",{style:Ri.header,children:"   (MY ACHIEVEMENTS)"}),T.jsx("div",{style:Ri.grid,children:u.map(f=>{const m=s.includes(f.id);return T.jsxs("div",{style:{...Ri.card,...m?Ri.unlocked:Ri.locked},children:[T.jsx("div",{style:Ri.icon,children:m?"":""}),T.jsxs("div",{style:Ri.info,children:[T.jsx("div",{style:Ri.title,children:f.title}),T.jsx("div",{style:Ri.desc,children:f.desc})]})]},f.id)})})]})},Ri={container:{padding:"10px",color:"#333",fontFamily:'"Rajdhani", sans-serif'},header:{textAlign:"center",marginBottom:"15px",borderBottom:"2px solid #333",paddingBottom:"10px"},grid:{display:"flex",flexDirection:"column",gap:"10px"},card:{display:"flex",alignItems:"center",padding:"10px",borderRadius:"8px",border:"1px solid #ddd",transition:"transform 0.2s"},unlocked:{backgroundColor:"#fffbe6",border:"2px solid #ffd700",boxShadow:"0 2px 5px rgba(255, 215, 0, 0.3)"},locked:{backgroundColor:"#f5f5f5",filter:"grayscale(100%)",opacity:.7},icon:{fontSize:"2rem",marginRight:"15px"},info:{flex:1},title:{fontWeight:"bold",fontSize:"1rem",marginBottom:"3px"},desc:{fontSize:"0.8rem",color:"#666"}},u4=({onClose:s})=>{const[e,n]=ae.useState("start"),[r,o]=ae.useState(0),[u,f]=ae.useState(0),[m,_]=ae.useState(50),[g,b]=ae.useState([]),A=ae.useRef(null),I=ae.useRef(null),q=ae.useRef(null),J=ae.useRef(0),W=ae.useRef("start"),te=ae.useRef(50),ue=ae.useRef([]),ve=new URL("/Invitation/assets/pixel_castle_bg-JX_UEiKn.png",import.meta.url).href,ye=15;ae.useEffect(()=>{te.current=m},[m]);const Se=()=>{Qt.playClick(),n("playing"),o(0),f(0),_(50),b([]),J.current=0,te.current=50,ue.current=[],W.current="playing",I.current&&clearInterval(I.current),I.current=setInterval(qe,800),q.current&&clearInterval(q.current),q.current=setInterval(()=>{f(M=>M+1)},1e3),A.current&&cancelAnimationFrame(A.current),A.current=requestAnimationFrame(ge)},qe=()=>{if(W.current!=="playing")return;const M=Date.now()+Math.random(),k=Math.random()>.6?Math.random()>.5?"bomb":"withered":"bouquet",x=Math.random()*90,we={id:M,x,y:-10,type:k};ue.current.push(we)},ge=()=>{if(W.current!=="playing")return;const M=.4+J.current*.05;let O=!1;if(ue.current=ue.current.filter(k=>{if(k.y+=M,k.y>75&&k.y<98){const x=te.current,we=k.x+5,Ie=x+ye/2;if(Math.abs(we-Ie)<10)return k.type==="bouquet"?(Qt.playConfirm(),J.current+=1,o(J.current),!1):(Qt.playDamage(),O=!0,!1)}return k.y<105}),O){D("gameover");return}b([...ue.current]),A.current=requestAnimationFrame(ge)},D=M=>{W.current=M,n(M),clearInterval(I.current),clearInterval(q.current),cancelAnimationFrame(A.current)};ae.useEffect(()=>()=>{clearInterval(I.current),clearInterval(q.current),cancelAnimationFrame(A.current)},[]);const R=M=>{e==="playing"&&_(O=>{const k=O+M;return Math.max(0,Math.min(100-ye,k))})},C=M=>{const O=Math.floor(M/60),k=M%60;return`${O.toString().padStart(2,"0")}:${k.toString().padStart(2,"0")}`};return T.jsxs("div",{className:"relative w-full h-[400px] bg-sky-200 overflow-hidden font-['Silkscreen'] select-none border-4 border-black",children:[T.jsx("div",{className:"absolute inset-0 bg-cover bg-bottom opacity-50",style:{backgroundImage:`url(${ve})`,imageRendering:"pixelated"}}),T.jsx("div",{className:"absolute top-4 left-4 z-20 flex gap-2",children:T.jsxs("div",{className:"bg-black/50 text-white px-2 border-2 border-white/50 text-sm flex items-center",children:[" ",C(u)]})}),T.jsxs("div",{className:"absolute top-4 right-4 text-2xl z-20 text-blue-600 drop-shadow-[2px_2px_0_white]",children:["SCORE: ",r]}),e==="start"&&T.jsxs("div",{className:"absolute inset-0 bg-black/70 flex flex-col items-center justify-center text-white z-50 p-4 text-center cursor-pointer",onClick:Se,children:[T.jsx("h2",{className:"text-3xl text-yellow-300 mb-4 animate-bounce drop-shadow-md",children:" BOUQUET RUSH "}),T.jsx("p",{className:"mb-2 text-lg",children:"Infinite Challenge!"}),T.jsxs("div",{className:"flex gap-4 mb-6 text-2xl",children:[T.jsx("span",{children:" = +1"}),T.jsx("span",{children:"/ = DIE"})]}),T.jsx("button",{className:"bg-blue-600 border-4 border-white px-8 py-4 text-xl hover:scale-105 active:scale-95 transition-transform animate-pulse",children:"TAP TO START"})]}),e==="gameover"&&T.jsxs("div",{className:"absolute inset-0 bg-black/80 flex flex-col items-center justify-center text-white z-50 cursor-pointer",onClick:Se,children:[T.jsx("h2",{className:"text-4xl mb-4 text-red-500 drop-shadow-md",children:" GAME OVER"}),T.jsxs("p",{className:"text-3xl mb-2 text-yellow-300",children:["SCORE: ",r]}),T.jsxs("p",{className:"text-xl mb-8 text-gray-300",children:["Time: ",C(u)]}),T.jsx("p",{className:"text-sm text-gray-400 mb-8 animate-pulse",children:"TAP SCREEN TO RETRY"}),T.jsxs("div",{className:"flex gap-4",onClick:M=>M.stopPropagation(),children:[T.jsx("button",{onClick:Se,className:"bg-white text-black border-4 border-gray-400 px-6 py-2 hover:bg-gray-200",children:"RETRY"}),T.jsx("button",{onClick:s,className:"bg-red-500 text-white border-4 border-red-800 px-6 py-2 hover:bg-red-400",children:"QUIT"})]})]}),g.map(M=>T.jsx("div",{className:"absolute text-4xl transition-transform",style:{left:`${M.x}%`,top:`${M.y}%`},children:M.type==="bouquet"?"":M.type==="bomb"?"":""},M.id)),T.jsxs("div",{className:"absolute bottom-4 h-24 transition-all duration-75 ease-linear",style:{left:`${m}%`,width:`${ye}%`},children:[T.jsx("img",{src:Bp,className:"w-full h-full object-contain drop-shadow-lg",style:{imageRendering:"pixelated"}}),T.jsx("div",{className:"absolute bottom-0 w-full text-center text-[10px] text-white/50 backdrop-blur-sm",children:"YOU"})]}),e==="playing"&&T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"absolute top-0 bottom-0 left-0 w-1/2 z-30 active:bg-white/5",onPointerDown:()=>R(-10)}),T.jsx("div",{className:"absolute top-0 bottom-0 right-0 w-1/2 z-30 active:bg-white/5",onPointerDown:()=>R(10)}),T.jsx("button",{className:"absolute bottom-6 left-4 w-16 h-16 bg-white/40 border-2 border-white rounded-full text-3xl flex items-center justify-center z-40 active:scale-90 transition-transform",onPointerDown:()=>R(-10),children:""}),T.jsx("button",{className:"absolute bottom-6 right-4 w-16 h-16 bg-white/40 border-2 border-white rounded-full text-3xl flex items-center justify-center z-40 active:scale-90 transition-transform",onPointerDown:()=>R(10),children:""})]})]})},c4=({onSwitchToV1:s})=>{const[e,n]=ae.useState("bride"),[r,o]=ae.useState(!1),[u,f]=ae.useState(""),[m,_]=ae.useState(null),[g,b]=ae.useState(""),[A,I]=ae.useState(!1);ae.useEffect(()=>{const Se=new Date("2026-04-25T16:50:00"),qe=()=>{const R=Se-new Date,C=Math.ceil(R/(1e3*60*60*24));b(C>0?`D-${C}`:C===0?"D-DAY":`D+${Math.abs(C)}`)};qe();const ge=setInterval(qe,1e3*60);return()=>clearInterval(ge)},[]);const q=()=>{Qt.playClick(),n(Se=>Se==="bride"?"groom":"bride")},J=()=>{Qt.playClick(),I(!0),setTimeout(()=>I(!1),200);const Se=e==="bride"?["Let's Go!","Ready to Run?","Jump! Jump!","Pixel Love!","Wedding Quest!"]:["Power Up!","Level Up!","Game Start!","Insert Coin!","Full Speed!"],qe=Se[Math.floor(Math.random()*Se.length)];f(qe),o(!0),Jl("TOUCH_CHARACTER",{[e]:1}),setTimeout(()=>o(!1),3e3)},W=Se=>{Qt.playClick(),_(Se)},te=()=>{Qt.playClick(),_(null)},ue=()=>{Qt.playClick(),s()},ve=Se=>{switch(Se){case"map":return"WORLD MAP";case"gallery":return"GALLERY";case"recruit":return"GUEST BOOK";case"story":return"PROLOGUE";case"ranking":return"RANKING";case"achievement":return"TROPHIES";case"info":return"PLAYER INFO";case"game":return"MINI GAME";case"bouquet":return"BOUQUET TOSS";default:return""}},ye=new URL("/Invitation/assets/pixel_castle_bg-JX_UEiKn.png",import.meta.url).href;return T.jsxs("div",{className:"relative w-full h-full overflow-hidden bg-black font-['Silkscreen'] select-none text-white",children:[T.jsx("div",{className:"absolute inset-0 z-0 bg-cover bg-center",style:{backgroundImage:`url(${ye})`,imageRendering:"pixelated"},children:T.jsx("div",{className:"absolute inset-0 bg-black/30"})}),T.jsxs("div",{className:"absolute top-0 left-0 right-0 p-4 z-20 flex justify-between items-start pointer-events-none",children:[T.jsx("div",{className:"pointer-events-auto flex items-center gap-2",children:T.jsxs("div",{className:"bg-black/60 border-2 border-white px-3 py-1 flex items-center gap-2 shadow-md",children:[T.jsx("span",{className:"text-yellow-400",children:""}),T.jsx("span",{className:"text-lg",children:g})]})}),T.jsx("div",{className:"pointer-events-auto",children:T.jsx("button",{onClick:q,className:"bg-blue-600 border-b-4 border-r-4 border-blue-800 text-white px-3 py-1 text-xs hover:bg-blue-500 active:border-b-0 active:border-r-0 active:translate-y-1 transition-all",children:"SWITCH CHAR"})})]}),T.jsx("div",{className:"absolute inset-0 z-10 flex flex-col items-center justify-end pb-0 pointer-events-none",children:T.jsxs("div",{className:"relative group",children:[T.jsx("img",{src:e==="bride"?Bp:lw,alt:"Character",className:`
                            h-[70vh] w-auto object-contain cursor-pointer pointer-events-auto drop-shadow-[0_0_10px_rgba(255,255,255,0.5)]
                            ${A?"scale-105 brightness-125":"scale-100 hover:scale-[1.02]"}
                            transition-all duration-200
                        `,onClick:J,style:{imageRendering:"pixelated"}}),r&&T.jsxs("div",{className:"absolute top-20 left-1/2 -translate-x-1/2 bg-white text-black border-4 border-black px-4 py-2 z-30 min-w-[150px] text-center shadow-lg animate-bounce",children:[T.jsx("p",{className:"text-sm",children:u}),T.jsx("div",{className:"absolute -bottom-3 left-1/2 -translate-x-1/2 w-4 h-4 bg-white rotate-45 border-b-4 border-r-4 border-black border-t-0 border-l-0"})]})]})}),T.jsxs("div",{className:"absolute top-1/2 right-4 -translate-y-1/2 flex flex-col gap-3 pointer-events-auto z-40",children:[T.jsx(Ka,{icon:"",label:"MAP",onClick:()=>W("map")}),T.jsx(Ka,{icon:"",label:"ALBUM",onClick:()=>W("gallery")}),T.jsx(Ka,{icon:"",label:"STORY",onClick:()=>W("story")}),T.jsx(Ka,{icon:"",label:"RANK",onClick:()=>W("ranking")}),T.jsx(Ka,{icon:"",label:"BOUQUET",onClick:()=>W("bouquet")}),T.jsx(Ka,{icon:"",label:"GUEST",onClick:()=>W("recruit")})]}),T.jsxs("div",{className:"absolute bottom-6 left-6 right-6 z-50 flex justify-between items-end pointer-events-auto",children:[T.jsx("button",{onClick:ue,className:"text-white/60 text-[10px] hover:text-white hover:underline bg-black/40 px-2 py-1",children:"[ SYSTEM: CLASSIC MODE ]"}),T.jsx("button",{onClick:()=>{W("game"),Jl("GAME_START")},className:"relative group bg-red-600 border-4 border-white text-white px-6 py-3 shadow-[4px_4px_0_rgba(0,0,0,0.5)] hover:translate-y-1 hover:shadow-[2px_2px_0_rgba(0,0,0,0.5)] active:translate-y-2 active:shadow-none transition-all",children:T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("span",{className:"text-2xl animate-pulse",children:""}),T.jsxs("div",{className:"flex flex-col items-start leading-none",children:[T.jsx("span",{className:"text-[10px] text-yellow-300",children:"INSERT COIN"}),T.jsx("span",{className:"text-xl",children:"START GAME"})]})]})})]}),m&&T.jsxs(a4,{title:ve(m),onClose:te,children:[m==="map"&&T.jsx(lT,{}),m==="gallery"&&T.jsx(oT,{}),m==="info"&&T.jsx(ZD,{}),m==="game"&&T.jsx("div",{className:"flex flex-col items-center justify-center py-4 w-full",children:T.jsx(t4,{selectedCharacter:e})}),m==="story"&&T.jsx(r4,{onClose:te}),m==="recruit"&&T.jsx(s4,{}),m==="ranking"&&T.jsx(o4,{}),m==="achievement"&&T.jsx(l4,{}),m==="bouquet"&&T.jsx(u4,{})]})]})},Ka=({icon:s,label:e,onClick:n})=>T.jsxs("button",{onClick:n,className:"group relative bg-black/60 border-2 border-white px-3 py-2 flex items-center gap-3 hover:bg-white/20 hover:border-yellow-400 transition-all w-32 shadow-md",children:[T.jsx("span",{className:"text-xl group-hover:scale-110 transition-transform",children:s}),T.jsx("span",{className:"text-xs text-white group-hover:text-yellow-400",children:e})]}),h4=({onSwitchToV1:s})=>{const[e,n]=ae.useState("title"),r=()=>{n("lobby")};return T.jsxs("div",{className:"relative w-full h-screen bg-background overflow-hidden font-body selection:bg-primary/20 selection:text-primary",children:[T.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[500px] h-[500px] bg-primary/20 rounded-full blur-[100px] animate-pulse"}),T.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[600px] h-[600px] bg-secondary/20 rounded-full blur-[120px] animate-pulse delay-1000"}),T.jsx("div",{className:"absolute top-[40%] left-[30%] w-[300px] h-[300px] bg-soft-pink/30 rounded-full blur-[80px] animate-bounce delay-500 duration-[5000ms]"}),T.jsxs("div",{className:"relative w-full h-full",children:[e==="title"&&T.jsx(XD,{onStart:r,onSwitchToV1:s}),e==="lobby"&&T.jsx(c4,{onSwitchToV1:s})]})]})},f4=()=>T.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-background font-body p-4",children:T.jsxs("div",{className:"card max-w-md w-full text-center space-y-8",children:[T.jsxs("div",{className:"space-y-2",children:[T.jsx("h1",{className:"text-4xl text-text font-heading tracking-wider",children:"INVITATION"}),T.jsx("p",{className:"text-xl text-text/80 font-medium",children:" & "})]}),T.jsx("div",{className:"w-12 h-px bg-gray-300 mx-auto"}),T.jsx("p",{className:"text-text/60 tracking-widest",children:"2026. 04. 25. SAT PM 04:50"}),T.jsxs("div",{className:"flex flex-col gap-4",children:[T.jsxs("a",{href:"classic.html",className:"btn-secondary flex items-center justify-center gap-2 group",children:[T.jsx("span",{className:"group-hover:scale-110 transition-transform",children:""}),"  (Classic)"]}),T.jsxs("a",{href:"game.html",className:"btn-primary flex items-center justify-center gap-2 group",children:[T.jsx("span",{className:"group-hover:rotate-12 transition-transform",children:""}),"  (Game Mode)"]})]})]})});function d4(){const[s,e]=ae.useState("selection");return ae.useEffect(()=>{const n=window.location.pathname;n.includes("classic.html")?e("v1"):n.includes("game.html")?e("v2"):new URLSearchParams(window.location.search).get("mode")==="classic"?e("v1"):new URLSearchParams(window.location.search).get("mode")==="game"?e("v2"):e("selection")},[]),T.jsxs(T.Fragment,{children:[s==="selection"&&T.jsx(f4,{}),s==="v1"&&T.jsx(oS,{}),s==="v2"&&T.jsx(h4,{onSwitchToV1:()=>window.location.href="classic.html"}),T.jsx(KD,{})]})}QA.createRoot(document.getElementById("root")).render(T.jsx(ae.StrictMode,{children:T.jsx(d4,{})}));
