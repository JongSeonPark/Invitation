(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var Kd={exports:{}},Dl={};var lv;function qA(){if(lv)return Dl;lv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:s,type:r,key:f,ref:l!==void 0?l:null,props:u}}return Dl.Fragment=e,Dl.jsx=n,Dl.jsxs=n,Dl}var uv;function HA(){return uv||(uv=1,Kd.exports=qA()),Kd.exports}var E=HA(),Qd={exports:{}},Se={};var cv;function FA(){if(cv)return Se;cv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),I=Symbol.iterator;function F(M){return M===null||typeof M!="object"?null:(M=I&&M[I]||M["@@iterator"],typeof M=="function"?M:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ee=Object.assign,te={};function le(M,K,ie){this.props=M,this.context=K,this.refs=te,this.updater=ie||J}le.prototype.isReactComponent={},le.prototype.setState=function(M,K){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,K,"setState")},le.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Ee(){}Ee.prototype=le.prototype;function ye(M,K,ie){this.props=M,this.context=K,this.refs=te,this.updater=ie||J}var ve=ye.prototype=new Ee;ve.constructor=ye,ee(ve,le.prototype),ve.isPureReactComponent=!0;var Ke=Array.isArray;function Ne(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function x(M,K,ie){var re=ie.ref;return{$$typeof:s,type:M,key:K,ref:re!==void 0?re:null,props:ie}}function V(M,K){return x(M.type,K,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function k(M){var K={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ie){return K[ie]})}var R=/\/+/g;function ae(M,K){return typeof M=="object"&&M!==null&&M.key!=null?k(""+M.key):K.toString(36)}function de(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Ne,Ne):(M.status="pending",M.then(function(K){M.status==="pending"&&(M.status="fulfilled",M.value=K)},function(K){M.status==="pending"&&(M.status="rejected",M.reason=K)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function U(M,K,ie,re,ge){var Re=typeof M;(Re==="undefined"||Re==="boolean")&&(M=null);var ze=!1;if(M===null)ze=!0;else switch(Re){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(M.$$typeof){case s:case e:ze=!0;break;case b:return ze=M._init,U(ze(M._payload),K,ie,re,ge)}}if(ze)return ge=ge(M),ze=re===""?"."+ae(M,0):re,Ke(ge)?(ie="",ze!=null&&(ie=ze.replace(R,"$&/")+"/"),U(ge,K,ie,"",function(dr){return dr})):ge!=null&&(D(ge)&&(ge=V(ge,ie+(ge.key==null||M&&M.key===ge.key?"":(""+ge.key).replace(R,"$&/")+"/")+ze)),K.push(ge)),1;ze=0;var Dt=re===""?".":re+":";if(Ke(M))for(var at=0;at<M.length;at++)re=M[at],Re=Dt+ae(re,at),ze+=U(re,K,ie,Re,ge);else if(at=F(M),typeof at=="function")for(M=at.call(M),at=0;!(re=M.next()).done;)re=re.value,Re=Dt+ae(re,at++),ze+=U(re,K,ie,Re,ge);else if(Re==="object"){if(typeof M.then=="function")return U(de(M),K,ie,re,ge);throw K=String(M),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return ze}function W(M,K,ie){if(M==null)return M;var re=[],ge=0;return U(M,re,"","",function(Re){return K.call(ie,Re,ge++)}),re}function ce(M){if(M._status===-1){var K=M._result;K=K(),K.then(function(ie){(M._status===0||M._status===-1)&&(M._status=1,M._result=ie)},function(ie){(M._status===0||M._status===-1)&&(M._status=2,M._result=ie)}),M._status===-1&&(M._status=0,M._result=K)}if(M._status===1)return M._result.default;throw M._result}var Z=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},De={map:W,forEach:function(M,K,ie){W(M,function(){K.apply(this,arguments)},ie)},count:function(M){var K=0;return W(M,function(){K++}),K},toArray:function(M){return W(M,function(K){return K})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Se.Activity=S,Se.Children=De,Se.Component=le,Se.Fragment=n,Se.Profiler=l,Se.PureComponent=ye,Se.StrictMode=r,Se.Suspense=g,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Se.__COMPILER_RUNTIME={__proto__:null,c:function(M){return N.H.useMemoCache(M)}},Se.cache=function(M){return function(){return M.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(M,K,ie){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var re=ee({},M.props),ge=M.key;if(K!=null)for(Re in K.key!==void 0&&(ge=""+K.key),K)!w.call(K,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&K.ref===void 0||(re[Re]=K[Re]);var Re=arguments.length-2;if(Re===1)re.children=ie;else if(1<Re){for(var ze=Array(Re),Dt=0;Dt<Re;Dt++)ze[Dt]=arguments[Dt+2];re.children=ze}return x(M.type,ge,re)},Se.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Se.createElement=function(M,K,ie){var re,ge={},Re=null;if(K!=null)for(re in K.key!==void 0&&(Re=""+K.key),K)w.call(K,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(ge[re]=K[re]);var ze=arguments.length-2;if(ze===1)ge.children=ie;else if(1<ze){for(var Dt=Array(ze),at=0;at<ze;at++)Dt[at]=arguments[at+2];ge.children=Dt}if(M&&M.defaultProps)for(re in ze=M.defaultProps,ze)ge[re]===void 0&&(ge[re]=ze[re]);return x(M,Re,ge)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(M){return{$$typeof:m,render:M}},Se.isValidElement=D,Se.lazy=function(M){return{$$typeof:b,_payload:{_status:-1,_result:M},_init:ce}},Se.memo=function(M,K){return{$$typeof:y,type:M,compare:K===void 0?null:K}},Se.startTransition=function(M){var K=N.T,ie={};N.T=ie;try{var re=M(),ge=N.S;ge!==null&&ge(ie,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(Ne,Z)}catch(Re){Z(Re)}finally{K!==null&&ie.types!==null&&(K.types=ie.types),N.T=K}},Se.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Se.use=function(M){return N.H.use(M)},Se.useActionState=function(M,K,ie){return N.H.useActionState(M,K,ie)},Se.useCallback=function(M,K){return N.H.useCallback(M,K)},Se.useContext=function(M){return N.H.useContext(M)},Se.useDebugValue=function(){},Se.useDeferredValue=function(M,K){return N.H.useDeferredValue(M,K)},Se.useEffect=function(M,K){return N.H.useEffect(M,K)},Se.useEffectEvent=function(M){return N.H.useEffectEvent(M)},Se.useId=function(){return N.H.useId()},Se.useImperativeHandle=function(M,K,ie){return N.H.useImperativeHandle(M,K,ie)},Se.useInsertionEffect=function(M,K){return N.H.useInsertionEffect(M,K)},Se.useLayoutEffect=function(M,K){return N.H.useLayoutEffect(M,K)},Se.useMemo=function(M,K){return N.H.useMemo(M,K)},Se.useOptimistic=function(M,K){return N.H.useOptimistic(M,K)},Se.useReducer=function(M,K,ie){return N.H.useReducer(M,K,ie)},Se.useRef=function(M){return N.H.useRef(M)},Se.useState=function(M){return N.H.useState(M)},Se.useSyncExternalStore=function(M,K,ie){return N.H.useSyncExternalStore(M,K,ie)},Se.useTransition=function(){return N.H.useTransition()},Se.version="19.2.3",Se}var hv;function Bm(){return hv||(hv=1,Qd.exports=FA()),Qd.exports}var fe=Bm(),Xd={exports:{}},Ol={},$d={exports:{}},Jd={};var fv;function GA(){return fv||(fv=1,(function(s){function e(U,W){var ce=U.length;U.push(W);e:for(;0<ce;){var Z=ce-1>>>1,De=U[Z];if(0<l(De,W))U[Z]=W,U[ce]=De,ce=Z;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var W=U[0],ce=U.pop();if(ce!==W){U[0]=ce;e:for(var Z=0,De=U.length,M=De>>>1;Z<M;){var K=2*(Z+1)-1,ie=U[K],re=K+1,ge=U[re];if(0>l(ie,ce))re<De&&0>l(ge,ie)?(U[Z]=ge,U[re]=ce,Z=re):(U[Z]=ie,U[K]=ce,Z=K);else if(re<De&&0>l(ge,ce))U[Z]=ge,U[re]=ce,Z=re;else break e}}return W}function l(U,W){var ce=U.sortIndex-W.sortIndex;return ce!==0?ce:U.id-W.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();s.unstable_now=function(){return f.now()-m}}var g=[],y=[],b=1,S=null,I=3,F=!1,J=!1,ee=!1,te=!1,le=typeof setTimeout=="function"?setTimeout:null,Ee=typeof clearTimeout=="function"?clearTimeout:null,ye=typeof setImmediate<"u"?setImmediate:null;function ve(U){for(var W=n(y);W!==null;){if(W.callback===null)r(y);else if(W.startTime<=U)r(y),W.sortIndex=W.expirationTime,e(g,W);else break;W=n(y)}}function Ke(U){if(ee=!1,ve(U),!J)if(n(g)!==null)J=!0,Ne||(Ne=!0,k());else{var W=n(y);W!==null&&de(Ke,W.startTime-U)}}var Ne=!1,N=-1,w=5,x=-1;function V(){return te?!0:!(s.unstable_now()-x<w)}function D(){if(te=!1,Ne){var U=s.unstable_now();x=U;var W=!0;try{e:{J=!1,ee&&(ee=!1,Ee(N),N=-1),F=!0;var ce=I;try{t:{for(ve(U),S=n(g);S!==null&&!(S.expirationTime>U&&V());){var Z=S.callback;if(typeof Z=="function"){S.callback=null,I=S.priorityLevel;var De=Z(S.expirationTime<=U);if(U=s.unstable_now(),typeof De=="function"){S.callback=De,ve(U),W=!0;break t}S===n(g)&&r(g),ve(U)}else r(g);S=n(g)}if(S!==null)W=!0;else{var M=n(y);M!==null&&de(Ke,M.startTime-U),W=!1}}break e}finally{S=null,I=ce,F=!1}W=void 0}}finally{W?k():Ne=!1}}}var k;if(typeof ye=="function")k=function(){ye(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ae=R.port2;R.port1.onmessage=D,k=function(){ae.postMessage(null)}}else k=function(){le(D,0)};function de(U,W){N=le(function(){U(s.unstable_now())},W)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(U){U.callback=null},s.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<U?Math.floor(1e3/U):5},s.unstable_getCurrentPriorityLevel=function(){return I},s.unstable_next=function(U){switch(I){case 1:case 2:case 3:var W=3;break;default:W=I}var ce=I;I=W;try{return U()}finally{I=ce}},s.unstable_requestPaint=function(){te=!0},s.unstable_runWithPriority=function(U,W){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ce=I;I=U;try{return W()}finally{I=ce}},s.unstable_scheduleCallback=function(U,W,ce){var Z=s.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Z+ce:Z):ce=Z,U){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=ce+De,U={id:b++,callback:W,priorityLevel:U,startTime:ce,expirationTime:De,sortIndex:-1},ce>Z?(U.sortIndex=ce,e(y,U),n(g)===null&&U===n(y)&&(ee?(Ee(N),N=-1):ee=!0,de(Ke,ce-Z))):(U.sortIndex=De,e(g,U),J||F||(J=!0,Ne||(Ne=!0,k()))),U},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(U){var W=I;return function(){var ce=I;I=W;try{return U.apply(this,arguments)}finally{I=ce}}}})(Jd)),Jd}var dv;function YA(){return dv||(dv=1,$d.exports=GA()),$d.exports}var Zd={exports:{}},Qt={};var mv;function KA(){if(mv)return Qt;mv=1;var s=Bm();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(g,y,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:g,containerInfo:y,implementation:b}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Qt.createPortal=function(g,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,b)},Qt.flushSync=function(g){var y=f.T,b=r.p;try{if(f.T=null,r.p=2,g)return g()}finally{f.T=y,r.p=b,r.d.f()}},Qt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},Qt.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Qt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var b=y.as,S=m(b,y.crossOrigin),I=typeof y.integrity=="string"?y.integrity:void 0,F=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:I,fetchPriority:F}):b==="script"&&r.d.X(g,{crossOrigin:S,integrity:I,fetchPriority:F,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Qt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=m(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},Qt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,S=m(b,y.crossOrigin);r.d.L(g,b,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Qt.preloadModule=function(g,y){if(typeof g=="string")if(y){var b=m(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},Qt.requestFormReset=function(g){r.d.r(g)},Qt.unstable_batchedUpdates=function(g,y){return g(y)},Qt.useFormState=function(g,y,b){return f.H.useFormState(g,y,b)},Qt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Qt.version="19.2.3",Qt}var pv;function iT(){if(pv)return Zd.exports;pv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Zd.exports=KA(),Zd.exports}var gv;function QA(){if(gv)return Ol;gv=1;var s=YA(),e=Bm(),n=iT();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(r(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,o=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),t;if(d===o)return g(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,o=d;break}if(T===o){_=!0,o=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,o=h;break}if(T===o){_=!0,o=d,a=h;break}T=T.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function b(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=b(t),i!==null)return i;t=t.sibling}return null}var S=Object.assign,I=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),le=Symbol.for("react.profiler"),Ee=Symbol.for("react.consumer"),ye=Symbol.for("react.context"),ve=Symbol.for("react.forward_ref"),Ke=Symbol.for("react.suspense"),Ne=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function ae(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ee:return"Fragment";case le:return"Profiler";case te:return"StrictMode";case Ke:return"Suspense";case Ne:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case J:return"Portal";case ye:return t.displayName||"Context";case Ee:return(t._context.displayName||"Context")+".Consumer";case ve:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return i=t.displayName||null,i!==null?i:ae(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return ae(t(i))}catch{}}return null}var de=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Z=[],De=-1;function M(t){return{current:t}}function K(t){0>De||(t.current=Z[De],Z[De]=null,De--)}function ie(t,i){De++,Z[De]=t.current,t.current=i}var re=M(null),ge=M(null),Re=M(null),ze=M(null);function Dt(t,i){switch(ie(Re,i),ie(ge,t),ie(re,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?D_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=D_(i),t=O_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(re),ie(re,t)}function at(){K(re),K(ge),K(Re)}function dr(t){t.memoizedState!==null&&ie(ze,t);var i=re.current,a=O_(i,t.type);i!==a&&(ie(ge,t),ie(re,a))}function aa(t){ge.current===t&&(K(re),K(ge)),ze.current===t&&(K(ze),Il._currentValue=ce)}var oa,la;function si(t){if(oa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);oa=i&&i[1]||"",la=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oa+t+la}var Io=!1;function mr(t,i){if(!t||Io)return"";Io=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var B=H}Reflect.construct(t,[],X)}else{try{X.call()}catch(H){B=H}t.call(X.prototype)}}else{try{throw Error()}catch(H){B=H}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var C=_.split(`
`),z=T.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===z.length)for(o=C.length-1,h=z.length-1;1<=o&&0<=h&&C[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==z[h]){var G=`
`+C[o].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=o&&0<=h);break}}}finally{Io=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?si(a):""}function Ro(t,i){switch(t.tag){case 26:case 27:case 5:return si(t.type);case 16:return si("Lazy");case 13:return t.child!==i&&i!==null?si("Suspense Fallback"):si("Suspense");case 19:return si("SuspenseList");case 0:case 15:return mr(t.type,!1);case 11:return mr(t.type.render,!1);case 1:return mr(t.type,!0);case 31:return si("Activity");default:return""}}function Co(t){try{var i="",a=null;do i+=Ro(t,a),a=t,t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _t=Object.prototype.hasOwnProperty,Ot=s.unstable_scheduleCallback,fs=s.unstable_cancelCallback,Qh=s.unstable_shouldYield,hu=s.unstable_requestPaint,Wt=s.unstable_now,pr=s.unstable_getCurrentPriorityLevel,No=s.unstable_ImmediatePriority,Do=s.unstable_UserBlockingPriority,ds=s.unstable_NormalPriority,Xh=s.unstable_LowPriority,fu=s.unstable_IdlePriority,du=s.log,mu=s.unstable_setDisableYieldValue,Pn=null,Pt=null;function Sn(t){if(typeof du=="function"&&mu(t),Pt&&typeof Pt.setStrictMode=="function")try{Pt.setStrictMode(Pn,t)}catch{}}var ft=Math.clz32?Math.clz32:gu,pu=Math.log,ua=Math.LN2;function gu(t){return t>>>=0,t===0?32:31-(pu(t)/ua|0)|0}var ri=256,gr=262144,vt=4194304;function ai(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function oi(t,i,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=o&134217727;return T!==0?(o=T&~d,o!==0?h=ai(o):(_&=T,_!==0?h=ai(_):a||(a=T&~t,a!==0&&(h=ai(a))))):(T=o&~d,T!==0?h=ai(T):_!==0?h=ai(_):a||(a=o&~t,a!==0&&(h=ai(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function zn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function $h(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yu(){var t=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),t}function li(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function yr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Jh(t,i,a,o,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,z=t.hiddenUpdates;for(a=_&~a;0<a;){var G=31-ft(a),X=1<<G;T[G]=0,C[G]=-1;var B=z[G];if(B!==null)for(z[G]=null,G=0;G<B.length;G++){var H=B[G];H!==null&&(H.lane&=-536870913)}a&=~X}o!==0&&_r(t,o,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function _r(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-ft(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Oo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var o=31-ft(a),h=1<<o;h&i|t[o]&i&&(t[o]|=i),a&=~h}}function Mo(t,i){var a=i&-i;return a=(a&42)!==0?1:vr(a),(a&(t.suspendedLanes|i))!==0?0:a}function vr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Li(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function _u(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:tv(t.type))}function Bn(t,i){var a=W.p;try{return W.p=t,i()}finally{W.p=a}}var qn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+qn,kt="__reactProps$"+qn,ui="__reactContainer$"+qn,ca="__reactEvents$"+qn,Zh="__reactListeners$"+qn,vu="__reactHandles$"+qn,Tu="__reactResources$"+qn,ci="__reactMarker$"+qn;function ha(t){delete t[Tt],delete t[kt],delete t[ca],delete t[Zh],delete t[vu]}function hi(t){var i=t[Tt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[ui]||a[Tt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=P_(t);t!==null;){if(a=t[Tt])return a;t=P_(t)}return i}t=a,a=t.parentNode}return null}function wn(t){if(t=t[Tt]||t[ui]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function dn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function fi(t){var i=t[Tu];return i||(i=t[Tu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Et(t){t[ci]=!0}var Vo=new Set,ko={};function di(t,i){mi(t,i),mi(t+"Capture",i)}function mi(t,i){for(ko[t]=i,t=0;t<i.length;t++)Vo.add(i[t])}var Lo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uo={},jo={};function Eu(t){return _t.call(jo,t)?!0:_t.call(Uo,t)?!1:Lo.test(t)?jo[t]=!0:(Uo[t]=!0,!1)}function fa(t,i,a){if(Eu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function mn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function bt(t,i,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+o)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ms(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Po(t,i,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,d=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Qe(t){if(!t._valueTracker){var i=ms(t)?"checked":"value";t._valueTracker=Po(t,i,""+t[i])}}function Tr(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return t&&(o=ms(t)?t.checked?"true":"false":t.value),t=o,t!==a?(i.setValue(t),!0):!1}function pi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Er=/[\n"\\]/g;function sn(t){return t.replace(Er,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function da(t,i,a,o,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Lt(i)):t.value!==""+Lt(i)&&(t.value=""+Lt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?zo(t,_,Lt(i)):a!=null?zo(t,_,Lt(a)):o!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Lt(T):t.removeAttribute("name")}function bu(t,i,a,o,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Qe(t);return}a=a!=null?""+Lt(a):"",i=i!=null?""+Lt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Qe(t)}function zo(t,i,a){i==="number"&&pi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ps(t,i,a,o){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Lt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Au(t,i,a){if(i!=null&&(i=""+Lt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Lt(a):""}function gs(t,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(r(92));if(de(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Lt(i),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Qe(t)}function rn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Su=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bo(t,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,a):typeof a!="number"||a===0||Su.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function qo(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Bo(t,h,o)}else for(var d in i)i.hasOwnProperty(d)&&Bo(t,d,i[d])}function ma(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ys=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pa(t){return ys.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Hn(){}var Ho=null;function xn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _s=null,gi=null;function br(t){var i=wn(t);if(i&&(t=i.stateNode)){var a=t[kt]||null;e:switch(t=i.stateNode,i.type){case"input":if(da(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==t&&o.form===t.form){var h=o[kt]||null;if(!h)throw Error(r(90));da(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===t.form&&Tr(o)}break e;case"textarea":Au(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&ps(t,!!a.multiple,i,!1)}}}var ga=!1;function vs(t,i,a){if(ga)return t(i,a);ga=!0;try{var o=t(i);return o}finally{if(ga=!1,(_s!==null||gi!==null)&&(_c(),_s&&(i=_s,t=gi,gi=_s=null,br(i),t)))for(i=0;i<t.length;i++)br(t[i])}}function Fn(t,i){var a=t.stateNode;if(a===null)return null;var o=a[kt]||null;if(o===null)return null;a=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ar=!1;if(In)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){Ar=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{Ar=!1}var yi=null,Fo=null,Sr=null;function Go(){if(Sr)return Sr;var t,i=Fo,a=i.length,o,h="value"in yi?yi.value:yi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(o=1;o<=_&&i[a-o]===h[d-o];o++);return Sr=h.slice(t,1<o?1-o:void 0)}function wr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Ui(){return!0}function Gn(){return!1}function zt(t){function i(a,o,h,d,_){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ui:Gn,this.isPropagationStopped=Gn,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),i}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_i=zt(ji),Ts=S({},ji,{view:0,detail:0}),Yo=zt(Ts),Es,ya,vi,_a=S({},Ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vi&&(vi&&t.type==="mousemove"?(Es=t.screenX-vi.screenX,ya=t.screenY-vi.screenY):ya=Es=0,vi=t),Es)},movementY:function(t){return"movementY"in t?t.movementY:ya}}),Ko=zt(_a),xr=S({},_a,{dataTransfer:0}),xu=zt(xr),Iu=S({},Ts,{relatedTarget:0}),Ir=zt(Iu),Qo=S({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),Ru=zt(Qo),va=S({},ji,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Cu=zt(va),Nu=S({},ji,{data:0}),Ti=zt(Nu),Du={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Mu[t])?!!i[t]:!1}function bs(){return Vu}var en=S({},Ts,{key:function(t){if(t.key){var i=Du[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=wr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ou[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bs,charCode:function(t){return t.type==="keypress"?wr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ku=zt(en),Lu=S({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pi=zt(Lu),c=S({},Ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bs}),p=zt(c),v=S({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=zt(v),j=S({},_a,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=zt(j),ne=S({},ji,{newState:0,oldState:0}),xe=zt(ne),dt=[9,13,27,32],Fe=In&&"CompositionEvent"in window,ot=null;In&&"documentMode"in document&&(ot=document.documentMode);var Rn=In&&"TextEvent"in window&&!ot,Ei=In&&(!Fe||ot&&8<ot&&11>=ot),Yn=" ",Kn=!1;function Rr(t,i){switch(t){case"keyup":return dt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ta(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ea=!1;function f1(t,i){switch(t){case"compositionend":return Ta(i);case"keypress":return i.which!==32?null:(Kn=!0,Yn);case"textInput":return t=i.data,t===Yn&&Kn?null:t;default:return null}}function d1(t,i){if(Ea)return t==="compositionend"||!Fe&&Rr(t,i)?(t=Go(),Sr=Fo=yi=null,Ea=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ei&&i.locale!=="ko"?null:i.data;default:return null}}var m1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!m1[t.type]:i==="textarea"}function Hp(t,i,a,o){_s?gi?gi.push(o):gi=[o]:_s=o,i=wc(i,"onChange"),0<i.length&&(a=new _i("onChange","change",null,a,o),t.push({event:a,listeners:i}))}var Xo=null,$o=null;function p1(t){w_(t,0)}function Uu(t){var i=dn(t);if(Tr(i))return t}function Fp(t,i){if(t==="change")return i}var Gp=!1;if(In){var Wh;if(In){var ef="oninput"in document;if(!ef){var Yp=document.createElement("div");Yp.setAttribute("oninput","return;"),ef=typeof Yp.oninput=="function"}Wh=ef}else Wh=!1;Gp=Wh&&(!document.documentMode||9<document.documentMode)}function Kp(){Xo&&(Xo.detachEvent("onpropertychange",Qp),$o=Xo=null)}function Qp(t){if(t.propertyName==="value"&&Uu($o)){var i=[];Hp(i,$o,t,xn(t)),vs(p1,i)}}function g1(t,i,a){t==="focusin"?(Kp(),Xo=i,$o=a,Xo.attachEvent("onpropertychange",Qp)):t==="focusout"&&Kp()}function y1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uu($o)}function _1(t,i){if(t==="click")return Uu(i)}function v1(t,i){if(t==="input"||t==="change")return Uu(i)}function T1(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var pn=typeof Object.is=="function"?Object.is:T1;function Jo(t,i){if(pn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!_t.call(i,h)||!pn(t[h],i[h]))return!1}return!0}function Xp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $p(t,i){var a=Xp(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=i&&o>=i)return{node:a,offset:i-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Xp(a)}}function Jp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Jp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Zp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=pi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=pi(t.document)}return i}function tf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var E1=In&&"documentMode"in document&&11>=document.documentMode,ba=null,nf=null,Zo=null,sf=!1;function Wp(t,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;sf||ba==null||ba!==pi(o)||(o=ba,"selectionStart"in o&&tf(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Zo&&Jo(Zo,o)||(Zo=o,o=wc(nf,"onSelect"),0<o.length&&(i=new _i("onSelect","select",null,i,a),t.push({event:i,listeners:o}),i.target=ba)))}function Cr(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Aa={animationend:Cr("Animation","AnimationEnd"),animationiteration:Cr("Animation","AnimationIteration"),animationstart:Cr("Animation","AnimationStart"),transitionrun:Cr("Transition","TransitionRun"),transitionstart:Cr("Transition","TransitionStart"),transitioncancel:Cr("Transition","TransitionCancel"),transitionend:Cr("Transition","TransitionEnd")},rf={},eg={};In&&(eg=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function Nr(t){if(rf[t])return rf[t];if(!Aa[t])return t;var i=Aa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in eg)return rf[t]=i[a];return t}var tg=Nr("animationend"),ng=Nr("animationiteration"),ig=Nr("animationstart"),b1=Nr("transitionrun"),A1=Nr("transitionstart"),S1=Nr("transitioncancel"),sg=Nr("transitionend"),rg=new Map,af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");af.push("scrollEnd");function Qn(t,i){rg.set(t,i),di(i,[t])}var ju=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Cn=[],Sa=0,of=0;function Pu(){for(var t=Sa,i=of=Sa=0;i<t;){var a=Cn[i];Cn[i++]=null;var o=Cn[i];Cn[i++]=null;var h=Cn[i];Cn[i++]=null;var d=Cn[i];if(Cn[i++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}d!==0&&ag(a,h,d)}}function zu(t,i,a,o){Cn[Sa++]=t,Cn[Sa++]=i,Cn[Sa++]=a,Cn[Sa++]=o,of|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function lf(t,i,a,o){return zu(t,i,a,o),Bu(t)}function Dr(t,i){return zu(t,null,null,i),Bu(t)}function ag(t,i,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-ft(a),t=d.hiddenUpdates,o=t[h],o===null?t[h]=[i]:o.push(i),i.lane=a|536870912),d):null}function Bu(t){if(50<Tl)throw Tl=0,yd=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var wa={};function w1(t,i,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,i,a,o){return new w1(t,i,a,o)}function uf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zi(t,i){var a=t.alternate;return a===null?(a=gn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function og(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function qu(t,i,a,o,h,d){var _=0;if(o=t,typeof t=="function")uf(t)&&(_=1);else if(typeof t=="string")_=NA(t,a,re.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=gn(31,a,i,h),t.elementType=x,t.lanes=d,t;case ee:return Or(a.children,h,d,i);case te:_=8,h|=24;break;case le:return t=gn(12,a,i,h|2),t.elementType=le,t.lanes=d,t;case Ke:return t=gn(13,a,i,h),t.elementType=Ke,t.lanes=d,t;case Ne:return t=gn(19,a,i,h),t.elementType=Ne,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ye:_=10;break e;case Ee:_=9;break e;case ve:_=11;break e;case N:_=14;break e;case w:_=16,o=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return i=gn(_,a,i,h),i.elementType=t,i.type=o,i.lanes=d,i}function Or(t,i,a,o){return t=gn(7,t,o,i),t.lanes=a,t}function cf(t,i,a){return t=gn(6,t,null,i),t.lanes=a,t}function lg(t){var i=gn(18,null,null,0);return i.stateNode=t,i}function hf(t,i,a){return i=gn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var ug=new WeakMap;function Nn(t,i){if(typeof t=="object"&&t!==null){var a=ug.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Co(i)},ug.set(t,i),i)}return{value:t,source:i,stack:Co(i)}}var xa=[],Ia=0,Hu=null,Wo=0,Dn=[],On=0,As=null,bi=1,Ai="";function Bi(t,i){xa[Ia++]=Wo,xa[Ia++]=Hu,Hu=t,Wo=i}function cg(t,i,a){Dn[On++]=bi,Dn[On++]=Ai,Dn[On++]=As,As=t;var o=bi;t=Ai;var h=32-ft(o)-1;o&=~(1<<h),a+=1;var d=32-ft(i)+h;if(30<d){var _=h-h%5;d=(o&(1<<_)-1).toString(32),o>>=_,h-=_,bi=1<<32-ft(i)+h|a<<h|o,Ai=d+t}else bi=1<<d|a<<h|o,Ai=t}function ff(t){t.return!==null&&(Bi(t,1),cg(t,1,0))}function df(t){for(;t===Hu;)Hu=xa[--Ia],xa[Ia]=null,Wo=xa[--Ia],xa[Ia]=null;for(;t===As;)As=Dn[--On],Dn[On]=null,Ai=Dn[--On],Dn[On]=null,bi=Dn[--On],Dn[On]=null}function hg(t,i){Dn[On++]=bi,Dn[On++]=Ai,Dn[On++]=As,bi=i.id,Ai=i.overflow,As=t}var Bt=null,it=null,Pe=!1,Ss=null,Mn=!1,mf=Error(r(519));function ws(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw el(Nn(i,t)),mf}function fg(t){var i=t.stateNode,a=t.type,o=t.memoizedProps;switch(i[Tt]=t,i[kt]=o,a){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(a=0;a<bl.length;a++)Me(bl[a],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":Me("invalid",i),bu(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Me("invalid",i);break;case"textarea":Me("invalid",i),gs(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||C_(i.textContent,a)?(o.popover!=null&&(Me("beforetoggle",i),Me("toggle",i)),o.onScroll!=null&&Me("scroll",i),o.onScrollEnd!=null&&Me("scrollend",i),o.onClick!=null&&(i.onclick=Hn),i=!0):i=!1,i||ws(t,!0)}function dg(t){for(Bt=t.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:Bt=Bt.return}}function Ra(t){if(t!==Bt)return!1;if(!Pe)return dg(t),Pe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Od(t.type,t.memoizedProps)),a=!a),a&&it&&ws(t),dg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));it=j_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));it=j_(t)}else i===27?(i=it,Ps(t.type)?(t=Ud,Ud=null,it=t):it=i):it=Bt?kn(t.stateNode.nextSibling):null;return!0}function Mr(){it=Bt=null,Pe=!1}function pf(){var t=Ss;return t!==null&&(un===null?un=t:un.push.apply(un,t),Ss=null),t}function el(t){Ss===null?Ss=[t]:Ss.push(t)}var gf=M(null),Vr=null,qi=null;function xs(t,i,a){ie(gf,i._currentValue),i._currentValue=a}function Hi(t){t._currentValue=gf.current,K(gf)}function yf(t,i,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===a)break;t=t.return}}function _f(t,i,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var C=0;C<i.length;C++)if(T.context===i[C]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),yf(d.return,a,t),o||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),yf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ca(t,i,a,o){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var T=h.type;pn(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===ze.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Il):t=[Il])}h=h.return}t!==null&&_f(i,t,a,o),i.flags|=262144}function Fu(t){for(t=t.firstContext;t!==null;){if(!pn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function kr(t){Vr=t,qi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qt(t){return mg(Vr,t)}function Gu(t,i){return Vr===null&&kr(t),mg(t,i)}function mg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},qi===null){if(t===null)throw Error(r(308));qi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else qi=qi.next=i;return a}var x1=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},I1=s.unstable_scheduleCallback,R1=s.unstable_NormalPriority,At={$$typeof:ye,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vf(){return{controller:new x1,data:new Map,refCount:0}}function tl(t){t.refCount--,t.refCount===0&&I1(R1,function(){t.controller.abort()})}var nl=null,Tf=0,Na=0,Da=null;function C1(t,i){if(nl===null){var a=nl=[];Tf=0,Na=Ad(),Da={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Tf++,i.then(pg,pg),i}function pg(){if(--Tf===0&&nl!==null){Da!==null&&(Da.status="fulfilled");var t=nl;nl=null,Na=0,Da=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function N1(t,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var gg=U.S;U.S=function(t,i){Wy=Wt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&C1(t,i),gg!==null&&gg(t,i)};var Lr=M(null);function Ef(){var t=Lr.current;return t!==null?t:tt.pooledCache}function Yu(t,i){i===null?ie(Lr,Lr.current):ie(Lr,i.pool)}function yg(){var t=Ef();return t===null?null:{parent:At._currentValue,pool:t}}var Oa=Error(r(460)),bf=Error(r(474)),Ku=Error(r(542)),Qu={then:function(){}};function _g(t){return t=t.status,t==="fulfilled"||t==="rejected"}function vg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Hn,Hn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Eg(t),t;default:if(typeof i.status=="string")i.then(Hn,Hn);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Eg(t),t}throw jr=i,Oa}}function Ur(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(jr=a,Oa):a}}var jr=null;function Tg(){if(jr===null)throw Error(r(459));var t=jr;return jr=null,t}function Eg(t){if(t===Oa||t===Ku)throw Error(r(483))}var Ma=null,il=0;function Xu(t){var i=il;return il+=1,Ma===null&&(Ma=[]),vg(Ma,t,i)}function sl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function $u(t,i){throw i.$$typeof===I?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function bg(t){function i(L,O){if(t){var P=L.deletions;P===null?(L.deletions=[O],L.flags|=16):P.push(O)}}function a(L,O){if(!t)return null;for(;O!==null;)i(L,O),O=O.sibling;return null}function o(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function h(L,O){return L=zi(L,O),L.index=0,L.sibling=null,L}function d(L,O,P){return L.index=P,t?(P=L.alternate,P!==null?(P=P.index,P<O?(L.flags|=67108866,O):P):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function _(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function T(L,O,P,Y){return O===null||O.tag!==6?(O=cf(P,L.mode,Y),O.return=L,O):(O=h(O,P),O.return=L,O)}function C(L,O,P,Y){var me=P.type;return me===ee?G(L,O,P.props.children,Y,P.key):O!==null&&(O.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===w&&Ur(me)===O.type)?(O=h(O,P.props),sl(O,P),O.return=L,O):(O=qu(P.type,P.key,P.props,null,L.mode,Y),sl(O,P),O.return=L,O)}function z(L,O,P,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=hf(P,L.mode,Y),O.return=L,O):(O=h(O,P.children||[]),O.return=L,O)}function G(L,O,P,Y,me){return O===null||O.tag!==7?(O=Or(P,L.mode,Y,me),O.return=L,O):(O=h(O,P),O.return=L,O)}function X(L,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=cf(""+O,L.mode,P),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case F:return P=qu(O.type,O.key,O.props,null,L.mode,P),sl(P,O),P.return=L,P;case J:return O=hf(O,L.mode,P),O.return=L,O;case w:return O=Ur(O),X(L,O,P)}if(de(O)||k(O))return O=Or(O,L.mode,P,null),O.return=L,O;if(typeof O.then=="function")return X(L,Xu(O),P);if(O.$$typeof===ye)return X(L,Gu(L,O),P);$u(L,O)}return null}function B(L,O,P,Y){var me=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return me!==null?null:T(L,O,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case F:return P.key===me?C(L,O,P,Y):null;case J:return P.key===me?z(L,O,P,Y):null;case w:return P=Ur(P),B(L,O,P,Y)}if(de(P)||k(P))return me!==null?null:G(L,O,P,Y,null);if(typeof P.then=="function")return B(L,O,Xu(P),Y);if(P.$$typeof===ye)return B(L,O,Gu(L,P),Y);$u(L,P)}return null}function H(L,O,P,Y,me){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return L=L.get(P)||null,T(O,L,""+Y,me);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case F:return L=L.get(Y.key===null?P:Y.key)||null,C(O,L,Y,me);case J:return L=L.get(Y.key===null?P:Y.key)||null,z(O,L,Y,me);case w:return Y=Ur(Y),H(L,O,P,Y,me)}if(de(Y)||k(Y))return L=L.get(P)||null,G(O,L,Y,me,null);if(typeof Y.then=="function")return H(L,O,P,Xu(Y),me);if(Y.$$typeof===ye)return H(L,O,P,Gu(O,Y),me);$u(O,Y)}return null}function ue(L,O,P,Y){for(var me=null,qe=null,he=O,Ce=O=0,ke=null;he!==null&&Ce<P.length;Ce++){he.index>Ce?(ke=he,he=null):ke=he.sibling;var He=B(L,he,P[Ce],Y);if(He===null){he===null&&(he=ke);break}t&&he&&He.alternate===null&&i(L,he),O=d(He,O,Ce),qe===null?me=He:qe.sibling=He,qe=He,he=ke}if(Ce===P.length)return a(L,he),Pe&&Bi(L,Ce),me;if(he===null){for(;Ce<P.length;Ce++)he=X(L,P[Ce],Y),he!==null&&(O=d(he,O,Ce),qe===null?me=he:qe.sibling=he,qe=he);return Pe&&Bi(L,Ce),me}for(he=o(he);Ce<P.length;Ce++)ke=H(he,L,Ce,P[Ce],Y),ke!==null&&(t&&ke.alternate!==null&&he.delete(ke.key===null?Ce:ke.key),O=d(ke,O,Ce),qe===null?me=ke:qe.sibling=ke,qe=ke);return t&&he.forEach(function(Fs){return i(L,Fs)}),Pe&&Bi(L,Ce),me}function _e(L,O,P,Y){if(P==null)throw Error(r(151));for(var me=null,qe=null,he=O,Ce=O=0,ke=null,He=P.next();he!==null&&!He.done;Ce++,He=P.next()){he.index>Ce?(ke=he,he=null):ke=he.sibling;var Fs=B(L,he,He.value,Y);if(Fs===null){he===null&&(he=ke);break}t&&he&&Fs.alternate===null&&i(L,he),O=d(Fs,O,Ce),qe===null?me=Fs:qe.sibling=Fs,qe=Fs,he=ke}if(He.done)return a(L,he),Pe&&Bi(L,Ce),me;if(he===null){for(;!He.done;Ce++,He=P.next())He=X(L,He.value,Y),He!==null&&(O=d(He,O,Ce),qe===null?me=He:qe.sibling=He,qe=He);return Pe&&Bi(L,Ce),me}for(he=o(he);!He.done;Ce++,He=P.next())He=H(he,L,Ce,He.value,Y),He!==null&&(t&&He.alternate!==null&&he.delete(He.key===null?Ce:He.key),O=d(He,O,Ce),qe===null?me=He:qe.sibling=He,qe=He);return t&&he.forEach(function(BA){return i(L,BA)}),Pe&&Bi(L,Ce),me}function et(L,O,P,Y){if(typeof P=="object"&&P!==null&&P.type===ee&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case F:e:{for(var me=P.key;O!==null;){if(O.key===me){if(me=P.type,me===ee){if(O.tag===7){a(L,O.sibling),Y=h(O,P.props.children),Y.return=L,L=Y;break e}}else if(O.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===w&&Ur(me)===O.type){a(L,O.sibling),Y=h(O,P.props),sl(Y,P),Y.return=L,L=Y;break e}a(L,O);break}else i(L,O);O=O.sibling}P.type===ee?(Y=Or(P.props.children,L.mode,Y,P.key),Y.return=L,L=Y):(Y=qu(P.type,P.key,P.props,null,L.mode,Y),sl(Y,P),Y.return=L,L=Y)}return _(L);case J:e:{for(me=P.key;O!==null;){if(O.key===me)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){a(L,O.sibling),Y=h(O,P.children||[]),Y.return=L,L=Y;break e}else{a(L,O);break}else i(L,O);O=O.sibling}Y=hf(P,L.mode,Y),Y.return=L,L=Y}return _(L);case w:return P=Ur(P),et(L,O,P,Y)}if(de(P))return ue(L,O,P,Y);if(k(P)){if(me=k(P),typeof me!="function")throw Error(r(150));return P=me.call(P),_e(L,O,P,Y)}if(typeof P.then=="function")return et(L,O,Xu(P),Y);if(P.$$typeof===ye)return et(L,O,Gu(L,P),Y);$u(L,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(a(L,O.sibling),Y=h(O,P),Y.return=L,L=Y):(a(L,O),Y=cf(P,L.mode,Y),Y.return=L,L=Y),_(L)):a(L,O)}return function(L,O,P,Y){try{il=0;var me=et(L,O,P,Y);return Ma=null,me}catch(he){if(he===Oa||he===Ku)throw he;var qe=gn(29,he,null,L.mode);return qe.lanes=Y,qe.return=L,qe}}}var Pr=bg(!0),Ag=bg(!1),Is=!1;function Af(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Rs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Cs(t,i,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ge&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Bu(t),ag(t,null,a),i}return zu(t,o,i,a),Bu(t)}function rl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Oo(t,a)}}function wf(t,i){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var xf=!1;function al(){if(xf){var t=Da;if(t!==null)throw t}}function ol(t,i,a,o){xf=!1;var h=t.updateQueue;Is=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,z=C.next;C.next=null,_===null?d=z:_.next=z,_=C;var G=t.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==_&&(T===null?G.firstBaseUpdate=z:T.next=z,G.lastBaseUpdate=C))}if(d!==null){var X=h.baseState;_=0,G=z=C=null,T=d;do{var B=T.lane&-536870913,H=B!==T.lane;if(H?(Ve&B)===B:(o&B)===B){B!==0&&B===Na&&(xf=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ue=t,_e=T;B=i;var et=a;switch(_e.tag){case 1:if(ue=_e.payload,typeof ue=="function"){X=ue.call(et,X,B);break e}X=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=_e.payload,B=typeof ue=="function"?ue.call(et,X,B):ue,B==null)break e;X=S({},X,B);break e;case 2:Is=!0}}B=T.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(z=G=H,C=X):G=G.next=H,_|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(C=X),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=G,d===null&&(h.shared.lanes=0),Vs|=_,t.lanes=_,t.memoizedState=X}}function Sg(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function wg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Sg(a[t],i)}var Va=M(null),Ju=M(0);function xg(t,i){t=Zi,ie(Ju,t),ie(Va,i),Zi=t|i.baseLanes}function If(){ie(Ju,Zi),ie(Va,Va.current)}function Rf(){Zi=Ju.current,K(Va),K(Ju)}var yn=M(null),Vn=null;function Ns(t){var i=t.alternate;ie(mt,mt.current&1),ie(yn,t),Vn===null&&(i===null||Va.current!==null||i.memoizedState!==null)&&(Vn=t)}function Cf(t){ie(mt,mt.current),ie(yn,t),Vn===null&&(Vn=t)}function Ig(t){t.tag===22?(ie(mt,mt.current),ie(yn,t),Vn===null&&(Vn=t)):Ds()}function Ds(){ie(mt,mt.current),ie(yn,yn.current)}function _n(t){K(yn),Vn===t&&(Vn=null),K(mt)}var mt=M(0);function Zu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||kd(a)||Ld(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Fi=0,Ie=null,Ze=null,St=null,Wu=!1,ka=!1,zr=!1,ec=0,ll=0,La=null,D1=0;function ct(){throw Error(r(321))}function Nf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!pn(t[a],i[a]))return!1;return!0}function Df(t,i,a,o,h,d){return Fi=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,U.H=t===null||t.memoizedState===null?cy:Yf,zr=!1,d=a(o,h),zr=!1,ka&&(d=Cg(i,a,o,h)),Rg(t),d}function Rg(t){U.H=hl;var i=Ze!==null&&Ze.next!==null;if(Fi=0,St=Ze=Ie=null,Wu=!1,ll=0,La=null,i)throw Error(r(300));t===null||wt||(t=t.dependencies,t!==null&&Fu(t)&&(wt=!0))}function Cg(t,i,a,o){Ie=t;var h=0;do{if(ka&&(La=null),ll=0,ka=!1,25<=h)throw Error(r(301));if(h+=1,St=Ze=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}U.H=hy,d=i(a,o)}while(ka);return d}function O1(){var t=U.H,i=t.useState()[0];return i=typeof i.then=="function"?ul(i):i,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Ie.flags|=1024),i}function Of(){var t=ec!==0;return ec=0,t}function Mf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Vf(t){if(Wu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Wu=!1}Fi=0,St=Ze=Ie=null,ka=!1,ll=ec=0,La=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Ie.memoizedState=St=t:St=St.next=t,St}function pt(){if(Ze===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var i=St===null?Ie.memoizedState:St.next;if(i!==null)St=i,Ze=t;else{if(t===null)throw Ie.alternate===null?Error(r(467)):Error(r(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},St===null?Ie.memoizedState=St=t:St=St.next=t}return St}function tc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ul(t){var i=ll;return ll+=1,La===null&&(La=[]),t=vg(La,t,i),i=Ie,(St===null?i.memoizedState:St.next)===null&&(i=i.alternate,U.H=i===null||i.memoizedState===null?cy:Yf),t}function nc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ul(t);if(t.$$typeof===ye)return qt(t)}throw Error(r(438,String(t)))}function kf(t){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Ie.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=tc(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),o=0;o<t;o++)a[o]=V;return i.index++,a}function Gi(t,i){return typeof i=="function"?i(t):i}function ic(t){var i=pt();return Lf(i,Ze,t)}function Lf(t,i,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,d=o.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,o.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=_=null,C=null,z=i,G=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(Ve&X)===X:(Fi&X)===X){var B=z.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===Na&&(G=!0);else if((Fi&B)===B){z=z.next,B===Na&&(G=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(T=C=X,_=d):C=C.next=X,Ie.lanes|=B,Vs|=B;X=z.action,zr&&a(d,X),d=z.hasEagerState?z.eagerState:a(d,X)}else B={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(T=C=B,_=d):C=C.next=B,Ie.lanes|=X,Vs|=X;z=z.next}while(z!==null&&z!==i);if(C===null?_=d:C.next=T,!pn(d,t.memoizedState)&&(wt=!0,G&&(a=Da,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=C,o.lastRenderedState=d}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Uf(t){var i=pt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);pn(d,i.memoizedState)||(wt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,o]}function Ng(t,i,a){var o=Ie,h=pt(),d=Pe;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!pn((Ze||h).memoizedState,a);if(_&&(h.memoizedState=a,wt=!0),h=h.queue,zf(Mg.bind(null,o,h,t),[t]),h.getSnapshot!==i||_||St!==null&&St.memoizedState.tag&1){if(o.flags|=2048,Ua(9,{destroy:void 0},Og.bind(null,o,h,a,i),null),tt===null)throw Error(r(349));d||(Fi&127)!==0||Dg(o,i,a)}return a}function Dg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=tc(),Ie.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Og(t,i,a,o){i.value=a,i.getSnapshot=o,Vg(i)&&kg(t)}function Mg(t,i,a){return a(function(){Vg(i)&&kg(t)})}function Vg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!pn(t,a)}catch{return!0}}function kg(t){var i=Dr(t,2);i!==null&&cn(i,t,2)}function jf(t){var i=tn();if(typeof t=="function"){var a=t;if(t=a(),zr){Sn(!0);try{a()}finally{Sn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:t},i}function Lg(t,i,a,o){return t.baseState=a,Lf(t,Ze,typeof o=="function"?o:Gi)}function M1(t,i,a,o,h){if(ac(t))throw Error(r(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};U.T!==null?a(!0):d.isTransition=!1,o(d),a=i.pending,a===null?(d.next=i.pending=d,Ug(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Ug(t,i){var a=i.action,o=i.payload,h=t.state;if(i.isTransition){var d=U.T,_={};U.T=_;try{var T=a(h,o),C=U.S;C!==null&&C(_,T),jg(t,i,T)}catch(z){Pf(t,i,z)}finally{d!==null&&_.types!==null&&(d.types=_.types),U.T=d}}else try{d=a(h,o),jg(t,i,d)}catch(z){Pf(t,i,z)}}function jg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Pg(t,i,o)},function(o){return Pf(t,i,o)}):Pg(t,i,a)}function Pg(t,i,a){i.status="fulfilled",i.value=a,zg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Ug(t,a)))}function Pf(t,i,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,zg(i),i=i.next;while(i!==o)}t.action=null}function zg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Bg(t,i){return i}function qg(t,i){if(Pe){var a=tt.formState;if(a!==null){e:{var o=Ie;if(Pe){if(it){t:{for(var h=it,d=Mn;h.nodeType!==8;){if(!d){h=null;break t}if(h=kn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){it=kn(h.nextSibling),o=h.data==="F!";break e}}ws(o)}o=!1}o&&(i=a[0])}}return a=tn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bg,lastRenderedState:i},a.queue=o,a=oy.bind(null,Ie,o),o.dispatch=a,o=jf(!1),d=Gf.bind(null,Ie,!1,o.queue),o=tn(),h={state:i,dispatch:null,action:t,pending:null},o.queue=h,a=M1.bind(null,Ie,h,d,a),h.dispatch=a,o.memoizedState=t,[i,a,!1]}function Hg(t){var i=pt();return Fg(i,Ze,t)}function Fg(t,i,a){if(i=Lf(t,i,Bg)[0],t=ic(Gi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=ul(i)}catch(_){throw _===Oa?Ku:_}else o=i;i=pt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,Ua(9,{destroy:void 0},V1.bind(null,h,a),null)),[o,d,t]}function V1(t,i){t.action=i}function Gg(t){var i=pt(),a=Ze;if(a!==null)return Fg(i,a,t);pt(),i=i.memoizedState,a=pt();var o=a.queue.dispatch;return a.memoizedState=t,[i,o,!1]}function Ua(t,i,a,o){return t={tag:t,create:a,deps:o,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=tc(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,i.lastEffect=t),t}function Yg(){return pt().memoizedState}function sc(t,i,a,o){var h=tn();Ie.flags|=t,h.memoizedState=Ua(1|i,{destroy:void 0},a,o===void 0?null:o)}function rc(t,i,a,o){var h=pt();o=o===void 0?null:o;var d=h.memoizedState.inst;Ze!==null&&o!==null&&Nf(o,Ze.memoizedState.deps)?h.memoizedState=Ua(i,d,a,o):(Ie.flags|=t,h.memoizedState=Ua(1|i,d,a,o))}function Kg(t,i){sc(8390656,8,t,i)}function zf(t,i){rc(2048,8,t,i)}function k1(t){Ie.flags|=4;var i=Ie.updateQueue;if(i===null)i=tc(),Ie.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Qg(t){var i=pt().memoizedState;return k1({ref:i,nextImpl:t}),function(){if((Ge&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Xg(t,i){return rc(4,2,t,i)}function $g(t,i){return rc(4,4,t,i)}function Jg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Zg(t,i,a){a=a!=null?a.concat([t]):null,rc(4,4,Jg.bind(null,i,t),a)}function Bf(){}function Wg(t,i){var a=pt();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Nf(i,o[1])?o[0]:(a.memoizedState=[t,i],t)}function ey(t,i){var a=pt();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Nf(i,o[1]))return o[0];if(o=t(),zr){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[o,i],o}function qf(t,i,a){return a===void 0||(Fi&1073741824)!==0&&(Ve&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=t_(),Ie.lanes|=t,Vs|=t,a)}function ty(t,i,a,o){return pn(a,i)?a:Va.current!==null?(t=qf(t,a,o),pn(t,i)||(wt=!0),t):(Fi&42)===0||(Fi&1073741824)!==0&&(Ve&261930)===0?(wt=!0,t.memoizedState=a):(t=t_(),Ie.lanes|=t,Vs|=t,i)}function ny(t,i,a,o,h){var d=W.p;W.p=d!==0&&8>d?d:8;var _=U.T,T={};U.T=T,Gf(t,!1,i,a);try{var C=h(),z=U.S;if(z!==null&&z(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=N1(C,o);cl(t,i,G,En(t))}else cl(t,i,o,En(t))}catch(X){cl(t,i,{then:function(){},status:"rejected",reason:X},En())}finally{W.p=d,_!==null&&T.types!==null&&(_.types=T.types),U.T=_}}function L1(){}function Hf(t,i,a,o){if(t.tag!==5)throw Error(r(476));var h=iy(t).queue;ny(t,h,i,ce,a===null?L1:function(){return sy(t),a(o)})}function iy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:ce},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function sy(t){var i=iy(t);i.next===null&&(i=t.alternate.memoizedState),cl(t,i.next.queue,{},En())}function Ff(){return qt(Il)}function ry(){return pt().memoizedState}function ay(){return pt().memoizedState}function U1(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=En();t=Rs(a);var o=Cs(i,t,a);o!==null&&(cn(o,i,a),rl(o,i,a)),i={cache:vf()},t.payload=i;return}i=i.return}}function j1(t,i,a){var o=En();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ac(t)?ly(i,a):(a=lf(t,i,a,o),a!==null&&(cn(a,t,o),uy(a,i,o)))}function oy(t,i,a){var o=En();cl(t,i,a,o)}function cl(t,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ac(t))ly(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,pn(T,_))return zu(t,i,h,0),tt===null&&Pu(),!1}catch{}if(a=lf(t,i,h,o),a!==null)return cn(a,t,o),uy(a,i,o),!0}return!1}function Gf(t,i,a,o){if(o={lane:2,revertLane:Ad(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ac(t)){if(i)throw Error(r(479))}else i=lf(t,a,o,2),i!==null&&cn(i,t,2)}function ac(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function ly(t,i){ka=Wu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function uy(t,i,a){if((a&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Oo(t,a)}}var hl={readContext:qt,use:nc,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};hl.useEffectEvent=ct;var cy={readContext:qt,use:nc,useCallback:function(t,i){return tn().memoizedState=[t,i===void 0?null:i],t},useContext:qt,useEffect:Kg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,sc(4194308,4,Jg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return sc(4194308,4,t,i)},useInsertionEffect:function(t,i){sc(4,2,t,i)},useMemo:function(t,i){var a=tn();i=i===void 0?null:i;var o=t();if(zr){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(t,i,a){var o=tn();if(a!==void 0){var h=a(i);if(zr){Sn(!0);try{a(i)}finally{Sn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=j1.bind(null,Ie,t),[o.memoizedState,t]},useRef:function(t){var i=tn();return t={current:t},i.memoizedState=t},useState:function(t){t=jf(t);var i=t.queue,a=oy.bind(null,Ie,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Bf,useDeferredValue:function(t,i){var a=tn();return qf(a,t,i)},useTransition:function(){var t=jf(!1);return t=ny.bind(null,Ie,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var o=Ie,h=tn();if(Pe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),tt===null)throw Error(r(349));(Ve&127)!==0||Dg(o,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Kg(Mg.bind(null,o,d,t),[t]),o.flags|=2048,Ua(9,{destroy:void 0},Og.bind(null,o,d,a,i),null),a},useId:function(){var t=tn(),i=tt.identifierPrefix;if(Pe){var a=Ai,o=bi;a=(o&~(1<<32-ft(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=ec++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=D1++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Ff,useFormState:qg,useActionState:qg,useOptimistic:function(t){var i=tn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Gf.bind(null,Ie,!0,a),a.dispatch=i,[t,i]},useMemoCache:kf,useCacheRefresh:function(){return tn().memoizedState=U1.bind(null,Ie)},useEffectEvent:function(t){var i=tn(),a={impl:t};return i.memoizedState=a,function(){if((Ge&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Yf={readContext:qt,use:nc,useCallback:Wg,useContext:qt,useEffect:zf,useImperativeHandle:Zg,useInsertionEffect:Xg,useLayoutEffect:$g,useMemo:ey,useReducer:ic,useRef:Yg,useState:function(){return ic(Gi)},useDebugValue:Bf,useDeferredValue:function(t,i){var a=pt();return ty(a,Ze.memoizedState,t,i)},useTransition:function(){var t=ic(Gi)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:ul(t),i]},useSyncExternalStore:Ng,useId:ry,useHostTransitionStatus:Ff,useFormState:Hg,useActionState:Hg,useOptimistic:function(t,i){var a=pt();return Lg(a,Ze,t,i)},useMemoCache:kf,useCacheRefresh:ay};Yf.useEffectEvent=Qg;var hy={readContext:qt,use:nc,useCallback:Wg,useContext:qt,useEffect:zf,useImperativeHandle:Zg,useInsertionEffect:Xg,useLayoutEffect:$g,useMemo:ey,useReducer:Uf,useRef:Yg,useState:function(){return Uf(Gi)},useDebugValue:Bf,useDeferredValue:function(t,i){var a=pt();return Ze===null?qf(a,t,i):ty(a,Ze.memoizedState,t,i)},useTransition:function(){var t=Uf(Gi)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:ul(t),i]},useSyncExternalStore:Ng,useId:ry,useHostTransitionStatus:Ff,useFormState:Gg,useActionState:Gg,useOptimistic:function(t,i){var a=pt();return Ze!==null?Lg(a,Ze,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:kf,useCacheRefresh:ay};hy.useEffectEvent=Qg;function Kf(t,i,a,o){i=t.memoizedState,a=a(o,i),a=a==null?i:S({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Qf={enqueueSetState:function(t,i,a){t=t._reactInternals;var o=En(),h=Rs(o);h.payload=i,a!=null&&(h.callback=a),i=Cs(t,h,o),i!==null&&(cn(i,t,o),rl(i,t,o))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var o=En(),h=Rs(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Cs(t,h,o),i!==null&&(cn(i,t,o),rl(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=En(),o=Rs(a);o.tag=2,i!=null&&(o.callback=i),i=Cs(t,o,a),i!==null&&(cn(i,t,a),rl(i,t,a))}};function fy(t,i,a,o,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,_):i.prototype&&i.prototype.isPureReactComponent?!Jo(a,o)||!Jo(h,d):!0}function dy(t,i,a,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==t&&Qf.enqueueReplaceState(i,i.state,null)}function Br(t,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(t=t.defaultProps){a===i&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function my(t){ju(t)}function py(t){console.error(t)}function gy(t){ju(t)}function oc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function yy(t,i,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Xf(t,i,a){return a=Rs(a),a.tag=3,a.payload={element:null},a.callback=function(){oc(t,i)},a}function _y(t){return t=Rs(t),t.tag=3,t}function vy(t,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;t.payload=function(){return h(d)},t.callback=function(){yy(i,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){yy(i,a,o),typeof h!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function P1(t,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Ca(i,a,h,!0),a=yn.current,a!==null){switch(a.tag){case 31:case 13:return Vn===null?vc():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Qu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Td(t,o,h)),!1;case 22:return a.flags|=65536,o===Qu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Td(t,o,h)),!1}throw Error(r(435,a.tag))}return Td(t,o,h),vc(),!1}if(Pe)return i=yn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==mf&&(t=Error(r(422),{cause:o}),el(Nn(t,a)))):(o!==mf&&(i=Error(r(423),{cause:o}),el(Nn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Nn(o,a),h=Xf(t.stateNode,o,h),wf(t,h),ht!==4&&(ht=2)),!1;var d=Error(r(520),{cause:o});if(d=Nn(d,a),vl===null?vl=[d]:vl.push(d),ht!==4&&(ht=2),i===null)return!0;o=Nn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Xf(a.stateNode,o,t),wf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ks===null||!ks.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=_y(h),vy(h,t,a,o),wf(a,h),!1}a=a.return}while(a!==null);return!1}var $f=Error(r(461)),wt=!1;function Ht(t,i,a,o){i.child=t===null?Ag(i,null,a,o):Pr(i,t.child,a,o)}function Ty(t,i,a,o,h){a=a.render;var d=i.ref;if("ref"in o){var _={};for(var T in o)T!=="ref"&&(_[T]=o[T])}else _=o;return kr(i),o=Df(t,i,a,_,d,h),T=Of(),t!==null&&!wt?(Mf(t,i,h),Yi(t,i,h)):(Pe&&T&&ff(i),i.flags|=1,Ht(t,i,o,h),i.child)}function Ey(t,i,a,o,h){if(t===null){var d=a.type;return typeof d=="function"&&!uf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,by(t,i,d,o,h)):(t=qu(a.type,null,o,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!sd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Jo,a(_,o)&&t.ref===i.ref)return Yi(t,i,h)}return i.flags|=1,t=zi(d,o),t.ref=i.ref,t.return=i,i.child=t}function by(t,i,a,o,h){if(t!==null){var d=t.memoizedProps;if(Jo(d,o)&&t.ref===i.ref)if(wt=!1,i.pendingProps=o=d,sd(t,h))(t.flags&131072)!==0&&(wt=!0);else return i.lanes=t.lanes,Yi(t,i,h)}return Jf(t,i,a,o,h)}function Ay(t,i,a,o){var h=o.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(o=i.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~d}else o=0,i.child=null;return Sy(t,i,d,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Yu(i,d!==null?d.cachePool:null),d!==null?xg(i,d):If(),Ig(i);else return o=i.lanes=536870912,Sy(t,i,d!==null?d.baseLanes|a:a,a,o)}else d!==null?(Yu(i,d.cachePool),xg(i,d),Ds(),i.memoizedState=null):(t!==null&&Yu(i,null),If(),Ds());return Ht(t,i,h,a),i.child}function fl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Sy(t,i,a,o,h){var d=Ef();return d=d===null?null:{parent:At._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Yu(i,null),If(),Ig(i),t!==null&&Ca(t,i,o,!0),i.childLanes=h,null}function lc(t,i){return i=cc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function wy(t,i,a){return Pr(i,t.child,null,a),t=lc(i,i.pendingProps),t.flags|=2,_n(i),i.memoizedState=null,t}function z1(t,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Pe){if(o.mode==="hidden")return t=lc(i,o),i.lanes=536870912,fl(null,t);if(Cf(i),(t=it)?(t=U_(t,Mn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:As!==null?{id:bi,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=lg(t),a.return=i,i.child=a,Bt=i,it=null)):t=null,t===null)throw ws(i);return i.lanes=536870912,null}return lc(i,o)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Cf(i),h)if(i.flags&256)i.flags&=-257,i=wy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(wt||Ca(t,i,a,!1),h=(a&t.childLanes)!==0,wt||h){if(o=tt,o!==null&&(_=Mo(o,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Dr(t,_),cn(o,t,_),$f;vc(),i=wy(t,i,a)}else t=d.treeContext,it=kn(_.nextSibling),Bt=i,Pe=!0,Ss=null,Mn=!1,t!==null&&hg(i,t),i=lc(i,o),i.flags|=4096;return i}return t=zi(t.child,{mode:o.mode,children:o.children}),t.ref=i.ref,i.child=t,t.return=i,t}function uc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Jf(t,i,a,o,h){return kr(i),a=Df(t,i,a,o,void 0,h),o=Of(),t!==null&&!wt?(Mf(t,i,h),Yi(t,i,h)):(Pe&&o&&ff(i),i.flags|=1,Ht(t,i,a,h),i.child)}function xy(t,i,a,o,h,d){return kr(i),i.updateQueue=null,a=Cg(i,o,a,h),Rg(t),o=Of(),t!==null&&!wt?(Mf(t,i,d),Yi(t,i,d)):(Pe&&o&&ff(i),i.flags|=1,Ht(t,i,a,d),i.child)}function Iy(t,i,a,o,h){if(kr(i),i.stateNode===null){var d=wa,_=a.contextType;typeof _=="object"&&_!==null&&(d=qt(_)),d=new a(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Qf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},Af(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?qt(_):wa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Kf(i,a,_,o),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Qf.enqueueReplaceState(d,d.state,null),ol(i,o,d,h),al(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,C=Br(a,T);d.props=C;var z=d.context,G=a.contextType;_=wa,typeof G=="object"&&G!==null&&(_=qt(G));var X=a.getDerivedStateFromProps;G=typeof X=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||z!==_)&&dy(i,d,o,_),Is=!1;var B=i.memoizedState;d.state=B,ol(i,o,d,h),al(),z=i.memoizedState,T||B!==z||Is?(typeof X=="function"&&(Kf(i,a,X,o),z=i.memoizedState),(C=Is||fy(i,a,C,o,B,z,_))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=z),d.props=o,d.state=z,d.context=_,o=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,Sf(t,i),_=i.memoizedProps,G=Br(a,_),d.props=G,X=i.pendingProps,B=d.context,z=a.contextType,C=wa,typeof z=="object"&&z!==null&&(C=qt(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==X||B!==C)&&dy(i,d,o,C),Is=!1,B=i.memoizedState,d.state=B,ol(i,o,d,h),al();var H=i.memoizedState;_!==X||B!==H||Is||t!==null&&t.dependencies!==null&&Fu(t.dependencies)?(typeof T=="function"&&(Kf(i,a,T,o),H=i.memoizedState),(G=Is||fy(i,a,G,o,B,H,C)||t!==null&&t.dependencies!==null&&Fu(t.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,H,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,H,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=H),d.props=o,d.state=H,d.context=C,o=G):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),o=!1)}return d=o,uc(t,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&o?(i.child=Pr(i,t.child,null,h),i.child=Pr(i,null,a,h)):Ht(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Yi(t,i,h),t}function Ry(t,i,a,o){return Mr(),i.flags|=256,Ht(t,i,a,o),i.child}var Zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wf(t){return{baseLanes:t,cachePool:yg()}}function ed(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Tn),t}function Cy(t,i,a){var o=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(mt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Pe){if(h?Ns(i):Ds(),(t=it)?(t=U_(t,Mn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:As!==null?{id:bi,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=lg(t),a.return=i,i.child=a,Bt=i,it=null)):t=null,t===null)throw ws(i);return Ld(t)?i.lanes=32:i.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(Ds(),h=i.mode,T=cc({mode:"hidden",children:T},h),o=Or(o,h,a,null),T.return=i,o.return=i,T.sibling=o,i.child=T,o=i.child,o.memoizedState=Wf(a),o.childLanes=ed(t,_,a),i.memoizedState=Zf,fl(null,o)):(Ns(i),td(i,T))}var C=t.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(d)i.flags&256?(Ns(i),i.flags&=-257,i=nd(t,i,a)):i.memoizedState!==null?(Ds(),i.child=t.child,i.flags|=128,i=null):(Ds(),T=o.fallback,h=i.mode,o=cc({mode:"visible",children:o.children},h),T=Or(T,h,a,null),T.flags|=2,o.return=i,T.return=i,o.sibling=T,i.child=o,Pr(i,t.child,null,a),o=i.child,o.memoizedState=Wf(a),o.childLanes=ed(t,_,a),i.memoizedState=Zf,i=fl(null,o));else if(Ns(i),Ld(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var z=_.dgst;_=z,o=Error(r(419)),o.stack="",o.digest=_,el({value:o,source:null,stack:null}),i=nd(t,i,a)}else if(wt||Ca(t,i,a,!1),_=(a&t.childLanes)!==0,wt||_){if(_=tt,_!==null&&(o=Mo(_,a),o!==0&&o!==C.retryLane))throw C.retryLane=o,Dr(t,o),cn(_,t,o),$f;kd(T)||vc(),i=nd(t,i,a)}else kd(T)?(i.flags|=192,i.child=t.child,i=null):(t=C.treeContext,it=kn(T.nextSibling),Bt=i,Pe=!0,Ss=null,Mn=!1,t!==null&&hg(i,t),i=td(i,o.children),i.flags|=4096);return i}return h?(Ds(),T=o.fallback,h=i.mode,C=t.child,z=C.sibling,o=zi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,z!==null?T=zi(z,T):(T=Or(T,h,a,null),T.flags|=2),T.return=i,o.return=i,o.sibling=T,i.child=o,fl(null,o),o=i.child,T=t.child.memoizedState,T===null?T=Wf(a):(h=T.cachePool,h!==null?(C=At._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=yg(),T={baseLanes:T.baseLanes|a,cachePool:h}),o.memoizedState=T,o.childLanes=ed(t,_,a),i.memoizedState=Zf,fl(t.child,o)):(Ns(i),a=t.child,t=a.sibling,a=zi(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function td(t,i){return i=cc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function cc(t,i){return t=gn(22,t,null,i),t.lanes=0,t}function nd(t,i,a){return Pr(i,t.child,null,a),t=td(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Ny(t,i,a){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),yf(t.return,i,a)}function id(t,i,a,o,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Dy(t,i,a){var o=i.pendingProps,h=o.revealOrder,d=o.tail;o=o.children;var _=mt.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,ie(mt,_),Ht(t,i,o,a),o=Pe?Wo:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ny(t,a,i);else if(t.tag===19)Ny(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Zu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),id(i,!1,h,a,d,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Zu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}id(i,!0,a,null,d,o);break;case"together":id(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function Yi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Vs|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ca(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=zi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=zi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function sd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Fu(t)))}function B1(t,i,a){switch(i.tag){case 3:Dt(i,i.stateNode.containerInfo),xs(i,At,t.memoizedState.cache),Mr();break;case 27:case 5:dr(i);break;case 4:Dt(i,i.stateNode.containerInfo);break;case 10:xs(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Cf(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Ns(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Cy(t,i,a):(Ns(i),t=Yi(t,i,a),t!==null?t.sibling:null);Ns(i);break;case 19:var h=(t.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Ca(t,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Dy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(mt,mt.current),o)break;return null;case 22:return i.lanes=0,Ay(t,i,a,i.pendingProps);case 24:xs(i,At,t.memoizedState.cache)}return Yi(t,i,a)}function Oy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)wt=!0;else{if(!sd(t,a)&&(i.flags&128)===0)return wt=!1,B1(t,i,a);wt=(t.flags&131072)!==0}else wt=!1,Pe&&(i.flags&1048576)!==0&&cg(i,Wo,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(t=Ur(i.elementType),i.type=t,typeof t=="function")uf(t)?(o=Br(t,o),i.tag=1,i=Iy(null,i,t,o,a)):(i.tag=0,i=Jf(null,i,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===ve){i.tag=11,i=Ty(null,i,t,o,a);break e}else if(h===N){i.tag=14,i=Ey(null,i,t,o,a);break e}}throw i=ae(t)||t,Error(r(306,i,""))}}return i;case 0:return Jf(t,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=Br(o,i.pendingProps),Iy(t,i,o,h,a);case 3:e:{if(Dt(i,i.stateNode.containerInfo),t===null)throw Error(r(387));o=i.pendingProps;var d=i.memoizedState;h=d.element,Sf(t,i),ol(i,o,null,a);var _=i.memoizedState;if(o=_.cache,xs(i,At,o),o!==d.cache&&_f(i,[At],a,!0),al(),o=_.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Ry(t,i,o,a);break e}else if(o!==h){h=Nn(Error(r(424)),i),el(h),i=Ry(t,i,o,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,it=kn(t.firstChild),Bt=i,Pe=!0,Ss=null,Mn=!0,a=Ag(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Mr(),o===h){i=Yi(t,i,a);break e}Ht(t,i,o,a)}i=i.child}return i;case 26:return uc(t,i),t===null?(a=H_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Pe||(a=i.type,t=i.pendingProps,o=xc(Re.current).createElement(a),o[Tt]=i,o[kt]=t,Ft(o,a,t),Et(o),i.stateNode=o):i.memoizedState=H_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return dr(i),t===null&&Pe&&(o=i.stateNode=z_(i.type,i.pendingProps,Re.current),Bt=i,Mn=!0,h=it,Ps(i.type)?(Ud=h,it=kn(o.firstChild)):it=h),Ht(t,i,i.pendingProps.children,a),uc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Pe&&((h=o=it)&&(o=yA(o,i.type,i.pendingProps,Mn),o!==null?(i.stateNode=o,Bt=i,it=kn(o.firstChild),Mn=!1,h=!0):h=!1),h||ws(i)),dr(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,o=d.children,Od(h,d)?o=null:_!==null&&Od(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Df(t,i,O1,null,null,a),Il._currentValue=h),uc(t,i),Ht(t,i,o,a),i.child;case 6:return t===null&&Pe&&((t=a=it)&&(a=_A(a,i.pendingProps,Mn),a!==null?(i.stateNode=a,Bt=i,it=null,t=!0):t=!1),t||ws(i)),null;case 13:return Cy(t,i,a);case 4:return Dt(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=Pr(i,null,o,a):Ht(t,i,o,a),i.child;case 11:return Ty(t,i,i.type,i.pendingProps,a);case 7:return Ht(t,i,i.pendingProps,a),i.child;case 8:return Ht(t,i,i.pendingProps.children,a),i.child;case 12:return Ht(t,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,xs(i,i.type,o.value),Ht(t,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,kr(i),h=qt(h),o=o(h),i.flags|=1,Ht(t,i,o,a),i.child;case 14:return Ey(t,i,i.type,i.pendingProps,a);case 15:return by(t,i,i.type,i.pendingProps,a);case 19:return Dy(t,i,a);case 31:return z1(t,i,a);case 22:return Ay(t,i,a,i.pendingProps);case 24:return kr(i),o=qt(At),t===null?(h=Ef(),h===null&&(h=tt,d=vf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:o,cache:h},Af(i),xs(i,At,h)):((t.lanes&a)!==0&&(Sf(t,i),ol(i,null,null,a),al()),h=t.memoizedState,d=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),xs(i,At,o)):(o=d.cache,xs(i,At,o),o!==h.cache&&_f(i,[At],a,!0))),Ht(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Ki(t){t.flags|=4}function rd(t,i,a,o,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(r_())t.flags|=8192;else throw jr=Qu,bf}else t.flags&=-16777217}function My(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Q_(i))if(r_())t.flags|=8192;else throw jr=Qu,bf}function hc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?yu():536870912,t.lanes|=i,Ba|=i)}function dl(t,i){if(!Pe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function st(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,i}function q1(t,i,a){var o=i.pendingProps;switch(df(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(i),null;case 1:return st(i),null;case 3:return a=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Hi(At),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ra(i)?Ki(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,pf())),st(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Ki(i),d!==null?(st(i),My(i,d)):(st(i),rd(i,h,null,o,a))):d?d!==t.memoizedState?(Ki(i),st(i),My(i,d)):(st(i),i.flags&=-16777217):(t=t.memoizedProps,t!==o&&Ki(i),st(i),rd(i,h,t,o,a)),null;case 27:if(aa(i),a=Re.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Ki(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return st(i),null}t=re.current,Ra(i)?fg(i):(t=z_(h,o,a),i.stateNode=t,Ki(i))}return st(i),null;case 5:if(aa(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Ki(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return st(i),null}if(d=re.current,Ra(i))fg(i);else{var _=xc(Re.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?d.multiple=!0:o.size&&(d.size=o.size);break;default:d=typeof o.is=="string"?_.createElement(h,{is:o.is}):_.createElement(h)}}d[Tt]=i,d[kt]=o;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Ft(d,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Ki(i)}}return st(i),rd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&Ki(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(r(166));if(t=Re.current,Ra(i)){if(t=i.stateNode,a=i.memoizedProps,o=null,h=Bt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Tt]=i,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||C_(t.nodeValue,a)),t||ws(i,!0)}else t=xc(t).createTextNode(o),t[Tt]=i,i.stateNode=t}return st(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(o=Ra(i),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Tt]=i}else Mr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),t=!1}else a=pf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(_n(i),i):(_n(i),null);if((i.flags&128)!==0)throw Error(r(558))}return st(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ra(i),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Tt]=i}else Mr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),h=!1}else h=pf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(_n(i),i):(_n(i),null)}return _n(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),hc(i,i.updateQueue),st(i),null);case 4:return at(),t===null&&Id(i.stateNode.containerInfo),st(i),null;case 10:return Hi(i.type),st(i),null;case 19:if(K(mt),o=i.memoizedState,o===null)return st(i),null;if(h=(i.flags&128)!==0,d=o.rendering,d===null)if(h)dl(o,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Zu(t),d!==null){for(i.flags|=128,dl(o,!1),t=d.updateQueue,i.updateQueue=t,hc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)og(a,t),a=a.sibling;return ie(mt,mt.current&1|2),Pe&&Bi(i,o.treeForkCount),i.child}t=t.sibling}o.tail!==null&&Wt()>gc&&(i.flags|=128,h=!0,dl(o,!1),i.lanes=4194304)}else{if(!h)if(t=Zu(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,hc(i,t),dl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!Pe)return st(i),null}else 2*Wt()-o.renderingStartTime>gc&&a!==536870912&&(i.flags|=128,h=!0,dl(o,!1),i.lanes=4194304);o.isBackwards?(d.sibling=i.child,i.child=d):(t=o.last,t!==null?t.sibling=d:i.child=d,o.last=d)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Wt(),t.sibling=null,a=mt.current,ie(mt,h?a&1|2:a&1),Pe&&Bi(i,o.treeForkCount),t):(st(i),null);case 22:case 23:return _n(i),Rf(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(st(i),i.subtreeFlags&6&&(i.flags|=8192)):st(i),a=i.updateQueue,a!==null&&hc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),t!==null&&K(Lr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Hi(At),st(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function H1(t,i){switch(df(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Hi(At),at(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return aa(i),null;case 31:if(i.memoizedState!==null){if(_n(i),i.alternate===null)throw Error(r(340));Mr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(_n(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Mr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return K(mt),null;case 4:return at(),null;case 10:return Hi(i.type),null;case 22:case 23:return _n(i),Rf(),t!==null&&K(Lr),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Hi(At),null;case 25:return null;default:return null}}function Vy(t,i){switch(df(i),i.tag){case 3:Hi(At),at();break;case 26:case 27:case 5:aa(i);break;case 4:at();break;case 31:i.memoizedState!==null&&_n(i);break;case 13:_n(i);break;case 19:K(mt);break;case 10:Hi(i.type);break;case 22:case 23:_n(i),Rf(),t!==null&&K(Lr);break;case 24:Hi(At)}}function ml(t,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var d=a.create,_=a.inst;o=d(),_.destroy=o}a=a.next}while(a!==h)}}catch(T){$e(i,i.return,T)}}function Os(t,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&t)===t){var _=o.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var C=a,z=T;try{z()}catch(G){$e(h,C,G)}}}o=o.next}while(o!==d)}}catch(G){$e(i,i.return,G)}}function ky(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{wg(i,a)}catch(o){$e(t,t.return,o)}}}function Ly(t,i,a){a.props=Br(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){$e(t,i,o)}}function pl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){$e(t,i,h)}}function Si(t,i){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){$e(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$e(t,i,h)}else a.current=null}function Uy(t){var i=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){$e(t,t.return,h)}}function ad(t,i,a){try{var o=t.stateNode;hA(o,t.type,a,i),o[kt]=i}catch(h){$e(t,t.return,h)}}function jy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ps(t.type)||t.tag===4}function od(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ps(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ld(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Hn));else if(o!==4&&(o===27&&Ps(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(ld(t,i,a),t=t.sibling;t!==null;)ld(t,i,a),t=t.sibling}function fc(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(o!==4&&(o===27&&Ps(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(fc(t,i,a),t=t.sibling;t!==null;)fc(t,i,a),t=t.sibling}function Py(t){var i=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ft(i,o,a),i[Tt]=t,i[kt]=a}catch(d){$e(t,t.return,d)}}var Qi=!1,xt=!1,ud=!1,zy=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function F1(t,i){if(t=t.containerInfo,Nd=Mc,t=Zp(t),tf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,C=-1,z=0,G=0,X=t,B=null;t:for(;;){for(var H;X!==a||h!==0&&X.nodeType!==3||(T=_+h),X!==d||o!==0&&X.nodeType!==3||(C=_+o),X.nodeType===3&&(_+=X.nodeValue.length),(H=X.firstChild)!==null;)B=X,X=H;for(;;){if(X===t)break t;if(B===a&&++z===h&&(T=_),B===d&&++G===o&&(C=_),(H=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=H}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Dd={focusedElem:t,selectionRange:a},Mc=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var ue=Br(a.type,h);t=o.getSnapshotBeforeUpdate(ue,d),o.__reactInternalSnapshotBeforeUpdate=t}catch(_e){$e(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Vd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Vd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}}function By(t,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:$i(t,a),o&4&&ml(5,a);break;case 1:if($i(t,a),o&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){$e(a,a.return,_)}else{var h=Br(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){$e(a,a.return,_)}}o&64&&ky(a),o&512&&pl(a,a.return);break;case 3:if($i(t,a),o&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{wg(t,i)}catch(_){$e(a,a.return,_)}}break;case 27:i===null&&o&4&&Py(a);case 26:case 5:$i(t,a),i===null&&o&4&&Uy(a),o&512&&pl(a,a.return);break;case 12:$i(t,a);break;case 31:$i(t,a),o&4&&Fy(t,a);break;case 13:$i(t,a),o&4&&Gy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=W1.bind(null,a),vA(t,a))));break;case 22:if(o=a.memoizedState!==null||Qi,!o){i=i!==null&&i.memoizedState!==null||xt,h=Qi;var d=xt;Qi=o,(xt=i)&&!d?Ji(t,a,(a.subtreeFlags&8772)!==0):$i(t,a),Qi=h,xt=d}break;case 30:break;default:$i(t,a)}}function qy(t){var i=t.alternate;i!==null&&(t.alternate=null,qy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ha(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,an=!1;function Xi(t,i,a){for(a=a.child;a!==null;)Hy(t,i,a),a=a.sibling}function Hy(t,i,a){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(Pn,a)}catch{}switch(a.tag){case 26:xt||Si(a,i),Xi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:xt||Si(a,i);var o=lt,h=an;Ps(a.type)&&(lt=a.stateNode,an=!1),Xi(t,i,a),Sl(a.stateNode),lt=o,an=h;break;case 5:xt||Si(a,i);case 6:if(o=lt,h=an,lt=null,Xi(t,i,a),lt=o,an=h,lt!==null)if(an)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(d){$e(a,i,d)}else try{lt.removeChild(a.stateNode)}catch(d){$e(a,i,d)}break;case 18:lt!==null&&(an?(t=lt,k_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Xa(t)):k_(lt,a.stateNode));break;case 4:o=lt,h=an,lt=a.stateNode.containerInfo,an=!0,Xi(t,i,a),lt=o,an=h;break;case 0:case 11:case 14:case 15:Os(2,a,i),xt||Os(4,a,i),Xi(t,i,a);break;case 1:xt||(Si(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Ly(a,i,o)),Xi(t,i,a);break;case 21:Xi(t,i,a);break;case 22:xt=(o=xt)||a.memoizedState!==null,Xi(t,i,a),xt=o;break;default:Xi(t,i,a)}}function Fy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Xa(t)}catch(a){$e(i,i.return,a)}}}function Gy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Xa(t)}catch(a){$e(i,i.return,a)}}function G1(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new zy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new zy),i;default:throw Error(r(435,t.tag))}}function dc(t,i){var a=G1(t);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=eA.bind(null,t,o);o.then(h,h)}})}function on(t,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Ps(T.type)){lt=T.stateNode,an=!1;break e}break;case 5:lt=T.stateNode,an=!1;break e;case 3:case 4:lt=T.stateNode.containerInfo,an=!0;break e}T=T.return}if(lt===null)throw Error(r(160));Hy(d,_,h),lt=null,an=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Yy(i,t),i=i.sibling}var Xn=null;function Yy(t,i){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(i,t),ln(t),o&4&&(Os(3,t,t.return),ml(3,t),Os(5,t,t.return));break;case 1:on(i,t),ln(t),o&512&&(xt||a===null||Si(a,a.return)),o&64&&Qi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Xn;if(on(i,t),ln(t),o&512&&(xt||a===null||Si(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ci]||d[Tt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),Ft(d,o,a),d[Tt]=t,Et(d),o=d;break e;case"link":var _=Y_("link","href",h).get(o+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(o),Ft(d,o,a),h.head.appendChild(d);break;case"meta":if(_=Y_("meta","content",h).get(o+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=h.createElement(o),Ft(d,o,a),h.head.appendChild(d);break;default:throw Error(r(468,o))}d[Tt]=t,Et(d),o=d}t.stateNode=o}else K_(h,t.type,t.stateNode);else t.stateNode=G_(h,o,t.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?K_(h,t.type,t.stateNode):G_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&ad(t,t.memoizedProps,a.memoizedProps)}break;case 27:on(i,t),ln(t),o&512&&(xt||a===null||Si(a,a.return)),a!==null&&o&4&&ad(t,t.memoizedProps,a.memoizedProps);break;case 5:if(on(i,t),ln(t),o&512&&(xt||a===null||Si(a,a.return)),t.flags&32){h=t.stateNode;try{rn(h,"")}catch(ue){$e(t,t.return,ue)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,ad(t,h,a!==null?a.memoizedProps:h)),o&1024&&(ud=!0);break;case 6:if(on(i,t),ln(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(ue){$e(t,t.return,ue)}}break;case 3:if(Cc=null,h=Xn,Xn=Ic(i.containerInfo),on(i,t),Xn=h,ln(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Xa(i.containerInfo)}catch(ue){$e(t,t.return,ue)}ud&&(ud=!1,Ky(t));break;case 4:o=Xn,Xn=Ic(t.stateNode.containerInfo),on(i,t),ln(t),Xn=o;break;case 12:on(i,t),ln(t);break;case 31:on(i,t),ln(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,dc(t,o)));break;case 13:on(i,t),ln(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(pc=Wt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,dc(t,o)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,z=Qi,G=xt;if(Qi=z||h,xt=G||C,on(i,t),xt=G,Qi=z,ln(t),o&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||Qi||xt||qr(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(d=C.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=C.stateNode;var X=C.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ue){$e(C,C.return,ue)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ue){$e(C,C.return,ue)}}}else if(i.tag===18){if(a===null){C=i;try{var H=C.stateNode;h?L_(H,!0):L_(C.stateNode,!1)}catch(ue){$e(C,C.return,ue)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,dc(t,a))));break;case 19:on(i,t),ln(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,dc(t,o)));break;case 30:break;case 21:break;default:on(i,t),ln(t)}}function ln(t){var i=t.flags;if(i&2){try{for(var a,o=t.return;o!==null;){if(jy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=od(t);fc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(rn(_,""),a.flags&=-33);var T=od(t);fc(t,T,_);break;case 3:case 4:var C=a.stateNode.containerInfo,z=od(t);ld(t,z,C);break;default:throw Error(r(161))}}catch(G){$e(t,t.return,G)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Ky(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Ky(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function $i(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)By(t,i.alternate,i),i=i.sibling}function qr(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Os(4,i,i.return),qr(i);break;case 1:Si(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Ly(i,i.return,a),qr(i);break;case 27:Sl(i.stateNode);case 26:case 5:Si(i,i.return),qr(i);break;case 22:i.memoizedState===null&&qr(i);break;case 30:qr(i);break;default:qr(i)}t=t.sibling}}function Ji(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Ji(h,d,a),ml(4,d);break;case 1:if(Ji(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){$e(o,o.return,z)}if(o=d,h=o.updateQueue,h!==null){var T=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Sg(C[h],T)}catch(z){$e(o,o.return,z)}}a&&_&64&&ky(d),pl(d,d.return);break;case 27:Py(d);case 26:case 5:Ji(h,d,a),a&&o===null&&_&4&&Uy(d),pl(d,d.return);break;case 12:Ji(h,d,a);break;case 31:Ji(h,d,a),a&&_&4&&Fy(h,d);break;case 13:Ji(h,d,a),a&&_&4&&Gy(h,d);break;case 22:d.memoizedState===null&&Ji(h,d,a),pl(d,d.return);break;case 30:break;default:Ji(h,d,a)}i=i.sibling}}function cd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&tl(a))}function hd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&tl(t))}function $n(t,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Qy(t,i,a,o),i=i.sibling}function Qy(t,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:$n(t,i,a,o),h&2048&&ml(9,i);break;case 1:$n(t,i,a,o);break;case 3:$n(t,i,a,o),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&tl(t)));break;case 12:if(h&2048){$n(t,i,a,o),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){$e(i,i.return,C)}}else $n(t,i,a,o);break;case 31:$n(t,i,a,o);break;case 13:$n(t,i,a,o);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?$n(t,i,a,o):gl(t,i):d._visibility&2?$n(t,i,a,o):(d._visibility|=2,ja(t,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&cd(_,i);break;case 24:$n(t,i,a,o),h&2048&&hd(i.alternate,i);break;default:$n(t,i,a,o)}}function ja(t,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,T=a,C=o,z=_.flags;switch(_.tag){case 0:case 11:case 15:ja(d,_,T,C,h),ml(8,_);break;case 23:break;case 22:var G=_.stateNode;_.memoizedState!==null?G._visibility&2?ja(d,_,T,C,h):gl(d,_):(G._visibility|=2,ja(d,_,T,C,h)),h&&z&2048&&cd(_.alternate,_);break;case 24:ja(d,_,T,C,h),h&&z&2048&&hd(_.alternate,_);break;default:ja(d,_,T,C,h)}i=i.sibling}}function gl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,o=i,h=o.flags;switch(o.tag){case 22:gl(a,o),h&2048&&cd(o.alternate,o);break;case 24:gl(a,o),h&2048&&hd(o.alternate,o);break;default:gl(a,o)}i=i.sibling}}var yl=8192;function Pa(t,i,a){if(t.subtreeFlags&yl)for(t=t.child;t!==null;)Xy(t,i,a),t=t.sibling}function Xy(t,i,a){switch(t.tag){case 26:Pa(t,i,a),t.flags&yl&&t.memoizedState!==null&&DA(a,Xn,t.memoizedState,t.memoizedProps);break;case 5:Pa(t,i,a);break;case 3:case 4:var o=Xn;Xn=Ic(t.stateNode.containerInfo),Pa(t,i,a),Xn=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=yl,yl=16777216,Pa(t,i,a),yl=o):Pa(t,i,a));break;default:Pa(t,i,a)}}function $y(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function _l(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Ut=o,Zy(o,t)}$y(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Jy(t),t=t.sibling}function Jy(t){switch(t.tag){case 0:case 11:case 15:_l(t),t.flags&2048&&Os(9,t,t.return);break;case 3:_l(t);break;case 12:_l(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,mc(t)):_l(t);break;default:_l(t)}}function mc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Ut=o,Zy(o,t)}$y(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Os(8,i,i.return),mc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,mc(i));break;default:mc(i)}t=t.sibling}}function Zy(t,i){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Os(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:tl(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ut=o;else e:for(a=t;Ut!==null;){o=Ut;var h=o.sibling,d=o.return;if(qy(o),o===a){Ut=null;break e}if(h!==null){h.return=d,Ut=h;break e}Ut=d}}}var Y1={getCacheForType:function(t){var i=qt(At),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return qt(At).controller.signal}},K1=typeof WeakMap=="function"?WeakMap:Map,Ge=0,tt=null,Oe=null,Ve=0,Xe=0,vn=null,Ms=!1,za=!1,fd=!1,Zi=0,ht=0,Vs=0,Hr=0,dd=0,Tn=0,Ba=0,vl=null,un=null,md=!1,pc=0,Wy=0,gc=1/0,yc=null,ks=null,Mt=0,Ls=null,qa=null,Wi=0,pd=0,gd=null,e_=null,Tl=0,yd=null;function En(){return(Ge&2)!==0&&Ve!==0?Ve&-Ve:U.T!==null?Ad():_u()}function t_(){if(Tn===0)if((Ve&536870912)===0||Pe){var t=gr;gr<<=1,(gr&3932160)===0&&(gr=262144),Tn=t}else Tn=536870912;return t=yn.current,t!==null&&(t.flags|=32),Tn}function cn(t,i,a){(t===tt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(Ha(t,0),Us(t,Ve,Tn,!1)),yr(t,a),((Ge&2)===0||t!==tt)&&(t===tt&&((Ge&2)===0&&(Hr|=a),ht===4&&Us(t,Ve,Tn,!1)),wi(t))}function n_(t,i,a){if((Ge&6)!==0)throw Error(r(327));var o=!a&&(i&127)===0&&(i&t.expiredLanes)===0||zn(t,i),h=o?$1(t,i):vd(t,i,!0),d=o;do{if(h===0){za&&!o&&Us(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!Q1(a)){h=vd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;h=vl;var C=T.current.memoizedState.isDehydrated;if(C&&(Ha(T,_).flags|=256),_=vd(T,_,!1),_!==2){if(fd&&!C){T.errorRecoveryDisabledLanes|=d,Hr|=d,h=4;break e}d=un,un=h,d!==null&&(un===null?un=d:un.push.apply(un,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ha(t,0),Us(t,i,0,!0);break}e:{switch(o=t,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Us(o,i,Tn,!Ms);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=pc+300-Wt(),10<h)){if(Us(o,i,Tn,!Ms),oi(o,0,!0)!==0)break e;Wi=i,o.timeoutHandle=M_(i_.bind(null,o,a,un,yc,md,i,Tn,Hr,Ba,Ms,d,"Throttled",-0,0),h);break e}i_(o,a,un,yc,md,i,Tn,Hr,Ba,Ms,d,null,-0,0)}}break}while(!0);wi(t)}function i_(t,i,a,o,h,d,_,T,C,z,G,X,B,H){if(t.timeoutHandle=-1,X=i.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hn},Xy(i,d,X);var ue=(d&62914560)===d?pc-Wt():(d&4194048)===d?Wy-Wt():0;if(ue=OA(X,ue),ue!==null){Wi=d,t.cancelPendingCommit=ue(h_.bind(null,t,i,d,a,o,h,_,T,C,G,X,null,B,H)),Us(t,d,_,!z);return}}h_(t,i,d,a,o,h,_,T,C)}function Q1(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!pn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Us(t,i,a,o){i&=~dd,i&=~Hr,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var h=i;0<h;){var d=31-ft(h),_=1<<d;o[d]=-1,h&=~_}a!==0&&_r(t,a,i)}function _c(){return(Ge&6)===0?(El(0),!1):!0}function _d(){if(Oe!==null){if(Xe===0)var t=Oe.return;else t=Oe,qi=Vr=null,Vf(t),Ma=null,il=0,t=Oe;for(;t!==null;)Vy(t.alternate,t),t=t.return;Oe=null}}function Ha(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,mA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Wi=0,_d(),tt=t,Oe=a=zi(t.current,null),Ve=i,Xe=0,vn=null,Ms=!1,za=zn(t,i),fd=!1,Ba=Tn=dd=Hr=Vs=ht=0,un=vl=null,md=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var h=31-ft(o),d=1<<h;i|=t[h],o&=~d}return Zi=i,Pu(),a}function s_(t,i){Ie=null,U.H=hl,i===Oa||i===Ku?(i=Tg(),Xe=3):i===bf?(i=Tg(),Xe=4):Xe=i===$f?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,vn=i,Oe===null&&(ht=1,oc(t,Nn(i,t.current)))}function r_(){var t=yn.current;return t===null?!0:(Ve&4194048)===Ve?Vn===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?t===Vn:!1}function a_(){var t=U.H;return U.H=hl,t===null?hl:t}function o_(){var t=U.A;return U.A=Y1,t}function vc(){ht=4,Ms||(Ve&4194048)!==Ve&&yn.current!==null||(za=!0),(Vs&134217727)===0&&(Hr&134217727)===0||tt===null||Us(tt,Ve,Tn,!1)}function vd(t,i,a){var o=Ge;Ge|=2;var h=a_(),d=o_();(tt!==t||Ve!==i)&&(yc=null,Ha(t,i)),i=!1;var _=ht;e:do try{if(Xe!==0&&Oe!==null){var T=Oe,C=vn;switch(Xe){case 8:_d(),_=6;break e;case 3:case 2:case 9:case 6:yn.current===null&&(i=!0);var z=Xe;if(Xe=0,vn=null,Fa(t,T,C,z),a&&za){_=0;break e}break;default:z=Xe,Xe=0,vn=null,Fa(t,T,C,z)}}X1(),_=ht;break}catch(G){s_(t,G)}while(!0);return i&&t.shellSuspendCounter++,qi=Vr=null,Ge=o,U.H=h,U.A=d,Oe===null&&(tt=null,Ve=0,Pu()),_}function X1(){for(;Oe!==null;)l_(Oe)}function $1(t,i){var a=Ge;Ge|=2;var o=a_(),h=o_();tt!==t||Ve!==i?(yc=null,gc=Wt()+500,Ha(t,i)):za=zn(t,i);e:do try{if(Xe!==0&&Oe!==null){i=Oe;var d=vn;t:switch(Xe){case 1:Xe=0,vn=null,Fa(t,i,d,1);break;case 2:case 9:if(_g(d)){Xe=0,vn=null,u_(i);break}i=function(){Xe!==2&&Xe!==9||tt!==t||(Xe=7),wi(t)},d.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:_g(d)?(Xe=0,vn=null,u_(i)):(Xe=0,vn=null,Fa(t,i,d,7));break;case 5:var _=null;switch(Oe.tag){case 26:_=Oe.memoizedState;case 5:case 27:var T=Oe;if(_?Q_(_):T.stateNode.complete){Xe=0,vn=null;var C=T.sibling;if(C!==null)Oe=C;else{var z=T.return;z!==null?(Oe=z,Tc(z)):Oe=null}break t}}Xe=0,vn=null,Fa(t,i,d,5);break;case 6:Xe=0,vn=null,Fa(t,i,d,6);break;case 8:_d(),ht=6;break e;default:throw Error(r(462))}}J1();break}catch(G){s_(t,G)}while(!0);return qi=Vr=null,U.H=o,U.A=h,Ge=a,Oe!==null?0:(tt=null,Ve=0,Pu(),ht)}function J1(){for(;Oe!==null&&!Qh();)l_(Oe)}function l_(t){var i=Oy(t.alternate,t,Zi);t.memoizedProps=t.pendingProps,i===null?Tc(t):Oe=i}function u_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=xy(a,i,i.pendingProps,i.type,void 0,Ve);break;case 11:i=xy(a,i,i.pendingProps,i.type.render,i.ref,Ve);break;case 5:Vf(i);default:Vy(a,i),i=Oe=og(i,Zi),i=Oy(a,i,Zi)}t.memoizedProps=t.pendingProps,i===null?Tc(t):Oe=i}function Fa(t,i,a,o){qi=Vr=null,Vf(i),Ma=null,il=0;var h=i.return;try{if(P1(t,h,i,a,Ve)){ht=1,oc(t,Nn(a,t.current)),Oe=null;return}}catch(d){if(h!==null)throw Oe=h,d;ht=1,oc(t,Nn(a,t.current)),Oe=null;return}i.flags&32768?(Pe||o===1?t=!0:za||(Ve&536870912)!==0?t=!1:(Ms=t=!0,(o===2||o===9||o===3||o===6)&&(o=yn.current,o!==null&&o.tag===13&&(o.flags|=16384))),c_(i,t)):Tc(i)}function Tc(t){var i=t;do{if((i.flags&32768)!==0){c_(i,Ms);return}t=i.return;var a=q1(i.alternate,i,Zi);if(a!==null){Oe=a;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=t}while(i!==null);ht===0&&(ht=5)}function c_(t,i){do{var a=H1(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);ht=6,Oe=null}function h_(t,i,a,o,h,d,_,T,C){t.cancelPendingCommit=null;do Ec();while(Mt!==0);if((Ge&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=of,Jh(t,a,d,_,T,C),t===tt&&(Oe=tt=null,Ve=0),qa=i,Ls=t,Wi=a,pd=d,gd=h,e_=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,tA(ds,function(){return g_(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=U.T,U.T=null,h=W.p,W.p=2,_=Ge,Ge|=4;try{F1(t,i,a)}finally{Ge=_,W.p=h,U.T=o}}Mt=1,f_(),d_(),m_()}}function f_(){if(Mt===1){Mt=0;var t=Ls,i=qa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=U.T,U.T=null;var o=W.p;W.p=2;var h=Ge;Ge|=4;try{Yy(i,t);var d=Dd,_=Zp(t.containerInfo),T=d.focusedElem,C=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&Jp(T.ownerDocument.documentElement,T)){if(C!==null&&tf(T)){var z=C.start,G=C.end;if(G===void 0&&(G=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(G,T.value.length);else{var X=T.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var H=B.getSelection(),ue=T.textContent.length,_e=Math.min(C.start,ue),et=C.end===void 0?_e:Math.min(C.end,ue);!H.extend&&_e>et&&(_=et,et=_e,_e=_);var L=$p(T,_e),O=$p(T,et);if(L&&O&&(H.rangeCount!==1||H.anchorNode!==L.node||H.anchorOffset!==L.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var P=X.createRange();P.setStart(L.node,L.offset),H.removeAllRanges(),_e>et?(H.addRange(P),H.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),H.addRange(P))}}}}for(X=[],H=T;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var Y=X[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Mc=!!Nd,Dd=Nd=null}finally{Ge=h,W.p=o,U.T=a}}t.current=i,Mt=2}}function d_(){if(Mt===2){Mt=0;var t=Ls,i=qa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=U.T,U.T=null;var o=W.p;W.p=2;var h=Ge;Ge|=4;try{By(t,i.alternate,i)}finally{Ge=h,W.p=o,U.T=a}}Mt=3}}function m_(){if(Mt===4||Mt===3){Mt=0,hu();var t=Ls,i=qa,a=Wi,o=e_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Mt=5:(Mt=0,qa=Ls=null,p_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ks=null),Li(a),i=i.stateNode,Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(Pn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=U.T,h=W.p,W.p=2,U.T=null;try{for(var d=t.onRecoverableError,_=0;_<o.length;_++){var T=o[_];d(T.value,{componentStack:T.stack})}}finally{U.T=i,W.p=h}}(Wi&3)!==0&&Ec(),wi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===yd?Tl++:(Tl=0,yd=t):Tl=0,El(0)}}function p_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,tl(i)))}function Ec(){return f_(),d_(),m_(),g_()}function g_(){if(Mt!==5)return!1;var t=Ls,i=pd;pd=0;var a=Li(Wi),o=U.T,h=W.p;try{W.p=32>a?32:a,U.T=null,a=gd,gd=null;var d=Ls,_=Wi;if(Mt=0,qa=Ls=null,Wi=0,(Ge&6)!==0)throw Error(r(331));var T=Ge;if(Ge|=4,Jy(d.current),Qy(d,d.current,_,a),Ge=T,El(0,!1),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(Pn,d)}catch{}return!0}finally{W.p=h,U.T=o,p_(t,i)}}function y_(t,i,a){i=Nn(a,i),i=Xf(t.stateNode,i,2),t=Cs(t,i,2),t!==null&&(yr(t,2),wi(t))}function $e(t,i,a){if(t.tag===3)y_(t,t,a);else for(;i!==null;){if(i.tag===3){y_(i,t,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ks===null||!ks.has(o))){t=Nn(a,t),a=_y(2),o=Cs(i,a,2),o!==null&&(vy(a,o,i,t),yr(o,2),wi(o));break}}i=i.return}}function Td(t,i,a){var o=t.pingCache;if(o===null){o=t.pingCache=new K1;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(fd=!0,h.add(a),t=Z1.bind(null,t,i,a),i.then(t,t))}function Z1(t,i,a){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,tt===t&&(Ve&a)===a&&(ht===4||ht===3&&(Ve&62914560)===Ve&&300>Wt()-pc?(Ge&2)===0&&Ha(t,0):dd|=a,Ba===Ve&&(Ba=0)),wi(t)}function __(t,i){i===0&&(i=yu()),t=Dr(t,i),t!==null&&(yr(t,i),wi(t))}function W1(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),__(t,a)}function eA(t,i){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(i),__(t,a)}function tA(t,i){return Ot(t,i)}var bc=null,Ga=null,Ed=!1,Ac=!1,bd=!1,js=0;function wi(t){t!==Ga&&t.next===null&&(Ga===null?bc=Ga=t:Ga=Ga.next=t),Ac=!0,Ed||(Ed=!0,iA())}function El(t,i){if(!bd&&Ac){bd=!0;do for(var a=!1,o=bc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var _=o.suspendedLanes,T=o.pingedLanes;d=(1<<31-ft(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,b_(o,d))}else d=Ve,d=oi(o,o===tt?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||zn(o,d)||(a=!0,b_(o,d));o=o.next}while(a);bd=!1}}function nA(){v_()}function v_(){Ac=Ed=!1;var t=0;js!==0&&dA()&&(t=js);for(var i=Wt(),a=null,o=bc;o!==null;){var h=o.next,d=T_(o,i);d===0?(o.next=null,a===null?bc=h:a.next=h,h===null&&(Ga=a)):(a=o,(t!==0||(d&3)!==0)&&(Ac=!0)),o=h}Mt!==0&&Mt!==5||El(t),js!==0&&(js=0)}function T_(t,i){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-ft(d),T=1<<_,C=h[_];C===-1?((T&a)===0||(T&o)!==0)&&(h[_]=$h(T,i)):C<=i&&(t.expiredLanes|=T),d&=~T}if(i=tt,a=Ve,a=oi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===i&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&fs(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||zn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(o!==null&&fs(o),Li(a)){case 2:case 8:a=Do;break;case 32:a=ds;break;case 268435456:a=fu;break;default:a=ds}return o=E_.bind(null,t),a=Ot(a,o),t.callbackPriority=i,t.callbackNode=a,i}return o!==null&&o!==null&&fs(o),t.callbackPriority=2,t.callbackNode=null,2}function E_(t,i){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ec()&&t.callbackNode!==a)return null;var o=Ve;return o=oi(t,t===tt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(n_(t,o,i),T_(t,Wt()),t.callbackNode!=null&&t.callbackNode===a?E_.bind(null,t):null)}function b_(t,i){if(Ec())return null;n_(t,i,!0)}function iA(){pA(function(){(Ge&6)!==0?Ot(No,nA):v_()})}function Ad(){if(js===0){var t=Na;t===0&&(t=ri,ri<<=1,(ri&261888)===0&&(ri=256)),js=t}return js}function A_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:pa(""+t)}function S_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function sA(t,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var d=A_((h[kt]||null).action),_=o.submitter;_&&(i=(i=_[kt]||null)?A_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new _i("action","action",null,o,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(js!==0){var C=_?S_(h,_):new FormData(h);Hf(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=_?S_(h,_):new FormData(h),Hf(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Sd=0;Sd<af.length;Sd++){var wd=af[Sd],rA=wd.toLowerCase(),aA=wd[0].toUpperCase()+wd.slice(1);Qn(rA,"on"+aA)}Qn(tg,"onAnimationEnd"),Qn(ng,"onAnimationIteration"),Qn(ig,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(b1,"onTransitionRun"),Qn(A1,"onTransitionStart"),Qn(S1,"onTransitionCancel"),Qn(sg,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),di("onBeforeInput",["compositionend","keypress","textInput","paste"]),di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bl));function w_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var d=void 0;if(i)for(var _=o.length-1;0<=_;_--){var T=o[_],C=T.instance,z=T.currentTarget;if(T=T.listener,C!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=z;try{d(h)}catch(G){ju(G)}h.currentTarget=null,d=C}else for(_=0;_<o.length;_++){if(T=o[_],C=T.instance,z=T.currentTarget,T=T.listener,C!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=z;try{d(h)}catch(G){ju(G)}h.currentTarget=null,d=C}}}}function Me(t,i){var a=i[ca];a===void 0&&(a=i[ca]=new Set);var o=t+"__bubble";a.has(o)||(x_(i,t,2,!1),a.add(o))}function xd(t,i,a){var o=0;i&&(o|=4),x_(a,t,o,i)}var Sc="_reactListening"+Math.random().toString(36).slice(2);function Id(t){if(!t[Sc]){t[Sc]=!0,Vo.forEach(function(a){a!=="selectionchange"&&(oA.has(a)||xd(a,!1,t),xd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Sc]||(i[Sc]=!0,xd("selectionchange",!1,i))}}function x_(t,i,a,o){switch(tv(i)){case 2:var h=kA;break;case 8:h=LA;break;default:h=qd}a=h.bind(null,i,a,t),h=void 0,!Ar||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Rd(t,i,a,o,h){var d=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var T=o.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=o.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=hi(T),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){o=d=_;continue e}T=T.parentNode}}o=o.return}vs(function(){var z=d,G=xn(a),X=[];e:{var B=rg.get(t);if(B!==void 0){var H=_i,ue=t;switch(t){case"keypress":if(wr(a)===0)break e;case"keydown":case"keyup":H=ku;break;case"focusin":ue="focus",H=Ir;break;case"focusout":ue="blur",H=Ir;break;case"beforeblur":case"afterblur":H=Ir;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=xu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=p;break;case tg:case ng:case ig:H=Ru;break;case sg:H=A;break;case"scroll":case"scrollend":H=Yo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Cu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Pi;break;case"toggle":case"beforetoggle":H=xe}var _e=(i&4)!==0,et=!_e&&(t==="scroll"||t==="scrollend"),L=_e?B!==null?B+"Capture":null:B;_e=[];for(var O=z,P;O!==null;){var Y=O;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||L===null||(Y=Fn(O,L),Y!=null&&_e.push(Al(O,Y,P))),et)break;O=O.return}0<_e.length&&(B=new H(B,ue,null,a,G),X.push({event:B,listeners:_e}))}}if((i&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&a!==Ho&&(ue=a.relatedTarget||a.fromElement)&&(hi(ue)||ue[ui]))break e;if((H||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ue=a.relatedTarget||a.toElement,H=z,ue=ue?hi(ue):null,ue!==null&&(et=u(ue),_e=ue.tag,ue!==et||_e!==5&&_e!==27&&_e!==6)&&(ue=null)):(H=null,ue=z),H!==ue)){if(_e=Ko,Y="onMouseLeave",L="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Pi,Y="onPointerLeave",L="onPointerEnter",O="pointer"),et=H==null?B:dn(H),P=ue==null?B:dn(ue),B=new _e(Y,O+"leave",H,a,G),B.target=et,B.relatedTarget=P,Y=null,hi(G)===z&&(_e=new _e(L,O+"enter",ue,a,G),_e.target=P,_e.relatedTarget=et,Y=_e),et=Y,H&&ue)t:{for(_e=lA,L=H,O=ue,P=0,Y=L;Y;Y=_e(Y))P++;Y=0;for(var me=O;me;me=_e(me))Y++;for(;0<P-Y;)L=_e(L),P--;for(;0<Y-P;)O=_e(O),Y--;for(;P--;){if(L===O||O!==null&&L===O.alternate){_e=L;break t}L=_e(L),O=_e(O)}_e=null}else _e=null;H!==null&&I_(X,B,H,_e,!1),ue!==null&&et!==null&&I_(X,et,ue,_e,!0)}}e:{if(B=z?dn(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var qe=Fp;else if(qp(B))if(Gp)qe=v1;else{qe=y1;var he=g1}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&ma(z.elementType)&&(qe=Fp):qe=_1;if(qe&&(qe=qe(t,z))){Hp(X,qe,a,G);break e}he&&he(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&zo(B,"number",B.value)}switch(he=z?dn(z):window,t){case"focusin":(qp(he)||he.contentEditable==="true")&&(ba=he,nf=z,Zo=null);break;case"focusout":Zo=nf=ba=null;break;case"mousedown":sf=!0;break;case"contextmenu":case"mouseup":case"dragend":sf=!1,Wp(X,a,G);break;case"selectionchange":if(E1)break;case"keydown":case"keyup":Wp(X,a,G)}var Ce;if(Fe)e:{switch(t){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else Ea?Rr(t,a)&&(ke="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ke="onCompositionStart");ke&&(Ei&&a.locale!=="ko"&&(Ea||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&Ea&&(Ce=Go()):(yi=G,Fo="value"in yi?yi.value:yi.textContent,Ea=!0)),he=wc(z,ke),0<he.length&&(ke=new Ti(ke,t,null,a,G),X.push({event:ke,listeners:he}),Ce?ke.data=Ce:(Ce=Ta(a),Ce!==null&&(ke.data=Ce)))),(Ce=Rn?f1(t,a):d1(t,a))&&(ke=wc(z,"onBeforeInput"),0<ke.length&&(he=new Ti("onBeforeInput","beforeinput",null,a,G),X.push({event:he,listeners:ke}),he.data=Ce)),sA(X,t,z,a,G)}w_(X,i)})}function Al(t,i,a){return{instance:t,listener:i,currentTarget:a}}function wc(t,i){for(var a=i+"Capture",o=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Fn(t,a),h!=null&&o.unshift(Al(t,h,d)),h=Fn(t,i),h!=null&&o.push(Al(t,h,d))),t.tag===3)return o;t=t.return}return[]}function lA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function I_(t,i,a,o,h){for(var d=i._reactName,_=[];a!==null&&a!==o;){var T=a,C=T.alternate,z=T.stateNode;if(T=T.tag,C!==null&&C===o)break;T!==5&&T!==26&&T!==27||z===null||(C=z,h?(z=Fn(a,d),z!=null&&_.unshift(Al(a,z,C))):h||(z=Fn(a,d),z!=null&&_.push(Al(a,z,C)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var uA=/\r\n?/g,cA=/\u0000|\uFFFD/g;function R_(t){return(typeof t=="string"?t:""+t).replace(uA,`
`).replace(cA,"")}function C_(t,i){return i=R_(i),R_(t)===i}function We(t,i,a,o,h,d){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||rn(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&rn(t,""+o);break;case"className":mn(t,"class",o);break;case"tabIndex":mn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(t,a,o);break;case"style":qo(t,o,d);break;case"data":if(i!=="object"){mn(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=pa(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&We(t,i,"name",h.name,h,null),We(t,i,"formEncType",h.formEncType,h,null),We(t,i,"formMethod",h.formMethod,h,null),We(t,i,"formTarget",h.formTarget,h,null)):(We(t,i,"encType",h.encType,h,null),We(t,i,"method",h.method,h,null),We(t,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=pa(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Hn);break;case"onScroll":o!=null&&Me("scroll",t);break;case"onScrollEnd":o!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=pa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Me("beforetoggle",t),Me("toggle",t),fa(t,"popover",o);break;case"xlinkActuate":bt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":bt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":bt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":bt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":bt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":bt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":bt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":bt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":bt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":fa(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=wu.get(a)||a,fa(t,a,o))}}function Cd(t,i,a,o,h,d){switch(a){case"style":qo(t,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?rn(t,o):(typeof o=="number"||typeof o=="bigint")&&rn(t,""+o);break;case"onScroll":o!=null&&Me("scroll",t);break;case"onScrollEnd":o!=null&&Me("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ko.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[kt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):fa(t,a,o)}}}function Ft(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:We(t,i,d,_,a,null)}}h&&We(t,i,"srcSet",a.srcSet,a,null),o&&We(t,i,"src",a.src,a,null);return;case"input":Me("invalid",t);var T=d=_=h=null,C=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":_=G;break;case"checked":C=G;break;case"defaultChecked":z=G;break;case"value":d=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,i));break;default:We(t,i,o,G,a,null)}}bu(t,d,T,C,z,_,h,!1);return;case"select":Me("invalid",t),o=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":o=T;default:We(t,i,h,T,a,null)}i=d,a=_,t.multiple=!!o,i!=null?ps(t,!!o,i,!1):a!=null&&ps(t,!!o,a,!0);return;case"textarea":Me("invalid",t),d=h=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":o=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:We(t,i,_,T,a,null)}gs(t,o,h,d);return;case"option":for(C in a)a.hasOwnProperty(C)&&(o=a[C],o!=null)&&(C==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":We(t,i,C,o,a,null));return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(o=0;o<bl.length;o++)Me(bl[o],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:We(t,i,z,o,a,null)}return;default:if(ma(i)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&Cd(t,i,G,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&We(t,i,T,o,a,null))}function hA(t,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,C=null,z=null,G=null;for(H in a){var X=a[H];if(a.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=X;default:o.hasOwnProperty(H)||We(t,i,H,null,o,X)}}for(var B in o){var H=o[B];if(X=a[B],o.hasOwnProperty(B)&&(H!=null||X!=null))switch(B){case"type":d=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":G=H;break;case"value":_=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,i));break;default:H!==X&&We(t,i,B,H,o,X)}}da(t,_,T,C,z,G,d,h);return;case"select":H=_=T=B=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":H=C;default:o.hasOwnProperty(d)||We(t,i,d,null,o,C)}for(h in o)if(d=o[h],C=a[h],o.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":B=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==C&&We(t,i,h,d,o,C)}i=T,a=_,o=H,B!=null?ps(t,!!a,B,!1):!!o!=!!a&&(i!=null?ps(t,!!a,i,!0):ps(t,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:We(t,i,T,null,o,h)}for(_ in o)if(h=o[_],d=a[_],o.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&We(t,i,_,h,o,d)}Au(t,B,H);return;case"option":for(var ue in a)B=a[ue],a.hasOwnProperty(ue)&&B!=null&&!o.hasOwnProperty(ue)&&(ue==="selected"?t.selected=!1:We(t,i,ue,null,o,B));for(C in o)B=o[C],H=a[C],o.hasOwnProperty(C)&&B!==H&&(B!=null||H!=null)&&(C==="selected"?t.selected=B&&typeof B!="function"&&typeof B!="symbol":We(t,i,C,B,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)B=a[_e],a.hasOwnProperty(_e)&&B!=null&&!o.hasOwnProperty(_e)&&We(t,i,_e,null,o,B);for(z in o)if(B=o[z],H=a[z],o.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,i));break;default:We(t,i,z,B,o,H)}return;default:if(ma(i)){for(var et in a)B=a[et],a.hasOwnProperty(et)&&B!==void 0&&!o.hasOwnProperty(et)&&Cd(t,i,et,void 0,o,B);for(G in o)B=o[G],H=a[G],!o.hasOwnProperty(G)||B===H||B===void 0&&H===void 0||Cd(t,i,G,B,o,H);return}}for(var L in a)B=a[L],a.hasOwnProperty(L)&&B!=null&&!o.hasOwnProperty(L)&&We(t,i,L,null,o,B);for(X in o)B=o[X],H=a[X],!o.hasOwnProperty(X)||B===H||B==null&&H==null||We(t,i,X,B,o,H)}function N_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&N_(_)){for(_=0,T=h.responseEnd,o+=1;o<a.length;o++){var C=a[o],z=C.startTime;if(z>T)break;var G=C.transferSize,X=C.initiatorType;G&&N_(X)&&(C=C.responseEnd,_+=G*(C<T?1:(T-z)/(C-z)))}if(--o,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Nd=null,Dd=null;function xc(t){return t.nodeType===9?t:t.ownerDocument}function D_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function O_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Od(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Md=null;function dA(){var t=window.event;return t&&t.type==="popstate"?t===Md?!1:(Md=t,!0):(Md=null,!1)}var M_=typeof setTimeout=="function"?setTimeout:void 0,mA=typeof clearTimeout=="function"?clearTimeout:void 0,V_=typeof Promise=="function"?Promise:void 0,pA=typeof queueMicrotask=="function"?queueMicrotask:typeof V_<"u"?function(t){return V_.resolve(null).then(t).catch(gA)}:M_;function gA(t){setTimeout(function(){throw t})}function Ps(t){return t==="head"}function k_(t,i){var a=i,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),Xa(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Sl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Sl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[ci]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Sl(t.ownerDocument.body);a=h}while(a);Xa(i)}function L_(t,i){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Vd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Vd(a),ha(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function yA(t,i,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[ci])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=kn(t.nextSibling),t===null)break}return null}function _A(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=kn(t.nextSibling),t===null))return null;return t}function U_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=kn(t.nextSibling),t===null))return null;return t}function kd(t){return t.data==="$?"||t.data==="$~"}function Ld(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function vA(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function kn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Ud=null;function j_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return kn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function P_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function z_(t,i,a){switch(i=xc(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Sl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ha(t)}var Ln=new Map,B_=new Set;function Ic(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var es=W.d;W.d={f:TA,r:EA,D:bA,C:AA,L:SA,m:wA,X:IA,S:xA,M:RA};function TA(){var t=es.f(),i=_c();return t||i}function EA(t){var i=wn(t);i!==null&&i.tag===5&&i.type==="form"?sy(i):es.r(t)}var Ya=typeof document>"u"?null:document;function q_(t,i,a){var o=Ya;if(o&&typeof i=="string"&&i){var h=sn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),B_.has(h)||(B_.add(h),t={rel:t,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Ft(i,"link",t),Et(i),o.head.appendChild(i)))}}function bA(t){es.D(t),q_("dns-prefetch",t,null)}function AA(t,i){es.C(t,i),q_("preconnect",t,i)}function SA(t,i,a){es.L(t,i,a);var o=Ya;if(o&&t&&i){var h='link[rel="preload"][as="'+sn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+sn(a.imageSizes)+'"]')):h+='[href="'+sn(t)+'"]';var d=h;switch(i){case"style":d=Ka(t);break;case"script":d=Qa(t)}Ln.has(d)||(t=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Ln.set(d,t),o.querySelector(h)!==null||i==="style"&&o.querySelector(wl(d))||i==="script"&&o.querySelector(xl(d))||(i=o.createElement("link"),Ft(i,"link",t),Et(i),o.head.appendChild(i)))}}function wA(t,i){es.m(t,i);var a=Ya;if(a&&t){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+sn(o)+'"][href="'+sn(t)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Qa(t)}if(!Ln.has(d)&&(t=S({rel:"modulepreload",href:t},i),Ln.set(d,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(xl(d)))return}o=a.createElement("link"),Ft(o,"link",t),Et(o),a.head.appendChild(o)}}}function xA(t,i,a){es.S(t,i,a);var o=Ya;if(o&&t){var h=fi(o).hoistableStyles,d=Ka(t);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=o.querySelector(wl(d)))T.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Ln.get(d))&&jd(t,a);var C=_=o.createElement("link");Et(C),Ft(C,"link",t),C._p=new Promise(function(z,G){C.onload=z,C.onerror=G}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Rc(_,i,o)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function IA(t,i){es.X(t,i);var a=Ya;if(a&&t){var o=fi(a).hoistableScripts,h=Qa(t),d=o.get(h);d||(d=a.querySelector(xl(h)),d||(t=S({src:t,async:!0},i),(i=Ln.get(h))&&Pd(t,i),d=a.createElement("script"),Et(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function RA(t,i){es.M(t,i);var a=Ya;if(a&&t){var o=fi(a).hoistableScripts,h=Qa(t),d=o.get(h);d||(d=a.querySelector(xl(h)),d||(t=S({src:t,async:!0,type:"module"},i),(i=Ln.get(h))&&Pd(t,i),d=a.createElement("script"),Et(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function H_(t,i,a,o){var h=(h=Re.current)?Ic(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ka(a.href),a=fi(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ka(a.href);var d=fi(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(wl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Ln.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(t,a),d||CA(h,t,a,_.state))),i&&o===null)throw Error(r(528,""));return _}if(i&&o!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Qa(a),a=fi(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ka(t){return'href="'+sn(t)+'"'}function wl(t){return'link[rel="stylesheet"]['+t+"]"}function F_(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function CA(t,i,a,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Ft(i,"link",a),Et(i),t.head.appendChild(i))}function Qa(t){return'[src="'+sn(t)+'"]'}function xl(t){return"script[async]"+t}function G_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+sn(a.href)+'"]');if(o)return i.instance=o,Et(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Et(o),Ft(o,"style",h),Rc(o,a.precedence,t),i.instance=o;case"stylesheet":h=Ka(a.href);var d=t.querySelector(wl(h));if(d)return i.state.loading|=4,i.instance=d,Et(d),d;o=F_(a),(h=Ln.get(h))&&jd(o,h),d=(t.ownerDocument||t).createElement("link"),Et(d);var _=d;return _._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),Ft(d,"link",o),i.state.loading|=4,Rc(d,a.precedence,t),i.instance=d;case"script":return d=Qa(a.src),(h=t.querySelector(xl(d)))?(i.instance=h,Et(h),h):(o=a,(h=Ln.get(d))&&(o=S({},a),Pd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Et(h),Ft(h,"link",o),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Rc(o,a.precedence,t));return i.instance}function Rc(t,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,_=0;_<o.length;_++){var T=o[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function jd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Pd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Cc=null;function Y_(t,i,a){if(Cc===null){var o=new Map,h=Cc=new Map;h.set(a,o)}else h=Cc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ci]||d[Tt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var T=o.get(_);T?T.push(d):o.set(_,[d])}}return o}function K_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function NA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Q_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function DA(t,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ka(o.href),d=i.querySelector(wl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Nc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,Et(d);return}d=i.ownerDocument||i,o=F_(o),(h=Ln.get(h))&&jd(o,h),d=d.createElement("link"),Et(d);var _=d;_._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),Ft(d,"link",o),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Nc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var zd=0;function OA(t,i){return t.stylesheets&&t.count===0&&Oc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Oc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&zd===0&&(zd=62500*fA());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Oc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>zd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Nc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Oc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Dc=null;function Oc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Dc=new Map,i.forEach(MA,t),Dc=null,Nc.call(t))}function MA(t,i){if(!(i.state.loading&4)){var a=Dc.get(t);if(a)var o=a.get(null);else{a=new Map,Dc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||o,d===o&&a.set(null,h),a.set(_,h),this.count++,o=Nc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Il={$$typeof:ye,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function VA(t,i,a,o,h,d,_,T,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function X_(t,i,a,o,h,d,_,T,C,z,G,X){return t=new VA(t,i,a,_,C,z,G,X,T),i=1,d===!0&&(i|=24),d=gn(3,null,null,i),t.current=d,d.stateNode=t,i=vf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:i},Af(d),t}function $_(t){return t?(t=wa,t):wa}function J_(t,i,a,o,h,d){h=$_(h),o.context===null?o.context=h:o.pendingContext=h,o=Rs(i),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=Cs(t,o,i),a!==null&&(cn(a,t,i),rl(a,t,i))}function Z_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Bd(t,i){Z_(t,i),(t=t.alternate)&&Z_(t,i)}function W_(t){if(t.tag===13||t.tag===31){var i=Dr(t,67108864);i!==null&&cn(i,t,67108864),Bd(t,67108864)}}function ev(t){if(t.tag===13||t.tag===31){var i=En();i=vr(i);var a=Dr(t,i);a!==null&&cn(a,t,i),Bd(t,i)}}var Mc=!0;function kA(t,i,a,o){var h=U.T;U.T=null;var d=W.p;try{W.p=2,qd(t,i,a,o)}finally{W.p=d,U.T=h}}function LA(t,i,a,o){var h=U.T;U.T=null;var d=W.p;try{W.p=8,qd(t,i,a,o)}finally{W.p=d,U.T=h}}function qd(t,i,a,o){if(Mc){var h=Hd(o);if(h===null)Rd(t,i,o,Vc,a),nv(t,o);else if(jA(h,t,i,a,o))o.stopPropagation();else if(nv(t,o),i&4&&-1<UA.indexOf(t)){for(;h!==null;){var d=wn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ai(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var C=1<<31-ft(_);T.entanglements[1]|=C,_&=~C}wi(d),(Ge&6)===0&&(gc=Wt()+500,El(0))}}break;case 31:case 13:T=Dr(d,2),T!==null&&cn(T,d,2),_c(),Bd(d,2)}if(d=Hd(o),d===null&&Rd(t,i,o,Vc,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else Rd(t,i,o,null,a)}}function Hd(t){return t=xn(t),Fd(t)}var Vc=null;function Fd(t){if(Vc=null,t=hi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Vc=t,null}function tv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pr()){case No:return 2;case Do:return 8;case ds:case Xh:return 32;case fu:return 268435456;default:return 32}default:return 32}}var Gd=!1,zs=null,Bs=null,qs=null,Rl=new Map,Cl=new Map,Hs=[],UA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nv(t,i){switch(t){case"focusin":case"focusout":zs=null;break;case"dragenter":case"dragleave":Bs=null;break;case"mouseover":case"mouseout":qs=null;break;case"pointerover":case"pointerout":Rl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(i.pointerId)}}function Nl(t,i,a,o,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},i!==null&&(i=wn(i),i!==null&&W_(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function jA(t,i,a,o,h){switch(i){case"focusin":return zs=Nl(zs,t,i,a,o,h),!0;case"dragenter":return Bs=Nl(Bs,t,i,a,o,h),!0;case"mouseover":return qs=Nl(qs,t,i,a,o,h),!0;case"pointerover":var d=h.pointerId;return Rl.set(d,Nl(Rl.get(d)||null,t,i,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,Cl.set(d,Nl(Cl.get(d)||null,t,i,a,o,h)),!0}return!1}function iv(t){var i=hi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Bn(t.priority,function(){ev(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Bn(t.priority,function(){ev(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Hd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Ho=o,a.target.dispatchEvent(o),Ho=null}else return i=wn(a),i!==null&&W_(i),t.blockedOn=a,!1;i.shift()}return!0}function sv(t,i,a){kc(t)&&a.delete(i)}function PA(){Gd=!1,zs!==null&&kc(zs)&&(zs=null),Bs!==null&&kc(Bs)&&(Bs=null),qs!==null&&kc(qs)&&(qs=null),Rl.forEach(sv),Cl.forEach(sv)}function Lc(t,i){t.blockedOn===i&&(t.blockedOn=null,Gd||(Gd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,PA)))}var Uc=null;function rv(t){Uc!==t&&(Uc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Uc===t&&(Uc=null);for(var i=0;i<t.length;i+=3){var a=t[i],o=t[i+1],h=t[i+2];if(typeof o!="function"){if(Fd(o||a)===null)continue;break}var d=wn(a);d!==null&&(t.splice(i,3),i-=3,Hf(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Xa(t){function i(C){return Lc(C,t)}zs!==null&&Lc(zs,t),Bs!==null&&Lc(Bs,t),qs!==null&&Lc(qs,t),Rl.forEach(i),Cl.forEach(i);for(var a=0;a<Hs.length;a++){var o=Hs[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Hs.length&&(a=Hs[0],a.blockedOn===null);)iv(a),a.blockedOn===null&&Hs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],_=h[kt]||null;if(typeof d=="function")_||rv(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[kt]||null)T=_.formAction;else if(Fd(h)!==null)continue}else T=_.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),rv(a)}}}function av(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Yd(t){this._internalRoot=t}jc.prototype.render=Yd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,o=En();J_(a,o,t,i,null,null)},jc.prototype.unmount=Yd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;J_(t.current,2,null,t,null,null),_c(),i[ui]=null}};function jc(t){this._internalRoot=t}jc.prototype.unstable_scheduleHydration=function(t){if(t){var i=_u();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Hs.length&&i!==0&&i<Hs[a].priority;a++);Hs.splice(a,0,t),a===0&&iv(t)}};var ov=e.version;if(ov!=="19.2.3")throw Error(r(527,ov,"19.2.3"));W.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(i),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var zA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{Pn=Pc.inject(zA),Pt=Pc}catch{}}return Ol.createRoot=function(t,i){if(!l(t))throw Error(r(299));var a=!1,o="",h=my,d=py,_=gy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=X_(t,1,!1,null,null,a,o,null,h,d,_,av),t[ui]=i.current,Id(t),new Yd(i)},Ol.hydrateRoot=function(t,i,a){if(!l(t))throw Error(r(299));var o=!1,h="",d=my,_=py,T=gy,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),i=X_(t,1,!0,i,a??null,o,h,C,d,_,T,av),i.context=$_(null),a=i.current,o=En(),o=vr(o),h=Rs(o),h.callback=null,Cs(a,h,o),a=o,i.current.lanes=a,yr(i,a),wi(i),t[ui]=i.current,Id(t),new jc(i)},Ol.version="19.2.3",Ol}var yv;function XA(){if(yv)return Xd.exports;yv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Xd.exports=QA(),Xd.exports}var $A=XA();const JA=()=>{const[s,e]=fe.useState(!1);return fe.useEffect(()=>{e(!0)},[]),E.jsxs("section",{className:"relative h-screen flex flex-col justify-center items-center text-center bg-white text-white overflow-hidden",children:[E.jsxs("div",{className:"absolute inset-0 z-0",children:[E.jsx("div",{className:"absolute inset-0 bg-black/20 z-10"}),E.jsx("img",{src:"https://images.unsplash.com/photo-1519741497674-611481863552?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80",alt:"Wedding Background",className:"w-full h-full object-cover"})]}),E.jsxs("div",{className:`relative z-20 p-8 transition-all duration-1000 ease-out transform ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[E.jsx("p",{className:"text-sm md:text-base tracking-[0.2em] mb-4 uppercase text-white/90",children:"We Are Getting Married"}),E.jsxs("h1",{className:"text-6xl md:text-7xl lg:text-8xl mb-6 font-heading text-white drop-shadow-lg",children:["JongSeon ",E.jsx("br",{className:"md:hidden"}),E.jsx("span",{className:"text-4xl md:text-5xl lg:text-6xl mx-2 text-soft-pink font-serif italic",children:"&"}),E.jsx("br",{className:"md:hidden"})," Jisu"]}),E.jsxs("div",{className:"flex items-center justify-center gap-4 text-white/90",children:[E.jsx("div",{className:"h-px w-12 bg-white/60"}),E.jsx("p",{className:"text-lg md:text-xl tracking-widest font-light",children:"2026. 04. 25. SAT"}),E.jsx("div",{className:"h-px w-12 bg-white/60"})]})]}),E.jsx("div",{className:"absolute bottom-8 z-20 animate-bounce text-white/80 text-sm tracking-widest",children:"SCROLL DOWN"})]})},ZA=(s,{threshold:e=.1,root:n=null,rootMargin:r="0%"}={})=>{const[l,u]=fe.useState(!1);return fe.useEffect(()=>{const f=s?.current;if(!f)return;const m=new IntersectionObserver(([g])=>{g.isIntersecting&&(u(!0),m.unobserve(f))},{threshold:e,root:n,rootMargin:r});return m.observe(f),()=>{m.disconnect()}},[s,e,n,r]),l},WA=()=>{const s=fe.useRef(null),e=ZA(s,{threshold:.3});return E.jsx("section",{className:"py-20 px-4 text-center bg-white",ref:s,children:E.jsxs("div",{className:`transition-all duration-1000 ease-out transform ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[E.jsx("h2",{className:"text-sm text-primary tracking-[0.3em] font-medium mb-12 uppercase",children:"Invitation"}),E.jsxs("div",{className:"font-body text-xl leading-loose text-gray-600 mb-12 space-y-2",children:[E.jsx("p",{children:"   "}),E.jsx("p",{children:"    "}),E.jsx("p",{children:" ."}),E.jsx("br",{}),E.jsx("p",{children:"    "}),E.jsx("p",{children:"  "}),E.jsx("p",{children:"  ."})]}),E.jsxs("div",{className:"flex flex-col items-center gap-4 font-body text-xl",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("span",{className:"text-base text-gray-400",children:""}),E.jsx("strong",{className:"text-text text-2xl font-medium",children:""})]}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("span",{className:"text-base text-gray-400",children:""}),E.jsx("strong",{className:"text-text text-2xl font-medium",children:""})]})]})]})})},eS=()=>E.jsx("section",{style:Jn.section,children:E.jsxs("div",{style:Jn.container,children:[E.jsxs("div",{style:Jn.item,children:[E.jsx("h3",{style:Jn.label,children:"DATE"}),E.jsx("p",{style:Jn.value,children:"2026. 04. 25"}),E.jsx("p",{style:Jn.subValue,children:"SATURDAY 04:50 PM"})]}),E.jsx("div",{style:Jn.divider}),E.jsxs("div",{style:Jn.item,children:[E.jsx("h3",{style:Jn.label,children:"LOCATION"}),E.jsx("p",{style:Jn.value,children:"  "}),E.jsx("p",{style:Jn.subValue,children:"   4 140"})]})]})}),Jn={section:{padding:"3rem 1.5rem",backgroundColor:"#fff"},container:{backgroundColor:"#fff",padding:"2rem",borderRadius:"2px",boxShadow:"0 5px 15px rgba(0,0,0,0.03)",maxWidth:"400px",margin:"0 auto"},item:{textAlign:"center",marginBottom:"1.5rem"},divider:{width:"1px",height:"40px",backgroundColor:"#ddd",margin:"0 auto 1.5rem"},label:{fontSize:"0.8rem",color:"#aaa",letterSpacing:"0.1em",marginBottom:"0.5rem"},value:{fontSize:"1.3rem",fontFamily:"var(--font-serif)",fontWeight:"700",marginBottom:"0.2rem"},subValue:{fontSize:"0.95rem",color:"#666"}},tS="/Invitation/assets/gallery1-C7q5Nxgj.jpg",sT=Object.freeze(Object.defineProperty({__proto__:null,default:tS},Symbol.toStringTag,{value:"Module"})),nS="/Invitation/assets/gallery2-AWOh7shC.jpg",rT=Object.freeze(Object.defineProperty({__proto__:null,default:nS},Symbol.toStringTag,{value:"Module"})),iS="/Invitation/assets/gallery3-DBbQTIVG.jpg",aT=Object.freeze(Object.defineProperty({__proto__:null,default:iS},Symbol.toStringTag,{value:"Module"})),sS=Object.assign({"../assets/images/gallery1.jpg":sT,"../assets/images/gallery2.jpg":rT,"../assets/images/gallery3.jpg":aT}),zc=Object.values(sS).map(s=>s.default),oT=({forceUnlock:s=!1})=>{const[e,n]=fe.useState(null),r=fe.useRef(null);if(zc.length===0)return null;fe.useEffect(()=>{const f=r.current;if(f){const m=g=>{g.deltaY!==0&&(g.preventDefault(),f.scrollLeft+=g.deltaY)};return f.addEventListener("wheel",m),()=>f.removeEventListener("wheel",m)}},[]);const[l,u]=fe.useState([]);return fe.useEffect(()=>{if(s)return;const f=()=>{const m=JSON.parse(localStorage.getItem("wedding_collection")||"[]");u(m)};return f(),window.addEventListener("storage",f),window.addEventListener("collectionUpdated",f),()=>{window.removeEventListener("storage",f),window.removeEventListener("collectionUpdated",f)}},[s]),fe.useEffect(()=>{if(s)return;const f=JSON.parse(localStorage.getItem("wedding_collection")||"[]");u(f)},[zc,s]),E.jsxs("section",{id:"gallery",className:"py-20 bg-white text-center overflow-hidden",children:[E.jsxs("h2",{className:"text-sm text-primary tracking-[0.2em] font-bold mb-8 uppercase",children:["GALLERY ",s?"":`(${l.length}/${zc.length})`]}),E.jsx("div",{ref:r,className:"flex overflow-x-auto snap-x snap-mandatory gap-4 px-8 pb-8 scrollbar-hide",children:zc.map((f,m)=>{const g=s||l.includes(m);return E.jsxs("div",{className:"relative flex-none w-[85vw] md:w-[600px] snap-center rounded-xl overflow-hidden shadow-soft-md transition-transform hover:scale-[1.02] duration-300",onClick:()=>g&&n(f),children:[E.jsx("div",{className:"w-full aspect-[3/4] md:aspect-[16/9]",children:E.jsx("img",{src:f,alt:`Gallery ${m+1}`,className:`w-full h-full object-cover transition-all duration-500 ${g?"cursor-pointer hover:brightness-110":"blur-xl grayscale cursor-not-allowed"}`})}),!g&&E.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/40 text-white z-10 backdrop-blur-sm",children:[E.jsx("span",{className:"text-4xl mb-2",children:""}),E.jsx("span",{className:"text-sm font-medium tracking-wider",children:"LOCKED"})]})]},m)})}),e&&E.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/95 backdrop-blur-md p-4 animate-in fade-in duration-200",onClick:()=>n(null),children:[E.jsx("img",{src:e,alt:"Full view",className:"max-w-full max-h-[90vh] object-contain rounded-lg shadow-2xl"}),E.jsx("button",{className:"absolute top-4 right-4 text-white hover:text-gray-300 transition-colors",children:E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})},rS=()=>E.jsxs("section",{className:"py-20 px-6 bg-white text-center",children:[E.jsx("h2",{className:"text-sm text-primary tracking-[0.2em] font-bold mb-10 uppercase",children:"VIDEO"}),E.jsx("div",{className:"max-w-4xl mx-auto w-full aspect-video rounded-xl overflow-hidden shadow-soft-xl bg-black",children:E.jsx("iframe",{className:"w-full h-full",src:"https://www.youtube.com/embed/2Vv-BfVoq4g",title:"Wedding Video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})})]}),lT=()=>{const s="https://naver.me/x7ndUhZi",e="https://place.map.kakao.com/25447779",n=r=>{window.open(r,"_blank")};return E.jsxs("section",{className:"py-20 px-6 bg-white text-center",children:[E.jsx("h2",{className:"text-sm text-cta tracking-[0.2em] font-bold mb-8 uppercase",children:"Location"}),E.jsx("div",{className:"max-w-4xl mx-auto mb-10 rounded-xl overflow-hidden shadow-soft-md border border-gray-100",children:E.jsx("iframe",{src:"https://maps.google.com/maps?q=%20%20&t=&z=17&ie=UTF8&iwloc=&output=embed",className:"w-full h-[400px]",frameBorder:"0",title:"Google Map",loading:"lazy",allowFullScreen:!0})}),E.jsxs("div",{className:"mb-10 space-y-2",children:[E.jsx("strong",{className:"block text-2xl md:text-3xl text-text font-serif mb-2",children:"   7 "}),E.jsx("p",{className:"text-gray-600 font-body text-lg",children:"   4 140"}),E.jsx("p",{className:"text-gray-500 font-body",children:"Tel. 031-487-8100"})]}),E.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[E.jsxs("button",{className:"flex items-center gap-2 px-6 py-3 bg-[#03C75A] text-white rounded-full font-medium shadow-sm hover:shadow-md hover:-translate-y-0.5 transition-all text-sm md:text-base",onClick:()=>n(s),children:[E.jsx(aS,{}),"  "]}),E.jsxs("button",{className:"flex items-center gap-2 px-6 py-3 bg-[#FEE500] text-black rounded-full font-medium shadow-sm hover:shadow-md hover:-translate-y-0.5 transition-all text-sm md:text-base",onClick:()=>n(e),children:[E.jsx(oS,{}),"  "]})]})]})},aS=()=>E.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:E.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.4153 3H21V21H16.4153V10.7417L7.69231 21H3V3H7.69231V13.2519L16.4153 3Z",fill:"currentColor"})}),oS=()=>E.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:E.jsx("path",{d:"M12 3C6.47715 3 2 6.35786 2 10.5C2 13.1679 3.65685 15.5393 6.1875 16.9079L5.4375 19.6579C5.375 19.8766 5.5625 20.0641 5.78125 20.0016L9.625 19.0641C10.375 19.2829 11.1875 19.4079 12 19.4079C17.5228 19.4079 22 16.05 22 11.9079C22 7.76579 17.5228 4.40786 12 4.40786V3Z"})}),lS="/Invitation/assets/groom_sprites-C9FWbZGX.png",uS="/Invitation/assets/bride_sprites-CIfQIsBB.png",cS=()=>{};var _v={};const uT=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},hS=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const l=s[n++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[n++];e[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[n++],f=s[n++],m=s[n++],g=((l&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const u=s[n++],f=s[n++];e[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return e.join("")},cT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const u=s[l],f=l+1<s.length,m=f?s[l+1]:0,g=l+2<s.length,y=g?s[l+2]:0,b=u>>2,S=(u&3)<<4|m>>4;let I=(m&15)<<2|y>>6,F=y&63;g||(F=64,f||(I=64)),r.push(n[b],n[S],n[I],n[F])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(uT(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):hS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const u=n[s.charAt(l++)],m=l<s.length?n[s.charAt(l)]:0;++l;const y=l<s.length?n[s.charAt(l)]:64;++l;const S=l<s.length?n[s.charAt(l)]:64;if(++l,u==null||m==null||y==null||S==null)throw new fS;const I=u<<2|m>>4;if(r.push(I),y!==64){const F=m<<4&240|y>>2;if(r.push(F),S!==64){const J=y<<6&192|S;r.push(J)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class fS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dS=function(s){const e=uT(s);return cT.encodeByteArray(e,!0)},ih=function(s){return dS(s).replace(/\./g,"")},hT=function(s){try{return cT.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function mS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const pS=()=>mS().__FIREBASE_DEFAULTS__,gS=()=>{if(typeof process>"u"||typeof _v>"u")return;const s=_v.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},yS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&hT(s[1]);return e&&JSON.parse(e)},Sh=()=>{try{return cS()||pS()||gS()||yS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},fT=s=>Sh()?.emulatorHosts?.[s],_S=s=>{const e=fT(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},dT=()=>Sh()?.config,mT=s=>Sh()?.[`_${s}`];class vS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function vo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pT(s){return(await fetch(s,{credentials:"include"})).ok}function TS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[ih(JSON.stringify(n)),ih(JSON.stringify(f)),""].join(".")}const jl={};function ES(){const s={prod:[],emulator:[]};for(const e of Object.keys(jl))jl[e]?s.emulator.push(e):s.prod.push(e);return s}function bS(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let vv=!1;function gT(s,e){if(typeof window>"u"||typeof document>"u"||!vo(window.location.host)||jl[s]===e||jl[s]||vv)return;jl[s]=e;function n(I){return`__firebase__banner__${I}`}const r="__firebase__banner",u=ES().prod.length>0;function f(){const I=document.getElementById(r);I&&I.remove()}function m(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function g(I,F){I.setAttribute("width","24"),I.setAttribute("id",F),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function y(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{vv=!0,f()},I}function b(I,F){I.setAttribute("id",F),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function S(){const I=bS(r),F=n("text"),J=document.getElementById(F)||document.createElement("span"),ee=n("learnmore"),te=document.getElementById(ee)||document.createElement("a"),le=n("preprendIcon"),Ee=document.getElementById(le)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const ye=I.element;m(ye),b(te,ee);const ve=y();g(Ee,le),ye.append(Ee,J,te,ve),document.body.appendChild(ye)}u?(J.innerText="Preview backend disconnected.",Ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function SS(){const s=Sh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yT(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function xS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IS(){const s=Zt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function RS(){return!SS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _T(){try{return typeof indexedDB=="object"}catch{return!1}}function vT(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(n){e(n)}})}function CS(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const NS="FirebaseError";class ii extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=NS,Object.setPrototypeOf(this,ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ta.prototype.create)}}class ta{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],f=u?DS(u,r):"Error",m=`${this.serviceName}: ${f} (${l}).`;return new ii(l,m,r)}}function DS(s,e){return s.replace(OS,(n,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const OS=/\{\$([^}]+)}/g;function MS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function rs(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const l of n){if(!r.includes(l))return!1;const u=s[l],f=e[l];if(Tv(u)&&Tv(f)){if(!rs(u,f))return!1}else if(u!==f)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function Tv(s){return s!==null&&typeof s=="object"}function Wl(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function VS(s,e){const n=new kS(s,e);return n.subscribe.bind(n)}class kS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let l;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");LS(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:r},l.next===void 0&&(l.next=Wd),l.error===void 0&&(l.error=Wd),l.complete===void 0&&(l.complete=Wd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LS(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function Wd(){}const US=1e3,jS=2,PS=14400*1e3,zS=.5;function Ev(s,e=US,n=jS){const r=e*Math.pow(n,s),l=Math.round(zS*r*(Math.random()-.5)*2);return Math.min(PS,r+l)}function Nt(s){return s&&s._delegate?s._delegate:s}class ti{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Gr="[DEFAULT]";class BS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new vS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HS(e))try{this.getOrInitializeService({instanceIdentifier:Gr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(e=Gr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gr){return this.instances.has(e)}getOptions(e=Gr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&f.resolve(l)}return l}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const u=this.instances.get(r);return u&&e(u,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qS(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Gr){return this.component?this.component.multipleInstances?e:Gr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qS(s){return s===Gr?void 0:s}function HS(s){return s.instantiationMode==="EAGER"}class FS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new BS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Le;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Le||(Le={}));const GS={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},YS=Le.INFO,KS={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},QS=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=KS[e];if(l)console[l](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wh{constructor(e){this.name=e,this._logLevel=YS,this._logHandler=QS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const XS=(s,e)=>e.some(n=>s instanceof n);let bv,Av;function $S(){return bv||(bv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JS(){return Av||(Av=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TT=new WeakMap,pm=new WeakMap,ET=new WeakMap,em=new WeakMap,qm=new WeakMap;function ZS(s){const e=new Promise((n,r)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{n(Zs(s.result)),l()},f=()=>{r(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&TT.set(n,s)}).catch(()=>{}),qm.set(e,s),e}function WS(s){if(pm.has(s))return;const e=new Promise((n,r)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{n(),l()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});pm.set(s,e)}let gm={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return pm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||ET.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zs(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function ew(s){gm=s(gm)}function tw(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(tm(this),e,...n);return ET.set(r,e.sort?e.sort():[e]),Zs(r)}:JS().includes(s)?function(...e){return s.apply(tm(this),e),Zs(TT.get(this))}:function(...e){return Zs(s.apply(tm(this),e))}}function nw(s){return typeof s=="function"?tw(s):(s instanceof IDBTransaction&&WS(s),XS(s,$S())?new Proxy(s,gm):s)}function Zs(s){if(s instanceof IDBRequest)return ZS(s);if(em.has(s))return em.get(s);const e=nw(s);return e!==s&&(em.set(s,e),qm.set(e,s)),e}const tm=s=>qm.get(s);function bT(s,e,{blocked:n,upgrade:r,blocking:l,terminated:u}={}){const f=indexedDB.open(s,e),m=Zs(f);return r&&f.addEventListener("upgradeneeded",g=>{r(Zs(f.result),g.oldVersion,g.newVersion,Zs(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const iw=["get","getKey","getAll","getAllKeys","count"],sw=["put","add","delete","clear"],nm=new Map;function Sv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(nm.get(e))return nm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,l=sw.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||iw.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,l?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),l&&g.done]))[0]};return nm.set(e,u),u}ew(s=>({...s,get:(e,n,r)=>Sv(e,n)||s.get(e,n,r),has:(e,n)=>!!Sv(e,n)||s.has(e,n)}));class rw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aw(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function aw(s){return s.getComponent()?.type==="VERSION"}const ym="@firebase/app",wv="0.14.7";const as=new wh("@firebase/app"),ow="@firebase/app-compat",lw="@firebase/analytics-compat",uw="@firebase/analytics",cw="@firebase/app-check-compat",hw="@firebase/app-check",fw="@firebase/auth",dw="@firebase/auth-compat",mw="@firebase/database",pw="@firebase/data-connect",gw="@firebase/database-compat",yw="@firebase/functions",_w="@firebase/functions-compat",vw="@firebase/installations",Tw="@firebase/installations-compat",Ew="@firebase/messaging",bw="@firebase/messaging-compat",Aw="@firebase/performance",Sw="@firebase/performance-compat",ww="@firebase/remote-config",xw="@firebase/remote-config-compat",Iw="@firebase/storage",Rw="@firebase/storage-compat",Cw="@firebase/firestore",Nw="@firebase/ai",Dw="@firebase/firestore-compat",Ow="firebase",Mw="12.8.0";const _m="[DEFAULT]",Vw={[ym]:"fire-core",[ow]:"fire-core-compat",[uw]:"fire-analytics",[lw]:"fire-analytics-compat",[hw]:"fire-app-check",[cw]:"fire-app-check-compat",[fw]:"fire-auth",[dw]:"fire-auth-compat",[mw]:"fire-rtdb",[pw]:"fire-data-connect",[gw]:"fire-rtdb-compat",[yw]:"fire-fn",[_w]:"fire-fn-compat",[vw]:"fire-iid",[Tw]:"fire-iid-compat",[Ew]:"fire-fcm",[bw]:"fire-fcm-compat",[Aw]:"fire-perf",[Sw]:"fire-perf-compat",[ww]:"fire-rc",[xw]:"fire-rc-compat",[Iw]:"fire-gcs",[Rw]:"fire-gcs-compat",[Cw]:"fire-fst",[Dw]:"fire-fst-compat",[Nw]:"fire-vertex","fire-js":"fire-js",[Ow]:"fire-js-all"};const sh=new Map,kw=new Map,vm=new Map;function xv(s,e){try{s.container.addComponent(e)}catch(n){as.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function Vi(s){const e=s.name;if(vm.has(e))return as.debug(`There were multiple attempts to register component ${e}.`),!1;vm.set(e,s);for(const n of sh.values())xv(n,s);for(const n of kw.values())xv(n,s);return!0}function na(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function Zn(s){return s==null?!1:s.settings!==void 0}const Lw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ws=new ta("app","Firebase",Lw);class Uw{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ti("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ws.create("app-deleted",{appName:this._name})}}const To=Mw;function AT(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:_m,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw Ws.create("bad-app-name",{appName:String(l)});if(n||(n=dT()),!n)throw Ws.create("no-options");const u=sh.get(l);if(u){if(rs(n,u.options)&&rs(r,u.config))return u;throw Ws.create("duplicate-app",{appName:l})}const f=new FS(l);for(const g of vm.values())f.addComponent(g);const m=new Uw(n,r,f);return sh.set(l,m),m}function Hm(s=_m){const e=sh.get(s);if(!e&&s===_m&&dT())return AT();if(!e)throw Ws.create("no-app",{appName:s});return e}function jn(s,e,n){let r=Vw[s]??s;n&&(r+=`-${n}`);const l=r.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const f=[`Unable to register library "${r}" with version "${e}":`];l&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),as.warn(f.join(" "));return}Vi(new ti(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const jw="firebase-heartbeat-database",Pw=1,Fl="firebase-heartbeat-store";let im=null;function ST(){return im||(im=bT(jw,Pw,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Fl)}catch(n){console.warn(n)}}}}).catch(s=>{throw Ws.create("idb-open",{originalErrorMessage:s.message})})),im}async function zw(s){try{const n=(await ST()).transaction(Fl),r=await n.objectStore(Fl).get(wT(s));return await n.done,r}catch(e){if(e instanceof ii)as.warn(e.message);else{const n=Ws.create("idb-get",{originalErrorMessage:e?.message});as.warn(n.message)}}}async function Iv(s,e){try{const r=(await ST()).transaction(Fl,"readwrite");await r.objectStore(Fl).put(e,wT(s)),await r.done}catch(n){if(n instanceof ii)as.warn(n.message);else{const r=Ws.create("idb-set",{originalErrorMessage:n?.message});as.warn(r.message)}}}function wT(s){return`${s.name}!${s.options.appId}`}const Bw=1024,qw=30;class Hw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Gw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Rv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>qw){const l=Yw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){as.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Rv(),{heartbeatsToSend:n,unsentEntries:r}=Fw(this._heartbeatsCache.heartbeats),l=ih(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return as.warn(e),""}}}function Rv(){return new Date().toISOString().substring(0,10)}function Fw(s,e=Bw){const n=[];let r=s.slice();for(const l of s){const u=n.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),Cv(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Cv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Gw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _T()?vT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await zw(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Iv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Iv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Cv(s){return ih(JSON.stringify({version:2,heartbeats:s})).length}function Yw(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}function Kw(s){Vi(new ti("platform-logger",e=>new rw(e),"PRIVATE")),Vi(new ti("heartbeat",e=>new Hw(e),"PRIVATE")),jn(ym,wv,s),jn(ym,wv,"esm2020"),jn("fire-js","")}Kw("");var Qw="firebase",Xw="12.8.0";jn(Qw,Xw,"app");const xT="@firebase/installations",Fm="0.6.19";const IT=1e4,RT=`w:${Fm}`,CT="FIS_v2",$w="https://firebaseinstallations.googleapis.com/v1",Jw=3600*1e3,Zw="installations",Ww="Installations";const e2={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},$r=new ta(Zw,Ww,e2);function NT(s){return s instanceof ii&&s.code.includes("request-failed")}function DT({projectId:s}){return`${$w}/projects/${s}/installations`}function OT(s){return{token:s.token,requestStatus:2,expiresIn:n2(s.expiresIn),creationTime:Date.now()}}async function MT(s,e){const r=(await e.json()).error;return $r.create("request-failed",{requestName:s,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function VT({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function t2(s,{refreshToken:e}){const n=VT(s);return n.append("Authorization",i2(e)),n}async function kT(s){const e=await s();return e.status>=500&&e.status<600?s():e}function n2(s){return Number(s.replace("s","000"))}function i2(s){return`${CT} ${s}`}async function s2({appConfig:s,heartbeatServiceProvider:e},{fid:n}){const r=DT(s),l=VT(s),u=e.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&l.append("x-firebase-client",y)}const f={fid:n,authVersion:CT,appId:s.appId,sdkVersion:RT},m={method:"POST",headers:l,body:JSON.stringify(f)},g=await kT(()=>fetch(r,m));if(g.ok){const y=await g.json();return{fid:y.fid||n,registrationStatus:2,refreshToken:y.refreshToken,authToken:OT(y.authToken)}}else throw await MT("Create Installation",g)}function LT(s){return new Promise(e=>{setTimeout(e,s)})}function r2(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}const a2=/^[cdef][\w-]{21}$/,Tm="";function o2(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const n=l2(s);return a2.test(n)?n:Tm}catch{return Tm}}function l2(s){return r2(s).substr(0,22)}function xh(s){return`${s.appName}!${s.appId}`}const UT=new Map;function jT(s,e){const n=xh(s);PT(n,e),u2(n,e)}function PT(s,e){const n=UT.get(s);if(n)for(const r of n)r(e)}function u2(s,e){const n=c2();n&&n.postMessage({key:s,fid:e}),h2()}let Yr=null;function c2(){return!Yr&&"BroadcastChannel"in self&&(Yr=new BroadcastChannel("[Firebase] FID Change"),Yr.onmessage=s=>{PT(s.data.key,s.data.fid)}),Yr}function h2(){UT.size===0&&Yr&&(Yr.close(),Yr=null)}const f2="firebase-installations-database",d2=1,Jr="firebase-installations-store";let sm=null;function Gm(){return sm||(sm=bT(f2,d2,{upgrade:(s,e)=>{e===0&&s.createObjectStore(Jr)}})),sm}async function rh(s,e){const n=xh(s),l=(await Gm()).transaction(Jr,"readwrite"),u=l.objectStore(Jr),f=await u.get(n);return await u.put(e,n),await l.done,(!f||f.fid!==e.fid)&&jT(s,e.fid),e}async function zT(s){const e=xh(s),r=(await Gm()).transaction(Jr,"readwrite");await r.objectStore(Jr).delete(e),await r.done}async function Ih(s,e){const n=xh(s),l=(await Gm()).transaction(Jr,"readwrite"),u=l.objectStore(Jr),f=await u.get(n),m=e(f);return m===void 0?await u.delete(n):await u.put(m,n),await l.done,m&&(!f||f.fid!==m.fid)&&jT(s,m.fid),m}async function Ym(s){let e;const n=await Ih(s.appConfig,r=>{const l=m2(r),u=p2(s,l);return e=u.registrationPromise,u.installationEntry});return n.fid===Tm?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function m2(s){const e=s||{fid:o2(),registrationStatus:0};return BT(e)}function p2(s,e){if(e.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject($r.create("app-offline"));return{installationEntry:e,registrationPromise:l}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=g2(s,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:y2(s)}:{installationEntry:e}}async function g2(s,e){try{const n=await s2(s,e);return rh(s.appConfig,n)}catch(n){throw NT(n)&&n.customData.serverCode===409?await zT(s.appConfig):await rh(s.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function y2(s){let e=await Nv(s.appConfig);for(;e.registrationStatus===1;)await LT(100),e=await Nv(s.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Ym(s);return r||n}return e}function Nv(s){return Ih(s,e=>{if(!e)throw $r.create("installation-not-found");return BT(e)})}function BT(s){return _2(s)?{fid:s.fid,registrationStatus:0}:s}function _2(s){return s.registrationStatus===1&&s.registrationTime+IT<Date.now()}async function v2({appConfig:s,heartbeatServiceProvider:e},n){const r=T2(s,n),l=t2(s,n),u=e.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&l.append("x-firebase-client",y)}const f={installation:{sdkVersion:RT,appId:s.appId}},m={method:"POST",headers:l,body:JSON.stringify(f)},g=await kT(()=>fetch(r,m));if(g.ok){const y=await g.json();return OT(y)}else throw await MT("Generate Auth Token",g)}function T2(s,{fid:e}){return`${DT(s)}/${e}/authTokens:generate`}async function Km(s,e=!1){let n;const r=await Ih(s.appConfig,u=>{if(!qT(u))throw $r.create("not-registered");const f=u.authToken;if(!e&&A2(f))return u;if(f.requestStatus===1)return n=E2(s,e),u;{if(!navigator.onLine)throw $r.create("app-offline");const m=w2(u);return n=b2(s,m),m}});return n?await n:r.authToken}async function E2(s,e){let n=await Dv(s.appConfig);for(;n.authToken.requestStatus===1;)await LT(100),n=await Dv(s.appConfig);const r=n.authToken;return r.requestStatus===0?Km(s,e):r}function Dv(s){return Ih(s,e=>{if(!qT(e))throw $r.create("not-registered");const n=e.authToken;return x2(n)?{...e,authToken:{requestStatus:0}}:e})}async function b2(s,e){try{const n=await v2(s,e),r={...e,authToken:n};return await rh(s.appConfig,r),n}catch(n){if(NT(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await zT(s.appConfig);else{const r={...e,authToken:{requestStatus:0}};await rh(s.appConfig,r)}throw n}}function qT(s){return s!==void 0&&s.registrationStatus===2}function A2(s){return s.requestStatus===2&&!S2(s)}function S2(s){const e=Date.now();return e<s.creationTime||s.creationTime+s.expiresIn<e+Jw}function w2(s){const e={requestStatus:1,requestTime:Date.now()};return{...s,authToken:e}}function x2(s){return s.requestStatus===1&&s.requestTime+IT<Date.now()}async function I2(s){const e=s,{installationEntry:n,registrationPromise:r}=await Ym(e);return r?r.catch(console.error):Km(e).catch(console.error),n.fid}async function R2(s,e=!1){const n=s;return await C2(n),(await Km(n,e)).token}async function C2(s){const{registrationPromise:e}=await Ym(s);e&&await e}function N2(s){if(!s||!s.options)throw rm("App Configuration");if(!s.name)throw rm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!s.options[n])throw rm(n);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function rm(s){return $r.create("missing-app-config-values",{valueName:s})}const HT="installations",D2="installations-internal",O2=s=>{const e=s.getProvider("app").getImmediate(),n=N2(e),r=na(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},M2=s=>{const e=s.getProvider("app").getImmediate(),n=na(e,HT).getImmediate();return{getId:()=>I2(n),getToken:l=>R2(n,l)}};function V2(){Vi(new ti(HT,O2,"PUBLIC")),Vi(new ti(D2,M2,"PRIVATE"))}V2();jn(xT,Fm);jn(xT,Fm,"esm2020");const ah="analytics",k2="firebase_id",L2="origin",U2=60*1e3,j2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Qm="https://www.googletagmanager.com/gtag/js";const nn=new wh("@firebase/analytics");const P2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},An=new ta("analytics","Analytics",P2);function z2(s){if(!s.startsWith(Qm)){const e=An.create("invalid-gtag-resource",{gtagURL:s});return nn.warn(e.message),""}return s}function FT(s){return Promise.all(s.map(e=>e.catch(n=>n)))}function B2(s,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(s,e)),n}function q2(s,e){const n=B2("firebase-js-sdk-policy",{createScriptURL:z2}),r=document.createElement("script"),l=`${Qm}?l=${s}&id=${e}`;r.src=n?n?.createScriptURL(l):l,r.async=!0,document.head.appendChild(r)}function H2(s){let e=[];return Array.isArray(window[s])?e=window[s]:window[s]=e,e}async function F2(s,e,n,r,l,u){const f=r[l];try{if(f)await e[f];else{const g=(await FT(n)).find(y=>y.measurementId===l);g&&await e[g.appId]}}catch(m){nn.error(m)}s("config",l,u)}async function G2(s,e,n,r,l){try{let u=[];if(l&&l.send_to){let f=l.send_to;Array.isArray(f)||(f=[f]);const m=await FT(n);for(const g of f){const y=m.find(S=>S.measurementId===g),b=y&&e[y.appId];if(b)u.push(b);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),s("event",r,l||{})}catch(u){nn.error(u)}}function Y2(s,e,n,r){async function l(u,...f){try{if(u==="event"){const[m,g]=f;await G2(s,e,n,m,g)}else if(u==="config"){const[m,g]=f;await F2(s,e,n,r,m,g)}else if(u==="consent"){const[m,g]=f;s("consent",m,g)}else if(u==="get"){const[m,g,y]=f;s("get",m,g,y)}else if(u==="set"){const[m]=f;s("set",m)}else s(u,...f)}catch(m){nn.error(m)}}return l}function K2(s,e,n,r,l){let u=function(...f){window[r].push(arguments)};return window[l]&&typeof window[l]=="function"&&(u=window[l]),window[l]=Y2(u,s,e,n),{gtagCore:u,wrappedGtag:window[l]}}function Q2(s){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Qm)&&n.src.includes(s))return n;return null}const X2=30,$2=1e3;class J2{constructor(e={},n=$2){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const GT=new J2;function Z2(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function W2(s){const{appId:e,apiKey:n}=s,r={method:"GET",headers:Z2(n)},l=j2.replace("{app-id}",e),u=await fetch(l,r);if(u.status!==200&&u.status!==304){let f="";try{const m=await u.json();m.error?.message&&(f=m.error.message)}catch{}throw An.create("config-fetch-failed",{httpStatus:u.status,responseMessage:f})}return u.json()}async function ex(s,e=GT,n){const{appId:r,apiKey:l,measurementId:u}=s.options;if(!r)throw An.create("no-app-id");if(!l){if(u)return{measurementId:u,appId:r};throw An.create("no-api-key")}const f=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new ix;return setTimeout(async()=>{m.abort()},U2),YT({appId:r,apiKey:l,measurementId:u},f,m,e)}async function YT(s,{throttleEndTimeMillis:e,backoffCount:n},r,l=GT){const{appId:u,measurementId:f}=s;try{await tx(r,e)}catch(m){if(f)return nn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:u,measurementId:f};throw m}try{const m=await W2(s);return l.deleteThrottleMetadata(u),m}catch(m){const g=m;if(!nx(g)){if(l.deleteThrottleMetadata(u),f)return nn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:u,measurementId:f};throw m}const y=Number(g?.customData?.httpStatus)===503?Ev(n,l.intervalMillis,X2):Ev(n,l.intervalMillis),b={throttleEndTimeMillis:Date.now()+y,backoffCount:n+1};return l.setThrottleMetadata(u,b),nn.debug(`Calling attemptFetch again in ${y} millis`),YT(s,b,r,l)}}function tx(s,e){return new Promise((n,r)=>{const l=Math.max(e-Date.now(),0),u=setTimeout(n,l);s.addEventListener(()=>{clearTimeout(u),r(An.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function nx(s){if(!(s instanceof ii)||!s.customData)return!1;const e=Number(s.customData.httpStatus);return e===429||e===500||e===503||e===504}class ix{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function sx(s,e,n,r,l){if(l&&l.global){s("event",n,r);return}else{const u=await e,f={...r,send_to:u};s("event",n,f)}}async function rx(s,e,n,r){if(r&&r.global){const l={};for(const u of Object.keys(n))l[`user_properties.${u}`]=n[u];return s("set",l),Promise.resolve()}else{const l=await e;s("config",l,{update:!0,user_properties:n})}}async function ax(){if(_T())try{await vT()}catch(s){return nn.warn(An.create("indexeddb-unavailable",{errorInfo:s?.toString()}).message),!1}else return nn.warn(An.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function ox(s,e,n,r,l,u,f){const m=ex(s);m.then(I=>{n[I.measurementId]=I.appId,s.options.measurementId&&I.measurementId!==s.options.measurementId&&nn.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${I.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(I=>nn.error(I)),e.push(m);const g=ax().then(I=>{if(I)return r.getId()}),[y,b]=await Promise.all([m,g]);Q2(u)||q2(u,y.measurementId),l("js",new Date);const S=f?.config??{};return S[L2]="firebase",S.update=!0,b!=null&&(S[k2]=b),l("config",y.measurementId,S),y.measurementId}class lx{constructor(e){this.app=e}_delete(){return delete no[this.app.options.appId],Promise.resolve()}}let no={},Ov=[];const Mv={};let am="dataLayer",ux="gtag",Vv,Xm,kv=!1;function cx(){const s=[];if(yT()&&s.push("This is a browser extension environment."),CS()||s.push("Cookies are not available."),s.length>0){const e=s.map((r,l)=>`(${l+1}) ${r}`).join(" "),n=An.create("invalid-analytics-context",{errorInfo:e});nn.warn(n.message)}}function hx(s,e,n){cx();const r=s.options.appId;if(!r)throw An.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)nn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw An.create("no-api-key");if(no[r]!=null)throw An.create("already-exists",{id:r});if(!kv){H2(am);const{wrappedGtag:u,gtagCore:f}=K2(no,Ov,Mv,am,ux);Xm=u,Vv=f,kv=!0}return no[r]=ox(s,Ov,Mv,e,Vv,am,n),new lx(s)}function fx(s=Hm()){s=Nt(s);const e=na(s,ah);return e.isInitialized()?e.getImmediate():dx(s)}function dx(s,e={}){const n=na(s,ah);if(n.isInitialized()){const l=n.getImmediate();if(rs(e,n.getOptions()))return l;throw An.create("already-initialized")}return n.initialize({options:e})}function mx(s,e,n){s=Nt(s),rx(Xm,no[s.app.options.appId],e,n).catch(r=>nn.error(r))}function px(s,e,n,r){s=Nt(s),sx(Xm,no[s.app.options.appId],e,n,r).catch(l=>nn.error(l))}const Lv="@firebase/analytics",Uv="0.10.19";function gx(){Vi(new ti(ah,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("installations-internal").getImmediate();return hx(r,l,n)},"PUBLIC")),Vi(new ti("analytics-internal",s,"PRIVATE")),jn(Lv,Uv),jn(Lv,Uv,"esm2020");function s(e){try{const n=e.getProvider(ah).getImmediate();return{logEvent:(r,l,u)=>px(n,r,l,u),setUserProperties:(r,l)=>mx(n,r,l)}}catch(n){throw An.create("interop-component-reg-failed",{reason:n})}}}gx();var jv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var er,KT;(function(){var s;function e(N,w){function x(){}x.prototype=w.prototype,N.F=w.prototype,N.prototype=new x,N.prototype.constructor=N,N.D=function(V,D,k){for(var R=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)R[ae-2]=arguments[ae];return w.prototype[D].apply(V,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,w,x){x||(x=0);const V=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)V[D]=w.charCodeAt(x++)|w.charCodeAt(x++)<<8|w.charCodeAt(x++)<<16|w.charCodeAt(x++)<<24;else for(D=0;D<16;++D)V[D]=w[x++]|w[x++]<<8|w[x++]<<16|w[x++]<<24;w=N.g[0],x=N.g[1],D=N.g[2];let k=N.g[3],R;R=w+(k^x&(D^k))+V[0]+3614090360&4294967295,w=x+(R<<7&4294967295|R>>>25),R=k+(D^w&(x^D))+V[1]+3905402710&4294967295,k=w+(R<<12&4294967295|R>>>20),R=D+(x^k&(w^x))+V[2]+606105819&4294967295,D=k+(R<<17&4294967295|R>>>15),R=x+(w^D&(k^w))+V[3]+3250441966&4294967295,x=D+(R<<22&4294967295|R>>>10),R=w+(k^x&(D^k))+V[4]+4118548399&4294967295,w=x+(R<<7&4294967295|R>>>25),R=k+(D^w&(x^D))+V[5]+1200080426&4294967295,k=w+(R<<12&4294967295|R>>>20),R=D+(x^k&(w^x))+V[6]+2821735955&4294967295,D=k+(R<<17&4294967295|R>>>15),R=x+(w^D&(k^w))+V[7]+4249261313&4294967295,x=D+(R<<22&4294967295|R>>>10),R=w+(k^x&(D^k))+V[8]+1770035416&4294967295,w=x+(R<<7&4294967295|R>>>25),R=k+(D^w&(x^D))+V[9]+2336552879&4294967295,k=w+(R<<12&4294967295|R>>>20),R=D+(x^k&(w^x))+V[10]+4294925233&4294967295,D=k+(R<<17&4294967295|R>>>15),R=x+(w^D&(k^w))+V[11]+2304563134&4294967295,x=D+(R<<22&4294967295|R>>>10),R=w+(k^x&(D^k))+V[12]+1804603682&4294967295,w=x+(R<<7&4294967295|R>>>25),R=k+(D^w&(x^D))+V[13]+4254626195&4294967295,k=w+(R<<12&4294967295|R>>>20),R=D+(x^k&(w^x))+V[14]+2792965006&4294967295,D=k+(R<<17&4294967295|R>>>15),R=x+(w^D&(k^w))+V[15]+1236535329&4294967295,x=D+(R<<22&4294967295|R>>>10),R=w+(D^k&(x^D))+V[1]+4129170786&4294967295,w=x+(R<<5&4294967295|R>>>27),R=k+(x^D&(w^x))+V[6]+3225465664&4294967295,k=w+(R<<9&4294967295|R>>>23),R=D+(w^x&(k^w))+V[11]+643717713&4294967295,D=k+(R<<14&4294967295|R>>>18),R=x+(k^w&(D^k))+V[0]+3921069994&4294967295,x=D+(R<<20&4294967295|R>>>12),R=w+(D^k&(x^D))+V[5]+3593408605&4294967295,w=x+(R<<5&4294967295|R>>>27),R=k+(x^D&(w^x))+V[10]+38016083&4294967295,k=w+(R<<9&4294967295|R>>>23),R=D+(w^x&(k^w))+V[15]+3634488961&4294967295,D=k+(R<<14&4294967295|R>>>18),R=x+(k^w&(D^k))+V[4]+3889429448&4294967295,x=D+(R<<20&4294967295|R>>>12),R=w+(D^k&(x^D))+V[9]+568446438&4294967295,w=x+(R<<5&4294967295|R>>>27),R=k+(x^D&(w^x))+V[14]+3275163606&4294967295,k=w+(R<<9&4294967295|R>>>23),R=D+(w^x&(k^w))+V[3]+4107603335&4294967295,D=k+(R<<14&4294967295|R>>>18),R=x+(k^w&(D^k))+V[8]+1163531501&4294967295,x=D+(R<<20&4294967295|R>>>12),R=w+(D^k&(x^D))+V[13]+2850285829&4294967295,w=x+(R<<5&4294967295|R>>>27),R=k+(x^D&(w^x))+V[2]+4243563512&4294967295,k=w+(R<<9&4294967295|R>>>23),R=D+(w^x&(k^w))+V[7]+1735328473&4294967295,D=k+(R<<14&4294967295|R>>>18),R=x+(k^w&(D^k))+V[12]+2368359562&4294967295,x=D+(R<<20&4294967295|R>>>12),R=w+(x^D^k)+V[5]+4294588738&4294967295,w=x+(R<<4&4294967295|R>>>28),R=k+(w^x^D)+V[8]+2272392833&4294967295,k=w+(R<<11&4294967295|R>>>21),R=D+(k^w^x)+V[11]+1839030562&4294967295,D=k+(R<<16&4294967295|R>>>16),R=x+(D^k^w)+V[14]+4259657740&4294967295,x=D+(R<<23&4294967295|R>>>9),R=w+(x^D^k)+V[1]+2763975236&4294967295,w=x+(R<<4&4294967295|R>>>28),R=k+(w^x^D)+V[4]+1272893353&4294967295,k=w+(R<<11&4294967295|R>>>21),R=D+(k^w^x)+V[7]+4139469664&4294967295,D=k+(R<<16&4294967295|R>>>16),R=x+(D^k^w)+V[10]+3200236656&4294967295,x=D+(R<<23&4294967295|R>>>9),R=w+(x^D^k)+V[13]+681279174&4294967295,w=x+(R<<4&4294967295|R>>>28),R=k+(w^x^D)+V[0]+3936430074&4294967295,k=w+(R<<11&4294967295|R>>>21),R=D+(k^w^x)+V[3]+3572445317&4294967295,D=k+(R<<16&4294967295|R>>>16),R=x+(D^k^w)+V[6]+76029189&4294967295,x=D+(R<<23&4294967295|R>>>9),R=w+(x^D^k)+V[9]+3654602809&4294967295,w=x+(R<<4&4294967295|R>>>28),R=k+(w^x^D)+V[12]+3873151461&4294967295,k=w+(R<<11&4294967295|R>>>21),R=D+(k^w^x)+V[15]+530742520&4294967295,D=k+(R<<16&4294967295|R>>>16),R=x+(D^k^w)+V[2]+3299628645&4294967295,x=D+(R<<23&4294967295|R>>>9),R=w+(D^(x|~k))+V[0]+4096336452&4294967295,w=x+(R<<6&4294967295|R>>>26),R=k+(x^(w|~D))+V[7]+1126891415&4294967295,k=w+(R<<10&4294967295|R>>>22),R=D+(w^(k|~x))+V[14]+2878612391&4294967295,D=k+(R<<15&4294967295|R>>>17),R=x+(k^(D|~w))+V[5]+4237533241&4294967295,x=D+(R<<21&4294967295|R>>>11),R=w+(D^(x|~k))+V[12]+1700485571&4294967295,w=x+(R<<6&4294967295|R>>>26),R=k+(x^(w|~D))+V[3]+2399980690&4294967295,k=w+(R<<10&4294967295|R>>>22),R=D+(w^(k|~x))+V[10]+4293915773&4294967295,D=k+(R<<15&4294967295|R>>>17),R=x+(k^(D|~w))+V[1]+2240044497&4294967295,x=D+(R<<21&4294967295|R>>>11),R=w+(D^(x|~k))+V[8]+1873313359&4294967295,w=x+(R<<6&4294967295|R>>>26),R=k+(x^(w|~D))+V[15]+4264355552&4294967295,k=w+(R<<10&4294967295|R>>>22),R=D+(w^(k|~x))+V[6]+2734768916&4294967295,D=k+(R<<15&4294967295|R>>>17),R=x+(k^(D|~w))+V[13]+1309151649&4294967295,x=D+(R<<21&4294967295|R>>>11),R=w+(D^(x|~k))+V[4]+4149444226&4294967295,w=x+(R<<6&4294967295|R>>>26),R=k+(x^(w|~D))+V[11]+3174756917&4294967295,k=w+(R<<10&4294967295|R>>>22),R=D+(w^(k|~x))+V[2]+718787259&4294967295,D=k+(R<<15&4294967295|R>>>17),R=x+(k^(D|~w))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+k&4294967295}r.prototype.v=function(N,w){w===void 0&&(w=N.length);const x=w-this.blockSize,V=this.C;let D=this.h,k=0;for(;k<w;){if(D==0)for(;k<=x;)l(this,N,k),k+=this.blockSize;if(typeof N=="string"){for(;k<w;)if(V[D++]=N.charCodeAt(k++),D==this.blockSize){l(this,V),D=0;break}}else for(;k<w;)if(V[D++]=N[k++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=w},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var x=N.length-8;x<N.length;++x)N[x]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,x=0;x<4;++x)for(let V=0;V<32;V+=8)N[w++]=this.g[x]>>>V&255;return N};function u(N,w){var x=m;return Object.prototype.hasOwnProperty.call(x,N)?x[N]:x[N]=w(N)}function f(N,w){this.h=w;const x=[];let V=!0;for(let D=N.length-1;D>=0;D--){const k=N[D]|0;V&&k==w||(x[D]=k,V=!1)}this.g=x}var m={};function g(N){return-128<=N&&N<128?u(N,function(w){return new f([w|0],w<0?-1:0)}):new f([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return te(y(-N));const w=[];let x=1;for(let V=0;N>=x;V++)w[V]=N/x|0,x*=4294967296;return new f(w,0)}function b(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return te(b(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=y(Math.pow(w,8));let V=S;for(let k=0;k<N.length;k+=8){var D=Math.min(8,N.length-k);const R=parseInt(N.substring(k,k+D),w);D<8?(D=y(Math.pow(w,D)),V=V.j(D).add(y(R))):(V=V.j(x),V=V.add(y(R)))}return V}var S=g(0),I=g(1),F=g(16777216);s=f.prototype,s.m=function(){if(ee(this))return-te(this).m();let N=0,w=1;for(let x=0;x<this.g.length;x++){const V=this.i(x);N+=(V>=0?V:4294967296+V)*w,w*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(J(this))return"0";if(ee(this))return"-"+te(this).toString(N);const w=y(Math.pow(N,6));var x=this;let V="";for(;;){const D=ve(x,w).g;x=le(x,D.j(w));let k=((x.g.length>0?x.g[0]:x.h)>>>0).toString(N);if(x=D,J(x))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function J(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function ee(N){return N.h==-1}s.l=function(N){return N=le(this,N),ee(N)?-1:J(N)?0:1};function te(N){const w=N.g.length,x=[];for(let V=0;V<w;V++)x[V]=~N.g[V];return new f(x,~N.h).add(I)}s.abs=function(){return ee(this)?te(this):this},s.add=function(N){const w=Math.max(this.g.length,N.g.length),x=[];let V=0;for(let D=0;D<=w;D++){let k=V+(this.i(D)&65535)+(N.i(D)&65535),R=(k>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);V=R>>>16,k&=65535,R&=65535,x[D]=R<<16|k}return new f(x,x[x.length-1]&-2147483648?-1:0)};function le(N,w){return N.add(te(w))}s.j=function(N){if(J(this)||J(N))return S;if(ee(this))return ee(N)?te(this).j(te(N)):te(te(this).j(N));if(ee(N))return te(this.j(te(N)));if(this.l(F)<0&&N.l(F)<0)return y(this.m()*N.m());const w=this.g.length+N.g.length,x=[];for(var V=0;V<2*w;V++)x[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<N.g.length;D++){const k=this.i(V)>>>16,R=this.i(V)&65535,ae=N.i(D)>>>16,de=N.i(D)&65535;x[2*V+2*D]+=R*de,Ee(x,2*V+2*D),x[2*V+2*D+1]+=k*de,Ee(x,2*V+2*D+1),x[2*V+2*D+1]+=R*ae,Ee(x,2*V+2*D+1),x[2*V+2*D+2]+=k*ae,Ee(x,2*V+2*D+2)}for(N=0;N<w;N++)x[N]=x[2*N+1]<<16|x[2*N];for(N=w;N<2*w;N++)x[N]=0;return new f(x,0)};function Ee(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function ye(N,w){this.g=N,this.h=w}function ve(N,w){if(J(w))throw Error("division by zero");if(J(N))return new ye(S,S);if(ee(N))return w=ve(te(N),w),new ye(te(w.g),te(w.h));if(ee(w))return w=ve(N,te(w)),new ye(te(w.g),w.h);if(N.g.length>30){if(ee(N)||ee(w))throw Error("slowDivide_ only works with positive integers.");for(var x=I,V=w;V.l(N)<=0;)x=Ke(x),V=Ke(V);var D=Ne(x,1),k=Ne(V,1);for(V=Ne(V,2),x=Ne(x,2);!J(V);){var R=k.add(V);R.l(N)<=0&&(D=D.add(x),k=R),V=Ne(V,1),x=Ne(x,1)}return w=le(N,D.j(w)),new ye(D,w)}for(D=S;N.l(w)>=0;){for(x=Math.max(1,Math.floor(N.m()/w.m())),V=Math.ceil(Math.log(x)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=y(x),R=k.j(w);ee(R)||R.l(N)>0;)x-=V,k=y(x),R=k.j(w);J(k)&&(k=I),D=D.add(k),N=le(N,R)}return new ye(D,N)}s.B=function(N){return ve(this,N).h},s.and=function(N){const w=Math.max(this.g.length,N.g.length),x=[];for(let V=0;V<w;V++)x[V]=this.i(V)&N.i(V);return new f(x,this.h&N.h)},s.or=function(N){const w=Math.max(this.g.length,N.g.length),x=[];for(let V=0;V<w;V++)x[V]=this.i(V)|N.i(V);return new f(x,this.h|N.h)},s.xor=function(N){const w=Math.max(this.g.length,N.g.length),x=[];for(let V=0;V<w;V++)x[V]=this.i(V)^N.i(V);return new f(x,this.h^N.h)};function Ke(N){const w=N.g.length+1,x=[];for(let V=0;V<w;V++)x[V]=N.i(V)<<1|N.i(V-1)>>>31;return new f(x,N.h)}function Ne(N,w){const x=w>>5;w%=32;const V=N.g.length-x,D=[];for(let k=0;k<V;k++)D[k]=w>0?N.i(k+x)>>>w|N.i(k+x+1)<<32-w:N.i(k+x);return new f(D,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,KT=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=b,er=f}).apply(typeof jv<"u"?jv:typeof self<"u"?self:typeof window<"u"?window:{});var Bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var QT,Vl,XT,Kc,Em,$T,JT,ZT;(function(){var s,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bc=="object"&&Bc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function l(c,p){if(p)e:{var v=r;c=c.split(".");for(var A=0;A<c.length-1;A++){var j=c[A];if(!(j in v))break e;v=v[j]}c=c[c.length-1],A=v[c],p=p(A),p!=A&&p!=null&&e(v,c,{configurable:!0,writable:!0,value:p})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(p){var v=[],A;for(A in p)Object.prototype.hasOwnProperty.call(p,A)&&v.push([A,p[A]]);return v}});var u=u||{},f=this||self;function m(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function g(c,p,v){return c.call.apply(c.bind,arguments)}function y(c,p,v){return y=g,y.apply(null,arguments)}function b(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,p){function v(){}v.prototype=p.prototype,c.Z=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,j,q){for(var ne=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)ne[xe-2]=arguments[xe];return p.prototype[j].apply(A,ne)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function F(c){const p=c.length;if(p>0){const v=Array(p);for(let A=0;A<p;A++)v[A]=c[A];return v}return[]}function J(c,p){for(let A=1;A<arguments.length;A++){const j=arguments[A];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=c.length||0;const q=j.length||0;c.length=v+q;for(let ne=0;ne<q;ne++)c[v+ne]=j[ne]}else c.push(j)}}class ee{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function te(c){f.setTimeout(()=>{throw c},0)}function le(){var c=N;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class Ee{constructor(){this.h=this.g=null}add(p,v){const A=ye.get();A.set(p,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ye=new ee(()=>new ve,c=>c.reset());class ve{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ke,Ne=!1,N=new Ee,w=()=>{const c=Promise.resolve(void 0);Ke=()=>{c.then(x)}};function x(){for(var c;c=le();){try{c.h.call(c.g)}catch(v){te(v)}var p=ye;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}Ne=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,p),f.removeEventListener("test",v,p)}catch{}return c})();function R(c){return/^[\s\xa0]*$/.test(c)}function ae(c,p){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}S(ae,D),ae.prototype.init=function(c,p){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ae.Z.h.call(this)},ae.prototype.h=function(){ae.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var de="closure_listenable_"+(Math.random()*1e6|0),U=0;function W(c,p,v,A,j){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!A,this.ha=j,this.key=++U,this.da=this.fa=!1}function ce(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Z(c,p,v){for(const A in c)p.call(v,c[A],A,c)}function De(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function M(c){const p={};for(const v in c)p[v]=c[v];return p}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(c,p){let v,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(v in A)c[v]=A[v];for(let q=0;q<K.length;q++)v=K[q],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function re(c){this.src=c,this.g={},this.h=0}re.prototype.add=function(c,p,v,A,j){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const ne=Re(c,p,A,j);return ne>-1?(p=c[ne],v||(p.fa=!1)):(p=new W(p,this.src,q,!!A,j),p.fa=v,c.push(p)),p};function ge(c,p){const v=p.type;if(v in c.g){var A=c.g[v],j=Array.prototype.indexOf.call(A,p,void 0),q;(q=j>=0)&&Array.prototype.splice.call(A,j,1),q&&(ce(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Re(c,p,v,A){for(let j=0;j<c.length;++j){const q=c[j];if(!q.da&&q.listener==p&&q.capture==!!v&&q.ha==A)return j}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),Dt={};function at(c,p,v,A,j){if(Array.isArray(p)){for(let q=0;q<p.length;q++)at(c,p[q],v,A,j);return null}return v=Co(v),c&&c[de]?c.J(p,v,m(A)?!!A.capture:!1,j):dr(c,p,v,!1,A,j)}function dr(c,p,v,A,j,q){if(!p)throw Error("Invalid event type");const ne=m(j)?!!j.capture:!!j;let xe=mr(c);if(xe||(c[ze]=xe=new re(c)),v=xe.add(p,v,A,ne,q),v.proxy)return v;if(A=aa(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)k||(j=ne),j===void 0&&(j=!1),c.addEventListener(p.toString(),A,j);else if(c.attachEvent)c.attachEvent(si(p.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function aa(){function c(v){return p.call(c.src,c.listener,v)}const p=Io;return c}function oa(c,p,v,A,j){if(Array.isArray(p))for(var q=0;q<p.length;q++)oa(c,p[q],v,A,j);else A=m(A)?!!A.capture:!!A,v=Co(v),c&&c[de]?(c=c.i,q=String(p).toString(),q in c.g&&(p=c.g[q],v=Re(p,v,A,j),v>-1&&(ce(p[v]),Array.prototype.splice.call(p,v,1),p.length==0&&(delete c.g[q],c.h--)))):c&&(c=mr(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Re(p,v,A,j)),(v=c>-1?p[c]:null)&&la(v))}function la(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[de])ge(p.i,c);else{var v=c.type,A=c.proxy;p.removeEventListener?p.removeEventListener(v,A,c.capture):p.detachEvent?p.detachEvent(si(v),A):p.addListener&&p.removeListener&&p.removeListener(A),(v=mr(p))?(ge(v,c),v.h==0&&(v.src=null,p[ze]=null)):ce(c)}}}function si(c){return c in Dt?Dt[c]:Dt[c]="on"+c}function Io(c,p){if(c.da)c=!0;else{p=new ae(p,this);const v=c.listener,A=c.ha||c.src;c.fa&&la(c),c=v.call(A,p)}return c}function mr(c){return c=c[ze],c instanceof re?c:null}var Ro="__closure_events_fn_"+(Math.random()*1e9>>>0);function Co(c){return typeof c=="function"?c:(c[Ro]||(c[Ro]=function(p){return c.handleEvent(p)}),c[Ro])}function _t(){V.call(this),this.i=new re(this),this.M=this,this.G=null}S(_t,V),_t.prototype[de]=!0,_t.prototype.removeEventListener=function(c,p,v,A){oa(this,c,p,v,A)};function Ot(c,p){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=p.type||p,typeof p=="string")p=new D(p,c);else if(p instanceof D)p.target=p.target||c;else{var j=p;p=new D(A,c),ie(p,j)}j=!0;let q,ne;if(v)for(ne=v.length-1;ne>=0;ne--)q=p.g=v[ne],j=fs(q,A,!0,p)&&j;if(q=p.g=c,j=fs(q,A,!0,p)&&j,j=fs(q,A,!1,p)&&j,v)for(ne=0;ne<v.length;ne++)q=p.g=v[ne],j=fs(q,A,!1,p)&&j}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const v=c.g[p];for(let A=0;A<v.length;A++)ce(v[A]);delete c.g[p],c.h--}}this.G=null},_t.prototype.J=function(c,p,v,A){return this.i.add(String(c),p,!1,v,A)},_t.prototype.K=function(c,p,v,A){return this.i.add(String(c),p,!0,v,A)};function fs(c,p,v,A){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let j=!0;for(let q=0;q<p.length;++q){const ne=p[q];if(ne&&!ne.da&&ne.capture==v){const xe=ne.listener,dt=ne.ha||ne.src;ne.fa&&ge(c.i,ne),j=xe.call(dt,A)!==!1&&j}}return j&&!A.defaultPrevented}function Qh(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(c,p||0)}function hu(c){c.g=Qh(()=>{c.g=null,c.i&&(c.i=!1,hu(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Wt extends V{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:hu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pr(c){V.call(this),this.h=c,this.g={}}S(pr,V);var No=[];function Do(c){Z(c.g,function(p,v){this.g.hasOwnProperty(v)&&la(p)},c),c.g={}}pr.prototype.N=function(){pr.Z.N.call(this),Do(this)},pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ds=f.JSON.stringify,Xh=f.JSON.parse,fu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function du(){}function mu(){}var Pn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pt(){D.call(this,"d")}S(Pt,D);function Sn(){D.call(this,"c")}S(Sn,D);var ft={},pu=null;function ua(){return pu=pu||new _t}ft.Ia="serverreachability";function gu(c){D.call(this,ft.Ia,c)}S(gu,D);function ri(c){const p=ua();Ot(p,new gu(p))}ft.STAT_EVENT="statevent";function gr(c,p){D.call(this,ft.STAT_EVENT,c),this.stat=p}S(gr,D);function vt(c){const p=ua();Ot(p,new gr(p,c))}ft.Ja="timingevent";function ai(c,p){D.call(this,ft.Ja,c),this.size=p}S(ai,D);function oi(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},p)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function $h(c,p,v,A,j,q){c.info(function(){if(c.g)if(q){var ne="",xe=q.split("&");for(let Fe=0;Fe<xe.length;Fe++){var dt=xe[Fe].split("=");if(dt.length>1){const ot=dt[0];dt=dt[1];const Rn=ot.split("_");ne=Rn.length>=2&&Rn[1]=="type"?ne+(ot+"="+dt+"&"):ne+(ot+"=redacted&")}}}else ne=null;else ne=q;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+p+`
`+v+`
`+ne})}function yu(c,p,v,A,j,q,ne){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+p+`
`+v+`
`+q+" "+ne})}function li(c,p,v,A){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Jh(c,v)+(A?" "+A:"")})}function yr(c,p){c.info(function(){return"TIMEOUT: "+p})}zn.prototype.info=function(){};function Jh(c,p){if(!c.g)return p;if(!p)return null;try{const q=JSON.parse(p);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var v=q[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var j=A[0];if(j!="noop"&&j!="stop"&&j!="close")for(let ne=1;ne<A.length;ne++)A[ne]=""}}}}return ds(q)}catch{return p}}var _r={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Oo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Mo;function vr(){}S(vr,du),vr.prototype.g=function(){return new XMLHttpRequest},Mo=new vr;function Li(c){return encodeURIComponent(String(c))}function _u(c){var p=1;c=c.split(":");const v=[];for(;p>0&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function Bn(c,p,v,A){this.j=c,this.i=p,this.l=v,this.S=A||1,this.V=new pr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qn}function qn(){this.i=null,this.g="",this.h=!1}var Tt={},kt={};function ui(c,p,v){c.M=1,c.A=Tr(bt(p)),c.u=v,c.R=!0,ca(c,null)}function ca(c,p){c.F=Date.now(),ci(c),c.B=bt(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),ma(v.i,"t",A),c.C=0,v=c.j.L,c.h=new qn,c.g=Mu(c.j,v?p:null,!c.u),c.P>0&&(c.O=new Wt(y(c.Y,c,c.g),c.P)),p=c.V,v=c.g,A=c.ba;var j="readystatechange";Array.isArray(j)||(j&&(No[0]=j.toString()),j=No);for(let q=0;q<j.length;q++){const ne=at(v,j[q],A||p.handleEvent,!1,p.h||p);if(!ne)break;p.g[ne.key]=ne}p=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),ri(),$h(c.i,c.v,c.B,c.l,c.S,c.u)}Bn.prototype.ba=function(c){c=c.target;const p=this.O;p&&Gn(c)==3?p.j():this.Y(c)},Bn.prototype.Y=function(c){try{if(c==this.g)e:{const xe=Gn(this.g),dt=this.g.ya(),Fe=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||zt(this.g)))){this.K||xe!=4||dt==7||(dt==8||Fe<=0?ri(3):ri(2)),hi(this);var p=this.g.ca();this.X=p;var v=Zh(this);if(this.o=p==200,yu(this.i,this.v,this.B,this.l,this.S,xe,p),this.o){if(this.U&&!this.L){t:{if(this.g){var A,j=this.g;if((A=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var q=A;break t}}q=null}if(c=q)li(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fi(this,c);else{this.o=!1,this.m=3,vt(12),dn(this),wn(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<v.length;)if(ot=Tu(this,v),ot==kt){xe==4&&(this.m=4,vt(14),c=!1),li(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==Tt){this.m=4,vt(15),li(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else li(this.i,this.l,ot,null),fi(this,ot);if(vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||v.length!=0||this.h.h||(this.m=1,vt(16),c=!1),this.o=this.o&&c,!c)li(this.i,this.l,v,"[Invalid Chunked Response]"),dn(this),wn(this);else if(v.length>0&&!this.W){this.W=!0;var ne=this.j;ne.g==this&&ne.aa&&!ne.P&&(ne.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Qo(ne),ne.P=!0,vt(11))}}else li(this.i,this.l,v,null),fi(this,v);xe==4&&dn(this),this.o&&!this.K&&(xe==4?Cu(this.j,this):(this.o=!1,ci(this)))}else ji(this.g),p==400&&v.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),dn(this),wn(this)}}}catch{}};function Zh(c){if(!vu(c))return c.g.la();const p=zt(c.g);if(p==="")return"";let v="";const A=p.length,j=Gn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return dn(c),wn(c),"";c.h.i=new f.TextDecoder}for(let q=0;q<A;q++)c.h.h=!0,v+=c.h.i.decode(p[q],{stream:!(j&&q==A-1)});return p.length=0,c.h.g+=v,c.C=0,c.h.g}function vu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Tu(c,p){var v=c.C,A=p.indexOf(`
`,v);return A==-1?kt:(v=Number(p.substring(v,A)),isNaN(v)?Tt:(A+=1,A+v>p.length?kt:(p=p.slice(A,A+v),c.C=A+v,p)))}Bn.prototype.cancel=function(){this.K=!0,dn(this)};function ci(c){c.T=Date.now()+c.H,ha(c,c.H)}function ha(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=oi(y(c.aa,c),p)}function hi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Bn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(yr(this.i,this.B),this.M!=2&&(ri(),vt(17)),dn(this),this.m=2,wn(this)):ha(this,this.T-c)};function wn(c){c.j.I==0||c.K||Cu(c.j,c)}function dn(c){hi(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,Do(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function fi(c,p){try{var v=c.j;if(v.I!=0&&(v.g==c||mi(v.h,c))){if(!c.L&&mi(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)va(v),Es(v);else break e;Ir(v),vt(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=oi(y(v.Va,v),6e3));di(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ti(v,11)}else if((c.L||v.g==c)&&va(v),!R(p))for(j=v.Ba.g.parse(p),p=0;p<j.length;p++){let Fe=j[p];const ot=Fe[0];if(!(ot<=v.K))if(v.K=ot,Fe=Fe[1],v.I==2)if(Fe[0]=="c"){v.M=Fe[1],v.ba=Fe[2];const Rn=Fe[3];Rn!=null&&(v.ka=Rn,v.j.info("VER="+v.ka));const Ei=Fe[4];Ei!=null&&(v.za=Ei,v.j.info("SVER="+v.za));const Yn=Fe[5];Yn!=null&&typeof Yn=="number"&&Yn>0&&(A=1.5*Yn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Kn=c.g;if(Kn){const Rr=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rr){var q=A.h;q.g||Rr.indexOf("spdy")==-1&&Rr.indexOf("quic")==-1&&Rr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Lo(q,q.h),q.h=null))}if(A.G){const Ta=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ta&&(A.wa=Ta,Qe(A.J,A.G,Ta))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var ne=c;if(A.na=Ou(A,A.L?A.ba:null,A.W),ne.L){Uo(A.h,ne);var xe=ne,dt=A.O;dt&&(xe.H=dt),xe.D&&(hi(xe),ci(xe)),A.g=ne}else Iu(A);v.i.length>0&&vi(v)}else Fe[0]!="stop"&&Fe[0]!="close"||Ti(v,7);else v.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Ti(v,7):Yo(v):Fe[0]!="noop"&&v.l&&v.l.qa(Fe),v.A=0)}}ri(4)}catch{}}var Et=class{constructor(c,p){this.g=c,this.map=p}};function Vo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ko(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function di(c){return c.h?1:c.g?c.g.size:0}function mi(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Lo(c,p){c.g?c.g.add(p):c.h=p}function Uo(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Vo.prototype.cancel=function(){if(this.i=jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function jo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.G);return p}return F(c.i)}var Eu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fa(c,p){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let j,q=null;A>=0?(j=c[v].substring(0,A),q=c[v].substring(A+1)):j=c[v],p(j,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function mn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof mn?(this.l=c.l,Lt(this,c.j),this.o=c.o,this.g=c.g,ms(this,c.u),this.h=c.h,Po(this,wu(c.i)),this.m=c.m):c&&(p=String(c).match(Eu))?(this.l=!1,Lt(this,p[1]||"",!0),this.o=pi(p[2]||""),this.g=pi(p[3]||"",!0),ms(this,p[4]),this.h=pi(p[5]||"",!0),Po(this,p[6]||"",!0),this.m=pi(p[7]||"")):(this.l=!1,this.i=new gs(null,this.l))}mn.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(Er(p,da,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Er(p,da,!0),"@"),c.push(Li(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Er(v,v.charAt(0)=="/"?zo:bu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Er(v,Au)),c.join("")},mn.prototype.resolve=function(c){const p=bt(this);let v=!!c.j;v?Lt(p,c.j):v=!!c.o,v?p.o=c.o:v=!!c.g,v?p.g=c.g:v=c.u!=null;var A=c.h;if(v)ms(p,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var j=p.h.lastIndexOf("/");j!=-1&&(A=p.h.slice(0,j+1)+A)}if(j=A,j==".."||j==".")A="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){A=j.lastIndexOf("/",0)==0,j=j.split("/");const q=[];for(let ne=0;ne<j.length;){const xe=j[ne++];xe=="."?A&&ne==j.length&&q.push(""):xe==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),A&&ne==j.length&&q.push("")):(q.push(xe),A=!0)}A=q.join("/")}else A=j}return v?p.h=A:v=c.i.toString()!=="",v?Po(p,wu(c.i)):v=!!c.m,v&&(p.m=c.m),p};function bt(c){return new mn(c)}function Lt(c,p,v){c.j=v?pi(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function ms(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function Po(c,p,v){p instanceof gs?(c.i=p,pa(c.i,c.l)):(v||(p=Er(p,ps)),c.i=new gs(p,c.l))}function Qe(c,p,v){c.i.set(p,v)}function Tr(c){return Qe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function pi(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Er(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,sn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function sn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var da=/[#\/\?@]/g,bu=/[#\?:]/g,zo=/[#\?]/g,ps=/[#\?@]/g,Au=/#/g;function gs(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function rn(c){c.g||(c.g=new Map,c.h=0,c.i&&fa(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}s=gs.prototype,s.add=function(c,p){rn(this),this.i=null,c=ys(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function Su(c,p){rn(c),p=ys(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Bo(c,p){return rn(c),p=ys(c,p),c.g.has(p)}s.forEach=function(c,p){rn(this),this.g.forEach(function(v,A){v.forEach(function(j){c.call(p,j,A,this)},this)},this)};function qo(c,p){rn(c);let v=[];if(typeof p=="string")Bo(c,p)&&(v=v.concat(c.g.get(ys(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)v=v.concat(c[p]);return v}s.set=function(c,p){return rn(this),this.i=null,c=ys(this,c),Bo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},s.get=function(c,p){return c?(c=qo(this,c),c.length>0?String(c[0]):p):p};function ma(c,p,v){Su(c,p),v.length>0&&(c.i=null,c.g.set(ys(c,p),F(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let A=0;A<p.length;A++){var v=p[A];const j=Li(v);v=qo(this,v);for(let q=0;q<v.length;q++){let ne=j;v[q]!==""&&(ne+="="+Li(v[q])),c.push(ne)}}return this.i=c.join("&")};function wu(c){const p=new gs;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function ys(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function pa(c,p){p&&!c.j&&(rn(c),c.i=null,c.g.forEach(function(v,A){const j=A.toLowerCase();A!=j&&(Su(this,A),ma(this,j,v))},c)),c.j=p}function Hn(c,p){const v=new zn;if(f.Image){const A=new Image;A.onload=b(xn,v,"TestLoadImage: loaded",!0,p,A),A.onerror=b(xn,v,"TestLoadImage: error",!1,p,A),A.onabort=b(xn,v,"TestLoadImage: abort",!1,p,A),A.ontimeout=b(xn,v,"TestLoadImage: timeout",!1,p,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else p(!1)}function Ho(c,p){const v=new zn,A=new AbortController,j=setTimeout(()=>{A.abort(),xn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:A.signal}).then(q=>{clearTimeout(j),q.ok?xn(v,"TestPingServer: ok",!0,p):xn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(j),xn(v,"TestPingServer: error",!1,p)})}function xn(c,p,v,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(v)}catch{}}function _s(){this.g=new fu}function gi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(gi,du),gi.prototype.g=function(){return new br(this.i,this.h)};function br(c,p){_t.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(br,_t),s=br.prototype,s.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,Fn(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,vs(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ga(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ga(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?vs(this):Fn(this),this.readyState==3&&ga(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,vs(this))},s.Na=function(c){this.g&&(this.response=c,vs(this))},s.ga=function(){this.g&&vs(this)};function vs(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Fn(c)}s.setRequestHeader=function(c,p){this.A.append(c,p)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function Fn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(br.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function In(c){let p="";return Z(c,function(v,A){p+=A,p+=":",p+=v,p+=`\r
`}),p}function Ar(c,p,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=In(v),typeof c=="string"?v!=null&&Li(v):Qe(c,p,v))}function Je(c){_t.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Je,_t);var yi=/^https?$/i,Fo=["POST","PUT"];s=Je.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,p,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Mo.g(),this.g.onreadystatechange=I(y(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(q){Sr(this,q);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)v.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())v.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),j=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Fo,p,void 0)>=0)||A||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ne]of v)this.g.setRequestHeader(q,ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){Sr(this,q)}};function Sr(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,Go(c),Ui(c)}function Go(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ot(this,"complete"),Ot(this,"abort"),Ui(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ui(this,!0)),Je.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?wr(this):this.Xa())},s.Xa=function(){wr(this)};function wr(c){if(c.h&&typeof u<"u"){if(c.v&&Gn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ot(c,"readystatechange"),Gn(c)==4){c.h=!1;try{const q=c.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var A;if(A=q===0){let ne=String(c.D).match(Eu)[1]||null;!ne&&f.self&&f.self.location&&(ne=f.self.location.protocol.slice(0,-1)),A=!yi.test(ne?ne.toLowerCase():"")}v=A}if(v)Ot(c,"complete"),Ot(c,"success");else{c.o=6;try{var j=Gn(c)>2?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.ca()+"]",Go(c)}}finally{Ui(c)}}}}function Ui(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,p||Ot(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Gn(c){return c.g?c.g.readyState:0}s.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Xh(p)}};function zt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ji(c){const p={};c=(c.g&&Gn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(R(c[A]))continue;var v=_u(c[A]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=p[j]||[];p[j]=q,q.push(v)}De(p,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _i(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function Ts(c){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_i("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_i("baseRetryDelayMs",5e3,c),this.Za=_i("retryDelaySeedMs",1e4,c),this.Ta=_i("forwardChannelMaxRetries",2,c),this.va=_i("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Vo(c&&c.concurrentRequestLimit),this.Ba=new _s,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ts.prototype,s.ka=8,s.I=1,s.connect=function(c,p,v,A){vt(0),this.W=c,this.H=p||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Ou(this,null,this.W),vi(this)};function Yo(c){if(ya(c),c.I==3){var p=c.V++,v=bt(c.J);if(Qe(v,"SID",c.M),Qe(v,"RID",p),Qe(v,"TYPE","terminate"),xr(c,v),p=new Bn(c,c.j,p),p.M=2,p.A=Tr(bt(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=p.A,v=!0),v||(p.g=Mu(p.j,null),p.g.ea(p.A)),p.F=Date.now(),ci(p)}Du(c)}function Es(c){c.g&&(Qo(c),c.g.cancel(),c.g=null)}function ya(c){Es(c),c.v&&(f.clearTimeout(c.v),c.v=null),va(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function vi(c){if(!ko(c.h)&&!c.m){c.m=!0;var p=c.Ea;Ke||w(),Ne||(Ke(),Ne=!0),N.add(p,c),c.D=0}}function _a(c,p){return di(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=oi(y(c.Ea,c,p),Nu(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const j=new Bn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=M(q),ie(q,this.U)):q=this.U),this.u!==null||this.R||(j.J=q,q=null),this.S)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(p+=A,p>4096){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=xu(this,j,p),v=bt(this.J),Qe(v,"RID",c),Qe(v,"CVER",22),this.G&&Qe(v,"X-HTTP-Session-Id",this.G),xr(this,v),q&&(this.R?p="headers="+Li(In(q))+"&"+p:this.u&&Ar(v,this.u,q)),Lo(this.h,j),this.Ra&&Qe(v,"TYPE","init"),this.S?(Qe(v,"$req",p),Qe(v,"SID","null"),j.U=!0,ui(j,v,null)):ui(j,v,p),this.I=2}}else this.I==3&&(c?Ko(this,c):this.i.length==0||ko(this.h)||Ko(this))};function Ko(c,p){var v;p?v=p.l:v=c.V++;const A=bt(c.J);Qe(A,"SID",c.M),Qe(A,"RID",v),Qe(A,"AID",c.K),xr(c,A),c.u&&c.o&&Ar(A,c.u,c.o),v=new Bn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),p&&(c.i=p.G.concat(c.i)),p=xu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Lo(c.h,v),ui(v,A,p)}function xr(c,p){c.H&&Z(c.H,function(v,A){Qe(p,A,v)}),c.l&&Z({},function(v,A){Qe(p,A,v)})}function xu(c,p,v){v=Math.min(c.i.length,v);const A=c.l?y(c.l.Ka,c.l,c):null;e:{var j=c.i;let xe=-1;for(;;){const dt=["count="+v];xe==-1?v>0?(xe=j[0].g,dt.push("ofs="+xe)):xe=0:dt.push("ofs="+xe);let Fe=!0;for(let ot=0;ot<v;ot++){var q=j[ot].g;const Rn=j[ot].map;if(q-=xe,q<0)xe=Math.max(0,j[ot].g-100),Fe=!1;else try{q="req"+q+"_"||"";try{var ne=Rn instanceof Map?Rn:Object.entries(Rn);for(const[Ei,Yn]of ne){let Kn=Yn;m(Yn)&&(Kn=ds(Yn)),dt.push(q+Ei+"="+encodeURIComponent(Kn))}}catch(Ei){throw dt.push(q+"type="+encodeURIComponent("_badmap")),Ei}}catch{A&&A(Rn)}}if(Fe){ne=dt.join("&");break e}}ne=void 0}return c=c.i.splice(0,v),p.G=c,ne}function Iu(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;Ke||w(),Ne||(Ke(),Ne=!0),N.add(p,c),c.A=0}}function Ir(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=oi(y(c.Da,c),Nu(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,Ru(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=oi(y(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),Es(this),Ru(this))};function Qo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Ru(c){c.g=new Bn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=bt(c.na);Qe(p,"RID","rpc"),Qe(p,"SID",c.M),Qe(p,"AID",c.K),Qe(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qe(p,"TO",c.ia),Qe(p,"TYPE","xmlhttp"),xr(c,p),c.u&&c.o&&Ar(p,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Tr(bt(p)),v.u=null,v.R=!0,ca(v,c)}s.Va=function(){this.C!=null&&(this.C=null,Es(this),Ir(this),vt(19))};function va(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Cu(c,p){var v=null;if(c.g==p){va(c),Qo(c),c.g=null;var A=2}else if(mi(c.h,p))v=p.G,Uo(c.h,p),A=1;else return;if(c.I!=0){if(p.o)if(A==1){v=p.u?p.u.length:0,p=Date.now()-p.F;var j=c.D;A=ua(),Ot(A,new ai(A,v)),vi(c)}else Iu(c);else if(j=p.m,j==3||j==0&&p.X>0||!(A==1&&_a(c,p)||A==2&&Ir(c)))switch(v&&v.length>0&&(p=c.h,p.i=p.i.concat(v)),j){case 1:Ti(c,5);break;case 4:Ti(c,10);break;case 3:Ti(c,6);break;default:Ti(c,2)}}}function Nu(c,p){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*p}function Ti(c,p){if(c.j.info("Error code "+p),p==2){var v=y(c.bb,c),A=c.Ua;const j=!A;A=new mn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Lt(A,"https"),Tr(A),j?Hn(A.toString(),v):Ho(A.toString(),v)}else vt(2);c.I=0,c.l&&c.l.pa(p),Du(c),ya(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Du(c){if(c.I=0,c.ja=[],c.l){const p=jo(c.h);(p.length!=0||c.i.length!=0)&&(J(c.ja,p),J(c.ja,c.i),c.h.i.length=0,F(c.i),c.i.length=0),c.l.oa()}}function Ou(c,p,v){var A=v instanceof mn?bt(v):new mn(v);if(A.g!="")p&&(A.g=p+"."+A.g),ms(A,A.u);else{var j=f.location;A=j.protocol,p=p?p+"."+j.hostname:j.hostname,j=+j.port;const q=new mn(null);A&&Lt(q,A),p&&(q.g=p),j&&ms(q,j),v&&(q.h=v),A=q}return v=c.G,p=c.wa,v&&p&&Qe(A,v,p),Qe(A,"VER",c.ka),xr(c,A),A}function Mu(c,p,v){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new Je(new gi({ab:v})):new Je(c.ma),p.Fa(c.L),p}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vu(){}s=Vu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function bs(){}bs.prototype.g=function(c,p){return new en(c,p)};function en(c,p){_t.call(this),this.g=new Ts(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!R(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!R(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Pi(this)}S(en,_t),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Yo(this.g)},en.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=ds(c),c=v);p.i.push(new Et(p.Ya++,c)),p.I==3&&vi(p)},en.prototype.N=function(){this.g.l=null,delete this.j,Yo(this.g),delete this.g,en.Z.N.call(this)};function ku(c){Pt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const v in p){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}S(ku,Pt);function Lu(){Sn.call(this),this.status=1}S(Lu,Sn);function Pi(c){this.g=c}S(Pi,Vu),Pi.prototype.ra=function(){Ot(this.g,"a")},Pi.prototype.qa=function(c){Ot(this.g,new ku(c))},Pi.prototype.pa=function(c){Ot(this.g,new Lu)},Pi.prototype.oa=function(){Ot(this.g,"b")},bs.prototype.createWebChannel=bs.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,ZT=function(){return new bs},JT=function(){return ua()},$T=ft,Em={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_r.NO_ERROR=0,_r.TIMEOUT=8,_r.HTTP_ERROR=6,Kc=_r,Oo.COMPLETE="complete",XT=Oo,mu.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",_t.prototype.listen=_t.prototype.J,Vl=mu,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,QT=Je}).apply(typeof Bc<"u"?Bc:typeof self<"u"?self:typeof window<"u"?window:{});class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");let Eo="12.8.0";function yx(s){Eo=s}const Zr=new wh("@firebase/firestore");function $a(){return Zr.logLevel}function oe(s,...e){if(Zr.logLevel<=Le.DEBUG){const n=e.map($m);Zr.debug(`Firestore (${Eo}): ${s}`,...n)}}function os(s,...e){if(Zr.logLevel<=Le.ERROR){const n=e.map($m);Zr.error(`Firestore (${Eo}): ${s}`,...n)}}function uo(s,...e){if(Zr.logLevel<=Le.WARN){const n=e.map($m);Zr.warn(`Firestore (${Eo}): ${s}`,...n)}}function $m(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function Te(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,WT(s,r,n)}function WT(s,e,n){let r=`FIRESTORE (${Eo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw os(r),new Error(r)}function Ye(s,e,n,r){let l="Unexpected state";typeof n=="string"?l=n:r=n,s||WT(e,l,r)}function we(s,e){return s}const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends ii{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ss{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class eE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _x{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n($t.UNAUTHENTICATED)))}shutdown(){}}class vx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Tx{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let r=this.i;const l=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let u=new ss;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ss,e.enqueueRetryable((()=>l(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},m=g=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ss)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ye(typeof r.accessToken=="string",31837,{l:r}),new eE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class Ex{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class bx{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Ex(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n($t.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Pv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ax{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const r=u=>{u.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,oe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const l=u=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Pv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Pv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Sx(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class Jm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=Sx(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<n&&(r+=e.charAt(l[u]%62))}return r}}function Ue(s,e){return s<e?-1:s>e?1:0}function bm(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const l=s.charAt(r),u=e.charAt(r);if(l!==u)return om(l)===om(u)?Ue(l,u):om(l)?1:-1}return Ue(s.length,e.length)}const wx=55296,xx=57343;function om(s){const e=s.charCodeAt(0);return e>=wx&&e<=xx}function co(s,e,n){return s.length===e.length&&s.every(((r,l)=>n(r,e[l])))}const zv="__name__";class Ii{constructor(e,n,r){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Te(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ii.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ii?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let l=0;l<r;l++){const u=Ii.compareSegments(e.get(l),n.get(l));if(u!==0)return u}return Ue(e.length,n.length)}static compareSegments(e,n){const r=Ii.isNumericId(e),l=Ii.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?Ii.extractNumericId(e).compare(Ii.extractNumericId(n)):bm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return er.fromString(e.substring(4,e.length-2))}}class nt extends Ii{construct(e,n,r){return new nt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new se(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((l=>l.length>0)))}return new nt(n)}static emptyPath(){return new nt([])}}const Ix=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Ii{construct(e,n,r){return new Yt(e,n,r)}static isValidIdentifier(e){return Ix.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zv}static keyField(){return new Yt([zv])}static fromServerFormat(e){const n=[];let r="",l=0;const u=()=>{if(r.length===0)throw new se(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;l<e.length;){const m=e[l];if(m==="\\"){if(l+1===e.length)throw new se(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new se(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,l+=2}else m==="`"?(f=!f,l++):m!=="."||f?(r+=m,l++):(u(),l++)}if(u(),f)throw new se(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(nt.fromString(e))}static fromName(e){return new pe(nt.fromString(e).popFirst(5))}static empty(){return new pe(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new nt(e.slice()))}}function tE(s,e,n){if(!n)throw new se(Q.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Rx(s,e,n,r){if(e===!0&&r===!0)throw new se(Q.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function Bv(s){if(!pe.isDocumentKey(s))throw new se(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function qv(s){if(pe.isDocumentKey(s))throw new se(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function nE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Rh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Te(12329,{type:typeof s})}function ls(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new se(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Rh(s);throw new se(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function Ct(s,e){const n={typeString:s};return e&&(n.value=e),n}function eu(s,e){if(!nE(s))throw new se(Q.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const l=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const f=s[r];if(l&&typeof f!==l){n=`JSON field '${r}' must be a ${l}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new se(Q.INVALID_ARGUMENT,n);return!0}const Hv=-62135596800,Fv=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Fv);return new rt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Hv)throw new se(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Fv}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(eu(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Hv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Ct("string",rt._jsonSchemaVersion),seconds:Ct("number"),nanoseconds:Ct("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new rt(0,0))}static max(){return new Ae(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Gl=-1;function Cx(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Ae.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new ir(l,pe.empty(),e)}function Nx(s){return new ir(s.readTime,s.key,Gl)}class ir{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ir(Ae.min(),pe.empty(),Gl)}static max(){return new ir(Ae.max(),pe.empty(),Gl)}}function Dx(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(s.documentKey,e.documentKey),n!==0?n:Ue(s.largestBatchId,e.largestBatchId))}const Ox="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Mx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function bo(s){if(s.code!==Q.FAILED_PRECONDITION||s.message!==Ox)throw s;oe("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $(((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):$.reject(n)}static resolve(e){return new $(((n,r)=>{n(e)}))}static reject(e){return new $(((n,r)=>{r(e)}))}static waitFor(e){return new $(((n,r)=>{let l=0,u=0,f=!1;e.forEach((m=>{++l,m.next((()=>{++u,f&&u===l&&n()}),(g=>r(g)))})),f=!0,u===l&&n()}))}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next((l=>l?$.resolve(l):r()));return n}static forEach(e,n){const r=[];return e.forEach(((l,u)=>{r.push(n.call(this,l,u))})),this.waitFor(r)}static mapArray(e,n){return new $(((r,l)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next((b=>{f[y]=b,++m,m===u&&r(f)}),(b=>l(b)))}}))}static doWhile(e,n){return new $(((r,l)=>{const u=()=>{e()===!0?n().next((()=>{u()}),l):r()};u()}))}}function Vx(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ao(s){return s.name==="IndexedDbTransactionError"}class Ch{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ch.ce=-1;const Zm=-1;function Nh(s){return s==null}function oh(s){return s===0&&1/s==-1/0}function kx(s){return typeof s=="number"&&Number.isInteger(s)&&!oh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const iE="";function Lx(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=Gv(e)),e=Ux(s.get(n),e);return Gv(e)}function Ux(s,e){let n=e;const r=s.length;for(let l=0;l<r;l++){const u=s.charAt(l);switch(u){case"\0":n+="";break;case iE:n+="";break;default:n+=u}}return n}function Gv(s){return s+iE+""}function Yv(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function cr(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function sE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class ut{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qc(this.root,e,this.comparator,!1)}getReverseIterator(){return new qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qc(this.root,e,this.comparator,!0)}}class qc{constructor(e,n,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,r,l,u){this.key=e,this.value=n,this.color=r??Gt.RED,this.left=l??Gt.EMPTY,this.right=u??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,l,u){return new Gt(e??this.key,n??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let l=this;const u=r(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,r),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Gt.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,r,l,u){return this}insert(e,n,r){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Kv(this.data.getIterator())}getIteratorFrom(e){return new Kv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class Kv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class bn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new bn([])}unionWith(e){let n=new Vt(Yt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return co(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class rE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new rE("Invalid base64 string: "+u):u}})(e);return new Kt(n)}static fromUint8Array(e){const n=(function(l){let u="";for(let f=0;f<l.length;++f)u+=String.fromCharCode(l[f]);return u})(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const jx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sr(s){if(Ye(!!s,39018),typeof s=="string"){let e=0;const n=jx.exec(s);if(Ye(!!n,46558,{timestamp:s}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:gt(s.seconds),nanos:gt(s.nanos)}}function gt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function rr(s){return typeof s=="string"?Kt.fromBase64String(s):Kt.fromUint8Array(s)}const aE="server_timestamp",oE="__type__",lE="__previous_value__",uE="__local_write_time__";function Wm(s){return(s?.mapValue?.fields||{})[oE]?.stringValue===aE}function Dh(s){const e=s.mapValue.fields[lE];return Wm(e)?Dh(e):e}function Yl(s){const e=sr(s.mapValue.fields[uE].timestampValue);return new rt(e.seconds,e.nanos)}class Px{constructor(e,n,r,l,u,f,m,g,y,b,S){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=b,this.apiKey=S}}const lh="(default)";class Kl{constructor(e,n){this.projectId=e,this.database=n||lh}static empty(){return new Kl("","")}get isDefaultDatabase(){return this.database===lh}isEqual(e){return e instanceof Kl&&e.projectId===this.projectId&&e.database===this.database}}function zx(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new se(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kl(s.options.projectId,e)}const cE="__type__",Bx="__max__",Hc={mapValue:{}},hE="__vector__",uh="value";function ar(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Wm(s)?4:Hx(s)?9007199254740991:qx(s)?10:11:Te(28295,{value:s})}function ki(s,e){if(s===e)return!0;const n=ar(s);if(n!==ar(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Yl(s).isEqual(Yl(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const f=sr(l.timestampValue),m=sr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,u){return rr(l.bytesValue).isEqual(rr(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,u){return gt(l.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(l.geoPointValue.longitude)===gt(u.geoPointValue.longitude)})(s,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return gt(l.integerValue)===gt(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const f=gt(l.doubleValue),m=gt(u.doubleValue);return f===m?oh(f)===oh(m):isNaN(f)&&isNaN(m)}return!1})(s,e);case 9:return co(s.arrayValue.values||[],e.arrayValue.values||[],ki);case 10:case 11:return(function(l,u){const f=l.mapValue.fields||{},m=u.mapValue.fields||{};if(Yv(f)!==Yv(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!ki(f[g],m[g])))return!1;return!0})(s,e);default:return Te(52216,{left:s})}}function Ql(s,e){return(s.values||[]).find((n=>ki(n,e)))!==void 0}function ho(s,e){if(s===e)return 0;const n=ar(s),r=ar(e);if(n!==r)return Ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(s.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=gt(u.integerValue||u.doubleValue),g=gt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(s,e);case 3:return Qv(s.timestampValue,e.timestampValue);case 4:return Qv(Yl(s),Yl(e));case 5:return bm(s.stringValue,e.stringValue);case 6:return(function(u,f){const m=rr(u),g=rr(f);return m.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const b=Ue(m[y],g[y]);if(b!==0)return b}return Ue(m.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Ue(gt(u.latitude),gt(f.latitude));return m!==0?m:Ue(gt(u.longitude),gt(f.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Xv(s.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},g=f.fields||{},y=m[uh]?.arrayValue,b=g[uh]?.arrayValue,S=Ue(y?.values?.length||0,b?.values?.length||0);return S!==0?S:Xv(y,b)})(s.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Hc.mapValue&&f===Hc.mapValue)return 0;if(u===Hc.mapValue)return 1;if(f===Hc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},b=Object.keys(y);g.sort(),b.sort();for(let S=0;S<g.length&&S<b.length;++S){const I=bm(g[S],b[S]);if(I!==0)return I;const F=ho(m[g[S]],y[b[S]]);if(F!==0)return F}return Ue(g.length,b.length)})(s.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function Qv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ue(s,e);const n=sr(s),r=sr(e),l=Ue(n.seconds,r.seconds);return l!==0?l:Ue(n.nanos,r.nanos)}function Xv(s,e){const n=s.values||[],r=e.values||[];for(let l=0;l<n.length&&l<r.length;++l){const u=ho(n[l],r[l]);if(u)return u}return Ue(n.length,r.length)}function fo(s){return Am(s)}function Am(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=sr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return rr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return pe.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",l=!0;for(const u of n.values||[])l?l=!1:r+=",",r+=Am(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const f of r)u?u=!1:l+=",",l+=`${f}:${Am(n.fields[f])}`;return l+"}"})(s.mapValue):Te(61005,{value:s})}function Qc(s){switch(ar(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Dh(s);return e?16+Qc(e):16;case 5:return 2*s.stringValue.length;case 6:return rr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,u)=>l+Qc(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return cr(r.fields,((u,f)=>{l+=u.length+Qc(f)})),l})(s.mapValue);default:throw Te(13486,{value:s})}}function $v(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Sm(s){return!!s&&"integerValue"in s}function ep(s){return!!s&&"arrayValue"in s}function Jv(s){return!!s&&"nullValue"in s}function Zv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Xc(s){return!!s&&"mapValue"in s}function qx(s){return(s?.mapValue?.fields||{})[cE]?.stringValue===hE}function Pl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return cr(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Pl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pl(s.arrayValue.values[n]);return e}return{...s}}function Hx(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Bx}class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Xc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pl(n)}setAll(e){let n=Yt.emptyPath(),r={},l=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,r,l),r={},l=[],n=m.popLast()}f?r[m.lastSegment()]=Pl(f):l.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,l)}delete(e){const n=this.field(e.popLast());Xc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ki(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=n.mapValue.fields[e.get(r)];Xc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,r){cr(n,((l,u)=>e[l]=u));for(const l of r)delete e[l]}clone(){return new fn(Pl(this.value))}}function fE(s){const e=[];return cr(s.fields,((n,r)=>{const l=new Yt([n]);if(Xc(r)){const u=fE(r.mapValue).fields;if(u.length===0)e.push(l);else for(const f of u)e.push(l.child(f))}else e.push(l)})),new bn(e)}class Jt{constructor(e,n,r,l,u,f,m){this.key=e,this.documentType=n,this.version=r,this.readTime=l,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Jt(e,0,Ae.min(),Ae.min(),Ae.min(),fn.empty(),0)}static newFoundDocument(e,n,r,l){return new Jt(e,1,n,Ae.min(),r,l,0)}static newNoDocument(e,n){return new Jt(e,2,n,Ae.min(),Ae.min(),fn.empty(),0)}static newUnknownDocument(e,n){return new Jt(e,3,n,Ae.min(),Ae.min(),fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ch{constructor(e,n){this.position=e,this.inclusive=n}}function Wv(s,e,n){let r=0;for(let l=0;l<s.position.length;l++){const u=e[l],f=s.position[l];if(u.field.isKeyField()?r=pe.comparator(pe.fromName(f.referenceValue),n.key):r=ho(f,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function e0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!ki(s.position[n],e.position[n]))return!1;return!0}class Xl{constructor(e,n="asc"){this.field=e,this.dir=n}}function Fx(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class dE{}class Rt extends dE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Yx(e,n,r):n==="array-contains"?new Xx(e,r):n==="in"?new $x(e,r):n==="not-in"?new Jx(e,r):n==="array-contains-any"?new Zx(e,r):new Rt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Kx(e,r):new Qx(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ho(n,this.value)):n!==null&&ar(this.value)===ar(n)&&this.matchesComparison(ho(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ni extends dE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ni(e,n)}matches(e){return mE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function mE(s){return s.op==="and"}function pE(s){return Gx(s)&&mE(s)}function Gx(s){for(const e of s.filters)if(e instanceof ni)return!1;return!0}function wm(s){if(s instanceof Rt)return s.field.canonicalString()+s.op.toString()+fo(s.value);if(pE(s))return s.filters.map((e=>wm(e))).join(",");{const e=s.filters.map((n=>wm(n))).join(",");return`${s.op}(${e})`}}function gE(s,e){return s instanceof Rt?(function(r,l){return l instanceof Rt&&r.op===l.op&&r.field.isEqual(l.field)&&ki(r.value,l.value)})(s,e):s instanceof ni?(function(r,l){return l instanceof ni&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((u,f,m)=>u&&gE(f,l.filters[m])),!0):!1})(s,e):void Te(19439)}function yE(s){return s instanceof Rt?(function(n){return`${n.field.canonicalString()} ${n.op} ${fo(n.value)}`})(s):s instanceof ni?(function(n){return n.op.toString()+" {"+n.getFilters().map(yE).join(" ,")+"}"})(s):"Filter"}class Yx extends Rt{constructor(e,n,r){super(e,n,r),this.key=pe.fromName(r.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class Kx extends Rt{constructor(e,n){super(e,"in",n),this.keys=_E("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Qx extends Rt{constructor(e,n){super(e,"not-in",n),this.keys=_E("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function _E(s,e){return(e.arrayValue?.values||[]).map((n=>pe.fromName(n.referenceValue)))}class Xx extends Rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ep(n)&&Ql(n.arrayValue,this.value)}}class $x extends Rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ql(this.value.arrayValue,n)}}class Jx extends Rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ql(this.value.arrayValue,n)}}class Zx extends Rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ep(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Ql(this.value.arrayValue,r)))}}class Wx{constructor(e,n=null,r=[],l=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function t0(s,e=null,n=[],r=[],l=null,u=null,f=null){return new Wx(s,e,n,r,l,u,f)}function tp(s){const e=we(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>wm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Nh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>fo(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>fo(r))).join(",")),e.Te=n}return e.Te}function np(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!Fx(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!gE(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!e0(s.startAt,e.startAt)&&e0(s.endAt,e.endAt)}function xm(s){return pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class So{constructor(e,n=null,r=[],l=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function eI(s,e,n,r,l,u,f,m){return new So(s,e,n,r,l,u,f,m)}function ip(s){return new So(s)}function n0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function tI(s){return pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function vE(s){return s.collectionGroup!==null}function zl(s){const e=we(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Vt(Yt.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Xl(u,r))})),n.has(Yt.keyField().canonicalString())||e.Ie.push(new Xl(Yt.keyField(),r))}return e.Ie}function Ri(s){const e=we(s);return e.Ee||(e.Ee=nI(e,zl(s))),e.Ee}function nI(s,e){if(s.limitType==="F")return t0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Xl(l.field,u)}));const n=s.endAt?new ch(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new ch(s.startAt.position,s.startAt.inclusive):null;return t0(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function Im(s,e){const n=s.filters.concat([e]);return new So(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function iI(s,e){const n=s.explicitOrderBy.concat([e]);return new So(s.path,s.collectionGroup,n,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function hh(s,e,n){return new So(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function Oh(s,e){return np(Ri(s),Ri(e))&&s.limitType===e.limitType}function TE(s){return`${tp(Ri(s))}|lt:${s.limitType}`}function Ja(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((l=>yE(l))).join(", ")}]`),Nh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((l=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(l))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((l=>fo(l))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((l=>fo(l))).join(",")),`Target(${r})`})(Ri(s))}; limitType=${s.limitType})`}function Mh(s,e){return e.isFoundDocument()&&(function(r,l){const u=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):pe.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,l){for(const u of zl(r))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const u of r.filters)if(!u.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(f,m,g){const y=Wv(f,m,g);return f.inclusive?y<=0:y<0})(r.startAt,zl(r),l)||r.endAt&&!(function(f,m,g){const y=Wv(f,m,g);return f.inclusive?y>=0:y>0})(r.endAt,zl(r),l))})(s,e)}function sI(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function EE(s){return(e,n)=>{let r=!1;for(const l of zl(s)){const u=rI(l,e,n);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function rI(s,e,n){const r=s.field.isKeyField()?pe.comparator(e.key,n.key):(function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?ho(g,y):Te(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Te(19790,{direction:s.dir})}}class ia{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){cr(this.inner,((n,r)=>{for(const[l,u]of r)e(l,u)}))}isEmpty(){return sE(this.inner)}size(){return this.innerSize}}const aI=new ut(pe.comparator);function us(){return aI}const bE=new ut(pe.comparator);function kl(...s){let e=bE;for(const n of s)e=e.insert(n.key,n);return e}function AE(s){let e=bE;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Kr(){return Bl()}function SE(){return Bl()}function Bl(){return new ia((s=>s.toString()),((s,e)=>s.isEqual(e)))}const oI=new ut(pe.comparator),lI=new Vt(pe.comparator);function je(...s){let e=lI;for(const n of s)e=e.add(n);return e}const uI=new Vt(Ue);function cI(){return uI}function sp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oh(e)?"-0":e}}function wE(s){return{integerValue:""+s}}function hI(s,e){return kx(e)?wE(e):sp(s,e)}class Vh{constructor(){this._=void 0}}function fI(s,e,n){return s instanceof $l?(function(l,u){const f={fields:{[oE]:{stringValue:aE},[uE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Wm(u)&&(u=Dh(u)),u&&(f.fields[lE]=u),{mapValue:f}})(n,e):s instanceof mo?IE(s,e):s instanceof Jl?RE(s,e):(function(l,u){const f=xE(l,u),m=i0(f)+i0(l.Ae);return Sm(f)&&Sm(l.Ae)?wE(m):sp(l.serializer,m)})(s,e)}function dI(s,e,n){return s instanceof mo?IE(s,e):s instanceof Jl?RE(s,e):n}function xE(s,e){return s instanceof fh?(function(r){return Sm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class $l extends Vh{}class mo extends Vh{constructor(e){super(),this.elements=e}}function IE(s,e){const n=CE(e);for(const r of s.elements)n.some((l=>ki(l,r)))||n.push(r);return{arrayValue:{values:n}}}class Jl extends Vh{constructor(e){super(),this.elements=e}}function RE(s,e){let n=CE(e);for(const r of s.elements)n=n.filter((l=>!ki(l,r)));return{arrayValue:{values:n}}}class fh extends Vh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function i0(s){return gt(s.integerValue||s.doubleValue)}function CE(s){return ep(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class NE{constructor(e,n){this.field=e,this.transform=n}}function mI(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof mo&&l instanceof mo||r instanceof Jl&&l instanceof Jl?co(r.elements,l.elements,ki):r instanceof fh&&l instanceof fh?ki(r.Ae,l.Ae):r instanceof $l&&l instanceof $l})(s.transform,e.transform)}class pI{constructor(e,n){this.version=e,this.transformResults=n}}class Ci{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ci}static exists(e){return new Ci(void 0,e)}static updateTime(e){return new Ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $c(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class kh{}function DE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new ME(s.key,Ci.none()):new tu(s.key,s.data,Ci.none());{const n=s.data,r=fn.empty();let l=new Vt(Yt.comparator);for(let u of e.fields)if(!l.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?r.delete(u):r.set(u,f),l=l.add(u)}return new hr(s.key,r,new bn(l.toArray()),Ci.none())}}function gI(s,e,n){s instanceof tu?(function(l,u,f){const m=l.value.clone(),g=r0(l.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(s,e,n):s instanceof hr?(function(l,u,f){if(!$c(l.precondition,u))return void u.convertToUnknownDocument(f.version);const m=r0(l.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(OE(l)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(s,e,n):(function(l,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function ql(s,e,n,r){return s instanceof tu?(function(u,f,m,g){if(!$c(u.precondition,f))return m;const y=u.value.clone(),b=a0(u.fieldTransforms,g,f);return y.setAll(b),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(s,e,n,r):s instanceof hr?(function(u,f,m,g){if(!$c(u.precondition,f))return m;const y=a0(u.fieldTransforms,g,f),b=f.data;return b.setAll(OE(u)),b.setAll(y),f.convertToFoundDocument(f.version,b).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(s,e,n,r):(function(u,f,m){return $c(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(s,e,n)}function yI(s,e){let n=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),u=xE(r.transform,l||null);u!=null&&(n===null&&(n=fn.empty()),n.set(r.field,u))}return n||null}function s0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&co(r,l,((u,f)=>mI(u,f)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class tu extends kh{constructor(e,n,r,l=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class hr extends kh{constructor(e,n,r,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function OE(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function r0(s,e,n){const r=new Map;Ye(s.length===n.length,32656,{Ve:n.length,de:s.length});for(let l=0;l<n.length;l++){const u=s[l],f=u.transform,m=e.data.field(u.field);r.set(u.field,dI(f,m,n[l]))}return r}function a0(s,e,n){const r=new Map;for(const l of s){const u=l.transform,f=n.data.field(l.field);r.set(l.field,fI(u,f,e))}return r}class ME extends kh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _I extends kh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vI{constructor(e,n,r,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&gI(u,e,r[l])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ql(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ql(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=SE();return this.mutations.forEach((l=>{const u=e.get(l.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(l.key)?null:m;const g=DE(f,m);g!==null&&r.set(l.key,g),f.isValidDocument()||f.convertToNoDocument(Ae.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),je())}isEqual(e){return this.batchId===e.batchId&&co(this.mutations,e.mutations,((n,r)=>s0(n,r)))&&co(this.baseMutations,e.baseMutations,((n,r)=>s0(n,r)))}}class rp{constructor(e,n,r,l){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(e,n,r){Ye(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return oI})();const u=e.mutations;for(let f=0;f<u.length;f++)l=l.insert(u[f].key,r[f].version);return new rp(e,n,r,l)}}class TI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class EI{constructor(e,n){this.count=e,this.unchangedNames=n}}var It,Be;function bI(s){switch(s){case Q.OK:return Te(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return Te(15467,{code:s})}}function VE(s){if(s===void 0)return os("GRPC error has no .code"),Q.UNKNOWN;switch(s){case It.OK:return Q.OK;case It.CANCELLED:return Q.CANCELLED;case It.UNKNOWN:return Q.UNKNOWN;case It.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case It.INTERNAL:return Q.INTERNAL;case It.UNAVAILABLE:return Q.UNAVAILABLE;case It.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case It.NOT_FOUND:return Q.NOT_FOUND;case It.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case It.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case It.ABORTED:return Q.ABORTED;case It.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case It.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case It.DATA_LOSS:return Q.DATA_LOSS;default:return Te(39323,{code:s})}}(Be=It||(It={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";function AI(){return new TextEncoder}const SI=new er([4294967295,4294967295],0);function o0(s){const e=AI().encode(s),n=new KT;return n.update(e),new Uint8Array(n.digest())}function l0(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new er([n,r],0),new er([l,u],0)]}class ap{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ll(`Invalid padding: ${n}`);if(r<0)throw new Ll(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ll(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ll(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=er.fromNumber(this.ge)}ye(e,n,r){let l=e.add(n.multiply(er.fromNumber(r)));return l.compare(SI)===1&&(l=new er([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=o0(e),[r,l]=l0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,l,u);if(!this.we(f))return!1}return!0}static create(e,n,r){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new ap(u,l,n);return r.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=o0(e),[r,l]=l0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,l,u);this.be(f)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Lh{constructor(e,n,r,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const l=new Map;return l.set(e,nu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Lh(Ae.min(),l,new ut(Ue),us(),je())}}class nu{constructor(e,n,r,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new nu(r,n,je(),je(),je())}}class Jc{constructor(e,n,r,l){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=l}}class kE{constructor(e,n){this.targetId=e,this.Ce=n}}class LE{constructor(e,n,r=Kt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=l}}class u0{constructor(){this.ve=0,this.Fe=c0(),this.Me=Kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),n=je(),r=je();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:Te(38017,{changeType:u})}})),new nu(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=c0()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class wI{constructor(e){this.Ge=e,this.ze=new Map,this.je=us(),this.He=Fc(),this.Je=Fc(),this.Ze=new ut(Ue)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,r=e.Ce.count,l=this.ot(n);if(l){const u=l.target;if(xm(u))if(r===0){const f=new pe(u.path);this.et(n,f,Jt.newNoDocument(f,Ae.min()))}else Ye(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const m=this.ut(e),g=m?this.ct(m,e,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:u=0}=n;let f,m;try{f=rr(r).toUint8Array()}catch(g){if(g instanceof rE)return uo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new ap(f,l,u)}catch(g){return uo(g instanceof Ll?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let l=0;return r.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&xm(m.target)){const g=new pe(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,Jt.newNoDocument(g,e))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let r=je();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const l=new Lh(e,n,this.Ze,this.je,r);return this.je=us(),this.He=Fc(),this.Je=Fc(),this.Ze=new ut(Ue),l}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.qe(n,1):l.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new u0,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Vt(Ue),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Vt(Ue),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new u0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Fc(){return new ut(pe.comparator)}function c0(){return new ut(pe.comparator)}const xI={asc:"ASCENDING",desc:"DESCENDING"},II={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RI={and:"AND",or:"OR"};class CI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Rm(s,e){return s.useProto3Json||Nh(e)?e:{value:e}}function dh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function UE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function NI(s,e){return dh(s,e.toTimestamp())}function Ni(s){return Ye(!!s,49232),Ae.fromTimestamp((function(n){const r=sr(n);return new rt(r.seconds,r.nanos)})(s))}function op(s,e){return Cm(s,e).canonicalString()}function Cm(s,e){const n=(function(l){return new nt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?n:n.child(e)}function jE(s){const e=nt.fromString(s);return Ye(HE(e),10190,{key:e.toString()}),e}function Nm(s,e){return op(s.databaseId,e.path)}function lm(s,e){const n=jE(e);if(n.get(1)!==s.databaseId.projectId)throw new se(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new se(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new pe(zE(n))}function PE(s,e){return op(s.databaseId,e)}function DI(s){const e=jE(s);return e.length===4?nt.emptyPath():zE(e)}function Dm(s){return new nt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function zE(s){return Ye(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function h0(s,e,n){return{name:Nm(s,e),fields:n.value.mapValue.fields}}function OI(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(y,b){return y.useProto3Json?(Ye(b===void 0||typeof b=="string",58123),Kt.fromBase64String(b||"")):(Ye(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Kt.fromUint8Array(b||new Uint8Array))})(s,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const b=y.code===void 0?Q.UNKNOWN:VE(y.code);return new se(b,y.message||"")})(f);n=new LE(r,l,u,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=lm(s,r.document.name),u=Ni(r.document.updateTime),f=r.document.createTime?Ni(r.document.createTime):Ae.min(),m=new fn({mapValue:{fields:r.document.fields}}),g=Jt.newFoundDocument(l,u,f,m),y=r.targetIds||[],b=r.removedTargetIds||[];n=new Jc(y,b,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=lm(s,r.document),u=r.readTime?Ni(r.readTime):Ae.min(),f=Jt.newNoDocument(l,u),m=r.removedTargetIds||[];n=new Jc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=lm(s,r.document),u=r.removedTargetIds||[];n=new Jc([],u,l,null)}else{if(!("filter"in e))return Te(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,f=new EI(l,u),m=r.targetId;n=new kE(m,f)}}return n}function MI(s,e){let n;if(e instanceof tu)n={update:h0(s,e.key,e.value)};else if(e instanceof ME)n={delete:Nm(s,e.key)};else if(e instanceof hr)n={update:h0(s,e.key,e.data),updateMask:qI(e.fieldMask)};else{if(!(e instanceof _I))return Te(16599,{dt:e.type});n={verify:Nm(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(u,f){const m=f.transform;if(m instanceof $l)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof mo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Jl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof fh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Te(20930,{transform:f.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:NI(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)})(s,e.precondition)),n}function VI(s,e){return s&&s.length>0?(Ye(e!==void 0,14353),s.map((n=>(function(l,u){let f=l.updateTime?Ni(l.updateTime):Ni(u);return f.isEqual(Ae.min())&&(f=Ni(u)),new pI(f,l.transformResults||[])})(n,e)))):[]}function kI(s,e){return{documents:[PE(s,e.path)]}}function LI(s,e){const n={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=PE(s,l);const u=(function(y){if(y.length!==0)return qE(ni.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((b=>(function(I){return{field:Za(I.field),direction:PI(I.dir)}})(b)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Rm(s,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:l}}function UI(s){let e=DI(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){Ye(r===1,65062);const b=n.from[0];b.allDescendants?l=b.collectionId:e=e.child(b.collectionId)}let u=[];n.where&&(u=(function(S){const I=BE(S);return I instanceof ni&&pE(I)?I.getFilters():[I]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((I=>(function(J){return new Xl(Wa(J.field),(function(te){switch(te){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(I)))})(n.orderBy));let m=null;n.limit&&(m=(function(S){let I;return I=typeof S=="object"?S.value:S,Nh(I)?null:I})(n.limit));let g=null;n.startAt&&(g=(function(S){const I=!!S.before,F=S.values||[];return new ch(F,I)})(n.startAt));let y=null;return n.endAt&&(y=(function(S){const I=!S.before,F=S.values||[];return new ch(F,I)})(n.endAt)),eI(e,l,f,u,m,"F",g,y)}function jI(s,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function BE(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Wa(n.unaryFilter.field);return Rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Wa(n.unaryFilter.field);return Rt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Wa(n.unaryFilter.field);return Rt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Wa(n.unaryFilter.field);return Rt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Rt.create(Wa(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return ni.create(n.compositeFilter.filters.map((r=>BE(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(n.compositeFilter.op))})(s):Te(30097,{filter:s})}function PI(s){return xI[s]}function zI(s){return II[s]}function BI(s){return RI[s]}function Za(s){return{fieldPath:s.canonicalString()}}function Wa(s){return Yt.fromServerFormat(s.fieldPath)}function qE(s){return s instanceof Rt?(function(n){if(n.op==="=="){if(Zv(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NAN"}};if(Jv(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Zv(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NAN"}};if(Jv(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Za(n.field),op:zI(n.op),value:n.value}}})(s):s instanceof ni?(function(n){const r=n.getFilters().map((l=>qE(l)));return r.length===1?r[0]:{compositeFilter:{op:BI(n.op),filters:r}}})(s):Te(54877,{filter:s})}function qI(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function HE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function FE(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class Js{constructor(e,n,r,l,u=Ae.min(),f=Ae.min(),m=Kt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Js(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class HI{constructor(e){this.yt=e}}function FI(s){const e=UI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?hh(e,e.limit,"L"):e}class GI{constructor(){this.Sn=new YI}addToCollectionParentIndex(e,n){return this.Sn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(ir.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(ir.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class YI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n]||new Vt(nt.comparator),u=!l.has(r);return this.index[n]=l.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(e){return(this.index[e]||new Vt(nt.comparator)).toArray()}}const f0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GE=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(GE,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class po{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new po(0)}static ar(){return new po(-1)}}const d0="LruGarbageCollector",KI=1048576;function m0([s,e],[n,r]){const l=Ue(s,n);return l===0?Ue(e,r):l}class QI{constructor(e){this.Pr=e,this.buffer=new Vt(m0),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();m0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class XI{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){oe(d0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ao(n)?oe(d0,"Ignoring IndexedDB error during garbage collection: ",n):await bo(n)}await this.Ar(3e5)}))}}class $I{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return $.resolve(Ch.ce);const r=new QI(n);return this.Vr.forEachTarget(e,(l=>r.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>r.Er(l))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(f0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),f0):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,l,u,f,m,g,y;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,f=Date.now(),this.nthSequenceNumber(e,l)))).next((S=>(r=S,m=Date.now(),this.removeTargets(e,r,n)))).next((S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(y=Date.now(),$a()<=Le.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-b}ms
	Determined least recently used ${l} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-b}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:S}))))}}function JI(s,e){return new $I(s,e)}class ZI{constructor(){this.changes=new ia((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class WI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class eR{constructor(e,n,r,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(r!==null&&ql(r.mutation,l,bn.empty(),rt.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,je()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=je()){const l=Kr();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,r).next((u=>{let f=kl();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const r=Kr();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,je())))}populateOverlays(e,n,r){const l=[];return r.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,r,l){let u=us();const f=Bl(),m=(function(){return Bl()})();return n.forEach(((g,y)=>{const b=r.get(y.key);l.has(y.key)&&(b===void 0||b.mutation instanceof hr)?u=u.insert(y.key,y):b!==void 0?(f.set(y.key,b.mutation.getFieldMask()),ql(b.mutation,y,b.mutation.getFieldMask(),rt.now())):f.set(y.key,bn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,b)=>f.set(y,b))),n.forEach(((y,b)=>m.set(y,new WI(b,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const r=Bl();let l=new ut(((f,m)=>f-m)),u=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let b=r.get(g)||bn.empty();b=m.applyToLocalView(y,b),r.set(g,b);const S=(l.get(m.batchId)||je()).add(g);l=l.insert(m.batchId,S)}))})).next((()=>{const f=[],m=l.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,b=g.value,S=SE();b.forEach((I=>{if(!u.has(I)){const F=DE(n.get(I),r.get(I));F!==null&&S.set(I,F),u=u.add(I)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,S))}return $.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,l){return tI(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,l):this.getDocumentsMatchingCollectionQuery(e,n,r,l)}getNextDocuments(e,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,l).next((u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,l-u.size):$.resolve(Kr());let m=Gl,g=u;return f.next((y=>$.forEach(y,((b,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(b)?$.resolve():this.remoteDocumentCache.getEntry(e,b).next((I=>{g=g.insert(b,I)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,je()))).next((b=>({batchId:m,changes:AE(b)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((r=>{let l=kl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,l){const u=n.collectionGroup;let f=kl();return this.indexManager.getCollectionParents(e,u).next((m=>$.forEach(m,(g=>{const y=(function(S,I){return new So(I,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,r,l).next((b=>{b.forEach(((S,I)=>{f=f.insert(S,I)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,r,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,l)))).next((f=>{u.forEach(((g,y)=>{const b=y.getKey();f.get(b)===null&&(f=f.insert(b,Jt.newInvalidDocument(b)))}));let m=kl();return f.forEach(((g,y)=>{const b=u.get(g);b!==void 0&&ql(b.mutation,y,bn.empty(),rt.now()),Mh(n,y)&&(m=m.insert(g,y))})),m}))}}class tR{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return $.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Ni(l.createTime)}})(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(l){return{name:l.name,query:FI(l.bundledQuery),readTime:Ni(l.readTime)}})(n)),$.resolve()}}class nR{constructor(){this.overlays=new ut(pe.comparator),this.Lr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Kr();return $.forEach(n,(l=>this.getOverlay(e,l).next((u=>{u!==null&&r.set(l,u)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((l,u)=>{this.bt(e,n,u)})),$.resolve()}removeOverlaysForBatchId(e,n,r){const l=this.Lr.get(r);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const l=Kr(),u=n.length+1,f=new pe(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>r&&l.set(g.getKey(),g)}return $.resolve(l)}getOverlaysForCollectionGroup(e,n,r,l){let u=new ut(((y,b)=>y-b));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let b=u.get(y.largestBatchId);b===null&&(b=Kr(),u=u.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const m=Kr(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,b)=>m.set(y,b))),!(m.size()>=l)););return $.resolve(m)}bt(e,n,r){const l=this.overlays.get(r.key);if(l!==null){const f=this.Lr.get(l.largestBatchId).delete(r.key);this.Lr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new TI(n,r));let u=this.Lr.get(n);u===void 0&&(u=je(),this.Lr.set(n,u)),this.Lr.set(n,u.add(r.key))}}class iR{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}class lp{constructor(){this.kr=new Vt(jt.Kr),this.qr=new Vt(jt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new jt(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new jt(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new pe(new nt([])),r=new jt(n,e),l=new jt(n,e+1),u=[];return this.qr.forEachInRange([r,l],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new pe(new nt([])),r=new jt(n,e),l=new jt(n,e+1);let u=je();return this.qr.forEachInRange([r,l],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new jt(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class jt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return pe.comparator(e.key,n.key)||Ue(e.Hr,n.Hr)}static Ur(e,n){return Ue(e.Hr,n.Hr)||pe.comparator(e.key,n.key)}}class sR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Vt(jt.Kr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,l){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new vI(u,n,r,l);this.mutationQueue.push(f);for(const m of l)this.Jr=this.Jr.add(new jt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return $.resolve(f)}lookupMutationBatch(e,n){return $.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,l=this.Xr(r),u=l<0?0:l;return $.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Zm:this.Yn-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new jt(n,0),l=new jt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([r,l],(f=>{const m=this.Zr(f.Hr);u.push(m)})),$.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Vt(Ue);return n.forEach((l=>{const u=new jt(l,0),f=new jt(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(m=>{r=r.add(m.Hr)}))})),$.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,l=r.length+1;let u=r;pe.isDocumentKey(u)||(u=u.child(""));const f=new jt(new pe(u),0);let m=new Vt(Ue);return this.Jr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(m=m.add(g.Hr)),!0)}),f),$.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((r=>{const l=this.Zr(r);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){Ye(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return $.forEach(n.mutations,(l=>{const u=new jt(l.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new jt(n,0),l=this.Jr.firstAfterOrEqual(r);return $.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class rR{constructor(e){this.ti=e,this.docs=(function(){return new ut(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,l=this.docs.get(r),u=l?l.size:0,f=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():Jt.newInvalidDocument(n))}getEntries(e,n){let r=us();return n.forEach((l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():Jt.newInvalidDocument(l))})),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,l){let u=us();const f=n.path,m=new pe(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:b}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||Dx(Nx(b),r)<=0||(l.has(b.key)||Mh(n,b))&&(u=u.insert(b.key,b.mutableCopy()))}return $.resolve(u)}getAllFromCollectionGroup(e,n,r,l){Te(9500)}ni(e,n){return $.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new aR(this)}getSize(e){return $.resolve(this.size)}}class aR extends ZI{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?n.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(r)})),$.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class oR{constructor(e){this.persistence=e,this.ri=new ia((n=>tp(n)),np),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.ii=0,this.si=new lp,this.targetCount=0,this.oi=po._r()}forEachTarget(e,n){return this.ri.forEach(((r,l)=>n(l))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),$.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new po(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.lr(n),$.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let l=0;const u=[];return this.ri.forEach(((f,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),l++)})),$.waitFor(u).next((()=>l))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((f=>{u.push(l.markPotentiallyOrphaned(e,f))})),$.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.si.containsKey(n))}}class YE{constructor(e,n){this._i={},this.overlays={},this.ai=new Ch(0),this.ui=!1,this.ui=!0,this.ci=new iR,this.referenceDelegate=e(this),this.li=new oR(this),this.indexManager=new GI,this.remoteDocumentCache=(function(l){return new rR(l)})((r=>this.referenceDelegate.hi(r))),this.serializer=new HI(n),this.Pi=new tR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new nR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new sR(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){oe("MemoryPersistence","Starting transaction:",e);const l=new lR(this.ai.next());return this.referenceDelegate.Ti(),r(l).next((u=>this.referenceDelegate.Ii(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ei(e,n){return $.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class lR extends Mx{constructor(e){super(),this.currentSequenceNumber=e}}class up{constructor(e){this.persistence=e,this.Ri=new lp,this.Ai=null}static Vi(e){return new up(e)}get di(){if(this.Ai)return this.Ai;throw Te(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((l=>this.di.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((u=>this.di.add(u.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,(r=>{const l=pe.fromPath(r);return this.mi(e,l).next((u=>{u||n.removeEntry(l,Ae.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class mh{constructor(e,n){this.persistence=e,this.fi=new ia((r=>Lx(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=JI(this,n)}static Vi(e,n){return new mh(e,n)}Ti(){}Ii(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((l=>r+l))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return $.forEach(this.fi,((r,l)=>this.wr(e,r,l).next((u=>u?$.resolve():n(l)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ni(e,(f=>this.wr(e,f,n).next((m=>{m||(r++,u.removeEntry(f,Ae.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),$.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Qc(e.data.value)),n}wr(e,n,r){return $.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.fi.get(n);return $.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class cp{constructor(e,n,r,l){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=l}static Es(e,n){let r=je(),l=je();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new cp(e,n.fromCache,r,l)}}class uR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class cR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return RS()?8:Vx(Zt())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,l){const u={result:null};return this.gs(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(e,n,l,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new uR;return this.ys(e,n,f).next((m=>{if(u.result=m,this.As)return this.ws(e,n,f,m.size)}))})).next((()=>u.result))}ws(e,n,r,l){return r.documentReadCount<this.Vs?($a()<=Le.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",Ja(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):($a()<=Le.DEBUG&&oe("QueryEngine","Query:",Ja(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.ds*l?($a()<=Le.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",Ja(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ri(n))):$.resolve())}gs(e,n){if(n0(n))return $.resolve(null);let r=Ri(n);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=hh(n,null,"F"),r=Ri(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const f=je(...u);return this.fs.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,r).next((g=>{const y=this.bs(n,m);return this.Ss(n,y,f,g.readTime)?this.gs(e,hh(n,null,"F")):this.Ds(e,y,n,g)}))))})))))}ps(e,n,r,l){return n0(n)||l.isEqual(Ae.min())?$.resolve(null):this.fs.getDocuments(e,r).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,r,l)?$.resolve(null):($a()<=Le.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ja(n)),this.Ds(e,f,n,Cx(l,Gl)).next((m=>m)))}))}bs(e,n){let r=new Vt(EE(e));return n.forEach(((l,u)=>{Mh(e,u)&&(r=r.add(u))})),r}Ss(e,n,r,l){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}ys(e,n,r){return $a()<=Le.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Ja(n)),this.fs.getDocumentsMatchingQuery(e,n,ir.min(),r)}Ds(e,n,r,l){return this.fs.getDocumentsMatchingQuery(e,r,l).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const hp="LocalStore",hR=3e8;class fR{constructor(e,n,r,l){this.persistence=e,this.Cs=n,this.serializer=l,this.vs=new ut(Ue),this.Fs=new ia((u=>tp(u)),np),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new eR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function dR(s,e,n,r){return new fR(s,e,n,r)}async function KE(s,e){const n=we(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next((u=>(l=u,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],m=[];let g=je();for(const y of l){f.push(y.batchId);for(const b of y.mutations)g=g.add(b.key)}for(const y of u){m.push(y.batchId);for(const b of y.mutations)g=g.add(b.key)}return n.localDocuments.getDocuments(r,g).next((y=>({Ns:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function mR(s,e){const n=we(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,b){const S=y.batch,I=S.keys();let F=$.resolve();return I.forEach((J=>{F=F.next((()=>b.getEntry(g,J))).next((ee=>{const te=y.docVersions.get(J);Ye(te!==null,48541),ee.version.compareTo(te)<0&&(S.applyToRemoteDocument(ee,y),ee.isValidDocument()&&(ee.setReadTime(y.commitVersion),b.addEntry(ee)))}))})),F.next((()=>m.mutationQueue.removeMutationBatch(g,S)))})(n,r,e,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let g=je();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(r,l)))}))}function QE(s){const e=we(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function pR(s,e){const n=we(s),r=e.snapshotVersion;let l=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});l=n.vs;const m=[];e.targetChanges.forEach(((b,S)=>{const I=l.get(S);if(!I)return;m.push(n.li.removeMatchingKeys(u,b.removedDocuments,S).next((()=>n.li.addMatchingKeys(u,b.addedDocuments,S))));let F=I.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?F=F.withResumeToken(Kt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):b.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(b.resumeToken,r)),l=l.insert(S,F),(function(ee,te,le){return ee.resumeToken.approximateByteSize()===0||te.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=hR?!0:le.addedDocuments.size+le.modifiedDocuments.size+le.removedDocuments.size>0})(I,F,b)&&m.push(n.li.updateTargetData(u,F))}));let g=us(),y=je();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,b))})),m.push(gR(u,f,e.documentUpdates).next((b=>{g=b.Bs,y=b.Ls}))),!r.isEqual(Ae.min())){const b=n.li.getLastRemoteSnapshotVersion(u).next((S=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(b)}return $.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.vs=l,u)))}function gR(s,e,n){let r=je(),l=je();return n.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let f=us();return n.forEach(((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(m)),g.isNoDocument()&&g.version.isEqual(Ae.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):oe(hp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{Bs:f,Ls:l}}))}function yR(s,e){const n=we(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Zm),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function _R(s,e){const n=we(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return n.li.getTargetData(r,e).next((u=>u?(l=u,$.resolve(l)):n.li.allocateTargetId(r).next((f=>(l=new Js(e,f,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=n.vs.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function Om(s,e,n){const r=we(s),l=r.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!Ao(f))throw f;oe(hp,`Failed to update sequence numbers for target ${e}: ${f}`)}r.vs=r.vs.remove(e),r.Fs.delete(l.target)}function p0(s,e,n){const r=we(s);let l=Ae.min(),u=je();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,b){const S=we(g),I=S.Fs.get(b);return I!==void 0?$.resolve(S.vs.get(I)):S.li.getTargetData(y,b)})(r,f,Ri(e)).next((m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>r.Cs.getDocumentsMatchingQuery(f,e,n?l:Ae.min(),n?u:je()))).next((m=>(vR(r,sI(e),m),{documents:m,ks:u})))))}function vR(s,e,n){let r=s.Ms.get(e)||Ae.min();n.forEach(((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Ms.set(e,r)}class g0{constructor(){this.activeTargetIds=cI()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TR{constructor(){this.vo=new g0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new g0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ER{Mo(e){}shutdown(){}}const y0="ConnectivityMonitor";class _0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){oe(y0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){oe(y0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Gc=null;function Mm(){return Gc===null?Gc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Gc++,"0x"+Gc.toString(16)}const um="RestConnection",bR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class AR{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${l}`,this.$o=this.databaseId.database===lh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Wo(e,n,r,l,u){const f=Mm(),m=this.Qo(e,n.toUriEncodedString());oe(um,`Sending RPC '${e}' ${f}:`,m,r);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,l,u);const{host:y}=new URL(m),b=vo(y);return this.zo(e,m,g,r,b).then((S=>(oe(um,`Received RPC '${e}' ${f}: `,S),S)),(S=>{throw uo(um,`RPC '${e}' ${f} failed with error: `,S,"url: ",m,"request:",r),S}))}jo(e,n,r,l,u,f){return this.Wo(e,n,r,l,u)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Eo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>e[u]=l)),r&&r.headers.forEach(((l,u)=>e[u]=l))}Qo(e,n){const r=bR[e];let l=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class SR{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Xt="WebChannelConnection",Ml=(s,e,n)=>{s.listen(e,(r=>{try{n(r)}catch(l){setTimeout((()=>{throw l}),0)}}))};class io extends AR{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!io.c_){const e=JT();Ml(e,$T.STAT_EVENT,(n=>{n.stat===Em.PROXY?oe(Xt,"STAT_EVENT: detected buffering proxy"):n.stat===Em.NOPROXY&&oe(Xt,"STAT_EVENT: detected no buffering proxy")})),io.c_=!0}}zo(e,n,r,l,u){const f=Mm();return new Promise(((m,g)=>{const y=new QT;y.setWithCredentials(!0),y.listenOnce(XT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Kc.NO_ERROR:const S=y.getResponseJson();oe(Xt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),m(S);break;case Kc.TIMEOUT:oe(Xt,`RPC '${e}' ${f} timed out`),g(new se(Q.DEADLINE_EXCEEDED,"Request time out"));break;case Kc.HTTP_ERROR:const I=y.getStatus();if(oe(Xt,`RPC '${e}' ${f} failed with status:`,I,"response text:",y.getResponseText()),I>0){let F=y.getResponseJson();Array.isArray(F)&&(F=F[0]);const J=F?.error;if(J&&J.status&&J.message){const ee=(function(le){const Ee=le.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(Ee)>=0?Ee:Q.UNKNOWN})(J.status);g(new se(ee,J.message))}else g(new se(Q.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new se(Q.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{oe(Xt,`RPC '${e}' ${f} completed.`)}}));const b=JSON.stringify(l);oe(Xt,`RPC '${e}' ${f} sending request:`,l),y.send(n,"POST",b,r,15)}))}T_(e,n,r){const l=Mm(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const y=u.join("");oe(Xt,`Creating RPC '${e}' stream ${l}: ${y}`,m);const b=f.createWebChannel(y,m);this.I_(b);let S=!1,I=!1;const F=new SR({Ho:J=>{I?oe(Xt,`Not sending because RPC '${e}' stream ${l} is closed:`,J):(S||(oe(Xt,`Opening RPC '${e}' stream ${l} transport.`),b.open(),S=!0),oe(Xt,`RPC '${e}' stream ${l} sending:`,J),b.send(J))},Jo:()=>b.close()});return Ml(b,Vl.EventType.OPEN,(()=>{I||(oe(Xt,`RPC '${e}' stream ${l} transport opened.`),F.i_())})),Ml(b,Vl.EventType.CLOSE,(()=>{I||(I=!0,oe(Xt,`RPC '${e}' stream ${l} transport closed`),F.o_(),this.E_(b))})),Ml(b,Vl.EventType.ERROR,(J=>{I||(I=!0,uo(Xt,`RPC '${e}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),F.o_(new se(Q.UNAVAILABLE,"The operation could not be completed")))})),Ml(b,Vl.EventType.MESSAGE,(J=>{if(!I){const ee=J.data[0];Ye(!!ee,16349);const te=ee,le=te?.error||te[0]?.error;if(le){oe(Xt,`RPC '${e}' stream ${l} received error:`,le);const Ee=le.status;let ye=(function(Ne){const N=It[Ne];if(N!==void 0)return VE(N)})(Ee),ve=le.message;ye===void 0&&(ye=Q.INTERNAL,ve="Unknown error status: "+Ee+" with message "+le.message),I=!0,F.o_(new se(ye,ve)),b.close()}else oe(Xt,`RPC '${e}' stream ${l} received:`,ee),F.__(ee)}})),io.u_(),setTimeout((()=>{F.s_()}),0),F}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return ZT()}}function wR(s){return new io(s)}function cm(){return typeof document<"u"?document:null}function Uh(s){return new CI(s,!0)}io.c_=!1;class XE{constructor(e,n,r=1e3,l=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=l,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-r);l>0&&oe("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const v0="PersistentStream";class $E{constructor(e,n,r,l,u,f,m,g){this.Ci=e,this.b_=r,this.S_=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new XE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(os(n.toString()),os("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===n&&this.G_(r,l)}),(r=>{e((()=>{const l=new se(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(v0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(oe(v0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xR extends $E{constructor(e,n,r,l,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=OI(this.serializer,e),r=(function(u){if(!("targetChange"in u))return Ae.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ae.min():f.readTime?Ni(f.readTime):Ae.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=Dm(this.serializer),n.addTarget=(function(u,f){let m;const g=f.target;if(m=xm(g)?{documents:kI(u,g)}:{query:LI(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=UE(u,f.resumeToken);const y=Rm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Ae.min())>0){m.readTime=dh(u,f.snapshotVersion.toTimestamp());const y=Rm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const r=jI(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=Dm(this.serializer),n.removeTarget=e,this.K_(n)}}class IR extends $E{constructor(e,n,r,l,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=VI(e.writeResults,e.commitTime),r=Ni(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Dm(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>MI(this.serializer,r)))};this.K_(n)}}class RR{}class CR extends RR{constructor(e,n,r,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new se(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(e,Cm(n,r),l,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new se(Q.UNKNOWN,u.toString())}))}jo(e,n,r,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.jo(e,Cm(n,r),l,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new se(Q.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function NR(s,e,n,r){return new CR(s,e,n,r)}class DR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(os(n),this.aa=!1):oe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Wr="RemoteStore";class OR{constructor(e,n,r,l,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{r.enqueueAndForget((async()=>{sa(this)&&(oe(Wr,"Restarting streams for network reachability change."),await(async function(g){const y=we(g);y.Ea.add(4),await iu(y),y.Va.set("Unknown"),y.Ea.delete(4),await jh(y)})(this))}))})),this.Va=new DR(r,l)}}async function jh(s){if(sa(s))for(const e of s.Ra)await e(!0)}async function iu(s){for(const e of s.Ra)await e(!1)}function JE(s,e){const n=we(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),pp(n)?mp(n):wo(n).O_()&&dp(n,e))}function fp(s,e){const n=we(s),r=wo(n);n.Ia.delete(e),r.O_()&&ZE(n,e),n.Ia.size===0&&(r.O_()?r.L_():sa(n)&&n.Va.set("Unknown"))}function dp(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wo(s).Z_(e)}function ZE(s,e){s.da.$e(e),wo(s).X_(e)}function mp(s){s.da=new wI({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),wo(s).start(),s.Va.ua()}function pp(s){return sa(s)&&!wo(s).x_()&&s.Ia.size>0}function sa(s){return we(s).Ea.size===0}function WE(s){s.da=void 0}async function MR(s){s.Va.set("Online")}async function VR(s){s.Ia.forEach(((e,n)=>{dp(s,e)}))}async function kR(s,e){WE(s),pp(s)?(s.Va.ha(e),mp(s)):s.Va.set("Unknown")}async function LR(s,e,n){if(s.Va.set("Online"),e instanceof LE&&e.state===2&&e.cause)try{await(async function(l,u){const f=u.cause;for(const m of u.targetIds)l.Ia.has(m)&&(await l.remoteSyncer.rejectListen(m,f),l.Ia.delete(m),l.da.removeTarget(m))})(s,e)}catch(r){oe(Wr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ph(s,r)}else if(e instanceof Jc?s.da.Xe(e):e instanceof kE?s.da.st(e):s.da.tt(e),!n.isEqual(Ae.min()))try{const r=await QE(s.localStore);n.compareTo(r)>=0&&await(function(u,f){const m=u.da.Tt(f);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const b=u.Ia.get(y);b&&u.Ia.set(y,b.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,y)=>{const b=u.Ia.get(g);if(!b)return;u.Ia.set(g,b.withResumeToken(Kt.EMPTY_BYTE_STRING,b.snapshotVersion)),ZE(u,g);const S=new Js(b.target,g,y,b.sequenceNumber);dp(u,S)})),u.remoteSyncer.applyRemoteEvent(m)})(s,n)}catch(r){oe(Wr,"Failed to raise snapshot:",r),await ph(s,r)}}async function ph(s,e,n){if(!Ao(e))throw e;s.Ea.add(1),await iu(s),s.Va.set("Offline"),n||(n=()=>QE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{oe(Wr,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await jh(s)}))}function eb(s,e){return e().catch((n=>ph(s,n,e)))}async function Ph(s){const e=we(s),n=or(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Zm;for(;UR(e);)try{const l=await yR(e.localStore,r);if(l===null){e.Ta.length===0&&n.L_();break}r=l.batchId,jR(e,l)}catch(l){await ph(e,l)}tb(e)&&nb(e)}function UR(s){return sa(s)&&s.Ta.length<10}function jR(s,e){s.Ta.push(e);const n=or(s);n.O_()&&n.Y_&&n.ea(e.mutations)}function tb(s){return sa(s)&&!or(s).x_()&&s.Ta.length>0}function nb(s){or(s).start()}async function PR(s){or(s).ra()}async function zR(s){const e=or(s);for(const n of s.Ta)e.ea(n.mutations)}async function BR(s,e,n){const r=s.Ta.shift(),l=rp.from(r,e,n);await eb(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Ph(s)}async function qR(s,e){e&&or(s).Y_&&await(async function(r,l){if((function(f){return bI(f)&&f!==Q.ABORTED})(l.code)){const u=r.Ta.shift();or(r).B_(),await eb(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Ph(r)}})(s,e),tb(s)&&nb(s)}async function T0(s,e){const n=we(s);n.asyncQueue.verifyOperationInProgress(),oe(Wr,"RemoteStore received new credentials");const r=sa(n);n.Ea.add(3),await iu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await jh(n)}async function HR(s,e){const n=we(s);e?(n.Ea.delete(2),await jh(n)):e||(n.Ea.add(2),await iu(n),n.Va.set("Unknown"))}function wo(s){return s.ma||(s.ma=(function(n,r,l){const u=we(n);return u.sa(),new xR(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Zo:MR.bind(null,s),Yo:VR.bind(null,s),t_:kR.bind(null,s),J_:LR.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),pp(s)?mp(s):s.Va.set("Unknown")):(await s.ma.stop(),WE(s))}))),s.ma}function or(s){return s.fa||(s.fa=(function(n,r,l){const u=we(n);return u.sa(),new IR(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:PR.bind(null,s),t_:qR.bind(null,s),ta:zR.bind(null,s),na:BR.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Ph(s)):(await s.fa.stop(),s.Ta.length>0&&(oe(Wr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class gp{constructor(e,n,r,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,l,u){const f=Date.now()+r,m=new gp(e,n,f,l,u);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yp(s,e){if(os("AsyncQueue",`${e}: ${s}`),Ao(s))return new se(Q.UNAVAILABLE,`${e}: ${s}`);throw s}class so{static emptySet(e){return new so(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||pe.comparator(n.key,r.key):(n,r)=>pe.comparator(n.key,r.key),this.keyedMap=kl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof so)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new so;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class E0{constructor(){this.ga=new ut(pe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class go{constructor(e,n,r,l,u,f,m,g,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,l,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new go(e,n,so.emptySet(n),f,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Oh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}class FR{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class GR{constructor(){this.queries=b0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const l=we(n),u=l.queries;l.queries=b0(),u.forEach(((f,m)=>{for(const g of m.ba)g.onError(r)}))})(this,new se(Q.ABORTED,"Firestore shutting down"))}}function b0(){return new ia((s=>TE(s)),Oh)}async function ib(s,e){const n=we(s);let r=3;const l=e.query;let u=n.queries.get(l);u?!u.Sa()&&e.Da()&&(r=2):(u=new FR,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const m=yp(f,`Initialization of query '${Ja(e.query)}' failed`);return void e.onError(m)}n.queries.set(l,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&_p(n)}async function sb(s,e){const n=we(s),r=e.query;let l=3;const u=n.queries.get(r);if(u){const f=u.ba.indexOf(e);f>=0&&(u.ba.splice(f,1),u.ba.length===0?l=e.Da()?0:1:!u.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function YR(s,e){const n=we(s);let r=!1;for(const l of e){const u=l.query,f=n.queries.get(u);if(f){for(const m of f.ba)m.Fa(l)&&(r=!0);f.wa=l}}r&&_p(n)}function KR(s,e,n){const r=we(s),l=r.queries.get(e);if(l)for(const u of l.ba)u.onError(n);r.queries.delete(e)}function _p(s){s.Ca.forEach((e=>{e.next()}))}var Vm,A0;(A0=Vm||(Vm={})).Ma="default",A0.Cache="cache";class rb{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new go(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Vm.Cache}}class ab{constructor(e){this.key=e}}class ob{constructor(e){this.key=e}}class QR{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=je(),this.mutatedKeys=je(),this.eu=EE(e),this.tu=new so(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new E0,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=l,m=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((b,S)=>{const I=l.get(b),F=Mh(this.query,S)?S:null,J=!!I&&this.mutatedKeys.has(I.key),ee=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let te=!1;I&&F?I.data.isEqual(F.data)?J!==ee&&(r.track({type:3,doc:F}),te=!0):this.su(I,F)||(r.track({type:2,doc:F}),te=!0,(g&&this.eu(F,g)>0||y&&this.eu(F,y)<0)&&(m=!0)):!I&&F?(r.track({type:0,doc:F}),te=!0):I&&!F&&(r.track({type:1,doc:I}),te=!0,(g||y)&&(m=!0)),te&&(F?(f=f.add(F),u=ee?u.add(b):u.delete(b)):(f=f.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const b=this.query.limitType==="F"?f.last():f.first();f=f.delete(b.key),u=u.delete(b.key),r.track({type:1,doc:b})}return{tu:f,iu:r,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((b,S)=>(function(F,J){const ee=te=>{switch(te){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Vt:te})}};return ee(F)-ee(J)})(b.type,S.type)||this.eu(b.doc,S.doc))),this.ou(r),l=l??!1;const m=n&&!l?this._u():[],g=this.Ya.size===0&&this.current&&!l?1:0,y=g!==this.Xa;return this.Xa=g,f.length!==0||y?{snapshot:new go(this.query,e.tu,u,f,e.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new E0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=je(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new ob(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new ab(r))})),n}cu(e){this.Za=e.ks,this.Ya=je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return go.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const vp="SyncEngine";class XR{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class $R{constructor(e){this.key=e,this.hu=!1}}class JR{constructor(e,n,r,l,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ia((m=>TE(m)),Oh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ut(pe.comparator),this.Au=new Map,this.Vu=new lp,this.du={},this.mu=new Map,this.fu=po.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ZR(s,e,n=!0){const r=db(s);let l;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await lb(r,e,n,!0),l}async function WR(s,e){const n=db(s);await lb(n,e,!0,!1)}async function lb(s,e,n,r){const l=await _R(s.localStore,Ri(e)),u=l.targetId,f=s.sharedClientState.addLocalQueryTarget(u,n);let m;return r&&(m=await eC(s,e,u,f==="current",l.resumeToken)),s.isPrimaryClient&&n&&JE(s.remoteStore,l),m}async function eC(s,e,n,r,l){s.pu=(S,I,F)=>(async function(ee,te,le,Ee){let ye=te.view.ru(le);ye.Ss&&(ye=await p0(ee.localStore,te.query,!1).then((({documents:N})=>te.view.ru(N,ye))));const ve=Ee&&Ee.targetChanges.get(te.targetId),Ke=Ee&&Ee.targetMismatches.get(te.targetId)!=null,Ne=te.view.applyChanges(ye,ee.isPrimaryClient,ve,Ke);return w0(ee,te.targetId,Ne.au),Ne.snapshot})(s,S,I,F);const u=await p0(s.localStore,e,!0),f=new QR(e,u.ks),m=f.ru(u.documents),g=nu.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",l),y=f.applyChanges(m,s.isPrimaryClient,g);w0(s,n,y.au);const b=new XR(e,n,f);return s.Tu.set(e,b),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),y.snapshot}async function tC(s,e,n){const r=we(s),l=r.Tu.get(e),u=r.Iu.get(l.targetId);if(u.length>1)return r.Iu.set(l.targetId,u.filter((f=>!Oh(f,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Om(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),n&&fp(r.remoteStore,l.targetId),km(r,l.targetId)})).catch(bo)):(km(r,l.targetId),await Om(r.localStore,l.targetId,!0))}async function nC(s,e){const n=we(s),r=n.Tu.get(e),l=n.Iu.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),fp(n.remoteStore,r.targetId))}async function iC(s,e,n){const r=cC(s);try{const l=await(function(f,m){const g=we(f),y=rt.now(),b=m.reduce(((F,J)=>F.add(J.key)),je());let S,I;return g.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let J=us(),ee=je();return g.xs.getEntries(F,b).next((te=>{J=te,J.forEach(((le,Ee)=>{Ee.isValidDocument()||(ee=ee.add(le))}))})).next((()=>g.localDocuments.getOverlayedDocuments(F,J))).next((te=>{S=te;const le=[];for(const Ee of m){const ye=yI(Ee,S.get(Ee.key).overlayedDocument);ye!=null&&le.push(new hr(Ee.key,ye,fE(ye.value.mapValue),Ci.exists(!0)))}return g.mutationQueue.addMutationBatch(F,y,le,m)})).next((te=>{I=te;const le=te.applyToLocalDocumentSet(S,ee);return g.documentOverlayCache.saveOverlays(F,te.batchId,le)}))})).then((()=>({batchId:I.batchId,changes:AE(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(f,m,g){let y=f.du[f.currentUser.toKey()];y||(y=new ut(Ue)),y=y.insert(m,g),f.du[f.currentUser.toKey()]=y})(r,l.batchId,n),await su(r,l.changes),await Ph(r.remoteStore)}catch(l){const u=yp(l,"Failed to persist write");n.reject(u)}}async function ub(s,e){const n=we(s);try{const r=await pR(n.localStore,e);e.targetChanges.forEach(((l,u)=>{const f=n.Au.get(u);f&&(Ye(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.hu=!0:l.modifiedDocuments.size>0?Ye(f.hu,14607):l.removedDocuments.size>0&&(Ye(f.hu,42227),f.hu=!1))})),await su(n,r,e)}catch(r){await bo(r)}}function S0(s,e,n){const r=we(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&l.push(m.snapshot)})),(function(f,m){const g=we(f);g.onlineState=m;let y=!1;g.queries.forEach(((b,S)=>{for(const I of S.ba)I.va(m)&&(y=!0)})),y&&_p(g)})(r.eventManager,e),l.length&&r.Pu.J_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function sC(s,e,n){const r=we(s);r.sharedClientState.updateQueryState(e,"rejected",n);const l=r.Au.get(e),u=l&&l.key;if(u){let f=new ut(pe.comparator);f=f.insert(u,Jt.newNoDocument(u,Ae.min()));const m=je().add(u),g=new Lh(Ae.min(),new Map,new ut(Ue),f,m);await ub(r,g),r.Ru=r.Ru.remove(u),r.Au.delete(e),Tp(r)}else await Om(r.localStore,e,!1).then((()=>km(r,e,n))).catch(bo)}async function rC(s,e){const n=we(s),r=e.batch.batchId;try{const l=await mR(n.localStore,e);hb(n,r,null),cb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await su(n,l)}catch(l){await bo(l)}}async function aC(s,e,n){const r=we(s);try{const l=await(function(f,m){const g=we(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return g.mutationQueue.lookupMutationBatch(y,m).next((S=>(Ye(S!==null,37113),b=S.keys(),g.mutationQueue.removeMutationBatch(y,S)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,b,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>g.localDocuments.getDocuments(y,b)))}))})(r.localStore,e);hb(r,e,n),cb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await su(r,l)}catch(l){await bo(l)}}function cb(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function hb(s,e,n){const r=we(s);let l=r.du[r.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),r.du[r.currentUser.toKey()]=l}}function km(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||fb(s,r)}))}function fb(s,e){s.Eu.delete(e.path.canonicalString());const n=s.Ru.get(e);n!==null&&(fp(s.remoteStore,n),s.Ru=s.Ru.remove(e),s.Au.delete(n),Tp(s))}function w0(s,e,n){for(const r of n)r instanceof ab?(s.Vu.addReference(r.key,e),oC(s,r)):r instanceof ob?(oe(vp,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||fb(s,r.key)):Te(19791,{wu:r})}function oC(s,e){const n=e.key,r=n.path.canonicalString();s.Ru.get(n)||s.Eu.has(r)||(oe(vp,"New document in limbo: "+n),s.Eu.add(r),Tp(s))}function Tp(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new pe(nt.fromString(e)),r=s.fu.next();s.Au.set(r,new $R(n)),s.Ru=s.Ru.insert(n,r),JE(s.remoteStore,new Js(Ri(ip(n.path)),r,"TargetPurposeLimboResolution",Ch.ce))}}async function su(s,e,n){const r=we(s),l=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,g)=>{f.push(r.pu(g,e,n).then((y=>{if((y||n)&&r.isPrimaryClient){const b=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,b?"current":"not-current")}if(y){l.push(y);const b=cp.Es(g.targetId,y);u.push(b)}})))})),await Promise.all(f),r.Pu.J_(l),await(async function(g,y){const b=we(g);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>$.forEach(y,(I=>$.forEach(I.Ts,(F=>b.persistence.referenceDelegate.addReference(S,I.targetId,F))).next((()=>$.forEach(I.Is,(F=>b.persistence.referenceDelegate.removeReference(S,I.targetId,F)))))))))}catch(S){if(!Ao(S))throw S;oe(hp,"Failed to update sequence numbers: "+S)}for(const S of y){const I=S.targetId;if(!S.fromCache){const F=b.vs.get(I),J=F.snapshotVersion,ee=F.withLastLimboFreeSnapshotVersion(J);b.vs=b.vs.insert(I,ee)}}})(r.localStore,u))}async function lC(s,e){const n=we(s);if(!n.currentUser.isEqual(e)){oe(vp,"User change. New user:",e.toKey());const r=await KE(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new se(Q.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await su(n,r.Ns)}}function uC(s,e){const n=we(s),r=n.Au.get(e);if(r&&r.hu)return je().add(r.key);{let l=je();const u=n.Iu.get(e);if(!u)return l;for(const f of u){const m=n.Tu.get(f);l=l.unionWith(m.view.nu)}return l}}function db(s){const e=we(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=ub.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sC.bind(null,e),e.Pu.J_=YR.bind(null,e.eventManager),e.Pu.yu=KR.bind(null,e.eventManager),e}function cC(s){const e=we(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aC.bind(null,e),e}class gh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Uh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return dR(this.persistence,new cR,e.initialUser,this.serializer)}Cu(e){return new YE(up.Vi,this.serializer)}Du(e){return new TR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gh.provider={build:()=>new gh};class hC extends gh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ye(this.persistence.referenceDelegate instanceof mh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new XI(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new YE((r=>mh.Vi(r,n)),this.serializer)}}class Lm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>S0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=lC.bind(null,this.syncEngine),await HR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new GR})()}createDatastore(e){const n=Uh(e.databaseInfo.databaseId),r=wR(e.databaseInfo);return NR(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,l,u,f,m){return new OR(r,l,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>S0(this.syncEngine,n,0)),(function(){return _0.v()?new _0:new ER})())}createSyncEngine(e,n){return(function(l,u,f,m,g,y,b){const S=new JR(l,u,f,m,g,y);return b&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=we(n);oe(Wr,"RemoteStore shutting down."),r.Ea.add(5),await iu(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Lm.provider={build:()=>new Lm};class mb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):os("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const lr="FirestoreClient";class fC{constructor(e,n,r,l,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=l,this.user=$t.UNAUTHENTICATED,this.clientId=Jm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{oe(lr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(oe(lr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=yp(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function hm(s,e){s.asyncQueue.verifyOperationInProgress(),oe(lr,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await KE(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function x0(s,e){s.asyncQueue.verifyOperationInProgress();const n=await dC(s);oe(lr,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>T0(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>T0(e.remoteStore,l))),s._onlineComponents=e}async function dC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){oe(lr,"Using user provided OfflineComponentProvider");try{await hm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Q.FAILED_PRECONDITION||l.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;uo("Error using user provided cache. Falling back to memory cache: "+n),await hm(s,new gh)}}else oe(lr,"Using default OfflineComponentProvider"),await hm(s,new hC(void 0));return s._offlineComponents}async function pb(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(oe(lr,"Using user provided OnlineComponentProvider"),await x0(s,s._uninitializedComponentsProvider._online)):(oe(lr,"Using default OnlineComponentProvider"),await x0(s,new Lm))),s._onlineComponents}function mC(s){return pb(s).then((e=>e.syncEngine))}async function gb(s){const e=await pb(s),n=e.eventManager;return n.onListen=ZR.bind(null,e.syncEngine),n.onUnlisten=tC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=WR.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=nC.bind(null,e.syncEngine),n}function pC(s,e,n={}){const r=new ss;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,y){const b=new mb({next:I=>{b.Nu(),f.enqueueAndForget((()=>sb(u,S)));const F=I.docs.has(m);!F&&I.fromCache?y.reject(new se(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&I.fromCache&&g&&g.source==="server"?y.reject(new se(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(I)},error:I=>y.reject(I)}),S=new rb(ip(m.path),b,{includeMetadataChanges:!0,Ka:!0});return ib(u,S)})(await gb(s),s.asyncQueue,e,n,r))),r.promise}function gC(s,e,n={}){const r=new ss;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,y){const b=new mb({next:I=>{b.Nu(),f.enqueueAndForget((()=>sb(u,S))),I.fromCache&&g.source==="server"?y.reject(new se(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(I)},error:I=>y.reject(I)}),S=new rb(m,b,{includeMetadataChanges:!0,Ka:!0});return ib(u,S)})(await gb(s),s.asyncQueue,e,n,r))),r.promise}function yC(s,e){const n=new ss;return s.asyncQueue.enqueueAndForget((async()=>iC(await mC(s),e,n))),n.promise}function yb(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const _C="ComponentProvider",I0=new Map;function vC(s,e,n,r,l){return new Px(s,e,n,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,yb(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,r)}const _b="firestore.googleapis.com",R0=!0;class C0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new se(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_b,this.ssl=R0}else this.host=e.host,this.ssl=e.ssl??R0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=GE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<KI)throw new se(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Rx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yb(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new se(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new se(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new se(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zh{constructor(e,n,r,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new C0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new C0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new _x;switch(r.type){case"firstParty":return new bx(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new se(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=I0.get(n);r&&(oe(_C,"Removing Datastore"),I0.delete(n),r.terminate())})(this),Promise.resolve()}}function TC(s,e,n,r={}){s=ls(s,zh);const l=vo(e),u=s._getSettings(),f={...u,emulatorOptions:s._getEmulatorOptions()},m=`${e}:${n}`;l&&(pT(`https://${m}`),gT("Firestore",!0)),u.host!==_b&&u.host!==m&&uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:l,emulatorOptions:r};if(!rs(g,f)&&(s._setSettings(g),r.mockUserToken)){let y,b;if(typeof r.mockUserToken=="string")y=r.mockUserToken,b=$t.MOCK_USER;else{y=TS(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new se(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new $t(S)}s._authCredentials=new vx(new eE(y,b))}}class fr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fr(this.firestore,e,this._query)}}class yt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}toJSON(){return{type:yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(eu(n,yt._jsonSchema))return new yt(e,r||null,new pe(nt.fromString(n.referencePath)))}}yt._jsonSchemaVersion="firestore/documentReference/1.0",yt._jsonSchema={type:Ct("string",yt._jsonSchemaVersion),referencePath:Ct("string")};class tr extends fr{constructor(e,n,r){super(e,n,ip(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new pe(e))}withConverter(e){return new tr(this.firestore,e,this._path)}}function EC(s,e,...n){if(s=Nt(s),tE("collection","path",e),s instanceof zh){const r=nt.fromString(e,...n);return qv(r),new tr(s,null,r)}{if(!(s instanceof yt||s instanceof tr))throw new se(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(nt.fromString(e,...n));return qv(r),new tr(s.firestore,null,r)}}function Bh(s,e,...n){if(s=Nt(s),arguments.length===1&&(e=Jm.newId()),tE("doc","path",e),s instanceof zh){const r=nt.fromString(e,...n);return Bv(r),new yt(s,null,new pe(r))}{if(!(s instanceof yt||s instanceof tr))throw new se(Q.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(nt.fromString(e,...n));return Bv(r),new yt(s.firestore,s instanceof tr?s.converter:null,new pe(r))}}const N0="AsyncQueue";class D0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new XE(this,"async_queue_retry"),this._c=()=>{const r=cm();r&&oe(N0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=cm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=cm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ss;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Ao(e))throw e;oe(N0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,os("INTERNAL UNHANDLED ERROR: ",O0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=gp.createAndSchedule(this,e,n,r,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&Te(47125,{Pc:O0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function O0(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class ru extends zh{constructor(e,n,r,l){super(e,n,r,l),this.type="firestore",this._queue=new D0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new D0(e),this._firestoreClient=void 0,await e}}}function bC(s,e){const n=typeof s=="object"?s:Hm(),r=typeof s=="string"?s:lh,l=na(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=_S("firestore");u&&TC(l,...u)}return l}function Ep(s){if(s._terminated)throw new se(Q.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||AC(s),s._firestoreClient}function AC(s){const e=s._freezeSettings(),n=vC(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new fC(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(s._componentsProvider))}class Un{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Un(Kt.fromBase64String(e))}catch(n){throw new se(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Un(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(eu(e,Un._jsonSchema))return Un.fromBase64String(e.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Ct("string",Un._jsonSchemaVersion),bytes:Ct("string")};class bp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class au{constructor(e){this._methodName=e}}class Di{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Di._jsonSchemaVersion}}static fromJSON(e){if(eu(e,Di._jsonSchema))return new Di(e.latitude,e.longitude)}}Di._jsonSchemaVersion="firestore/geoPoint/1.0",Di._jsonSchema={type:Ct("string",Di._jsonSchemaVersion),latitude:Ct("number"),longitude:Ct("number")};class ei{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(eu(e,ei._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ei(e.vectorValues);throw new se(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ei._jsonSchemaVersion="firestore/vectorValue/1.0",ei._jsonSchema={type:Ct("string",ei._jsonSchemaVersion),vectorValues:Ct("object")};const SC=/^__.*__$/;class wC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new hr(e,this.data,this.fieldMask,n,this.fieldTransforms):new tu(e,this.data,n,this.fieldTransforms)}}class vb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new hr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Tb(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{dataSource:s})}}class qh{constructor(e,n,r,l,u,f){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new qh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return yh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Tb(this.dataSource)&&SC.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class xC{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Uh(e)}createContext(e,n,r,l=!1){return new qh({dataSource:e,methodName:n,targetDoc:r,path:Yt.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ap(s){const e=s._freezeSettings(),n=Uh(s._databaseId);return new xC(s._databaseId,!!e.ignoreUndefinedProperties,n)}function IC(s,e,n,r,l,u={}){const f=s.createContext(u.merge||u.mergeFields?2:0,e,n,l);xp("Data must be an object, but it was:",f,r);const m=Eb(r,f);let g,y;if(u.merge)g=new bn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const b=[];for(const S of u.mergeFields){const I=yo(e,S,n);if(!f.contains(I))throw new se(Q.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);Sb(b,I)||b.push(I)}g=new bn(b),y=f.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,y=f.fieldTransforms;return new wC(new fn(m),g,y)}class Hh extends au{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hh}}function RC(s,e,n){return new qh({dataSource:3,targetDoc:e.settings.targetDoc,methodName:s._methodName,arrayElement:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Sp extends au{_toFieldTransform(e){return new NE(e.path,new $l)}isEqual(e){return e instanceof Sp}}class wp extends au{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=RC(this,e,!0),r=this.Ac.map((u=>xo(u,n))),l=new mo(r);return new NE(e.path,l)}isEqual(e){return e instanceof wp&&rs(this.Ac,e.Ac)}}function CC(s,e,n,r){const l=s.createContext(1,e,n);xp("Data must be an object, but it was:",l,r);const u=[],f=fn.empty();cr(r,((g,y)=>{const b=Ab(e,g,n);y=Nt(y);const S=l.childContextForFieldPath(b);if(y instanceof Hh)u.push(b);else{const I=xo(y,S);I!=null&&(u.push(b),f.set(b,I))}}));const m=new bn(u);return new vb(f,m,l.fieldTransforms)}function NC(s,e,n,r,l,u){const f=s.createContext(1,e,n),m=[yo(e,r,n)],g=[l];if(u.length%2!=0)throw new se(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<u.length;I+=2)m.push(yo(e,u[I])),g.push(u[I+1]);const y=[],b=fn.empty();for(let I=m.length-1;I>=0;--I)if(!Sb(y,m[I])){const F=m[I];let J=g[I];J=Nt(J);const ee=f.childContextForFieldPath(F);if(J instanceof Hh)y.push(F);else{const te=xo(J,ee);te!=null&&(y.push(F),b.set(F,te))}}const S=new bn(y);return new vb(b,S,f.fieldTransforms)}function DC(s,e,n,r=!1){return xo(n,s.createContext(r?4:3,e))}function xo(s,e){if(bb(s=Nt(s)))return xp("Unsupported field value:",e,s),Eb(s,e);if(s instanceof au)return(function(r,l){if(!Tb(l.dataSource))throw l.createError(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,l){const u=[];let f=0;for(const m of r){let g=xo(m,l.childContextForArray(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(s,e)}return(function(r,l){if((r=Nt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return hI(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=rt.fromDate(r);return{timestampValue:dh(l.serializer,u)}}if(r instanceof rt){const u=new rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:dh(l.serializer,u)}}if(r instanceof Di)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Un)return{bytesValue:UE(l.serializer,r._byteString)};if(r instanceof yt){const u=l.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw l.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:op(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof ei)return(function(f,m){const g=f instanceof ei?f.toArray():f;return{mapValue:{fields:{[cE]:{stringValue:hE},[uh]:{arrayValue:{values:g.map((b=>{if(typeof b!="number")throw m.createError("VectorValues must only contain numeric values.");return sp(m.serializer,b)}))}}}}}})(r,l);if(FE(r))return r._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Rh(r)}`)})(s,e)}function Eb(s,e){const n={};return sE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cr(s,((r,l)=>{const u=xo(l,e.childContextForField(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function bb(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof rt||s instanceof Di||s instanceof Un||s instanceof yt||s instanceof au||s instanceof ei||FE(s))}function xp(s,e,n){if(!bb(n)||!nE(n)){const r=Rh(n);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function yo(s,e,n){if((e=Nt(e))instanceof bp)return e._internalPath;if(typeof e=="string")return Ab(s,e);throw yh("Field path arguments must be of type string or ",s,!1,void 0,n)}const OC=new RegExp("[~\\*/\\[\\]]");function Ab(s,e,n){if(e.search(OC)>=0)throw yh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new bp(...e.split("."))._internalPath}catch{throw yh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function yh(s,e,n,r,l){const u=r&&!r.isEmpty(),f=l!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${r}`),f&&(g+=` in document ${l}`),g+=")"),new se(Q.INVALID_ARGUMENT,m+s+g)}function Sb(s,e){return s.some((n=>n.isEqual(e)))}class MC{convertValue(e,n="none"){switch(ar(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(rr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return cr(e,((l,u)=>{r[l]=this.convertValue(u,n)})),r}convertVectorValue(e){const n=e.fields?.[uh].arrayValue?.values?.map((r=>gt(r.doubleValue)));return new ei(n)}convertGeoPoint(e){return new Di(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Dh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Yl(e));default:return null}}convertTimestamp(e){const n=sr(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=nt.fromString(e);Ye(HE(r),9688,{name:e});const l=new Kl(r.get(1),r.get(3)),u=new pe(r.popFirst(5));return l.isEqual(n)||os(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class wb extends MC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Un(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,n)}}function VC(){return new Sp("serverTimestamp")}function kC(...s){return new wp("arrayUnion",s)}const M0="@firebase/firestore",V0="4.10.0";class xb{constructor(e,n,r,l,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(yo("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class LC extends xb{data(){return super.data()}}function UC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new se(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ip{}class Rp extends Ip{}function jC(s,e,...n){let r=[];e instanceof Ip&&r.push(e),r=r.concat(n),(function(u){const f=u.filter((g=>g instanceof Np)).length,m=u.filter((g=>g instanceof Cp)).length;if(f>1||f>0&&m>0)throw new se(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class Cp extends Rp{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Cp(e,n,r)}_apply(e){const n=this._parse(e);return Ib(e._query,n),new fr(e.firestore,e.converter,Im(e._query,n))}_parse(e){const n=Ap(e.firestore);return(function(u,f,m,g,y,b,S){let I;if(y.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new se(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){L0(S,b);const J=[];for(const ee of S)J.push(k0(g,u,ee));I={arrayValue:{values:J}}}else I=k0(g,u,S)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||L0(S,b),I=DC(m,f,S,b==="in"||b==="not-in");return Rt.create(y,b,I)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Np extends Ip{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Np(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ni.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,u){let f=l;const m=u.getFlattenedFilters();for(const g of m)Ib(f,g),f=Im(f,g)})(e._query,n),new fr(e.firestore,e.converter,Im(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Dp extends Rp{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Dp(e,n)}_apply(e){const n=(function(l,u,f){if(l.startAt!==null)throw new se(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new se(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xl(u,f)})(e._query,this._field,this._direction);return new fr(e.firestore,e.converter,iI(e._query,n))}}function PC(s,e="asc"){const n=e,r=yo("orderBy",s);return Dp._create(r,n)}class Op extends Rp{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Op(e,n,r)}_apply(e){return new fr(e.firestore,e.converter,hh(e._query,this._limit,this._limitType))}}function zC(s){return Op._create("limit",s,"F")}function k0(s,e,n){if(typeof(n=Nt(n))=="string"){if(n==="")throw new se(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vE(e)&&n.indexOf("/")!==-1)throw new se(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(nt.fromString(n));if(!pe.isDocumentKey(r))throw new se(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $v(s,new pe(r))}if(n instanceof yt)return $v(s,n._key);throw new se(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rh(n)}.`)}function L0(s,e){if(!Array.isArray(s)||s.length===0)throw new se(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ib(s,e){const n=(function(l,u){for(const f of l)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new se(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function BC(s,e,n){let r;return r=s?n&&(n.merge||n.mergeFields)?s.toFirestore(e,n):s.toFirestore(e):e,r}class Ul{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qr extends xb{constructor(e,n,r,l,u,f){super(e,n,r,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(yo("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new se(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Qr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Qr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qr._jsonSchema={type:Ct("string",Qr._jsonSchemaVersion),bundleSource:Ct("string","DocumentSnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class Zc extends Qr{data(e={}){return super.data(e)}}class ro{constructor(e,n,r,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Ul(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Zc(this._firestore,this._userDataWriter,r.key,r,new Ul(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map((m=>{const g=new Zc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new Ul(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new Zc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new Ul(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,b=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),b=f.indexOf(m.doc.key)),{type:qC(m.type),doc:g,oldIndex:y,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new se(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ro._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Jm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function qC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:s})}}ro._jsonSchemaVersion="firestore/querySnapshot/1.0",ro._jsonSchema={type:Ct("string",ro._jsonSchemaVersion),bundleSource:Ct("string","QuerySnapshot"),bundleName:Ct("string"),bundle:Ct("string")};function Mp(s){s=ls(s,yt);const e=ls(s.firestore,ru),n=Ep(e);return pC(n,s._key).then((r=>GC(e,s,r)))}function HC(s){s=ls(s,fr);const e=ls(s.firestore,ru),n=Ep(e),r=new wb(e);return UC(s._query),gC(n,s._query).then((l=>new ro(e,r,s,l)))}function Um(s,e,n){s=ls(s,yt);const r=ls(s.firestore,ru),l=BC(s.converter,e,n),u=Ap(r);return Rb(r,[IC(u,"setDoc",s._key,l,s.converter!==null,n).toMutation(s._key,Ci.none())])}function FC(s,e,n,...r){s=ls(s,yt);const l=ls(s.firestore,ru),u=Ap(l);let f;return f=typeof(e=Nt(e))=="string"||e instanceof bp?NC(u,"updateDoc",s._key,e,n,r):CC(u,"updateDoc",s._key,e),Rb(l,[f.toMutation(s._key,Ci.exists(!0))])}function Rb(s,e){const n=Ep(s);return yC(n,e)}function GC(s,e,n){const r=n.docs.get(e._key),l=new wb(s);return new Qr(s,l,e._key,r,new Ul(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){yx(To),Vi(new ti("firestore",((r,{instanceIdentifier:l,options:u})=>{const f=r.getProvider("app").getImmediate(),m=new ru(new Tx(r.getProvider("auth-internal")),new Ax(f,r.getProvider("app-check-internal")),zx(f,l),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),jn(M0,V0,e),jn(M0,V0,"esm2020")})();function Cb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YC=Cb,Nb=new ta("auth","Firebase",Cb());const _h=new wh("@firebase/auth");function KC(s,...e){_h.logLevel<=Le.WARN&&_h.warn(`Auth (${To}): ${s}`,...e)}function Wc(s,...e){_h.logLevel<=Le.ERROR&&_h.error(`Auth (${To}): ${s}`,...e)}function cs(s,...e){throw Vp(s,...e)}function Oi(s,...e){return Vp(s,...e)}function Db(s,e,n){const r={...YC(),[e]:n};return new ta("auth","Firebase",r).create(e,{appName:s.name})}function nr(s){return Db(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vp(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return Nb.create(s,...e)}function be(s,e,...n){if(!s)throw Vp(e,...n)}function ns(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Wc(e),new Error(e)}function hs(s,e){s||ns(e)}function jm(){return typeof self<"u"&&self.location?.href||""}function QC(){return U0()==="http:"||U0()==="https:"}function U0(){return typeof self<"u"&&self.location?.protocol||null}function XC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QC()||yT()||"connection"in navigator)?navigator.onLine:!0}function $C(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class ou{constructor(e,n){this.shortDelay=e,this.longDelay=n,hs(n>e,"Short delay should be less than long delay!"),this.isMobile=AS()||xS()}get(){return XC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function kp(s,e){hs(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Ob{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const JC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const ZC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],WC=new ou(3e4,6e4);function Fh(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function ra(s,e,n,r,l={}){return Mb(s,l,async()=>{let u={},f={};r&&(e==="GET"?f=r:u={body:JSON.stringify(r)});const m=Wl({key:s.config.apiKey,...f}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:g,...u};return wS()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&vo(s.emulatorConfig.host)&&(y.credentials="include"),Ob.fetch()(await kb(s,s.config.apiHost,n,m),y)})}async function Mb(s,e,n){s._canInitEmulator=!1;const r={...JC,...e};try{const l=new eN(s),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Yc(s,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yc(s,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Yc(s,"email-already-in-use",f);if(g==="USER_DISABLED")throw Yc(s,"user-disabled",f);const b=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Db(s,b,y);cs(s,b)}}catch(l){if(l instanceof ii)throw l;cs(s,"network-request-failed",{message:String(l)})}}async function Vb(s,e,n,r,l={}){const u=await ra(s,e,n,r,l);return"mfaPendingCredential"in u&&cs(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function kb(s,e,n,r){const l=`${e}${n}?${r}`,u=s,f=u.config.emulator?kp(s.config,l):`${s.config.apiScheme}://${l}`;return ZC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class eN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Oi(this.auth,"network-request-failed")),WC.get())})}}function Yc(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const l=Oi(s,e,r);return l.customData._tokenResponse=n,l}async function tN(s,e){return ra(s,"POST","/v1/accounts:delete",e)}async function vh(s,e){return ra(s,"POST","/v1/accounts:lookup",e)}function Hl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nN(s,e=!1){const n=Nt(s),r=await n.getIdToken(e),l=Lp(r);be(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,f=u?.sign_in_provider;return{claims:l,token:r,authTime:Hl(fm(l.auth_time)),issuedAtTime:Hl(fm(l.iat)),expirationTime:Hl(fm(l.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function fm(s){return Number(s)*1e3}function Lp(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return Wc("JWT malformed, contained fewer than 3 sections"),null;try{const l=hT(n);return l?JSON.parse(l):(Wc("Failed to decode base64 JWT payload"),null)}catch(l){return Wc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function j0(s){const e=Lp(s);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function _o(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ii&&iN(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function iN({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class sN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Pm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hl(this.lastLoginAt),this.creationTime=Hl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Th(s){const e=s.auth,n=await s.getIdToken(),r=await _o(s,vh(e,{idToken:n}));be(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const u=l.providerUserInfo?.length?Lb(l.providerUserInfo):[],f=aN(s.providerData,u),m=s.isAnonymous,g=!(s.email&&l.passwordHash)&&!f?.length,y=m?g:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Pm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,b)}async function rN(s){const e=Nt(s);await Th(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aN(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function Lb(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function oN(s,e){const n=await Mb(s,{},async()=>{const r=Wl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=s.config,f=await kb(s,l,"/v1/token",`key=${u}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:r};return s.emulatorConfig&&vo(s.emulatorConfig.host)&&(g.credentials="include"),Ob.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function lN(s,e){return ra(s,"POST","/v2/accounts:revokeToken",Fh(s,e))}class ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):j0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=j0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:l,expiresIn:u}=await oN(e,n);this.updateTokensAndExpiration(r,l,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:l,expirationTime:u}=n,f=new ao;return r&&(be(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),l&&(be(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),u&&(be(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ao,this.toJSON())}_performRefresh(){return ns("not implemented")}}function Gs(s,e){be(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Wn{constructor({uid:e,auth:n,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new sN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Pm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await _o(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return nN(this,e)}reload(){return rN(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Th(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(nr(this.auth));const e=await this.getIdToken();return await _o(this,tN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:S,emailVerified:I,isAnonymous:F,providerData:J,stsTokenManager:ee}=n;be(S&&ee,e,"internal-error");const te=ao.fromJSON(this.name,ee);be(typeof S=="string",e,"internal-error"),Gs(r,e.name),Gs(l,e.name),be(typeof I=="boolean",e,"internal-error"),be(typeof F=="boolean",e,"internal-error"),Gs(u,e.name),Gs(f,e.name),Gs(m,e.name),Gs(g,e.name),Gs(y,e.name),Gs(b,e.name);const le=new Wn({uid:S,auth:e,email:l,emailVerified:I,displayName:r,isAnonymous:F,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:te,createdAt:y,lastLoginAt:b});return J&&Array.isArray(J)&&(le.providerData=J.map(Ee=>({...Ee}))),g&&(le._redirectEventId=g),le}static async _fromIdTokenResponse(e,n,r=!1){const l=new ao;l.updateFromServerResponse(n);const u=new Wn({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await Th(u),u}static async _fromGetAccountInfoResponse(e,n,r){const l=n.users[0];be(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?Lb(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!u?.length,m=new ao;m.updateFromIdToken(r);const g=new Wn({uid:l.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new Pm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(g,y),g}}const P0=new Map;function is(s){hs(s instanceof Function,"Expected a class definition");let e=P0.get(s);return e?(hs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,P0.set(s,e),e)}class Ub{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Ub.type="NONE";const z0=Ub;function eh(s,e,n){return`firebase:${s}:${e}:${n}`}class oo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:l,name:u}=this.auth;this.fullUserKey=eh(this.userKey,l.apiKey,u),this.fullPersistenceKey=eh("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await vh(this.auth,{idToken:e}).catch(()=>{});return n?Wn._fromGetAccountInfoResponse(this.auth,n,e):null}return Wn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new oo(is(z0),e,r);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=l[0]||is(z0);const f=eh(r,e.config.apiKey,e.name);let m=null;for(const y of n)try{const b=await y._get(f);if(b){let S;if(typeof b=="string"){const I=await vh(e,{idToken:b}).catch(()=>{});if(!I)break;S=await Wn._fromGetAccountInfoResponse(e,I,b)}else S=Wn._fromJSON(e,b);y!==u&&(m=S),u=y;break}}catch{}const g=l.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new oo(u,e,r):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new oo(u,e,r))}}function B0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Bb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Hb(e))return"Blackberry";if(Fb(e))return"Webos";if(Pb(e))return"Safari";if((e.includes("chrome/")||zb(e))&&!e.includes("edge/"))return"Chrome";if(qb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function jb(s=Zt()){return/firefox\//i.test(s)}function Pb(s=Zt()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zb(s=Zt()){return/crios\//i.test(s)}function Bb(s=Zt()){return/iemobile/i.test(s)}function qb(s=Zt()){return/android/i.test(s)}function Hb(s=Zt()){return/blackberry/i.test(s)}function Fb(s=Zt()){return/webos/i.test(s)}function Up(s=Zt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function uN(s=Zt()){return Up(s)&&!!window.navigator?.standalone}function cN(){return IS()&&document.documentMode===10}function Gb(s=Zt()){return Up(s)||qb(s)||Fb(s)||Hb(s)||/windows phone/i.test(s)||Bb(s)}function Yb(s,e=[]){let n;switch(s){case"Browser":n=B0(Zt());break;case"Worker":n=`${B0(Zt())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${To}/${r}`}class hN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});r.onAbort=n,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function fN(s,e={}){return ra(s,"GET","/v2/passwordPolicy",Fh(s,e))}const dN=6;class mN{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??dN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class pN{constructor(e,n,r,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new q0(this),this.idTokenSubscription=new q0(this),this.beforeStateQueue=new hN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Nb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=is(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await oo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await vh(this,{idToken:e}),r=await Wn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Zn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=r?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(r=m.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Th(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$C()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zn(this.app))return Promise.reject(nr(this));const n=e?Nt(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(nr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zn(this.app)?Promise.reject(nr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(is(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await fN(this),n=new mN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ta("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await lN(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&is(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await oo.create(this,[is(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,r,l);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Yb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&KC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Gh(s){return Nt(s)}class q0{constructor(e){this.auth=e,this.observer=null,this.addObserver=VS(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let jp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gN(s){jp=s}function yN(s){return jp.loadJS(s)}function _N(){return jp.gapiScript}function vN(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function TN(s,e){const n=na(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(rs(u,e??{}))return l;cs(l,"already-initialized")}return n.initialize({options:e})}function EN(s,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(is);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function bN(s,e,n){const r=Gh(s);be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,u=Kb(e),{host:f,port:m}=AN(e),g=m===null?"":`:${m}`,y={url:`${u}//${f}${g}/`},b=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){be(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),be(rs(y,r.config.emulator)&&rs(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,vo(f)?(pT(`${u}//${f}${g}`),gT("Auth",!0)):SN()}function Kb(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function AN(s){const e=Kb(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const u=l[1];return{host:u,port:H0(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:H0(f)}}}function H0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function SN(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Qb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ns("not implemented")}_getIdTokenResponse(e){return ns("not implemented")}_linkToIdToken(e,n){return ns("not implemented")}_getReauthenticationResolver(e){return ns("not implemented")}}async function lo(s,e){return Vb(s,"POST","/v1/accounts:signInWithIdp",Fh(s,e))}const wN="http://localhost";class ea extends Qb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):cs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...u}=n;if(!r||!l)return null;const f=new ea(r,l);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return lo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,lo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,lo(e,n)}buildRequest(){const e={requestUri:wN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Wl(n)}return e}}class Xb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class lu extends Xb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ks extends lu{constructor(){super("facebook.com")}static credential(e){return ea._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ks.credential(e.oauthAccessToken)}catch{return null}}}Ks.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ks.PROVIDER_ID="facebook.com";class Qs extends lu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ea._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Qs.credential(n,r)}catch{return null}}}Qs.GOOGLE_SIGN_IN_METHOD="google.com";Qs.PROVIDER_ID="google.com";class Xs extends lu{constructor(){super("github.com")}static credential(e){return ea._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xs.credential(e.oauthAccessToken)}catch{return null}}}Xs.GITHUB_SIGN_IN_METHOD="github.com";Xs.PROVIDER_ID="github.com";class $s extends lu{constructor(){super("twitter.com")}static credential(e,n){return ea._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return $s.credential(n,r)}catch{return null}}}$s.TWITTER_SIGN_IN_METHOD="twitter.com";$s.PROVIDER_ID="twitter.com";async function xN(s,e){return Vb(s,"POST","/v1/accounts:signUp",Fh(s,e))}class ur{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,l=!1){const u=await Wn._fromIdTokenResponse(e,r,l),f=F0(r);return new ur({user:u,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const l=F0(r);return new ur({user:e,providerId:l,_tokenResponse:r,operationType:n})}}function F0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function IN(s){if(Zn(s.app))return Promise.reject(nr(s));const e=Gh(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new ur({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await xN(e,{returnSecureToken:!0}),r=await ur._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}class Eh extends ii{constructor(e,n,r,l){super(n.code,n.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,Eh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,l){return new Eh(e,n,r,l)}}function $b(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Eh._fromErrorAndOperation(s,u,e,r):u})}async function RN(s,e,n=!1){const r=await _o(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return ur._forOperation(s,"link",r)}async function CN(s,e,n=!1){const{auth:r}=s;if(Zn(r.app))return Promise.reject(nr(r));const l="reauthenticate";try{const u=await _o(s,$b(r,l,e,s),n);be(u.idToken,r,"internal-error");const f=Lp(u.idToken);be(f,r,"internal-error");const{sub:m}=f;return be(s.uid===m,r,"user-mismatch"),ur._forOperation(s,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&cs(r,"user-mismatch"),u}}async function NN(s,e,n=!1){if(Zn(s.app))return Promise.reject(nr(s));const r="signIn",l=await $b(s,r,e),u=await ur._fromIdTokenResponse(s,r,l);return n||await s._updateCurrentUser(u.user),u}async function DN(s,e){return ra(s,"POST","/v1/accounts:update",e)}async function ON(s,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Nt(s),u={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},f=await _o(r,DN(r.auth,u));r.displayName=f.displayName||null,r.photoURL=f.photoUrl||null;const m=r.providerData.find(({providerId:g})=>g==="password");m&&(m.displayName=r.displayName,m.photoURL=r.photoURL),await r._updateTokensIfNecessary(f)}function MN(s,e,n,r){return Nt(s).onIdTokenChanged(e,n,r)}function VN(s,e,n){return Nt(s).beforeAuthStateChanged(e,n)}function kN(s,e,n,r){return Nt(s).onAuthStateChanged(e,n,r)}const bh="__sak";class Jb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bh,"1"),this.storage.removeItem(bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const LN=1e3,UN=10;class Zb extends Jb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Gb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),l=this.localCache[n];r!==l&&e(n,l,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const r=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);cN()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,UN):l()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},LN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Zb.type="LOCAL";const jN=Zb;class Wb extends Jb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Wb.type="SESSION";const e1=Wb;function PN(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const r=new Yh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:l,data:u}=n.data,f=this.handlersMap[l];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const m=Array.from(f).map(async y=>y(n.origin,u)),g=await PN(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yh.receivers=[];function Pp(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}class zN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=Pp("",20);l.port1.start();const b=setTimeout(()=>{g(new Error("unsupported_event"))},r);f={messageChannel:l,onMessage(S){const I=S;if(I.data.eventId===y)switch(I.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(I.data.response);break;default:clearTimeout(b),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Mi(){return window}function BN(s){Mi().location.href=s}function t1(){return typeof Mi().WorkerGlobalScope<"u"&&typeof Mi().importScripts=="function"}async function qN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HN(){return navigator?.serviceWorker?.controller||null}function FN(){return t1()?self:null}const n1="firebaseLocalStorageDb",GN=1,Ah="firebaseLocalStorage",i1="fbase_key";class uu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Kh(s,e){return s.transaction([Ah],e?"readwrite":"readonly").objectStore(Ah)}function YN(){const s=indexedDB.deleteDatabase(n1);return new uu(s).toPromise()}function zm(){const s=indexedDB.open(n1,GN);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Ah,{keyPath:i1})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Ah)?e(r):(r.close(),await YN(),e(await zm()))})})}async function G0(s,e,n){const r=Kh(s,!0).put({[i1]:e,value:n});return new uu(r).toPromise()}async function KN(s,e){const n=Kh(s,!1).get(e),r=await new uu(n).toPromise();return r===void 0?null:r.value}function Y0(s,e){const n=Kh(s,!0).delete(e);return new uu(n).toPromise()}const QN=800,XN=3;class s1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>XN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return t1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yh._getInstance(FN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await qN(),!this.activeServiceWorker)return;this.sender=new zN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||HN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zm();return await G0(e,bh,"1"),await Y0(e,bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>G0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>KN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Y0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=Kh(l,!1).getAll();return new uu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}s1.type="LOCAL";const $N=s1;new ou(3e4,6e4);function JN(s,e){return e?is(e):(be(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class zp extends Qb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return lo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ZN(s){return NN(s.auth,new zp(s),s.bypassAuthState)}function WN(s){const{auth:e,user:n}=s;return be(n,e,"internal-error"),CN(n,new zp(s),s.bypassAuthState)}async function eD(s){const{auth:e,user:n}=s;return be(n,e,"internal-error"),RN(n,new zp(s),s.bypassAuthState)}class r1{constructor(e,n,r,l,u=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:l,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZN;case"linkViaPopup":case"linkViaRedirect":return eD;case"reauthViaPopup":case"reauthViaRedirect":return WN;default:cs(this.auth,"internal-error")}}resolve(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const tD=new ou(2e3,1e4);class to extends r1{constructor(e,n,r,l,u){super(e,n,l,u),this.provider=r,this.authWindow=null,this.pollId=null,to.currentPopupAction&&to.currentPopupAction.cancel(),to.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){hs(this.filter.length===1,"Popup operations only handle one event");const e=Pp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,to.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tD.get())};e()}}to.currentPopupAction=null;const nD="pendingRedirect",th=new Map;class iD extends r1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=th.get(this.auth._key());if(!e){try{const r=await sD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}th.set(this.auth._key(),e)}return this.bypassAuthState||th.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sD(s,e){const n=oD(e),r=aD(s);if(!await r._isAvailable())return!1;const l=await r._get(n)==="true";return await r._remove(n),l}function rD(s,e){th.set(s._key(),e)}function aD(s){return is(s._redirectPersistence)}function oD(s){return eh(nD,s.config.apiKey,s.name)}async function lD(s,e,n=!1){if(Zn(s.app))return Promise.reject(nr(s));const r=Gh(s),l=JN(r,e),f=await new iD(r,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}const uD=600*1e3;class cD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!a1(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Oi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=uD&&this.cachedEventUids.clear(),this.cachedEventUids.has(K0(e))}saveEventToCache(e){this.cachedEventUids.add(K0(e)),this.lastProcessedEventTime=Date.now()}}function K0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function a1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function hD(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return a1(s);default:return!1}}async function fD(s,e={}){return ra(s,"GET","/v1/projects",e)}const dD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mD=/^https?/;async function pD(s){if(s.config.emulator)return;const{authorizedDomains:e}=await fD(s);for(const n of e)try{if(gD(n))return}catch{}cs(s,"unauthorized-domain")}function gD(s){const e=jm(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!mD.test(n))return!1;if(dD.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const yD=new ou(3e4,6e4);function Q0(){const s=Mi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function _D(s){return new Promise((e,n)=>{function r(){Q0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Q0(),n(Oi(s,"network-request-failed"))},timeout:yD.get()})}if(Mi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Mi().gapi?.load)r();else{const l=vN("iframefcb");return Mi()[l]=()=>{gapi.load?r():n(Oi(s,"network-request-failed"))},yN(`${_N()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw nh=null,e})}let nh=null;function vD(s){return nh=nh||_D(s),nh}const TD=new ou(5e3,15e3),ED="__/auth/iframe",bD="emulator/auth/iframe",AD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wD(s){const e=s.config;be(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?kp(e,bD):`https://${s.config.authDomain}/${ED}`,r={apiKey:e.apiKey,appName:s.name,v:To},l=SD.get(s.config.apiHost);l&&(r.eid=l);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${Wl(r).slice(1)}`}async function xD(s){const e=await vD(s),n=Mi().gapi;return be(n,s,"internal-error"),e.open({where:document.body,url:wD(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AD,dontclear:!0},r=>new Promise(async(l,u)=>{await r.restyle({setHideOnLeave:!1});const f=Oi(s,"network-request-failed"),m=Mi().setTimeout(()=>{u(f)},TD.get());function g(){Mi().clearTimeout(m),l(r)}r.ping(g).then(g,()=>{u(f)})}))}const ID={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RD=500,CD=600,ND="_blank",DD="http://localhost";class X0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function OD(s,e,n,r=RD,l=CD){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const g={...ID,width:r.toString(),height:l.toString(),top:u,left:f},y=Zt().toLowerCase();n&&(m=zb(y)?ND:n),jb(y)&&(e=e||DD,g.scrollbars="yes");const b=Object.entries(g).reduce((I,[F,J])=>`${I}${F}=${J},`,"");if(uN(y)&&m!=="_self")return MD(e||"",m),new X0(null);const S=window.open(e||"",m,b);be(S,s,"popup-blocked");try{S.focus()}catch{}return new X0(S)}function MD(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const VD="__/auth/handler",kD="emulator/auth/handler",LD=encodeURIComponent("fac");async function $0(s,e,n,r,l,u){be(s.config.authDomain,s,"auth-domain-config-required"),be(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:To,eventId:l};if(e instanceof Xb){e.setDefaultLanguage(s.languageCode),f.providerId=e.providerId||"",MS(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,S]of Object.entries({}))f[b]=S}if(e instanceof lu){const b=e.getScopes().filter(S=>S!=="");b.length>0&&(f.scopes=b.join(","))}s.tenantId&&(f.tid=s.tenantId);const m=f;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const g=await s._getAppCheckToken(),y=g?`#${LD}=${encodeURIComponent(g)}`:"";return`${UD(s)}?${Wl(m).slice(1)}${y}`}function UD({config:s}){return s.emulator?kp(s,kD):`https://${s.authDomain}/${VD}`}const dm="webStorageSupport";class jD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=e1,this._completeRedirectFn=lD,this._overrideRedirectResult=rD}async _openPopup(e,n,r,l){hs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await $0(e,n,r,jm(),l);return OD(e,u,Pp())}async _openRedirect(e,n,r,l){await this._originValidation(e);const u=await $0(e,n,r,jm(),l);return BN(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(hs(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await xD(e),r=new cD(e);return n.register("authEvent",l=>(be(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(dm,{type:dm},l=>{const u=l?.[0]?.[dm];u!==void 0&&n(!!u),cs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Gb()||Pb()||Up()}}const PD=jD;var J0="@firebase/auth",Z0="1.12.0";class zD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function BD(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qD(s){Vi(new ti("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=r.options;be(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:f,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Yb(s)},y=new pN(r,l,u,g);return EN(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Vi(new ti("auth-internal",e=>{const n=Gh(e.getProvider("auth").getImmediate());return(r=>new zD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),jn(J0,Z0,BD(s)),jn(J0,Z0,"esm2020")}const HD=300,FD=mT("authIdTokenMaxAge")||HD;let W0=null;const GD=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>FD)return;const l=n?.token;W0!==l&&(W0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function YD(s=Hm()){const e=na(s,"auth");if(e.isInitialized())return e.getImmediate();const n=TN(s,{popupRedirectResolver:PD,persistence:[$N,jN,e1]}),r=mT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=GD(u.toString());VN(n,f,()=>f(n.currentUser)),MN(n,m=>f(m))}}const l=fT("auth");return l&&bN(n,`http://${l}`),n}function KD(){return document.getElementsByTagName("head")?.[0]??document}gN({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const u=Oi("internal-error");u.customData=l,n(u)},r.type="text/javascript",r.charset="UTF-8",KD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qD("Browser");const QD={apiKey:"AIzaSyAVpKz8TJcz9Q0CbSj2v_KQyeEs6SsuXsI",authDomain:"invitation-475eb.firebaseapp.com",projectId:"invitation-475eb",storageBucket:"invitation-475eb.firebasestorage.app",messagingSenderId:"1068873981449",appId:"1:1068873981449:web:82210f667d60117585e2d8",measurementId:"G-5YHV8DE43L"},Bp=AT(QD);fx(Bp);const cu=bC(Bp),Xr=YD(Bp),XD=s=>{window.dispatchEvent(new CustomEvent("show-toast",{detail:{message:s}}))},$D=()=>{const[s,e]=fe.useState(null);return fe.useEffect(()=>{const n=r=>{const l=r.detail.message,u=Date.now();e({message:l,id:u}),setTimeout(()=>{e(f=>f&&f.id===u?null:f)},3e3)};return window.addEventListener("show-toast",n),()=>window.removeEventListener("show-toast",n)},[]),s?E.jsxs("div",{style:eT.toast,children:[E.jsx("span",{style:eT.icon,children:""}),s.message]}):null},eT={toast:{position:"fixed",top:"20px",left:"50%",transform:"translateX(-50%)",backgroundColor:"rgba(0, 0, 0, 0.9)",color:"#ffd700",padding:"12px 24px",borderRadius:"30px",fontSize:"0.9rem",fontWeight:"bold",zIndex:9999,display:"flex",alignItems:"center",gap:"8px",boxShadow:"0 4px 15px rgba(0,0,0,0.3)",animation:"slideDown 0.3s ease-out",whiteSpace:"nowrap",border:"1px solid #ffd700"},icon:{fontSize:"1.2rem"}},o1=document.createElement("style");o1.innerText=`
  @keyframes slideDown {
    from { transform: translate(-50%, -20px); opacity: 0; }
    to { transform: translate(-50%, 0); opacity: 1; }
  }
`;document.head.appendChild(o1);const eo={FIRST_STEP:{id:"FIRST_STEP",title:" ",desc:"  ."},RUNNER:{id:"RUNNER",title:" ",desc:" () ."},HIGH_SCORE:{id:"HIGH_SCORE",title:" ",desc:"  100 !"},WEDDING_CRASHER:{id:"WEDDING_CRASHER",title:" ?",desc:"   10 ."},DATA_COLLECTOR:{id:"DATA_COLLECTOR",title:" ",desc:"    ."}},Zl=async(s,e=null)=>{const n=Xr.currentUser;if(n)try{const r=Bh(cu,"users",n.uid),l=await Mp(r);if(!l.exists())return;const f=l.data().achievements||[],m=async g=>{if(f.includes(g))return;const y=eo[g];XD(` : ${y.title}`),await FC(r,{achievements:kC(g)})};switch(s){case"LOGIN":await m(eo.FIRST_STEP.id);break;case"GAME_START":await m(eo.RUNNER.id);break;case"GAME_SCORE":e>=100&&await m(eo.HIGH_SCORE.id);break;case"TOUCH_CHARACTER":e&&e.groom>=10&&e.bride>=10&&await m(eo.WEDDING_CRASHER.id);break;default:break}}catch(r){console.error("Error checking achievement:",r)}},l1=({selectedCharacter:s="groom"})=>{const e=fe.useRef(null),[n,r]=fe.useState("START"),[l,u]=fe.useState(0),[f,m]=fe.useState(s),[g,y]=fe.useState(0),[b,S]=fe.useState(!1);fe.useEffect(()=>{m(s)},[s]);const I=fe.useRef(new Image),F=fe.useRef(new Image);fe.useEffect(()=>{let x=0;const V=2,D=R=>new Promise(ae=>{const de=new Image;de.crossOrigin="Anonymous",de.onload=()=>{const U=document.createElement("canvas");U.width=de.width,U.height=de.height;const W=U.getContext("2d");W.drawImage(de,0,0);const ce=W.getImageData(0,0,U.width,U.height),Z=ce.data,De=Z[0],M=Z[1],K=Z[2],ie=30;for(let ge=0;ge<Z.length;ge+=4)Math.abs(Z[ge]-De)<ie&&Math.abs(Z[ge+1]-M)<ie&&Math.abs(Z[ge+2]-K)<ie&&(Z[ge+3]=0);W.putImageData(ce,0,0);const re=new Image;re.onload=()=>ae(re),re.src=U.toDataURL()},de.src=R});(async()=>{const R=async(ae,de)=>{const U=await D(de);ae.current=U,x++,x>=V&&S(!0)};await Promise.all([R(I,lS),R(F,uS)])})()},[]);const J=800,ee=400,te=50,le=160,Ee=40,ye=()=>({x:50,y:ee-te-le,w:le,h:le,dy:0,grounded:!0,rotation:0}),ve=fe.useRef({dino:ye(),obstacles:[],clouds:[],particles:[],frame:0,bgOffset:0,isGameOver:!1,animationId:null}),Ke=()=>{const x=le;let V=le;const D=f==="groom"?I.current:F.current;if(D&&D.complete&&D.width>0){const k=D.width/3,R=D.height,ae=k/R;V=x*ae}ve.current={dino:{x:100,y:ee-te-x,w:V,h:x,dy:0,grounded:!0,rotation:0},obstacles:[],clouds:[],particles:[],frame:0,bgOffset:0,isGameOver:!1,animationId:null},u(0);for(let k=0;k<5;k++)ve.current.clouds.push({x:Math.random()*J,y:Math.random()*(ee/2),speed:.5+Math.random()*1})},Ne=()=>{if(ve.current.dino.grounded){ve.current.dino.dy=-18,ve.current.dino.grounded=!1;for(let x=0;x<8;x++)ve.current.particles.push({x:ve.current.dino.x+ve.current.dino.w/2,y:ve.current.dino.y+ve.current.dino.h+Ee,vx:(Math.random()-.5)*8,vy:(Math.random()-.5)*4,life:25})}},N=async x=>{const V=Xr.currentUser;if(V)try{const D=Bh(cu,"scores",V.uid);await Um(D,{uid:V.uid,displayName:V.displayName||"Guest",score:x,timestamp:VC()},{merge:!0}),x>g&&y(x)}catch(D){console.error(D)}};fe.useEffect(()=>{const V=e.current.getContext("2d");V.imageSmoothingEnabled=!1;let D=performance.now();const k=ae=>{if(n!=="PLAYING")return;const de=Math.min((ae-D)/16,2);D=ae;const U=ve.current;if(U.frame++,U.bgOffset+=2*de,U.frame%5===0&&u(Math.floor(U.frame/5)),U.dino.dy+=.8*de,U.dino.y+=U.dino.dy*de,U.dino.y+U.dino.h>ee-te&&(U.dino.y=ee-te-U.dino.h,U.dino.dy=0,U.dino.grounded=!0),U.frame%100===0){const Z=["","","","",""],De=Z[Math.floor(Math.random()*Z.length)];U.obstacles.push({x:J,y:ee-te-60,w:60,h:60,type:De,angle:0})}U.obstacles.forEach(Z=>{Z.x-=7*de,Z.angle+=.05}),U.obstacles=U.obstacles.filter(Z=>Z.x+Z.w>0),U.clouds.forEach(Z=>{Z.x-=Z.speed*de,Z.x+100<0&&(Z.x=J)}),U.particles.forEach(Z=>{Z.x+=Z.vx*de,Z.y+=Z.vy*de,Z.life-=de}),U.particles=U.particles.filter(Z=>Z.life>0);const W=20;let ce=!1;U.obstacles.forEach(Z=>{U.dino.x+W<Z.x+Z.w-W&&U.dino.x+U.dino.w-W>Z.x+W&&U.dino.y+W<Z.y+Z.h-W&&U.dino.y+U.dino.h-W>Z.y+W&&(ce=!0)}),ce&&(r("GAME_OVER"),U.isGameOver=!0,N(Math.floor(U.frame/5)),Zl("GAME_SCORE",Math.floor(U.frame/5))),R(V),U.isGameOver||(U.animationId=requestAnimationFrame(k))},R=ae=>{const de=ve.current,U=ae.createLinearGradient(0,0,0,ee);U.addColorStop(0,"#60A5FA"),U.addColorStop(1,"#DBEAFE"),ae.fillStyle=U,ae.fillRect(0,0,J,ee),ae.fillStyle="rgba(255, 255, 255, 0.6)",de.clouds.forEach(Z=>{ae.beginPath(),ae.arc(Z.x,Z.y,30,0,Math.PI*2),ae.arc(Z.x+25,Z.y-10,35,0,Math.PI*2),ae.arc(Z.x+50,Z.y,30,0,Math.PI*2),ae.fill()}),ae.fillStyle="#991B1B",ae.fillRect(0,ee-te,J,te),ae.fillStyle="#B91C1C",ae.fillRect(0,ee-te+10,J,te-20);const W=f==="groom"?I.current:F.current;if(W&&W.complete&&W.width>0){const Z=W.width/3,De=W.height,M=Math.floor(de.frame/8)%2+1,K=de.dino.grounded?M:0;if(de.dino.w===le&&Z!==De){const ie=Z/De;de.dino.w=de.dino.h*ie}ae.save(),ae.drawImage(W,K*Z,0,Z,De,de.dino.x,de.dino.y+Ee,de.dino.w,de.dino.h),ae.restore()}else ae.fillStyle="white",ae.fillRect(de.dino.x,de.dino.y,de.dino.w,de.dino.h);ae.font="40px Arial",ae.textAlign="center",ae.textBaseline="middle",de.obstacles.forEach(Z=>{ae.save(),ae.translate(Z.x+Z.w/2,Z.y+Z.h/2),Z.type!==""&&ae.rotate(Math.sin(de.frame*.1)*.2),ae.fillText(Z.type,0,0),ae.restore()}),ae.fillStyle="#fff",de.particles.forEach(Z=>{ae.globalAlpha=Z.life/20,ae.beginPath(),ae.arc(Z.x,Z.y,3,0,Math.PI*2),ae.fill()}),ae.globalAlpha=1;const ce=-(de.bgOffset%100);ae.font="20px Arial";for(let Z=0;Z<J+100;Z+=100)ae.fillText("",Z+ce,ee-10)};return n==="PLAYING"?(D=performance.now(),ve.current.animationId=requestAnimationFrame(k)):R(V),()=>cancelAnimationFrame(ve.current.animationId)},[n,f,b]);const w=x=>{n==="START"||n==="GAME_OVER"?(Ke(),r("PLAYING"),Zl("GAME_START")):Ne()};return E.jsxs("div",{className:"relative w-full max-w-3xl aspect-[2/1] bg-white rounded-3xl overflow-hidden shadow-2xl border-4 border-black font-['Jua'] select-none cursor-pointer group",onClick:w,children:[E.jsx("canvas",{ref:e,width:800,height:400,className:"w-full h-full block"}),n==="START"&&E.jsxs("div",{className:"absolute inset-0 bg-black/40 flex flex-col items-center justify-center backdrop-blur-sm",children:[E.jsx("h2",{className:"text-5xl text-white font-black drop-shadow-md mb-4 animate-bounce",children:"WEDDING RUN"}),E.jsx("p",{className:"text-xl text-yellow-300 mb-8 font-bold",children:"  !"}),E.jsx("div",{className:"bg-white text-black px-8 py-3 rounded-full font-black text-2xl shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] border-2 border-black group-hover:scale-110 transition-transform",children:"START"})]}),n==="GAME_OVER"&&E.jsxs("div",{className:"absolute inset-0 bg-black/60 flex flex-col items-center justify-center backdrop-blur-md animate-in zoom-in duration-300",children:[E.jsx("p",{className:"text-6xl mb-2",children:""}),E.jsx("h2",{className:"text-4xl text-white font-black mb-2",children:"OOPS!"}),E.jsxs("div",{className:"bg-white/90 p-6 rounded-2xl border-4 border-black text-center mb-6 shadow-lg",children:[E.jsx("p",{className:"text-sm text-gray-500 font-bold mb-1",children:"SCORE"}),E.jsx("p",{className:"text-5xl font-black text-orange-500",children:l})]}),E.jsx("div",{className:"bg-[#22D3EE] text-white px-8 py-3 rounded-full font-black text-xl shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] border-2 border-black animate-pulse",children:"TRY AGAIN"})]}),E.jsxs("div",{className:"absolute top-4 right-4 bg-white/80 backdrop-blur px-4 py-2 rounded-full border-2 border-black font-black text-2xl shadow-md",children:[l,"m"]}),E.jsx("div",{className:"absolute bottom-2 left-2 text-xs text-white/50 font-bold",children:"Design by Trickcal Style"})]})},JD=()=>{const[s,e]=fe.useState(!1),n=fe.useRef(null),r=()=>{s?n.current.pause():n.current.play(),e(!s)};return fe.useEffect(()=>{if(n.current){n.current.volume=.5;const l=n.current.play();l!==void 0&&l.then(()=>{e(!0)}).catch(u=>{console.log("Auto-play prevented:",u),e(!1)})}},[]),E.jsxs("div",{style:tT.container,children:[E.jsx("audio",{ref:n,src:"/Invitation/bgm.mp3",loop:!0}),E.jsx("button",{onClick:r,style:tT.button,children:s?" ON":" OFF"})]})},tT={container:{position:"fixed",top:"20px",right:"20px",zIndex:1e3},button:{background:"rgba(255, 255, 255, 0.8)",border:"1px solid #ddd",borderRadius:"20px",padding:"8px 16px",fontSize:"0.8rem",cursor:"pointer",boxShadow:"0 2px 5px rgba(0,0,0,0.1)",display:"flex",alignItems:"center",gap:"5px",fontFamily:"var(--font-serif)"}},ZD="/Invitation/assets/groom-cEf0GPId.jpg",WD="/Invitation/assets/bride-C9xQdNrL.jpg",u1=()=>{const[s,e]=fe.useState(null),[n,r]=fe.useState(!1),l=[{id:"groom",name:"",type:"[ / ]",stars:"",desc:'"   ,    .  ,  ."',atk:"",def:"",img:ZD,bank:"",account:"49591044955107",displayAccount:"495-910449-55107",holder:""},{id:"bride",name:"",type:"[ / ]",stars:"",desc:'"    ,     .    ."',atk:"",def:"",img:WD,bank:"",account:"110297915880",displayAccount:"110-297-915880",holder:""}],u=g=>{const y=`${g.account} ${g.bank}`;navigator.clipboard.writeText(y).then(()=>{r(!0),setTimeout(()=>r(!1),2e3)}).catch(b=>{console.error("Failed to copy: ",b)}),e(g.id)},f=(g,y,b)=>{if(b)return;const S=document.getElementById(`card-${y}`),I=S.getBoundingClientRect(),F=g.clientX-I.left,J=g.clientY-I.top,ee=I.width/2,te=I.height/2,le=(J-te)/te*-10,Ee=(F-ee)/ee*10;S.style.transform=`perspective(1000px) rotateX(${le}deg) rotateY(${Ee}deg) scale3d(1.05, 1.05, 1.05)`;const ye=S.querySelector(".glare");ye&&(ye.style.background=`radial-gradient(circle at ${F}px ${J}px, rgba(255,255,255,0.4) 0%, rgba(255,255,255,0) 80%)`,ye.style.opacity="1")},m=(g,y)=>{if(y)return;const b=document.getElementById(`card-${g}`);b.style.transform="perspective(1000px) rotateX(0) rotateY(0) scale3d(1, 1, 1)";const S=b.querySelector(".glare");S&&(S.style.opacity="0")};return E.jsxs("section",{className:"py-24 px-4 bg-gray-50 text-center overflow-hidden",children:[E.jsx("h2",{className:"text-sm text-primary tracking-[0.2em] font-bold mb-4 uppercase",children:"CARD BATTLE? NO, LOVE!"}),E.jsx("p",{className:"text-gray-500 mb-12 animate-pulse text-sm",children:"     "}),E.jsx("div",{className:"flex flex-col md:flex-row justify-center gap-8 items-center max-w-5xl mx-auto relative z-10",children:l.map((g,y)=>{const b=s===g.id;return E.jsxs("div",{className:"relative w-full max-w-[320px] group perspective",children:[E.jsxs("div",{id:`card-${y}`,className:`
                                    w-full aspect-[300/440] bg-[#C57038] p-[1.5%] rounded-xl border-4 border-gray-700 shadow-2xl cursor-pointer relative z-20 transition-all duration-300
                                    ${b?"scale-110 -translate-y-4 z-50 brightness-110 shadow-[0_0_30px_rgba(249,115,22,0.6)]":""}
                                    ${s&&!b?"blur-sm scale-95 brightness-50":""}
                                `,onClick:()=>u(g),onMouseMove:S=>f(S,y,b),onMouseLeave:()=>m(y,b),children:[E.jsx("div",{className:"glare absolute inset-0 rounded-lg pointer-events-none z-10 opacity-0 transition-opacity duration-200 mix-blend-overlay"}),E.jsxs("div",{className:"bg-[#A85A32] h-full flex flex-col p-1 border border-[#774E36]",children:[E.jsxs("div",{className:"flex justify-between items-center bg-white border border-black px-2 py-1 mb-1 shadow-inner rounded-sm",children:[E.jsx("span",{className:"font-bold text-black text-lg",children:g.name}),E.jsx("span",{className:"text-xl",children:""})]}),E.jsx("div",{className:"text-right mb-1 text-xs leading-none tracking-tighter text-yellow-300 drop-shadow-md",children:g.stars}),E.jsx("div",{className:"w-full aspect-square bg-white border-2 border-gray-400 shadow-inner mb-2 overflow-hidden relative",children:E.jsx("img",{src:g.img,alt:g.name,className:"w-full h-full object-cover"})}),E.jsxs("div",{className:"flex-1 bg-[#F3EBD8] border-2 border-black p-2 flex flex-col relative overflow-hidden",children:[E.jsx("div",{className:"font-bold border-b border-black mb-1 text-xs inline-block w-full pb-0.5",children:g.type}),E.jsx("p",{className:"flex-1 italic text-[0.7rem] leading-snug text-gray-900 line-clamp-4",children:g.desc}),E.jsxs("div",{className:"border-t border-black pt-1 mt-1 text-right font-mono font-bold text-xs",children:[E.jsxs("span",{children:["ATK/",g.atk]}),E.jsxs("span",{className:"ml-2",children:["DEF/",g.def]})]})]})]})]}),E.jsxs("div",{className:"mt-4 w-full p-4 bg-white rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all cursor-pointer flex flex-col gap-1 items-center z-10 relative",onClick:()=>u(g),children:[E.jsx("span",{className:"font-bold text-cta text-sm",children:g.bank}),E.jsx("span",{className:"font-mono font-bold text-gray-800 text-base",children:g.displayAccount}),E.jsxs("span",{className:"text-xs text-gray-500",children:["(",g.holder,")"]})]})]},g.id)})}),E.jsx("div",{className:`
                    fixed bottom-8 left-1/2 -translate-x-1/2 bg-black/80 text-white px-6 py-3 rounded-full font-bold shadow-xl z-[100] whitespace-nowrap transition-all duration-300
                    ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-4 pointer-events-none"}
                `,children:"  !"}),s&&E.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 backdrop-blur-sm transition-opacity duration-300",onClick:()=>e(null)})]})},e4=()=>E.jsxs("div",{className:"app-container",children:[E.jsx(JA,{}),E.jsx(WA,{}),E.jsx(eS,{}),E.jsx(oT,{forceUnlock:!0}),E.jsx(rS,{}),E.jsx(l1,{}),E.jsx(u1,{}),E.jsx(JD,{}),E.jsx(lT,{})]}),t4=({onStart:s,onSwitchToV1:e})=>{const[n,r]=fe.useState(!1),[l,u]=fe.useState(""),[f,m]=fe.useState(!1),[g,y]=fe.useState("  ...");fe.useEffect(()=>{r(!0);const S=kN(Xr,I=>{});return()=>S()},[]);const b=async()=>{if(!l.trim()){alert(" ! ()");return}m(!0),y("   ...  ! "),[{text:"    ...  ! ",delay:800},{text:"    ... ",delay:1600},{text:`, [${l}] !  .`,delay:2400}].forEach(({text:I,delay:F})=>{setTimeout(()=>y(I),F)}),setTimeout(async()=>{try{let I=Xr.currentUser;I||(I=(await IN(Xr)).user),await ON(I,{displayName:l});const F=Bh(cu,"users",I.uid);(await Mp(F)).exists()?await Um(F,{nickname:l},{merge:!0}):await Um(F,{nickname:l,achievements:[],createdAt:new Date}),Zl("LOGIN"),s()}catch(I){console.error("Login Failed",I),alert(" .  ."),m(!1)}},3e3)};return E.jsxs("div",{className:"flex flex-col items-center justify-center h-full w-full bg-gradient-to-b from-yellow-300 to-orange-400 p-4 font-['Jua']",children:[E.jsxs("div",{className:`transform transition-all duration-1000 ${n?"translate-y-0 opacity-100 scale-100":"translate-y-[-50px] opacity-0 scale-90"}`,children:[E.jsxs("h1",{className:"text-6xl md:text-8xl font-black text-white drop-shadow-[0_5px_5px_rgba(0,0,0,0.2)] tracking-tighter mb-2 animate-bounce select-none",children:[E.jsx("span",{className:"inline-block hover:scale-110 transition-transform cursor-pointer text-cyan-500 transform -rotate-6",children:"W"}),E.jsx("span",{className:"inline-block hover:scale-110 transition-transform cursor-pointer text-pink-500 transform rotate-3",children:"E"}),E.jsx("span",{className:"inline-block hover:scale-110 transition-transform cursor-pointer text-yellow-300 transform -rotate-3",children:"D"}),E.jsx("span",{className:"inline-block hover:scale-110 transition-transform cursor-pointer text-green-400 transform rotate-6",children:"D"}),E.jsx("span",{className:"inline-block hover:scale-110 transition-transform cursor-pointer text-purple-400 transform -rotate-2",children:"I"}),E.jsx("span",{className:"inline-block hover:scale-110 transition-transform cursor-pointer text-red-400 transform rotate-4",children:"N"}),E.jsx("span",{className:"inline-block hover:scale-110 transition-transform cursor-pointer text-blue-400 transform -rotate-3",children:"G"})]}),E.jsx("p",{className:"text-white text-xl md:text-2xl font-bold text-center drop-shadow-md bg-black/20 rounded-full px-6 py-2 mx-auto w-fit backdrop-blur-sm",children:"Is Coming!"})]}),E.jsx("div",{className:"my-8 relative group cursor-pointer",children:E.jsx("div",{className:"w-32 h-32 bg-white rounded-full border-4 border-black shadow-[8px_8px_0px_0px_rgba(0,0,0,0.2)] flex items-center justify-center text-4xl overflow-hidden transform transition-transform group-hover:scale-110 group-active:scale-95 duration-200",children:""})}),E.jsx("div",{className:"flex flex-col items-center gap-4 mb-8 w-full max-w-xs",children:f?E.jsx("div",{className:"bg-black/20 px-6 py-4 rounded-2xl backdrop-blur-sm border-2 border-white/30 w-full animate-in zoom-in duration-300",children:E.jsx("p",{className:"text-white font-black text-center text-lg break-keep leading-relaxed drop-shadow-md animate-pulse",children:g})}):E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"relative w-full",children:[E.jsx("input",{type:"text",placeholder:"() ",value:l,onChange:S=>u(S.target.value),className:"w-full h-14 pl-12 pr-4 rounded-xl border-4 border-black text-xl font-bold focus:outline-none focus:ring-4 focus:ring-blue-300 shadow-md placeholder:text-gray-300",maxLength:8,onKeyDown:S=>S.key==="Enter"&&b(),autoFocus:!0}),E.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-2xl",children:""})]}),E.jsx("button",{onClick:b,className:"group relative w-full bg-[#22D3EE] border-4 border-black px-8 py-4 rounded-2xl shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] active:shadow-none active:translate-x-[6px] active:translate-y-[6px] transition-all duration-100",children:E.jsxs("div",{className:"flex items-center justify-center gap-2",children:[E.jsx("span",{className:"text-2xl",children:""}),E.jsx("span",{className:"block text-2xl font-black text-white",children:""})]})})]})}),E.jsx("button",{onClick:e,className:"text-white/80 font-bold underline hover:text-white transition-colors text-sm",children:"Back to Classic Mode"})]})},c1="/Invitation/assets/groom_nobg-tvOAzn_6.png",h1="/Invitation/assets/bride_nobg-CV5a6LWZ.png";var n4=iT();const ts={audioCtx:null,init(){this.audioCtx||(this.audioCtx=new(window.AudioContext||window.webkitAudioContext))},playTone(s,e,n,r=.1){try{if(this.audioCtx||this.init(),!this.audioCtx)return;this.audioCtx.state==="suspended"&&this.audioCtx.resume().catch(()=>{});const l=this.audioCtx.createOscillator(),u=this.audioCtx.createGain();l.type=e,l.frequency.setValueAtTime(s,this.audioCtx.currentTime),u.gain.setValueAtTime(r,this.audioCtx.currentTime),u.gain.exponentialRampToValueAtTime(.01,this.audioCtx.currentTime+n),l.connect(u),u.connect(this.audioCtx.destination),l.start(),l.stop(this.audioCtx.currentTime+n)}catch(l){console.warn("Audio play failed",l)}},playClick(){this.playTone(800,"sine",.1,.1)},playConfirm(){try{if(this.audioCtx||this.init(),!this.audioCtx)return;this.audioCtx.state==="suspended"&&this.audioCtx.resume().catch(()=>{});const s=this.audioCtx.currentTime,e=this.audioCtx.createOscillator(),n=this.audioCtx.createGain();e.type="sine",e.frequency.setValueAtTime(600,s),e.frequency.exponentialRampToValueAtTime(1200,s+.1),n.gain.setValueAtTime(.1,s),n.gain.exponentialRampToValueAtTime(.01,s+.2),e.connect(n),n.connect(this.audioCtx.destination),e.start(),e.stop(s+.2)}catch(s){console.warn("Audio confirm failed",s)}},playHover(){this.playTone(400,"sine",.05,.05)}},i4=Object.assign({"../../assets/images/gallery1.jpg":sT,"../../assets/images/gallery2.jpg":rT,"../../assets/images/gallery3.jpg":aT}),mm=Object.values(i4).map(s=>s.default),s4=()=>{const[s,e]=fe.useState(!1),[n,r]=fe.useState(null),[l,u]=fe.useState(null),f=()=>{s||mm.length===0||(ts.playClick(),e(!0),r(null),setTimeout(()=>{const m=Math.floor(Math.random()*mm.length),g=mm[m],y=JSON.parse(localStorage.getItem("wedding_collection")||"[]");y.includes(m)||(y.push(m),localStorage.setItem("wedding_collection",JSON.stringify(y)),window.dispatchEvent(new Event("collectionUpdated")));const b=Math.random(),S=b>.8?"SSR":b>.5?"SR":"R";r(g),u(S),e(!1),ts.playConfirm()},2e3))};return E.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-[#FCD34D] relative overflow-hidden font-['Jua'] p-4",children:[E.jsx("div",{className:"absolute inset-0 z-0 opacity-30 pointer-events-none",style:{background:"repeating-conic-gradient(#F59E0B 0deg 15deg, transparent 15deg 30deg)"}}),!n&&!s&&E.jsxs("div",{className:"z-10 flex flex-col items-center w-full max-w-sm animate-in zoom-in duration-300",children:[E.jsxs("div",{className:"mb-8 text-center bg-white border-4 border-black px-8 py-4 rounded-[2rem] shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] transform -rotate-2",children:[E.jsx("h2",{className:"text-3xl font-black text-black m-0",children:"  "}),E.jsx("p",{className:"text-gray-500 font-bold mt-1 text-sm",children:"  ?"})]}),E.jsxs("button",{onClick:f,className:"group relative w-64 h-24 bg-[#3B82F6] hover:bg-[#2563EB] text-white rounded-full border-[6px] border-black shadow-[0px_8px_0px_0px_#1E40AF,0px_15px_10px_rgba(0,0,0,0.4)] active:translate-y-[8px] active:shadow-[0px_0px_0px_0px_#1E40AF] transition-all",children:[E.jsxs("div",{className:"flex items-center justify-center gap-3",children:[E.jsx("span",{className:"text-4xl filter drop-shadow animate-bounce",children:""}),E.jsx("span",{className:"text-3xl font-black tracking-widest",children:"1 "})]}),E.jsx("div",{className:"absolute top-2 left-4 w-56 h-8 bg-white opacity-20 rounded-full"})]}),E.jsx("p",{className:"mt-10 text-sm font-bold text-black/60 bg-white/50 px-4 py-1 rounded-full border border-black/10",children:"*    ... ."})]}),s&&E.jsxs("div",{className:"z-10 flex flex-col items-center justify-center animate-pulse",children:[E.jsx("div",{className:"text-8xl mb-4 animate-[bounce_0.5s_infinite]",children:""}),E.jsx("p",{className:"text-2xl font-black text-black",children:"..."})]}),n&&!s&&n4.createPortal(E.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4",style:{fontFamily:"Jua"},children:[E.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm animate-in fade-in duration-200",onClick:()=>r(null)}),E.jsxs("div",{className:"relative z-10 flex flex-col items-center animate-in zoom-in duration-500",children:[E.jsx("div",{className:`absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[120%] h-[120%] bg-${l==="SSR"?"yellow":l==="SR"?"pink":"blue"}-500 blur-3xl opacity-50 rounded-full animate-pulse`}),E.jsxs("div",{className:"bg-white p-4 pb-12 rounded-lg shadow-2xl transform rotate-1 border-4 border-gray-200 max-w-[90vw] max-h-[70vh] flex flex-col items-center",children:[E.jsx("div",{className:"absolute -top-6 -left-6 z-20",children:E.jsxs("span",{className:`
                                    inline-block px-4 py-2 rounded-full border-4 border-black text-white font-black text-xl shadow-lg transform -rotate-12
                                    ${l==="SSR"?"bg-[#F59E0B]":l==="SR"?"bg-[#EC4899]":"bg-[#3B82F6]"}
                                `,children:[l," RANK"]})}),E.jsx("img",{src:n,alt:"Result",className:"w-[300px] h-[300px] object-cover rounded border border-gray-100 bg-gray-100"}),E.jsx("h3",{className:"mt-4 text-2xl font-black text-gray-800 text-center w-full",children:l==="SSR"?"   ":l==="SR"?"  ":" !"}),E.jsx("div",{className:"absolute bottom-4 right-4 text-gray-400 font-serif text-sm",children:"2026.04.25"})]}),E.jsxs("div",{className:"flex gap-4 mt-8",children:[E.jsx("button",{onClick:()=>r(null),className:"px-8 py-3 bg-gray-600 text-white rounded-full font-bold border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,0.5)] hover:scale-105 active:scale-95 transition-all",children:""}),E.jsxs("button",{onClick:f,className:"px-8 py-3 bg-[#3B82F6] text-white rounded-full font-bold border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,0.5)] hover:scale-105 active:scale-95 transition-all flex items-center gap-2",children:[E.jsx("span",{children:""}),"  "]})]})]})]}),document.body)]})},nT=[{id:1,speaker:"",text:"!    .",image:"groom",expression:"smile"},{id:2,speaker:"",text:"        !",image:"bride",expression:"happy"},{id:3,speaker:"",text:"    .     ' '.",image:"groom",expression:"serious"},{id:4,speaker:"",text:"  ,   ?",image:"bride",expression:"wink"},{id:5,speaker:"SYSTEM",text:" []  .  !",image:"system",expression:"none"}],r4=({onClose:s})=>{const[e,n]=fe.useState(0),[r,l]=fe.useState(""),[u,f]=fe.useState(!1),m=nT[e];fe.useEffect(()=>{if(!m)return;l(""),f(!0);let y=0;const b=m.text,I=setInterval(()=>{y<b.length?(l(F=>F+b.charAt(y)),y++):(clearInterval(I),f(!1))},30);return()=>clearInterval(I)},[e]);const g=()=>{ts.playClick(),u?(l(m.text),f(!1)):e<nT.length-1?n(y=>y+1):(ts.playConfirm(),s())};return E.jsxs("div",{className:"w-full h-full relative flex flex-col justify-end overflow-hidden cursor-pointer min-h-[500px]",onClick:g,children:[E.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 h-[80%] flex items-end transition-transform duration-300",children:E.jsx("img",{src:m.image==="groom"?c1:h1,alt:"Character",className:"h-full object-contain filter drop-shadow-lg animate-in slide-in-from-bottom-10 fade-in duration-300"},e)}),E.jsxs("div",{className:"relative z-10 m-4 mb-8",children:[E.jsx("div",{className:"absolute -top-7 left-8 bg-[#EF4444] text-white font-['Jua'] px-8 py-2 rounded-t-xl rounded-br-xl border-2 border-black shadow-md transform -skew-x-6 origin-bottom-left z-20",children:E.jsx("span",{className:"text-2xl inline-block transform skew-x-6 drop-shadow-sm",children:m.speaker})}),E.jsxs("div",{className:"bg-white/95 backdrop-blur border-4 border-black rounded-3xl p-8 shadow-xl min-h-[200px] relative",children:[E.jsxs("p",{className:"font-['Gowun+Dodum'] text-xl md:text-2xl text-gray-800 leading-relaxed type-animation",children:[r,E.jsx("span",{className:"animate-pulse inline-block ml-1 font-bold",children:"|"})]}),!u&&E.jsx("div",{className:"absolute bottom-4 right-6 animate-bounce text-orange-500",children:E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:4,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})})]})]})]})},a4=()=>{const[s,e]=fe.useState([]),[n,r]=fe.useState(!0),l=Xr.currentUser;return fe.useEffect(()=>{(async()=>{try{const f=jC(EC(cu,"scores"),PC("score","desc"),zC(50)),g=(await HC(f)).docs.map(S=>({id:S.id,...S.data()})),y=new Map;g.forEach(S=>{const I=S.displayName;(!y.has(I)||y.get(I).score<S.score)&&y.set(I,S)});const b=Array.from(y.values()).sort((S,I)=>I.score-S.score).slice(0,10);e(b)}catch(f){console.error("Error fetching rankings: ",f)}finally{r(!1)}})()},[]),n?E.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading..."}):E.jsxs("div",{style:Ys.container,children:[E.jsx("h3",{style:Ys.header,children:" TOP 10 "}),E.jsxs("table",{style:Ys.table,children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:"#"}),E.jsx("th",{children:"NICNAME"}),E.jsx("th",{children:"SCORE"})]})}),E.jsx("tbody",{children:s.map((u,f)=>{const m=l&&(l.uid===u.id||l.displayName===u.displayName);return E.jsxs("tr",{style:m?Ys.myRow:{},children:[E.jsx("td",{style:Ys.cell,children:f+1}),E.jsxs("td",{style:Ys.cell,children:[u.displayName," ",m&&"()"]}),E.jsx("td",{style:{...Ys.cell,fontWeight:"bold"},children:u.score})]},u.id)})})]}),E.jsx("div",{style:Ys.footer,children:"*   ."})]})},Ys={container:{padding:"10px",color:"#333",fontFamily:'"Rajdhani", sans-serif'},header:{textAlign:"center",marginBottom:"15px",borderBottom:"2px solid #333",paddingBottom:"10px"},table:{width:"100%",borderCollapse:"collapse",fontSize:"0.9rem"},cell:{padding:"8px",borderBottom:"1px solid #ddd",textAlign:"center"},myRow:{backgroundColor:"#fff3cd",fontWeight:"bold"},footer:{marginTop:"20px",fontSize:"0.8rem",color:"#888",textAlign:"center"}},o4=()=>{const[s,e]=fe.useState([]),[n,r]=fe.useState(!0),l=Xr.currentUser;if(fe.useEffect(()=>{(async()=>{if(l)try{const m=Bh(cu,"users",l.uid),g=await Mp(m);g.exists()&&e(g.data().achievements||[])}catch(m){console.error("Error fetching achievements:",m)}finally{r(!1)}})()},[l]),n)return E.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading..."});const u=Object.values(eo);return E.jsxs("div",{style:xi.container,children:[E.jsx("h3",{style:xi.header,children:"   (MY ACHIEVEMENTS)"}),E.jsx("div",{style:xi.grid,children:u.map(f=>{const m=s.includes(f.id);return E.jsxs("div",{style:{...xi.card,...m?xi.unlocked:xi.locked},children:[E.jsx("div",{style:xi.icon,children:m?"":""}),E.jsxs("div",{style:xi.info,children:[E.jsx("div",{style:xi.title,children:f.title}),E.jsx("div",{style:xi.desc,children:f.desc})]})]},f.id)})})]})},xi={container:{padding:"10px",color:"#333",fontFamily:'"Rajdhani", sans-serif'},header:{textAlign:"center",marginBottom:"15px",borderBottom:"2px solid #333",paddingBottom:"10px"},grid:{display:"flex",flexDirection:"column",gap:"10px"},card:{display:"flex",alignItems:"center",padding:"10px",borderRadius:"8px",border:"1px solid #ddd",transition:"transform 0.2s"},unlocked:{backgroundColor:"#fffbe6",border:"2px solid #ffd700",boxShadow:"0 2px 5px rgba(255, 215, 0, 0.3)"},locked:{backgroundColor:"#f5f5f5",filter:"grayscale(100%)",opacity:.7},icon:{fontSize:"2rem",marginRight:"15px"},info:{flex:1},title:{fontWeight:"bold",fontSize:"1rem",marginBottom:"3px"},desc:{fontSize:"0.8rem",color:"#666"}},l4=({onSwitchToV1:s})=>{const[e,n]=fe.useState("bride"),[r,l]=fe.useState(!1),[u,f]=fe.useState(""),[m,g]=fe.useState(null),[y,b]=fe.useState(""),[S,I]=fe.useState({groom:0,bride:0}),[F,J]=fe.useState(!1);fe.useEffect(()=>{const ve=new Date("2026-04-25T16:50:00"),Ke=()=>{const w=ve-new Date,x=Math.ceil(w/(1e3*60*60*24));b(x>0?`D-${x}`:x===0?"D-DAY":`D+${Math.abs(x)}`)};Ke();const Ne=setInterval(Ke,1e3*60);return()=>clearInterval(Ne)},[]);const ee=()=>{ts.playClick(),n(ve=>ve==="bride"?"groom":"bride")},te=()=>{ts.playClick(),J(!0),setTimeout(()=>J(!1),200);const ve=e==="bride"?["   !","  ~"," !","   !","  !"]:["  !","  !","  ."," !","   !"],Ke=ve[Math.floor(Math.random()*ve.length)];f(Ke),l(!0),I(Ne=>{const N={...Ne};return N[e]+=1,Zl("TOUCH_CHARACTER",N),N}),setTimeout(()=>l(!1),3e3)},le=ve=>{ts.playClick(),g(ve)},Ee=()=>{ts.playClick(),g(null)},ye=()=>{ts.playClick(),s()};return E.jsxs("div",{className:"relative w-full h-full overflow-hidden bg-[#FCD34D] font-['Jua'] select-none",children:[E.jsx("div",{className:"absolute inset-0 z-0 opacity-20",style:{backgroundImage:"radial-gradient(#F97316 3px, transparent 3px)",backgroundSize:"24px 24px"}}),E.jsxs("div",{className:"absolute inset-0 z-10 flex flex-col items-center justify-end pb-0 pointer-events-none",children:[E.jsx("img",{src:e==="bride"?h1:c1,alt:"Character",className:`
                        h-[85vh] w-auto object-contain transition-transform duration-200 cursor-pointer pointer-events-auto filter drop-shadow-xl
                        ${F?"scale-x-110 scale-y-90":"scale-100 hover:scale-[1.02]"}
                    `,onClick:te}),r&&E.jsxs("div",{className:"absolute top-[20%] left-1/2 -translate-x-1/2 bg-white border-4 border-black px-6 py-4 rounded-[2rem] shadow-lg z-20 animate-bounce whitespace-nowrap",children:[E.jsx("p",{className:"text-xl font-bold text-black",children:u}),E.jsx("div",{className:"absolute -bottom-4 left-1/2 -translate-x-1/2 w-0 h-0 border-l-[10px] border-l-transparent border-t-[15px] border-t-black border-r-[10px] border-r-transparent"}),E.jsx("div",{className:"absolute -bottom-[11px] left-1/2 -translate-x-1/2 w-0 h-0 border-l-[6px] border-l-transparent border-t-[11px] border-t-white border-r-[6px] border-r-transparent"})]})]}),E.jsxs("div",{className:"absolute inset-0 z-20 pointer-events-none p-4 flex flex-col justify-between",children:[E.jsxs("div",{className:"flex justify-between items-start pointer-events-auto",children:[E.jsxs("div",{className:"flex flex-col gap-2",children:[E.jsxs("div",{className:"flex items-center gap-2 bg-white border-2 border-black rounded-full px-4 py-1 shadow-md",children:[E.jsx("span",{className:"text-xl",children:""}),E.jsx("span",{className:"text-lg font-bold text-gray-800",children:" MAX"})]}),E.jsxs("div",{className:"flex items-center gap-2 bg-white border-2 border-black rounded-full px-4 py-1 shadow-md",children:[E.jsx("span",{className:"text-xl",children:""}),E.jsx("span",{className:"text-lg font-bold text-gray-800",children:y})]})]}),E.jsxs("button",{onClick:ee,className:"group relative flex items-center gap-2 bg-gradient-to-r from-[#22D3EE] to-[#06B6D4] text-white pl-4 pr-6 py-2 rounded-full border-[3px] border-white shadow-[0px_4px_6px_rgba(0,0,0,0.2)] hover:scale-105 active:scale-95 transition-all",children:[E.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/30 to-transparent rounded-full pointer-events-none"}),E.jsx("div",{className:"bg-white text-[#06B6D4] rounded-full p-1.5 shadow-sm",children:E.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("path",{d:"m16 3 4 4-4 4"}),E.jsx("path",{d:"M20 7H4"}),E.jsx("path",{d:"m8 21-4-4 4-4"}),E.jsx("path",{d:"M4 17h16"})]})}),E.jsx("span",{className:"font-black text-lg drop-shadow-md",children:"  "})]})]}),E.jsxs("div",{className:"absolute top-1/2 right-4 -translate-y-1/2 flex flex-col gap-5 pointer-events-auto z-50",children:[E.jsx(Fr,{type:"map",label:"",color:"from-rose-400 to-rose-500",onClick:()=>le("map")}),E.jsx(Fr,{type:"gallery",label:"",color:"from-orange-400 to-orange-500",onClick:()=>le("gallery")}),E.jsx(Fr,{type:"recruit",label:"",color:"from-emerald-400 to-emerald-500",onClick:()=>le("recruit")}),E.jsx(Fr,{type:"story",label:"",color:"from-blue-400 to-blue-500",onClick:()=>le("story")}),E.jsx(Fr,{type:"ranking",label:"",color:"from-violet-400 to-violet-500",onClick:()=>le("ranking")}),E.jsx(Fr,{type:"achievement",label:"",color:"from-yellow-400 to-yellow-500",onClick:()=>le("achievement")}),E.jsx(Fr,{type:"info",label:"",color:"from-pink-400 to-pink-500",onClick:()=>le("info")})]}),E.jsxs("div",{className:"flex justify-between items-end w-full pointer-events-auto pb-4",children:[E.jsx("button",{onClick:()=>{le("game"),Zl("GAME_START")},className:"group relative bg-[#F97316] text-white px-6 py-4 rounded-2xl border-4 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] hover:-translate-y-1 active:translate-y-1 active:shadow-none transition-all",children:E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("span",{className:"text-4xl group-hover:rotate-12 transition-transform",children:""}),E.jsxs("div",{className:"text-left",children:[E.jsx("p",{className:"text-xs font-bold opacity-90",children:""}),E.jsx("p",{className:"text-2xl font-black",children:" "})]})]})}),E.jsx("button",{onClick:ye,className:"bg-gray-800 text-white px-4 py-2 rounded-lg text-sm opacity-80 hover:opacity-100",children:"  "})]})]}),m&&E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:E.jsxs("div",{className:"relative w-full max-w-4xl max-h-[90vh] bg-white border-[6px] border-black rounded-[2rem] shadow-[12px_12px_0px_0px_rgba(0,0,0,0.5)] flex flex-col [&_*]:font-['Jua']",children:[E.jsxs("div",{className:"flex justify-between items-center bg-[#FFCE00] border-b-[6px] border-black p-4 px-6 relative rounded-t-[1.5rem]",children:[E.jsxs("div",{className:"flex gap-2 absolute left-4",children:[E.jsx("div",{className:"w-4 h-4 rounded-full bg-white border-2 border-black"}),E.jsx("div",{className:"w-4 h-4 rounded-full bg-white border-2 border-black"})]}),E.jsxs("h2",{className:"text-3xl font-black text-black w-full text-center tracking-wider",children:[m==="map"&&"  (LOCATION)",m==="gallery"&&"  (GALLERY)",m==="game"&&"  (GAME)",m==="story"&&"  (STORY)",m==="recruit"&&"  (GACHA)",m==="ranking"&&"  (RANKING)",m==="info"&&"  (PROFILE)",m==="achievement"&&"  (MISSION)"]}),E.jsx("button",{onClick:Ee,className:"absolute -right-6 -top-6 w-16 h-16 bg-[#EF4444] text-white rounded-full border-[4px] border-black font-black text-3xl flex items-center justify-center shadow-[4px_4px_0px_0px_rgba(0,0,0,0.5)] hover:bg-[#DC2626] hover:scale-110 active:scale-95 transition-transform z-50",children:"X"})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto p-0 bg-white rounded-b-[1.5rem] [&_.font-serif]:font-['Jua'] [&_.font-body]:font-['Jua']",children:[m==="map"&&E.jsx(lT,{}),m==="gallery"&&E.jsx(oT,{}),m==="info"&&E.jsx(u1,{}),m==="game"&&E.jsx("div",{className:"flex justify-center bg-gray-100 py-8 min-h-[400px]",children:E.jsx(l1,{selectedCharacter:e})}),m==="story"&&E.jsx(r4,{onClose:Ee}),m==="recruit"&&E.jsx(s4,{}),m==="ranking"&&E.jsx(a4,{}),m==="achievement"&&E.jsx(o4,{})]})]})})]})},Fr=({type:s,label:e,color:n,onClick:r})=>E.jsxs("div",{className:"group relative flex items-center justify-end cursor-pointer",onClick:r,children:[E.jsx("div",{className:"absolute right-full mr-3 opacity-0 group-hover:opacity-100 transition-all duration-200 translate-x-2 group-hover:translate-x-0 pointer-events-none",children:E.jsx("span",{className:"bg-black text-white text-sm font-bold px-3 py-1 rounded-full whitespace-nowrap shadow-md",children:e})}),E.jsxs("div",{className:`
            w-16 h-16 rounded-2xl bg-gradient-to-br ${n}
            border-[3px] border-white shadow-[0px_4px_6px_rgba(0,0,0,0.3),inset_0px_2px_4px_rgba(255,255,255,0.5)]
            flex items-center justify-center relative overflow-hidden
            group-hover:scale-110 group-hover:-rotate-3 group-active:scale-95 transition-all duration-200
            z-10
        `,children:[E.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/40 to-transparent pointer-events-none"}),E.jsx("div",{className:"relative z-10 text-white drop-shadow-md",children:u4[s]})]})]}),u4={map:E.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"}),E.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),gallery:E.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),E.jsx("circle",{cx:"12",cy:"13",r:"4"})]}),recruit:E.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("path",{d:"M6 3h12l4 6-10 13L2 9Z"}),E.jsx("path",{d:"M11 3 8 9l4 13 4-13-3-6"}),E.jsx("path",{d:"M2 9h20"})]}),story:E.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("path",{d:"M8 21h12a2 2 0 0 0 2-2v-2H10v2a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v3h4"}),E.jsx("path",{d:"M19 4c0-1.1-.9-2-2-2A2 2 0 0 0 15 4a2 2 0 0 0 2 2 2 2 0 0 0 2-2"})]}),ranking:E.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6"}),E.jsx("path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18"}),E.jsx("path",{d:"M4 22h16"}),E.jsx("path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"}),E.jsx("path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"}),E.jsx("path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z"})]}),achievement:E.jsx("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:E.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),info:E.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("rect",{width:"20",height:"16",x:"2",y:"4",rx:"2"}),E.jsx("path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"})]})},c4=({onSwitchToV1:s})=>{const[e,n]=fe.useState("title"),r=()=>{n("lobby")};return E.jsxs("div",{className:"relative w-full h-screen bg-yellow-50 overflow-hidden font-sans",children:[E.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none",style:{backgroundImage:"radial-gradient(#F97316 2px, transparent 2px)",backgroundSize:"30px 30px"}}),E.jsxs("div",{className:"relative w-full h-full",children:[e==="title"&&E.jsx(t4,{onStart:r,onSwitchToV1:s}),e==="lobby"&&E.jsx(l4,{onSwitchToV1:s})]})]})},h4=()=>E.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-background font-body p-4",children:E.jsxs("div",{className:"card max-w-md w-full text-center space-y-8",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx("h1",{className:"text-4xl text-text font-heading tracking-wider",children:"INVITATION"}),E.jsx("p",{className:"text-xl text-text/80 font-medium",children:" & "})]}),E.jsx("div",{className:"w-12 h-px bg-gray-300 mx-auto"}),E.jsx("p",{className:"text-text/60 tracking-widest",children:"2026. 04. 25. SAT PM 04:50"}),E.jsxs("div",{className:"flex flex-col gap-4",children:[E.jsxs("a",{href:"classic.html",className:"btn-secondary flex items-center justify-center gap-2 group",children:[E.jsx("span",{className:"group-hover:scale-110 transition-transform",children:""}),"  (Classic)"]}),E.jsxs("a",{href:"game.html",className:"btn-primary flex items-center justify-center gap-2 group",children:[E.jsx("span",{className:"group-hover:rotate-12 transition-transform",children:""}),"  (Game Mode)"]})]})]})});function f4(){const[s,e]=fe.useState("selection");return fe.useEffect(()=>{const n=window.location.pathname;n.includes("classic.html")?e("v1"):n.includes("game.html")?e("v2"):new URLSearchParams(window.location.search).get("mode")==="classic"?e("v1"):new URLSearchParams(window.location.search).get("mode")==="game"?e("v2"):e("selection")},[]),E.jsxs(E.Fragment,{children:[s==="selection"&&E.jsx(h4,{}),s==="v1"&&E.jsx(e4,{}),s==="v2"&&E.jsx(c4,{onSwitchToV1:()=>window.location.href="classic.html"}),E.jsx($D,{})]})}$A.createRoot(document.getElementById("root")).render(E.jsx(fe.StrictMode,{children:E.jsx(f4,{})}));
