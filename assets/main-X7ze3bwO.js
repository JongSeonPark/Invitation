(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var am={exports:{}},Pl={};var xv;function rw(){if(xv)return Pl;xv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:f,ref:o!==void 0?o:null,props:u}}return Pl.Fragment=e,Pl.jsx=n,Pl.jsxs=n,Pl}var Rv;function aw(){return Rv||(Rv=1,am.exports=rw()),am.exports}var E=aw(),om={exports:{}},Se={};var Iv;function ow(){if(Iv)return Se;Iv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),x=Symbol.iterator;function q(C){return C===null||typeof C!="object"?null:(C=x&&C[x]||C["@@iterator"],typeof C=="function"?C:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},te=Object.assign,ne={};function oe(C,j,K){this.props=C,this.context=j,this.refs=ne,this.updater=K||$}oe.prototype.isReactComponent={},oe.prototype.setState=function(C,j){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,j,"setState")},oe.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function ye(){}ye.prototype=oe.prototype;function de(C,j,K){this.props=C,this.context=j,this.refs=ne,this.updater=K||$}var De=de.prototype=new ye;De.constructor=de,te(De,oe.prototype),De.isPureReactComponent=!0;var Je=Array.isArray;function Ee(){}var N={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function I(C,j,K){var ee=K.ref;return{$$typeof:s,type:C,key:j,ref:ee!==void 0?ee:null,props:K}}function k(C,j){return I(C.type,j,C.props)}function D(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function V(C){var j={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(K){return j[K]})}var R=/\/+/g;function Ge(C,j){return typeof C=="object"&&C!==null&&C.key!=null?V(""+C.key):j.toString(36)}function Ce(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(Ee,Ee):(C.status="pending",C.then(function(j){C.status==="pending"&&(C.status="fulfilled",C.value=j)},function(j){C.status==="pending"&&(C.status="rejected",C.reason=j)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function H(C,j,K,ee,he){var ae=typeof C;(ae==="undefined"||ae==="boolean")&&(C=null);var Te=!1;if(C===null)Te=!0;else switch(ae){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(C.$$typeof){case s:case e:Te=!0;break;case b:return Te=C._init,H(Te(C._payload),j,K,ee,he)}}if(Te)return he=he(C),Te=ee===""?"."+Ge(C,0):ee,Je(he)?(K="",Te!=null&&(K=Te.replace(R,"$&/")+"/"),H(he,j,K,"",function(on){return on})):he!=null&&(D(he)&&(he=k(he,K+(he.key==null||C&&C.key===he.key?"":(""+he.key).replace(R,"$&/")+"/")+Te)),j.push(he)),1;Te=0;var ze=ee===""?".":ee+":";if(Je(C))for(var Ze=0;Ze<C.length;Ze++)ee=C[Ze],ae=ze+Ge(ee,Ze),Te+=H(ee,j,K,ae,he);else if(Ze=q(C),typeof Ze=="function")for(C=Ze.call(C),Ze=0;!(ee=C.next()).done;)ee=ee.value,ae=ze+Ge(ee,Ze++),Te+=H(ee,j,K,ae,he);else if(ae==="object"){if(typeof C.then=="function")return H(Ce(C),j,K,ee,he);throw j=String(C),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return Te}function W(C,j,K){if(C==null)return C;var ee=[],he=0;return H(C,ee,"","",function(ae){return j.call(K,ae,he++)}),ee}function ce(C){if(C._status===-1){var j=C._result;j=j(),j.then(function(K){(C._status===0||C._status===-1)&&(C._status=1,C._result=K)},function(K){(C._status===0||C._status===-1)&&(C._status=2,C._result=K)}),C._status===-1&&(C._status=0,C._result=j)}if(C._status===1)return C._result.default;throw C._result}var xe=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},me={map:W,forEach:function(C,j,K){W(C,function(){j.apply(this,arguments)},K)},count:function(C){var j=0;return W(C,function(){j++}),j},toArray:function(C){return W(C,function(j){return j})||[]},only:function(C){if(!D(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return Se.Activity=w,Se.Children=me,Se.Component=oe,Se.Fragment=n,Se.Profiler=o,Se.PureComponent=de,Se.StrictMode=r,Se.Suspense=_,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Se.__COMPILER_RUNTIME={__proto__:null,c:function(C){return N.H.useMemoCache(C)}},Se.cache=function(C){return function(){return C.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(C,j,K){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var ee=te({},C.props),he=C.key;if(j!=null)for(ae in j.key!==void 0&&(he=""+j.key),j)!S.call(j,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&j.ref===void 0||(ee[ae]=j[ae]);var ae=arguments.length-2;if(ae===1)ee.children=K;else if(1<ae){for(var Te=Array(ae),ze=0;ze<ae;ze++)Te[ze]=arguments[ze+2];ee.children=Te}return I(C.type,he,ee)},Se.createContext=function(C){return C={$$typeof:f,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:u,_context:C},C},Se.createElement=function(C,j,K){var ee,he={},ae=null;if(j!=null)for(ee in j.key!==void 0&&(ae=""+j.key),j)S.call(j,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(he[ee]=j[ee]);var Te=arguments.length-2;if(Te===1)he.children=K;else if(1<Te){for(var ze=Array(Te),Ze=0;Ze<Te;Ze++)ze[Ze]=arguments[Ze+2];he.children=ze}if(C&&C.defaultProps)for(ee in Te=C.defaultProps,Te)he[ee]===void 0&&(he[ee]=Te[ee]);return I(C,ae,he)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(C){return{$$typeof:m,render:C}},Se.isValidElement=D,Se.lazy=function(C){return{$$typeof:b,_payload:{_status:-1,_result:C},_init:ce}},Se.memo=function(C,j){return{$$typeof:g,type:C,compare:j===void 0?null:j}},Se.startTransition=function(C){var j=N.T,K={};N.T=K;try{var ee=C(),he=N.S;he!==null&&he(K,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(Ee,xe)}catch(ae){xe(ae)}finally{j!==null&&K.types!==null&&(j.types=K.types),N.T=j}},Se.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Se.use=function(C){return N.H.use(C)},Se.useActionState=function(C,j,K){return N.H.useActionState(C,j,K)},Se.useCallback=function(C,j){return N.H.useCallback(C,j)},Se.useContext=function(C){return N.H.useContext(C)},Se.useDebugValue=function(){},Se.useDeferredValue=function(C,j){return N.H.useDeferredValue(C,j)},Se.useEffect=function(C,j){return N.H.useEffect(C,j)},Se.useEffectEvent=function(C){return N.H.useEffectEvent(C)},Se.useId=function(){return N.H.useId()},Se.useImperativeHandle=function(C,j,K){return N.H.useImperativeHandle(C,j,K)},Se.useInsertionEffect=function(C,j){return N.H.useInsertionEffect(C,j)},Se.useLayoutEffect=function(C,j){return N.H.useLayoutEffect(C,j)},Se.useMemo=function(C,j){return N.H.useMemo(C,j)},Se.useOptimistic=function(C,j){return N.H.useOptimistic(C,j)},Se.useReducer=function(C,j,K){return N.H.useReducer(C,j,K)},Se.useRef=function(C){return N.H.useRef(C)},Se.useState=function(C){return N.H.useState(C)},Se.useSyncExternalStore=function(C,j,K){return N.H.useSyncExternalStore(C,j,K)},Se.useTransition=function(){return N.H.useTransition()},Se.version="19.2.3",Se}var Cv;function Wm(){return Cv||(Cv=1,om.exports=ow()),om.exports}var se=Wm(),lm={exports:{}},Ll={},um={exports:{}},cm={};var Nv;function lw(){return Nv||(Nv=1,(function(s){function e(H,W){var ce=H.length;H.push(W);e:for(;0<ce;){var xe=ce-1>>>1,me=H[xe];if(0<o(me,W))H[xe]=W,H[ce]=me,ce=xe;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var W=H[0],ce=H.pop();if(ce!==W){H[0]=ce;e:for(var xe=0,me=H.length,C=me>>>1;xe<C;){var j=2*(xe+1)-1,K=H[j],ee=j+1,he=H[ee];if(0>o(K,ce))ee<me&&0>o(he,K)?(H[xe]=he,H[ee]=ce,xe=ee):(H[xe]=K,H[j]=ce,xe=j);else if(ee<me&&0>o(he,ce))H[xe]=he,H[ee]=ce,xe=ee;else break e}}return W}function o(H,W){var ce=H.sortIndex-W.sortIndex;return ce!==0?ce:H.id-W.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();s.unstable_now=function(){return f.now()-m}}var _=[],g=[],b=1,w=null,x=3,q=!1,$=!1,te=!1,ne=!1,oe=typeof setTimeout=="function"?setTimeout:null,ye=typeof clearTimeout=="function"?clearTimeout:null,de=typeof setImmediate<"u"?setImmediate:null;function De(H){for(var W=n(g);W!==null;){if(W.callback===null)r(g);else if(W.startTime<=H)r(g),W.sortIndex=W.expirationTime,e(_,W);else break;W=n(g)}}function Je(H){if(te=!1,De(H),!$)if(n(_)!==null)$=!0,Ee||(Ee=!0,V());else{var W=n(g);W!==null&&Ce(Je,W.startTime-H)}}var Ee=!1,N=-1,S=5,I=-1;function k(){return ne?!0:!(s.unstable_now()-I<S)}function D(){if(ne=!1,Ee){var H=s.unstable_now();I=H;var W=!0;try{e:{$=!1,te&&(te=!1,ye(N),N=-1),q=!0;var ce=x;try{t:{for(De(H),w=n(_);w!==null&&!(w.expirationTime>H&&k());){var xe=w.callback;if(typeof xe=="function"){w.callback=null,x=w.priorityLevel;var me=xe(w.expirationTime<=H);if(H=s.unstable_now(),typeof me=="function"){w.callback=me,De(H),W=!0;break t}w===n(_)&&r(_),De(H)}else r(_);w=n(_)}if(w!==null)W=!0;else{var C=n(g);C!==null&&Ce(Je,C.startTime-H),W=!1}}break e}finally{w=null,x=ce,q=!1}W=void 0}}finally{W?V():Ee=!1}}}var V;if(typeof de=="function")V=function(){de(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Ge=R.port2;R.port1.onmessage=D,V=function(){Ge.postMessage(null)}}else V=function(){oe(D,0)};function Ce(H,W){N=oe(function(){H(s.unstable_now())},W)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(H){switch(x){case 1:case 2:case 3:var W=3;break;default:W=x}var ce=x;x=W;try{return H()}finally{x=ce}},s.unstable_requestPaint=function(){ne=!0},s.unstable_runWithPriority=function(H,W){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ce=x;x=H;try{return W()}finally{x=ce}},s.unstable_scheduleCallback=function(H,W,ce){var xe=s.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?xe+ce:xe):ce=xe,H){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=ce+me,H={id:b++,callback:W,priorityLevel:H,startTime:ce,expirationTime:me,sortIndex:-1},ce>xe?(H.sortIndex=ce,e(g,H),n(_)===null&&H===n(g)&&(te?(ye(N),N=-1):te=!0,Ce(Je,ce-xe))):(H.sortIndex=me,e(_,H),$||q||($=!0,Ee||(Ee=!0,V()))),H},s.unstable_shouldYield=k,s.unstable_wrapCallback=function(H){var W=x;return function(){var ce=x;x=W;try{return H.apply(this,arguments)}finally{x=ce}}}})(cm)),cm}var Dv;function uw(){return Dv||(Dv=1,um.exports=lw()),um.exports}var hm={exports:{}},$t={};var Ov;function cw(){if(Ov)return $t;Ov=1;var s=Wm();function e(_){var g="https://react.dev/errors/"+_;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+_+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(_,g,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:_,containerInfo:g,implementation:b}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(_,g){if(_==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,$t.createPortal=function(_,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(_,g,null,b)},$t.flushSync=function(_){var g=f.T,b=r.p;try{if(f.T=null,r.p=2,_)return _()}finally{f.T=g,r.p=b,r.d.f()}},$t.preconnect=function(_,g){typeof _=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(_,g))},$t.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},$t.preinit=function(_,g){if(typeof _=="string"&&g&&typeof g.as=="string"){var b=g.as,w=m(b,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,q=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?r.d.S(_,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:x,fetchPriority:q}):b==="script"&&r.d.X(_,{crossOrigin:w,integrity:x,fetchPriority:q,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},$t.preinitModule=function(_,g){if(typeof _=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=m(g.as,g.crossOrigin);r.d.M(_,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(_)},$t.preload=function(_,g){if(typeof _=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,w=m(b,g.crossOrigin);r.d.L(_,b,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},$t.preloadModule=function(_,g){if(typeof _=="string")if(g){var b=m(g.as,g.crossOrigin);r.d.m(_,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(_)},$t.requestFormReset=function(_){r.d.r(_)},$t.unstable_batchedUpdates=function(_,g){return _(g)},$t.useFormState=function(_,g,b){return f.H.useFormState(_,g,b)},$t.useFormStatus=function(){return f.H.useHostTransitionStatus()},$t.version="19.2.3",$t}var Mv;function TE(){if(Mv)return hm.exports;Mv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),hm.exports=cw(),hm.exports}var Vv;function hw(){if(Vv)return Ll;Vv=1;var s=uw(),e=Wm(),n=TE();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function _(t){if(u(t)!==t)throw Error(r(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return _(h),t;if(d===l)return _(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=d;else{for(var y=!1,T=h.child;T;){if(T===a){y=!0,a=h,l=d;break}if(T===l){y=!0,l=h,a=d;break}T=T.sibling}if(!y){for(T=d.child;T;){if(T===a){y=!0,a=d,l=h;break}if(T===l){y=!0,l=d,a=h;break}T=T.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function b(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=b(t),i!==null)return i;t=t.sibling}return null}var w=Object.assign,x=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),te=Symbol.for("react.fragment"),ne=Symbol.for("react.strict_mode"),oe=Symbol.for("react.profiler"),ye=Symbol.for("react.consumer"),de=Symbol.for("react.context"),De=Symbol.for("react.forward_ref"),Je=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Ge(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case te:return"Fragment";case oe:return"Profiler";case ne:return"StrictMode";case Je:return"Suspense";case Ee:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case $:return"Portal";case de:return t.displayName||"Context";case ye:return(t._context.displayName||"Context")+".Consumer";case De:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return i=t.displayName||null,i!==null?i:Ge(t.type)||"Memo";case S:i=t._payload,t=t._init;try{return Ge(t(i))}catch{}}return null}var Ce=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},xe=[],me=-1;function C(t){return{current:t}}function j(t){0>me||(t.current=xe[me],xe[me]=null,me--)}function K(t,i){me++,xe[me]=t.current,t.current=i}var ee=C(null),he=C(null),ae=C(null),Te=C(null);function ze(t,i){switch(K(ae,i),K(he,t),K(ee,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Xy(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Xy(i),t=$y(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}j(ee),K(ee,t)}function Ze(){j(ee),j(he),j(ae)}function on(t){t.memoizedState!==null&&K(Te,t);var i=ee.current,a=$y(i,t.type);i!==a&&(K(he,t),K(ee,a))}function ys(t){he.current===t&&(j(ee),j(he)),Te.current===t&&(j(Te),Ml._currentValue=ce)}var vs,Es;function hi(t){if(vs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);vs=i&&i[1]||"",Es=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vs+t+Es}var Mo=!1;function Tr(t,i){if(!t||Mo)return"";Mo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(G){var B=G}Reflect.construct(t,[],J)}else{try{J.call()}catch(G){B=G}t.call(J.prototype)}}else{try{throw Error()}catch(G){B=G}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(G){if(G&&B&&typeof G.stack=="string")return[G.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),y=d[0],T=d[1];if(y&&T){var O=y.split(`
`),z=T.split(`
`);for(h=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===O.length||h===z.length)for(l=O.length-1,h=z.length-1;1<=l&&0<=h&&O[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(O[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||O[l]!==z[h]){var Q=`
`+O[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{Mo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?hi(a):""}function Vo(t,i){switch(t.tag){case 26:case 27:case 5:return hi(t.type);case 16:return hi("Lazy");case 13:return t.child!==i&&i!==null?hi("Suspense Fallback"):hi("Suspense");case 19:return hi("SuspenseList");case 0:case 15:return Tr(t.type,!1);case 11:return Tr(t.type.render,!1);case 1:return Tr(t.type,!0);case 31:return hi("Activity");default:return""}}function ko(t){try{var i="",a=null;do i+=Vo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Et=Object.prototype.hasOwnProperty,Ot=s.unstable_scheduleCallback,bs=s.unstable_cancelCallback,lf=s.unstable_shouldYield,yu=s.unstable_requestPaint,en=s.unstable_now,Ar=s.unstable_getCurrentPriorityLevel,jo=s.unstable_ImmediatePriority,Po=s.unstable_UserBlockingPriority,Ts=s.unstable_NormalPriority,uf=s.unstable_LowPriority,vu=s.unstable_IdlePriority,Eu=s.log,bu=s.unstable_setDisableYieldValue,Fn=null,zt=null;function Nn(t){if(typeof Eu=="function"&&bu(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(Fn,t)}catch{}}var pt=Math.clz32?Math.clz32:Au,Tu=Math.log,fa=Math.LN2;function Au(t){return t>>>=0,t===0?32:31-(Tu(t)/fa|0)|0}var fi=256,wr=262144,bt=4194304;function di(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function mi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=di(l):(y&=T,y!==0?h=di(y):a||(a=T&~t,a!==0&&(h=di(a))))):(T=l&~d,T!==0?h=di(T):y!==0?h=di(y):a||(a=l&~t,a!==0&&(h=di(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Gn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function cf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wu(){var t=bt;return bt<<=1,(bt&62914560)===0&&(bt=4194304),t}function pi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Sr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function hf(t,i,a,l,h,d){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,O=t.expirationTimes,z=t.hiddenUpdates;for(a=y&~a;0<a;){var Q=31-pt(a),J=1<<Q;T[Q]=0,O[Q]=-1;var B=z[Q];if(B!==null)for(z[Q]=null,Q=0;Q<B.length;Q++){var G=B[Q];G!==null&&(G.lane&=-536870913)}a&=~J}l!==0&&xr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(y&~i))}function xr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-pt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Lo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-pt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Uo(t,i){var a=i&-i;return a=(a&42)!==0?1:Rr(a),(a&(t.suspendedLanes|i))!==0?0:a}function Rr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Hi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Su(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:vv(t.type))}function Kn(t,i){var a=W.p;try{return W.p=t,i()}finally{W.p=a}}var Qn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Qn,kt="__reactProps$"+Qn,gi="__reactContainer$"+Qn,da="__reactEvents$"+Qn,ff="__reactListeners$"+Qn,xu="__reactHandles$"+Qn,Ru="__reactResources$"+Qn,_i="__reactMarker$"+Qn;function ma(t){delete t[Tt],delete t[kt],delete t[da],delete t[ff],delete t[xu]}function yi(t){var i=t[Tt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[gi]||a[Tt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=iv(t);t!==null;){if(a=t[Tt])return a;t=iv(t)}return i}t=a,a=t.parentNode}return null}function Dn(t){if(t=t[Tt]||t[gi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function gn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function vi(t){var i=t[Ru];return i||(i=t[Ru]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function At(t){t[_i]=!0}var zo=new Set,Bo={};function Ei(t,i){bi(t,i),bi(t+"Capture",i)}function bi(t,i){for(Bo[t]=i,t=0;t<i.length;t++)zo.add(i[t])}var qo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ho={},Fo={};function Iu(t){return Et.call(Fo,t)?!0:Et.call(Ho,t)?!1:qo.test(t)?Fo[t]=!0:(Ho[t]=!0,!1)}function pa(t,i,a){if(Iu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function _n(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function wt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function As(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Go(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,d.call(this,y)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ye(t){if(!t._valueTracker){var i=As(t)?"checked":"value";t._valueTracker=Go(t,i,""+t[i])}}function Ir(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=As(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ti(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Cr=/[\n"\\]/g;function ln(t){return t.replace(Cr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ga(t,i,a,l,h,d,y,T){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),i!=null?y==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+jt(i)):t.value!==""+jt(i)&&(t.value=""+jt(i)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),i!=null?Ko(t,y,jt(i)):a!=null?Ko(t,y,jt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+jt(T):t.removeAttribute("name")}function Cu(t,i,a,l,h,d,y,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ye(t);return}a=a!=null?""+jt(a):"",i=i!=null?""+jt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),Ye(t)}function Ko(t,i,a){i==="number"&&Ti(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ws(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+jt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Nu(t,i,a){if(i!=null&&(i=""+jt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+jt(a):""}function Ss(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(Ce(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=jt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ye(t)}function un(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Du=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Du.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Yo(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Qo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Qo(t,d,i[d])}function _a(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ou=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ya(t){return xs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Yn(){}var Xo=null;function On(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rs=null,Ai=null;function Nr(t){var i=Dn(t);if(i&&(t=i.stateNode)){var a=t[kt]||null;e:switch(t=i.stateNode,i.type){case"input":if(ga(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ln(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[kt]||null;if(!h)throw Error(r(90));ga(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Ir(l)}break e;case"textarea":Nu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&ws(t,!!a.multiple,i,!1)}}}var va=!1;function Is(t,i,a){if(va)return t(i,a);va=!0;try{var l=t(i);return l}finally{if(va=!1,(Rs!==null||Ai!==null)&&(Sc(),Rs&&(i=Rs,t=Ai,Ai=Rs=null,Nr(i),t)))for(i=0;i<t.length;i++)Nr(t[i])}}function Xn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[kt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dr=!1;if(Mn)try{var We={};Object.defineProperty(We,"passive",{get:function(){Dr=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch{Dr=!1}var wi=null,$o=null,Or=null;function Jo(){if(Or)return Or;var t,i=$o,a=i.length,l,h="value"in wi?wi.value:wi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var y=a-t;for(l=1;l<=y&&i[a-l]===h[d-l];l++);return Or=h.slice(t,1<l?1-l:void 0)}function Mr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Fi(){return!0}function $n(){return!1}function Bt(t){function i(a,l,h,d,y){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Fi:$n,this.isPropagationStopped=$n,this}return w(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Fi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Fi)},persist:function(){},isPersistent:Fi}),i}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=Bt(Gi),Cs=w({},Gi,{view:0,detail:0}),Zo=Bt(Cs),Ns,Ea,xi,ba=w({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ds,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xi&&(xi&&t.type==="mousemove"?(Ns=t.screenX-xi.screenX,Ea=t.screenY-xi.screenY):Ea=Ns=0,xi=t),Ns)},movementY:function(t){return"movementY"in t?t.movementY:Ea}}),Wo=Bt(ba),Vr=w({},ba,{dataTransfer:0}),Mu=Bt(Vr),Vu=w({},Cs,{relatedTarget:0}),kr=Bt(Vu),el=w({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),ku=Bt(el),Ta=w({},Gi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ju=Bt(Ta),Pu=w({},Gi,{data:0}),Ri=Bt(Pu),Lu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=zu[t])?!!i[t]:!1}function Ds(){return Bu}var tn=w({},Cs,{key:function(t){if(t.key){var i=Lu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Mr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Uu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ds,charCode:function(t){return t.type==="keypress"?Mr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qu=Bt(tn),Hu=w({},ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ki=Bt(Hu),c=w({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ds}),p=Bt(c),v=w({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Bt(v),L=w({},ba,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),F=Bt(L),ie=w({},Gi,{newState:0,oldState:0}),Re=Bt(ie),gt=[9,13,27,32],Ke=Mn&&"CompositionEvent"in window,lt=null;Mn&&"documentMode"in document&&(lt=document.documentMode);var Vn=Mn&&"TextEvent"in window&&!lt,Ii=Mn&&(!Ke||lt&&8<lt&&11>=lt),Jn=" ",Zn=!1;function jr(t,i){switch(t){case"keyup":return gt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Aa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wa=!1;function C1(t,i){switch(t){case"compositionend":return Aa(i);case"keypress":return i.which!==32?null:(Zn=!0,Jn);case"textInput":return t=i.data,t===Jn&&Zn?null:t;default:return null}}function N1(t,i){if(wa)return t==="compositionend"||!Ke&&jr(t,i)?(t=Jo(),Or=$o=wi=null,wa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ii&&i.locale!=="ko"?null:i.data;default:return null}}var D1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ag(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!D1[t.type]:i==="textarea"}function og(t,i,a,l){Rs?Ai?Ai.push(l):Ai=[l]:Rs=l,i=Oc(i,"onChange"),0<i.length&&(a=new Si("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var tl=null,nl=null;function O1(t){Hy(t,0)}function Fu(t){var i=gn(t);if(Ir(i))return t}function lg(t,i){if(t==="change")return i}var ug=!1;if(Mn){var df;if(Mn){var mf="oninput"in document;if(!mf){var cg=document.createElement("div");cg.setAttribute("oninput","return;"),mf=typeof cg.oninput=="function"}df=mf}else df=!1;ug=df&&(!document.documentMode||9<document.documentMode)}function hg(){tl&&(tl.detachEvent("onpropertychange",fg),nl=tl=null)}function fg(t){if(t.propertyName==="value"&&Fu(nl)){var i=[];og(i,nl,t,On(t)),Is(O1,i)}}function M1(t,i,a){t==="focusin"?(hg(),tl=i,nl=a,tl.attachEvent("onpropertychange",fg)):t==="focusout"&&hg()}function V1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fu(nl)}function k1(t,i){if(t==="click")return Fu(i)}function j1(t,i){if(t==="input"||t==="change")return Fu(i)}function P1(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var yn=typeof Object.is=="function"?Object.is:P1;function il(t,i){if(yn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Et.call(i,h)||!yn(t[h],i[h]))return!1}return!0}function dg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mg(t,i){var a=dg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=dg(a)}}function pg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?pg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function gg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ti(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ti(t.document)}return i}function pf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var L1=Mn&&"documentMode"in document&&11>=document.documentMode,Sa=null,gf=null,sl=null,_f=!1;function _g(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;_f||Sa==null||Sa!==Ti(l)||(l=Sa,"selectionStart"in l&&pf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),sl&&il(sl,l)||(sl=l,l=Oc(gf,"onSelect"),0<l.length&&(i=new Si("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Sa)))}function Pr(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var xa={animationend:Pr("Animation","AnimationEnd"),animationiteration:Pr("Animation","AnimationIteration"),animationstart:Pr("Animation","AnimationStart"),transitionrun:Pr("Transition","TransitionRun"),transitionstart:Pr("Transition","TransitionStart"),transitioncancel:Pr("Transition","TransitionCancel"),transitionend:Pr("Transition","TransitionEnd")},yf={},yg={};Mn&&(yg=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function Lr(t){if(yf[t])return yf[t];if(!xa[t])return t;var i=xa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in yg)return yf[t]=i[a];return t}var vg=Lr("animationend"),Eg=Lr("animationiteration"),bg=Lr("animationstart"),U1=Lr("transitionrun"),z1=Lr("transitionstart"),B1=Lr("transitioncancel"),Tg=Lr("transitionend"),Ag=new Map,vf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vf.push("scrollEnd");function Wn(t,i){Ag.set(t,i),Ei(i,[t])}var Gu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},kn=[],Ra=0,Ef=0;function Ku(){for(var t=Ra,i=Ef=Ra=0;i<t;){var a=kn[i];kn[i++]=null;var l=kn[i];kn[i++]=null;var h=kn[i];kn[i++]=null;var d=kn[i];if(kn[i++]=null,l!==null&&h!==null){var y=l.pending;y===null?h.next=h:(h.next=y.next,y.next=h),l.pending=h}d!==0&&wg(a,h,d)}}function Qu(t,i,a,l){kn[Ra++]=t,kn[Ra++]=i,kn[Ra++]=a,kn[Ra++]=l,Ef|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function bf(t,i,a,l){return Qu(t,i,a,l),Yu(t)}function Ur(t,i){return Qu(t,null,null,i),Yu(t)}function wg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-pt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Yu(t){if(50<xl)throw xl=0,Nd=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ia={};function q1(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,i,a,l){return new q1(t,i,a,l)}function Tf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qi(t,i){var a=t.alternate;return a===null?(a=vn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Sg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Xu(t,i,a,l,h,d){var y=0;if(l=t,typeof t=="function")Tf(t)&&(y=1);else if(typeof t=="string")y=QA(t,a,ee.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=vn(31,a,i,h),t.elementType=I,t.lanes=d,t;case te:return zr(a.children,h,d,i);case ne:y=8,h|=24;break;case oe:return t=vn(12,a,i,h|2),t.elementType=oe,t.lanes=d,t;case Je:return t=vn(13,a,i,h),t.elementType=Je,t.lanes=d,t;case Ee:return t=vn(19,a,i,h),t.elementType=Ee,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case de:y=10;break e;case ye:y=9;break e;case De:y=11;break e;case N:y=14;break e;case S:y=16,l=null;break e}y=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return i=vn(y,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function zr(t,i,a,l){return t=vn(7,t,l,i),t.lanes=a,t}function Af(t,i,a){return t=vn(6,t,null,i),t.lanes=a,t}function xg(t){var i=vn(18,null,null,0);return i.stateNode=t,i}function wf(t,i,a){return i=vn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Rg=new WeakMap;function jn(t,i){if(typeof t=="object"&&t!==null){var a=Rg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ko(i)},Rg.set(t,i),i)}return{value:t,source:i,stack:ko(i)}}var Ca=[],Na=0,$u=null,rl=0,Pn=[],Ln=0,Os=null,Ci=1,Ni="";function Yi(t,i){Ca[Na++]=rl,Ca[Na++]=$u,$u=t,rl=i}function Ig(t,i,a){Pn[Ln++]=Ci,Pn[Ln++]=Ni,Pn[Ln++]=Os,Os=t;var l=Ci;t=Ni;var h=32-pt(l)-1;l&=~(1<<h),a+=1;var d=32-pt(i)+h;if(30<d){var y=h-h%5;d=(l&(1<<y)-1).toString(32),l>>=y,h-=y,Ci=1<<32-pt(i)+h|a<<h|l,Ni=d+t}else Ci=1<<d|a<<h|l,Ni=t}function Sf(t){t.return!==null&&(Yi(t,1),Ig(t,1,0))}function xf(t){for(;t===$u;)$u=Ca[--Na],Ca[Na]=null,rl=Ca[--Na],Ca[Na]=null;for(;t===Os;)Os=Pn[--Ln],Pn[Ln]=null,Ni=Pn[--Ln],Pn[Ln]=null,Ci=Pn[--Ln],Pn[Ln]=null}function Cg(t,i){Pn[Ln++]=Ci,Pn[Ln++]=Ni,Pn[Ln++]=Os,Ci=i.id,Ni=i.overflow,Os=t}var qt=null,rt=null,Ue=!1,Ms=null,Un=!1,Rf=Error(r(519));function Vs(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw al(jn(i,t)),Rf}function Ng(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Tt]=t,i[kt]=l,a){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(a=0;a<Il.length;a++)Me(Il[a],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":Me("invalid",i),Cu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Me("invalid",i);break;case"textarea":Me("invalid",i),Ss(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Qy(i.textContent,a)?(l.popover!=null&&(Me("beforetoggle",i),Me("toggle",i)),l.onScroll!=null&&Me("scroll",i),l.onScrollEnd!=null&&Me("scrollend",i),l.onClick!=null&&(i.onclick=Yn),i=!0):i=!1,i||Vs(t,!0)}function Dg(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:qt=qt.return}}function Da(t){if(t!==qt)return!1;if(!Ue)return Dg(t),Ue=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Gd(t.type,t.memoizedProps)),a=!a),a&&rt&&Vs(t),Dg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));rt=nv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));rt=nv(t)}else i===27?(i=rt,Ys(t.type)?(t=$d,$d=null,rt=t):rt=i):rt=qt?Bn(t.stateNode.nextSibling):null;return!0}function Br(){rt=qt=null,Ue=!1}function If(){var t=Ms;return t!==null&&(dn===null?dn=t:dn.push.apply(dn,t),Ms=null),t}function al(t){Ms===null?Ms=[t]:Ms.push(t)}var Cf=C(null),qr=null,Xi=null;function ks(t,i,a){K(Cf,i._currentValue),i._currentValue=a}function $i(t){t._currentValue=Cf.current,j(Cf)}function Nf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Df(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var y=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var O=0;O<i.length;O++)if(T.context===i[O]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Nf(d.return,a,t),l||(y=null);break e}d=T.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(r(341));y.lanes|=a,d=y.alternate,d!==null&&(d.lanes|=a),Nf(y,a,t),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function Oa(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var T=h.type;yn(h.pendingProps.value,y.value)||(t!==null?t.push(T):t=[T])}}else if(h===Te.current){if(y=h.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ml):t=[Ml])}h=h.return}t!==null&&Df(i,t,a,l),i.flags|=262144}function Ju(t){for(t=t.firstContext;t!==null;){if(!yn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Hr(t){qr=t,Xi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return Og(qr,t)}function Zu(t,i){return qr===null&&Hr(t),Og(t,i)}function Og(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Xi===null){if(t===null)throw Error(r(308));Xi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Xi=Xi.next=i;return a}var H1=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},F1=s.unstable_scheduleCallback,G1=s.unstable_NormalPriority,St={$$typeof:de,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Of(){return{controller:new H1,data:new Map,refCount:0}}function ol(t){t.refCount--,t.refCount===0&&F1(G1,function(){t.controller.abort()})}var ll=null,Mf=0,Ma=0,Va=null;function K1(t,i){if(ll===null){var a=ll=[];Mf=0,Ma=jd(),Va={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Mf++,i.then(Mg,Mg),i}function Mg(){if(--Mf===0&&ll!==null){Va!==null&&(Va.status="fulfilled");var t=ll;ll=null,Ma=0,Va=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Q1(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Vg=H.S;H.S=function(t,i){_y=en(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&K1(t,i),Vg!==null&&Vg(t,i)};var Fr=C(null);function Vf(){var t=Fr.current;return t!==null?t:st.pooledCache}function Wu(t,i){i===null?K(Fr,Fr.current):K(Fr,i.pool)}function kg(){var t=Vf();return t===null?null:{parent:St._currentValue,pool:t}}var ka=Error(r(460)),kf=Error(r(474)),ec=Error(r(542)),tc={then:function(){}};function jg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Pg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Yn,Yn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ug(t),t;default:if(typeof i.status=="string")i.then(Yn,Yn);else{if(t=st,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ug(t),t}throw Kr=i,ka}}function Gr(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Kr=a,ka):a}}var Kr=null;function Lg(){if(Kr===null)throw Error(r(459));var t=Kr;return Kr=null,t}function Ug(t){if(t===ka||t===ec)throw Error(r(483))}var ja=null,ul=0;function nc(t){var i=ul;return ul+=1,ja===null&&(ja=[]),Pg(ja,t,i)}function cl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function ic(t,i){throw i.$$typeof===x?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function zg(t){function i(P,M){if(t){var U=P.deletions;U===null?(P.deletions=[M],P.flags|=16):U.push(M)}}function a(P,M){if(!t)return null;for(;M!==null;)i(P,M),M=M.sibling;return null}function l(P){for(var M=new Map;P!==null;)P.key!==null?M.set(P.key,P):M.set(P.index,P),P=P.sibling;return M}function h(P,M){return P=Qi(P,M),P.index=0,P.sibling=null,P}function d(P,M,U){return P.index=U,t?(U=P.alternate,U!==null?(U=U.index,U<M?(P.flags|=67108866,M):U):(P.flags|=67108866,M)):(P.flags|=1048576,M)}function y(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function T(P,M,U,X){return M===null||M.tag!==6?(M=Af(U,P.mode,X),M.return=P,M):(M=h(M,U),M.return=P,M)}function O(P,M,U,X){var ge=U.type;return ge===te?Q(P,M,U.props.children,X,U.key):M!==null&&(M.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===S&&Gr(ge)===M.type)?(M=h(M,U.props),cl(M,U),M.return=P,M):(M=Xu(U.type,U.key,U.props,null,P.mode,X),cl(M,U),M.return=P,M)}function z(P,M,U,X){return M===null||M.tag!==4||M.stateNode.containerInfo!==U.containerInfo||M.stateNode.implementation!==U.implementation?(M=wf(U,P.mode,X),M.return=P,M):(M=h(M,U.children||[]),M.return=P,M)}function Q(P,M,U,X,ge){return M===null||M.tag!==7?(M=zr(U,P.mode,X,ge),M.return=P,M):(M=h(M,U),M.return=P,M)}function J(P,M,U){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Af(""+M,P.mode,U),M.return=P,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case q:return U=Xu(M.type,M.key,M.props,null,P.mode,U),cl(U,M),U.return=P,U;case $:return M=wf(M,P.mode,U),M.return=P,M;case S:return M=Gr(M),J(P,M,U)}if(Ce(M)||V(M))return M=zr(M,P.mode,U,null),M.return=P,M;if(typeof M.then=="function")return J(P,nc(M),U);if(M.$$typeof===de)return J(P,Zu(P,M),U);ic(P,M)}return null}function B(P,M,U,X){var ge=M!==null?M.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ge!==null?null:T(P,M,""+U,X);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case q:return U.key===ge?O(P,M,U,X):null;case $:return U.key===ge?z(P,M,U,X):null;case S:return U=Gr(U),B(P,M,U,X)}if(Ce(U)||V(U))return ge!==null?null:Q(P,M,U,X,null);if(typeof U.then=="function")return B(P,M,nc(U),X);if(U.$$typeof===de)return B(P,M,Zu(P,U),X);ic(P,U)}return null}function G(P,M,U,X,ge){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return P=P.get(U)||null,T(M,P,""+X,ge);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case q:return P=P.get(X.key===null?U:X.key)||null,O(M,P,X,ge);case $:return P=P.get(X.key===null?U:X.key)||null,z(M,P,X,ge);case S:return X=Gr(X),G(P,M,U,X,ge)}if(Ce(X)||V(X))return P=P.get(U)||null,Q(M,P,X,ge,null);if(typeof X.then=="function")return G(P,M,U,nc(X),ge);if(X.$$typeof===de)return G(P,M,U,Zu(M,X),ge);ic(M,X)}return null}function ue(P,M,U,X){for(var ge=null,He=null,fe=M,Ne=M=0,ke=null;fe!==null&&Ne<U.length;Ne++){fe.index>Ne?(ke=fe,fe=null):ke=fe.sibling;var Fe=B(P,fe,U[Ne],X);if(Fe===null){fe===null&&(fe=ke);break}t&&fe&&Fe.alternate===null&&i(P,fe),M=d(Fe,M,Ne),He===null?ge=Fe:He.sibling=Fe,He=Fe,fe=ke}if(Ne===U.length)return a(P,fe),Ue&&Yi(P,Ne),ge;if(fe===null){for(;Ne<U.length;Ne++)fe=J(P,U[Ne],X),fe!==null&&(M=d(fe,M,Ne),He===null?ge=fe:He.sibling=fe,He=fe);return Ue&&Yi(P,Ne),ge}for(fe=l(fe);Ne<U.length;Ne++)ke=G(fe,P,Ne,U[Ne],X),ke!==null&&(t&&ke.alternate!==null&&fe.delete(ke.key===null?Ne:ke.key),M=d(ke,M,Ne),He===null?ge=ke:He.sibling=ke,He=ke);return t&&fe.forEach(function(Ws){return i(P,Ws)}),Ue&&Yi(P,Ne),ge}function ve(P,M,U,X){if(U==null)throw Error(r(151));for(var ge=null,He=null,fe=M,Ne=M=0,ke=null,Fe=U.next();fe!==null&&!Fe.done;Ne++,Fe=U.next()){fe.index>Ne?(ke=fe,fe=null):ke=fe.sibling;var Ws=B(P,fe,Fe.value,X);if(Ws===null){fe===null&&(fe=ke);break}t&&fe&&Ws.alternate===null&&i(P,fe),M=d(Ws,M,Ne),He===null?ge=Ws:He.sibling=Ws,He=Ws,fe=ke}if(Fe.done)return a(P,fe),Ue&&Yi(P,Ne),ge;if(fe===null){for(;!Fe.done;Ne++,Fe=U.next())Fe=J(P,Fe.value,X),Fe!==null&&(M=d(Fe,M,Ne),He===null?ge=Fe:He.sibling=Fe,He=Fe);return Ue&&Yi(P,Ne),ge}for(fe=l(fe);!Fe.done;Ne++,Fe=U.next())Fe=G(fe,P,Ne,Fe.value,X),Fe!==null&&(t&&Fe.alternate!==null&&fe.delete(Fe.key===null?Ne:Fe.key),M=d(Fe,M,Ne),He===null?ge=Fe:He.sibling=Fe,He=Fe);return t&&fe.forEach(function(sw){return i(P,sw)}),Ue&&Yi(P,Ne),ge}function nt(P,M,U,X){if(typeof U=="object"&&U!==null&&U.type===te&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case q:e:{for(var ge=U.key;M!==null;){if(M.key===ge){if(ge=U.type,ge===te){if(M.tag===7){a(P,M.sibling),X=h(M,U.props.children),X.return=P,P=X;break e}}else if(M.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===S&&Gr(ge)===M.type){a(P,M.sibling),X=h(M,U.props),cl(X,U),X.return=P,P=X;break e}a(P,M);break}else i(P,M);M=M.sibling}U.type===te?(X=zr(U.props.children,P.mode,X,U.key),X.return=P,P=X):(X=Xu(U.type,U.key,U.props,null,P.mode,X),cl(X,U),X.return=P,P=X)}return y(P);case $:e:{for(ge=U.key;M!==null;){if(M.key===ge)if(M.tag===4&&M.stateNode.containerInfo===U.containerInfo&&M.stateNode.implementation===U.implementation){a(P,M.sibling),X=h(M,U.children||[]),X.return=P,P=X;break e}else{a(P,M);break}else i(P,M);M=M.sibling}X=wf(U,P.mode,X),X.return=P,P=X}return y(P);case S:return U=Gr(U),nt(P,M,U,X)}if(Ce(U))return ue(P,M,U,X);if(V(U)){if(ge=V(U),typeof ge!="function")throw Error(r(150));return U=ge.call(U),ve(P,M,U,X)}if(typeof U.then=="function")return nt(P,M,nc(U),X);if(U.$$typeof===de)return nt(P,M,Zu(P,U),X);ic(P,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,M!==null&&M.tag===6?(a(P,M.sibling),X=h(M,U),X.return=P,P=X):(a(P,M),X=Af(U,P.mode,X),X.return=P,P=X),y(P)):a(P,M)}return function(P,M,U,X){try{ul=0;var ge=nt(P,M,U,X);return ja=null,ge}catch(fe){if(fe===ka||fe===ec)throw fe;var He=vn(29,fe,null,P.mode);return He.lanes=X,He.return=P,He}}}var Qr=zg(!0),Bg=zg(!1),js=!1;function jf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ps(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ls(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qe&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Yu(t),wg(t,null,a),i}return Qu(t,l,i,a),Yu(t)}function hl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Lo(t,a)}}function Lf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=y:d=d.next=y,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Uf=!1;function fl(){if(Uf){var t=Va;if(t!==null)throw t}}function dl(t,i,a,l){Uf=!1;var h=t.updateQueue;js=!1;var d=h.firstBaseUpdate,y=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var O=T,z=O.next;O.next=null,y===null?d=z:y.next=z,y=O;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==y&&(T===null?Q.firstBaseUpdate=z:T.next=z,Q.lastBaseUpdate=O))}if(d!==null){var J=h.baseState;y=0,Q=z=O=null,T=d;do{var B=T.lane&-536870913,G=B!==T.lane;if(G?(Ve&B)===B:(l&B)===B){B!==0&&B===Ma&&(Uf=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ue=t,ve=T;B=i;var nt=a;switch(ve.tag){case 1:if(ue=ve.payload,typeof ue=="function"){J=ue.call(nt,J,B);break e}J=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ve.payload,B=typeof ue=="function"?ue.call(nt,J,B):ue,B==null)break e;J=w({},J,B);break e;case 2:js=!0}}B=T.callback,B!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[B]:G.push(B))}else G={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(z=Q=G,O=J):Q=Q.next=G,y|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;G=T,T=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);Q===null&&(O=J),h.baseState=O,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,d===null&&(h.shared.lanes=0),Hs|=y,t.lanes=y,t.memoizedState=J}}function qg(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function Hg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)qg(a[t],i)}var Pa=C(null),sc=C(0);function Fg(t,i){t=rs,K(sc,t),K(Pa,i),rs=t|i.baseLanes}function zf(){K(sc,rs),K(Pa,Pa.current)}function Bf(){rs=sc.current,j(Pa),j(sc)}var En=C(null),zn=null;function Us(t){var i=t.alternate;K(_t,_t.current&1),K(En,t),zn===null&&(i===null||Pa.current!==null||i.memoizedState!==null)&&(zn=t)}function qf(t){K(_t,_t.current),K(En,t),zn===null&&(zn=t)}function Gg(t){t.tag===22?(K(_t,_t.current),K(En,t),zn===null&&(zn=t)):zs()}function zs(){K(_t,_t.current),K(En,En.current)}function bn(t){j(En),zn===t&&(zn=null),j(_t)}var _t=C(0);function rc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Yd(a)||Xd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ji=0,Ie=null,et=null,xt=null,ac=!1,La=!1,Yr=!1,oc=0,ml=0,Ua=null,Y1=0;function dt(){throw Error(r(321))}function Hf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!yn(t[a],i[a]))return!1;return!0}function Ff(t,i,a,l,h,d){return Ji=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,H.H=t===null||t.memoizedState===null?I_:rd,Yr=!1,d=a(l,h),Yr=!1,La&&(d=Qg(i,a,l,h)),Kg(t),d}function Kg(t){H.H=_l;var i=et!==null&&et.next!==null;if(Ji=0,xt=et=Ie=null,ac=!1,ml=0,Ua=null,i)throw Error(r(300));t===null||Rt||(t=t.dependencies,t!==null&&Ju(t)&&(Rt=!0))}function Qg(t,i,a,l){Ie=t;var h=0;do{if(La&&(Ua=null),ml=0,La=!1,25<=h)throw Error(r(301));if(h+=1,xt=et=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}H.H=C_,d=i(a,l)}while(La);return d}function X1(){var t=H.H,i=t.useState()[0];return i=typeof i.then=="function"?pl(i):i,t=t.useState()[0],(et!==null?et.memoizedState:null)!==t&&(Ie.flags|=1024),i}function Gf(){var t=oc!==0;return oc=0,t}function Kf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Qf(t){if(ac){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ac=!1}Ji=0,xt=et=Ie=null,La=!1,ml=oc=0,Ua=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Ie.memoizedState=xt=t:xt=xt.next=t,xt}function yt(){if(et===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var i=xt===null?Ie.memoizedState:xt.next;if(i!==null)xt=i,et=t;else{if(t===null)throw Ie.alternate===null?Error(r(467)):Error(r(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},xt===null?Ie.memoizedState=xt=t:xt=xt.next=t}return xt}function lc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pl(t){var i=ml;return ml+=1,Ua===null&&(Ua=[]),t=Pg(Ua,t,i),i=Ie,(xt===null?i.memoizedState:xt.next)===null&&(i=i.alternate,H.H=i===null||i.memoizedState===null?I_:rd),t}function uc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return pl(t);if(t.$$typeof===de)return Ht(t)}throw Error(r(438,String(t)))}function Yf(t){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=lc(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=k;return i.index++,a}function Zi(t,i){return typeof i=="function"?i(t):i}function cc(t){var i=yt();return Xf(i,et,t)}function Xf(t,i,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var y=h.next;h.next=d.next,d.next=y}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=y=null,O=null,z=i,Q=!1;do{var J=z.lane&-536870913;if(J!==z.lane?(Ve&J)===J:(Ji&J)===J){var B=z.revertLane;if(B===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),J===Ma&&(Q=!0);else if((Ji&B)===B){z=z.next,B===Ma&&(Q=!0);continue}else J={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},O===null?(T=O=J,y=d):O=O.next=J,Ie.lanes|=B,Hs|=B;J=z.action,Yr&&a(d,J),d=z.hasEagerState?z.eagerState:a(d,J)}else B={lane:J,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},O===null?(T=O=B,y=d):O=O.next=B,Ie.lanes|=J,Hs|=J;z=z.next}while(z!==null&&z!==i);if(O===null?y=d:O.next=T,!yn(d,t.memoizedState)&&(Rt=!0,Q&&(a=Va,a!==null)))throw a;t.memoizedState=d,t.baseState=y,t.baseQueue=O,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function $f(t){var i=yt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do d=t(d,y.action),y=y.next;while(y!==h);yn(d,i.memoizedState)||(Rt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Yg(t,i,a){var l=Ie,h=yt(),d=Ue;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var y=!yn((et||h).memoizedState,a);if(y&&(h.memoizedState=a,Rt=!0),h=h.queue,Wf(Jg.bind(null,l,h,t),[t]),h.getSnapshot!==i||y||xt!==null&&xt.memoizedState.tag&1){if(l.flags|=2048,za(9,{destroy:void 0},$g.bind(null,l,h,a,i),null),st===null)throw Error(r(349));d||(Ji&127)!==0||Xg(l,i,a)}return a}function Xg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=lc(),Ie.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function $g(t,i,a,l){i.value=a,i.getSnapshot=l,Zg(i)&&Wg(t)}function Jg(t,i,a){return a(function(){Zg(i)&&Wg(t)})}function Zg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!yn(t,a)}catch{return!0}}function Wg(t){var i=Ur(t,2);i!==null&&mn(i,t,2)}function Jf(t){var i=nn();if(typeof t=="function"){var a=t;if(t=a(),Yr){Nn(!0);try{a()}finally{Nn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:t},i}function e_(t,i,a,l){return t.baseState=a,Xf(t,et,typeof l=="function"?l:Zi)}function $1(t,i,a,l,h){if(dc(t))throw Error(r(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};H.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,t_(i,d)):(d.next=a.next,i.pending=a.next=d)}}function t_(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=H.T,y={};H.T=y;try{var T=a(h,l),O=H.S;O!==null&&O(y,T),n_(t,i,T)}catch(z){Zf(t,i,z)}finally{d!==null&&y.types!==null&&(d.types=y.types),H.T=d}}else try{d=a(h,l),n_(t,i,d)}catch(z){Zf(t,i,z)}}function n_(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){i_(t,i,l)},function(l){return Zf(t,i,l)}):i_(t,i,a)}function i_(t,i,a){i.status="fulfilled",i.value=a,s_(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,t_(t,a)))}function Zf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,s_(i),i=i.next;while(i!==l)}t.action=null}function s_(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function r_(t,i){return i}function a_(t,i){if(Ue){var a=st.formState;if(a!==null){e:{var l=Ie;if(Ue){if(rt){t:{for(var h=rt,d=Un;h.nodeType!==8;){if(!d){h=null;break t}if(h=Bn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){rt=Bn(h.nextSibling),l=h.data==="F!";break e}}Vs(l)}l=!1}l&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r_,lastRenderedState:i},a.queue=l,a=S_.bind(null,Ie,l),l.dispatch=a,l=Jf(!1),d=sd.bind(null,Ie,!1,l.queue),l=nn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=$1.bind(null,Ie,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function o_(t){var i=yt();return l_(i,et,t)}function l_(t,i,a){if(i=Xf(t,i,r_)[0],t=cc(Zi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=pl(i)}catch(y){throw y===ka?ec:y}else l=i;i=yt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,za(9,{destroy:void 0},J1.bind(null,h,a),null)),[l,d,t]}function J1(t,i){t.action=i}function u_(t){var i=yt(),a=et;if(a!==null)return l_(i,a,t);yt(),i=i.memoizedState,a=yt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function za(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=lc(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function c_(){return yt().memoizedState}function hc(t,i,a,l){var h=nn();Ie.flags|=t,h.memoizedState=za(1|i,{destroy:void 0},a,l===void 0?null:l)}function fc(t,i,a,l){var h=yt();l=l===void 0?null:l;var d=h.memoizedState.inst;et!==null&&l!==null&&Hf(l,et.memoizedState.deps)?h.memoizedState=za(i,d,a,l):(Ie.flags|=t,h.memoizedState=za(1|i,d,a,l))}function h_(t,i){hc(8390656,8,t,i)}function Wf(t,i){fc(2048,8,t,i)}function Z1(t){Ie.flags|=4;var i=Ie.updateQueue;if(i===null)i=lc(),Ie.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function f_(t){var i=yt().memoizedState;return Z1({ref:i,nextImpl:t}),function(){if((Qe&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function d_(t,i){return fc(4,2,t,i)}function m_(t,i){return fc(4,4,t,i)}function p_(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function g_(t,i,a){a=a!=null?a.concat([t]):null,fc(4,4,p_.bind(null,i,t),a)}function ed(){}function __(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Hf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function y_(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Hf(i,l[1]))return l[0];if(l=t(),Yr){Nn(!0);try{t()}finally{Nn(!1)}}return a.memoizedState=[l,i],l}function td(t,i,a){return a===void 0||(Ji&1073741824)!==0&&(Ve&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=vy(),Ie.lanes|=t,Hs|=t,a)}function v_(t,i,a,l){return yn(a,i)?a:Pa.current!==null?(t=td(t,a,l),yn(t,i)||(Rt=!0),t):(Ji&42)===0||(Ji&1073741824)!==0&&(Ve&261930)===0?(Rt=!0,t.memoizedState=a):(t=vy(),Ie.lanes|=t,Hs|=t,i)}function E_(t,i,a,l,h){var d=W.p;W.p=d!==0&&8>d?d:8;var y=H.T,T={};H.T=T,sd(t,!1,i,a);try{var O=h(),z=H.S;if(z!==null&&z(T,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var Q=Q1(O,l);gl(t,i,Q,wn(t))}else gl(t,i,l,wn(t))}catch(J){gl(t,i,{then:function(){},status:"rejected",reason:J},wn())}finally{W.p=d,y!==null&&T.types!==null&&(y.types=T.types),H.T=y}}function W1(){}function nd(t,i,a,l){if(t.tag!==5)throw Error(r(476));var h=b_(t).queue;E_(t,h,i,ce,a===null?W1:function(){return T_(t),a(l)})}function b_(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:ce},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function T_(t){var i=b_(t);i.next===null&&(i=t.alternate.memoizedState),gl(t,i.next.queue,{},wn())}function id(){return Ht(Ml)}function A_(){return yt().memoizedState}function w_(){return yt().memoizedState}function eA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=wn();t=Ps(a);var l=Ls(i,t,a);l!==null&&(mn(l,i,a),hl(l,i,a)),i={cache:Of()},t.payload=i;return}i=i.return}}function tA(t,i,a){var l=wn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},dc(t)?x_(i,a):(a=bf(t,i,a,l),a!==null&&(mn(a,t,l),R_(a,i,l)))}function S_(t,i,a){var l=wn();gl(t,i,a,l)}function gl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(dc(t))x_(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var y=i.lastRenderedState,T=d(y,a);if(h.hasEagerState=!0,h.eagerState=T,yn(T,y))return Qu(t,i,h,0),st===null&&Ku(),!1}catch{}if(a=bf(t,i,h,l),a!==null)return mn(a,t,l),R_(a,i,l),!0}return!1}function sd(t,i,a,l){if(l={lane:2,revertLane:jd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},dc(t)){if(i)throw Error(r(479))}else i=bf(t,a,l,2),i!==null&&mn(i,t,2)}function dc(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function x_(t,i){La=ac=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function R_(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Lo(t,a)}}var _l={readContext:Ht,use:uc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};_l.useEffectEvent=dt;var I_={readContext:Ht,use:uc,useCallback:function(t,i){return nn().memoizedState=[t,i===void 0?null:i],t},useContext:Ht,useEffect:h_,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,hc(4194308,4,p_.bind(null,i,t),a)},useLayoutEffect:function(t,i){return hc(4194308,4,t,i)},useInsertionEffect:function(t,i){hc(4,2,t,i)},useMemo:function(t,i){var a=nn();i=i===void 0?null:i;var l=t();if(Yr){Nn(!0);try{t()}finally{Nn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=nn();if(a!==void 0){var h=a(i);if(Yr){Nn(!0);try{a(i)}finally{Nn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=tA.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var i=nn();return t={current:t},i.memoizedState=t},useState:function(t){t=Jf(t);var i=t.queue,a=S_.bind(null,Ie,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:ed,useDeferredValue:function(t,i){var a=nn();return td(a,t,i)},useTransition:function(){var t=Jf(!1);return t=E_.bind(null,Ie,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ie,h=nn();if(Ue){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),st===null)throw Error(r(349));(Ve&127)!==0||Xg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,h_(Jg.bind(null,l,d,t),[t]),l.flags|=2048,za(9,{destroy:void 0},$g.bind(null,l,d,a,i),null),a},useId:function(){var t=nn(),i=st.identifierPrefix;if(Ue){var a=Ni,l=Ci;a=(l&~(1<<32-pt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=oc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=Y1++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:id,useFormState:a_,useActionState:a_,useOptimistic:function(t){var i=nn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=sd.bind(null,Ie,!0,a),a.dispatch=i,[t,i]},useMemoCache:Yf,useCacheRefresh:function(){return nn().memoizedState=eA.bind(null,Ie)},useEffectEvent:function(t){var i=nn(),a={impl:t};return i.memoizedState=a,function(){if((Qe&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},rd={readContext:Ht,use:uc,useCallback:__,useContext:Ht,useEffect:Wf,useImperativeHandle:g_,useInsertionEffect:d_,useLayoutEffect:m_,useMemo:y_,useReducer:cc,useRef:c_,useState:function(){return cc(Zi)},useDebugValue:ed,useDeferredValue:function(t,i){var a=yt();return v_(a,et.memoizedState,t,i)},useTransition:function(){var t=cc(Zi)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:pl(t),i]},useSyncExternalStore:Yg,useId:A_,useHostTransitionStatus:id,useFormState:o_,useActionState:o_,useOptimistic:function(t,i){var a=yt();return e_(a,et,t,i)},useMemoCache:Yf,useCacheRefresh:w_};rd.useEffectEvent=f_;var C_={readContext:Ht,use:uc,useCallback:__,useContext:Ht,useEffect:Wf,useImperativeHandle:g_,useInsertionEffect:d_,useLayoutEffect:m_,useMemo:y_,useReducer:$f,useRef:c_,useState:function(){return $f(Zi)},useDebugValue:ed,useDeferredValue:function(t,i){var a=yt();return et===null?td(a,t,i):v_(a,et.memoizedState,t,i)},useTransition:function(){var t=$f(Zi)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:pl(t),i]},useSyncExternalStore:Yg,useId:A_,useHostTransitionStatus:id,useFormState:u_,useActionState:u_,useOptimistic:function(t,i){var a=yt();return et!==null?e_(a,et,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Yf,useCacheRefresh:w_};C_.useEffectEvent=f_;function ad(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:w({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var od={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=wn(),h=Ps(l);h.payload=i,a!=null&&(h.callback=a),i=Ls(t,h,l),i!==null&&(mn(i,t,l),hl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=wn(),h=Ps(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ls(t,h,l),i!==null&&(mn(i,t,l),hl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=wn(),l=Ps(a);l.tag=2,i!=null&&(l.callback=i),i=Ls(t,l,a),i!==null&&(mn(i,t,a),hl(i,t,a))}};function N_(t,i,a,l,h,d,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,y):i.prototype&&i.prototype.isPureReactComponent?!il(a,l)||!il(h,d):!0}function D_(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&od.enqueueReplaceState(i,i.state,null)}function Xr(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=w({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function O_(t){Gu(t)}function M_(t){console.error(t)}function V_(t){Gu(t)}function mc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function k_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ld(t,i,a){return a=Ps(a),a.tag=3,a.payload={element:null},a.callback=function(){mc(t,i)},a}function j_(t){return t=Ps(t),t.tag=3,t}function P_(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){k_(i,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){k_(i,a,l),typeof h!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function nA(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Oa(i,a,h,!0),a=En.current,a!==null){switch(a.tag){case 31:case 13:return zn===null?xc():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===tc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Md(t,l,h)),!1;case 22:return a.flags|=65536,l===tc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Md(t,l,h)),!1}throw Error(r(435,a.tag))}return Md(t,l,h),xc(),!1}if(Ue)return i=En.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Rf&&(t=Error(r(422),{cause:l}),al(jn(t,a)))):(l!==Rf&&(i=Error(r(423),{cause:l}),al(jn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=jn(l,a),h=ld(t.stateNode,l,h),Lf(t,h),mt!==4&&(mt=2)),!1;var d=Error(r(520),{cause:l});if(d=jn(d,a),Sl===null?Sl=[d]:Sl.push(d),mt!==4&&(mt=2),i===null)return!0;l=jn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=ld(a.stateNode,l,t),Lf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Fs===null||!Fs.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=j_(h),P_(h,t,a,l),Lf(a,h),!1}a=a.return}while(a!==null);return!1}var ud=Error(r(461)),Rt=!1;function Ft(t,i,a,l){i.child=t===null?Bg(i,null,a,l):Qr(i,t.child,a,l)}function L_(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var y={};for(var T in l)T!=="ref"&&(y[T]=l[T])}else y=l;return Hr(i),l=Ff(t,i,a,y,d,h),T=Gf(),t!==null&&!Rt?(Kf(t,i,h),Wi(t,i,h)):(Ue&&T&&Sf(i),i.flags|=1,Ft(t,i,l,h),i.child)}function U_(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Tf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,z_(t,i,d,l,h)):(t=Xu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!_d(t,h)){var y=d.memoizedProps;if(a=a.compare,a=a!==null?a:il,a(y,l)&&t.ref===i.ref)return Wi(t,i,h)}return i.flags|=1,t=Qi(d,l),t.ref=i.ref,t.return=i,i.child=t}function z_(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(il(d,l)&&t.ref===i.ref)if(Rt=!1,i.pendingProps=l=d,_d(t,h))(t.flags&131072)!==0&&(Rt=!0);else return i.lanes=t.lanes,Wi(t,i,h)}return cd(t,i,a,l,h)}function B_(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return q_(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Wu(i,d!==null?d.cachePool:null),d!==null?Fg(i,d):zf(),Gg(i);else return l=i.lanes=536870912,q_(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Wu(i,d.cachePool),Fg(i,d),zs(),i.memoizedState=null):(t!==null&&Wu(i,null),zf(),zs());return Ft(t,i,h,a),i.child}function yl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function q_(t,i,a,l,h){var d=Vf();return d=d===null?null:{parent:St._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Wu(i,null),zf(),Gg(i),t!==null&&Oa(t,i,l,!0),i.childLanes=h,null}function pc(t,i){return i=_c({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function H_(t,i,a){return Qr(i,t.child,null,a),t=pc(i,i.pendingProps),t.flags|=2,bn(i),i.memoizedState=null,t}function iA(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Ue){if(l.mode==="hidden")return t=pc(i,l),i.lanes=536870912,yl(null,t);if(qf(i),(t=rt)?(t=tv(t,Un),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Os!==null?{id:Ci,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},a=xg(t),a.return=i,i.child=a,qt=i,rt=null)):t=null,t===null)throw Vs(i);return i.lanes=536870912,null}return pc(i,l)}var d=t.memoizedState;if(d!==null){var y=d.dehydrated;if(qf(i),h)if(i.flags&256)i.flags&=-257,i=H_(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(Rt||Oa(t,i,a,!1),h=(a&t.childLanes)!==0,Rt||h){if(l=st,l!==null&&(y=Uo(l,a),y!==0&&y!==d.retryLane))throw d.retryLane=y,Ur(t,y),mn(l,t,y),ud;xc(),i=H_(t,i,a)}else t=d.treeContext,rt=Bn(y.nextSibling),qt=i,Ue=!0,Ms=null,Un=!1,t!==null&&Cg(i,t),i=pc(i,l),i.flags|=4096;return i}return t=Qi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function gc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function cd(t,i,a,l,h){return Hr(i),a=Ff(t,i,a,l,void 0,h),l=Gf(),t!==null&&!Rt?(Kf(t,i,h),Wi(t,i,h)):(Ue&&l&&Sf(i),i.flags|=1,Ft(t,i,a,h),i.child)}function F_(t,i,a,l,h,d){return Hr(i),i.updateQueue=null,a=Qg(i,l,a,h),Kg(t),l=Gf(),t!==null&&!Rt?(Kf(t,i,d),Wi(t,i,d)):(Ue&&l&&Sf(i),i.flags|=1,Ft(t,i,a,d),i.child)}function G_(t,i,a,l,h){if(Hr(i),i.stateNode===null){var d=Ia,y=a.contextType;typeof y=="object"&&y!==null&&(d=Ht(y)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=od,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},jf(i),y=a.contextType,d.context=typeof y=="object"&&y!==null?Ht(y):Ia,d.state=i.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(ad(i,a,y,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&od.enqueueReplaceState(d,d.state,null),dl(i,l,d,h),fl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,O=Xr(a,T);d.props=O;var z=d.context,Q=a.contextType;y=Ia,typeof Q=="object"&&Q!==null&&(y=Ht(Q));var J=a.getDerivedStateFromProps;Q=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||z!==y)&&D_(i,d,l,y),js=!1;var B=i.memoizedState;d.state=B,dl(i,l,d,h),fl(),z=i.memoizedState,T||B!==z||js?(typeof J=="function"&&(ad(i,a,J,l),z=i.memoizedState),(O=js||N_(i,a,O,l,B,z,y))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=y,l=O):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Pf(t,i),y=i.memoizedProps,Q=Xr(a,y),d.props=Q,J=i.pendingProps,B=d.context,z=a.contextType,O=Ia,typeof z=="object"&&z!==null&&(O=Ht(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==J||B!==O)&&D_(i,d,l,O),js=!1,B=i.memoizedState,d.state=B,dl(i,l,d,h),fl();var G=i.memoizedState;y!==J||B!==G||js||t!==null&&t.dependencies!==null&&Ju(t.dependencies)?(typeof T=="function"&&(ad(i,a,T,l),G=i.memoizedState),(Q=js||N_(i,a,Q,l,B,G,O)||t!==null&&t.dependencies!==null&&Ju(t.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,O)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=G),d.props=l,d.state=G,d.context=O,l=Q):(typeof d.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,gc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Qr(i,t.child,null,h),i.child=Qr(i,null,a,h)):Ft(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Wi(t,i,h),t}function K_(t,i,a,l){return Br(),i.flags|=256,Ft(t,i,a,l),i.child}var hd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fd(t){return{baseLanes:t,cachePool:kg()}}function dd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=An),t}function Q_(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,y;if((y=d)||(y=t!==null&&t.memoizedState===null?!1:(_t.current&2)!==0),y&&(h=!0,i.flags&=-129),y=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ue){if(h?Us(i):zs(),(t=rt)?(t=tv(t,Un),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Os!==null?{id:Ci,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},a=xg(t),a.return=i,i.child=a,qt=i,rt=null)):t=null,t===null)throw Vs(i);return Xd(t)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(zs(),h=i.mode,T=_c({mode:"hidden",children:T},h),l=zr(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=fd(a),l.childLanes=dd(t,y,a),i.memoizedState=hd,yl(null,l)):(Us(i),md(i,T))}var O=t.memoizedState;if(O!==null&&(T=O.dehydrated,T!==null)){if(d)i.flags&256?(Us(i),i.flags&=-257,i=pd(t,i,a)):i.memoizedState!==null?(zs(),i.child=t.child,i.flags|=128,i=null):(zs(),T=l.fallback,h=i.mode,l=_c({mode:"visible",children:l.children},h),T=zr(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,Qr(i,t.child,null,a),l=i.child,l.memoizedState=fd(a),l.childLanes=dd(t,y,a),i.memoizedState=hd,i=yl(null,l));else if(Us(i),Xd(T)){if(y=T.nextSibling&&T.nextSibling.dataset,y)var z=y.dgst;y=z,l=Error(r(419)),l.stack="",l.digest=y,al({value:l,source:null,stack:null}),i=pd(t,i,a)}else if(Rt||Oa(t,i,a,!1),y=(a&t.childLanes)!==0,Rt||y){if(y=st,y!==null&&(l=Uo(y,a),l!==0&&l!==O.retryLane))throw O.retryLane=l,Ur(t,l),mn(y,t,l),ud;Yd(T)||xc(),i=pd(t,i,a)}else Yd(T)?(i.flags|=192,i.child=t.child,i=null):(t=O.treeContext,rt=Bn(T.nextSibling),qt=i,Ue=!0,Ms=null,Un=!1,t!==null&&Cg(i,t),i=md(i,l.children),i.flags|=4096);return i}return h?(zs(),T=l.fallback,h=i.mode,O=t.child,z=O.sibling,l=Qi(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,z!==null?T=Qi(z,T):(T=zr(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,yl(null,l),l=i.child,T=t.child.memoizedState,T===null?T=fd(a):(h=T.cachePool,h!==null?(O=St._currentValue,h=h.parent!==O?{parent:O,pool:O}:h):h=kg(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=dd(t,y,a),i.memoizedState=hd,yl(t.child,l)):(Us(i),a=t.child,t=a.sibling,a=Qi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(y=i.deletions,y===null?(i.deletions=[t],i.flags|=16):y.push(t)),i.child=a,i.memoizedState=null,a)}function md(t,i){return i=_c({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function _c(t,i){return t=vn(22,t,null,i),t.lanes=0,t}function pd(t,i,a){return Qr(i,t.child,null,a),t=md(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Y_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Nf(t.return,i,a)}function gd(t,i,a,l,h,d){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=a,y.tailMode=h,y.treeForkCount=d)}function X_(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var y=_t.current,T=(y&2)!==0;if(T?(y=y&1|2,i.flags|=128):y&=1,K(_t,y),Ft(t,i,l,a),l=Ue?rl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Y_(t,a,i);else if(t.tag===19)Y_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&rc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),gd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&rc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}gd(i,!0,a,null,d,l);break;case"together":gd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Wi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Hs|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Oa(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=Qi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Qi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function _d(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Ju(t)))}function sA(t,i,a){switch(i.tag){case 3:ze(i,i.stateNode.containerInfo),ks(i,St,t.memoizedState.cache),Br();break;case 27:case 5:on(i);break;case 4:ze(i,i.stateNode.containerInfo);break;case 10:ks(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,qf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Us(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Q_(t,i,a):(Us(i),t=Wi(t,i,a),t!==null?t.sibling:null);Us(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Oa(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return X_(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),K(_t,_t.current),l)break;return null;case 22:return i.lanes=0,B_(t,i,a,i.pendingProps);case 24:ks(i,St,t.memoizedState.cache)}return Wi(t,i,a)}function $_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Rt=!0;else{if(!_d(t,a)&&(i.flags&128)===0)return Rt=!1,sA(t,i,a);Rt=(t.flags&131072)!==0}else Rt=!1,Ue&&(i.flags&1048576)!==0&&Ig(i,rl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Gr(i.elementType),i.type=t,typeof t=="function")Tf(t)?(l=Xr(t,l),i.tag=1,i=G_(null,i,t,l,a)):(i.tag=0,i=cd(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===De){i.tag=11,i=L_(null,i,t,l,a);break e}else if(h===N){i.tag=14,i=U_(null,i,t,l,a);break e}}throw i=Ge(t)||t,Error(r(306,i,""))}}return i;case 0:return cd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Xr(l,i.pendingProps),G_(t,i,l,h,a);case 3:e:{if(ze(i,i.stateNode.containerInfo),t===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Pf(t,i),dl(i,l,null,a);var y=i.memoizedState;if(l=y.cache,ks(i,St,l),l!==d.cache&&Df(i,[St],a,!0),fl(),l=y.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:y.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=K_(t,i,l,a);break e}else if(l!==h){h=jn(Error(r(424)),i),al(h),i=K_(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,rt=Bn(t.firstChild),qt=i,Ue=!0,Ms=null,Un=!0,a=Bg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Br(),l===h){i=Wi(t,i,a);break e}Ft(t,i,l,a)}i=i.child}return i;case 26:return gc(t,i),t===null?(a=ov(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ue||(a=i.type,t=i.pendingProps,l=Mc(ae.current).createElement(a),l[Tt]=i,l[kt]=t,Gt(l,a,t),At(l),i.stateNode=l):i.memoizedState=ov(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return on(i),t===null&&Ue&&(l=i.stateNode=sv(i.type,i.pendingProps,ae.current),qt=i,Un=!0,h=rt,Ys(i.type)?($d=h,rt=Bn(l.firstChild)):rt=h),Ft(t,i,i.pendingProps.children,a),gc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ue&&((h=l=rt)&&(l=VA(l,i.type,i.pendingProps,Un),l!==null?(i.stateNode=l,qt=i,rt=Bn(l.firstChild),Un=!1,h=!0):h=!1),h||Vs(i)),on(i),h=i.type,d=i.pendingProps,y=t!==null?t.memoizedProps:null,l=d.children,Gd(h,d)?l=null:y!==null&&Gd(h,y)&&(i.flags|=32),i.memoizedState!==null&&(h=Ff(t,i,X1,null,null,a),Ml._currentValue=h),gc(t,i),Ft(t,i,l,a),i.child;case 6:return t===null&&Ue&&((t=a=rt)&&(a=kA(a,i.pendingProps,Un),a!==null?(i.stateNode=a,qt=i,rt=null,t=!0):t=!1),t||Vs(i)),null;case 13:return Q_(t,i,a);case 4:return ze(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Qr(i,null,l,a):Ft(t,i,l,a),i.child;case 11:return L_(t,i,i.type,i.pendingProps,a);case 7:return Ft(t,i,i.pendingProps,a),i.child;case 8:return Ft(t,i,i.pendingProps.children,a),i.child;case 12:return Ft(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,ks(i,i.type,l.value),Ft(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Hr(i),h=Ht(h),l=l(h),i.flags|=1,Ft(t,i,l,a),i.child;case 14:return U_(t,i,i.type,i.pendingProps,a);case 15:return z_(t,i,i.type,i.pendingProps,a);case 19:return X_(t,i,a);case 31:return iA(t,i,a);case 22:return B_(t,i,a,i.pendingProps);case 24:return Hr(i),l=Ht(St),t===null?(h=Vf(),h===null&&(h=st,d=Of(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},jf(i),ks(i,St,h)):((t.lanes&a)!==0&&(Pf(t,i),dl(i,null,null,a),fl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ks(i,St,l)):(l=d.cache,ks(i,St,l),l!==h.cache&&Df(i,[St],a,!0))),Ft(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function es(t){t.flags|=4}function yd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Ay())t.flags|=8192;else throw Kr=tc,kf}else t.flags&=-16777217}function J_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!fv(i))if(Ay())t.flags|=8192;else throw Kr=tc,kf}function yc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?wu():536870912,t.lanes|=i,Fa|=i)}function vl(t,i){if(!Ue)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function at(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function rA(t,i,a){var l=i.pendingProps;switch(xf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(i),null;case 1:return at(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),$i(St),Ze(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Da(i)?es(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,If())),at(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(es(i),d!==null?(at(i),J_(i,d)):(at(i),yd(i,h,null,l,a))):d?d!==t.memoizedState?(es(i),at(i),J_(i,d)):(at(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&es(i),at(i),yd(i,h,t,l,a)),null;case 27:if(ys(i),a=ae.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&es(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return at(i),null}t=ee.current,Da(i)?Ng(i):(t=sv(h,l,a),i.stateNode=t,es(i))}return at(i),null;case 5:if(ys(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&es(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return at(i),null}if(d=ee.current,Da(i))Ng(i);else{var y=Mc(ae.current);switch(d){case 1:d=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=y.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?y.createElement(h,{is:l.is}):y.createElement(h)}}d[Tt]=i,d[kt]=l;e:for(y=i.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===i)break e;for(;y.sibling===null;){if(y.return===null||y.return===i)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}i.stateNode=d;e:switch(Gt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&es(i)}}return at(i),yd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&es(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(t=ae.current,Da(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=qt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Tt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Qy(t.nodeValue,a)),t||Vs(i,!0)}else t=Mc(t).createTextNode(l),t[Tt]=i,i.stateNode=t}return at(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Da(i),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Tt]=i}else Br(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),t=!1}else a=If(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(bn(i),i):(bn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return at(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Da(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Tt]=i}else Br(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),h=!1}else h=If(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(bn(i),i):(bn(i),null)}return bn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),yc(i,i.updateQueue),at(i),null);case 4:return Ze(),t===null&&zd(i.stateNode.containerInfo),at(i),null;case 10:return $i(i.type),at(i),null;case 19:if(j(_t),l=i.memoizedState,l===null)return at(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)vl(l,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=rc(t),d!==null){for(i.flags|=128,vl(l,!1),t=d.updateQueue,i.updateQueue=t,yc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Sg(a,t),a=a.sibling;return K(_t,_t.current&1|2),Ue&&Yi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&en()>Ac&&(i.flags|=128,h=!0,vl(l,!1),i.lanes=4194304)}else{if(!h)if(t=rc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,yc(i,t),vl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ue)return at(i),null}else 2*en()-l.renderingStartTime>Ac&&a!==536870912&&(i.flags|=128,h=!0,vl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=en(),t.sibling=null,a=_t.current,K(_t,h?a&1|2:a&1),Ue&&Yi(i,l.treeForkCount),t):(at(i),null);case 22:case 23:return bn(i),Bf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(at(i),i.subtreeFlags&6&&(i.flags|=8192)):at(i),a=i.updateQueue,a!==null&&yc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&j(Fr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),$i(St),at(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function aA(t,i){switch(xf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return $i(St),Ze(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ys(i),null;case 31:if(i.memoizedState!==null){if(bn(i),i.alternate===null)throw Error(r(340));Br()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(bn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Br()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return j(_t),null;case 4:return Ze(),null;case 10:return $i(i.type),null;case 22:case 23:return bn(i),Bf(),t!==null&&j(Fr),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return $i(St),null;case 25:return null;default:return null}}function Z_(t,i){switch(xf(i),i.tag){case 3:$i(St),Ze();break;case 26:case 27:case 5:ys(i);break;case 4:Ze();break;case 31:i.memoizedState!==null&&bn(i);break;case 13:bn(i);break;case 19:j(_t);break;case 10:$i(i.type);break;case 22:case 23:bn(i),Bf(),t!==null&&j(Fr);break;case 24:$i(St)}}function El(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,y=a.inst;l=d(),y.destroy=l}a=a.next}while(a!==h)}}catch(T){$e(i,i.return,T)}}function Bs(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var y=l.inst,T=y.destroy;if(T!==void 0){y.destroy=void 0,h=i;var O=a,z=T;try{z()}catch(Q){$e(h,O,Q)}}}l=l.next}while(l!==d)}}catch(Q){$e(i,i.return,Q)}}function W_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Hg(i,a)}catch(l){$e(t,t.return,l)}}}function ey(t,i,a){a.props=Xr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){$e(t,i,l)}}function bl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){$e(t,i,h)}}function Di(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){$e(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$e(t,i,h)}else a.current=null}function ty(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){$e(t,t.return,h)}}function vd(t,i,a){try{var l=t.stateNode;IA(l,t.type,a,i),l[kt]=i}catch(h){$e(t,t.return,h)}}function ny(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ys(t.type)||t.tag===4}function Ed(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ny(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ys(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Yn));else if(l!==4&&(l===27&&Ys(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(bd(t,i,a),t=t.sibling;t!==null;)bd(t,i,a),t=t.sibling}function vc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Ys(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(vc(t,i,a),t=t.sibling;t!==null;)vc(t,i,a),t=t.sibling}function iy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Gt(i,l,a),i[Tt]=t,i[kt]=a}catch(d){$e(t,t.return,d)}}var ts=!1,It=!1,Td=!1,sy=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function oA(t,i){if(t=t.containerInfo,Hd=zc,t=gg(t),pf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var y=0,T=-1,O=-1,z=0,Q=0,J=t,B=null;t:for(;;){for(var G;J!==a||h!==0&&J.nodeType!==3||(T=y+h),J!==d||l!==0&&J.nodeType!==3||(O=y+l),J.nodeType===3&&(y+=J.nodeValue.length),(G=J.firstChild)!==null;)B=J,J=G;for(;;){if(J===t)break t;if(B===a&&++z===h&&(T=y),B===d&&++Q===l&&(O=y),(G=J.nextSibling)!==null)break;J=B,B=J.parentNode}J=G}a=T===-1||O===-1?null:{start:T,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(Fd={focusedElem:t,selectionRange:a},zc=!1,Pt=i;Pt!==null;)if(i=Pt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Pt=t;else for(;Pt!==null;){switch(i=Pt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ue=Xr(a.type,h);t=l.getSnapshotBeforeUpdate(ue,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){$e(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Qd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Qd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,Pt=t;break}Pt=i.return}}function ry(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:is(t,a),l&4&&El(5,a);break;case 1:if(is(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(y){$e(a,a.return,y)}else{var h=Xr(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(y){$e(a,a.return,y)}}l&64&&W_(a),l&512&&bl(a,a.return);break;case 3:if(is(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Hg(t,i)}catch(y){$e(a,a.return,y)}}break;case 27:i===null&&l&4&&iy(a);case 26:case 5:is(t,a),i===null&&l&4&&ty(a),l&512&&bl(a,a.return);break;case 12:is(t,a);break;case 31:is(t,a),l&4&&ly(t,a);break;case 13:is(t,a),l&4&&uy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=gA.bind(null,a),jA(t,a))));break;case 22:if(l=a.memoizedState!==null||ts,!l){i=i!==null&&i.memoizedState!==null||It,h=ts;var d=It;ts=l,(It=i)&&!d?ss(t,a,(a.subtreeFlags&8772)!==0):is(t,a),ts=h,It=d}break;case 30:break;default:is(t,a)}}function ay(t){var i=t.alternate;i!==null&&(t.alternate=null,ay(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ma(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,cn=!1;function ns(t,i,a){for(a=a.child;a!==null;)oy(t,i,a),a=a.sibling}function oy(t,i,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Fn,a)}catch{}switch(a.tag){case 26:It||Di(a,i),ns(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:It||Di(a,i);var l=ut,h=cn;Ys(a.type)&&(ut=a.stateNode,cn=!1),ns(t,i,a),Nl(a.stateNode),ut=l,cn=h;break;case 5:It||Di(a,i);case 6:if(l=ut,h=cn,ut=null,ns(t,i,a),ut=l,cn=h,ut!==null)if(cn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(d){$e(a,i,d)}else try{ut.removeChild(a.stateNode)}catch(d){$e(a,i,d)}break;case 18:ut!==null&&(cn?(t=ut,Wy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Za(t)):Wy(ut,a.stateNode));break;case 4:l=ut,h=cn,ut=a.stateNode.containerInfo,cn=!0,ns(t,i,a),ut=l,cn=h;break;case 0:case 11:case 14:case 15:Bs(2,a,i),It||Bs(4,a,i),ns(t,i,a);break;case 1:It||(Di(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&ey(a,i,l)),ns(t,i,a);break;case 21:ns(t,i,a);break;case 22:It=(l=It)||a.memoizedState!==null,ns(t,i,a),It=l;break;default:ns(t,i,a)}}function ly(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Za(t)}catch(a){$e(i,i.return,a)}}}function uy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Za(t)}catch(a){$e(i,i.return,a)}}function lA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new sy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new sy),i;default:throw Error(r(435,t.tag))}}function Ec(t,i){var a=lA(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=_A.bind(null,t,l);l.then(h,h)}})}function hn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,y=i,T=y;e:for(;T!==null;){switch(T.tag){case 27:if(Ys(T.type)){ut=T.stateNode,cn=!1;break e}break;case 5:ut=T.stateNode,cn=!1;break e;case 3:case 4:ut=T.stateNode.containerInfo,cn=!0;break e}T=T.return}if(ut===null)throw Error(r(160));oy(d,y,h),ut=null,cn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)cy(i,t),i=i.sibling}var ei=null;function cy(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:hn(i,t),fn(t),l&4&&(Bs(3,t,t.return),El(3,t),Bs(5,t,t.return));break;case 1:hn(i,t),fn(t),l&512&&(It||a===null||Di(a,a.return)),l&64&&ts&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ei;if(hn(i,t),fn(t),l&512&&(It||a===null||Di(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[_i]||d[Tt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Gt(d,l,a),d[Tt]=t,At(d),l=d;break e;case"link":var y=cv("link","href",h).get(l+(a.href||""));if(y){for(var T=0;T<y.length;T++)if(d=y[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(T,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;case"meta":if(y=cv("meta","content",h).get(l+(a.content||""))){for(T=0;T<y.length;T++)if(d=y[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(T,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[Tt]=t,At(d),l=d}t.stateNode=l}else hv(h,t.type,t.stateNode);else t.stateNode=uv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?hv(h,t.type,t.stateNode):uv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&vd(t,t.memoizedProps,a.memoizedProps)}break;case 27:hn(i,t),fn(t),l&512&&(It||a===null||Di(a,a.return)),a!==null&&l&4&&vd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(hn(i,t),fn(t),l&512&&(It||a===null||Di(a,a.return)),t.flags&32){h=t.stateNode;try{un(h,"")}catch(ue){$e(t,t.return,ue)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,vd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Td=!0);break;case 6:if(hn(i,t),fn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ue){$e(t,t.return,ue)}}break;case 3:if(jc=null,h=ei,ei=Vc(i.containerInfo),hn(i,t),ei=h,fn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Za(i.containerInfo)}catch(ue){$e(t,t.return,ue)}Td&&(Td=!1,hy(t));break;case 4:l=ei,ei=Vc(t.stateNode.containerInfo),hn(i,t),fn(t),ei=l;break;case 12:hn(i,t),fn(t);break;case 31:hn(i,t),fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ec(t,l)));break;case 13:hn(i,t),fn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Tc=en()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ec(t,l)));break;case 22:h=t.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,z=ts,Q=It;if(ts=z||h,It=Q||O,hn(i,t),It=Q,ts=z,fn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||O||ts||It||$r(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){O=a=i;try{if(d=O.stateNode,h)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{T=O.stateNode;var J=O.memoizedProps.style,B=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ue){$e(O,O.return,ue)}}}else if(i.tag===6){if(a===null){O=i;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(ue){$e(O,O.return,ue)}}}else if(i.tag===18){if(a===null){O=i;try{var G=O.stateNode;h?ev(G,!0):ev(O.stateNode,!1)}catch(ue){$e(O,O.return,ue)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ec(t,a))));break;case 19:hn(i,t),fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ec(t,l)));break;case 30:break;case 21:break;default:hn(i,t),fn(t)}}function fn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(ny(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=Ed(t);vc(t,d,h);break;case 5:var y=a.stateNode;a.flags&32&&(un(y,""),a.flags&=-33);var T=Ed(t);vc(t,T,y);break;case 3:case 4:var O=a.stateNode.containerInfo,z=Ed(t);bd(t,z,O);break;default:throw Error(r(161))}}catch(Q){$e(t,t.return,Q)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function hy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;hy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function is(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)ry(t,i.alternate,i),i=i.sibling}function $r(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Bs(4,i,i.return),$r(i);break;case 1:Di(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&ey(i,i.return,a),$r(i);break;case 27:Nl(i.stateNode);case 26:case 5:Di(i,i.return),$r(i);break;case 22:i.memoizedState===null&&$r(i);break;case 30:$r(i);break;default:$r(i)}t=t.sibling}}function ss(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,y=d.flags;switch(d.tag){case 0:case 11:case 15:ss(h,d,a),El(4,d);break;case 1:if(ss(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){$e(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)qg(O[h],T)}catch(z){$e(l,l.return,z)}}a&&y&64&&W_(d),bl(d,d.return);break;case 27:iy(d);case 26:case 5:ss(h,d,a),a&&l===null&&y&4&&ty(d),bl(d,d.return);break;case 12:ss(h,d,a);break;case 31:ss(h,d,a),a&&y&4&&ly(h,d);break;case 13:ss(h,d,a),a&&y&4&&uy(h,d);break;case 22:d.memoizedState===null&&ss(h,d,a),bl(d,d.return);break;case 30:break;default:ss(h,d,a)}i=i.sibling}}function Ad(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ol(a))}function wd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ol(t))}function ti(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)fy(t,i,a,l),i=i.sibling}function fy(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ti(t,i,a,l),h&2048&&El(9,i);break;case 1:ti(t,i,a,l);break;case 3:ti(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ol(t)));break;case 12:if(h&2048){ti(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,y=d.id,T=d.onPostCommit;typeof T=="function"&&T(y,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){$e(i,i.return,O)}}else ti(t,i,a,l);break;case 31:ti(t,i,a,l);break;case 13:ti(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,y=i.alternate,i.memoizedState!==null?d._visibility&2?ti(t,i,a,l):Tl(t,i):d._visibility&2?ti(t,i,a,l):(d._visibility|=2,Ba(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Ad(y,i);break;case 24:ti(t,i,a,l),h&2048&&wd(i.alternate,i);break;default:ti(t,i,a,l)}}function Ba(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,y=i,T=a,O=l,z=y.flags;switch(y.tag){case 0:case 11:case 15:Ba(d,y,T,O,h),El(8,y);break;case 23:break;case 22:var Q=y.stateNode;y.memoizedState!==null?Q._visibility&2?Ba(d,y,T,O,h):Tl(d,y):(Q._visibility|=2,Ba(d,y,T,O,h)),h&&z&2048&&Ad(y.alternate,y);break;case 24:Ba(d,y,T,O,h),h&&z&2048&&wd(y.alternate,y);break;default:Ba(d,y,T,O,h)}i=i.sibling}}function Tl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Tl(a,l),h&2048&&Ad(l.alternate,l);break;case 24:Tl(a,l),h&2048&&wd(l.alternate,l);break;default:Tl(a,l)}i=i.sibling}}var Al=8192;function qa(t,i,a){if(t.subtreeFlags&Al)for(t=t.child;t!==null;)dy(t,i,a),t=t.sibling}function dy(t,i,a){switch(t.tag){case 26:qa(t,i,a),t.flags&Al&&t.memoizedState!==null&&YA(a,ei,t.memoizedState,t.memoizedProps);break;case 5:qa(t,i,a);break;case 3:case 4:var l=ei;ei=Vc(t.stateNode.containerInfo),qa(t,i,a),ei=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Al,Al=16777216,qa(t,i,a),Al=l):qa(t,i,a));break;default:qa(t,i,a)}}function my(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function wl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pt=l,gy(l,t)}my(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)py(t),t=t.sibling}function py(t){switch(t.tag){case 0:case 11:case 15:wl(t),t.flags&2048&&Bs(9,t,t.return);break;case 3:wl(t);break;case 12:wl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,bc(t)):wl(t);break;default:wl(t)}}function bc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pt=l,gy(l,t)}my(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Bs(8,i,i.return),bc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,bc(i));break;default:bc(i)}t=t.sibling}}function gy(t,i){for(;Pt!==null;){var a=Pt;switch(a.tag){case 0:case 11:case 15:Bs(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ol(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pt=l;else e:for(a=t;Pt!==null;){l=Pt;var h=l.sibling,d=l.return;if(ay(l),l===a){Pt=null;break e}if(h!==null){h.return=d,Pt=h;break e}Pt=d}}}var uA={getCacheForType:function(t){var i=Ht(St),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ht(St).controller.signal}},cA=typeof WeakMap=="function"?WeakMap:Map,Qe=0,st=null,Oe=null,Ve=0,Xe=0,Tn=null,qs=!1,Ha=!1,Sd=!1,rs=0,mt=0,Hs=0,Jr=0,xd=0,An=0,Fa=0,Sl=null,dn=null,Rd=!1,Tc=0,_y=0,Ac=1/0,wc=null,Fs=null,Mt=0,Gs=null,Ga=null,as=0,Id=0,Cd=null,yy=null,xl=0,Nd=null;function wn(){return(Qe&2)!==0&&Ve!==0?Ve&-Ve:H.T!==null?jd():Su()}function vy(){if(An===0)if((Ve&536870912)===0||Ue){var t=wr;wr<<=1,(wr&3932160)===0&&(wr=262144),An=t}else An=536870912;return t=En.current,t!==null&&(t.flags|=32),An}function mn(t,i,a){(t===st&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(Ka(t,0),Ks(t,Ve,An,!1)),Sr(t,a),((Qe&2)===0||t!==st)&&(t===st&&((Qe&2)===0&&(Jr|=a),mt===4&&Ks(t,Ve,An,!1)),Oi(t))}function Ey(t,i,a){if((Qe&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Gn(t,i),h=l?dA(t,i):Od(t,i,!0),d=l;do{if(h===0){Ha&&!l&&Ks(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!hA(a)){h=Od(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){i=y;e:{var T=t;h=Sl;var O=T.current.memoizedState.isDehydrated;if(O&&(Ka(T,y).flags|=256),y=Od(T,y,!1),y!==2){if(Sd&&!O){T.errorRecoveryDisabledLanes|=d,Jr|=d,h=4;break e}d=dn,dn=h,d!==null&&(dn===null?dn=d:dn.push.apply(dn,d))}h=y}if(d=!1,h!==2)continue}}if(h===1){Ka(t,0),Ks(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Ks(l,i,An,!qs);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=Tc+300-en(),10<h)){if(Ks(l,i,An,!qs),mi(l,0,!0)!==0)break e;as=i,l.timeoutHandle=Jy(by.bind(null,l,a,dn,wc,Rd,i,An,Jr,Fa,qs,d,"Throttled",-0,0),h);break e}by(l,a,dn,wc,Rd,i,An,Jr,Fa,qs,d,null,-0,0)}}break}while(!0);Oi(t)}function by(t,i,a,l,h,d,y,T,O,z,Q,J,B,G){if(t.timeoutHandle=-1,J=i.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},dy(i,d,J);var ue=(d&62914560)===d?Tc-en():(d&4194048)===d?_y-en():0;if(ue=XA(J,ue),ue!==null){as=d,t.cancelPendingCommit=ue(Cy.bind(null,t,i,d,a,l,h,y,T,O,Q,J,null,B,G)),Ks(t,d,y,!z);return}}Cy(t,i,d,a,l,h,y,T,O)}function hA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!yn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ks(t,i,a,l){i&=~xd,i&=~Jr,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-pt(h),y=1<<d;l[d]=-1,h&=~y}a!==0&&xr(t,a,i)}function Sc(){return(Qe&6)===0?(Rl(0),!1):!0}function Dd(){if(Oe!==null){if(Xe===0)var t=Oe.return;else t=Oe,Xi=qr=null,Qf(t),ja=null,ul=0,t=Oe;for(;t!==null;)Z_(t.alternate,t),t=t.return;Oe=null}}function Ka(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,DA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),as=0,Dd(),st=t,Oe=a=Qi(t.current,null),Ve=i,Xe=0,Tn=null,qs=!1,Ha=Gn(t,i),Sd=!1,Fa=An=xd=Jr=Hs=mt=0,dn=Sl=null,Rd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-pt(l),d=1<<h;i|=t[h],l&=~d}return rs=i,Ku(),a}function Ty(t,i){Ie=null,H.H=_l,i===ka||i===ec?(i=Lg(),Xe=3):i===kf?(i=Lg(),Xe=4):Xe=i===ud?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Tn=i,Oe===null&&(mt=1,mc(t,jn(i,t.current)))}function Ay(){var t=En.current;return t===null?!0:(Ve&4194048)===Ve?zn===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?t===zn:!1}function wy(){var t=H.H;return H.H=_l,t===null?_l:t}function Sy(){var t=H.A;return H.A=uA,t}function xc(){mt=4,qs||(Ve&4194048)!==Ve&&En.current!==null||(Ha=!0),(Hs&134217727)===0&&(Jr&134217727)===0||st===null||Ks(st,Ve,An,!1)}function Od(t,i,a){var l=Qe;Qe|=2;var h=wy(),d=Sy();(st!==t||Ve!==i)&&(wc=null,Ka(t,i)),i=!1;var y=mt;e:do try{if(Xe!==0&&Oe!==null){var T=Oe,O=Tn;switch(Xe){case 8:Dd(),y=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(i=!0);var z=Xe;if(Xe=0,Tn=null,Qa(t,T,O,z),a&&Ha){y=0;break e}break;default:z=Xe,Xe=0,Tn=null,Qa(t,T,O,z)}}fA(),y=mt;break}catch(Q){Ty(t,Q)}while(!0);return i&&t.shellSuspendCounter++,Xi=qr=null,Qe=l,H.H=h,H.A=d,Oe===null&&(st=null,Ve=0,Ku()),y}function fA(){for(;Oe!==null;)xy(Oe)}function dA(t,i){var a=Qe;Qe|=2;var l=wy(),h=Sy();st!==t||Ve!==i?(wc=null,Ac=en()+500,Ka(t,i)):Ha=Gn(t,i);e:do try{if(Xe!==0&&Oe!==null){i=Oe;var d=Tn;t:switch(Xe){case 1:Xe=0,Tn=null,Qa(t,i,d,1);break;case 2:case 9:if(jg(d)){Xe=0,Tn=null,Ry(i);break}i=function(){Xe!==2&&Xe!==9||st!==t||(Xe=7),Oi(t)},d.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:jg(d)?(Xe=0,Tn=null,Ry(i)):(Xe=0,Tn=null,Qa(t,i,d,7));break;case 5:var y=null;switch(Oe.tag){case 26:y=Oe.memoizedState;case 5:case 27:var T=Oe;if(y?fv(y):T.stateNode.complete){Xe=0,Tn=null;var O=T.sibling;if(O!==null)Oe=O;else{var z=T.return;z!==null?(Oe=z,Rc(z)):Oe=null}break t}}Xe=0,Tn=null,Qa(t,i,d,5);break;case 6:Xe=0,Tn=null,Qa(t,i,d,6);break;case 8:Dd(),mt=6;break e;default:throw Error(r(462))}}mA();break}catch(Q){Ty(t,Q)}while(!0);return Xi=qr=null,H.H=l,H.A=h,Qe=a,Oe!==null?0:(st=null,Ve=0,Ku(),mt)}function mA(){for(;Oe!==null&&!lf();)xy(Oe)}function xy(t){var i=$_(t.alternate,t,rs);t.memoizedProps=t.pendingProps,i===null?Rc(t):Oe=i}function Ry(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=F_(a,i,i.pendingProps,i.type,void 0,Ve);break;case 11:i=F_(a,i,i.pendingProps,i.type.render,i.ref,Ve);break;case 5:Qf(i);default:Z_(a,i),i=Oe=Sg(i,rs),i=$_(a,i,rs)}t.memoizedProps=t.pendingProps,i===null?Rc(t):Oe=i}function Qa(t,i,a,l){Xi=qr=null,Qf(i),ja=null,ul=0;var h=i.return;try{if(nA(t,h,i,a,Ve)){mt=1,mc(t,jn(a,t.current)),Oe=null;return}}catch(d){if(h!==null)throw Oe=h,d;mt=1,mc(t,jn(a,t.current)),Oe=null;return}i.flags&32768?(Ue||l===1?t=!0:Ha||(Ve&536870912)!==0?t=!1:(qs=t=!0,(l===2||l===9||l===3||l===6)&&(l=En.current,l!==null&&l.tag===13&&(l.flags|=16384))),Iy(i,t)):Rc(i)}function Rc(t){var i=t;do{if((i.flags&32768)!==0){Iy(i,qs);return}t=i.return;var a=rA(i.alternate,i,rs);if(a!==null){Oe=a;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=t}while(i!==null);mt===0&&(mt=5)}function Iy(t,i){do{var a=aA(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);mt=6,Oe=null}function Cy(t,i,a,l,h,d,y,T,O){t.cancelPendingCommit=null;do Ic();while(Mt!==0);if((Qe&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=Ef,hf(t,a,d,y,T,O),t===st&&(Oe=st=null,Ve=0),Ga=i,Gs=t,as=a,Id=d,Cd=h,yy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,yA(Ts,function(){return Vy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,h=W.p,W.p=2,y=Qe,Qe|=4;try{oA(t,i,a)}finally{Qe=y,W.p=h,H.T=l}}Mt=1,Ny(),Dy(),Oy()}}function Ny(){if(Mt===1){Mt=0;var t=Gs,i=Ga,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=W.p;W.p=2;var h=Qe;Qe|=4;try{cy(i,t);var d=Fd,y=gg(t.containerInfo),T=d.focusedElem,O=d.selectionRange;if(y!==T&&T&&T.ownerDocument&&pg(T.ownerDocument.documentElement,T)){if(O!==null&&pf(T)){var z=O.start,Q=O.end;if(Q===void 0&&(Q=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(Q,T.value.length);else{var J=T.ownerDocument||document,B=J&&J.defaultView||window;if(B.getSelection){var G=B.getSelection(),ue=T.textContent.length,ve=Math.min(O.start,ue),nt=O.end===void 0?ve:Math.min(O.end,ue);!G.extend&&ve>nt&&(y=nt,nt=ve,ve=y);var P=mg(T,ve),M=mg(T,nt);if(P&&M&&(G.rangeCount!==1||G.anchorNode!==P.node||G.anchorOffset!==P.offset||G.focusNode!==M.node||G.focusOffset!==M.offset)){var U=J.createRange();U.setStart(P.node,P.offset),G.removeAllRanges(),ve>nt?(G.addRange(U),G.extend(M.node,M.offset)):(U.setEnd(M.node,M.offset),G.addRange(U))}}}}for(J=[],G=T;G=G.parentNode;)G.nodeType===1&&J.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var X=J[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}zc=!!Hd,Fd=Hd=null}finally{Qe=h,W.p=l,H.T=a}}t.current=i,Mt=2}}function Dy(){if(Mt===2){Mt=0;var t=Gs,i=Ga,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=W.p;W.p=2;var h=Qe;Qe|=4;try{ry(t,i.alternate,i)}finally{Qe=h,W.p=l,H.T=a}}Mt=3}}function Oy(){if(Mt===4||Mt===3){Mt=0,yu();var t=Gs,i=Ga,a=as,l=yy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Mt=5:(Mt=0,Ga=Gs=null,My(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Fs=null),Hi(a),i=i.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Fn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=H.T,h=W.p,W.p=2,H.T=null;try{for(var d=t.onRecoverableError,y=0;y<l.length;y++){var T=l[y];d(T.value,{componentStack:T.stack})}}finally{H.T=i,W.p=h}}(as&3)!==0&&Ic(),Oi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Nd?xl++:(xl=0,Nd=t):xl=0,Rl(0)}}function My(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ol(i)))}function Ic(){return Ny(),Dy(),Oy(),Vy()}function Vy(){if(Mt!==5)return!1;var t=Gs,i=Id;Id=0;var a=Hi(as),l=H.T,h=W.p;try{W.p=32>a?32:a,H.T=null,a=Cd,Cd=null;var d=Gs,y=as;if(Mt=0,Ga=Gs=null,as=0,(Qe&6)!==0)throw Error(r(331));var T=Qe;if(Qe|=4,py(d.current),fy(d,d.current,y,a),Qe=T,Rl(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Fn,d)}catch{}return!0}finally{W.p=h,H.T=l,My(t,i)}}function ky(t,i,a){i=jn(a,i),i=ld(t.stateNode,i,2),t=Ls(t,i,2),t!==null&&(Sr(t,2),Oi(t))}function $e(t,i,a){if(t.tag===3)ky(t,t,a);else for(;i!==null;){if(i.tag===3){ky(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Fs===null||!Fs.has(l))){t=jn(a,t),a=j_(2),l=Ls(i,a,2),l!==null&&(P_(a,l,i,t),Sr(l,2),Oi(l));break}}i=i.return}}function Md(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new cA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Sd=!0,h.add(a),t=pA.bind(null,t,i,a),i.then(t,t))}function pA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,st===t&&(Ve&a)===a&&(mt===4||mt===3&&(Ve&62914560)===Ve&&300>en()-Tc?(Qe&2)===0&&Ka(t,0):xd|=a,Fa===Ve&&(Fa=0)),Oi(t)}function jy(t,i){i===0&&(i=wu()),t=Ur(t,i),t!==null&&(Sr(t,i),Oi(t))}function gA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),jy(t,a)}function _A(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),jy(t,a)}function yA(t,i){return Ot(t,i)}var Cc=null,Ya=null,Vd=!1,Nc=!1,kd=!1,Qs=0;function Oi(t){t!==Ya&&t.next===null&&(Ya===null?Cc=Ya=t:Ya=Ya.next=t),Nc=!0,Vd||(Vd=!0,EA())}function Rl(t,i){if(!kd&&Nc){kd=!0;do for(var a=!1,l=Cc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var y=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-pt(42|t)+1)-1,d&=h&~(y&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,zy(l,d))}else d=Ve,d=mi(l,l===st?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Gn(l,d)||(a=!0,zy(l,d));l=l.next}while(a);kd=!1}}function vA(){Py()}function Py(){Nc=Vd=!1;var t=0;Qs!==0&&NA()&&(t=Qs);for(var i=en(),a=null,l=Cc;l!==null;){var h=l.next,d=Ly(l,i);d===0?(l.next=null,a===null?Cc=h:a.next=h,h===null&&(Ya=a)):(a=l,(t!==0||(d&3)!==0)&&(Nc=!0)),l=h}Mt!==0&&Mt!==5||Rl(t),Qs!==0&&(Qs=0)}function Ly(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var y=31-pt(d),T=1<<y,O=h[y];O===-1?((T&a)===0||(T&l)!==0)&&(h[y]=cf(T,i)):O<=i&&(t.expiredLanes|=T),d&=~T}if(i=st,a=Ve,a=mi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&bs(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Gn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&bs(l),Hi(a)){case 2:case 8:a=Po;break;case 32:a=Ts;break;case 268435456:a=vu;break;default:a=Ts}return l=Uy.bind(null,t),a=Ot(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&bs(l),t.callbackPriority=2,t.callbackNode=null,2}function Uy(t,i){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ic()&&t.callbackNode!==a)return null;var l=Ve;return l=mi(t,t===st?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Ey(t,l,i),Ly(t,en()),t.callbackNode!=null&&t.callbackNode===a?Uy.bind(null,t):null)}function zy(t,i){if(Ic())return null;Ey(t,i,!0)}function EA(){OA(function(){(Qe&6)!==0?Ot(jo,vA):Py()})}function jd(){if(Qs===0){var t=Ma;t===0&&(t=fi,fi<<=1,(fi&261888)===0&&(fi=256)),Qs=t}return Qs}function By(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ya(""+t)}function qy(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function bA(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=By((h[kt]||null).action),y=l.submitter;y&&(i=(i=y[kt]||null)?By(i.formAction):y.getAttribute("formAction"),i!==null&&(d=i,y=null));var T=new Si("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Qs!==0){var O=y?qy(h,y):new FormData(h);nd(a,{pending:!0,data:O,method:h.method,action:d},null,O)}}else typeof d=="function"&&(T.preventDefault(),O=y?qy(h,y):new FormData(h),nd(a,{pending:!0,data:O,method:h.method,action:d},d,O))},currentTarget:h}]})}}for(var Pd=0;Pd<vf.length;Pd++){var Ld=vf[Pd],TA=Ld.toLowerCase(),AA=Ld[0].toUpperCase()+Ld.slice(1);Wn(TA,"on"+AA)}Wn(vg,"onAnimationEnd"),Wn(Eg,"onAnimationIteration"),Wn(bg,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(U1,"onTransitionRun"),Wn(z1,"onTransitionStart"),Wn(B1,"onTransitionCancel"),Wn(Tg,"onTransitionEnd"),bi("onMouseEnter",["mouseout","mouseover"]),bi("onMouseLeave",["mouseout","mouseover"]),bi("onPointerEnter",["pointerout","pointerover"]),bi("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Il));function Hy(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var y=l.length-1;0<=y;y--){var T=l[y],O=T.instance,z=T.currentTarget;if(T=T.listener,O!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=z;try{d(h)}catch(Q){Gu(Q)}h.currentTarget=null,d=O}else for(y=0;y<l.length;y++){if(T=l[y],O=T.instance,z=T.currentTarget,T=T.listener,O!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=z;try{d(h)}catch(Q){Gu(Q)}h.currentTarget=null,d=O}}}}function Me(t,i){var a=i[da];a===void 0&&(a=i[da]=new Set);var l=t+"__bubble";a.has(l)||(Fy(i,t,2,!1),a.add(l))}function Ud(t,i,a){var l=0;i&&(l|=4),Fy(a,t,l,i)}var Dc="_reactListening"+Math.random().toString(36).slice(2);function zd(t){if(!t[Dc]){t[Dc]=!0,zo.forEach(function(a){a!=="selectionchange"&&(wA.has(a)||Ud(a,!1,t),Ud(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Dc]||(i[Dc]=!0,Ud("selectionchange",!1,i))}}function Fy(t,i,a,l){switch(vv(i)){case 2:var h=ZA;break;case 8:h=WA;break;default:h=tm}a=h.bind(null,i,a,t),h=void 0,!Dr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Bd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var T=l.stateNode.containerInfo;if(T===h)break;if(y===4)for(y=l.return;y!==null;){var O=y.tag;if((O===3||O===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;T!==null;){if(y=yi(T),y===null)return;if(O=y.tag,O===5||O===6||O===26||O===27){l=d=y;continue e}T=T.parentNode}}l=l.return}Is(function(){var z=d,Q=On(a),J=[];e:{var B=Ag.get(t);if(B!==void 0){var G=Si,ue=t;switch(t){case"keypress":if(Mr(a)===0)break e;case"keydown":case"keyup":G=qu;break;case"focusin":ue="focus",G=kr;break;case"focusout":ue="blur",G=kr;break;case"beforeblur":case"afterblur":G=kr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Wo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=p;break;case vg:case Eg:case bg:G=ku;break;case Tg:G=A;break;case"scroll":case"scrollend":G=Zo;break;case"wheel":G=F;break;case"copy":case"cut":case"paste":G=ju;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Ki;break;case"toggle":case"beforetoggle":G=Re}var ve=(i&4)!==0,nt=!ve&&(t==="scroll"||t==="scrollend"),P=ve?B!==null?B+"Capture":null:B;ve=[];for(var M=z,U;M!==null;){var X=M;if(U=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||U===null||P===null||(X=Xn(M,P),X!=null&&ve.push(Cl(M,X,U))),nt)break;M=M.return}0<ve.length&&(B=new G(B,ue,null,a,Q),J.push({event:B,listeners:ve}))}}if((i&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",B&&a!==Xo&&(ue=a.relatedTarget||a.fromElement)&&(yi(ue)||ue[gi]))break e;if((G||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,G?(ue=a.relatedTarget||a.toElement,G=z,ue=ue?yi(ue):null,ue!==null&&(nt=u(ue),ve=ue.tag,ue!==nt||ve!==5&&ve!==27&&ve!==6)&&(ue=null)):(G=null,ue=z),G!==ue)){if(ve=Wo,X="onMouseLeave",P="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Ki,X="onPointerLeave",P="onPointerEnter",M="pointer"),nt=G==null?B:gn(G),U=ue==null?B:gn(ue),B=new ve(X,M+"leave",G,a,Q),B.target=nt,B.relatedTarget=U,X=null,yi(Q)===z&&(ve=new ve(P,M+"enter",ue,a,Q),ve.target=U,ve.relatedTarget=nt,X=ve),nt=X,G&&ue)t:{for(ve=SA,P=G,M=ue,U=0,X=P;X;X=ve(X))U++;X=0;for(var ge=M;ge;ge=ve(ge))X++;for(;0<U-X;)P=ve(P),U--;for(;0<X-U;)M=ve(M),X--;for(;U--;){if(P===M||M!==null&&P===M.alternate){ve=P;break t}P=ve(P),M=ve(M)}ve=null}else ve=null;G!==null&&Gy(J,B,G,ve,!1),ue!==null&&nt!==null&&Gy(J,nt,ue,ve,!0)}}e:{if(B=z?gn(z):window,G=B.nodeName&&B.nodeName.toLowerCase(),G==="select"||G==="input"&&B.type==="file")var He=lg;else if(ag(B))if(ug)He=j1;else{He=V1;var fe=M1}else G=B.nodeName,!G||G.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&_a(z.elementType)&&(He=lg):He=k1;if(He&&(He=He(t,z))){og(J,He,a,Q);break e}fe&&fe(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Ko(B,"number",B.value)}switch(fe=z?gn(z):window,t){case"focusin":(ag(fe)||fe.contentEditable==="true")&&(Sa=fe,gf=z,sl=null);break;case"focusout":sl=gf=Sa=null;break;case"mousedown":_f=!0;break;case"contextmenu":case"mouseup":case"dragend":_f=!1,_g(J,a,Q);break;case"selectionchange":if(L1)break;case"keydown":case"keyup":_g(J,a,Q)}var Ne;if(Ke)e:{switch(t){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else wa?jr(t,a)&&(ke="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ke="onCompositionStart");ke&&(Ii&&a.locale!=="ko"&&(wa||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&wa&&(Ne=Jo()):(wi=Q,$o="value"in wi?wi.value:wi.textContent,wa=!0)),fe=Oc(z,ke),0<fe.length&&(ke=new Ri(ke,t,null,a,Q),J.push({event:ke,listeners:fe}),Ne?ke.data=Ne:(Ne=Aa(a),Ne!==null&&(ke.data=Ne)))),(Ne=Vn?C1(t,a):N1(t,a))&&(ke=Oc(z,"onBeforeInput"),0<ke.length&&(fe=new Ri("onBeforeInput","beforeinput",null,a,Q),J.push({event:fe,listeners:ke}),fe.data=Ne)),bA(J,t,z,a,Q)}Hy(J,i)})}function Cl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Oc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Xn(t,a),h!=null&&l.unshift(Cl(t,h,d)),h=Xn(t,i),h!=null&&l.push(Cl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function SA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Gy(t,i,a,l,h){for(var d=i._reactName,y=[];a!==null&&a!==l;){var T=a,O=T.alternate,z=T.stateNode;if(T=T.tag,O!==null&&O===l)break;T!==5&&T!==26&&T!==27||z===null||(O=z,h?(z=Xn(a,d),z!=null&&y.unshift(Cl(a,z,O))):h||(z=Xn(a,d),z!=null&&y.push(Cl(a,z,O)))),a=a.return}y.length!==0&&t.push({event:i,listeners:y})}var xA=/\r\n?/g,RA=/\u0000|\uFFFD/g;function Ky(t){return(typeof t=="string"?t:""+t).replace(xA,`
`).replace(RA,"")}function Qy(t,i){return i=Ky(i),Ky(t)===i}function tt(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||un(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&un(t,""+l);break;case"className":_n(t,"class",l);break;case"tabIndex":_n(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":_n(t,a,l);break;case"style":Yo(t,l,d);break;case"data":if(i!=="object"){_n(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ya(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&tt(t,i,"name",h.name,h,null),tt(t,i,"formEncType",h.formEncType,h,null),tt(t,i,"formMethod",h.formMethod,h,null),tt(t,i,"formTarget",h.formTarget,h,null)):(tt(t,i,"encType",h.encType,h,null),tt(t,i,"method",h.method,h,null),tt(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ya(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Yn);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ya(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),pa(t,"popover",l);break;case"xlinkActuate":wt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":wt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":wt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":wt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":wt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":wt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":wt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":wt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":wt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":pa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ou.get(a)||a,pa(t,a,l))}}function qd(t,i,a,l,h,d){switch(a){case"style":Yo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?un(t,l):(typeof l=="number"||typeof l=="bigint")&&un(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[kt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):pa(t,a,l)}}}function Gt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var y=a[d];if(y!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:tt(t,i,d,y,a,null)}}h&&tt(t,i,"srcSet",a.srcSet,a,null),l&&tt(t,i,"src",a.src,a,null);return;case"input":Me("invalid",t);var T=d=y=h=null,O=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":y=Q;break;case"checked":O=Q;break;case"defaultChecked":z=Q;break;case"value":d=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,i));break;default:tt(t,i,l,Q,a,null)}}Cu(t,d,T,O,z,y,h,!1);return;case"select":Me("invalid",t),l=y=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":y=T;break;case"multiple":l=T;default:tt(t,i,h,T,a,null)}i=d,a=y,t.multiple=!!l,i!=null?ws(t,!!l,i,!1):a!=null&&ws(t,!!l,a,!0);return;case"textarea":Me("invalid",t),d=h=l=null;for(y in a)if(a.hasOwnProperty(y)&&(T=a[y],T!=null))switch(y){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:tt(t,i,y,T,a,null)}Ss(t,l,h,d);return;case"option":for(O in a)a.hasOwnProperty(O)&&(l=a[O],l!=null)&&(O==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":tt(t,i,O,l,a,null));return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<Il.length;l++)Me(Il[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:tt(t,i,z,l,a,null)}return;default:if(_a(i)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&qd(t,i,Q,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&tt(t,i,T,l,a,null))}function IA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,y=null,T=null,O=null,z=null,Q=null;for(G in a){var J=a[G];if(a.hasOwnProperty(G)&&J!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":O=J;default:l.hasOwnProperty(G)||tt(t,i,G,null,l,J)}}for(var B in l){var G=l[B];if(J=a[B],l.hasOwnProperty(B)&&(G!=null||J!=null))switch(B){case"type":d=G;break;case"name":h=G;break;case"checked":z=G;break;case"defaultChecked":Q=G;break;case"value":y=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,i));break;default:G!==J&&tt(t,i,B,G,l,J)}}ga(t,y,T,O,z,Q,d,h);return;case"select":G=y=T=B=null;for(d in a)if(O=a[d],a.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":G=O;default:l.hasOwnProperty(d)||tt(t,i,d,null,l,O)}for(h in l)if(d=l[h],O=a[h],l.hasOwnProperty(h)&&(d!=null||O!=null))switch(h){case"value":B=d;break;case"defaultValue":T=d;break;case"multiple":y=d;default:d!==O&&tt(t,i,h,d,l,O)}i=T,a=y,l=G,B!=null?ws(t,!!a,B,!1):!!l!=!!a&&(i!=null?ws(t,!!a,i,!0):ws(t,!!a,a?[]:"",!1));return;case"textarea":G=B=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:tt(t,i,T,null,l,h)}for(y in l)if(h=l[y],d=a[y],l.hasOwnProperty(y)&&(h!=null||d!=null))switch(y){case"value":B=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&tt(t,i,y,h,l,d)}Nu(t,B,G);return;case"option":for(var ue in a)B=a[ue],a.hasOwnProperty(ue)&&B!=null&&!l.hasOwnProperty(ue)&&(ue==="selected"?t.selected=!1:tt(t,i,ue,null,l,B));for(O in l)B=l[O],G=a[O],l.hasOwnProperty(O)&&B!==G&&(B!=null||G!=null)&&(O==="selected"?t.selected=B&&typeof B!="function"&&typeof B!="symbol":tt(t,i,O,B,l,G));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)B=a[ve],a.hasOwnProperty(ve)&&B!=null&&!l.hasOwnProperty(ve)&&tt(t,i,ve,null,l,B);for(z in l)if(B=l[z],G=a[z],l.hasOwnProperty(z)&&B!==G&&(B!=null||G!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,i));break;default:tt(t,i,z,B,l,G)}return;default:if(_a(i)){for(var nt in a)B=a[nt],a.hasOwnProperty(nt)&&B!==void 0&&!l.hasOwnProperty(nt)&&qd(t,i,nt,void 0,l,B);for(Q in l)B=l[Q],G=a[Q],!l.hasOwnProperty(Q)||B===G||B===void 0&&G===void 0||qd(t,i,Q,B,l,G);return}}for(var P in a)B=a[P],a.hasOwnProperty(P)&&B!=null&&!l.hasOwnProperty(P)&&tt(t,i,P,null,l,B);for(J in l)B=l[J],G=a[J],!l.hasOwnProperty(J)||B===G||B==null&&G==null||tt(t,i,J,B,l,G)}function Yy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function CA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,y=h.initiatorType,T=h.duration;if(d&&T&&Yy(y)){for(y=0,T=h.responseEnd,l+=1;l<a.length;l++){var O=a[l],z=O.startTime;if(z>T)break;var Q=O.transferSize,J=O.initiatorType;Q&&Yy(J)&&(O=O.responseEnd,y+=Q*(O<T?1:(T-z)/(O-z)))}if(--l,i+=8*(d+y)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Hd=null,Fd=null;function Mc(t){return t.nodeType===9?t:t.ownerDocument}function Xy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $y(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Gd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Kd=null;function NA(){var t=window.event;return t&&t.type==="popstate"?t===Kd?!1:(Kd=t,!0):(Kd=null,!1)}var Jy=typeof setTimeout=="function"?setTimeout:void 0,DA=typeof clearTimeout=="function"?clearTimeout:void 0,Zy=typeof Promise=="function"?Promise:void 0,OA=typeof queueMicrotask=="function"?queueMicrotask:typeof Zy<"u"?function(t){return Zy.resolve(null).then(t).catch(MA)}:Jy;function MA(t){setTimeout(function(){throw t})}function Ys(t){return t==="head"}function Wy(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Za(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Nl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Nl(a);for(var d=a.firstChild;d;){var y=d.nextSibling,T=d.nodeName;d[_i]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=y}}else a==="body"&&Nl(t.ownerDocument.body);a=h}while(a);Za(i)}function ev(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Qd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Qd(a),ma(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function VA(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[_i])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Bn(t.nextSibling),t===null)break}return null}function kA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Bn(t.nextSibling),t===null))return null;return t}function tv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Bn(t.nextSibling),t===null))return null;return t}function Yd(t){return t.data==="$?"||t.data==="$~"}function Xd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function jA(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Bn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var $d=null;function nv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Bn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function iv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function sv(t,i,a){switch(i=Mc(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Nl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ma(t)}var qn=new Map,rv=new Set;function Vc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var os=W.d;W.d={f:PA,r:LA,D:UA,C:zA,L:BA,m:qA,X:FA,S:HA,M:GA};function PA(){var t=os.f(),i=Sc();return t||i}function LA(t){var i=Dn(t);i!==null&&i.tag===5&&i.type==="form"?T_(i):os.r(t)}var Xa=typeof document>"u"?null:document;function av(t,i,a){var l=Xa;if(l&&typeof i=="string"&&i){var h=ln(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),rv.has(h)||(rv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Gt(i,"link",t),At(i),l.head.appendChild(i)))}}function UA(t){os.D(t),av("dns-prefetch",t,null)}function zA(t,i){os.C(t,i),av("preconnect",t,i)}function BA(t,i,a){os.L(t,i,a);var l=Xa;if(l&&t&&i){var h='link[rel="preload"][as="'+ln(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ln(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ln(a.imageSizes)+'"]')):h+='[href="'+ln(t)+'"]';var d=h;switch(i){case"style":d=$a(t);break;case"script":d=Ja(t)}qn.has(d)||(t=w({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),qn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Dl(d))||i==="script"&&l.querySelector(Ol(d))||(i=l.createElement("link"),Gt(i,"link",t),At(i),l.head.appendChild(i)))}}function qA(t,i){os.m(t,i);var a=Xa;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ln(l)+'"][href="'+ln(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ja(t)}if(!qn.has(d)&&(t=w({rel:"modulepreload",href:t},i),qn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ol(d)))return}l=a.createElement("link"),Gt(l,"link",t),At(l),a.head.appendChild(l)}}}function HA(t,i,a){os.S(t,i,a);var l=Xa;if(l&&t){var h=vi(l).hoistableStyles,d=$a(t);i=i||"default";var y=h.get(d);if(!y){var T={loading:0,preload:null};if(y=l.querySelector(Dl(d)))T.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":i},a),(a=qn.get(d))&&Jd(t,a);var O=y=l.createElement("link");At(O),Gt(O,"link",t),O._p=new Promise(function(z,Q){O.onload=z,O.onerror=Q}),O.addEventListener("load",function(){T.loading|=1}),O.addEventListener("error",function(){T.loading|=2}),T.loading|=4,kc(y,i,l)}y={type:"stylesheet",instance:y,count:1,state:T},h.set(d,y)}}}function FA(t,i){os.X(t,i);var a=Xa;if(a&&t){var l=vi(a).hoistableScripts,h=Ja(t),d=l.get(h);d||(d=a.querySelector(Ol(h)),d||(t=w({src:t,async:!0},i),(i=qn.get(h))&&Zd(t,i),d=a.createElement("script"),At(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function GA(t,i){os.M(t,i);var a=Xa;if(a&&t){var l=vi(a).hoistableScripts,h=Ja(t),d=l.get(h);d||(d=a.querySelector(Ol(h)),d||(t=w({src:t,async:!0,type:"module"},i),(i=qn.get(h))&&Zd(t,i),d=a.createElement("script"),At(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function ov(t,i,a,l){var h=(h=ae.current)?Vc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=$a(a.href),a=vi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=$a(a.href);var d=vi(h).hoistableStyles,y=d.get(t);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,y),(d=h.querySelector(Dl(t)))&&!d._p&&(y.instance=d,y.state.loading=5),qn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},qn.set(t,a),d||KA(h,t,a,y.state))),i&&l===null)throw Error(r(528,""));return y}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ja(a),a=vi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function $a(t){return'href="'+ln(t)+'"'}function Dl(t){return'link[rel="stylesheet"]['+t+"]"}function lv(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function KA(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Gt(i,"link",a),At(i),t.head.appendChild(i))}function Ja(t){return'[src="'+ln(t)+'"]'}function Ol(t){return"script[async]"+t}function uv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+ln(a.href)+'"]');if(l)return i.instance=l,At(l),l;var h=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),At(l),Gt(l,"style",h),kc(l,a.precedence,t),i.instance=l;case"stylesheet":h=$a(a.href);var d=t.querySelector(Dl(h));if(d)return i.state.loading|=4,i.instance=d,At(d),d;l=lv(a),(h=qn.get(h))&&Jd(l,h),d=(t.ownerDocument||t).createElement("link"),At(d);var y=d;return y._p=new Promise(function(T,O){y.onload=T,y.onerror=O}),Gt(d,"link",l),i.state.loading|=4,kc(d,a.precedence,t),i.instance=d;case"script":return d=Ja(a.src),(h=t.querySelector(Ol(d)))?(i.instance=h,At(h),h):(l=a,(h=qn.get(d))&&(l=w({},a),Zd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),At(h),Gt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,kc(l,a.precedence,t));return i.instance}function kc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,y=0;y<l.length;y++){var T=l[y];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Jd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Zd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var jc=null;function cv(t,i,a){if(jc===null){var l=new Map,h=jc=new Map;h.set(a,l)}else h=jc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[_i]||d[Tt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(i)||"";y=t+y;var T=l.get(y);T?T.push(d):l.set(y,[d])}}return l}function hv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function QA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function fv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function YA(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=$a(l.href),d=i.querySelector(Dl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Pc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,At(d);return}d=i.ownerDocument||i,l=lv(l),(h=qn.get(h))&&Jd(l,h),d=d.createElement("link"),At(d);var y=d;y._p=new Promise(function(T,O){y.onload=T,y.onerror=O}),Gt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Pc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Wd=0;function XA(t,i){return t.stylesheets&&t.count===0&&Uc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Uc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Wd===0&&(Wd=62500*CA());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Uc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Wd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Pc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Uc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Lc=null;function Uc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Lc=new Map,i.forEach($A,t),Lc=null,Pc.call(t))}function $A(t,i){if(!(i.state.loading&4)){var a=Lc.get(t);if(a)var l=a.get(null);else{a=new Map,Lc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var y=h[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}h=i.instance,y=h.getAttribute("data-precedence"),d=a.get(y)||l,d===l&&a.set(null,h),a.set(y,h),this.count++,l=Pc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Ml={$$typeof:de,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function JA(t,i,a,l,h,d,y,T,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function dv(t,i,a,l,h,d,y,T,O,z,Q,J){return t=new JA(t,i,a,y,O,z,Q,J,T),i=1,d===!0&&(i|=24),d=vn(3,null,null,i),t.current=d,d.stateNode=t,i=Of(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},jf(d),t}function mv(t){return t?(t=Ia,t):Ia}function pv(t,i,a,l,h,d){h=mv(h),l.context===null?l.context=h:l.pendingContext=h,l=Ps(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ls(t,l,i),a!==null&&(mn(a,t,i),hl(a,t,i))}function gv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function em(t,i){gv(t,i),(t=t.alternate)&&gv(t,i)}function _v(t){if(t.tag===13||t.tag===31){var i=Ur(t,67108864);i!==null&&mn(i,t,67108864),em(t,67108864)}}function yv(t){if(t.tag===13||t.tag===31){var i=wn();i=Rr(i);var a=Ur(t,i);a!==null&&mn(a,t,i),em(t,i)}}var zc=!0;function ZA(t,i,a,l){var h=H.T;H.T=null;var d=W.p;try{W.p=2,tm(t,i,a,l)}finally{W.p=d,H.T=h}}function WA(t,i,a,l){var h=H.T;H.T=null;var d=W.p;try{W.p=8,tm(t,i,a,l)}finally{W.p=d,H.T=h}}function tm(t,i,a,l){if(zc){var h=nm(l);if(h===null)Bd(t,i,l,Bc,a),Ev(t,l);else if(tw(h,t,i,a,l))l.stopPropagation();else if(Ev(t,l),i&4&&-1<ew.indexOf(t)){for(;h!==null;){var d=Dn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=di(d.pendingLanes);if(y!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;y;){var O=1<<31-pt(y);T.entanglements[1]|=O,y&=~O}Oi(d),(Qe&6)===0&&(Ac=en()+500,Rl(0))}}break;case 31:case 13:T=Ur(d,2),T!==null&&mn(T,d,2),Sc(),em(d,2)}if(d=nm(l),d===null&&Bd(t,i,l,Bc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Bd(t,i,l,null,a)}}function nm(t){return t=On(t),im(t)}var Bc=null;function im(t){if(Bc=null,t=yi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Bc=t,null}function vv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ar()){case jo:return 2;case Po:return 8;case Ts:case uf:return 32;case vu:return 268435456;default:return 32}default:return 32}}var sm=!1,Xs=null,$s=null,Js=null,Vl=new Map,kl=new Map,Zs=[],ew="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ev(t,i){switch(t){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":$s=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":Vl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(i.pointerId)}}function jl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Dn(i),i!==null&&_v(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function tw(t,i,a,l,h){switch(i){case"focusin":return Xs=jl(Xs,t,i,a,l,h),!0;case"dragenter":return $s=jl($s,t,i,a,l,h),!0;case"mouseover":return Js=jl(Js,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Vl.set(d,jl(Vl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,kl.set(d,jl(kl.get(d)||null,t,i,a,l,h)),!0}return!1}function bv(t){var i=yi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Kn(t.priority,function(){yv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Kn(t.priority,function(){yv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=nm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Xo=l,a.target.dispatchEvent(l),Xo=null}else return i=Dn(a),i!==null&&_v(i),t.blockedOn=a,!1;i.shift()}return!0}function Tv(t,i,a){qc(t)&&a.delete(i)}function nw(){sm=!1,Xs!==null&&qc(Xs)&&(Xs=null),$s!==null&&qc($s)&&($s=null),Js!==null&&qc(Js)&&(Js=null),Vl.forEach(Tv),kl.forEach(Tv)}function Hc(t,i){t.blockedOn===i&&(t.blockedOn=null,sm||(sm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,nw)))}var Fc=null;function Av(t){Fc!==t&&(Fc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Fc===t&&(Fc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(im(l||a)===null)continue;break}var d=Dn(a);d!==null&&(t.splice(i,3),i-=3,nd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Za(t){function i(O){return Hc(O,t)}Xs!==null&&Hc(Xs,t),$s!==null&&Hc($s,t),Js!==null&&Hc(Js,t),Vl.forEach(i),kl.forEach(i);for(var a=0;a<Zs.length;a++){var l=Zs[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Zs.length&&(a=Zs[0],a.blockedOn===null);)bv(a),a.blockedOn===null&&Zs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],y=h[kt]||null;if(typeof d=="function")y||Av(a);else if(y){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,y=d[kt]||null)T=y.formAction;else if(im(h)!==null)continue}else T=y.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Av(a)}}}function wv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function rm(t){this._internalRoot=t}Gc.prototype.render=rm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=wn();pv(a,l,t,i,null,null)},Gc.prototype.unmount=rm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;pv(t.current,2,null,t,null,null),Sc(),i[gi]=null}};function Gc(t){this._internalRoot=t}Gc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Su();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Zs.length&&i!==0&&i<Zs[a].priority;a++);Zs.splice(a,0,t),a===0&&bv(t)}};var Sv=e.version;if(Sv!=="19.2.3")throw Error(r(527,Sv,"19.2.3"));W.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=g(i),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var iw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kc.isDisabled&&Kc.supportsFiber)try{Fn=Kc.inject(iw),zt=Kc}catch{}}return Ll.createRoot=function(t,i){if(!o(t))throw Error(r(299));var a=!1,l="",h=O_,d=M_,y=V_;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),i=dv(t,1,!1,null,null,a,l,null,h,d,y,wv),t[gi]=i.current,zd(t),new rm(i)},Ll.hydrateRoot=function(t,i,a){if(!o(t))throw Error(r(299));var l=!1,h="",d=O_,y=M_,T=V_,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),i=dv(t,1,!0,i,a??null,l,h,O,d,y,T,wv),i.context=mv(null),a=i.current,l=wn(),l=Rr(l),h=Ps(l),h.callback=null,Ls(a,h,l),a=l,i.current.lanes=a,Sr(i,a),Oi(i),t[gi]=i.current,zd(t),new Gc(i)},Ll.version="19.2.3",Ll}var kv;function fw(){if(kv)return lm.exports;kv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),lm.exports=hw(),lm.exports}var dw=fw();const mw=()=>{const[s,e]=se.useState(!1);return se.useEffect(()=>{e(!0)},[]),E.jsxs("section",{className:"relative h-screen flex flex-col justify-center items-center text-center bg-white text-white overflow-hidden",children:[E.jsxs("div",{className:"absolute inset-0 z-0",children:[E.jsx("div",{className:"absolute inset-0 bg-black/20 z-10"}),E.jsx("img",{src:"https://images.unsplash.com/photo-1519741497674-611481863552?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80",alt:"Wedding Background",className:"w-full h-full object-cover"})]}),E.jsxs("div",{className:`relative z-20 p-8 transition-all duration-1000 ease-out transform ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[E.jsx("p",{className:"text-base md:text-lg tracking-[0.2em] mb-4 text-white/90 font-classic",children:"  "}),E.jsxs("h1",{className:"text-5xl md:text-6xl lg:text-7xl mb-8 font-classic font-bold text-white drop-shadow-lg leading-tight",children:[" ",E.jsx("br",{className:"md:hidden"}),E.jsx("span",{className:"text-3xl md:text-4xl lg:text-5xl mx-2 text-soft-pink font-serif italic",children:"&"}),E.jsx("br",{className:"md:hidden"})," "]}),E.jsxs("div",{className:"flex items-center justify-center gap-4 text-white/90 font-classic",children:[E.jsx("div",{className:"h-px w-12 bg-white/60"}),E.jsx("p",{className:"text-xl md:text-2xl tracking-widest font-light",children:"2026 4 25   4 50"}),E.jsx("div",{className:"h-px w-12 bg-white/60"})]})]}),E.jsx("div",{className:"absolute bottom-8 z-20 animate-bounce text-white/80 text-sm tracking-widest font-classic",children:" "})]})},pw=(s,{threshold:e=.1,root:n=null,rootMargin:r="0%"}={})=>{const[o,u]=se.useState(!1);return se.useEffect(()=>{const f=s?.current;if(!f)return;const m=new IntersectionObserver(([_])=>{_.isIntersecting&&(u(!0),m.unobserve(f))},{threshold:e,root:n,rootMargin:r});return m.observe(f),()=>{m.disconnect()}},[s,e,n,r]),o},gw=()=>{const s=se.useRef(null),e=pw(s,{threshold:.3});return E.jsx("section",{className:"py-20 px-4 text-center bg-white",ref:s,children:E.jsxs("div",{className:`transition-all duration-1000 ease-out transform ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[E.jsxs("div",{className:"mb-12",children:[E.jsx("p",{className:"text-primary text-sm tracking-[0.2em] mb-3 opacity-60 font-classic",children:" "}),E.jsx("h2",{className:"text-3xl md:text-4xl text-text font-classic font-bold",children:" "})]}),E.jsxs("div",{className:"font-classic text-xl leading-loose text-text/80 mb-12 space-y-2",children:[E.jsx("p",{children:"   "}),E.jsx("p",{children:"    "}),E.jsx("p",{children:" ."}),E.jsx("br",{}),E.jsx("p",{children:"    "}),E.jsx("p",{children:"  "}),E.jsx("p",{children:"  ."})]}),E.jsxs("div",{className:"flex flex-col items-center gap-4 font-classic text-xl",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("span",{className:"text-base text-primary font-bold tracking-widest",children:""}),E.jsx("strong",{className:"text-text text-2xl font-bold",children:""})]}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("span",{className:"text-base text-primary font-bold tracking-widest",children:""}),E.jsx("strong",{className:"text-text text-2xl font-bold",children:""})]})]})]})})},_w=()=>E.jsx("section",{style:ni.section,children:E.jsxs("div",{style:ni.container,children:[E.jsxs("div",{style:ni.item,children:[E.jsx("h3",{style:ni.label,children:""}),E.jsx("p",{style:ni.value,children:"2026 4 25"}),E.jsx("p",{style:ni.subValue,children:"  4 50"})]}),E.jsx("div",{style:ni.divider}),E.jsxs("div",{style:ni.item,children:[E.jsx("h3",{style:ni.label,children:""}),E.jsx("p",{style:ni.value,children:"  "}),E.jsx("p",{style:ni.subValue,children:"   4 140"})]})]})}),ni={section:{padding:"3rem 1.5rem",backgroundColor:"#fff"},container:{backgroundColor:"#fff",padding:"2rem",borderRadius:"2px",boxShadow:"0 5px 15px rgba(0,0,0,0.03)",maxWidth:"400px",margin:"0 auto"},item:{textAlign:"center",marginBottom:"1.5rem"},divider:{width:"1px",height:"40px",backgroundColor:"#ddd",margin:"0 auto 1.5rem"},label:{fontSize:"0.8rem",color:"#aaa",letterSpacing:"0.1em",marginBottom:"0.5rem"},value:{fontSize:"1.3rem",fontFamily:"var(--font-serif)",fontWeight:"700",marginBottom:"0.2rem"},subValue:{fontSize:"0.95rem",color:"#666"}},yw="/Invitation/assets/KakaoTalk_20260209_224633399-Nkos2fhL.jpg",vw=Object.freeze(Object.defineProperty({__proto__:null,default:yw},Symbol.toStringTag,{value:"Module"})),Ew="/Invitation/assets/KakaoTalk_20260209_224633399_01-B_fI4msP.jpg",bw=Object.freeze(Object.defineProperty({__proto__:null,default:Ew},Symbol.toStringTag,{value:"Module"})),Tw="/Invitation/assets/KakaoTalk_20260209_224633399_02-TsE9Yvyd.jpg",Aw=Object.freeze(Object.defineProperty({__proto__:null,default:Tw},Symbol.toStringTag,{value:"Module"})),ww="/Invitation/assets/KakaoTalk_20260209_224633399_03-BoW-Kdv9.jpg",Sw=Object.freeze(Object.defineProperty({__proto__:null,default:ww},Symbol.toStringTag,{value:"Module"})),xw="/Invitation/assets/KakaoTalk_20260209_224633399_04-H8F9HfXD.jpg",Rw=Object.freeze(Object.defineProperty({__proto__:null,default:xw},Symbol.toStringTag,{value:"Module"})),Iw="/Invitation/assets/KakaoTalk_20260209_224633399_05-D_ryPiQm.jpg",Cw=Object.freeze(Object.defineProperty({__proto__:null,default:Iw},Symbol.toStringTag,{value:"Module"})),Nw="/Invitation/assets/%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%A9%E1%86%BC%E1%84%87%E1%85%A9%E1%86%AB-10-CGYDgkPS.jpg",Dw=Object.freeze(Object.defineProperty({__proto__:null,default:Nw},Symbol.toStringTag,{value:"Module"})),Ow="/Invitation/assets/%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%A9%E1%86%BC%E1%84%87%E1%85%A9%E1%86%AB-11-BaGqqZN_.jpg",Mw=Object.freeze(Object.defineProperty({__proto__:null,default:Ow},Symbol.toStringTag,{value:"Module"})),Vw="/Invitation/assets/%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%A9%E1%86%BC%E1%84%87%E1%85%A9%E1%86%AB-12-CgtOmWN5.jpg",kw=Object.freeze(Object.defineProperty({__proto__:null,default:Vw},Symbol.toStringTag,{value:"Module"})),jw="/Invitation/assets/%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%A9%E1%86%BC%E1%84%87%E1%85%A9%E1%86%AB-13-BAmhCMua.jpg",Pw=Object.freeze(Object.defineProperty({__proto__:null,default:jw},Symbol.toStringTag,{value:"Module"})),Lw="/Invitation/assets/%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%A9%E1%86%BC%E1%84%87%E1%85%A9%E1%86%AB-14-oYF5PhvR.jpg",Uw=Object.freeze(Object.defineProperty({__proto__:null,default:Lw},Symbol.toStringTag,{value:"Module"})),zw="/Invitation/assets/%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%A9%E1%86%BC%E1%84%87%E1%85%A9%E1%86%AB-15-Bxk5-px-.jpg",Bw=Object.freeze(Object.defineProperty({__proto__:null,default:zw},Symbol.toStringTag,{value:"Module"})),qw="/Invitation/assets/%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%A9%E1%86%BC%E1%84%87%E1%85%A9%E1%86%AB-16-D8ductzn.jpg",Hw=Object.freeze(Object.defineProperty({__proto__:null,default:qw},Symbol.toStringTag,{value:"Module"})),Fw="/Invitation/assets/%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%A9%E1%86%BC%E1%84%87%E1%85%A9%E1%86%AB-17-CpaH2Cf7.jpg",Gw=Object.freeze(Object.defineProperty({__proto__:null,default:Fw},Symbol.toStringTag,{value:"Module"})),Kw="/Invitation/assets/%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%A9%E1%86%BC%E1%84%87%E1%85%A9%E1%86%AB-18-Cr5ZC7Iw.jpg",Qw=Object.freeze(Object.defineProperty({__proto__:null,default:Kw},Symbol.toStringTag,{value:"Module"})),Yw="/Invitation/assets/%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%A9%E1%86%BC%E1%84%87%E1%85%A9%E1%86%AB-19-1r9ml69j.jpg",Xw=Object.freeze(Object.defineProperty({__proto__:null,default:Yw},Symbol.toStringTag,{value:"Module"})),$w="/Invitation/assets/%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%A9%E1%86%BC%E1%84%87%E1%85%A9%E1%86%AB-20-CGsovLs7.jpg",Jw=Object.freeze(Object.defineProperty({__proto__:null,default:$w},Symbol.toStringTag,{value:"Module"})),Zw="/Invitation/assets/%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%A9%E1%86%BC%E1%84%87%E1%85%A9%E1%86%AB-21-CUXLEnuu.jpg",Ww=Object.freeze(Object.defineProperty({__proto__:null,default:Zw},Symbol.toStringTag,{value:"Module"})),eS="/Invitation/assets/%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%A9%E1%86%BC%E1%84%87%E1%85%A9%E1%86%AB-22-CT8_e2Qn.jpg",tS=Object.freeze(Object.defineProperty({__proto__:null,default:eS},Symbol.toStringTag,{value:"Module"})),nS="/Invitation/assets/%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%A9%E1%86%BC%E1%84%87%E1%85%A9%E1%86%AB-23-D9rLb3gl.jpg",iS=Object.freeze(Object.defineProperty({__proto__:null,default:nS},Symbol.toStringTag,{value:"Module"})),sS="/Invitation/assets/%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%A9%E1%86%BC%E1%84%87%E1%85%A9%E1%86%AB-24-1R9Hvu2A.jpg",rS=Object.freeze(Object.defineProperty({__proto__:null,default:sS},Symbol.toStringTag,{value:"Module"})),aS="/Invitation/assets/%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%A9%E1%86%BC%E1%84%87%E1%85%A9%E1%86%AB-25-DnA2EqP1.jpg",oS=Object.freeze(Object.defineProperty({__proto__:null,default:aS},Symbol.toStringTag,{value:"Module"})),lS="/Invitation/assets/%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%A9%E1%86%BC%E1%84%87%E1%85%A9%E1%86%AB-26-CYEI5d1p.jpg",uS=Object.freeze(Object.defineProperty({__proto__:null,default:lS},Symbol.toStringTag,{value:"Module"})),cS="/Invitation/assets/%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%A9%E1%86%BC%E1%84%87%E1%85%A9%E1%86%AB-27-Dn0CQCG_.jpg",hS=Object.freeze(Object.defineProperty({__proto__:null,default:cS},Symbol.toStringTag,{value:"Module"})),fS="/Invitation/assets/%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%A9%E1%86%BC%E1%84%87%E1%85%A9%E1%86%AB-28-D3eFKwty.jpg",dS=Object.freeze(Object.defineProperty({__proto__:null,default:fS},Symbol.toStringTag,{value:"Module"})),mS="/Invitation/assets/%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%A9%E1%86%BC%E1%84%87%E1%85%A9%E1%86%AB-29-BY68P3TW.jpg",pS=Object.freeze(Object.defineProperty({__proto__:null,default:mS},Symbol.toStringTag,{value:"Module"})),gS="/Invitation/assets/%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%A9%E1%86%BC%E1%84%87%E1%85%A9%E1%86%AB-30-CMHvZkWT.jpg",_S=Object.freeze(Object.defineProperty({__proto__:null,default:gS},Symbol.toStringTag,{value:"Module"})),yS="/Invitation/assets/%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%A9%E1%86%BC%E1%84%87%E1%85%A9%E1%86%AB-31-CrqTQkxo.jpg",vS=Object.freeze(Object.defineProperty({__proto__:null,default:yS},Symbol.toStringTag,{value:"Module"})),ES="/Invitation/assets/%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%A9%E1%86%BC%E1%84%87%E1%85%A9%E1%86%AB-32-DuAzuYeI.jpg",bS=Object.freeze(Object.defineProperty({__proto__:null,default:ES},Symbol.toStringTag,{value:"Module"})),TS="/Invitation/assets/%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%A9%E1%86%BC%E1%84%87%E1%85%A9%E1%86%AB-33-641L5CaR.jpg",AS=Object.freeze(Object.defineProperty({__proto__:null,default:TS},Symbol.toStringTag,{value:"Module"})),wS="/Invitation/assets/%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%A9%E1%86%BC%E1%84%87%E1%85%A9%E1%86%AB-34-eAbJfSS7.jpg",SS=Object.freeze(Object.defineProperty({__proto__:null,default:wS},Symbol.toStringTag,{value:"Module"})),xS="/Invitation/assets/%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%A9%E1%86%BC%E1%84%87%E1%85%A9%E1%86%AB-35-CZ-SmRv8.jpg",RS=Object.freeze(Object.defineProperty({__proto__:null,default:xS},Symbol.toStringTag,{value:"Module"})),IS="/Invitation/assets/%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%A9%E1%86%BC%E1%84%87%E1%85%A9%E1%86%AB-36-BvgXe4yl.jpg",CS=Object.freeze(Object.defineProperty({__proto__:null,default:IS},Symbol.toStringTag,{value:"Module"})),NS="/Invitation/assets/%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%A9%E1%86%BC%E1%84%87%E1%85%A9%E1%86%AB-37-Calrd1VF.jpg",DS=Object.freeze(Object.defineProperty({__proto__:null,default:NS},Symbol.toStringTag,{value:"Module"})),OS="/Invitation/assets/%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%A9%E1%86%BC%E1%84%87%E1%85%A9%E1%86%AB-38-6jN1RZkw.jpg",MS=Object.freeze(Object.defineProperty({__proto__:null,default:OS},Symbol.toStringTag,{value:"Module"})),VS="/Invitation/assets/%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%A9%E1%86%BC%E1%84%87%E1%85%A9%E1%86%AB-39-DjjvsAG7.jpg",kS=Object.freeze(Object.defineProperty({__proto__:null,default:VS},Symbol.toStringTag,{value:"Module"})),jS="/Invitation/assets/%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%A9%E1%86%BC%E1%84%87%E1%85%A9%E1%86%AB-4-tVruTdy8.jpg",PS=Object.freeze(Object.defineProperty({__proto__:null,default:jS},Symbol.toStringTag,{value:"Module"})),LS="/Invitation/assets/%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%A9%E1%86%BC%E1%84%87%E1%85%A9%E1%86%AB-40-CsNxYgc_.jpg",US=Object.freeze(Object.defineProperty({__proto__:null,default:LS},Symbol.toStringTag,{value:"Module"})),zS="/Invitation/assets/%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%A9%E1%86%BC%E1%84%87%E1%85%A9%E1%86%AB-41-O5EhUvcn.jpg",BS=Object.freeze(Object.defineProperty({__proto__:null,default:zS},Symbol.toStringTag,{value:"Module"})),qS="/Invitation/assets/%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%A9%E1%86%BC%E1%84%87%E1%85%A9%E1%86%AB-42-CEiRB3GN.jpg",HS=Object.freeze(Object.defineProperty({__proto__:null,default:qS},Symbol.toStringTag,{value:"Module"})),FS="/Invitation/assets/%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%A9%E1%86%BC%E1%84%87%E1%85%A9%E1%86%AB-43-Bl9fP8xI.jpg",GS=Object.freeze(Object.defineProperty({__proto__:null,default:FS},Symbol.toStringTag,{value:"Module"})),KS="/Invitation/assets/%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%A9%E1%86%BC%E1%84%87%E1%85%A9%E1%86%AB-5-fqSG2lQg.jpg",QS=Object.freeze(Object.defineProperty({__proto__:null,default:KS},Symbol.toStringTag,{value:"Module"})),YS="/Invitation/assets/%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%A9%E1%86%BC%E1%84%87%E1%85%A9%E1%86%AB-6-Co5kIz00.jpg",XS=Object.freeze(Object.defineProperty({__proto__:null,default:YS},Symbol.toStringTag,{value:"Module"})),$S="/Invitation/assets/%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%A9%E1%86%BC%E1%84%87%E1%85%A9%E1%86%AB-7-R_Q8_AXl.jpg",JS=Object.freeze(Object.defineProperty({__proto__:null,default:$S},Symbol.toStringTag,{value:"Module"})),ZS="/Invitation/assets/%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%A9%E1%86%BC%E1%84%87%E1%85%A9%E1%86%AB-8-B-jsG5Gc.jpg",WS=Object.freeze(Object.defineProperty({__proto__:null,default:ZS},Symbol.toStringTag,{value:"Module"})),ex="/Invitation/assets/%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%A9%E1%86%BC%E1%84%87%E1%85%A9%E1%86%AB-9-DwTYO0_B.jpg",tx=Object.freeze(Object.defineProperty({__proto__:null,default:ex},Symbol.toStringTag,{value:"Module"})),nx="/Invitation/assets/%E1%84%92%E1%85%B3%E1%86%A8%E1%84%87%E1%85%A2%E1%86%A8-1-Lx5q0Lx1.jpg",ix=Object.freeze(Object.defineProperty({__proto__:null,default:nx},Symbol.toStringTag,{value:"Module"})),sx="/Invitation/assets/%E1%84%92%E1%85%B3%E1%86%A8%E1%84%87%E1%85%A2%E1%86%A8-2-BK2UpXeZ.jpg",rx=Object.freeze(Object.defineProperty({__proto__:null,default:sx},Symbol.toStringTag,{value:"Module"})),ax="/Invitation/assets/%E1%84%92%E1%85%B3%E1%86%A8%E1%84%87%E1%85%A2%E1%86%A8-3-BT_NVf1N.jpg",ox=Object.freeze(Object.defineProperty({__proto__:null,default:ax},Symbol.toStringTag,{value:"Module"})),lx="/Invitation/assets/%E1%84%92%E1%85%B3%E1%86%A8%E1%84%87%E1%85%A2%E1%86%A8-4-DZPr6Tk4.jpg",ux=Object.freeze(Object.defineProperty({__proto__:null,default:lx},Symbol.toStringTag,{value:"Module"})),cx="/Invitation/assets/%E1%84%92%E1%85%B3%E1%86%A8%E1%84%87%E1%85%A2%E1%86%A8-5-4SOWrOkg.jpg",hx=Object.freeze(Object.defineProperty({__proto__:null,default:cx},Symbol.toStringTag,{value:"Module"})),AE=()=>{const s=Object.assign({"/src/assets/images/SSR/KakaoTalk_20260209_224633399.jpg":vw,"/src/assets/images/SSR/KakaoTalk_20260209_224633399_01.jpg":bw,"/src/assets/images/SSR/KakaoTalk_20260209_224633399_02.jpg":Aw,"/src/assets/images/SSR/KakaoTalk_20260209_224633399_03.jpg":Sw,"/src/assets/images/SSR/KakaoTalk_20260209_224633399_04.jpg":Rw,"/src/assets/images/SSR/KakaoTalk_20260209_224633399_05.jpg":Cw}),e=Object.assign({}),n=Object.assign({"/src/assets/images/R/-10.jpg":Dw,"/src/assets/images/R/-11.jpg":Mw,"/src/assets/images/R/-12.jpg":kw,"/src/assets/images/R/-13.jpg":Pw,"/src/assets/images/R/-14.jpg":Uw,"/src/assets/images/R/-15.jpg":Bw,"/src/assets/images/R/-16.jpg":Hw,"/src/assets/images/R/-17.jpg":Gw,"/src/assets/images/R/-18.jpg":Qw,"/src/assets/images/R/-19.jpg":Xw,"/src/assets/images/R/-20.jpg":Jw,"/src/assets/images/R/-21.jpg":Ww,"/src/assets/images/R/-22.jpg":tS,"/src/assets/images/R/-23.jpg":iS,"/src/assets/images/R/-24.jpg":rS,"/src/assets/images/R/-25.jpg":oS,"/src/assets/images/R/-26.jpg":uS,"/src/assets/images/R/-27.jpg":hS,"/src/assets/images/R/-28.jpg":dS,"/src/assets/images/R/-29.jpg":pS,"/src/assets/images/R/-30.jpg":_S,"/src/assets/images/R/-31.jpg":vS,"/src/assets/images/R/-32.jpg":bS,"/src/assets/images/R/-33.jpg":AS,"/src/assets/images/R/-34.jpg":SS,"/src/assets/images/R/-35.jpg":RS,"/src/assets/images/R/-36.jpg":CS,"/src/assets/images/R/-37.jpg":DS,"/src/assets/images/R/-38.jpg":MS,"/src/assets/images/R/-39.jpg":kS,"/src/assets/images/R/-4.jpg":PS,"/src/assets/images/R/-40.jpg":US,"/src/assets/images/R/-41.jpg":BS,"/src/assets/images/R/-42.jpg":HS,"/src/assets/images/R/-43.jpg":GS,"/src/assets/images/R/-5.jpg":QS,"/src/assets/images/R/-6.jpg":XS,"/src/assets/images/R/-7.jpg":JS,"/src/assets/images/R/-8.jpg":WS,"/src/assets/images/R/-9.jpg":tx,"/src/assets/images/R/-1.jpg":ix,"/src/assets/images/R/-2.jpg":rx,"/src/assets/images/R/-3.jpg":ox,"/src/assets/images/R/-4.jpg":ux,"/src/assets/images/R/-5.jpg":hx}),r=(m,_)=>Object.entries(m).map(([g,b])=>({src:b.default,path:g,rarity:_})),o=r(s,"SSR"),u=r(e,"SR"),f=r(n,"R");return[...o,...u,...f]},Qc=AE(),wE=({forceUnlock:s=!1,rarityFilter:e=null,showRarity:n=!1})=>{const[r,o]=se.useState(null);if(Qc.length===0)return null;const[u,f]=se.useState([]);return se.useEffect(()=>{if(s)return;const m=()=>{const _=JSON.parse(localStorage.getItem("wedding_collection_v2")||"[]");f(_)};return m(),window.addEventListener("storage",m),window.addEventListener("collectionUpdated",m),()=>{window.removeEventListener("storage",m),window.removeEventListener("collectionUpdated",m)}},[s]),se.useEffect(()=>{if(s)return;const m=JSON.parse(localStorage.getItem("wedding_collection_v2")||"[]");f(m)},[Qc,s]),E.jsxs("section",{id:"gallery",className:"py-20 bg-background relative overflow-hidden",children:[E.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[E.jsx("div",{className:"absolute top-10 right-10 w-64 h-64 bg-primary/5 rounded-full blur-3xl"}),E.jsx("div",{className:"absolute bottom-10 left-10 w-96 h-96 bg-secondary/5 rounded-full blur-3xl"})]}),E.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[E.jsx("h2",{className:"text-3xl md:text-4xl text-primary font-classic font-bold mb-4 text-center animate-fade-in-up",children:" "}),E.jsxs("p",{className:"text-text/60 text-center font-body mb-12 tracking-widest uppercase text-sm animate-fade-in-up delay-100 font-classic",children:["  ",s?"":`(${u.length}/${Qc.length})`]}),E.jsx("div",{className:"columns-1 sm:columns-2 lg:columns-3 gap-6 space-y-6",children:Qc.filter(m=>!e||m.rarity===e).sort((m,_)=>{const g={SSR:3,SR:2,R:1},b=m.rarity.includes("SSR")?"SSR":m.rarity.includes("SR")?"SR":"R",w=_.rarity.includes("SSR")?"SSR":_.rarity.includes("SR")?"SR":"R";return g[b]-g[w]}).map((m,_)=>{const g=s||u.includes(m.path),b=m.rarity.includes("SSR")?"SSR":m.rarity.includes("SR")?"SR":"R",w={SSR:"border-yellow-400 ring-2 ring-yellow-400/50 shadow-md",SR:"border-blue-400 ring-1 ring-blue-400/30",R:"border-stone-400"},x={SSR:"bg-yellow-400 text-black border-yellow-200",SR:"bg-blue-500 text-white border-blue-300",R:"bg-stone-500 text-white border-stone-400"},q={SSR:"",SR:"",R:""};return E.jsxs("div",{className:`
                                        break-inside-avoid group relative rounded-2xl overflow-hidden shadow-soft-md hover:shadow-soft-xl transition-all duration-500 hover:-translate-y-1 bg-white
                                        ${n&&g?`border-[3px] ${w[b]}`:""}
                                    `,onClick:()=>g&&o(m.src),children:[n&&E.jsxs("div",{className:`
                                            absolute top-2 right-2 z-20 
                                            px-2 py-0.5 rounded-full border shadow-sm
                                            text-[10px] font-bold flex items-center gap-1
                                            backdrop-blur-sm
                                            ${x[b]}
                                            ${!g&&"opacity-80 grayscale-[30%]"} 
                                        `,children:[E.jsx("span",{children:q[b]}),E.jsx("span",{children:b})]}),E.jsxs("div",{className:"relative overflow-hidden",children:[E.jsx("img",{src:m.src,alt:`Gallery ${_+1}`,className:`w-full h-auto object-cover transition-all duration-700 
                                                ${g?"cursor-pointer hover:scale-105 filter brightness-100":"blur-xl grayscale contrast-125 cursor-not-allowed opacity-50"}
                                            `,loading:"lazy"}),g&&E.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors duration-300 pointer-events-none"}),!g&&E.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/10 z-10 backdrop-blur-[2px]",children:[E.jsx("div",{className:"bg-white/90 backdrop-blur-md p-4 rounded-full shadow-lg transform group-hover:scale-110 transition-transform duration-300",children:E.jsx("span",{className:"text-2xl",children:""})}),E.jsx("span",{className:"text-white font-bold tracking-widest mt-2 drop-shadow-md text-xs uppercase bg-black/20 px-3 py-1 rounded-full",children:"Locked"})]})]})]},m.path)})})]}),r&&E.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/95 backdrop-blur-md p-4 animate-in fade-in duration-200",onClick:()=>o(null),children:[E.jsx("img",{src:r,alt:"Full view",className:"max-w-full max-h-[90vh] object-contain rounded-lg shadow-2xl"}),E.jsx("button",{className:"absolute top-4 right-4 text-white hover:text-gray-300 transition-colors",children:E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})},fx=()=>E.jsxs("section",{className:"py-20 px-4 md:px-6 bg-background text-center relative overflow-hidden",children:[E.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-4xl h-full max-h-[500px] bg-primary/5 rounded-full blur-[100px] pointer-events-none"}),E.jsxs("div",{className:"relative z-10 w-full max-w-6xl mx-auto",children:[E.jsx("h2",{className:"text-3xl md:text-4xl text-primary font-classic font-bold mb-12 text-center animate-fade-in-up",children:" "}),E.jsx("div",{className:"w-full aspect-video rounded-3xl overflow-hidden shadow-soft-xl border border-white/50 bg-black/5 animate-fade-in-up delay-100",children:E.jsx("iframe",{className:"w-full h-full",src:"https://www.youtube-nocookie.com/embed/2Vv-BfVoq4g",title:"Wedding Video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})})]})]}),SE=()=>{const s="https://naver.me/x7ndUhZi",e="https://place.map.kakao.com/25447779",n=r=>{window.open(r,"_blank")};return E.jsxs("section",{className:"py-24 px-4 bg-background text-center relative overflow-hidden font-body",children:[E.jsx("div",{className:"mb-12 animate-fade-in-up",children:E.jsx("h2",{className:"text-4xl md:text-5xl text-text font-classic font-bold",children:" "})}),E.jsx("div",{className:"max-w-5xl mx-auto mb-12 animate-fade-in-up delay-100",children:E.jsx("div",{className:"w-full aspect-video md:aspect-[21/9] rounded-xl overflow-hidden shadow-sm border border-black/5 bg-gray-50",children:E.jsx("iframe",{src:"https://maps.google.com/maps?q=%20%20&t=&z=17&ie=UTF8&iwloc=&output=embed",className:"w-full h-full transition-all duration-700",frameBorder:"0",title:"Google Map",loading:"lazy",allowFullScreen:!0})})}),E.jsxs("div",{className:"max-w-lg mx-auto mb-12 space-y-2 animate-fade-in-up delay-200 font-classic",children:[E.jsxs("h3",{className:"text-2xl text-text font-bold tracking-wide",children:["  ",E.jsx("span",{className:"font-normal text-lg ml-2 text-text/60",children:"7 "})]}),E.jsx("p",{className:"text-text/70 text-lg",children:"   4 140"}),E.jsx("div",{className:"w-8 h-[1px] bg-primary/20 mx-auto my-4"}),E.jsx("p",{className:"text-text/50 text-sm tracking-wider",children:"Tel. 031-487-8100"})]}),E.jsxs("div",{className:"flex flex-wrap justify-center gap-4 animate-fade-in-up delay-300",children:[E.jsxs("button",{className:"flex items-center gap-3 px-8 py-3 bg-white border border-gray-200 rounded-full hover:border-[#03C75A] hover:bg-[#03C75A]/5 transition-all group font-classic",onClick:()=>n(s),children:[E.jsx(dx,{}),E.jsx("span",{className:"text-gray-600 group-hover:text-[#03C75A] font-medium transition-colors",children:" "})]}),E.jsxs("button",{className:"flex items-center gap-3 px-8 py-3 bg-white border border-gray-200 rounded-full hover:border-[#FEE500] hover:bg-[#FEE500]/10 transition-all group font-classic",onClick:()=>n(e),children:[E.jsx(mx,{}),E.jsx("span",{className:"text-gray-600 group-hover:text-black font-medium transition-colors",children:" "})]})]})]})},dx=()=>E.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-[#03C75A]",children:E.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.4153 3H21V21H16.4153V10.7417L7.69231 21H3V3H7.69231V13.2519L16.4153 3Z",fill:"currentColor"})}),mx=()=>E.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",className:"text-[#FEE500]",children:E.jsx("path",{d:"M12 3C6.47715 3 2 6.35786 2 10.5C2 13.1679 3.65685 15.5393 6.1875 16.9079L5.4375 19.6579C5.375 19.8766 5.5625 20.0641 5.78125 20.0016L9.625 19.0641C10.375 19.2829 11.1875 19.4079 12 19.4079C17.5228 19.4079 22 16.05 22 11.9079C22 7.76579 17.5228 4.40786 12 4.40786V3Z"})}),px=()=>{const[s,e]=se.useState(!1),n=se.useRef(null),r=()=>{s?n.current.pause():n.current.play(),e(!s)};return se.useEffect(()=>{if(n.current){n.current.volume=.5;const o=n.current.play();o!==void 0&&o.then(()=>{e(!0)}).catch(u=>{console.log("Auto-play prevented:",u),e(!1)})}},[]),E.jsxs("div",{style:jv.container,children:[E.jsx("audio",{ref:n,src:"/Invitation/bgm.mp3",loop:!0}),E.jsx("button",{onClick:r,style:jv.button,children:s?" ":" "})]})},jv={container:{position:"fixed",top:"20px",right:"20px",zIndex:1e3},button:{background:"rgba(255, 255, 255, 0.8)",border:"1px solid #ddd",borderRadius:"20px",padding:"8px 16px",fontSize:"0.8rem",cursor:"pointer",boxShadow:"0 2px 5px rgba(0,0,0,0.1)",display:"flex",alignItems:"center",gap:"5px",fontFamily:"'Gowun Batang', serif"}},gx=()=>{const[s,e]=se.useState(null),n=[{type:"Groom",name:"",bank:"",account:"495-910449-55107",displayAccount:"495-910449-55107"},{type:"Bride",name:"",bank:"",account:"110-297-915880",displayAccount:"110-297-915880"}],r=o=>{navigator.clipboard.writeText(`${o.bank} ${o.account}`).then(()=>{e(o.type),setTimeout(()=>e(null),2e3)})};return E.jsxs("section",{className:"py-20 px-6 bg-background text-center relative overflow-hidden font-body",children:[E.jsx("h2",{className:"text-3xl md:text-4xl text-primary font-classic font-bold mb-10 text-center animate-fade-in-up",children:"  "}),E.jsx("div",{className:"max-w-2xl mx-auto space-y-6 animate-fade-in-up delay-100",children:n.map(o=>E.jsxs("div",{className:"bg-white/60 backdrop-blur-md rounded-2xl p-6 border border-white/50 shadow-soft-md flex flex-col md:flex-row items-center justify-between gap-4 group hover:shadow-soft-lg transition-all hover:bg-white/80",children:[E.jsxs("div",{className:"text-left md:flex-1 w-full md:w-auto text-center md:text-left",children:[E.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2 mb-1",children:[E.jsx("span",{className:"text-base font-bold text-primary tracking-widest font-classic",children:o.type==="Groom"?"":""}),E.jsx("span",{className:"text-lg font-bold text-text",children:o.name})]}),E.jsxs("div",{className:"text-gray-600 font-mono text-sm md:text-base",children:[o.bank," ",E.jsx("span",{className:"text-gray-400 mx-1",children:"|"})," ",o.displayAccount]})]}),E.jsx("button",{onClick:()=>r(o),className:`
                                px-6 py-2 rounded-full font-medium text-sm transition-all duration-300 min-w-[100px] font-classic
                                ${s===o.type?"bg-[#03C75A] text-white shadow-md":"bg-white border border-primary/20 text-text/80 hover:border-primary hover:text-primary"}
                            `,children:s===o.type?"":""})]},o.type))})]})},_x=()=>E.jsxs("div",{className:"app-container font-classic",children:[E.jsx(mw,{}),E.jsx(gw,{}),E.jsx(_w,{}),E.jsx(wE,{forceUnlock:!0,rarityFilter:"R"}),E.jsx(fx,{}),E.jsx(gx,{}),E.jsx(px,{}),E.jsx(SE,{})]}),yx=()=>{};var Pv={};const xE=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},vx=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[n++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[n++],f=s[n++],m=s[n++],_=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(_>>10)),e[r++]=String.fromCharCode(56320+(_&1023))}else{const u=s[n++],f=s[n++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},RE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],f=o+1<s.length,m=f?s[o+1]:0,_=o+2<s.length,g=_?s[o+2]:0,b=u>>2,w=(u&3)<<4|m>>4;let x=(m&15)<<2|g>>6,q=g&63;_||(q=64,f||(x=64)),r.push(n[b],n[w],n[x],n[q])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(xE(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):vx(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=n[s.charAt(o++)],m=o<s.length?n[s.charAt(o)]:0;++o;const g=o<s.length?n[s.charAt(o)]:64;++o;const w=o<s.length?n[s.charAt(o)]:64;if(++o,u==null||m==null||g==null||w==null)throw new Ex;const x=u<<2|m>>4;if(r.push(x),g!==64){const q=m<<4&240|g>>2;if(r.push(q),w!==64){const $=g<<6&192|w;r.push($)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Ex extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bx=function(s){const e=xE(s);return RE.encodeByteArray(e,!0)},fh=function(s){return bx(s).replace(/\./g,"")},IE=function(s){try{return RE.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Tx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Ax=()=>Tx().__FIREBASE_DEFAULTS__,wx=()=>{if(typeof process>"u"||typeof Pv>"u")return;const s=Pv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Sx=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&IE(s[1]);return e&&JSON.parse(e)},kh=()=>{try{return yx()||Ax()||wx()||Sx()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},CE=s=>kh()?.emulatorHosts?.[s],xx=s=>{const e=CE(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},NE=()=>kh()?.config,DE=s=>kh()?.[`_${s}`];class Rx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function wo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function OE(s){return(await fetch(s,{credentials:"include"})).ok}function Ix(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[fh(JSON.stringify(n)),fh(JSON.stringify(f)),""].join(".")}const Fl={};function Cx(){const s={prod:[],emulator:[]};for(const e of Object.keys(Fl))Fl[e]?s.emulator.push(e):s.prod.push(e);return s}function Nx(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let Lv=!1;function ME(s,e){if(typeof window>"u"||typeof document>"u"||!wo(window.location.host)||Fl[s]===e||Fl[s]||Lv)return;Fl[s]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",u=Cx().prod.length>0;function f(){const x=document.getElementById(r);x&&x.remove()}function m(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function _(x,q){x.setAttribute("width","24"),x.setAttribute("id",q),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function g(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Lv=!0,f()},x}function b(x,q){x.setAttribute("id",q),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function w(){const x=Nx(r),q=n("text"),$=document.getElementById(q)||document.createElement("span"),te=n("learnmore"),ne=document.getElementById(te)||document.createElement("a"),oe=n("preprendIcon"),ye=document.getElementById(oe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const de=x.element;m(de),b(ne,te);const De=g();_(ye,oe),de.append(ye,$,ne,De),document.body.appendChild(de)}u?($.innerText="Preview backend disconnected.",ye.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ye.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Dx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function Ox(){const s=kh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Mx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VE(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Vx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kx(){const s=Wt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function jx(){return!Ox()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kE(){try{return typeof indexedDB=="object"}catch{return!1}}function jE(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}function Px(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Lx="FirebaseError";class ci extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Lx,Object.setPrototypeOf(this,ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oa.prototype.create)}}class oa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?Ux(u,r):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new ci(o,m,r)}}function Ux(s,e){return s.replace(zx,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const zx=/\{\$([^}]+)}/g;function Bx(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function cs(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const u=s[o],f=e[o];if(Uv(u)&&Uv(f)){if(!cs(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function Uv(s){return s!==null&&typeof s=="object"}function ou(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function qx(s,e){const n=new Hx(s,e);return n.subscribe.bind(n)}class Hx{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Fx(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=fm),o.error===void 0&&(o.error=fm),o.complete===void 0&&(o.complete=fm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Fx(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function fm(){}const Gx=1e3,Kx=2,Qx=14400*1e3,Yx=.5;function zv(s,e=Gx,n=Kx){const r=e*Math.pow(n,s),o=Math.round(Yx*r*(Math.random()-.5)*2);return Math.min(Qx,r+o)}function ht(s){return s&&s._delegate?s._delegate:s}class oi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Zr="[DEFAULT]";class Xx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Rx;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Jx(e))try{this.getOrInitializeService({instanceIdentifier:Zr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=Zr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zr){return this.instances.has(e)}getOptions(e=Zr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&f.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&e(u,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$x(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zr){return this.component?this.component.multipleInstances?e:Zr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $x(s){return s===Zr?void 0:s}function Jx(s){return s.instantiationMode==="EAGER"}class Zx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Xx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var je;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(je||(je={}));const Wx={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},e2=je.INFO,t2={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},n2=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=t2[e];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jh{constructor(e){this.name=e,this._logLevel=e2,this._logHandler=n2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Wx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const i2=(s,e)=>e.some(n=>s instanceof n);let Bv,qv;function s2(){return Bv||(Bv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function r2(){return qv||(qv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const PE=new WeakMap,Im=new WeakMap,LE=new WeakMap,dm=new WeakMap,ep=new WeakMap;function a2(s){const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{n(ar(s.result)),o()},f=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&PE.set(n,s)}).catch(()=>{}),ep.set(e,s),e}function o2(s){if(Im.has(s))return;const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});Im.set(s,e)}let Cm={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return Im.get(s);if(e==="objectStoreNames")return s.objectStoreNames||LE.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ar(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function l2(s){Cm=s(Cm)}function u2(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(mm(this),e,...n);return LE.set(r,e.sort?e.sort():[e]),ar(r)}:r2().includes(s)?function(...e){return s.apply(mm(this),e),ar(PE.get(this))}:function(...e){return ar(s.apply(mm(this),e))}}function c2(s){return typeof s=="function"?u2(s):(s instanceof IDBTransaction&&o2(s),i2(s,s2())?new Proxy(s,Cm):s)}function ar(s){if(s instanceof IDBRequest)return a2(s);if(dm.has(s))return dm.get(s);const e=c2(s);return e!==s&&(dm.set(s,e),ep.set(e,s)),e}const mm=s=>ep.get(s);function UE(s,e,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(s,e),m=ar(f);return r&&f.addEventListener("upgradeneeded",_=>{r(ar(f.result),_.oldVersion,_.newVersion,ar(f.transaction),_)}),n&&f.addEventListener("blocked",_=>n(_.oldVersion,_.newVersion,_)),m.then(_=>{u&&_.addEventListener("close",()=>u()),o&&_.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const h2=["get","getKey","getAll","getAllKeys","count"],f2=["put","add","delete","clear"],pm=new Map;function Hv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(pm.get(e))return pm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=f2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||h2.includes(n)))return;const u=async function(f,...m){const _=this.transaction(f,o?"readwrite":"readonly");let g=_.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&_.done]))[0]};return pm.set(e,u),u}l2(s=>({...s,get:(e,n,r)=>Hv(e,n)||s.get(e,n,r),has:(e,n)=>!!Hv(e,n)||s.has(e,n)}));class d2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(m2(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function m2(s){return s.getComponent()?.type==="VERSION"}const Nm="@firebase/app",Fv="0.14.7";const hs=new jh("@firebase/app"),p2="@firebase/app-compat",g2="@firebase/analytics-compat",_2="@firebase/analytics",y2="@firebase/app-check-compat",v2="@firebase/app-check",E2="@firebase/auth",b2="@firebase/auth-compat",T2="@firebase/database",A2="@firebase/data-connect",w2="@firebase/database-compat",S2="@firebase/functions",x2="@firebase/functions-compat",R2="@firebase/installations",I2="@firebase/installations-compat",C2="@firebase/messaging",N2="@firebase/messaging-compat",D2="@firebase/performance",O2="@firebase/performance-compat",M2="@firebase/remote-config",V2="@firebase/remote-config-compat",k2="@firebase/storage",j2="@firebase/storage-compat",P2="@firebase/firestore",L2="@firebase/ai",U2="@firebase/firestore-compat",z2="firebase",B2="12.8.0";const Dm="[DEFAULT]",q2={[Nm]:"fire-core",[p2]:"fire-core-compat",[_2]:"fire-analytics",[g2]:"fire-analytics-compat",[v2]:"fire-app-check",[y2]:"fire-app-check-compat",[E2]:"fire-auth",[b2]:"fire-auth-compat",[T2]:"fire-rtdb",[A2]:"fire-data-connect",[w2]:"fire-rtdb-compat",[S2]:"fire-fn",[x2]:"fire-fn-compat",[R2]:"fire-iid",[I2]:"fire-iid-compat",[C2]:"fire-fcm",[N2]:"fire-fcm-compat",[D2]:"fire-perf",[O2]:"fire-perf-compat",[M2]:"fire-rc",[V2]:"fire-rc-compat",[k2]:"fire-gcs",[j2]:"fire-gcs-compat",[P2]:"fire-fst",[U2]:"fire-fst-compat",[L2]:"fire-vertex","fire-js":"fire-js",[z2]:"fire-js-all"};const dh=new Map,H2=new Map,Om=new Map;function Gv(s,e){try{s.container.addComponent(e)}catch(n){hs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function Bi(s){const e=s.name;if(Om.has(e))return hs.debug(`There were multiple attempts to register component ${e}.`),!1;Om.set(e,s);for(const n of dh.values())Gv(n,s);for(const n of H2.values())Gv(n,s);return!0}function la(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function ii(s){return s==null?!1:s.settings!==void 0}const F2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},or=new oa("app","Firebase",F2);class G2{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new oi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw or.create("app-deleted",{appName:this._name})}}const So=B2;function zE(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:Dm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw or.create("bad-app-name",{appName:String(o)});if(n||(n=NE()),!n)throw or.create("no-options");const u=dh.get(o);if(u){if(cs(n,u.options)&&cs(r,u.config))return u;throw or.create("duplicate-app",{appName:o})}const f=new Zx(o);for(const _ of Om.values())f.addComponent(_);const m=new G2(n,r,f);return dh.set(o,m),m}function tp(s=Dm){const e=dh.get(s);if(!e&&s===Dm&&NE())return zE();if(!e)throw or.create("no-app",{appName:s});return e}function Hn(s,e,n){let r=q2[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${r}" with version "${e}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hs.warn(f.join(" "));return}Bi(new oi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const K2="firebase-heartbeat-database",Q2=1,Jl="firebase-heartbeat-store";let gm=null;function BE(){return gm||(gm=UE(K2,Q2,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Jl)}catch(n){console.warn(n)}}}}).catch(s=>{throw or.create("idb-open",{originalErrorMessage:s.message})})),gm}async function Y2(s){try{const n=(await BE()).transaction(Jl),r=await n.objectStore(Jl).get(qE(s));return await n.done,r}catch(e){if(e instanceof ci)hs.warn(e.message);else{const n=or.create("idb-get",{originalErrorMessage:e?.message});hs.warn(n.message)}}}async function Kv(s,e){try{const r=(await BE()).transaction(Jl,"readwrite");await r.objectStore(Jl).put(e,qE(s)),await r.done}catch(n){if(n instanceof ci)hs.warn(n.message);else{const r=or.create("idb-set",{originalErrorMessage:n?.message});hs.warn(r.message)}}}function qE(s){return`${s.name}!${s.options.appId}`}const X2=1024,$2=30;class J2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new W2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Qv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>$2){const o=eR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){hs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Qv(),{heartbeatsToSend:n,unsentEntries:r}=Z2(this._heartbeatsCache.heartbeats),o=fh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return hs.warn(e),""}}}function Qv(){return new Date().toISOString().substring(0,10)}function Z2(s,e=X2){const n=[];let r=s.slice();for(const o of s){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Yv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Yv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class W2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kE()?jE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Y2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Kv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Kv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Yv(s){return fh(JSON.stringify({version:2,heartbeats:s})).length}function eR(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}function tR(s){Bi(new oi("platform-logger",e=>new d2(e),"PRIVATE")),Bi(new oi("heartbeat",e=>new J2(e),"PRIVATE")),Hn(Nm,Fv,s),Hn(Nm,Fv,"esm2020"),Hn("fire-js","")}tR("");var nR="firebase",iR="12.8.0";Hn(nR,iR,"app");const HE="@firebase/installations",np="0.6.19";const FE=1e4,GE=`w:${np}`,KE="FIS_v2",sR="https://firebaseinstallations.googleapis.com/v1",rR=3600*1e3,aR="installations",oR="Installations";const lR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},na=new oa(aR,oR,lR);function QE(s){return s instanceof ci&&s.code.includes("request-failed")}function YE({projectId:s}){return`${sR}/projects/${s}/installations`}function XE(s){return{token:s.token,requestStatus:2,expiresIn:cR(s.expiresIn),creationTime:Date.now()}}async function $E(s,e){const r=(await e.json()).error;return na.create("request-failed",{requestName:s,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function JE({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function uR(s,{refreshToken:e}){const n=JE(s);return n.append("Authorization",hR(e)),n}async function ZE(s){const e=await s();return e.status>=500&&e.status<600?s():e}function cR(s){return Number(s.replace("s","000"))}function hR(s){return`${KE} ${s}`}async function fR({appConfig:s,heartbeatServiceProvider:e},{fid:n}){const r=YE(s),o=JE(s),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={fid:n,authVersion:KE,appId:s.appId,sdkVersion:GE},m={method:"POST",headers:o,body:JSON.stringify(f)},_=await ZE(()=>fetch(r,m));if(_.ok){const g=await _.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:XE(g.authToken)}}else throw await $E("Create Installation",_)}function WE(s){return new Promise(e=>{setTimeout(e,s)})}function dR(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}const mR=/^[cdef][\w-]{21}$/,Mm="";function pR(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const n=gR(s);return mR.test(n)?n:Mm}catch{return Mm}}function gR(s){return dR(s).substr(0,22)}function Ph(s){return`${s.appName}!${s.appId}`}const eb=new Map;function tb(s,e){const n=Ph(s);nb(n,e),_R(n,e)}function nb(s,e){const n=eb.get(s);if(n)for(const r of n)r(e)}function _R(s,e){const n=yR();n&&n.postMessage({key:s,fid:e}),vR()}let Wr=null;function yR(){return!Wr&&"BroadcastChannel"in self&&(Wr=new BroadcastChannel("[Firebase] FID Change"),Wr.onmessage=s=>{nb(s.data.key,s.data.fid)}),Wr}function vR(){eb.size===0&&Wr&&(Wr.close(),Wr=null)}const ER="firebase-installations-database",bR=1,ia="firebase-installations-store";let _m=null;function ip(){return _m||(_m=UE(ER,bR,{upgrade:(s,e)=>{e===0&&s.createObjectStore(ia)}})),_m}async function mh(s,e){const n=Ph(s),o=(await ip()).transaction(ia,"readwrite"),u=o.objectStore(ia),f=await u.get(n);return await u.put(e,n),await o.done,(!f||f.fid!==e.fid)&&tb(s,e.fid),e}async function ib(s){const e=Ph(s),r=(await ip()).transaction(ia,"readwrite");await r.objectStore(ia).delete(e),await r.done}async function Lh(s,e){const n=Ph(s),o=(await ip()).transaction(ia,"readwrite"),u=o.objectStore(ia),f=await u.get(n),m=e(f);return m===void 0?await u.delete(n):await u.put(m,n),await o.done,m&&(!f||f.fid!==m.fid)&&tb(s,m.fid),m}async function sp(s){let e;const n=await Lh(s.appConfig,r=>{const o=TR(r),u=AR(s,o);return e=u.registrationPromise,u.installationEntry});return n.fid===Mm?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function TR(s){const e=s||{fid:pR(),registrationStatus:0};return sb(e)}function AR(s,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(na.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=wR(s,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:SR(s)}:{installationEntry:e}}async function wR(s,e){try{const n=await fR(s,e);return mh(s.appConfig,n)}catch(n){throw QE(n)&&n.customData.serverCode===409?await ib(s.appConfig):await mh(s.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function SR(s){let e=await Xv(s.appConfig);for(;e.registrationStatus===1;)await WE(100),e=await Xv(s.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await sp(s);return r||n}return e}function Xv(s){return Lh(s,e=>{if(!e)throw na.create("installation-not-found");return sb(e)})}function sb(s){return xR(s)?{fid:s.fid,registrationStatus:0}:s}function xR(s){return s.registrationStatus===1&&s.registrationTime+FE<Date.now()}async function RR({appConfig:s,heartbeatServiceProvider:e},n){const r=IR(s,n),o=uR(s,n),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={installation:{sdkVersion:GE,appId:s.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},_=await ZE(()=>fetch(r,m));if(_.ok){const g=await _.json();return XE(g)}else throw await $E("Generate Auth Token",_)}function IR(s,{fid:e}){return`${YE(s)}/${e}/authTokens:generate`}async function rp(s,e=!1){let n;const r=await Lh(s.appConfig,u=>{if(!rb(u))throw na.create("not-registered");const f=u.authToken;if(!e&&DR(f))return u;if(f.requestStatus===1)return n=CR(s,e),u;{if(!navigator.onLine)throw na.create("app-offline");const m=MR(u);return n=NR(s,m),m}});return n?await n:r.authToken}async function CR(s,e){let n=await $v(s.appConfig);for(;n.authToken.requestStatus===1;)await WE(100),n=await $v(s.appConfig);const r=n.authToken;return r.requestStatus===0?rp(s,e):r}function $v(s){return Lh(s,e=>{if(!rb(e))throw na.create("not-registered");const n=e.authToken;return VR(n)?{...e,authToken:{requestStatus:0}}:e})}async function NR(s,e){try{const n=await RR(s,e),r={...e,authToken:n};return await mh(s.appConfig,r),n}catch(n){if(QE(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await ib(s.appConfig);else{const r={...e,authToken:{requestStatus:0}};await mh(s.appConfig,r)}throw n}}function rb(s){return s!==void 0&&s.registrationStatus===2}function DR(s){return s.requestStatus===2&&!OR(s)}function OR(s){const e=Date.now();return e<s.creationTime||s.creationTime+s.expiresIn<e+rR}function MR(s){const e={requestStatus:1,requestTime:Date.now()};return{...s,authToken:e}}function VR(s){return s.requestStatus===1&&s.requestTime+FE<Date.now()}async function kR(s){const e=s,{installationEntry:n,registrationPromise:r}=await sp(e);return r?r.catch(console.error):rp(e).catch(console.error),n.fid}async function jR(s,e=!1){const n=s;return await PR(n),(await rp(n,e)).token}async function PR(s){const{registrationPromise:e}=await sp(s);e&&await e}function LR(s){if(!s||!s.options)throw ym("App Configuration");if(!s.name)throw ym("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!s.options[n])throw ym(n);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function ym(s){return na.create("missing-app-config-values",{valueName:s})}const ab="installations",UR="installations-internal",zR=s=>{const e=s.getProvider("app").getImmediate(),n=LR(e),r=la(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},BR=s=>{const e=s.getProvider("app").getImmediate(),n=la(e,ab).getImmediate();return{getId:()=>kR(n),getToken:o=>jR(n,o)}};function qR(){Bi(new oi(ab,zR,"PUBLIC")),Bi(new oi(UR,BR,"PRIVATE"))}qR();Hn(HE,np);Hn(HE,np,"esm2020");const ph="analytics",HR="firebase_id",FR="origin",GR=60*1e3,KR="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ap="https://www.googletagmanager.com/gtag/js";const an=new jh("@firebase/analytics");const QR={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Rn=new oa("analytics","Analytics",QR);function YR(s){if(!s.startsWith(ap)){const e=Rn.create("invalid-gtag-resource",{gtagURL:s});return an.warn(e.message),""}return s}function ob(s){return Promise.all(s.map(e=>e.catch(n=>n)))}function XR(s,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(s,e)),n}function $R(s,e){const n=XR("firebase-js-sdk-policy",{createScriptURL:YR}),r=document.createElement("script"),o=`${ap}?l=${s}&id=${e}`;r.src=n?n?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function JR(s){let e=[];return Array.isArray(window[s])?e=window[s]:window[s]=e,e}async function ZR(s,e,n,r,o,u){const f=r[o];try{if(f)await e[f];else{const _=(await ob(n)).find(g=>g.measurementId===o);_&&await e[_.appId]}}catch(m){an.error(m)}s("config",o,u)}async function WR(s,e,n,r,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await ob(n);for(const _ of f){const g=m.find(w=>w.measurementId===_),b=g&&e[g.appId];if(b)u.push(b);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),s("event",r,o||{})}catch(u){an.error(u)}}function eI(s,e,n,r){async function o(u,...f){try{if(u==="event"){const[m,_]=f;await WR(s,e,n,m,_)}else if(u==="config"){const[m,_]=f;await ZR(s,e,n,r,m,_)}else if(u==="consent"){const[m,_]=f;s("consent",m,_)}else if(u==="get"){const[m,_,g]=f;s("get",m,_,g)}else if(u==="set"){const[m]=f;s("set",m)}else s(u,...f)}catch(m){an.error(m)}}return o}function tI(s,e,n,r,o){let u=function(...f){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=eI(u,s,e,n),{gtagCore:u,wrappedGtag:window[o]}}function nI(s){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(ap)&&n.src.includes(s))return n;return null}const iI=30,sI=1e3;class rI{constructor(e={},n=sI){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const lb=new rI;function aI(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function oI(s){const{appId:e,apiKey:n}=s,r={method:"GET",headers:aI(n)},o=KR.replace("{app-id}",e),u=await fetch(o,r);if(u.status!==200&&u.status!==304){let f="";try{const m=await u.json();m.error?.message&&(f=m.error.message)}catch{}throw Rn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:f})}return u.json()}async function lI(s,e=lb,n){const{appId:r,apiKey:o,measurementId:u}=s.options;if(!r)throw Rn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:r};throw Rn.create("no-api-key")}const f=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new hI;return setTimeout(async()=>{m.abort()},GR),ub({appId:r,apiKey:o,measurementId:u},f,m,e)}async function ub(s,{throttleEndTimeMillis:e,backoffCount:n},r,o=lb){const{appId:u,measurementId:f}=s;try{await uI(r,e)}catch(m){if(f)return an.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:u,measurementId:f};throw m}try{const m=await oI(s);return o.deleteThrottleMetadata(u),m}catch(m){const _=m;if(!cI(_)){if(o.deleteThrottleMetadata(u),f)return an.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${_?.message}]`),{appId:u,measurementId:f};throw m}const g=Number(_?.customData?.httpStatus)===503?zv(n,o.intervalMillis,iI):zv(n,o.intervalMillis),b={throttleEndTimeMillis:Date.now()+g,backoffCount:n+1};return o.setThrottleMetadata(u,b),an.debug(`Calling attemptFetch again in ${g} millis`),ub(s,b,r,o)}}function uI(s,e){return new Promise((n,r)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);s.addEventListener(()=>{clearTimeout(u),r(Rn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function cI(s){if(!(s instanceof ci)||!s.customData)return!1;const e=Number(s.customData.httpStatus);return e===429||e===500||e===503||e===504}class hI{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function fI(s,e,n,r,o){if(o&&o.global){s("event",n,r);return}else{const u=await e,f={...r,send_to:u};s("event",n,f)}}async function dI(s,e,n,r){if(r&&r.global){const o={};for(const u of Object.keys(n))o[`user_properties.${u}`]=n[u];return s("set",o),Promise.resolve()}else{const o=await e;s("config",o,{update:!0,user_properties:n})}}async function mI(){if(kE())try{await jE()}catch(s){return an.warn(Rn.create("indexeddb-unavailable",{errorInfo:s?.toString()}).message),!1}else return an.warn(Rn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function pI(s,e,n,r,o,u,f){const m=lI(s);m.then(x=>{n[x.measurementId]=x.appId,s.options.measurementId&&x.measurementId!==s.options.measurementId&&an.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>an.error(x)),e.push(m);const _=mI().then(x=>{if(x)return r.getId()}),[g,b]=await Promise.all([m,_]);nI(u)||$R(u,g.measurementId),o("js",new Date);const w=f?.config??{};return w[FR]="firebase",w.update=!0,b!=null&&(w[HR]=b),o("config",g.measurementId,w),g.measurementId}class gI{constructor(e){this.app=e}_delete(){return delete oo[this.app.options.appId],Promise.resolve()}}let oo={},Jv=[];const Zv={};let vm="dataLayer",_I="gtag",Wv,op,e0=!1;function yI(){const s=[];if(VE()&&s.push("This is a browser extension environment."),Px()||s.push("Cookies are not available."),s.length>0){const e=s.map((r,o)=>`(${o+1}) ${r}`).join(" "),n=Rn.create("invalid-analytics-context",{errorInfo:e});an.warn(n.message)}}function vI(s,e,n){yI();const r=s.options.appId;if(!r)throw Rn.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)an.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Rn.create("no-api-key");if(oo[r]!=null)throw Rn.create("already-exists",{id:r});if(!e0){JR(vm);const{wrappedGtag:u,gtagCore:f}=tI(oo,Jv,Zv,vm,_I);op=u,Wv=f,e0=!0}return oo[r]=pI(s,Jv,Zv,e,Wv,vm,n),new gI(s)}function EI(s=tp()){s=ht(s);const e=la(s,ph);return e.isInitialized()?e.getImmediate():bI(s)}function bI(s,e={}){const n=la(s,ph);if(n.isInitialized()){const o=n.getImmediate();if(cs(e,n.getOptions()))return o;throw Rn.create("already-initialized")}return n.initialize({options:e})}function TI(s,e,n){s=ht(s),dI(op,oo[s.app.options.appId],e,n).catch(r=>an.error(r))}function AI(s,e,n,r){s=ht(s),fI(op,oo[s.app.options.appId],e,n,r).catch(o=>an.error(o))}const t0="@firebase/analytics",n0="0.10.19";function wI(){Bi(new oi(ph,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return vI(r,o,n)},"PUBLIC")),Bi(new oi("analytics-internal",s,"PRIVATE")),Hn(t0,n0),Hn(t0,n0,"esm2020");function s(e){try{const n=e.getProvider(ph).getImmediate();return{logEvent:(r,o,u)=>AI(n,r,o,u),setUserProperties:(r,o)=>TI(n,r,o)}}catch(n){throw Rn.create("interop-component-reg-failed",{reason:n})}}}wI();var i0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var lr,cb;(function(){var s;function e(N,S){function I(){}I.prototype=S.prototype,N.F=S.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(k,D,V){for(var R=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)R[Ge-2]=arguments[Ge];return S.prototype[D].apply(k,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,S,I){I||(I=0);const k=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)k[D]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(D=0;D<16;++D)k[D]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=N.g[0],I=N.g[1],D=N.g[2];let V=N.g[3],R;R=S+(V^I&(D^V))+k[0]+3614090360&4294967295,S=I+(R<<7&4294967295|R>>>25),R=V+(D^S&(I^D))+k[1]+3905402710&4294967295,V=S+(R<<12&4294967295|R>>>20),R=D+(I^V&(S^I))+k[2]+606105819&4294967295,D=V+(R<<17&4294967295|R>>>15),R=I+(S^D&(V^S))+k[3]+3250441966&4294967295,I=D+(R<<22&4294967295|R>>>10),R=S+(V^I&(D^V))+k[4]+4118548399&4294967295,S=I+(R<<7&4294967295|R>>>25),R=V+(D^S&(I^D))+k[5]+1200080426&4294967295,V=S+(R<<12&4294967295|R>>>20),R=D+(I^V&(S^I))+k[6]+2821735955&4294967295,D=V+(R<<17&4294967295|R>>>15),R=I+(S^D&(V^S))+k[7]+4249261313&4294967295,I=D+(R<<22&4294967295|R>>>10),R=S+(V^I&(D^V))+k[8]+1770035416&4294967295,S=I+(R<<7&4294967295|R>>>25),R=V+(D^S&(I^D))+k[9]+2336552879&4294967295,V=S+(R<<12&4294967295|R>>>20),R=D+(I^V&(S^I))+k[10]+4294925233&4294967295,D=V+(R<<17&4294967295|R>>>15),R=I+(S^D&(V^S))+k[11]+2304563134&4294967295,I=D+(R<<22&4294967295|R>>>10),R=S+(V^I&(D^V))+k[12]+1804603682&4294967295,S=I+(R<<7&4294967295|R>>>25),R=V+(D^S&(I^D))+k[13]+4254626195&4294967295,V=S+(R<<12&4294967295|R>>>20),R=D+(I^V&(S^I))+k[14]+2792965006&4294967295,D=V+(R<<17&4294967295|R>>>15),R=I+(S^D&(V^S))+k[15]+1236535329&4294967295,I=D+(R<<22&4294967295|R>>>10),R=S+(D^V&(I^D))+k[1]+4129170786&4294967295,S=I+(R<<5&4294967295|R>>>27),R=V+(I^D&(S^I))+k[6]+3225465664&4294967295,V=S+(R<<9&4294967295|R>>>23),R=D+(S^I&(V^S))+k[11]+643717713&4294967295,D=V+(R<<14&4294967295|R>>>18),R=I+(V^S&(D^V))+k[0]+3921069994&4294967295,I=D+(R<<20&4294967295|R>>>12),R=S+(D^V&(I^D))+k[5]+3593408605&4294967295,S=I+(R<<5&4294967295|R>>>27),R=V+(I^D&(S^I))+k[10]+38016083&4294967295,V=S+(R<<9&4294967295|R>>>23),R=D+(S^I&(V^S))+k[15]+3634488961&4294967295,D=V+(R<<14&4294967295|R>>>18),R=I+(V^S&(D^V))+k[4]+3889429448&4294967295,I=D+(R<<20&4294967295|R>>>12),R=S+(D^V&(I^D))+k[9]+568446438&4294967295,S=I+(R<<5&4294967295|R>>>27),R=V+(I^D&(S^I))+k[14]+3275163606&4294967295,V=S+(R<<9&4294967295|R>>>23),R=D+(S^I&(V^S))+k[3]+4107603335&4294967295,D=V+(R<<14&4294967295|R>>>18),R=I+(V^S&(D^V))+k[8]+1163531501&4294967295,I=D+(R<<20&4294967295|R>>>12),R=S+(D^V&(I^D))+k[13]+2850285829&4294967295,S=I+(R<<5&4294967295|R>>>27),R=V+(I^D&(S^I))+k[2]+4243563512&4294967295,V=S+(R<<9&4294967295|R>>>23),R=D+(S^I&(V^S))+k[7]+1735328473&4294967295,D=V+(R<<14&4294967295|R>>>18),R=I+(V^S&(D^V))+k[12]+2368359562&4294967295,I=D+(R<<20&4294967295|R>>>12),R=S+(I^D^V)+k[5]+4294588738&4294967295,S=I+(R<<4&4294967295|R>>>28),R=V+(S^I^D)+k[8]+2272392833&4294967295,V=S+(R<<11&4294967295|R>>>21),R=D+(V^S^I)+k[11]+1839030562&4294967295,D=V+(R<<16&4294967295|R>>>16),R=I+(D^V^S)+k[14]+4259657740&4294967295,I=D+(R<<23&4294967295|R>>>9),R=S+(I^D^V)+k[1]+2763975236&4294967295,S=I+(R<<4&4294967295|R>>>28),R=V+(S^I^D)+k[4]+1272893353&4294967295,V=S+(R<<11&4294967295|R>>>21),R=D+(V^S^I)+k[7]+4139469664&4294967295,D=V+(R<<16&4294967295|R>>>16),R=I+(D^V^S)+k[10]+3200236656&4294967295,I=D+(R<<23&4294967295|R>>>9),R=S+(I^D^V)+k[13]+681279174&4294967295,S=I+(R<<4&4294967295|R>>>28),R=V+(S^I^D)+k[0]+3936430074&4294967295,V=S+(R<<11&4294967295|R>>>21),R=D+(V^S^I)+k[3]+3572445317&4294967295,D=V+(R<<16&4294967295|R>>>16),R=I+(D^V^S)+k[6]+76029189&4294967295,I=D+(R<<23&4294967295|R>>>9),R=S+(I^D^V)+k[9]+3654602809&4294967295,S=I+(R<<4&4294967295|R>>>28),R=V+(S^I^D)+k[12]+3873151461&4294967295,V=S+(R<<11&4294967295|R>>>21),R=D+(V^S^I)+k[15]+530742520&4294967295,D=V+(R<<16&4294967295|R>>>16),R=I+(D^V^S)+k[2]+3299628645&4294967295,I=D+(R<<23&4294967295|R>>>9),R=S+(D^(I|~V))+k[0]+4096336452&4294967295,S=I+(R<<6&4294967295|R>>>26),R=V+(I^(S|~D))+k[7]+1126891415&4294967295,V=S+(R<<10&4294967295|R>>>22),R=D+(S^(V|~I))+k[14]+2878612391&4294967295,D=V+(R<<15&4294967295|R>>>17),R=I+(V^(D|~S))+k[5]+4237533241&4294967295,I=D+(R<<21&4294967295|R>>>11),R=S+(D^(I|~V))+k[12]+1700485571&4294967295,S=I+(R<<6&4294967295|R>>>26),R=V+(I^(S|~D))+k[3]+2399980690&4294967295,V=S+(R<<10&4294967295|R>>>22),R=D+(S^(V|~I))+k[10]+4293915773&4294967295,D=V+(R<<15&4294967295|R>>>17),R=I+(V^(D|~S))+k[1]+2240044497&4294967295,I=D+(R<<21&4294967295|R>>>11),R=S+(D^(I|~V))+k[8]+1873313359&4294967295,S=I+(R<<6&4294967295|R>>>26),R=V+(I^(S|~D))+k[15]+4264355552&4294967295,V=S+(R<<10&4294967295|R>>>22),R=D+(S^(V|~I))+k[6]+2734768916&4294967295,D=V+(R<<15&4294967295|R>>>17),R=I+(V^(D|~S))+k[13]+1309151649&4294967295,I=D+(R<<21&4294967295|R>>>11),R=S+(D^(I|~V))+k[4]+4149444226&4294967295,S=I+(R<<6&4294967295|R>>>26),R=V+(I^(S|~D))+k[11]+3174756917&4294967295,V=S+(R<<10&4294967295|R>>>22),R=D+(S^(V|~I))+k[2]+718787259&4294967295,D=V+(R<<15&4294967295|R>>>17),R=I+(V^(D|~S))+k[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+V&4294967295}r.prototype.v=function(N,S){S===void 0&&(S=N.length);const I=S-this.blockSize,k=this.C;let D=this.h,V=0;for(;V<S;){if(D==0)for(;V<=I;)o(this,N,V),V+=this.blockSize;if(typeof N=="string"){for(;V<S;)if(k[D++]=N.charCodeAt(V++),D==this.blockSize){o(this,k),D=0;break}}else for(;V<S;)if(k[D++]=N[V++],D==this.blockSize){o(this,k),D=0;break}}this.h=D,this.o+=S},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;S=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=S&255,S/=256;for(this.v(N),N=Array(16),S=0,I=0;I<4;++I)for(let k=0;k<32;k+=8)N[S++]=this.g[I]>>>k&255;return N};function u(N,S){var I=m;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=S(N)}function f(N,S){this.h=S;const I=[];let k=!0;for(let D=N.length-1;D>=0;D--){const V=N[D]|0;k&&V==S||(I[D]=V,k=!1)}this.g=I}var m={};function _(N){return-128<=N&&N<128?u(N,function(S){return new f([S|0],S<0?-1:0)}):new f([N|0],N<0?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return w;if(N<0)return ne(g(-N));const S=[];let I=1;for(let k=0;N>=I;k++)S[k]=N/I|0,I*=4294967296;return new f(S,0)}function b(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return ne(b(N.substring(1),S));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(S,8));let k=w;for(let V=0;V<N.length;V+=8){var D=Math.min(8,N.length-V);const R=parseInt(N.substring(V,V+D),S);D<8?(D=g(Math.pow(S,D)),k=k.j(D).add(g(R))):(k=k.j(I),k=k.add(g(R)))}return k}var w=_(0),x=_(1),q=_(16777216);s=f.prototype,s.m=function(){if(te(this))return-ne(this).m();let N=0,S=1;for(let I=0;I<this.g.length;I++){const k=this.i(I);N+=(k>=0?k:4294967296+k)*S,S*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if($(this))return"0";if(te(this))return"-"+ne(this).toString(N);const S=g(Math.pow(N,6));var I=this;let k="";for(;;){const D=De(I,S).g;I=oe(I,D.j(S));let V=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=D,$(I))return V+k;for(;V.length<6;)V="0"+V;k=V+k}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function $(N){if(N.h!=0)return!1;for(let S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function te(N){return N.h==-1}s.l=function(N){return N=oe(this,N),te(N)?-1:$(N)?0:1};function ne(N){const S=N.g.length,I=[];for(let k=0;k<S;k++)I[k]=~N.g[k];return new f(I,~N.h).add(x)}s.abs=function(){return te(this)?ne(this):this},s.add=function(N){const S=Math.max(this.g.length,N.g.length),I=[];let k=0;for(let D=0;D<=S;D++){let V=k+(this.i(D)&65535)+(N.i(D)&65535),R=(V>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);k=R>>>16,V&=65535,R&=65535,I[D]=R<<16|V}return new f(I,I[I.length-1]&-2147483648?-1:0)};function oe(N,S){return N.add(ne(S))}s.j=function(N){if($(this)||$(N))return w;if(te(this))return te(N)?ne(this).j(ne(N)):ne(ne(this).j(N));if(te(N))return ne(this.j(ne(N)));if(this.l(q)<0&&N.l(q)<0)return g(this.m()*N.m());const S=this.g.length+N.g.length,I=[];for(var k=0;k<2*S;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(let D=0;D<N.g.length;D++){const V=this.i(k)>>>16,R=this.i(k)&65535,Ge=N.i(D)>>>16,Ce=N.i(D)&65535;I[2*k+2*D]+=R*Ce,ye(I,2*k+2*D),I[2*k+2*D+1]+=V*Ce,ye(I,2*k+2*D+1),I[2*k+2*D+1]+=R*Ge,ye(I,2*k+2*D+1),I[2*k+2*D+2]+=V*Ge,ye(I,2*k+2*D+2)}for(N=0;N<S;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=S;N<2*S;N++)I[N]=0;return new f(I,0)};function ye(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function de(N,S){this.g=N,this.h=S}function De(N,S){if($(S))throw Error("division by zero");if($(N))return new de(w,w);if(te(N))return S=De(ne(N),S),new de(ne(S.g),ne(S.h));if(te(S))return S=De(N,ne(S)),new de(ne(S.g),S.h);if(N.g.length>30){if(te(N)||te(S))throw Error("slowDivide_ only works with positive integers.");for(var I=x,k=S;k.l(N)<=0;)I=Je(I),k=Je(k);var D=Ee(I,1),V=Ee(k,1);for(k=Ee(k,2),I=Ee(I,2);!$(k);){var R=V.add(k);R.l(N)<=0&&(D=D.add(I),V=R),k=Ee(k,1),I=Ee(I,1)}return S=oe(N,D.j(S)),new de(D,S)}for(D=w;N.l(S)>=0;){for(I=Math.max(1,Math.floor(N.m()/S.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),V=g(I),R=V.j(S);te(R)||R.l(N)>0;)I-=k,V=g(I),R=V.j(S);$(V)&&(V=x),D=D.add(V),N=oe(N,R)}return new de(D,N)}s.B=function(N){return De(this,N).h},s.and=function(N){const S=Math.max(this.g.length,N.g.length),I=[];for(let k=0;k<S;k++)I[k]=this.i(k)&N.i(k);return new f(I,this.h&N.h)},s.or=function(N){const S=Math.max(this.g.length,N.g.length),I=[];for(let k=0;k<S;k++)I[k]=this.i(k)|N.i(k);return new f(I,this.h|N.h)},s.xor=function(N){const S=Math.max(this.g.length,N.g.length),I=[];for(let k=0;k<S;k++)I[k]=this.i(k)^N.i(k);return new f(I,this.h^N.h)};function Je(N){const S=N.g.length+1,I=[];for(let k=0;k<S;k++)I[k]=N.i(k)<<1|N.i(k-1)>>>31;return new f(I,N.h)}function Ee(N,S){const I=S>>5;S%=32;const k=N.g.length-I,D=[];for(let V=0;V<k;V++)D[V]=S>0?N.i(V+I)>>>S|N.i(V+I+1)<<32-S:N.i(V+I);return new f(D,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,cb=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=b,lr=f}).apply(typeof i0<"u"?i0:typeof self<"u"?self:typeof window<"u"?window:{});var Yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var hb,zl,fb,th,Vm,db,mb,pb;(function(){var s,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yc=="object"&&Yc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function o(c,p){if(p)e:{var v=r;c=c.split(".");for(var A=0;A<c.length-1;A++){var L=c[A];if(!(L in v))break e;v=v[L]}c=c[c.length-1],A=v[c],p=p(A),p!=A&&p!=null&&e(v,c,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(p){var v=[],A;for(A in p)Object.prototype.hasOwnProperty.call(p,A)&&v.push([A,p[A]]);return v}});var u=u||{},f=this||self;function m(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function _(c,p,v){return c.call.apply(c.bind,arguments)}function g(c,p,v){return g=_,g.apply(null,arguments)}function b(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function w(c,p){function v(){}v.prototype=p.prototype,c.Z=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,L,F){for(var ie=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)ie[Re-2]=arguments[Re];return p.prototype[L].apply(A,ie)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function q(c){const p=c.length;if(p>0){const v=Array(p);for(let A=0;A<p;A++)v[A]=c[A];return v}return[]}function $(c,p){for(let A=1;A<arguments.length;A++){const L=arguments[A];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=c.length||0;const F=L.length||0;c.length=v+F;for(let ie=0;ie<F;ie++)c[v+ie]=L[ie]}else c.push(L)}}class te{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function ne(c){f.setTimeout(()=>{throw c},0)}function oe(){var c=N;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class ye{constructor(){this.h=this.g=null}add(p,v){const A=de.get();A.set(p,v),this.h?this.h.next=A:this.g=A,this.h=A}}var de=new te(()=>new De,c=>c.reset());class De{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Je,Ee=!1,N=new ye,S=()=>{const c=Promise.resolve(void 0);Je=()=>{c.then(I)}};function I(){for(var c;c=oe();){try{c.h.call(c.g)}catch(v){ne(v)}var p=de;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}Ee=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,p),f.removeEventListener("test",v,p)}catch{}return c})();function R(c){return/^[\s\xa0]*$/.test(c)}function Ge(c,p){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}w(Ge,D),Ge.prototype.init=function(c,p){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Ge.Z.h.call(this)},Ge.prototype.h=function(){Ge.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ce="closure_listenable_"+(Math.random()*1e6|0),H=0;function W(c,p,v,A,L){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!A,this.ha=L,this.key=++H,this.da=this.fa=!1}function ce(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function xe(c,p,v){for(const A in c)p.call(v,c[A],A,c)}function me(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function C(c){const p={};for(const v in c)p[v]=c[v];return p}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K(c,p){let v,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(v in A)c[v]=A[v];for(let F=0;F<j.length;F++)v=j[F],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function ee(c){this.src=c,this.g={},this.h=0}ee.prototype.add=function(c,p,v,A,L){const F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);const ie=ae(c,p,A,L);return ie>-1?(p=c[ie],v||(p.fa=!1)):(p=new W(p,this.src,F,!!A,L),p.fa=v,c.push(p)),p};function he(c,p){const v=p.type;if(v in c.g){var A=c.g[v],L=Array.prototype.indexOf.call(A,p,void 0),F;(F=L>=0)&&Array.prototype.splice.call(A,L,1),F&&(ce(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function ae(c,p,v,A){for(let L=0;L<c.length;++L){const F=c[L];if(!F.da&&F.listener==p&&F.capture==!!v&&F.ha==A)return L}return-1}var Te="closure_lm_"+(Math.random()*1e6|0),ze={};function Ze(c,p,v,A,L){if(Array.isArray(p)){for(let F=0;F<p.length;F++)Ze(c,p[F],v,A,L);return null}return v=ko(v),c&&c[Ce]?c.J(p,v,m(A)?!!A.capture:!1,L):on(c,p,v,!1,A,L)}function on(c,p,v,A,L,F){if(!p)throw Error("Invalid event type");const ie=m(L)?!!L.capture:!!L;let Re=Tr(c);if(Re||(c[Te]=Re=new ee(c)),v=Re.add(p,v,A,ie,F),v.proxy)return v;if(A=ys(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)V||(L=ie),L===void 0&&(L=!1),c.addEventListener(p.toString(),A,L);else if(c.attachEvent)c.attachEvent(hi(p.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ys(){function c(v){return p.call(c.src,c.listener,v)}const p=Mo;return c}function vs(c,p,v,A,L){if(Array.isArray(p))for(var F=0;F<p.length;F++)vs(c,p[F],v,A,L);else A=m(A)?!!A.capture:!!A,v=ko(v),c&&c[Ce]?(c=c.i,F=String(p).toString(),F in c.g&&(p=c.g[F],v=ae(p,v,A,L),v>-1&&(ce(p[v]),Array.prototype.splice.call(p,v,1),p.length==0&&(delete c.g[F],c.h--)))):c&&(c=Tr(c))&&(p=c.g[p.toString()],c=-1,p&&(c=ae(p,v,A,L)),(v=c>-1?p[c]:null)&&Es(v))}function Es(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Ce])he(p.i,c);else{var v=c.type,A=c.proxy;p.removeEventListener?p.removeEventListener(v,A,c.capture):p.detachEvent?p.detachEvent(hi(v),A):p.addListener&&p.removeListener&&p.removeListener(A),(v=Tr(p))?(he(v,c),v.h==0&&(v.src=null,p[Te]=null)):ce(c)}}}function hi(c){return c in ze?ze[c]:ze[c]="on"+c}function Mo(c,p){if(c.da)c=!0;else{p=new Ge(p,this);const v=c.listener,A=c.ha||c.src;c.fa&&Es(c),c=v.call(A,p)}return c}function Tr(c){return c=c[Te],c instanceof ee?c:null}var Vo="__closure_events_fn_"+(Math.random()*1e9>>>0);function ko(c){return typeof c=="function"?c:(c[Vo]||(c[Vo]=function(p){return c.handleEvent(p)}),c[Vo])}function Et(){k.call(this),this.i=new ee(this),this.M=this,this.G=null}w(Et,k),Et.prototype[Ce]=!0,Et.prototype.removeEventListener=function(c,p,v,A){vs(this,c,p,v,A)};function Ot(c,p){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=p.type||p,typeof p=="string")p=new D(p,c);else if(p instanceof D)p.target=p.target||c;else{var L=p;p=new D(A,c),K(p,L)}L=!0;let F,ie;if(v)for(ie=v.length-1;ie>=0;ie--)F=p.g=v[ie],L=bs(F,A,!0,p)&&L;if(F=p.g=c,L=bs(F,A,!0,p)&&L,L=bs(F,A,!1,p)&&L,v)for(ie=0;ie<v.length;ie++)F=p.g=v[ie],L=bs(F,A,!1,p)&&L}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const v=c.g[p];for(let A=0;A<v.length;A++)ce(v[A]);delete c.g[p],c.h--}}this.G=null},Et.prototype.J=function(c,p,v,A){return this.i.add(String(c),p,!1,v,A)},Et.prototype.K=function(c,p,v,A){return this.i.add(String(c),p,!0,v,A)};function bs(c,p,v,A){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let L=!0;for(let F=0;F<p.length;++F){const ie=p[F];if(ie&&!ie.da&&ie.capture==v){const Re=ie.listener,gt=ie.ha||ie.src;ie.fa&&he(c.i,ie),L=Re.call(gt,A)!==!1&&L}}return L&&!A.defaultPrevented}function lf(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(c,p||0)}function yu(c){c.g=lf(()=>{c.g=null,c.i&&(c.i=!1,yu(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class en extends k{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:yu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ar(c){k.call(this),this.h=c,this.g={}}w(Ar,k);var jo=[];function Po(c){xe(c.g,function(p,v){this.g.hasOwnProperty(v)&&Es(p)},c),c.g={}}Ar.prototype.N=function(){Ar.Z.N.call(this),Po(this)},Ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ts=f.JSON.stringify,uf=f.JSON.parse,vu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Eu(){}function bu(){}var Fn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){D.call(this,"d")}w(zt,D);function Nn(){D.call(this,"c")}w(Nn,D);var pt={},Tu=null;function fa(){return Tu=Tu||new Et}pt.Ia="serverreachability";function Au(c){D.call(this,pt.Ia,c)}w(Au,D);function fi(c){const p=fa();Ot(p,new Au(p))}pt.STAT_EVENT="statevent";function wr(c,p){D.call(this,pt.STAT_EVENT,c),this.stat=p}w(wr,D);function bt(c){const p=fa();Ot(p,new wr(p,c))}pt.Ja="timingevent";function di(c,p){D.call(this,pt.Ja,c),this.size=p}w(di,D);function mi(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},p)}function Gn(){this.g=!0}Gn.prototype.ua=function(){this.g=!1};function cf(c,p,v,A,L,F){c.info(function(){if(c.g)if(F){var ie="",Re=F.split("&");for(let Ke=0;Ke<Re.length;Ke++){var gt=Re[Ke].split("=");if(gt.length>1){const lt=gt[0];gt=gt[1];const Vn=lt.split("_");ie=Vn.length>=2&&Vn[1]=="type"?ie+(lt+"="+gt+"&"):ie+(lt+"=redacted&")}}}else ie=null;else ie=F;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+p+`
`+v+`
`+ie})}function wu(c,p,v,A,L,F,ie){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+p+`
`+v+`
`+F+" "+ie})}function pi(c,p,v,A){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+hf(c,v)+(A?" "+A:"")})}function Sr(c,p){c.info(function(){return"TIMEOUT: "+p})}Gn.prototype.info=function(){};function hf(c,p){if(!c.g)return p;if(!p)return null;try{const F=JSON.parse(p);if(F){for(c=0;c<F.length;c++)if(Array.isArray(F[c])){var v=F[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var L=A[0];if(L!="noop"&&L!="stop"&&L!="close")for(let ie=1;ie<A.length;ie++)A[ie]=""}}}}return Ts(F)}catch{return p}}var xr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Lo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Uo;function Rr(){}w(Rr,Eu),Rr.prototype.g=function(){return new XMLHttpRequest},Uo=new Rr;function Hi(c){return encodeURIComponent(String(c))}function Su(c){var p=1;c=c.split(":");const v=[];for(;p>0&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function Kn(c,p,v,A){this.j=c,this.i=p,this.l=v,this.S=A||1,this.V=new Ar(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qn}function Qn(){this.i=null,this.g="",this.h=!1}var Tt={},kt={};function gi(c,p,v){c.M=1,c.A=Ir(wt(p)),c.u=v,c.R=!0,da(c,null)}function da(c,p){c.F=Date.now(),_i(c),c.B=wt(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),_a(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Qn,c.g=zu(c.j,v?p:null,!c.u),c.P>0&&(c.O=new en(g(c.Y,c,c.g),c.P)),p=c.V,v=c.g,A=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(jo[0]=L.toString()),L=jo);for(let F=0;F<L.length;F++){const ie=Ze(v,L[F],A||p.handleEvent,!1,p.h||p);if(!ie)break;p.g[ie.key]=ie}p=c.J?C(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),fi(),cf(c.i,c.v,c.B,c.l,c.S,c.u)}Kn.prototype.ba=function(c){c=c.target;const p=this.O;p&&$n(c)==3?p.j():this.Y(c)},Kn.prototype.Y=function(c){try{if(c==this.g)e:{const Re=$n(this.g),gt=this.g.ya(),Ke=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||Re!=4||gt==7||(gt==8||Ke<=0?fi(3):fi(2)),yi(this);var p=this.g.ca();this.X=p;var v=ff(this);if(this.o=p==200,wu(this.i,this.v,this.B,this.l,this.S,Re,p),this.o){if(this.U&&!this.L){t:{if(this.g){var A,L=this.g;if((A=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var F=A;break t}}F=null}if(c=F)pi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vi(this,c);else{this.o=!1,this.m=3,bt(12),gn(this),Dn(this);break e}}if(this.R){c=!0;let lt;for(;!this.K&&this.C<v.length;)if(lt=Ru(this,v),lt==kt){Re==4&&(this.m=4,bt(14),c=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==Tt){this.m=4,bt(15),pi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else pi(this.i,this.l,lt,null),vi(this,lt);if(xu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||v.length!=0||this.h.h||(this.m=1,bt(16),c=!1),this.o=this.o&&c,!c)pi(this.i,this.l,v,"[Invalid Chunked Response]"),gn(this),Dn(this);else if(v.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),el(ie),ie.P=!0,bt(11))}}else pi(this.i,this.l,v,null),vi(this,v);Re==4&&gn(this),this.o&&!this.K&&(Re==4?ju(this.j,this):(this.o=!1,_i(this)))}else Gi(this.g),p==400&&v.indexOf("Unknown SID")>0?(this.m=3,bt(12)):(this.m=0,bt(13)),gn(this),Dn(this)}}}catch{}};function ff(c){if(!xu(c))return c.g.la();const p=Bt(c.g);if(p==="")return"";let v="";const A=p.length,L=$n(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return gn(c),Dn(c),"";c.h.i=new f.TextDecoder}for(let F=0;F<A;F++)c.h.h=!0,v+=c.h.i.decode(p[F],{stream:!(L&&F==A-1)});return p.length=0,c.h.g+=v,c.C=0,c.h.g}function xu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Ru(c,p){var v=c.C,A=p.indexOf(`
`,v);return A==-1?kt:(v=Number(p.substring(v,A)),isNaN(v)?Tt:(A+=1,A+v>p.length?kt:(p=p.slice(A,A+v),c.C=A+v,p)))}Kn.prototype.cancel=function(){this.K=!0,gn(this)};function _i(c){c.T=Date.now()+c.H,ma(c,c.H)}function ma(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=mi(g(c.aa,c),p)}function yi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Kn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Sr(this.i,this.B),this.M!=2&&(fi(),bt(17)),gn(this),this.m=2,Dn(this)):ma(this,this.T-c)};function Dn(c){c.j.I==0||c.K||ju(c.j,c)}function gn(c){yi(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,Po(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function vi(c,p){try{var v=c.j;if(v.I!=0&&(v.g==c||bi(v.h,c))){if(!c.L&&bi(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Ta(v),Ns(v);else break e;kr(v),bt(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=mi(g(v.Va,v),6e3));Ei(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ri(v,11)}else if((c.L||v.g==c)&&Ta(v),!R(p))for(L=v.Ba.g.parse(p),p=0;p<L.length;p++){let Ke=L[p];const lt=Ke[0];if(!(lt<=v.K))if(v.K=lt,Ke=Ke[1],v.I==2)if(Ke[0]=="c"){v.M=Ke[1],v.ba=Ke[2];const Vn=Ke[3];Vn!=null&&(v.ka=Vn,v.j.info("VER="+v.ka));const Ii=Ke[4];Ii!=null&&(v.za=Ii,v.j.info("SVER="+v.za));const Jn=Ke[5];Jn!=null&&typeof Jn=="number"&&Jn>0&&(A=1.5*Jn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Zn=c.g;if(Zn){const jr=Zn.g?Zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jr){var F=A.h;F.g||jr.indexOf("spdy")==-1&&jr.indexOf("quic")==-1&&jr.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(qo(F,F.h),F.h=null))}if(A.G){const Aa=Zn.g?Zn.g.getResponseHeader("X-HTTP-Session-Id"):null;Aa&&(A.wa=Aa,Ye(A.J,A.G,Aa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var ie=c;if(A.na=Uu(A,A.L?A.ba:null,A.W),ie.L){Ho(A.h,ie);var Re=ie,gt=A.O;gt&&(Re.H=gt),Re.D&&(yi(Re),_i(Re)),A.g=ie}else Vu(A);v.i.length>0&&xi(v)}else Ke[0]!="stop"&&Ke[0]!="close"||Ri(v,7);else v.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Ri(v,7):Zo(v):Ke[0]!="noop"&&v.l&&v.l.qa(Ke),v.A=0)}}fi(4)}catch{}}var At=class{constructor(c,p){this.g=c,this.map=p}};function zo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Bo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ei(c){return c.h?1:c.g?c.g.size:0}function bi(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function qo(c,p){c.g?c.g.add(p):c.h=p}function Ho(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}zo.prototype.cancel=function(){if(this.i=Fo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Fo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.G);return p}return q(c.i)}var Iu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pa(c,p){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let L,F=null;A>=0?(L=c[v].substring(0,A),F=c[v].substring(A+1)):L=c[v],p(L,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function _n(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof _n?(this.l=c.l,jt(this,c.j),this.o=c.o,this.g=c.g,As(this,c.u),this.h=c.h,Go(this,Ou(c.i)),this.m=c.m):c&&(p=String(c).match(Iu))?(this.l=!1,jt(this,p[1]||"",!0),this.o=Ti(p[2]||""),this.g=Ti(p[3]||"",!0),As(this,p[4]),this.h=Ti(p[5]||"",!0),Go(this,p[6]||"",!0),this.m=Ti(p[7]||"")):(this.l=!1,this.i=new Ss(null,this.l))}_n.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(Cr(p,ga,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Cr(p,ga,!0),"@"),c.push(Hi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Cr(v,v.charAt(0)=="/"?Ko:Cu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Cr(v,Nu)),c.join("")},_n.prototype.resolve=function(c){const p=wt(this);let v=!!c.j;v?jt(p,c.j):v=!!c.o,v?p.o=c.o:v=!!c.g,v?p.g=c.g:v=c.u!=null;var A=c.h;if(v)As(p,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var L=p.h.lastIndexOf("/");L!=-1&&(A=p.h.slice(0,L+1)+A)}if(L=A,L==".."||L==".")A="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){A=L.lastIndexOf("/",0)==0,L=L.split("/");const F=[];for(let ie=0;ie<L.length;){const Re=L[ie++];Re=="."?A&&ie==L.length&&F.push(""):Re==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),A&&ie==L.length&&F.push("")):(F.push(Re),A=!0)}A=F.join("/")}else A=L}return v?p.h=A:v=c.i.toString()!=="",v?Go(p,Ou(c.i)):v=!!c.m,v&&(p.m=c.m),p};function wt(c){return new _n(c)}function jt(c,p,v){c.j=v?Ti(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function As(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function Go(c,p,v){p instanceof Ss?(c.i=p,ya(c.i,c.l)):(v||(p=Cr(p,ws)),c.i=new Ss(p,c.l))}function Ye(c,p,v){c.i.set(p,v)}function Ir(c){return Ye(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ti(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Cr(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,ln),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ln(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ga=/[#\/\?@]/g,Cu=/[#\?:]/g,Ko=/[#\?]/g,ws=/[#\?@]/g,Nu=/#/g;function Ss(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function un(c){c.g||(c.g=new Map,c.h=0,c.i&&pa(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}s=Ss.prototype,s.add=function(c,p){un(this),this.i=null,c=xs(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function Du(c,p){un(c),p=xs(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Qo(c,p){return un(c),p=xs(c,p),c.g.has(p)}s.forEach=function(c,p){un(this),this.g.forEach(function(v,A){v.forEach(function(L){c.call(p,L,A,this)},this)},this)};function Yo(c,p){un(c);let v=[];if(typeof p=="string")Qo(c,p)&&(v=v.concat(c.g.get(xs(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)v=v.concat(c[p]);return v}s.set=function(c,p){return un(this),this.i=null,c=xs(this,c),Qo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},s.get=function(c,p){return c?(c=Yo(this,c),c.length>0?String(c[0]):p):p};function _a(c,p,v){Du(c,p),v.length>0&&(c.i=null,c.g.set(xs(c,p),q(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let A=0;A<p.length;A++){var v=p[A];const L=Hi(v);v=Yo(this,v);for(let F=0;F<v.length;F++){let ie=L;v[F]!==""&&(ie+="="+Hi(v[F])),c.push(ie)}}return this.i=c.join("&")};function Ou(c){const p=new Ss;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function xs(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function ya(c,p){p&&!c.j&&(un(c),c.i=null,c.g.forEach(function(v,A){const L=A.toLowerCase();A!=L&&(Du(this,A),_a(this,L,v))},c)),c.j=p}function Yn(c,p){const v=new Gn;if(f.Image){const A=new Image;A.onload=b(On,v,"TestLoadImage: loaded",!0,p,A),A.onerror=b(On,v,"TestLoadImage: error",!1,p,A),A.onabort=b(On,v,"TestLoadImage: abort",!1,p,A),A.ontimeout=b(On,v,"TestLoadImage: timeout",!1,p,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else p(!1)}function Xo(c,p){const v=new Gn,A=new AbortController,L=setTimeout(()=>{A.abort(),On(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:A.signal}).then(F=>{clearTimeout(L),F.ok?On(v,"TestPingServer: ok",!0,p):On(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),On(v,"TestPingServer: error",!1,p)})}function On(c,p,v,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(v)}catch{}}function Rs(){this.g=new vu}function Ai(c){this.i=c.Sb||null,this.h=c.ab||!1}w(Ai,Eu),Ai.prototype.g=function(){return new Nr(this.i,this.h)};function Nr(c,p){Et.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Nr,Et),s=Nr.prototype,s.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,Xn(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Is(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;va(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function va(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Is(this):Xn(this),this.readyState==3&&va(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,Is(this))},s.Na=function(c){this.g&&(this.response=c,Is(this))},s.ga=function(){this.g&&Is(this)};function Is(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Xn(c)}s.setRequestHeader=function(c,p){this.A.append(c,p)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function Xn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Nr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Mn(c){let p="";return xe(c,function(v,A){p+=A,p+=":",p+=v,p+=`\r
`}),p}function Dr(c,p,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Mn(v),typeof c=="string"?v!=null&&Hi(v):Ye(c,p,v))}function We(c){Et.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(We,Et);var wi=/^https?$/i,$o=["POST","PUT"];s=We.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,p,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Uo.g(),this.g.onreadystatechange=x(g(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(F){Or(this,F);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)v.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const F of A.keys())v.set(F,A.get(F));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(F=>F.toLowerCase()=="content-type"),L=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call($o,p,void 0)>=0)||A||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,ie]of v)this.g.setRequestHeader(F,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(F){Or(this,F)}};function Or(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,Jo(c),Fi(c)}function Jo(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ot(this,"complete"),Ot(this,"abort"),Fi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fi(this,!0)),We.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Mr(this):this.Xa())},s.Xa=function(){Mr(this)};function Mr(c){if(c.h&&typeof u<"u"){if(c.v&&$n(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ot(c,"readystatechange"),$n(c)==4){c.h=!1;try{const F=c.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var A;if(A=F===0){let ie=String(c.D).match(Iu)[1]||null;!ie&&f.self&&f.self.location&&(ie=f.self.location.protocol.slice(0,-1)),A=!wi.test(ie?ie.toLowerCase():"")}v=A}if(v)Ot(c,"complete"),Ot(c,"success");else{c.o=6;try{var L=$n(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",Jo(c)}}finally{Fi(c)}}}}function Fi(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,p||Ot(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function $n(c){return c.g?c.g.readyState:0}s.ca=function(){try{return $n(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),uf(p)}};function Bt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Gi(c){const p={};c=(c.g&&$n(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(R(c[A]))continue;var v=Su(c[A]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const F=p[L]||[];p[L]=F,F.push(v)}me(p,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function Cs(c){this.za=0,this.i=[],this.j=new Gn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,c),this.Za=Si("retryDelaySeedMs",1e4,c),this.Ta=Si("forwardChannelMaxRetries",2,c),this.va=Si("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new zo(c&&c.concurrentRequestLimit),this.Ba=new Rs,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Cs.prototype,s.ka=8,s.I=1,s.connect=function(c,p,v,A){bt(0),this.W=c,this.H=p||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Uu(this,null,this.W),xi(this)};function Zo(c){if(Ea(c),c.I==3){var p=c.V++,v=wt(c.J);if(Ye(v,"SID",c.M),Ye(v,"RID",p),Ye(v,"TYPE","terminate"),Vr(c,v),p=new Kn(c,c.j,p),p.M=2,p.A=Ir(wt(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=p.A,v=!0),v||(p.g=zu(p.j,null),p.g.ea(p.A)),p.F=Date.now(),_i(p)}Lu(c)}function Ns(c){c.g&&(el(c),c.g.cancel(),c.g=null)}function Ea(c){Ns(c),c.v&&(f.clearTimeout(c.v),c.v=null),Ta(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function xi(c){if(!Bo(c.h)&&!c.m){c.m=!0;var p=c.Ea;Je||S(),Ee||(Je(),Ee=!0),N.add(p,c),c.D=0}}function ba(c,p){return Ei(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=mi(g(c.Ea,c,p),Pu(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new Kn(this,this.j,c);let F=this.o;if(this.U&&(F?(F=C(F),K(F,this.U)):F=this.U),this.u!==null||this.R||(L.J=F,F=null),this.S)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(p+=A,p>4096){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=Mu(this,L,p),v=wt(this.J),Ye(v,"RID",c),Ye(v,"CVER",22),this.G&&Ye(v,"X-HTTP-Session-Id",this.G),Vr(this,v),F&&(this.R?p="headers="+Hi(Mn(F))+"&"+p:this.u&&Dr(v,this.u,F)),qo(this.h,L),this.Ra&&Ye(v,"TYPE","init"),this.S?(Ye(v,"$req",p),Ye(v,"SID","null"),L.U=!0,gi(L,v,null)):gi(L,v,p),this.I=2}}else this.I==3&&(c?Wo(this,c):this.i.length==0||Bo(this.h)||Wo(this))};function Wo(c,p){var v;p?v=p.l:v=c.V++;const A=wt(c.J);Ye(A,"SID",c.M),Ye(A,"RID",v),Ye(A,"AID",c.K),Vr(c,A),c.u&&c.o&&Dr(A,c.u,c.o),v=new Kn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),p&&(c.i=p.G.concat(c.i)),p=Mu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),qo(c.h,v),gi(v,A,p)}function Vr(c,p){c.H&&xe(c.H,function(v,A){Ye(p,A,v)}),c.l&&xe({},function(v,A){Ye(p,A,v)})}function Mu(c,p,v){v=Math.min(c.i.length,v);const A=c.l?g(c.l.Ka,c.l,c):null;e:{var L=c.i;let Re=-1;for(;;){const gt=["count="+v];Re==-1?v>0?(Re=L[0].g,gt.push("ofs="+Re)):Re=0:gt.push("ofs="+Re);let Ke=!0;for(let lt=0;lt<v;lt++){var F=L[lt].g;const Vn=L[lt].map;if(F-=Re,F<0)Re=Math.max(0,L[lt].g-100),Ke=!1;else try{F="req"+F+"_"||"";try{var ie=Vn instanceof Map?Vn:Object.entries(Vn);for(const[Ii,Jn]of ie){let Zn=Jn;m(Jn)&&(Zn=Ts(Jn)),gt.push(F+Ii+"="+encodeURIComponent(Zn))}}catch(Ii){throw gt.push(F+"type="+encodeURIComponent("_badmap")),Ii}}catch{A&&A(Vn)}}if(Ke){ie=gt.join("&");break e}}ie=void 0}return c=c.i.splice(0,v),p.G=c,ie}function Vu(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;Je||S(),Ee||(Je(),Ee=!0),N.add(p,c),c.A=0}}function kr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=mi(g(c.Da,c),Pu(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,ku(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=mi(g(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,bt(10),Ns(this),ku(this))};function el(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function ku(c){c.g=new Kn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=wt(c.na);Ye(p,"RID","rpc"),Ye(p,"SID",c.M),Ye(p,"AID",c.K),Ye(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ye(p,"TO",c.ia),Ye(p,"TYPE","xmlhttp"),Vr(c,p),c.u&&c.o&&Dr(p,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Ir(wt(p)),v.u=null,v.R=!0,da(v,c)}s.Va=function(){this.C!=null&&(this.C=null,Ns(this),kr(this),bt(19))};function Ta(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function ju(c,p){var v=null;if(c.g==p){Ta(c),el(c),c.g=null;var A=2}else if(bi(c.h,p))v=p.G,Ho(c.h,p),A=1;else return;if(c.I!=0){if(p.o)if(A==1){v=p.u?p.u.length:0,p=Date.now()-p.F;var L=c.D;A=fa(),Ot(A,new di(A,v)),xi(c)}else Vu(c);else if(L=p.m,L==3||L==0&&p.X>0||!(A==1&&ba(c,p)||A==2&&kr(c)))switch(v&&v.length>0&&(p=c.h,p.i=p.i.concat(v)),L){case 1:Ri(c,5);break;case 4:Ri(c,10);break;case 3:Ri(c,6);break;default:Ri(c,2)}}}function Pu(c,p){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*p}function Ri(c,p){if(c.j.info("Error code "+p),p==2){var v=g(c.bb,c),A=c.Ua;const L=!A;A=new _n(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||jt(A,"https"),Ir(A),L?Yn(A.toString(),v):Xo(A.toString(),v)}else bt(2);c.I=0,c.l&&c.l.pa(p),Lu(c),Ea(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function Lu(c){if(c.I=0,c.ja=[],c.l){const p=Fo(c.h);(p.length!=0||c.i.length!=0)&&($(c.ja,p),$(c.ja,c.i),c.h.i.length=0,q(c.i),c.i.length=0),c.l.oa()}}function Uu(c,p,v){var A=v instanceof _n?wt(v):new _n(v);if(A.g!="")p&&(A.g=p+"."+A.g),As(A,A.u);else{var L=f.location;A=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;const F=new _n(null);A&&jt(F,A),p&&(F.g=p),L&&As(F,L),v&&(F.h=v),A=F}return v=c.G,p=c.wa,v&&p&&Ye(A,v,p),Ye(A,"VER",c.ka),Vr(c,A),A}function zu(c,p,v){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new We(new Ai({ab:v})):new We(c.ma),p.Fa(c.L),p}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bu(){}s=Bu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ds(){}Ds.prototype.g=function(c,p){return new tn(c,p)};function tn(c,p){Et.call(this),this.g=new Cs(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!R(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!R(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Ki(this)}w(tn,Et),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Zo(this.g)},tn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Ts(c),c=v);p.i.push(new At(p.Ya++,c)),p.I==3&&xi(p)},tn.prototype.N=function(){this.g.l=null,delete this.j,Zo(this.g),delete this.g,tn.Z.N.call(this)};function qu(c){zt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const v in p){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}w(qu,zt);function Hu(){Nn.call(this),this.status=1}w(Hu,Nn);function Ki(c){this.g=c}w(Ki,Bu),Ki.prototype.ra=function(){Ot(this.g,"a")},Ki.prototype.qa=function(c){Ot(this.g,new qu(c))},Ki.prototype.pa=function(c){Ot(this.g,new Hu)},Ki.prototype.oa=function(){Ot(this.g,"b")},Ds.prototype.createWebChannel=Ds.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,pb=function(){return new Ds},mb=function(){return fa()},db=pt,Vm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},xr.NO_ERROR=0,xr.TIMEOUT=8,xr.HTTP_ERROR=6,th=xr,Lo.COMPLETE="complete",fb=Lo,bu.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",Et.prototype.listen=Et.prototype.J,zl=bu,We.prototype.listenOnce=We.prototype.K,We.prototype.getLastError=We.prototype.Ha,We.prototype.getLastErrorCode=We.prototype.ya,We.prototype.getStatus=We.prototype.ca,We.prototype.getResponseJson=We.prototype.La,We.prototype.getResponseText=We.prototype.la,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Fa,hb=We}).apply(typeof Yc<"u"?Yc:typeof self<"u"?self:typeof window<"u"?window:{});class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");let xo="12.8.0";function SI(s){xo=s}const sa=new jh("@firebase/firestore");function eo(){return sa.logLevel}function le(s,...e){if(sa.logLevel<=je.DEBUG){const n=e.map(lp);sa.debug(`Firestore (${xo}): ${s}`,...n)}}function fs(s,...e){if(sa.logLevel<=je.ERROR){const n=e.map(lp);sa.error(`Firestore (${xo}): ${s}`,...n)}}function po(s,...e){if(sa.logLevel<=je.WARN){const n=e.map(lp);sa.warn(`Firestore (${xo}): ${s}`,...n)}}function lp(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function _e(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,gb(s,r,n)}function gb(s,e,n){let r=`FIRESTORE (${xo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw fs(r),new Error(r)}function qe(s,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||gb(e,o,r)}function we(s,e){return s}const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends ci{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ji{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class _b{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Zt.UNAUTHENTICATED)))}shutdown(){}}class RI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class II{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){qe(this.o===void 0,42304);let r=this.i;const o=_=>this.i!==r?(r=this.i,n(_)):Promise.resolve();let u=new ji;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ji,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const _=u;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},m=_=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((_=>m(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?m(_):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ji)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qe(typeof r.accessToken=="string",31837,{l:r}),new _b(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class CI{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class NI{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new CI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class s0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ii(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){qe(this.o===void 0,3512);const r=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new s0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new s0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function OI(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class up{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=OI(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=e.charAt(o[u]%62))}return r}}function Pe(s,e){return s<e?-1:s>e?1:0}function km(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const o=s.charAt(r),u=e.charAt(r);if(o!==u)return Em(o)===Em(u)?Pe(o,u):Em(o)?1:-1}return Pe(s.length,e.length)}const MI=55296,VI=57343;function Em(s){const e=s.charCodeAt(0);return e>=MI&&e<=VI}function go(s,e,n){return s.length===e.length&&s.every(((r,o)=>n(r,e[o])))}const r0="__name__";class ki{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&_e(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ki.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ki?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const u=ki.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Pe(e.length,n.length)}static compareSegments(e,n){const r=ki.isNumericId(e),o=ki.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?ki.extractNumericId(e).compare(ki.extractNumericId(n)):km(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return lr.fromString(e.substring(4,e.length-2))}}class it extends ki{construct(e,n,r){return new it(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new re(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new it(n)}static emptyPath(){return new it([])}}const kI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends ki{construct(e,n,r){return new Qt(e,n,r)}static isValidIdentifier(e){return kI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===r0}static keyField(){return new Qt([r0])}static fromServerFormat(e){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new re(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new re(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new re(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(r+=m,o++):(u(),o++)}if(u(),f)throw new re(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(it.fromString(e))}static fromName(e){return new pe(it.fromString(e).popFirst(5))}static empty(){return new pe(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new it(e.slice()))}}function yb(s,e,n){if(!n)throw new re(Y.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function jI(s,e,n,r){if(e===!0&&r===!0)throw new re(Y.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function a0(s){if(!pe.isDocumentKey(s))throw new re(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function o0(s){if(pe.isDocumentKey(s))throw new re(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function vb(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Uh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":_e(12329,{type:typeof s})}function In(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new re(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Uh(s);throw new re(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function Dt(s,e){const n={typeString:s};return e&&(n.value=e),n}function lu(s,e){if(!vb(s))throw new re(Y.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const f=s[r];if(o&&typeof f!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new re(Y.INVALID_ARGUMENT,n);return!0}const l0=-62135596800,u0=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*u0);return new ot(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new re(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new re(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<l0)throw new re(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/u0}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(lu(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-l0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:Dt("string",ot._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new ot(0,0))}static max(){return new be(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Zl=-1;function PI(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=be.fromTimestamp(r===1e9?new ot(n+1,0):new ot(n,r));return new fr(o,pe.empty(),e)}function LI(s){return new fr(s.readTime,s.key,Zl)}class fr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new fr(be.min(),pe.empty(),Zl)}static max(){return new fr(be.max(),pe.empty(),Zl)}}function UI(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(s.documentKey,e.documentKey),n!==0?n:Pe(s.largestBatchId,e.largestBatchId))}const zI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ro(s){if(s.code!==Y.FAILED_PRECONDITION||s.message!==zI)throw s;le("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Z.reject(n)}static resolve(e){return new Z(((n,r)=>{n(e)}))}static reject(e){return new Z(((n,r)=>{r(e)}))}static waitFor(e){return new Z(((n,r)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(_=>r(_)))})),f=!0,u===o&&n()}))}static or(e){let n=Z.resolve(!1);for(const r of e)n=n.next((o=>o?Z.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(e,n){return new Z(((r,o)=>{const u=e.length,f=new Array(u);let m=0;for(let _=0;_<u;_++){const g=_;n(e[g]).next((b=>{f[g]=b,++m,m===u&&r(f)}),(b=>o(b)))}}))}static doWhile(e,n){return new Z(((r,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):r()};u()}))}}function qI(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Io(s){return s.name==="IndexedDbTransactionError"}class zh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}zh.ce=-1;const cp=-1;function uu(s){return s==null}function gh(s){return s===0&&1/s==-1/0}function HI(s){return typeof s=="number"&&Number.isInteger(s)&&!gh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const Eb="";function FI(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=c0(e)),e=GI(s.get(n),e);return c0(e)}function GI(s,e){let n=e;const r=s.length;for(let o=0;o<r;o++){const u=s.charAt(o);switch(u){case"\0":n+="";break;case Eb:n+="";break;default:n+=u}}return n}function c0(s){return s+Eb+""}function h0(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function Er(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function bb(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class ft{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xc(this.root,e,this.comparator,!0)}}class Xc{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,r,o,u){this.key=e,this.value=n,this.color=r??Kt.RED,this.left=o??Kt.EMPTY,this.right=u??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,u){return new Kt(e??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,r,o,u){return this}insert(e,n,r){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new f0(this.data.getIterator())}getIteratorFrom(e){return new f0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class f0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class xn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new xn([])}unionWith(e){let n=new Vt(Qt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return go(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class Tb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Tb("Invalid base64 string: "+u):u}})(e);return new Xt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const KI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dr(s){if(qe(!!s,39018),typeof s=="string"){let e=0;const n=KI.exec(s);if(qe(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vt(s.seconds),nanos:vt(s.nanos)}}function vt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function mr(s){return typeof s=="string"?Xt.fromBase64String(s):Xt.fromUint8Array(s)}const Ab="server_timestamp",wb="__type__",Sb="__previous_value__",xb="__local_write_time__";function hp(s){return(s?.mapValue?.fields||{})[wb]?.stringValue===Ab}function Bh(s){const e=s.mapValue.fields[Sb];return hp(e)?Bh(e):e}function Wl(s){const e=dr(s.mapValue.fields[xb].timestampValue);return new ot(e.seconds,e.nanos)}class QI{constructor(e,n,r,o,u,f,m,_,g,b,w){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=_,this.useFetchStreams=g,this.isUsingEmulator=b,this.apiKey=w}}const _h="(default)";class eu{constructor(e,n){this.projectId=e,this.database=n||_h}static empty(){return new eu("","")}get isDefaultDatabase(){return this.database===_h}isEqual(e){return e instanceof eu&&e.projectId===this.projectId&&e.database===this.database}}function YI(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new re(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eu(s.options.projectId,e)}const Rb="__type__",XI="__max__",$c={mapValue:{}},Ib="__vector__",yh="value";function pr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?hp(s)?4:JI(s)?9007199254740991:$I(s)?10:11:_e(28295,{value:s})}function qi(s,e){if(s===e)return!0;const n=pr(s);if(n!==pr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Wl(s).isEqual(Wl(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=dr(o.timestampValue),m=dr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,u){return mr(o.bytesValue).isEqual(mr(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,u){return vt(o.geoPointValue.latitude)===vt(u.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(u.geoPointValue.longitude)})(s,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return vt(o.integerValue)===vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=vt(o.doubleValue),m=vt(u.doubleValue);return f===m?gh(f)===gh(m):isNaN(f)&&isNaN(m)}return!1})(s,e);case 9:return go(s.arrayValue.values||[],e.arrayValue.values||[],qi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(h0(f)!==h0(m))return!1;for(const _ in f)if(f.hasOwnProperty(_)&&(m[_]===void 0||!qi(f[_],m[_])))return!1;return!0})(s,e);default:return _e(52216,{left:s})}}function tu(s,e){return(s.values||[]).find((n=>qi(n,e)))!==void 0}function _o(s,e){if(s===e)return 0;const n=pr(s),r=pr(e);if(n!==r)return Pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(s.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=vt(u.integerValue||u.doubleValue),_=vt(f.integerValue||f.doubleValue);return m<_?-1:m>_?1:m===_?0:isNaN(m)?isNaN(_)?0:-1:1})(s,e);case 3:return d0(s.timestampValue,e.timestampValue);case 4:return d0(Wl(s),Wl(e));case 5:return km(s.stringValue,e.stringValue);case 6:return(function(u,f){const m=mr(u),_=mr(f);return m.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),_=f.split("/");for(let g=0;g<m.length&&g<_.length;g++){const b=Pe(m[g],_[g]);if(b!==0)return b}return Pe(m.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Pe(vt(u.latitude),vt(f.latitude));return m!==0?m:Pe(vt(u.longitude),vt(f.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return m0(s.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},_=f.fields||{},g=m[yh]?.arrayValue,b=_[yh]?.arrayValue,w=Pe(g?.values?.length||0,b?.values?.length||0);return w!==0?w:m0(g,b)})(s.mapValue,e.mapValue);case 11:return(function(u,f){if(u===$c.mapValue&&f===$c.mapValue)return 0;if(u===$c.mapValue)return 1;if(f===$c.mapValue)return-1;const m=u.fields||{},_=Object.keys(m),g=f.fields||{},b=Object.keys(g);_.sort(),b.sort();for(let w=0;w<_.length&&w<b.length;++w){const x=km(_[w],b[w]);if(x!==0)return x;const q=_o(m[_[w]],g[b[w]]);if(q!==0)return q}return Pe(_.length,b.length)})(s.mapValue,e.mapValue);default:throw _e(23264,{he:n})}}function d0(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Pe(s,e);const n=dr(s),r=dr(e),o=Pe(n.seconds,r.seconds);return o!==0?o:Pe(n.nanos,r.nanos)}function m0(s,e){const n=s.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=_o(n[o],r[o]);if(u)return u}return Pe(n.length,r.length)}function yo(s){return jm(s)}function jm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=dr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return mr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return pe.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=jm(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of r)u?u=!1:o+=",",o+=`${f}:${jm(n.fields[f])}`;return o+"}"})(s.mapValue):_e(61005,{value:s})}function nh(s){switch(pr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bh(s);return e?16+nh(e):16;case 5:return 2*s.stringValue.length;case 6:return mr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+nh(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return Er(r.fields,((u,f)=>{o+=u.length+nh(f)})),o})(s.mapValue);default:throw _e(13486,{value:s})}}function p0(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Pm(s){return!!s&&"integerValue"in s}function fp(s){return!!s&&"arrayValue"in s}function g0(s){return!!s&&"nullValue"in s}function _0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function ih(s){return!!s&&"mapValue"in s}function $I(s){return(s?.mapValue?.fields||{})[Rb]?.stringValue===Ib}function Gl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Er(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Gl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Gl(s.arrayValue.values[n]);return e}return{...s}}function JI(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===XI}class sn{constructor(e){this.value=e}static empty(){return new sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ih(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gl(n)}setAll(e){let n=Qt.emptyPath(),r={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const _=this.getFieldsMap(n);this.applyChanges(_,r,o),r={},o=[],n=m.popLast()}f?r[m.lastSegment()]=Gl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(e){const n=this.field(e.popLast());ih(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];ih(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){Er(n,((o,u)=>e[o]=u));for(const o of r)delete e[o]}clone(){return new sn(Gl(this.value))}}function Cb(s){const e=[];return Er(s.fields,((n,r)=>{const o=new Qt([n]);if(ih(r)){const u=Cb(r.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new xn(e)}class Ut{constructor(e,n,r,o,u,f,m){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Ut(e,0,be.min(),be.min(),be.min(),sn.empty(),0)}static newFoundDocument(e,n,r,o){return new Ut(e,1,n,be.min(),r,o,0)}static newNoDocument(e,n){return new Ut(e,2,n,be.min(),be.min(),sn.empty(),0)}static newUnknownDocument(e,n){return new Ut(e,3,n,be.min(),be.min(),sn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ut&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ut(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vh{constructor(e,n){this.position=e,this.inclusive=n}}function y0(s,e,n){let r=0;for(let o=0;o<s.position.length;o++){const u=e[o],f=s.position[o];if(u.field.isKeyField()?r=pe.comparator(pe.fromName(f.referenceValue),n.key):r=_o(f,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function v0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!qi(s.position[n],e.position[n]))return!1;return!0}class nu{constructor(e,n="asc"){this.field=e,this.dir=n}}function ZI(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class Nb{}class Nt extends Nb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new eC(e,n,r):n==="array-contains"?new iC(e,r):n==="in"?new sC(e,r):n==="not-in"?new rC(e,r):n==="array-contains-any"?new aC(e,r):new Nt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new tC(e,r):new nC(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(_o(n,this.value)):n!==null&&pr(this.value)===pr(n)&&this.matchesComparison(_o(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends Nb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new li(e,n)}matches(e){return Db(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Db(s){return s.op==="and"}function Ob(s){return WI(s)&&Db(s)}function WI(s){for(const e of s.filters)if(e instanceof li)return!1;return!0}function Lm(s){if(s instanceof Nt)return s.field.canonicalString()+s.op.toString()+yo(s.value);if(Ob(s))return s.filters.map((e=>Lm(e))).join(",");{const e=s.filters.map((n=>Lm(n))).join(",");return`${s.op}(${e})`}}function Mb(s,e){return s instanceof Nt?(function(r,o){return o instanceof Nt&&r.op===o.op&&r.field.isEqual(o.field)&&qi(r.value,o.value)})(s,e):s instanceof li?(function(r,o){return o instanceof li&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,f,m)=>u&&Mb(f,o.filters[m])),!0):!1})(s,e):void _e(19439)}function Vb(s){return s instanceof Nt?(function(n){return`${n.field.canonicalString()} ${n.op} ${yo(n.value)}`})(s):s instanceof li?(function(n){return n.op.toString()+" {"+n.getFilters().map(Vb).join(" ,")+"}"})(s):"Filter"}class eC extends Nt{constructor(e,n,r){super(e,n,r),this.key=pe.fromName(r.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class tC extends Nt{constructor(e,n){super(e,"in",n),this.keys=kb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class nC extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=kb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function kb(s,e){return(e.arrayValue?.values||[]).map((n=>pe.fromName(n.referenceValue)))}class iC extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return fp(n)&&tu(n.arrayValue,this.value)}}class sC extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&tu(this.value.arrayValue,n)}}class rC extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!tu(this.value.arrayValue,n)}}class aC extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!fp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>tu(this.value.arrayValue,r)))}}class oC{constructor(e,n=null,r=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function E0(s,e=null,n=[],r=[],o=null,u=null,f=null){return new oC(s,e,n,r,o,u,f)}function dp(s){const e=we(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Lm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),uu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>yo(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>yo(r))).join(",")),e.Te=n}return e.Te}function mp(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!ZI(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!Mb(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!v0(s.startAt,e.startAt)&&v0(s.endAt,e.endAt)}function Um(s){return pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Co{constructor(e,n=null,r=[],o=[],u=null,f="F",m=null,_=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function lC(s,e,n,r,o,u,f,m){return new Co(s,e,n,r,o,u,f,m)}function qh(s){return new Co(s)}function b0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function uC(s){return pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function jb(s){return s.collectionGroup!==null}function Kl(s){const e=we(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Vt(Qt.comparator);return f.filters.forEach((_=>{_.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new nu(u,r))})),n.has(Qt.keyField().canonicalString())||e.Ie.push(new nu(Qt.keyField(),r))}return e.Ie}function Pi(s){const e=we(s);return e.Ee||(e.Ee=cC(e,Kl(s))),e.Ee}function cC(s,e){if(s.limitType==="F")return E0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new nu(o.field,u)}));const n=s.endAt?new vh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new vh(s.startAt.position,s.startAt.inclusive):null;return E0(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function zm(s,e){const n=s.filters.concat([e]);return new Co(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function hC(s,e){const n=s.explicitOrderBy.concat([e]);return new Co(s.path,s.collectionGroup,n,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function Eh(s,e,n){return new Co(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function Hh(s,e){return mp(Pi(s),Pi(e))&&s.limitType===e.limitType}function Pb(s){return`${dp(Pi(s))}|lt:${s.limitType}`}function to(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>Vb(o))).join(", ")}]`),uu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>yo(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>yo(o))).join(",")),`Target(${r})`})(Pi(s))}; limitType=${s.limitType})`}function Fh(s,e){return e.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):pe.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,o){for(const u of Kl(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(f,m,_){const g=y0(f,m,_);return f.inclusive?g<=0:g<0})(r.startAt,Kl(r),o)||r.endAt&&!(function(f,m,_){const g=y0(f,m,_);return f.inclusive?g>=0:g>0})(r.endAt,Kl(r),o))})(s,e)}function fC(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Lb(s){return(e,n)=>{let r=!1;for(const o of Kl(s)){const u=dC(o,e,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function dC(s,e,n){const r=s.field.isKeyField()?pe.comparator(e.key,n.key):(function(u,f,m){const _=f.data.field(u),g=m.data.field(u);return _!==null&&g!==null?_o(_,g):_e(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return _e(19790,{direction:s.dir})}}class ua{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Er(this.inner,((n,r)=>{for(const[o,u]of r)e(o,u)}))}isEmpty(){return bb(this.inner)}size(){return this.innerSize}}const mC=new ft(pe.comparator);function ds(){return mC}const Ub=new ft(pe.comparator);function Bl(...s){let e=Ub;for(const n of s)e=e.insert(n.key,n);return e}function zb(s){let e=Ub;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ea(){return Ql()}function Bb(){return Ql()}function Ql(){return new ua((s=>s.toString()),((s,e)=>s.isEqual(e)))}const pC=new ft(pe.comparator),gC=new Vt(pe.comparator);function Le(...s){let e=gC;for(const n of s)e=e.add(n);return e}const _C=new Vt(Pe);function yC(){return _C}function pp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gh(e)?"-0":e}}function qb(s){return{integerValue:""+s}}function Hb(s,e){return HI(e)?qb(e):pp(s,e)}class Gh{constructor(){this._=void 0}}function vC(s,e,n){return s instanceof iu?(function(o,u){const f={fields:{[wb]:{stringValue:Ab},[xb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&hp(u)&&(u=Bh(u)),u&&(f.fields[Sb]=u),{mapValue:f}})(n,e):s instanceof vo?Gb(s,e):s instanceof su?Kb(s,e):(function(o,u){const f=Fb(o,u),m=T0(f)+T0(o.Ae);return Pm(f)&&Pm(o.Ae)?qb(m):pp(o.serializer,m)})(s,e)}function EC(s,e,n){return s instanceof vo?Gb(s,e):s instanceof su?Kb(s,e):n}function Fb(s,e){return s instanceof ru?(function(r){return Pm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class iu extends Gh{}class vo extends Gh{constructor(e){super(),this.elements=e}}function Gb(s,e){const n=Qb(e);for(const r of s.elements)n.some((o=>qi(o,r)))||n.push(r);return{arrayValue:{values:n}}}class su extends Gh{constructor(e){super(),this.elements=e}}function Kb(s,e){let n=Qb(e);for(const r of s.elements)n=n.filter((o=>!qi(o,r)));return{arrayValue:{values:n}}}class ru extends Gh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function T0(s){return vt(s.integerValue||s.doubleValue)}function Qb(s){return fp(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class gp{constructor(e,n){this.field=e,this.transform=n}}function bC(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof vo&&o instanceof vo||r instanceof su&&o instanceof su?go(r.elements,o.elements,qi):r instanceof ru&&o instanceof ru?qi(r.Ae,o.Ae):r instanceof iu&&o instanceof iu})(s.transform,e.transform)}class TC{constructor(e,n){this.version=e,this.transformResults=n}}class rn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new rn}static exists(e){return new rn(void 0,e)}static updateTime(e){return new rn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Kh{}function Yb(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new _p(s.key,rn.none()):new cu(s.key,s.data,rn.none());{const n=s.data,r=sn.empty();let o=new Vt(Qt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?r.delete(u):r.set(u,f),o=o.add(u)}return new br(s.key,r,new xn(o.toArray()),rn.none())}}function AC(s,e,n){s instanceof cu?(function(o,u,f){const m=o.value.clone(),_=w0(o.fieldTransforms,u,f.transformResults);m.setAll(_),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(s,e,n):s instanceof br?(function(o,u,f){if(!sh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=w0(o.fieldTransforms,u,f.transformResults),_=u.data;_.setAll(Xb(o)),_.setAll(m),u.convertToFoundDocument(f.version,_).setHasCommittedMutations()})(s,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Yl(s,e,n,r){return s instanceof cu?(function(u,f,m,_){if(!sh(u.precondition,f))return m;const g=u.value.clone(),b=S0(u.fieldTransforms,_,f);return g.setAll(b),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(s,e,n,r):s instanceof br?(function(u,f,m,_){if(!sh(u.precondition,f))return m;const g=S0(u.fieldTransforms,_,f),b=f.data;return b.setAll(Xb(u)),b.setAll(g),f.convertToFoundDocument(f.version,b).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((w=>w.field)))})(s,e,n,r):(function(u,f,m){return sh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(s,e,n)}function wC(s,e){let n=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),u=Fb(r.transform,o||null);u!=null&&(n===null&&(n=sn.empty()),n.set(r.field,u))}return n||null}function A0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&go(r,o,((u,f)=>bC(u,f)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class cu extends Kh{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class br extends Kh{constructor(e,n,r,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Xb(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function w0(s,e,n){const r=new Map;qe(s.length===n.length,32656,{Ve:n.length,de:s.length});for(let o=0;o<n.length;o++){const u=s[o],f=u.transform,m=e.data.field(u.field);r.set(u.field,EC(f,m,n[o]))}return r}function S0(s,e,n){const r=new Map;for(const o of s){const u=o.transform,f=n.data.field(o.field);r.set(o.field,vC(u,f,e))}return r}class _p extends Kh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $b extends Kh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class SC{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&AC(u,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Yl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Yl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Bb();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const _=Yb(f,m);_!==null&&r.set(o.key,_),f.isValidDocument()||f.convertToNoDocument(be.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Le())}isEqual(e){return this.batchId===e.batchId&&go(this.mutations,e.mutations,((n,r)=>A0(n,r)))&&go(this.baseMutations,e.baseMutations,((n,r)=>A0(n,r)))}}class yp{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){qe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return pC})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,r[f].version);return new yp(e,n,r,o)}}class xC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class RC{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ct,Be;function Jb(s){switch(s){case Y.OK:return _e(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return _e(15467,{code:s})}}function Zb(s){if(s===void 0)return fs("GRPC error has no .code"),Y.UNKNOWN;switch(s){case Ct.OK:return Y.OK;case Ct.CANCELLED:return Y.CANCELLED;case Ct.UNKNOWN:return Y.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return Y.INTERNAL;case Ct.UNAVAILABLE:return Y.UNAVAILABLE;case Ct.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Ct.NOT_FOUND:return Y.NOT_FOUND;case Ct.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Ct.ABORTED:return Y.ABORTED;case Ct.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Ct.DATA_LOSS:return Y.DATA_LOSS;default:return _e(39323,{code:s})}}(Be=Ct||(Ct={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";function IC(){return new TextEncoder}const CC=new lr([4294967295,4294967295],0);function x0(s){const e=IC().encode(s),n=new cb;return n.update(e),new Uint8Array(n.digest())}function R0(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new lr([n,r],0),new lr([o,u],0)]}class vp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ql(`Invalid padding: ${n}`);if(r<0)throw new ql(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ql(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ql(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=lr.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(lr.fromNumber(r)));return o.compare(CC)===1&&(o=new lr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=x0(e),[r,o]=R0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);if(!this.we(f))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new vp(u,o,n);return r.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=x0(e),[r,o]=R0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);this.be(f)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Qh{constructor(e,n,r,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,hu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Qh(be.min(),o,new ft(Pe),ds(),Le())}}class hu{constructor(e,n,r,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new hu(r,n,Le(),Le(),Le())}}class rh{constructor(e,n,r,o){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=o}}class Wb{constructor(e,n){this.targetId=e,this.Ce=n}}class eT{constructor(e,n,r=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class I0{constructor(){this.ve=0,this.Fe=C0(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),n=Le(),r=Le();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:_e(38017,{changeType:u})}})),new hu(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=C0()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,qe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class NC{constructor(e){this.Ge=e,this.ze=new Map,this.je=ds(),this.He=Jc(),this.Je=Jc(),this.Ze=new ft(Pe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Um(u))if(r===0){const f=new pe(u.path);this.et(n,f,Ut.newNoDocument(f,be.min()))}else qe(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const m=this.ut(e),_=m?this.ct(m,e,f):1;if(_!==0){this.it(n);const g=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=mr(r).toUint8Array()}catch(_){if(_ instanceof Tb)return po("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{m=new vp(f,o,u)}catch(_){return po(_ instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return m.ge===0?null:m}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Um(m.target)){const _=new pe(m.target.path);this.It(_).has(f)||this.Et(f,_)||this.et(f,_,Ut.newNoDocument(_,e))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let r=Le();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((_=>{const g=this.ot(_);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Qh(e,n,this.Ze,this.je,r);return this.je=ds(),this.He=Jc(),this.Je=Jc(),this.Ze=new ft(Pe),o}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new I0,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Vt(Pe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Vt(Pe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new I0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Jc(){return new ft(pe.comparator)}function C0(){return new ft(pe.comparator)}const DC={asc:"ASCENDING",desc:"DESCENDING"},OC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MC={and:"AND",or:"OR"};class VC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Bm(s,e){return s.useProto3Json||uu(e)?e:{value:e}}function bh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tT(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function kC(s,e){return bh(s,e.toTimestamp())}function Cn(s){return qe(!!s,49232),be.fromTimestamp((function(n){const r=dr(n);return new ot(r.seconds,r.nanos)})(s))}function Ep(s,e){return qm(s,e).canonicalString()}function qm(s,e){const n=(function(o){return new it(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?n:n.child(e)}function nT(s){const e=it.fromString(s);return qe(lT(e),10190,{key:e.toString()}),e}function Th(s,e){return Ep(s.databaseId,e.path)}function Xl(s,e){const n=nT(e);if(n.get(1)!==s.databaseId.projectId)throw new re(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new re(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new pe(sT(n))}function iT(s,e){return Ep(s.databaseId,e)}function jC(s){const e=nT(s);return e.length===4?it.emptyPath():sT(e)}function Hm(s){return new it(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function sT(s){return qe(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function N0(s,e,n){return{name:Th(s,e),fields:n.value.mapValue.fields}}function PC(s,e){return"found"in e?(function(r,o){qe(!!o.found,43571),o.found.name,o.found.updateTime;const u=Xl(r,o.found.name),f=Cn(o.found.updateTime),m=o.found.createTime?Cn(o.found.createTime):be.min(),_=new sn({mapValue:{fields:o.found.fields}});return Ut.newFoundDocument(u,f,m,_)})(s,e):"missing"in e?(function(r,o){qe(!!o.missing,3894),qe(!!o.readTime,22933);const u=Xl(r,o.missing),f=Cn(o.readTime);return Ut.newNoDocument(u,f)})(s,e):_e(7234,{result:e})}function LC(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:_e(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,b){return g.useProto3Json?(qe(b===void 0||typeof b=="string",58123),Xt.fromBase64String(b||"")):(qe(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Xt.fromUint8Array(b||new Uint8Array))})(s,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(g){const b=g.code===void 0?Y.UNKNOWN:Zb(g.code);return new re(b,g.message||"")})(f);n=new eT(r,o,u,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Xl(s,r.document.name),u=Cn(r.document.updateTime),f=r.document.createTime?Cn(r.document.createTime):be.min(),m=new sn({mapValue:{fields:r.document.fields}}),_=Ut.newFoundDocument(o,u,f,m),g=r.targetIds||[],b=r.removedTargetIds||[];n=new rh(g,b,_.key,_)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Xl(s,r.document),u=r.readTime?Cn(r.readTime):be.min(),f=Ut.newNoDocument(o,u),m=r.removedTargetIds||[];n=new rh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Xl(s,r.document),u=r.removedTargetIds||[];n=new rh([],u,o,null)}else{if(!("filter"in e))return _e(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,f=new RC(o,u),m=r.targetId;n=new Wb(m,f)}}return n}function rT(s,e){let n;if(e instanceof cu)n={update:N0(s,e.key,e.value)};else if(e instanceof _p)n={delete:Th(s,e.key)};else if(e instanceof br)n={update:N0(s,e.key,e.data),updateMask:QC(e.fieldMask)};else{if(!(e instanceof $b))return _e(16599,{dt:e.type});n={verify:Th(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(u,f){const m=f.transform;if(m instanceof iu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof vo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof su)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof ru)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw _e(20930,{transform:f.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:kC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_e(27497)})(s,e.precondition)),n}function UC(s,e){return s&&s.length>0?(qe(e!==void 0,14353),s.map((n=>(function(o,u){let f=o.updateTime?Cn(o.updateTime):Cn(u);return f.isEqual(be.min())&&(f=Cn(u)),new TC(f,o.transformResults||[])})(n,e)))):[]}function zC(s,e){return{documents:[iT(s,e.path)]}}function BC(s,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=iT(s,o);const u=(function(g){if(g.length!==0)return oT(li.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((b=>(function(x){return{field:no(x.field),direction:FC(x.dir)}})(b)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Bm(s,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function qC(s){let e=jC(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){qe(r===1,65062);const b=n.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let u=[];n.where&&(u=(function(w){const x=aT(w);return x instanceof li&&Ob(x)?x.getFilters():[x]})(n.where));let f=[];n.orderBy&&(f=(function(w){return w.map((x=>(function($){return new nu(io($.field),(function(ne){switch(ne){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(x)))})(n.orderBy));let m=null;n.limit&&(m=(function(w){let x;return x=typeof w=="object"?w.value:w,uu(x)?null:x})(n.limit));let _=null;n.startAt&&(_=(function(w){const x=!!w.before,q=w.values||[];return new vh(q,x)})(n.startAt));let g=null;return n.endAt&&(g=(function(w){const x=!w.before,q=w.values||[];return new vh(q,x)})(n.endAt)),lC(e,o,f,u,m,"F",_,g)}function HC(s,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function aT(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=io(n.unaryFilter.field);return Nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=io(n.unaryFilter.field);return Nt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=io(n.unaryFilter.field);return Nt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=io(n.unaryFilter.field);return Nt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Nt.create(io(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return li.create(n.compositeFilter.filters.map((r=>aT(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(n.compositeFilter.op))})(s):_e(30097,{filter:s})}function FC(s){return DC[s]}function GC(s){return OC[s]}function KC(s){return MC[s]}function no(s){return{fieldPath:s.canonicalString()}}function io(s){return Qt.fromServerFormat(s.fieldPath)}function oT(s){return s instanceof Nt?(function(n){if(n.op==="=="){if(_0(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NAN"}};if(g0(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_0(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NOT_NAN"}};if(g0(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:no(n.field),op:GC(n.op),value:n.value}}})(s):s instanceof li?(function(n){const r=n.getFilters().map((o=>oT(o)));return r.length===1?r[0]:{compositeFilter:{op:KC(n.op),filters:r}}})(s):_e(54877,{filter:s})}function QC(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function lT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function uT(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class rr{constructor(e,n,r,o,u=be.min(),f=be.min(),m=Xt.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=_}withSequenceNumber(e){return new rr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class YC{constructor(e){this.yt=e}}function XC(s){const e=qC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Eh(e,e.limit,"L"):e}class $C{constructor(){this.Sn=new JC}addToCollectionParentIndex(e,n){return this.Sn.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(fr.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(fr.min())}updateCollectionGroup(e,n,r){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class JC{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Vt(it.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Vt(it.comparator)).toArray()}}const D0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cT=41943040;class pn{static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(cT,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);class Eo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Eo(0)}static ar(){return new Eo(-1)}}const O0="LruGarbageCollector",ZC=1048576;function M0([s,e],[n,r]){const o=Pe(s,n);return o===0?Pe(e,r):o}class WC{constructor(e){this.Pr=e,this.buffer=new Vt(M0),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();M0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class eN{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){le(O0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Io(n)?le(O0,"Ignoring IndexedDB error during garbage collection: ",n):await Ro(n)}await this.Ar(3e5)}))}}class tN{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Z.resolve(zh.ce);const r=new WC(n);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(D0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),D0):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,o,u,f,m,_,g;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(r=w,m=Date.now(),this.removeTargets(e,r,n)))).next((w=>(u=w,_=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(g=Date.now(),eo()<=je.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-b}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(_-m)+`ms
	Removed ${w} documents in `+(g-_)+`ms
Total Duration: ${g-b}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w}))))}}function nN(s,e){return new tN(s,e)}class iN{constructor(){this.changes=new ua((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ut.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class sN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class rN{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&Yl(r.mutation,o,xn.empty(),ot.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Le()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Le()){const o=ea();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((u=>{let f=Bl();return u.forEach(((m,_)=>{f=f.insert(m,_.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const r=ea();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Le())))}populateOverlays(e,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,r,o){let u=ds();const f=Ql(),m=(function(){return Ql()})();return n.forEach(((_,g)=>{const b=r.get(g.key);o.has(g.key)&&(b===void 0||b.mutation instanceof br)?u=u.insert(g.key,g):b!==void 0?(f.set(g.key,b.mutation.getFieldMask()),Yl(b.mutation,g,b.mutation.getFieldMask(),ot.now())):f.set(g.key,xn.empty())})),this.recalculateAndSaveOverlays(e,u).next((_=>(_.forEach(((g,b)=>f.set(g,b))),n.forEach(((g,b)=>m.set(g,new sN(b,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const r=Ql();let o=new ft(((f,m)=>f-m)),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((_=>{const g=n.get(_);if(g===null)return;let b=r.get(_)||xn.empty();b=m.applyToLocalView(g,b),r.set(_,b);const w=(o.get(m.batchId)||Le()).add(_);o=o.insert(m.batchId,w)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const _=m.getNext(),g=_.key,b=_.value,w=Bb();b.forEach((x=>{if(!u.has(x)){const q=Yb(n.get(x),r.get(x));q!==null&&w.set(x,q),u=u.add(x)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,w))}return Z.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return uC(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-u.size):Z.resolve(ea());let m=Zl,_=u;return f.next((g=>Z.forEach(g,((b,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(b)?Z.resolve():this.remoteDocumentCache.getEntry(e,b).next((x=>{_=_.insert(b,x)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,_,g,Le()))).next((b=>({batchId:m,changes:zb(b)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((r=>{let o=Bl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const u=n.collectionGroup;let f=Bl();return this.indexManager.getCollectionParents(e,u).next((m=>Z.forEach(m,(_=>{const g=(function(w,x){return new Co(x,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,_.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,r,o).next((b=>{b.forEach(((w,x)=>{f=f.insert(w,x)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,o)))).next((f=>{u.forEach(((_,g)=>{const b=g.getKey();f.get(b)===null&&(f=f.insert(b,Ut.newInvalidDocument(b)))}));let m=Bl();return f.forEach(((_,g)=>{const b=u.get(_);b!==void 0&&Yl(b.mutation,g,xn.empty(),ot.now()),Fh(n,g)&&(m=m.insert(_,g))})),m}))}}class aN{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return Z.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Cn(o.createTime)}})(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:XC(o.bundledQuery),readTime:Cn(o.readTime)}})(n)),Z.resolve()}}class oN{constructor(){this.overlays=new ft(pe.comparator),this.Lr=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ea();return Z.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,u)=>{this.bt(e,n,u)})),Z.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(r)),Z.resolve()}getOverlaysForCollection(e,n,r){const o=ea(),u=n.length+1,f=new pe(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const _=m.getNext().value,g=_.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&_.largestBatchId>r&&o.set(_.getKey(),_)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let u=new ft(((g,b)=>g-b));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>r){let b=u.get(g.largestBatchId);b===null&&(b=ea(),u=u.insert(g.largestBatchId,b)),b.set(g.getKey(),g)}}const m=ea(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((g,b)=>m.set(g,b))),!(m.size()>=o)););return Z.resolve(m)}bt(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new xC(n,r));let u=this.Lr.get(n);u===void 0&&(u=Le(),this.Lr.set(n,u)),this.Lr.set(n,u.add(r.key))}}class lN{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}class bp{constructor(){this.kr=new Vt(Lt.Kr),this.qr=new Vt(Lt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Lt(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new Lt(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new pe(new it([])),r=new Lt(n,e),o=new Lt(n,e+1),u=[];return this.qr.forEachInRange([r,o],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new pe(new it([])),r=new Lt(n,e),o=new Lt(n,e+1);let u=Le();return this.qr.forEachInRange([r,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Lt(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Lt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return pe.comparator(e.key,n.key)||Pe(e.Hr,n.Hr)}static Ur(e,n){return Pe(e.Hr,n.Hr)||pe.comparator(e.key,n.key)}}class uN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Vt(Lt.Kr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new SC(u,n,r,o);this.mutationQueue.push(f);for(const m of o)this.Jr=this.Jr.add(new Lt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Z.resolve(f)}lookupMutationBatch(e,n){return Z.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.Xr(r),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?cp:this.Yn-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Lt(n,0),o=new Lt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([r,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Vt(Pe);return n.forEach((o=>{const u=new Lt(o,0),f=new Lt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(m=>{r=r.add(m.Hr)}))})),Z.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let u=r;pe.isDocumentKey(u)||(u=u.child(""));const f=new Lt(new pe(u),0);let m=new Vt(Pe);return this.Jr.forEachWhile((_=>{const g=_.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(m=m.add(_.Hr)),!0)}),f),Z.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){qe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return Z.forEach(n.mutations,(o=>{const u=new Lt(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new Lt(n,0),o=this.Jr.firstAfterOrEqual(r);return Z.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class cN{constructor(e){this.ti=e,this.docs=(function(){return new ft(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Z.resolve(r?r.document.mutableCopy():Ut.newInvalidDocument(n))}getEntries(e,n){let r=ds();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Ut.newInvalidDocument(o))})),Z.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let u=ds();const f=n.path,m=new pe(f.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(m);for(;_.hasNext();){const{key:g,value:{document:b}}=_.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||UI(LI(b),r)<=0||(o.has(b.key)||Fh(n,b))&&(u=u.insert(b.key,b.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(e,n,r,o){_e(9500)}ni(e,n){return Z.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new hN(this)}getSize(e){return Z.resolve(this.size)}}class hN extends iN{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),Z.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class fN{constructor(e){this.persistence=e,this.ri=new ua((n=>dp(n)),mp),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.ii=0,this.si=new bp,this.targetCount=0,this.oi=Eo._r()}forEachTarget(e,n){return this.ri.forEach(((r,o)=>n(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),Z.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Eo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.lr(n),Z.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,r){let o=0;const u=[];return this.ri.forEach(((f,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),Z.waitFor(u).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return Z.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),Z.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),Z.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return Z.resolve(r)}containsKey(e,n){return Z.resolve(this.si.containsKey(n))}}class hT{constructor(e,n){this._i={},this.overlays={},this.ai=new zh(0),this.ui=!1,this.ui=!0,this.ci=new lN,this.referenceDelegate=e(this),this.li=new fN(this),this.indexManager=new $C,this.remoteDocumentCache=(function(o){return new cN(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new YC(n),this.Pi=new aN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new oN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new uN(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){le("MemoryPersistence","Starting transaction:",e);const o=new dN(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return Z.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class dN extends BI{constructor(e){super(),this.currentSequenceNumber=e}}class Tp{constructor(e){this.persistence=e,this.Ri=new bp,this.Ai=null}static Vi(e){return new Tp(e)}get di(){if(this.Ai)return this.Ai;throw _e(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),Z.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),Z.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.di,(r=>{const o=pe.fromPath(r);return this.mi(e,o).next((u=>{u||n.removeEntry(o,be.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return Z.or([()=>Z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Ah{constructor(e,n){this.persistence=e,this.fi=new ua((r=>FI(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=nN(this,n)}static Vi(e,n){return new Ah(e,n)}Ti(){}Ii(e){return Z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return Z.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((u=>u?Z.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(f=>this.wr(e,f,n).next((m=>{m||(r++,u.removeEntry(f,be.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),Z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),Z.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=nh(e.data.value)),n}wr(e,n,r){return Z.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return Z.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ap{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=o}static Es(e,n){let r=Le(),o=Le();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ap(e,n.fromCache,r,o)}}class mN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class pN{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return jx()?8:qI(Wt())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const u={result:null};return this.gs(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(e,n,o,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new mN;return this.ys(e,n,f).next((m=>{if(u.result=m,this.As)return this.ws(e,n,f,m.size)}))})).next((()=>u.result))}ws(e,n,r,o){return r.documentReadCount<this.Vs?(eo()<=je.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",to(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):(eo()<=je.DEBUG&&le("QueryEngine","Query:",to(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(eo()<=je.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",to(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pi(n))):Z.resolve())}gs(e,n){if(b0(n))return Z.resolve(null);let r=Pi(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Eh(n,null,"F"),r=Pi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const f=Le(...u);return this.fs.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,r).next((_=>{const g=this.bs(n,m);return this.Ss(n,g,f,_.readTime)?this.gs(e,Eh(n,null,"F")):this.Ds(e,g,n,_)}))))})))))}ps(e,n,r,o){return b0(n)||o.isEqual(be.min())?Z.resolve(null):this.fs.getDocuments(e,r).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,r,o)?Z.resolve(null):(eo()<=je.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),to(n)),this.Ds(e,f,n,PI(o,Zl)).next((m=>m)))}))}bs(e,n){let r=new Vt(Lb(e));return n.forEach(((o,u)=>{Fh(e,u)&&(r=r.add(u))})),r}Ss(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,r){return eo()<=je.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",to(n)),this.fs.getDocumentsMatchingQuery(e,n,fr.min(),r)}Ds(e,n,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const wp="LocalStore",gN=3e8;class _N{constructor(e,n,r,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ft(Pe),this.Fs=new ua((u=>dp(u)),mp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rN(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function yN(s,e,n,r){return new _N(s,e,n,r)}async function fT(s,e){const n=we(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],m=[];let _=Le();for(const g of o){f.push(g.batchId);for(const b of g.mutations)_=_.add(b.key)}for(const g of u){m.push(g.batchId);for(const b of g.mutations)_=_.add(b.key)}return n.localDocuments.getDocuments(r,_).next((g=>({Ns:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function vN(s,e){const n=we(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,_,g,b){const w=g.batch,x=w.keys();let q=Z.resolve();return x.forEach(($=>{q=q.next((()=>b.getEntry(_,$))).next((te=>{const ne=g.docVersions.get($);qe(ne!==null,48541),te.version.compareTo(ne)<0&&(w.applyToRemoteDocument(te,g),te.isValidDocument()&&(te.setReadTime(g.commitVersion),b.addEntry(te)))}))})),q.next((()=>m.mutationQueue.removeMutationBatch(_,w)))})(n,r,e,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let _=Le();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(_=_.add(m.batch.mutations[g].key));return _})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function dT(s){const e=we(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function EN(s,e){const n=we(s),r=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((b,w)=>{const x=o.get(w);if(!x)return;m.push(n.li.removeMatchingKeys(u,b.removedDocuments,w).next((()=>n.li.addMatchingKeys(u,b.addedDocuments,w))));let q=x.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?q=q.withResumeToken(Xt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):b.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(b.resumeToken,r)),o=o.insert(w,q),(function(te,ne,oe){return te.resumeToken.approximateByteSize()===0||ne.snapshotVersion.toMicroseconds()-te.snapshotVersion.toMicroseconds()>=gN?!0:oe.addedDocuments.size+oe.modifiedDocuments.size+oe.removedDocuments.size>0})(x,q,b)&&m.push(n.li.updateTargetData(u,q))}));let _=ds(),g=Le();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,b))})),m.push(bN(u,f,e.documentUpdates).next((b=>{_=b.Bs,g=b.Ls}))),!r.isEqual(be.min())){const b=n.li.getLastRemoteSnapshotVersion(u).next((w=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(b)}return Z.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,_,g))).next((()=>_))})).then((u=>(n.vs=o,u)))}function bN(s,e,n){let r=Le(),o=Le();return n.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let f=ds();return n.forEach(((m,_)=>{const g=u.get(m);_.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),_.isNoDocument()&&_.version.isEqual(be.min())?(e.removeEntry(m,_.readTime),f=f.insert(m,_)):!g.isValidDocument()||_.version.compareTo(g.version)>0||_.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(_),f=f.insert(m,_)):le(wp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",_.version)})),{Bs:f,Ls:o}}))}function TN(s,e){const n=we(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=cp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function AN(s,e){const n=we(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.li.getTargetData(r,e).next((u=>u?(o=u,Z.resolve(o)):n.li.allocateTargetId(r).next((f=>(o=new rr(e,f,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function Fm(s,e,n){const r=we(s),o=r.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Io(f))throw f;le(wp,`Failed to update sequence numbers for target ${e}: ${f}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function V0(s,e,n){const r=we(s);let o=be.min(),u=Le();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(_,g,b){const w=we(_),x=w.Fs.get(b);return x!==void 0?Z.resolve(w.vs.get(x)):w.li.getTargetData(g,b)})(r,f,Pi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(f,m.targetId).next((_=>{u=_}))})).next((()=>r.Cs.getDocumentsMatchingQuery(f,e,n?o:be.min(),n?u:Le()))).next((m=>(wN(r,fC(e),m),{documents:m,ks:u})))))}function wN(s,e,n){let r=s.Ms.get(e)||be.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Ms.set(e,r)}class k0{constructor(){this.activeTargetIds=yC()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SN{constructor(){this.vo=new k0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new k0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class xN{Mo(e){}shutdown(){}}const j0="ConnectivityMonitor";class P0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){le(j0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){le(j0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Zc=null;function Gm(){return Zc===null?Zc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zc++,"0x"+Zc.toString(16)}const bm="RestConnection",RN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class IN{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===_h?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,n,r,o,u){const f=Gm(),m=this.Qo(e,n.toUriEncodedString());le(bm,`Sending RPC '${e}' ${f}:`,m,r);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,o,u);const{host:g}=new URL(m),b=wo(g);return this.zo(e,m,_,r,b).then((w=>(le(bm,`Received RPC '${e}' ${f}: `,w),w)),(w=>{throw po(bm,`RPC '${e}' ${f} failed with error: `,w,"url: ",m,"request:",r),w}))}jo(e,n,r,o,u,f){return this.Wo(e,n,r,o,u)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+xo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),r&&r.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const r=RN[e];let o=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class CN{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Jt="WebChannelConnection",Ul=(s,e,n)=>{s.listen(e,(r=>{try{n(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class lo extends IN{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!lo.c_){const e=mb();Ul(e,db.STAT_EVENT,(n=>{n.stat===Vm.PROXY?le(Jt,"STAT_EVENT: detected buffering proxy"):n.stat===Vm.NOPROXY&&le(Jt,"STAT_EVENT: detected no buffering proxy")})),lo.c_=!0}}zo(e,n,r,o,u){const f=Gm();return new Promise(((m,_)=>{const g=new hb;g.setWithCredentials(!0),g.listenOnce(fb.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case th.NO_ERROR:const w=g.getResponseJson();le(Jt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(w)),m(w);break;case th.TIMEOUT:le(Jt,`RPC '${e}' ${f} timed out`),_(new re(Y.DEADLINE_EXCEEDED,"Request time out"));break;case th.HTTP_ERROR:const x=g.getStatus();if(le(Jt,`RPC '${e}' ${f} failed with status:`,x,"response text:",g.getResponseText()),x>0){let q=g.getResponseJson();Array.isArray(q)&&(q=q[0]);const $=q?.error;if($&&$.status&&$.message){const te=(function(oe){const ye=oe.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(ye)>=0?ye:Y.UNKNOWN})($.status);_(new re(te,$.message))}else _(new re(Y.UNKNOWN,"Server responded with status "+g.getStatus()))}else _(new re(Y.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{le(Jt,`RPC '${e}' ${f} completed.`)}}));const b=JSON.stringify(o);le(Jt,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",b,r,15)}))}T_(e,n,r){const o=Gm(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(m.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const g=u.join("");le(Jt,`Creating RPC '${e}' stream ${o}: ${g}`,m);const b=f.createWebChannel(g,m);this.I_(b);let w=!1,x=!1;const q=new CN({Ho:$=>{x?le(Jt,`Not sending because RPC '${e}' stream ${o} is closed:`,$):(w||(le(Jt,`Opening RPC '${e}' stream ${o} transport.`),b.open(),w=!0),le(Jt,`RPC '${e}' stream ${o} sending:`,$),b.send($))},Jo:()=>b.close()});return Ul(b,zl.EventType.OPEN,(()=>{x||(le(Jt,`RPC '${e}' stream ${o} transport opened.`),q.i_())})),Ul(b,zl.EventType.CLOSE,(()=>{x||(x=!0,le(Jt,`RPC '${e}' stream ${o} transport closed`),q.o_(),this.E_(b))})),Ul(b,zl.EventType.ERROR,($=>{x||(x=!0,po(Jt,`RPC '${e}' stream ${o} transport errored. Name:`,$.name,"Message:",$.message),q.o_(new re(Y.UNAVAILABLE,"The operation could not be completed")))})),Ul(b,zl.EventType.MESSAGE,($=>{if(!x){const te=$.data[0];qe(!!te,16349);const ne=te,oe=ne?.error||ne[0]?.error;if(oe){le(Jt,`RPC '${e}' stream ${o} received error:`,oe);const ye=oe.status;let de=(function(Ee){const N=Ct[Ee];if(N!==void 0)return Zb(N)})(ye),De=oe.message;de===void 0&&(de=Y.INTERNAL,De="Unknown error status: "+ye+" with message "+oe.message),x=!0,q.o_(new re(de,De)),b.close()}else le(Jt,`RPC '${e}' stream ${o} received:`,te),q.__(te)}})),lo.u_(),setTimeout((()=>{q.s_()}),0),q}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return pb()}}function NN(s){return new lo(s)}function Tm(){return typeof document<"u"?document:null}function Yh(s){return new VC(s,!0)}lo.c_=!1;class Sp{constructor(e,n,r=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const L0="PersistentStream";class mT{constructor(e,n,r,o,u,f,m,_){this.Ci=e,this.b_=r,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Sp(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(fs(n.toString()),fs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new re(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(L0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(le(L0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class DN extends mT{constructor(e,n,r,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=LC(this.serializer,e),r=(function(u){if(!("targetChange"in u))return be.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?be.min():f.readTime?Cn(f.readTime):be.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=Hm(this.serializer),n.addTarget=(function(u,f){let m;const _=f.target;if(m=Um(_)?{documents:zC(u,_)}:{query:BC(u,_).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=tT(u,f.resumeToken);const g=Bm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(be.min())>0){m.readTime=bh(u,f.snapshotVersion.toTimestamp());const g=Bm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const r=HC(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=Hm(this.serializer),n.removeTarget=e,this.K_(n)}}class ON extends mT{constructor(e,n,r,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=UC(e.writeResults,e.commitTime),r=Cn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Hm(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>rT(this.serializer,r)))};this.K_(n)}}class MN{}class VN extends MN{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new re(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(e,qm(n,r),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new re(Y.UNKNOWN,u.toString())}))}jo(e,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.jo(e,qm(n,r),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new re(Y.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function kN(s,e,n,r){return new VN(s,e,n,r)}class jN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fs(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ra="RemoteStore";class PN{constructor(e,n,r,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{r.enqueueAndForget((async()=>{ca(this)&&(le(ra,"Restarting streams for network reachability change."),await(async function(_){const g=we(_);g.Ea.add(4),await fu(g),g.Va.set("Unknown"),g.Ea.delete(4),await Xh(g)})(this))}))})),this.Va=new jN(r,o)}}async function Xh(s){if(ca(s))for(const e of s.Ra)await e(!0)}async function fu(s){for(const e of s.Ra)await e(!1)}function pT(s,e){const n=we(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Cp(n)?Ip(n):No(n).O_()&&Rp(n,e))}function xp(s,e){const n=we(s),r=No(n);n.Ia.delete(e),r.O_()&&gT(n,e),n.Ia.size===0&&(r.O_()?r.L_():ca(n)&&n.Va.set("Unknown"))}function Rp(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}No(s).Z_(e)}function gT(s,e){s.da.$e(e),No(s).X_(e)}function Ip(s){s.da=new NC({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),No(s).start(),s.Va.ua()}function Cp(s){return ca(s)&&!No(s).x_()&&s.Ia.size>0}function ca(s){return we(s).Ea.size===0}function _T(s){s.da=void 0}async function LN(s){s.Va.set("Online")}async function UN(s){s.Ia.forEach(((e,n)=>{Rp(s,e)}))}async function zN(s,e){_T(s),Cp(s)?(s.Va.ha(e),Ip(s)):s.Va.set("Unknown")}async function BN(s,e,n){if(s.Va.set("Online"),e instanceof eT&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.da.removeTarget(m))})(s,e)}catch(r){le(ra,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wh(s,r)}else if(e instanceof rh?s.da.Xe(e):e instanceof Wb?s.da.st(e):s.da.tt(e),!n.isEqual(be.min()))try{const r=await dT(s.localStore);n.compareTo(r)>=0&&await(function(u,f){const m=u.da.Tt(f);return m.targetChanges.forEach(((_,g)=>{if(_.resumeToken.approximateByteSize()>0){const b=u.Ia.get(g);b&&u.Ia.set(g,b.withResumeToken(_.resumeToken,f))}})),m.targetMismatches.forEach(((_,g)=>{const b=u.Ia.get(_);if(!b)return;u.Ia.set(_,b.withResumeToken(Xt.EMPTY_BYTE_STRING,b.snapshotVersion)),gT(u,_);const w=new rr(b.target,_,g,b.sequenceNumber);Rp(u,w)})),u.remoteSyncer.applyRemoteEvent(m)})(s,n)}catch(r){le(ra,"Failed to raise snapshot:",r),await wh(s,r)}}async function wh(s,e,n){if(!Io(e))throw e;s.Ea.add(1),await fu(s),s.Va.set("Offline"),n||(n=()=>dT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{le(ra,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Xh(s)}))}function yT(s,e){return e().catch((n=>wh(s,n,e)))}async function $h(s){const e=we(s),n=gr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:cp;for(;qN(e);)try{const o=await TN(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,HN(e,o)}catch(o){await wh(e,o)}vT(e)&&ET(e)}function qN(s){return ca(s)&&s.Ta.length<10}function HN(s,e){s.Ta.push(e);const n=gr(s);n.O_()&&n.Y_&&n.ea(e.mutations)}function vT(s){return ca(s)&&!gr(s).x_()&&s.Ta.length>0}function ET(s){gr(s).start()}async function FN(s){gr(s).ra()}async function GN(s){const e=gr(s);for(const n of s.Ta)e.ea(n.mutations)}async function KN(s,e,n){const r=s.Ta.shift(),o=yp.from(r,e,n);await yT(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await $h(s)}async function QN(s,e){e&&gr(s).Y_&&await(async function(r,o){if((function(f){return Jb(f)&&f!==Y.ABORTED})(o.code)){const u=r.Ta.shift();gr(r).B_(),await yT(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await $h(r)}})(s,e),vT(s)&&ET(s)}async function U0(s,e){const n=we(s);n.asyncQueue.verifyOperationInProgress(),le(ra,"RemoteStore received new credentials");const r=ca(n);n.Ea.add(3),await fu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Xh(n)}async function YN(s,e){const n=we(s);e?(n.Ea.delete(2),await Xh(n)):e||(n.Ea.add(2),await fu(n),n.Va.set("Unknown"))}function No(s){return s.ma||(s.ma=(function(n,r,o){const u=we(n);return u.sa(),new DN(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Zo:LN.bind(null,s),Yo:UN.bind(null,s),t_:zN.bind(null,s),J_:BN.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),Cp(s)?Ip(s):s.Va.set("Unknown")):(await s.ma.stop(),_T(s))}))),s.ma}function gr(s){return s.fa||(s.fa=(function(n,r,o){const u=we(n);return u.sa(),new ON(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:FN.bind(null,s),t_:QN.bind(null,s),ta:GN.bind(null,s),na:KN.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await $h(s)):(await s.fa.stop(),s.Ta.length>0&&(le(ra,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Np{constructor(e,n,r,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,u){const f=Date.now()+r,m=new Np(e,n,f,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dp(s,e){if(fs("AsyncQueue",`${e}: ${s}`),Io(s))return new re(Y.UNAVAILABLE,`${e}: ${s}`);throw s}class uo{static emptySet(e){return new uo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||pe.comparator(n.key,r.key):(n,r)=>pe.comparator(n.key,r.key),this.keyedMap=Bl(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof uo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new uo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class z0{constructor(){this.ga=new ft(pe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):_e(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class bo{constructor(e,n,r,o,u,f,m,_,g){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=_,this.hasCachedResults=g}static fromInitialDocuments(e,n,r,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new bo(e,n,uo.emptySet(n),f,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class XN{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class $N{constructor(){this.queries=B0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=we(n),u=o.queries;o.queries=B0(),u.forEach(((f,m)=>{for(const _ of m.ba)_.onError(r)}))})(this,new re(Y.ABORTED,"Firestore shutting down"))}}function B0(){return new ua((s=>Pb(s)),Hh)}async function Op(s,e){const n=we(s);let r=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(r=2):(u=new XN,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Dp(f,`Initialization of query '${to(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Vp(n)}async function Mp(s,e){const n=we(s),r=e.query;let o=3;const u=n.queries.get(r);if(u){const f=u.ba.indexOf(e);f>=0&&(u.ba.splice(f,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function JN(s,e){const n=we(s);let r=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ba)m.Fa(o)&&(r=!0);f.wa=o}}r&&Vp(n)}function ZN(s,e,n){const r=we(s),o=r.queries.get(e);if(o)for(const u of o.ba)u.onError(n);r.queries.delete(e)}function Vp(s){s.Ca.forEach((e=>{e.next()}))}var Km,q0;(q0=Km||(Km={})).Ma="default",q0.Cache="cache";class kp{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new bo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Km.Cache}}class bT{constructor(e){this.key=e}}class TT{constructor(e){this.key=e}}class WN{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Le(),this.mutatedKeys=Le(),this.eu=Lb(e),this.tu=new uo(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new z0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,w)=>{const x=o.get(b),q=Fh(this.query,w)?w:null,$=!!x&&this.mutatedKeys.has(x.key),te=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let ne=!1;x&&q?x.data.isEqual(q.data)?$!==te&&(r.track({type:3,doc:q}),ne=!0):this.su(x,q)||(r.track({type:2,doc:q}),ne=!0,(_&&this.eu(q,_)>0||g&&this.eu(q,g)<0)&&(m=!0)):!x&&q?(r.track({type:0,doc:q}),ne=!0):x&&!q&&(r.track({type:1,doc:x}),ne=!0,(_||g)&&(m=!0)),ne&&(q?(f=f.add(q),u=te?u.add(b):u.delete(b)):(f=f.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const b=this.query.limitType==="F"?f.last():f.first();f=f.delete(b.key),u=u.delete(b.key),r.track({type:1,doc:b})}return{tu:f,iu:r,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((b,w)=>(function(q,$){const te=ne=>{switch(ne){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Vt:ne})}};return te(q)-te($)})(b.type,w.type)||this.eu(b.doc,w.doc))),this.ou(r),o=o??!1;const m=n&&!o?this._u():[],_=this.Ya.size===0&&this.current&&!o?1:0,g=_!==this.Xa;return this.Xa=_,f.length!==0||g?{snapshot:new bo(this.query,e.tu,u,f,e.mutatedKeys,_===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new z0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Le(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new TT(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new bT(r))})),n}cu(e){this.Za=e.ks,this.Ya=Le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return bo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const jp="SyncEngine";class e4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class t4{constructor(e){this.key=e,this.hu=!1}}class n4{constructor(e,n,r,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ua((m=>Pb(m)),Hh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ft(pe.comparator),this.Au=new Map,this.Vu=new bp,this.du={},this.mu=new Map,this.fu=Eo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function i4(s,e,n=!0){const r=IT(s);let o;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await AT(r,e,n,!0),o}async function s4(s,e){const n=IT(s);await AT(n,e,!0,!1)}async function AT(s,e,n,r){const o=await AN(s.localStore,Pi(e)),u=o.targetId,f=s.sharedClientState.addLocalQueryTarget(u,n);let m;return r&&(m=await r4(s,e,u,f==="current",o.resumeToken)),s.isPrimaryClient&&n&&pT(s.remoteStore,o),m}async function r4(s,e,n,r,o){s.pu=(w,x,q)=>(async function(te,ne,oe,ye){let de=ne.view.ru(oe);de.Ss&&(de=await V0(te.localStore,ne.query,!1).then((({documents:N})=>ne.view.ru(N,de))));const De=ye&&ye.targetChanges.get(ne.targetId),Je=ye&&ye.targetMismatches.get(ne.targetId)!=null,Ee=ne.view.applyChanges(de,te.isPrimaryClient,De,Je);return F0(te,ne.targetId,Ee.au),Ee.snapshot})(s,w,x,q);const u=await V0(s.localStore,e,!0),f=new WN(e,u.ks),m=f.ru(u.documents),_=hu.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),g=f.applyChanges(m,s.isPrimaryClient,_);F0(s,n,g.au);const b=new e4(e,n,f);return s.Tu.set(e,b),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),g.snapshot}async function a4(s,e,n){const r=we(s),o=r.Tu.get(e),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((f=>!Hh(f,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Fm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&xp(r.remoteStore,o.targetId),Qm(r,o.targetId)})).catch(Ro)):(Qm(r,o.targetId),await Fm(r.localStore,o.targetId,!0))}async function o4(s,e){const n=we(s),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),xp(n.remoteStore,r.targetId))}async function l4(s,e,n){const r=p4(s);try{const o=await(function(f,m){const _=we(f),g=ot.now(),b=m.reduce(((q,$)=>q.add($.key)),Le());let w,x;return _.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let $=ds(),te=Le();return _.xs.getEntries(q,b).next((ne=>{$=ne,$.forEach(((oe,ye)=>{ye.isValidDocument()||(te=te.add(oe))}))})).next((()=>_.localDocuments.getOverlayedDocuments(q,$))).next((ne=>{w=ne;const oe=[];for(const ye of m){const de=wC(ye,w.get(ye.key).overlayedDocument);de!=null&&oe.push(new br(ye.key,de,Cb(de.value.mapValue),rn.exists(!0)))}return _.mutationQueue.addMutationBatch(q,g,oe,m)})).next((ne=>{x=ne;const oe=ne.applyToLocalDocumentSet(w,te);return _.documentOverlayCache.saveOverlays(q,ne.batchId,oe)}))})).then((()=>({batchId:x.batchId,changes:zb(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(f,m,_){let g=f.du[f.currentUser.toKey()];g||(g=new ft(Pe)),g=g.insert(m,_),f.du[f.currentUser.toKey()]=g})(r,o.batchId,n),await du(r,o.changes),await $h(r.remoteStore)}catch(o){const u=Dp(o,"Failed to persist write");n.reject(u)}}async function wT(s,e){const n=we(s);try{const r=await EN(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?qe(f.hu,14607):o.removedDocuments.size>0&&(qe(f.hu,42227),f.hu=!1))})),await du(n,r,e)}catch(r){await Ro(r)}}function H0(s,e,n){const r=we(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const _=we(f);_.onlineState=m;let g=!1;_.queries.forEach(((b,w)=>{for(const x of w.ba)x.va(m)&&(g=!0)})),g&&Vp(_)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function u4(s,e,n){const r=we(s);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),u=o&&o.key;if(u){let f=new ft(pe.comparator);f=f.insert(u,Ut.newNoDocument(u,be.min()));const m=Le().add(u),_=new Qh(be.min(),new Map,new ft(Pe),f,m);await wT(r,_),r.Ru=r.Ru.remove(u),r.Au.delete(e),Pp(r)}else await Fm(r.localStore,e,!1).then((()=>Qm(r,e,n))).catch(Ro)}async function c4(s,e){const n=we(s),r=e.batch.batchId;try{const o=await vN(n.localStore,e);xT(n,r,null),ST(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await du(n,o)}catch(o){await Ro(o)}}async function h4(s,e,n){const r=we(s);try{const o=await(function(f,m){const _=we(f);return _.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let b;return _.mutationQueue.lookupMutationBatch(g,m).next((w=>(qe(w!==null,37113),b=w.keys(),_.mutationQueue.removeMutationBatch(g,w)))).next((()=>_.mutationQueue.performConsistencyCheck(g))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(g,b,m))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,b))).next((()=>_.localDocuments.getDocuments(g,b)))}))})(r.localStore,e);xT(r,e,n),ST(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await du(r,o)}catch(o){await Ro(o)}}function ST(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function xT(s,e,n){const r=we(s);let o=r.du[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function Qm(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||RT(s,r)}))}function RT(s,e){s.Eu.delete(e.path.canonicalString());const n=s.Ru.get(e);n!==null&&(xp(s.remoteStore,n),s.Ru=s.Ru.remove(e),s.Au.delete(n),Pp(s))}function F0(s,e,n){for(const r of n)r instanceof bT?(s.Vu.addReference(r.key,e),f4(s,r)):r instanceof TT?(le(jp,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||RT(s,r.key)):_e(19791,{wu:r})}function f4(s,e){const n=e.key,r=n.path.canonicalString();s.Ru.get(n)||s.Eu.has(r)||(le(jp,"New document in limbo: "+n),s.Eu.add(r),Pp(s))}function Pp(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new pe(it.fromString(e)),r=s.fu.next();s.Au.set(r,new t4(n)),s.Ru=s.Ru.insert(n,r),pT(s.remoteStore,new rr(Pi(qh(n.path)),r,"TargetPurposeLimboResolution",zh.ce))}}async function du(s,e,n){const r=we(s),o=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,_)=>{f.push(r.pu(_,e,n).then((g=>{if((g||n)&&r.isPrimaryClient){const b=g?!g.fromCache:n?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,b?"current":"not-current")}if(g){o.push(g);const b=Ap.Es(_.targetId,g);u.push(b)}})))})),await Promise.all(f),r.Pu.J_(o),await(async function(_,g){const b=we(_);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>Z.forEach(g,(x=>Z.forEach(x.Ts,(q=>b.persistence.referenceDelegate.addReference(w,x.targetId,q))).next((()=>Z.forEach(x.Is,(q=>b.persistence.referenceDelegate.removeReference(w,x.targetId,q)))))))))}catch(w){if(!Io(w))throw w;le(wp,"Failed to update sequence numbers: "+w)}for(const w of g){const x=w.targetId;if(!w.fromCache){const q=b.vs.get(x),$=q.snapshotVersion,te=q.withLastLimboFreeSnapshotVersion($);b.vs=b.vs.insert(x,te)}}})(r.localStore,u))}async function d4(s,e){const n=we(s);if(!n.currentUser.isEqual(e)){le(jp,"User change. New user:",e.toKey());const r=await fT(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((_=>{_.reject(new re(Y.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await du(n,r.Ns)}}function m4(s,e){const n=we(s),r=n.Au.get(e);if(r&&r.hu)return Le().add(r.key);{let o=Le();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function IT(s){const e=we(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=wT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=m4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=u4.bind(null,e),e.Pu.J_=JN.bind(null,e.eventManager),e.Pu.yu=ZN.bind(null,e.eventManager),e}function p4(s){const e=we(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=c4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=h4.bind(null,e),e}class Sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return yN(this.persistence,new pN,e.initialUser,this.serializer)}Cu(e){return new hT(Tp.Vi,this.serializer)}Du(e){return new SN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sh.provider={build:()=>new Sh};class g4 extends Sh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){qe(this.persistence.referenceDelegate instanceof Ah,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new eN(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new hT((r=>Ah.Vi(r,n)),this.serializer)}}class Ym{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>H0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=d4.bind(null,this.syncEngine),await YN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new $N})()}createDatastore(e){const n=Yh(e.databaseInfo.databaseId),r=NN(e.databaseInfo);return kN(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,u,f,m){return new PN(r,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>H0(this.syncEngine,n,0)),(function(){return P0.v()?new P0:new xN})())}createSyncEngine(e,n){return(function(o,u,f,m,_,g,b){const w=new n4(o,u,f,m,_,g);return b&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=we(n);le(ra,"RemoteStore shutting down."),r.Ea.add(5),await fu(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ym.provider={build:()=>new Ym};class Lp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):fs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}let _4=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new re(Y.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(o,u){const f=we(o),m={documents:u.map((w=>Th(f.serializer,w)))},_=await f.jo("BatchGetDocuments",f.serializer.databaseId,it.emptyPath(),m,u.length),g=new Map;_.forEach((w=>{const x=PC(f.serializer,w);g.set(x.key.toString(),x)}));const b=[];return u.forEach((w=>{const x=g.get(w.toString());qe(!!x,55234,{key:w}),b.push(x)})),b})(this.datastore,e);return n.forEach((r=>this.recordVersion(r))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new _p(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,r)=>{const o=pe.fromPath(r);this.mutations.push(new $b(o,this.precondition(o)))})),await(async function(r,o){const u=we(r),f={writes:o.map((m=>rT(u.serializer,m)))};await u.Wo("Commit",u.serializer.databaseId,it.emptyPath(),f)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw _e(50498,{Gu:e.constructor.name});n=be.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new re(Y.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(be.min())?rn.exists(!1):rn.updateTime(n):rn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(be.min()))throw new re(Y.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return rn.updateTime(n)}return rn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};class y4{constructor(e,n,r,o,u){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=o,this.deferred=u,this.zu=r.maxAttempts,this.M_=new Sp(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const e=new _4(this.datastore),n=this.Ju(e);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((o=>{this.Zu(o)}))))})).catch((r=>{this.Zu(r)}))}))}Ju(e){try{const n=this.updateFunction(e);return!uu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Zu(e){this.zu>0&&this.Xu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(e)}Xu(e){if(e?.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!Jb(n)}return!1}}const _r="FirestoreClient";class v4{constructor(e,n,r,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=up.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{le(_r,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(le(_r,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Dp(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Am(s,e){s.asyncQueue.verifyOperationInProgress(),le(_r,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await fT(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function G0(s,e){s.asyncQueue.verifyOperationInProgress();const n=await E4(s);le(_r,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>U0(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>U0(e.remoteStore,o))),s._onlineComponents=e}async function E4(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){le(_r,"Using user provided OfflineComponentProvider");try{await Am(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;po("Error using user provided cache. Falling back to memory cache: "+n),await Am(s,new Sh)}}else le(_r,"Using default OfflineComponentProvider"),await Am(s,new g4(void 0));return s._offlineComponents}async function Up(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(le(_r,"Using user provided OnlineComponentProvider"),await G0(s,s._uninitializedComponentsProvider._online)):(le(_r,"Using default OnlineComponentProvider"),await G0(s,new Ym))),s._onlineComponents}function b4(s){return Up(s).then((e=>e.syncEngine))}function T4(s){return Up(s).then((e=>e.datastore))}async function xh(s){const e=await Up(s),n=e.eventManager;return n.onListen=i4.bind(null,e.syncEngine),n.onUnlisten=a4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=s4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=o4.bind(null,e.syncEngine),n}function A4(s,e,n,r){const o=new Lp(r),u=new kp(e,o,n);return s.asyncQueue.enqueueAndForget((async()=>Op(await xh(s),u))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>Mp(await xh(s),u)))}}function w4(s,e,n={}){const r=new ji;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,_,g){const b=new Lp({next:x=>{b.Nu(),f.enqueueAndForget((()=>Mp(u,w)));const q=x.docs.has(m);!q&&x.fromCache?g.reject(new re(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&x.fromCache&&_&&_.source==="server"?g.reject(new re(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(x)},error:x=>g.reject(x)}),w=new kp(qh(m.path),b,{includeMetadataChanges:!0,Ka:!0});return Op(u,w)})(await xh(s),s.asyncQueue,e,n,r))),r.promise}function S4(s,e,n={}){const r=new ji;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,_,g){const b=new Lp({next:x=>{b.Nu(),f.enqueueAndForget((()=>Mp(u,w))),x.fromCache&&_.source==="server"?g.reject(new re(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(x)},error:x=>g.reject(x)}),w=new kp(m,b,{includeMetadataChanges:!0,Ka:!0});return Op(u,w)})(await xh(s),s.asyncQueue,e,n,r))),r.promise}function x4(s,e){const n=new ji;return s.asyncQueue.enqueueAndForget((async()=>l4(await b4(s),e,n))),n.promise}function R4(s,e,n){const r=new ji;return s.asyncQueue.enqueueAndForget((async()=>{const o=await T4(s);new y4(s.asyncQueue,o,n,e,r).ju()})),r.promise}function CT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const I4="ComponentProvider",K0=new Map;function C4(s,e,n,r,o){return new QI(s,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,CT(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const NT="firestore.googleapis.com",Q0=!0;class Y0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new re(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NT,this.ssl=Q0}else this.host=e.host,this.ssl=e.ssl??Q0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ZC)throw new re(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new re(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new re(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new re(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jh{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Y0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new re(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new re(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Y0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new xI;switch(r.type){case"firstParty":return new NI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new re(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=K0.get(n);r&&(le(I4,"Removing Datastore"),K0.delete(n),r.terminate())})(this),Promise.resolve()}}function N4(s,e,n,r={}){s=In(s,Jh);const o=wo(e),u=s._getSettings(),f={...u,emulatorOptions:s._getEmulatorOptions()},m=`${e}:${n}`;o&&(OE(`https://${m}`),ME("Firestore",!0)),u.host!==NT&&u.host!==m&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...u,host:m,ssl:o,emulatorOptions:r};if(!cs(_,f)&&(s._setSettings(_),r.mockUserToken)){let g,b;if(typeof r.mockUserToken=="string")g=r.mockUserToken,b=Zt.MOCK_USER;else{g=Ix(r.mockUserToken,s._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new re(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Zt(w)}s._authCredentials=new RI(new _b(g,b))}}class _s{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _s(this.firestore,e,this._query)}}class ct{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ur(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ct(this.firestore,e,this._key)}toJSON(){return{type:ct._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(lu(n,ct._jsonSchema))return new ct(e,r||null,new pe(it.fromString(n.referencePath)))}}ct._jsonSchemaVersion="firestore/documentReference/1.0",ct._jsonSchema={type:Dt("string",ct._jsonSchemaVersion),referencePath:Dt("string")};class ur extends _s{constructor(e,n,r){super(e,n,qh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ct(this.firestore,null,new pe(e))}withConverter(e){return new ur(this.firestore,e,this._path)}}function D4(s,e,...n){if(s=ht(s),yb("collection","path",e),s instanceof Jh){const r=it.fromString(e,...n);return o0(r),new ur(s,null,r)}{if(!(s instanceof ct||s instanceof ur))throw new re(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(it.fromString(e,...n));return o0(r),new ur(s.firestore,null,r)}}function ms(s,e,...n){if(s=ht(s),arguments.length===1&&(e=up.newId()),yb("doc","path",e),s instanceof Jh){const r=it.fromString(e,...n);return a0(r),new ct(s,null,new pe(r))}{if(!(s instanceof ct||s instanceof ur))throw new re(Y.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(it.fromString(e,...n));return a0(r),new ct(s.firestore,s instanceof ur?s.converter:null,new pe(r))}}const X0="AsyncQueue";class $0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Sp(this,"async_queue_retry"),this._c=()=>{const r=Tm();r&&le(X0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Tm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Tm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ji;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Io(e))throw e;le(X0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,fs("INTERNAL UNHANDLED ERROR: ",J0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Np.createAndSchedule(this,e,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&_e(47125,{Pc:J0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function J0(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class yr extends Jh{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new $0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $0(e),this._firestoreClient=void 0,await e}}}function O4(s,e){const n=typeof s=="object"?s:tp(),r=typeof s=="string"?s:_h,o=la(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=xx("firestore");u&&N4(o,...u)}return o}function mu(s){if(s._terminated)throw new re(Y.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||M4(s),s._firestoreClient}function M4(s){const e=s._freezeSettings(),n=C4(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new v4(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(s._componentsProvider))}class Sn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sn(Xt.fromBase64String(e))}catch(n){throw new re(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Sn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Sn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(lu(e,Sn._jsonSchema))return Sn.fromBase64String(e.bytes)}}Sn._jsonSchemaVersion="firestore/bytes/1.0",Sn._jsonSchema={type:Dt("string",Sn._jsonSchemaVersion),bytes:Dt("string")};class Zh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new re(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Do{constructor(e){this._methodName=e}}class Li{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new re(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new re(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Li._jsonSchemaVersion}}static fromJSON(e){if(lu(e,Li._jsonSchema))return new Li(e.latitude,e.longitude)}}Li._jsonSchemaVersion="firestore/geoPoint/1.0",Li._jsonSchema={type:Dt("string",Li._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};class ri{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(lu(e,ri._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ri(e.vectorValues);throw new re(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ri._jsonSchemaVersion="firestore/vectorValue/1.0",ri._jsonSchema={type:Dt("string",ri._jsonSchemaVersion),vectorValues:Dt("object")};const V4=/^__.*__$/;class k4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new br(e,this.data,this.fieldMask,n,this.fieldTransforms):new cu(e,this.data,n,this.fieldTransforms)}}class DT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new br(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function OT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{dataSource:s})}}class Wh{constructor(e,n,r,o,u,f){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Wh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Rh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(OT(this.dataSource)&&V4.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class j4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Yh(e)}createContext(e,n,r,o=!1){return new Wh({dataSource:e,methodName:n,targetDoc:r,path:Qt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ef(s){const e=s._freezeSettings(),n=Yh(s._databaseId);return new j4(s._databaseId,!!e.ignoreUndefinedProperties,n)}function MT(s,e,n,r,o,u={}){const f=s.createContext(u.merge||u.mergeFields?2:0,e,n,o);Hp("Data must be an object, but it was:",f,r);const m=jT(r,f);let _,g;if(u.merge)_=new xn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const b=[];for(const w of u.mergeFields){const x=To(e,w,n);if(!f.contains(x))throw new re(Y.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);UT(b,x)||b.push(x)}_=new xn(b),g=f.fieldTransforms.filter((w=>_.covers(w.field)))}else _=null,g=f.fieldTransforms;return new k4(new sn(m),_,g)}class tf extends Do{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tf}}function P4(s,e,n){return new Wh({dataSource:3,targetDoc:e.settings.targetDoc,methodName:s._methodName,arrayElement:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class zp extends Do{_toFieldTransform(e){return new gp(e.path,new iu)}isEqual(e){return e instanceof zp}}class Bp extends Do{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=P4(this,e,!0),r=this.Ac.map((u=>Oo(u,n))),o=new vo(r);return new gp(e.path,o)}isEqual(e){return e instanceof Bp&&cs(this.Ac,e.Ac)}}class qp extends Do{constructor(e,n){super(e),this.Vc=n}_toFieldTransform(e){const n=new ru(e.serializer,Hb(e.serializer,this.Vc));return new gp(e.path,n)}isEqual(e){return e instanceof qp&&this.Vc===e.Vc}}function VT(s,e,n,r){const o=s.createContext(1,e,n);Hp("Data must be an object, but it was:",o,r);const u=[],f=sn.empty();Er(r,((_,g)=>{const b=LT(e,_,n);g=ht(g);const w=o.childContextForFieldPath(b);if(g instanceof tf)u.push(b);else{const x=Oo(g,w);x!=null&&(u.push(b),f.set(b,x))}}));const m=new xn(u);return new DT(f,m,o.fieldTransforms)}function kT(s,e,n,r,o,u){const f=s.createContext(1,e,n),m=[To(e,r,n)],_=[o];if(u.length%2!=0)throw new re(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)m.push(To(e,u[x])),_.push(u[x+1]);const g=[],b=sn.empty();for(let x=m.length-1;x>=0;--x)if(!UT(g,m[x])){const q=m[x];let $=_[x];$=ht($);const te=f.childContextForFieldPath(q);if($ instanceof tf)g.push(q);else{const ne=Oo($,te);ne!=null&&(g.push(q),b.set(q,ne))}}const w=new xn(g);return new DT(b,w,f.fieldTransforms)}function L4(s,e,n,r=!1){return Oo(n,s.createContext(r?4:3,e))}function Oo(s,e){if(PT(s=ht(s)))return Hp("Unsupported field value:",e,s),jT(s,e);if(s instanceof Do)return(function(r,o){if(!OT(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const u=[];let f=0;for(const m of r){let _=Oo(m,o.childContextForArray(f));_==null&&(_={nullValue:"NULL_VALUE"}),u.push(_),f++}return{arrayValue:{values:u}}})(s,e)}return(function(r,o){if((r=ht(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Hb(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=ot.fromDate(r);return{timestampValue:bh(o.serializer,u)}}if(r instanceof ot){const u=new ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bh(o.serializer,u)}}if(r instanceof Li)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Sn)return{bytesValue:tT(o.serializer,r._byteString)};if(r instanceof ct){const u=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ep(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ri)return(function(f,m){const _=f instanceof ri?f.toArray():f;return{mapValue:{fields:{[Rb]:{stringValue:Ib},[yh]:{arrayValue:{values:_.map((b=>{if(typeof b!="number")throw m.createError("VectorValues must only contain numeric values.");return pp(m.serializer,b)}))}}}}}})(r,o);if(uT(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Uh(r)}`)})(s,e)}function jT(s,e){const n={};return bb(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Er(s,((r,o)=>{const u=Oo(o,e.childContextForField(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function PT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ot||s instanceof Li||s instanceof Sn||s instanceof ct||s instanceof Do||s instanceof ri||uT(s))}function Hp(s,e,n){if(!PT(n)||!vb(n)){const r=Uh(n);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function To(s,e,n){if((e=ht(e))instanceof Zh)return e._internalPath;if(typeof e=="string")return LT(s,e);throw Rh("Field path arguments must be of type string or ",s,!1,void 0,n)}const U4=new RegExp("[~\\*/\\[\\]]");function LT(s,e,n){if(e.search(U4)>=0)throw Rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Zh(...e.split("."))._internalPath}catch{throw Rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Rh(s,e,n,r,o){const u=r&&!r.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let _="";return(u||f)&&(_+=" (found",u&&(_+=` in field ${r}`),f&&(_+=` in document ${o}`),_+=")"),new re(Y.INVALID_ARGUMENT,m+s+_)}function UT(s,e){return s.some((n=>n.isEqual(e)))}class zT{convertValue(e,n="none"){switch(pr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(mr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Er(e,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(e){const n=e.fields?.[yh].arrayValue?.values?.map((r=>vt(r.doubleValue)));return new ri(n)}convertGeoPoint(e){return new Li(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Bh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Wl(e));default:return null}}convertTimestamp(e){const n=dr(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=it.fromString(e);qe(lT(r),9688,{name:e});const o=new eu(r.get(1),r.get(3)),u=new pe(r.popFirst(5));return o.isEqual(n)||fs(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class nf extends zT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ct(this.firestore,null,n)}}function BT(){return new zp("serverTimestamp")}function z4(...s){return new Bp("arrayUnion",s)}function qT(s){return new qp("increment",s)}const Z0="@firebase/firestore",W0="4.10.0";function eE(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(s,["next","error","complete"])}class Ih{constructor(e,n,r,o,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new B4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(To("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class B4 extends Ih{data(){return super.data()}}function HT(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new re(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fp{}class Gp extends Fp{}function q4(s,e,...n){let r=[];e instanceof Fp&&r.push(e),r=r.concat(n),(function(u){const f=u.filter((_=>_ instanceof Qp)).length,m=u.filter((_=>_ instanceof Kp)).length;if(f>1||f>0&&m>0)throw new re(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class Kp extends Gp{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Kp(e,n,r)}_apply(e){const n=this._parse(e);return FT(e._query,n),new _s(e.firestore,e.converter,zm(e._query,n))}_parse(e){const n=ef(e.firestore);return(function(u,f,m,_,g,b,w){let x;if(g.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new re(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){nE(w,b);const $=[];for(const te of w)$.push(tE(_,u,te));x={arrayValue:{values:$}}}else x=tE(_,u,w)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||nE(w,b),x=L4(m,f,w,b==="in"||b==="not-in");return Nt.create(g,b,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Qp extends Fp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Qp(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:li.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const _ of m)FT(f,_),f=zm(f,_)})(e._query,n),new _s(e.firestore,e.converter,zm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Yp extends Gp{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Yp(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new re(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new re(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new nu(u,f)})(e._query,this._field,this._direction);return new _s(e.firestore,e.converter,hC(e._query,n))}}function H4(s,e="asc"){const n=e,r=To("orderBy",s);return Yp._create(r,n)}class Xp extends Gp{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Xp(e,n,r)}_apply(e){return new _s(e.firestore,e.converter,Eh(e._query,this._limit,this._limitType))}}function F4(s){return Xp._create("limit",s,"F")}function tE(s,e,n){if(typeof(n=ht(n))=="string"){if(n==="")throw new re(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jb(e)&&n.indexOf("/")!==-1)throw new re(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(it.fromString(n));if(!pe.isDocumentKey(r))throw new re(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return p0(s,new pe(r))}if(n instanceof ct)return p0(s,n._key);throw new re(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Uh(n)}.`)}function nE(s,e){if(!Array.isArray(s)||s.length===0)throw new re(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function FT(s,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new re(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new re(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function GT(s,e,n){let r;return r=s?n&&(n.merge||n.mergeFields)?s.toFirestore(e,n):s.toFirestore(e):e,r}class G4 extends zT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ct(this.firestore,null,n)}}class ro{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cr extends Ih{constructor(e,n,r,o,u,f){super(e,n,r,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(To("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new re(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=cr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}cr._jsonSchemaVersion="firestore/documentSnapshot/1.0",cr._jsonSchema={type:Dt("string",cr._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class ah extends cr{data(e={}){return super.data(e)}}class ta{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new ro(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new ah(this._firestore,this._userDataWriter,r.key,r,new ro(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new re(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const _=new ah(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ro(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:_,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const _=new ah(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ro(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,b=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),b=f.indexOf(m.doc.key)),{type:K4(m.type),doc:_,oldIndex:g,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new re(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ta._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=up.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function K4(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:s})}}ta._jsonSchemaVersion="firestore/querySnapshot/1.0",ta._jsonSchema={type:Dt("string",ta._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};const Q4={maxAttempts:5};function Hl(s,e){if((s=ht(s)).firestore!==e)throw new re(Y.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}class Y4{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=ef(e)}get(e){const n=Hl(e,this._firestore),r=new G4(this._firestore);return this._transaction.lookup([n._key]).then((o=>{if(!o||o.length!==1)return _e(24041);const u=o[0];if(u.isFoundDocument())return new Ih(this._firestore,r,u.key,u,n.converter);if(u.isNoDocument())return new Ih(this._firestore,r,n._key,null,n.converter);throw _e(18433,{doc:u})}))}set(e,n,r){const o=Hl(e,this._firestore),u=GT(o.converter,n,r),f=MT(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,r);return this._transaction.set(o._key,f),this}update(e,n,r,...o){const u=Hl(e,this._firestore);let f;return f=typeof(n=ht(n))=="string"||n instanceof Zh?kT(this._dataReader,"Transaction.update",u._key,n,r,o):VT(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,f),this}delete(e){const n=Hl(e,this._firestore);return this._transaction.delete(n._key),this}}class X4 extends Y4{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Hl(e,this._firestore),r=new nf(this._firestore);return super.get(e).then((o=>new cr(this._firestore,r,n._key,o._document,new ro(!1,!1),n.converter)))}}function $4(s,e,n){s=In(s,yr);const r={...Q4,...n};(function(f){if(f.maxAttempts<1)throw new re(Y.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r);const o=mu(s);return R4(o,(u=>e(new X4(s,u))),r)}function $p(s){s=In(s,ct);const e=In(s.firestore,yr),n=mu(e);return w4(n,s._key).then((r=>QT(e,s,r)))}function J4(s){s=In(s,_s);const e=In(s.firestore,yr),n=mu(e),r=new nf(e);return HT(s._query),S4(n,s._query).then((o=>new ta(e,r,s,o)))}function au(s,e,n){s=In(s,ct);const r=In(s.firestore,yr),o=GT(s.converter,e,n),u=ef(r);return KT(r,[MT(u,"setDoc",s._key,o,s.converter!==null,n).toMutation(s._key,rn.none())])}function Z4(s,e,n,...r){s=In(s,ct);const o=In(s.firestore,yr),u=ef(o);let f;return f=typeof(e=ht(e))=="string"||e instanceof Zh?kT(u,"updateDoc",s._key,e,n,r):VT(u,"updateDoc",s._key,e),KT(o,[f.toMutation(s._key,rn.exists(!0))])}function W4(s,...e){s=ht(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||eE(e[r])||(n=e[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(eE(e[r])){const g=e[r];e[r]=g.next?.bind(g),e[r+1]=g.error?.bind(g),e[r+2]=g.complete?.bind(g)}let u,f,m;if(s instanceof ct)f=In(s.firestore,yr),m=qh(s._key.path),u={next:g=>{e[r]&&e[r](QT(f,s,g))},error:e[r+1],complete:e[r+2]};else{const g=In(s,_s);f=In(g.firestore,yr),m=g._query;const b=new nf(f);u={next:w=>{e[r]&&e[r](new ta(f,b,g,w))},error:e[r+1],complete:e[r+2]},HT(s._query)}const _=mu(f);return A4(_,m,o,u)}function KT(s,e){const n=mu(s);return x4(n,e)}function QT(s,e,n){const r=n.docs.get(e._key),o=new nf(s);return new cr(s,o,e._key,r,new ro(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){SI(So),Bi(new oi("firestore",((r,{instanceIdentifier:o,options:u})=>{const f=r.getProvider("app").getImmediate(),m=new yr(new II(r.getProvider("auth-internal")),new DI(f,r.getProvider("app-check-internal")),YI(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Hn(Z0,W0,e),Hn(Z0,W0,"esm2020")})();function YT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eD=YT,XT=new oa("auth","Firebase",YT());const Ch=new jh("@firebase/auth");function tD(s,...e){Ch.logLevel<=je.WARN&&Ch.warn(`Auth (${So}): ${s}`,...e)}function oh(s,...e){Ch.logLevel<=je.ERROR&&Ch.error(`Auth (${So}): ${s}`,...e)}function ps(s,...e){throw Jp(s,...e)}function Ui(s,...e){return Jp(s,...e)}function $T(s,e,n){const r={...eD(),[e]:n};return new oa("auth","Firebase",r).create(e,{appName:s.name})}function hr(s){return $T(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jp(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return XT.create(s,...e)}function Ae(s,e,...n){if(!s)throw Jp(e,...n)}function ls(s){const e="INTERNAL ASSERTION FAILED: "+s;throw oh(e),new Error(e)}function gs(s,e){s||ls(e)}function Xm(){return typeof self<"u"&&self.location?.href||""}function nD(){return iE()==="http:"||iE()==="https:"}function iE(){return typeof self<"u"&&self.location?.protocol||null}function iD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nD()||VE()||"connection"in navigator)?navigator.onLine:!0}function sD(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class pu{constructor(e,n){this.shortDelay=e,this.longDelay=n,gs(n>e,"Short delay should be less than long delay!"),this.isMobile=Dx()||Vx()}get(){return iD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Zp(s,e){gs(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class JT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ls("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ls("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ls("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const aD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],oD=new pu(3e4,6e4);function sf(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function ha(s,e,n,r,o={}){return ZT(s,o,async()=>{let u={},f={};r&&(e==="GET"?f=r:u={body:JSON.stringify(r)});const m=ou({key:s.config.apiKey,...f}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const g={method:e,headers:_,...u};return Mx()||(g.referrerPolicy="no-referrer"),s.emulatorConfig&&wo(s.emulatorConfig.host)&&(g.credentials="include"),JT.fetch()(await e1(s,s.config.apiHost,n,m),g)})}async function ZT(s,e,n){s._canInitEmulator=!1;const r={...rD,...e};try{const o=new lD(s),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Wc(s,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[_,g]=m.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wc(s,"credential-already-in-use",f);if(_==="EMAIL_EXISTS")throw Wc(s,"email-already-in-use",f);if(_==="USER_DISABLED")throw Wc(s,"user-disabled",f);const b=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw $T(s,b,g);ps(s,b)}}catch(o){if(o instanceof ci)throw o;ps(s,"network-request-failed",{message:String(o)})}}async function WT(s,e,n,r,o={}){const u=await ha(s,e,n,r,o);return"mfaPendingCredential"in u&&ps(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function e1(s,e,n,r){const o=`${e}${n}?${r}`,u=s,f=u.config.emulator?Zp(s.config,o):`${s.config.apiScheme}://${o}`;return aD.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class lD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ui(this.auth,"network-request-failed")),oD.get())})}}function Wc(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Ui(s,e,r);return o.customData._tokenResponse=n,o}async function uD(s,e){return ha(s,"POST","/v1/accounts:delete",e)}async function Nh(s,e){return ha(s,"POST","/v1/accounts:lookup",e)}function $l(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function cD(s,e=!1){const n=ht(s),r=await n.getIdToken(e),o=Wp(r);Ae(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:r,authTime:$l(wm(o.auth_time)),issuedAtTime:$l(wm(o.iat)),expirationTime:$l(wm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function wm(s){return Number(s)*1e3}function Wp(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return oh("JWT malformed, contained fewer than 3 sections"),null;try{const o=IE(n);return o?JSON.parse(o):(oh("Failed to decode base64 JWT payload"),null)}catch(o){return oh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function sE(s){const e=Wp(s);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ao(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ci&&hD(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function hD({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class fD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class $m{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$l(this.lastLoginAt),this.creationTime=$l(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Dh(s){const e=s.auth,n=await s.getIdToken(),r=await Ao(s,Nh(e,{idToken:n}));Ae(r?.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const u=o.providerUserInfo?.length?t1(o.providerUserInfo):[],f=mD(s.providerData,u),m=s.isAnonymous,_=!(s.email&&o.passwordHash)&&!f?.length,g=m?_:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new $m(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(s,b)}async function dD(s){const e=ht(s);await Dh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mD(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function t1(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function pD(s,e){const n=await ZT(s,{},async()=>{const r=ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,f=await e1(s,o,"/v1/token",`key=${u}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:m,body:r};return s.emulatorConfig&&wo(s.emulatorConfig.host)&&(_.credentials="include"),JT.fetch()(f,_)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function gD(s,e){return ha(s,"POST","/v2/accounts:revokeToken",sf(s,e))}class co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=sE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await pD(e,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,f=new co;return r&&(Ae(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),o&&(Ae(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ae(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new co,this.toJSON())}_performRefresh(){return ls("not implemented")}}function er(s,e){Ae(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class si{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new fD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new $m(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Ao(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return cD(this,e)}reload(){return dD(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new si({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Dh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(hr(this.auth));const e=await this.getIdToken();return await Ao(this,uD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,_=n._redirectEventId??void 0,g=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:w,emailVerified:x,isAnonymous:q,providerData:$,stsTokenManager:te}=n;Ae(w&&te,e,"internal-error");const ne=co.fromJSON(this.name,te);Ae(typeof w=="string",e,"internal-error"),er(r,e.name),er(o,e.name),Ae(typeof x=="boolean",e,"internal-error"),Ae(typeof q=="boolean",e,"internal-error"),er(u,e.name),er(f,e.name),er(m,e.name),er(_,e.name),er(g,e.name),er(b,e.name);const oe=new si({uid:w,auth:e,email:o,emailVerified:x,displayName:r,isAnonymous:q,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:ne,createdAt:g,lastLoginAt:b});return $&&Array.isArray($)&&(oe.providerData=$.map(ye=>({...ye}))),_&&(oe._redirectEventId=_),oe}static async _fromIdTokenResponse(e,n,r=!1){const o=new co;o.updateFromServerResponse(n);const u=new si({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Dh(u),u}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Ae(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?t1(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new co;m.updateFromIdToken(r);const _=new si({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new $m(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(_,g),_}}const rE=new Map;function us(s){gs(s instanceof Function,"Expected a class definition");let e=rE.get(s);return e?(gs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,rE.set(s,e),e)}class n1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}n1.type="NONE";const aE=n1;function lh(s,e,n){return`firebase:${s}:${e}:${n}`}class ho{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=lh(this.userKey,o.apiKey,u),this.fullPersistenceKey=lh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Nh(this.auth,{idToken:e}).catch(()=>{});return n?si._fromGetAccountInfoResponse(this.auth,n,e):null}return si._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ho(us(aE),e,r);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||us(aE);const f=lh(r,e.config.apiKey,e.name);let m=null;for(const g of n)try{const b=await g._get(f);if(b){let w;if(typeof b=="string"){const x=await Nh(e,{idToken:b}).catch(()=>{});if(!x)break;w=await si._fromGetAccountInfoResponse(e,x,b)}else w=si._fromJSON(e,b);g!==u&&(m=w),u=g;break}}catch{}const _=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!_.length?new ho(u,e,r):(u=_[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new ho(u,e,r))}}function oE(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(a1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(i1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(l1(e))return"Blackberry";if(u1(e))return"Webos";if(s1(e))return"Safari";if((e.includes("chrome/")||r1(e))&&!e.includes("edge/"))return"Chrome";if(o1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function i1(s=Wt()){return/firefox\//i.test(s)}function s1(s=Wt()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function r1(s=Wt()){return/crios\//i.test(s)}function a1(s=Wt()){return/iemobile/i.test(s)}function o1(s=Wt()){return/android/i.test(s)}function l1(s=Wt()){return/blackberry/i.test(s)}function u1(s=Wt()){return/webos/i.test(s)}function eg(s=Wt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function _D(s=Wt()){return eg(s)&&!!window.navigator?.standalone}function yD(){return kx()&&document.documentMode===10}function c1(s=Wt()){return eg(s)||o1(s)||u1(s)||l1(s)||/windows phone/i.test(s)||a1(s)}function h1(s,e=[]){let n;switch(s){case"Browser":n=oE(Wt());break;case"Worker":n=`${oE(Wt())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${So}/${r}`}class vD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((f,m)=>{try{const _=e(u);f(_)}catch(_){m(_)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function ED(s,e={}){return ha(s,"GET","/v2/passwordPolicy",sf(s,e))}const bD=6;class TD{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??bD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class AD{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lE(this),this.idTokenSubscription=new lE(this),this.beforeStateQueue=new vD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=us(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ho.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Nh(this,{idToken:e}),r=await si._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ii(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=r?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Dh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=sD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ii(this.app))return Promise.reject(hr(this));const n=e?ht(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(hr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ii(this.app)?Promise.reject(hr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(us(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ED(this),n=new TD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new oa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await gD(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&us(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await ho.create(this,[us(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const _=e.addObserver(n,r,o);return()=>{f=!0,_()}}else{const _=e.addObserver(n);return()=>{f=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=h1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&tD(`Error while retrieving App Check token: ${e.error}`),e?.token}}function rf(s){return ht(s)}class lE{constructor(e){this.auth=e,this.observer=null,this.addObserver=qx(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let tg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wD(s){tg=s}function SD(s){return tg.loadJS(s)}function xD(){return tg.gapiScript}function RD(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function ID(s,e){const n=la(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(cs(u,e??{}))return o;ps(o,"already-initialized")}return n.initialize({options:e})}function CD(s,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(us);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function ND(s,e,n){const r=rf(s);Ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=f1(e),{host:f,port:m}=DD(e),_=m===null?"":`:${m}`,g={url:`${u}//${f}${_}/`},b=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ae(cs(g,r.config.emulator)&&cs(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,wo(f)?(OE(`${u}//${f}${_}`),ME("Auth",!0)):OD()}function f1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function DD(s){const e=f1(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:uE(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:uE(f)}}}function uE(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function OD(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class d1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ls("not implemented")}_getIdTokenResponse(e){return ls("not implemented")}_linkToIdToken(e,n){return ls("not implemented")}_getReauthenticationResolver(e){return ls("not implemented")}}async function fo(s,e){return WT(s,"POST","/v1/accounts:signInWithIdp",sf(s,e))}const MD="http://localhost";class aa extends d1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ps("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...u}=n;if(!r||!o)return null;const f=new aa(r,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return fo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,fo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fo(e,n)}buildRequest(){const e={requestUri:MD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ou(n)}return e}}class m1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class gu extends m1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class tr extends gu{constructor(){super("facebook.com")}static credential(e){return aa._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return tr.credential(e.oauthAccessToken)}catch{return null}}}tr.FACEBOOK_SIGN_IN_METHOD="facebook.com";tr.PROVIDER_ID="facebook.com";class nr extends gu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return aa._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return nr.credential(n,r)}catch{return null}}}nr.GOOGLE_SIGN_IN_METHOD="google.com";nr.PROVIDER_ID="google.com";class ir extends gu{constructor(){super("github.com")}static credential(e){return aa._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ir.credential(e.oauthAccessToken)}catch{return null}}}ir.GITHUB_SIGN_IN_METHOD="github.com";ir.PROVIDER_ID="github.com";class sr extends gu{constructor(){super("twitter.com")}static credential(e,n){return aa._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return sr.credential(n,r)}catch{return null}}}sr.TWITTER_SIGN_IN_METHOD="twitter.com";sr.PROVIDER_ID="twitter.com";async function VD(s,e){return WT(s,"POST","/v1/accounts:signUp",sf(s,e))}class vr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const u=await si._fromIdTokenResponse(e,r,o),f=cE(r);return new vr({user:u,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=cE(r);return new vr({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function cE(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function kD(s){if(ii(s.app))return Promise.reject(hr(s));const e=rf(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new vr({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await VD(e,{returnSecureToken:!0}),r=await vr._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}class Oh extends ci{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Oh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new Oh(e,n,r,o)}}function p1(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Oh._fromErrorAndOperation(s,u,e,r):u})}async function jD(s,e,n=!1){const r=await Ao(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return vr._forOperation(s,"link",r)}async function PD(s,e,n=!1){const{auth:r}=s;if(ii(r.app))return Promise.reject(hr(r));const o="reauthenticate";try{const u=await Ao(s,p1(r,o,e,s),n);Ae(u.idToken,r,"internal-error");const f=Wp(u.idToken);Ae(f,r,"internal-error");const{sub:m}=f;return Ae(s.uid===m,r,"user-mismatch"),vr._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ps(r,"user-mismatch"),u}}async function LD(s,e,n=!1){if(ii(s.app))return Promise.reject(hr(s));const r="signIn",o=await p1(s,r,e),u=await vr._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(u.user),u}async function UD(s,e){return ha(s,"POST","/v1/accounts:update",e)}async function zD(s,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ht(s),u={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},f=await Ao(r,UD(r.auth,u));r.displayName=f.displayName||null,r.photoURL=f.photoUrl||null;const m=r.providerData.find(({providerId:_})=>_==="password");m&&(m.displayName=r.displayName,m.photoURL=r.photoURL),await r._updateTokensIfNecessary(f)}function BD(s,e,n,r){return ht(s).onIdTokenChanged(e,n,r)}function qD(s,e,n){return ht(s).beforeAuthStateChanged(e,n)}function HD(s,e,n,r){return ht(s).onAuthStateChanged(e,n,r)}const Mh="__sak";class g1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Mh,"1"),this.storage.removeItem(Mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const FD=1e3,GD=10;class _1 extends g1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=c1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,_)=>{this.notifyListeners(f,_)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);yD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,GD):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},FD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_1.type="LOCAL";const KD=_1;class y1 extends g1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}y1.type="SESSION";const v1=y1;function QD(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class af{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new af(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),_=await QD(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:_})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}af.receivers=[];function ng(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}class YD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,_)=>{const g=ng("",20);o.port1.start();const b=setTimeout(()=>{_(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(w){const x=w;if(x.data.eventId===g)switch(x.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(x.data.response);break;default:clearTimeout(b),clearTimeout(u),_(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function zi(){return window}function XD(s){zi().location.href=s}function E1(){return typeof zi().WorkerGlobalScope<"u"&&typeof zi().importScripts=="function"}async function $D(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JD(){return navigator?.serviceWorker?.controller||null}function ZD(){return E1()?self:null}const b1="firebaseLocalStorageDb",WD=1,Vh="firebaseLocalStorage",T1="fbase_key";class _u{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function of(s,e){return s.transaction([Vh],e?"readwrite":"readonly").objectStore(Vh)}function eO(){const s=indexedDB.deleteDatabase(b1);return new _u(s).toPromise()}function Jm(){const s=indexedDB.open(b1,WD);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Vh,{keyPath:T1})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Vh)?e(r):(r.close(),await eO(),e(await Jm()))})})}async function hE(s,e,n){const r=of(s,!0).put({[T1]:e,value:n});return new _u(r).toPromise()}async function tO(s,e){const n=of(s,!1).get(e),r=await new _u(n).toPromise();return r===void 0?null:r.value}function fE(s,e){const n=of(s,!0).delete(e);return new _u(n).toPromise()}const nO=800,iO=3;class A1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>iO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return E1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=af._getInstance(ZD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await $D(),!this.activeServiceWorker)return;this.sender=new YD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jm();return await hE(e,Mh,"1"),await fE(e,Mh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>hE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>tO(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>fE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=of(o,!1).getAll();return new _u(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}A1.type="LOCAL";const sO=A1;new pu(3e4,6e4);function rO(s,e){return e?us(e):(Ae(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class ig extends d1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function aO(s){return LD(s.auth,new ig(s),s.bypassAuthState)}function oO(s){const{auth:e,user:n}=s;return Ae(n,e,"internal-error"),PD(n,new ig(s),s.bypassAuthState)}async function lO(s){const{auth:e,user:n}=s;return Ae(n,e,"internal-error"),jD(n,new ig(s),s.bypassAuthState)}class w1{constructor(e,n,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const _={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(_))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aO;case"linkViaPopup":case"linkViaRedirect":return lO;case"reauthViaPopup":case"reauthViaRedirect":return oO;default:ps(this.auth,"internal-error")}}resolve(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const uO=new pu(2e3,1e4);class ao extends w1{constructor(e,n,r,o,u){super(e,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,ao.currentPopupAction&&ao.currentPopupAction.cancel(),ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){gs(this.filter.length===1,"Popup operations only handle one event");const e=ng();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uO.get())};e()}}ao.currentPopupAction=null;const cO="pendingRedirect",uh=new Map;class hO extends w1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=uh.get(this.auth._key());if(!e){try{const r=await fO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}uh.set(this.auth._key(),e)}return this.bypassAuthState||uh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fO(s,e){const n=pO(e),r=mO(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function dO(s,e){uh.set(s._key(),e)}function mO(s){return us(s._redirectPersistence)}function pO(s){return lh(cO,s.config.apiKey,s.name)}async function gO(s,e,n=!1){if(ii(s.app))return Promise.reject(hr(s));const r=rf(s),o=rO(r,e),f=await new hO(r,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}const _O=600*1e3;class yO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!S1(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ui(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_O&&this.cachedEventUids.clear(),this.cachedEventUids.has(dE(e))}saveEventToCache(e){this.cachedEventUids.add(dE(e)),this.lastProcessedEventTime=Date.now()}}function dE(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function S1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function vO(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return S1(s);default:return!1}}async function EO(s,e={}){return ha(s,"GET","/v1/projects",e)}const bO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TO=/^https?/;async function AO(s){if(s.config.emulator)return;const{authorizedDomains:e}=await EO(s);for(const n of e)try{if(wO(n))return}catch{}ps(s,"unauthorized-domain")}function wO(s){const e=Xm(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!TO.test(n))return!1;if(bO.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const SO=new pu(3e4,6e4);function mE(){const s=zi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function xO(s){return new Promise((e,n)=>{function r(){mE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mE(),n(Ui(s,"network-request-failed"))},timeout:SO.get()})}if(zi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(zi().gapi?.load)r();else{const o=RD("iframefcb");return zi()[o]=()=>{gapi.load?r():n(Ui(s,"network-request-failed"))},SD(`${xD()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw ch=null,e})}let ch=null;function RO(s){return ch=ch||xO(s),ch}const IO=new pu(5e3,15e3),CO="__/auth/iframe",NO="emulator/auth/iframe",DO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MO(s){const e=s.config;Ae(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Zp(e,NO):`https://${s.config.authDomain}/${CO}`,r={apiKey:e.apiKey,appName:s.name,v:So},o=OO.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${ou(r).slice(1)}`}async function VO(s){const e=await RO(s),n=zi().gapi;return Ae(n,s,"internal-error"),e.open({where:document.body,url:MO(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DO,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const f=Ui(s,"network-request-failed"),m=zi().setTimeout(()=>{u(f)},IO.get());function _(){zi().clearTimeout(m),o(r)}r.ping(_).then(_,()=>{u(f)})}))}const kO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jO=500,PO=600,LO="_blank",UO="http://localhost";class pE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zO(s,e,n,r=jO,o=PO){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const _={...kO,width:r.toString(),height:o.toString(),top:u,left:f},g=Wt().toLowerCase();n&&(m=r1(g)?LO:n),i1(g)&&(e=e||UO,_.scrollbars="yes");const b=Object.entries(_).reduce((x,[q,$])=>`${x}${q}=${$},`,"");if(_D(g)&&m!=="_self")return BO(e||"",m),new pE(null);const w=window.open(e||"",m,b);Ae(w,s,"popup-blocked");try{w.focus()}catch{}return new pE(w)}function BO(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const qO="__/auth/handler",HO="emulator/auth/handler",FO=encodeURIComponent("fac");async function gE(s,e,n,r,o,u){Ae(s.config.authDomain,s,"auth-domain-config-required"),Ae(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:So,eventId:o};if(e instanceof m1){e.setDefaultLanguage(s.languageCode),f.providerId=e.providerId||"",Bx(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,w]of Object.entries({}))f[b]=w}if(e instanceof gu){const b=e.getScopes().filter(w=>w!=="");b.length>0&&(f.scopes=b.join(","))}s.tenantId&&(f.tid=s.tenantId);const m=f;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const _=await s._getAppCheckToken(),g=_?`#${FO}=${encodeURIComponent(_)}`:"";return`${GO(s)}?${ou(m).slice(1)}${g}`}function GO({config:s}){return s.emulator?Zp(s,HO):`https://${s.authDomain}/${qO}`}const Sm="webStorageSupport";class KO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=v1,this._completeRedirectFn=gO,this._overrideRedirectResult=dO}async _openPopup(e,n,r,o){gs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await gE(e,n,r,Xm(),o);return zO(e,u,ng())}async _openRedirect(e,n,r,o){await this._originValidation(e);const u=await gE(e,n,r,Xm(),o);return XD(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(gs(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await VO(e),r=new yO(e);return n.register("authEvent",o=>(Ae(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Sm,{type:Sm},o=>{const u=o?.[0]?.[Sm];u!==void 0&&n(!!u),ps(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=AO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return c1()||s1()||eg()}}const QO=KO;var _E="@firebase/auth",yE="1.12.0";class YO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function XO(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $O(s){Bi(new oi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=r.options;Ae(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:f,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:h1(s)},g=new AD(r,o,u,_);return CD(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Bi(new oi("auth-internal",e=>{const n=rf(e.getProvider("auth").getImmediate());return(r=>new YO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hn(_E,yE,XO(s)),Hn(_E,yE,"esm2020")}const JO=300,ZO=DE("authIdTokenMaxAge")||JO;let vE=null;const WO=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ZO)return;const o=n?.token;vE!==o&&(vE=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function e6(s=tp()){const e=la(s,"auth");if(e.isInitialized())return e.getImmediate();const n=ID(s,{popupRedirectResolver:QO,persistence:[sO,KD,v1]}),r=DE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=WO(u.toString());qD(n,f,()=>f(n.currentUser)),BD(n,m=>f(m))}}const o=CE("auth");return o&&ND(n,`http://${o}`),n}function t6(){return document.getElementsByTagName("head")?.[0]??document}wD({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const u=Ui("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",t6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$O("Browser");const n6={apiKey:"AIzaSyAVpKz8TJcz9Q0CbSj2v_KQyeEs6SsuXsI",authDomain:"invitation-475eb.firebaseapp.com",projectId:"invitation-475eb",storageBucket:"invitation-475eb.firebasestorage.app",messagingSenderId:"1068873981449",appId:"1:1068873981449:web:82210f667d60117585e2d8",measurementId:"G-5YHV8DE43L"},sg=zE(n6);EI(sg);const ui=O4(sg),ai=e6(sg),i6=()=>{const[s,e]=se.useState(null);return se.useEffect(()=>{const n=r=>{const o=r.detail.message,u=Date.now();e({message:o,id:u}),setTimeout(()=>{e(f=>f&&f.id===u?null:f)},3e3)};return window.addEventListener("show-toast",n),()=>window.removeEventListener("show-toast",n)},[]),s?E.jsxs("div",{style:EE.toast,children:[E.jsx("span",{style:EE.icon,children:""}),s.message]}):null},EE={toast:{position:"fixed",top:"20px",left:"50%",transform:"translateX(-50%)",backgroundColor:"rgba(0, 0, 0, 0.9)",color:"#ffd700",padding:"12px 24px",borderRadius:"30px",fontSize:"0.9rem",fontWeight:"bold",zIndex:9999,display:"flex",alignItems:"center",gap:"8px",boxShadow:"0 4px 15px rgba(0,0,0,0.3)",animation:"slideDown 0.3s ease-out",whiteSpace:"nowrap",border:"1px solid #ffd700"},icon:{fontSize:"1.2rem"}},x1=document.createElement("style");x1.innerText=`
  @keyframes slideDown {
    from { transform: translate(-50%, -20px); opacity: 0; }
    to { transform: translate(-50%, 0); opacity: 1; }
  }
`;document.head.appendChild(x1);const so={FIRST_STEP:{id:"FIRST_STEP",title:" ",desc:"  ."},RUNNER:{id:"RUNNER",title:" ",desc:" () ."},HIGH_SCORE:{id:"HIGH_SCORE",title:" ",desc:"  100 !"},WEDDING_CRASHER:{id:"WEDDING_CRASHER",title:" ?",desc:"   10 ."},DATA_COLLECTOR:{id:"DATA_COLLECTOR",title:" ",desc:"    ."}};let Vi=null,xm=!1;const hh=new Set;try{const s=localStorage.getItem("my_achievements");s&&(Vi=JSON.parse(s),Vi.forEach(e=>hh.add(e)))}catch(s){console.error(s)}const mo=async(s,e=null)=>{const n=ai.currentUser;if(n)try{if(Vi===null&&!xm){xm=!0;try{const o=ms(ui,"users",n.uid),u=await $p(o);u.exists()?Vi=u.data().achievements||[]:Vi=[],Vi.forEach(f=>hh.add(f)),localStorage.setItem("my_achievements",JSON.stringify(Vi))}catch(o){console.error("Failed to fetch achievements:",o)}finally{xm=!1}}const r=async o=>{if(hh.has(o))return;hh.add(o);const u=so[o];window.dispatchEvent(new CustomEvent("achievement-unlocked",{detail:{...u}})),Vi&&(Vi.push(o),localStorage.setItem("my_achievements",JSON.stringify(Vi)));const f=ms(ui,"users",n.uid);au(f,{achievements:z4(o)},{merge:!0}).catch(m=>console.error("Achievement save failed:",m))};switch(s){case"LOGIN":await r(so.FIRST_STEP.id);break;case"GAME_START":await r(so.RUNNER.id);break;case"GAME_SCORE":e>=100&&await r(so.HIGH_SCORE.id);break;case"TOUCH_CHARACTER":e&&e.groom>=10&&e.bride>=10&&await r(so.WEDDING_CRASHER.id);break;default:break}}catch(r){console.error("Error checking achievement:",r)}},s6=({onStart:s,onSwitchToV1:e})=>{const[n,r]=se.useState(!1),[o,u]=se.useState(""),[f,m]=se.useState(!1),[_,g]=se.useState("  ...");se.useEffect(()=>{r(!0);const x=HD(ai,q=>{});return()=>x()},[]);const b=async()=>{if(!o.trim()){alert(" ! ()");return}m(!0),g("   ...  ! "),[{text:"    ...  ! ",delay:800},{text:"    ... ",delay:1600},{text:`, [${o}] !  .`,delay:2400}].forEach(({text:q,delay:$})=>{setTimeout(()=>g(q),$)}),setTimeout(async()=>{try{let q=ai.currentUser;q||(q=(await kD(ai)).user),await zD(q,{displayName:o});const $=ms(ui,"users",q.uid);(await $p($)).exists()?await au($,{nickname:o},{merge:!0}):await au($,{nickname:o,achievements:[],createdAt:new Date}),mo("LOGIN"),s()}catch(q){console.error("Login Failed",q),alert(" .  ."),m(!1)}},3e3)},w=new URL("/Invitation/assets/pixel_castle_bg-JX_UEiKn.png",import.meta.url).href;return E.jsxs("div",{className:"flex flex-col items-center justify-center h-full w-full font-pixel relative overflow-hidden text-white",children:[E.jsx("div",{className:"absolute inset-0 z-0 bg-cover bg-center",style:{backgroundImage:`url(${w})`,imageRendering:"pixelated"},children:E.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-[2px]"})}),E.jsxs("div",{className:`relative z-10 flex flex-col items-center p-8 transition-all duration-700 transform ${n?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[E.jsx("div",{className:"absolute inset-0 border-4 border-white bg-black/60 shadow-lg",style:{clipPath:"polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)"}}),E.jsxs("div",{className:"relative z-20 flex flex-col items-center text-center w-full max-w-md",children:[E.jsxs("div",{className:"mb-10 animate-pulse",children:[E.jsx("p",{className:"text-yellow-400 text-sm tracking-[0.2em] mb-2 uppercase shine",children:"  "}),E.jsxs("h1",{className:"text-5xl md:text-7xl text-white drop-shadow-[4px_4px_0_rgba(0,0,0,1)] leading-tight font-pixel",children:["WEDDING",E.jsx("br",{}),"QUEST"]})]}),E.jsx("div",{className:"w-full flex flex-col gap-4",children:f?E.jsx("div",{className:"w-full border-4 border-white p-6 bg-black/80 text-center",children:E.jsxs("p",{className:"text-green-400 text-lg animate-pulse",children:[">"," ",_," ",E.jsx("span",{className:"animate-blink",children:"_"})]})}):E.jsxs(E.Fragment,{children:[E.jsx("input",{type:"text",placeholder:" ()",value:o,onChange:x=>u(x.target.value),className:"w-full bg-black/50 border-4 border-white text-white p-4 text-center text-xl placeholder:text-gray-500 focus:bg-black/70 focus:outline-none focus:border-yellow-400 transition-colors uppercase font-pixel",maxLength:8,onKeyDown:x=>x.key==="Enter"&&b(),autoFocus:!0}),E.jsx("button",{onClick:b,className:"w-full bg-blue-600 border-b-4 border-r-4 border-blue-800 text-white p-4 text-xl hover:bg-blue-500 hover:translate-y-1 hover:border-b-0 hover:border-r-0 active:translate-y-2 transition-all group relative overflow-hidden",children:E.jsx("span",{className:"relative z-10",children:"  (START)"})})]})}),E.jsx("button",{onClick:e,className:"mt-8 text-xs text-white/50 hover:text-white underline decoration-dashed underline-offset-4",children:"[    ]"})]})]}),E.jsx("div",{className:"absolute inset-0 pointer-events-none z-50 opacity-10",style:{background:"linear-gradient(to bottom, transparent 50%, rgba(0, 0, 0, 0.5) 51%)",backgroundSize:"100% 4px"}})]})},R1="/Invitation/assets/groom_nobg-tvOAzn_6.png",rg="/Invitation/assets/bride_nobg-CV5a6LWZ.png",Zm=async s=>{const e=ai.currentUser;if(e&&!(s<=0))try{const n=ms(ui,"users",e.uid);await Z4(n,{diamonds:qT(s)}),console.log(`Earned ${s} Diamonds!`)}catch(n){console.error("Error adding diamonds:",n)}},r6=async s=>{const e=ai.currentUser;if(!e)return!1;const n=ms(ui,"users",e.uid);try{return await $4(ui,async o=>{const u=await o.get(n);if(!u.exists())throw"User does not exist!";return(u.data().diamonds||0)<s?!1:(o.update(n,{diamonds:qT(-s)}),!0)})}catch(r){return console.error("Transaction failed: ",r),!1}},a6=s=>{const e=ai.currentUser;if(!e)return s(0),()=>{};const n=ms(ui,"users",e.uid);return W4(n,o=>{o.exists()?s(o.data().diamonds||0):s(0)})},o6="/Invitation/assets/groom-cEf0GPId.jpg",l6="/Invitation/assets/bride-C9xQdNrL.jpg",u6=()=>{const[s,e]=se.useState(null),[n,r]=se.useState(!1),o=[{id:"groom",name:"",type:"[ / ]",stars:"",desc:'"   ,    .  ,  ."',atk:"",def:"",img:o6,bank:"",account:"49591044955107",displayAccount:"495-910449-55107",holder:""},{id:"bride",name:"",type:"[ / ]",stars:"",desc:'"    ,     .    ."',atk:"",def:"",img:l6,bank:"",account:"110297915880",displayAccount:"110-297-915880",holder:""}],u=f=>{const m=`${f.account} ${f.bank}`;navigator.clipboard.writeText(m).then(()=>{r(!0),setTimeout(()=>r(!1),2e3)}).catch(_=>{console.error("Failed to copy: ",_)}),e(f.id)};return E.jsxs("section",{className:"py-24 px-4 bg-background text-center relative overflow-hidden",children:[E.jsx("div",{className:"absolute top-20 left-10 w-40 h-40 bg-primary/10 rounded-full blur-3xl animate-pulse"}),E.jsx("div",{className:"absolute bottom-20 right-10 w-60 h-60 bg-secondary/10 rounded-full blur-3xl animate-pulse delay-700"}),E.jsx("h2",{className:"text-3xl md:text-4xl text-primary font-heading font-medium mb-4 animate-fade-in-up relative z-10",children:"Groom & Bride"}),E.jsx("p",{className:"text-text/60 mb-12 animate-fade-in-up delay-100 font-body relative z-10",children:"   "}),E.jsx("div",{className:"flex flex-col md:flex-row justify-center gap-8 items-stretch max-w-5xl mx-auto relative z-10",children:o.map((f,m)=>E.jsx("div",{className:"relative w-full max-w-md group",children:E.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-[2.5rem] p-8 shadow-soft-lg border border-white/60 hover:shadow-soft-xl hover:-translate-y-2 transition-all duration-500 h-full flex flex-col items-center",children:[E.jsxs("div",{className:"relative w-48 h-48 mb-6",children:[E.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-tr from-primary/20 to-secondary/20 animate-spin-slow blur-md"}),E.jsx("div",{className:"absolute inset-1 rounded-full bg-white p-1 shadow-inner",children:E.jsx("img",{src:f.img,alt:f.name,className:"w-full h-full object-cover rounded-full"})})]}),E.jsx("h3",{className:"text-2xl font-bold text-text mb-2 font-heading",children:f.name}),E.jsx("p",{className:"text-primary font-body text-lg mb-6",children:f.type.replace("[","").replace("]","")}),E.jsx("div",{className:"w-full bg-background/50 rounded-2xl p-6 mb-6 flex-1 border border-primary/5",children:E.jsx("p",{className:"font-body text-text/80 italic leading-relaxed text-lg",children:f.desc.replace(/"/g,"")})}),E.jsxs("button",{onClick:()=>u(f),className:"w-full py-4 bg-white border border-primary/20 rounded-xl shadow-sm hover:shadow-md hover:border-primary/50 transition-all flex flex-col items-center justify-center gap-1 group/btn",children:[E.jsxs("div",{className:"flex items-center gap-2 text-text/60 text-sm group-hover/btn:text-primary transition-colors",children:[E.jsx("span",{children:f.bank}),E.jsx("span",{className:"w-1 h-3 bg-gray-300 rounded-full"}),E.jsx("span",{children:f.holder})]}),E.jsx("span",{className:"font-body font-bold text-lg text-text tracking-wide group-hover/btn:text-primary transition-colors",children:f.displayAccount}),E.jsx("span",{className:"text-xs text-primary/60 font-medium opacity-0 group-hover/btn:opacity-100 transition-opacity -mb-4 absolute bottom-2",children:"Click to Copy"})]})]})},f.id))}),E.jsx("div",{className:`
                    fixed bottom-10 left-1/2 -translate-x-1/2 bg-white/90 backdrop-blur-md text-text px-8 py-4 rounded-full shadow-soft-xl z-[100] whitespace-nowrap transition-all duration-500 border border-white/50
                    ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-8 pointer-events-none"}
                `,children:E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("span",{className:"text-primary text-xl",children:""}),E.jsx("span",{className:"font-body font-medium text-lg",children:" "})]})})]})},c6="/Invitation/assets/groom_sprites-C9FWbZGX.png",h6="/Invitation/assets/bride_sprites-CIfQIsBB.png",Yt={audioCtx:null,init(){this.audioCtx||(this.audioCtx=new(window.AudioContext||window.webkitAudioContext))},playTone(s,e,n,r=.1){try{if(this.audioCtx||this.init(),!this.audioCtx)return;this.audioCtx.state==="suspended"&&this.audioCtx.resume().catch(()=>{});const o=this.audioCtx.createOscillator(),u=this.audioCtx.createGain();o.type=e,o.frequency.setValueAtTime(s,this.audioCtx.currentTime),u.gain.setValueAtTime(r,this.audioCtx.currentTime),u.gain.exponentialRampToValueAtTime(.01,this.audioCtx.currentTime+n),o.connect(u),u.connect(this.audioCtx.destination),o.start(),o.stop(this.audioCtx.currentTime+n)}catch(o){console.warn("Audio play failed",o)}},playClick(){this.playTone(800,"sine",.1,.1)},playConfirm(){try{if(this.audioCtx||this.init(),!this.audioCtx)return;this.audioCtx.state==="suspended"&&this.audioCtx.resume().catch(()=>{});const s=this.audioCtx.currentTime,e=this.audioCtx.createOscillator(),n=this.audioCtx.createGain();e.type="sine",e.frequency.setValueAtTime(600,s),e.frequency.exponentialRampToValueAtTime(1200,s+.1),n.gain.setValueAtTime(.1,s),n.gain.exponentialRampToValueAtTime(.01,s+.2),e.connect(n),n.connect(this.audioCtx.destination),e.start(),e.stop(s+.2)}catch(s){console.warn("Audio confirm failed",s)}},playHover(){this.playTone(400,"sine",.05,.05)},playDamage(){this.playTone(150,"sawtooth",.2,.2)},playWin(){try{if(this.audioCtx||this.init(),!this.audioCtx)return;this.audioCtx.state==="suspended"&&this.audioCtx.resume().catch(()=>{});const s=this.audioCtx.currentTime;[523.25,659.25,783.99,1046.5].forEach((e,n)=>{const r=this.audioCtx.createOscillator(),o=this.audioCtx.createGain();r.type="square",r.frequency.setValueAtTime(e,s+n*.1),o.gain.setValueAtTime(.1,s+n*.1),o.gain.exponentialRampToValueAtTime(.01,s+n*.1+.1),r.connect(o),o.connect(this.audioCtx.destination),r.start(s+n*.1),r.stop(s+n*.1+.1)})}catch{}},playJump(){try{if(this.audioCtx||this.init(),!this.audioCtx)return;this.audioCtx.state==="suspended"&&this.audioCtx.resume().catch(()=>{});const s=this.audioCtx.currentTime,e=this.audioCtx.createOscillator(),n=this.audioCtx.createGain();e.type="square",e.frequency.setValueAtTime(150,s),e.frequency.linearRampToValueAtTime(300,s+.1),n.gain.setValueAtTime(.1,s),n.gain.exponentialRampToValueAtTime(.01,s+.1),e.connect(n),n.connect(this.audioCtx.destination),e.start(),e.stop(s+.1)}catch{}}},f6=({selectedCharacter:s="groom"})=>{const e=se.useRef(null),[n,r]=se.useState("START"),[o,u]=se.useState(0),[f,m]=se.useState(0),[_,g]=se.useState("groom"),[b,w]=se.useState(!1),x=se.useRef(null),q=se.useRef(0),$=se.useRef(new Image),te=se.useRef(new Image),ne=se.useRef(new Image),oe=se.useRef({});se.useEffect(()=>{let Ce=0;const H=3,W=()=>{Ce++,Ce>=H&&w(!0)},ce=new Image;ce.src=new URL("/Invitation/assets/pixel_castle_bg-JX_UEiKn.png",import.meta.url).href,ce.onload=()=>{ne.current=ce,W()};const xe=j=>new Promise(K=>{const ee=new Image;ee.crossOrigin="Anonymous",ee.src=j,ee.onload=()=>{const he=document.createElement("canvas");he.width=ee.width,he.height=ee.height;const ae=he.getContext("2d");ae.drawImage(ee,0,0);const Te=ae.getImageData(0,0,he.width,he.height),ze=Te.data;for(let on=0;on<ze.length;on+=4){const ys=ze[on],vs=ze[on+1],Es=ze[on+2];ys>240&&vs>240&&Es>240&&(ze[on+3]=0)}ae.putImageData(Te,0,0);const Ze=new Image;Ze.onload=()=>K(Ze),Ze.src=he.toDataURL()}}),me=async(j,K)=>{const ee=await xe(K);j.current=ee,W()};me($,c6),me(te,h6),["","","","","","","",""].forEach(j=>{const K=document.createElement("canvas");K.width=50,K.height=50;const ee=K.getContext("2d");ee.font="40px serif",ee.textAlign="center",ee.textBaseline="middle",ee.fillText(j,25,27);const he=new Image;he.src=K.toDataURL(),oe.current[j]=he})},[]);const ye=800,de=400,De=50,Je=2026,Ee=160,N=40,S=se.useRef({dino:{x:50,y:0,w:0,h:0,dy:0,grounded:!0},items:[],obstacles:[],clouds:[],particles:[],fireworks:[],frame:0,bgOffset:0,isGameOver:!1,isGameClear:!1,animationId:null}),I=()=>{const Ce=Ee;let H=Ee;const W=_==="groom"?$.current:te.current;if(W&&W.complete&&W.width>0){const ce=W.width/3,xe=W.height,me=ce/xe;H=Ce*me}S.current={dino:{x:100,y:de-De-Ce,w:H,h:Ce,dy:0,grounded:!0},items:[],obstacles:[],clouds:[],particles:[],fireworks:[],frame:0,bgOffset:0,isGameOver:!1,isGameClear:!1,animationId:null,speed:6,spawnRate:60,lastSpawnType:null},u(0),q.current=0,m(0)},k=()=>{if(S.current.dino.grounded){Yt.playJump(),S.current.dino.dy=-15,S.current.dino.grounded=!1;for(let Ce=0;Ce<5;Ce++)S.current.particles.push({x:S.current.dino.x+S.current.dino.w/2,y:S.current.dino.y+S.current.dino.h+N,vx:(Math.random()-.5)*5,vy:(Math.random()-.5)*2,life:20,color:"#fff"})}},D=(Ce,H)=>{const W=["#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF"],ce=W[Math.floor(Math.random()*W.length)];for(let xe=0;xe<20;xe++){const me=Math.random()*Math.PI*2,C=Math.random()*5+2;S.current.fireworks.push({x:Ce,y:H,vx:Math.cos(me)*C,vy:Math.sin(me)*C,life:60,color:ce})}},V=async Ce=>{const H=ai.currentUser;if(H)try{const W=ms(ui,"scores",H.uid);await au(W,{uid:H.uid,displayName:H.displayName||"Guest",score:Ce,timestamp:BT()},{merge:!0})}catch(W){console.error(W)}};se.useEffect(()=>{const H=e.current.getContext("2d");H.imageSmoothingEnabled=!1;let W=performance.now();n==="PLAYING"&&(x.current&&clearInterval(x.current),x.current=setInterval(()=>{m(me=>me+1)},1e3));const ce=me=>{if(n!=="PLAYING")return;const C=Math.min((me-W)/16,2);W=me;const j=S.current;if(!j.isGameClear&&!j.isGameOver){if(j.frame++,j.speed=Math.min(16,6+Math.floor(j.frame/500)),j.spawnRate=Math.max(18,60-Math.floor(j.frame/300)*10),j.bgOffset+=j.speed*.5*C,j.frame%30===0&&q.current>=Je&&(j.isGameClear=!0,r("CLEAR"),mo("GAME_CLEAR"),V(q.current),Zm(q.current),Yt.playWin(),D(ye/2,de/2),x.current&&clearInterval(x.current)),j.dino.dy+=1.5*C,j.dino.y+=j.dino.dy*C,j.dino.y+j.dino.h>de-De&&(j.dino.y=de-De-j.dino.h,j.dino.dy=0,j.dino.grounded=!0),j.frame%j.spawnRate===0){let ae=Math.random()>.4;if(j.lastSpawnType==="obstacle"&&(ae=!0),ae){const Te=["","","","",""],ze=Te[Math.floor(Math.random()*Te.length)];j.items.push({x:ye,y:de-De-60-Math.random()*100,w:50,h:50,type:ze,vy:Math.sin(j.frame)*.5}),j.lastSpawnType="item"}else{const Te=["","",""],ze=Te[Math.floor(Math.random()*Te.length)];j.obstacles.push({x:ye,y:de-De-50,w:50,h:50,type:ze}),j.lastSpawnType="obstacle"}}const K=ae=>{ae.x-=j.speed*C,ae.vy&&(ae.y+=Math.sin(j.frame*.1)*2*C)};[...j.items,...j.obstacles].forEach(K),j.items=j.items.filter(ae=>ae.x+ae.w>0&&!ae.collected),j.obstacles=j.obstacles.filter(ae=>ae.x+ae.w>0);const ee=20,he=ae=>j.dino.x+ee<ae.x+ae.w-ee&&j.dino.x+j.dino.w-ee>ae.x+ee&&j.dino.y+ee<ae.y+ae.h-ee&&j.dino.y+j.dino.h-ee>ae.y+ee;j.items.forEach(ae=>{if(he(ae)){ae.collected=!0,Yt.playConfirm(),u(Te=>{const ze=Te+1;return q.current=ze,ze===100&&mo("GAME_SCORE",ze),ze});for(let Te=0;Te<5;Te++)j.particles.push({x:ae.x,y:ae.y,vx:(Math.random()-.5)*5,vy:(Math.random()-.5)*5,life:30,color:"#FFD700"})}}),j.obstacles.forEach(ae=>{he(ae)&&(Yt.playDamage(),j.isGameOver=!0,r("GAME_OVER"),x.current&&clearInterval(x.current),V(q.current),Zm(q.current))})}else j.isGameClear&&(j.frame%30===0&&D(Math.random()*ye,Math.random()*de/2),x.current&&clearInterval(x.current));j.particles.forEach(K=>{K.x+=K.vx*C,K.y+=K.vy*C,K.life-=C,K.vy+=.1*C}),j.fireworks.forEach(K=>{K.x+=K.vx*C,K.y+=K.vy*C,K.life-=C,K.vy+=.1*C}),j.particles=j.particles.filter(K=>K.life>0),j.fireworks=j.fireworks.filter(K=>K.life>0),xe(H),(n==="PLAYING"||n==="CLEAR")&&(S.current.animationId=requestAnimationFrame(ce))},xe=me=>{const C=S.current;if(ne.current&&ne.current.complete){const K=-(C.bgOffset%ne.current.width);me.drawImage(ne.current,K,0,ne.current.width,de),me.drawImage(ne.current,K+ne.current.width,0,ne.current.width,de)}else me.fillStyle="#87CEEB",me.fillRect(0,0,ye,de);me.textAlign="center",me.textBaseline="middle",me.font="40px Silkscreen",C.items.forEach(K=>{!K.collected&&oe.current[K.type]&&me.drawImage(oe.current[K.type],K.x,K.y,K.w,K.h)}),C.obstacles.forEach(K=>{oe.current[K.type]&&me.drawImage(oe.current[K.type],K.x,K.y,K.w,K.h)});const j=_==="groom"?$.current:te.current;if(j&&j.complete&&j.width>0){const K=j.width/3,ee=j.height,he=Math.floor(C.frame/6)%2+1,ae=C.dino.grounded&&!C.isGameClear?he:0;me.drawImage(j,ae*K,0,K,ee,C.dino.x,C.dino.y+N,C.dino.w,C.dino.h)}me.fillStyle="#FFD700",C.particles.forEach(K=>{K.color==="#FFD700"&&me.fillRect(K.x,K.y,4,4)}),me.fillStyle="#FFFFFF",C.particles.forEach(K=>{(K.color==="#fff"||K.color==="#FFFFFF")&&me.fillRect(K.x,K.y,4,4)}),C.fireworks.forEach(K=>{me.fillStyle=K.color,me.fillRect(K.x,K.y,3,3)})};return n==="PLAYING"||n==="CLEAR"?(W=performance.now(),S.current.animationId=requestAnimationFrame(ce)):xe(H),()=>{cancelAnimationFrame(S.current.animationId),x.current&&clearInterval(x.current)}},[n,_,b]);const R=()=>{n==="START"||n==="GAME_OVER"||n==="CLEAR"?(Yt.playClick(),I(),r("PLAYING"),mo("GAME_START")):k()},Ge=Ce=>{const H=Math.floor(Ce/60),W=Ce%60;return`${H.toString().padStart(2,"0")}:${W.toString().padStart(2,"0")}`};return E.jsxs("div",{onClick:R,className:"relative w-full aspect-[2/1] bg-sky-300 border-4 border-black overflow-hidden shadow-[8px_8px_0_rgba(0,0,0,0.5)] font-['Silkscreen'] select-none cursor-pointer",children:[E.jsx("canvas",{ref:e,width:800,height:400,className:"w-full h-full block",style:{imageRendering:"pixelated"}}),n==="START"&&E.jsxs("div",{className:"absolute inset-0 bg-black/60 flex flex-col items-center justify-center text-white p-4 font-['Silkscreen']",children:[E.jsx("h2",{className:"text-4xl text-yellow-400 mb-4 animate-bounce drop-shadow-md font-['Silkscreen']",children:"WEDDING RUN"}),E.jsx("p",{className:"text-sm mb-8 animate-pulse text-gray-300",children:"INSERT COIN TO START"}),E.jsx("div",{className:"border-4 border-white px-6 py-2 bg-blue-600 hover:bg-blue-500 blink",children:"PRESS START"})]}),n==="GAME_OVER"&&E.jsxs("div",{className:"absolute inset-0 bg-black/70 flex flex-col items-center justify-center text-white font-['Silkscreen']",children:[E.jsx("h2",{className:"text-5xl text-red-500 mb-4 drop-shadow-md font-['Silkscreen']",children:"GAME OVER"}),E.jsxs("p",{className:"text-2xl mb-2",children:["SCORE: ",o]}),E.jsxs("p",{className:"text-xl mb-2 text-cyan-400 font-bold animate-pulse",children:[" EARNED: +",o]}),E.jsxs("p",{className:"text-lg text-gray-400 mb-8",children:["TIME: ",Ge(f)]}),E.jsx("div",{className:"border-4 border-white px-6 py-2 hover:bg-white hover:text-black transition-colors",children:"RETRY ?"})]}),E.jsx("div",{className:"absolute top-4 left-4 z-20",children:E.jsxs("div",{className:"bg-black/50 text-white px-3 py-1 border-2 border-white/50 text-sm flex items-center shadow-md backdrop-blur-sm rounded-md",children:[" ",Ge(f)]})}),E.jsxs("div",{className:"absolute top-4 right-4 text-2xl text-white drop-shadow-[2px_2px_0_black]",children:["SCORE: ",o]})]})};var I1=TE();const eh=AE(),Rm={SSR:.1,SR:.3},d6=()=>{const[s,e]=se.useState([]),[n,r]=se.useState(!1),o=async u=>{if(n||eh.length===0)return;if(Yt.playClick(),!await r6(u)){alert(` ! ${u} ! `);return}r(!0),e([]),setTimeout(()=>{const m=[];for(let _=0;_<u;_++){const g=Math.random();let b="R";g<Rm.SSR?b="SSR":g<Rm.SSR+Rm.SR&&(b="SR");let w=eh.filter($=>$.rarity===b);w.length===0&&(b="SR",w=eh.filter($=>$.rarity===b)),w.length===0&&(b="R",w=eh.filter($=>$.rarity===b));const x=w[Math.floor(Math.random()*w.length)],q=JSON.parse(localStorage.getItem("wedding_collection_v2")||"[]");q.includes(x.path)||(q.push(x.path),localStorage.setItem("wedding_collection_v2",JSON.stringify(q))),m.push({image:x.src,rarity:b==="SSR"?"SSR/":b==="SR"?"SR/":"R/",originalRarity:b})}window.dispatchEvent(new Event("collectionUpdated")),e(m),r(!1),Yt.playConfirm()},2e3)};return E.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-background relative overflow-hidden font-body p-4 select-none",children:[E.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[500px] h-[500px] bg-primary/10 rounded-full blur-[100px] animate-pulse pointer-events-none"}),E.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[600px] h-[600px] bg-secondary/10 rounded-full blur-[120px] animate-pulse delay-1000 pointer-events-none"}),s.length===0&&!n&&E.jsxs("div",{className:"z-10 flex flex-col items-center w-full max-w-sm animate-in zoom-in duration-500 font-['Silkscreen']",children:[E.jsxs("div",{className:"mb-4 text-center bg-black/60 backdrop-blur-md border-[6px] border-white px-8 py-6 rounded-2xl shadow-[8px_8px_0_rgba(0,0,0,0.5)]",children:[E.jsx("h2",{className:"text-3xl text-yellow-400 mb-2 drop-shadow-md tracking-wider font-['Silkscreen']",children:"LUCKY DRAW"}),E.jsx("p",{className:"text-white text-sm",children:"   !"})]}),E.jsx("div",{className:"relative group cursor-pointer mb-8 animate-float",children:E.jsxs("div",{className:"w-48 h-48 bg-gradient-to-tr from-purple-600 to-indigo-400 rounded-full border-[8px] border-white shadow-[0_0_20px_rgba(168,85,247,0.6)] flex items-center justify-center animate-pulse group-hover:scale-105 transition-transform",children:[E.jsx("span",{className:"text-8xl drop-shadow-lg",children:""}),E.jsx("div",{className:"absolute top-4 right-8 w-8 h-8 bg-white/40 rounded-full blur-sm"})]})}),E.jsxs("div",{className:"flex gap-4 w-full justify-center px-4",children:[E.jsxs("button",{onClick:()=>o(1),className:"flex-1 bg-blue-600 border-4 border-white text-white py-4 rounded-xl shadow-[4px_4px_0_black] hover:translate-y-1 hover:shadow-[2px_2px_0_black] active:translate-y-2 active:shadow-none transition-all flex flex-col items-center gap-1",children:[E.jsx("span",{className:"text-xl font-bold",children:"1 "}),E.jsx("div",{className:"bg-black/30 px-3 py-1 rounded-full text-xs flex items-center gap-1",children:" 1"})]}),E.jsxs("button",{onClick:()=>o(10),className:"flex-1 bg-yellow-500 border-4 border-white text-white py-4 rounded-xl shadow-[4px_4px_0_black] hover:translate-y-1 hover:shadow-[2px_2px_0_black] active:translate-y-2 active:shadow-none transition-all flex flex-col items-center gap-1",children:[E.jsx("span",{className:"text-xl font-bold text-black drop-shadow-md",children:"10 "}),E.jsx("div",{className:"bg-black/30 px-3 py-1 rounded-full text-xs flex items-center gap-1 text-white",children:" 10"})]})]})]}),n&&E.jsxs("div",{className:"z-10 flex flex-col items-center justify-center font-['Silkscreen']",children:[E.jsx("div",{className:"text-9xl mb-8 animate-[spin_0.5s_linear_infinite] grayscale brightness-150",children:""}),E.jsx("p",{className:"text-3xl text-white animate-pulse drop-shadow-[4px_4px_0_black]",children:" ..."})]}),s.length>0&&!n&&I1.createPortal(E.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 font-['Silkscreen'] bg-black/90 backdrop-blur-sm animate-in fade-in duration-300",onClick:()=>e([]),children:[E.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-yellow-500/10 to-transparent pointer-events-none animate-pulse"}),E.jsxs("div",{className:"relative z-10 flex flex-col items-center animate-in zoom-in duration-500 w-full max-w-4xl max-h-[90vh] overflow-y-auto",onClick:u=>u.stopPropagation(),children:[E.jsx("h2",{className:"text-4xl text-yellow-400 mb-8 drop-shadow-[0_4px_0_black] animate-bounce text-center",children:s.length>1?" 10   ":"    "}),E.jsx("div",{className:`
                            ${s.length>1?"grid grid-cols-2 md:grid-cols-5 gap-4 p-4":"flex justify-center p-4"}
                        `,children:s.map((u,f)=>E.jsxs("div",{className:`
                                    relative bg-white p-2 rounded-lg shadow-lg border-[4px]
                                    ${u.rarity==="SSR"?"border-yellow-400 ring-4 ring-yellow-400/50":u.rarity==="SR"?"border-purple-400":"border-gray-400"}
                                    flex flex-col items-center transform transition-transform hover:scale-105 duration-200
                                    ${s.length===1?"scale-125 p-4 border-[8px]":""}
                                `,children:[E.jsxs("div",{className:"absolute -top-3 -right-3 z-10",children:[u.rarity==="SSR"&&E.jsx("span",{className:"bg-yellow-400 text-black text-xs font-bold px-2 py-1 rounded-full border-2 border-white shadow-md",children:"SSR"}),u.rarity==="SR"&&E.jsx("span",{className:"bg-purple-500 text-white text-xs font-bold px-2 py-1 rounded-full border-2 border-white shadow-md",children:"SR"}),u.rarity==="R"&&E.jsx("span",{className:"bg-gray-500 text-white text-xs font-bold px-2 py-1 rounded-full border-2 border-white shadow-md",children:"R"})]}),E.jsx("img",{src:u.image,alt:"Result",className:`object-cover bg-gray-900 border-2 border-black
                                            ${s.length>1?"w-24 h-32 md:w-32 md:h-40":"w-64 h-80"}
                                        `}),s.length===1&&E.jsx("div",{className:"mt-4 text-xl text-black font-bold tracking-widest uppercase text-center",children:u.rarity==="SSR"?"  ":" "})]},f))}),E.jsxs("div",{className:"flex gap-4 mt-8 w-full justify-center pb-8",children:[E.jsx("button",{onClick:()=>e([]),className:"px-8 py-3 bg-gray-600 text-white border-4 border-white hover:bg-gray-500 active:scale-95 transition-all shadow-[4px_4px_0_black]",children:""}),E.jsxs("button",{onClick:()=>o(s.length),className:"px-8 py-3 bg-blue-600 text-white border-4 border-white hover:bg-blue-500 active:scale-95 transition-all shadow-[4px_4px_0_black] flex items-center gap-2",children:[E.jsx("span",{children:""}),"  (",s.length,")"]})]})]})]}),document.body)]})},bE=[{id:1,speaker:"",text:"!    .",image:"groom",expression:"smile"},{id:2,speaker:"",text:"        !",image:"bride",expression:"happy"},{id:3,speaker:"",text:"    .     ' '.",image:"groom",expression:"serious"},{id:4,speaker:"",text:"  ,   ?",image:"bride",expression:"wink"},{id:5,speaker:"SYSTEM",text:" []  .  !",image:"system",expression:"none"}],m6=({onClose:s})=>{const[e,n]=se.useState(0),[r,o]=se.useState(""),[u,f]=se.useState(!1),m=bE[e];se.useEffect(()=>{if(!m)return;o(""),f(!0);const g=m.text;let b=0;const x=setInterval(()=>{b++,o(g.slice(0,b)),b>=g.length&&(clearInterval(x),f(!1))},30);return()=>clearInterval(x)},[e]);const _=()=>{Yt.playClick(),u?(o(m.text),f(!1)):e<bE.length-1?n(g=>g+1):(Yt.playConfirm(),s())};return E.jsxs("div",{className:"w-full h-full relative flex flex-col justify-end overflow-hidden cursor-pointer min-h-[500px] bg-black/40 backdrop-blur-sm select-none",onClick:_,children:[E.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-80"}),E.jsx("div",{className:"absolute bottom-32 left-1/2 -translate-x-1/2 h-[85%] flex items-end transition-transform duration-300 z-0",children:E.jsx("img",{src:m.image==="groom"?R1:m.image==="bride"?rg:"",alt:"Character",className:`h-full object-contain drop-shadow-[0_0_20px_rgba(255,255,255,0.2)] ${!m.image||m.image==="system"?"hidden":""}`},e)}),E.jsxs("div",{className:"relative z-10 mx-2 mb-2 md:m-6 md:mb-8 font-pixel",children:[E.jsx("div",{className:`
                    absolute -top-10 left-0 border-4 border-white border-b-0 px-6 py-2
                    ${m.speaker===""?"bg-blue-600":m.speaker===""?"bg-pink-500":"bg-gray-700"}
                `,children:E.jsx("span",{className:"text-white text-xl tracking-wider uppercase drop-shadow-[2px_2px_0_black]",children:m.speaker})}),E.jsxs("div",{className:"bg-black/90 border-4 border-white p-6 shadow-[8px_8px_0_rgba(0,0,0,0.8)] min-h-[160px] relative",children:[E.jsxs("p",{className:"text-xl md:text-2xl text-white leading-relaxed tracking-wide drop-shadow-md whitespace-pre-wrap",children:[r,u&&E.jsx("span",{className:"animate-blink inline-block ml-1 w-3 h-5 bg-yellow-400 align-middle"})]}),!u&&E.jsx("div",{className:"absolute bottom-4 right-4 animate-bounce",children:E.jsx("div",{className:"w-0 h-0 border-l-[10px] border-l-transparent border-r-[10px] border-r-transparent border-t-[15px] border-t-red-500 drop-shadow-[0_2px_0_white]"})})]})]})]})},p6=({title:s,onClose:e,children:n})=>E.jsxs("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex justify-center items-center p-2 md:p-4 font-pixel select-none",children:[E.jsxs("div",{className:"w-full max-w-3xl max-h-[90vh] bg-white border-4 border-black shadow-[8px_8px_0_rgba(0,0,0,0.5)] flex flex-col overflow-hidden animate-[slideUp_0.3s_steps(4)] relative",children:[E.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b-4 border-black bg-blue-600 text-white",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"animate-pulse",children:""}),E.jsx("span",{className:"text-lg uppercase tracking-wider",children:s})]}),E.jsx("button",{className:"text-white hover:text-yellow-300 transition-colors text-2xl leading-none w-8 h-8 flex items-center justify-center border-2 border-transparent hover:border-white hover:bg-white/10",onClick:e,children:"X"})]}),E.jsx("div",{className:"flex-1 overflow-y-auto p-0 scrollbar-hide bg-white relative",children:E.jsx("div",{className:"h-full",children:n})}),E.jsx("div",{className:"h-2 bg-black w-full"})]}),E.jsx("style",{children:`
                @keyframes slideUp {
                    from { transform: translateY(20px); opacity: 0; }
                    to { transform: translateY(0); opacity: 1; }
                }
            `})]}),g6=()=>{const[s,e]=se.useState([]),[n,r]=se.useState(!0),[o,u]=se.useState("run"),f=ai.currentUser;return se.useEffect(()=>{(async()=>{r(!0);try{const g=q4(D4(ui,o==="run"?"scores":"bouquet_scores"),H4("score","desc"),F4(50)),w=(await J4(g)).docs.map($=>({id:$.id,...$.data()})),x=new Map;w.forEach($=>{const te=$.displayName;(!x.has(te)||x.get(te).score<$.score)&&x.set(te,$)});const q=Array.from(x.values()).sort(($,te)=>te.score-$.score).slice(0,10);e(q)}catch(_){console.error("Error fetching rankings: ",_)}finally{r(!1)}})()},[o]),E.jsx("div",{className:"w-full max-w-2xl mx-auto p-1 font-pixel select-none",children:E.jsxs("div",{className:"bg-black/80 backdrop-blur-md border-[6px] border-white rounded-lg p-6 shadow-[8px_8px_0_rgba(0,0,0,0.5)] relative overflow-hidden",children:[E.jsx("div",{className:"absolute inset-0 pointer-events-none bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20"}),E.jsx("div",{className:"text-center mb-6",children:E.jsx("h3",{className:"text-3xl md:text-4xl text-yellow-400 mb-2 drop-shadow-[4px_4px_0_#b91c1c] animate-pulse tracking-wider font-pixel whitespace-nowrap",children:"   "})}),E.jsxs("div",{className:"flex gap-2 mb-0 justify-center relative z-10",children:[E.jsx("button",{onClick:()=>u("run"),className:`flex-1 md:flex-none px-2 md:px-4 py-2 border-t-4 border-x-4 rounded-t-lg transition-all text-xs md:text-sm ${o==="run"?"bg-blue-600 border-white text-white -mb-1 pb-3":"bg-gray-800 border-gray-600 text-gray-400 hover:bg-gray-700 mt-2"}`,children:"  "}),E.jsx("button",{onClick:()=>u("bouquet"),className:`flex-1 md:flex-none px-2 md:px-4 py-2 border-t-4 border-x-4 rounded-t-lg transition-all text-xs md:text-sm ${o==="bouquet"?"bg-pink-600 border-white text-white -mb-1 pb-3":"bg-gray-800 border-gray-600 text-gray-400 hover:bg-gray-700 mt-2"}`,children:"  "})]}),E.jsx("div",{className:"overflow-hidden border-4 border-white bg-black min-h-[300px] relative z-0",children:n?E.jsxs("div",{className:"flex flex-col items-center justify-center p-8 h-[300px] text-white",children:[E.jsx("div",{className:"animate-spin text-4xl mb-4",children:""}),E.jsx("p",{className:"animate-pulse",children:"  ..."})]}):E.jsxs("table",{className:"w-full text-left bg-black text-white",children:[E.jsx("thead",{className:`${o==="run"?"bg-blue-800":"bg-pink-800"} text-yellow-300 border-b-4 border-white`,children:E.jsxs("tr",{children:[E.jsx("th",{className:"p-4 text-center w-16",children:""}),E.jsx("th",{className:"p-4",children:""}),E.jsx("th",{className:"p-4 text-right",children:""})]})}),E.jsxs("tbody",{children:[s.map((m,_)=>{const g=f&&(f.uid===m.id||f.displayName===m.displayName),b=w=>w===0?"text-yellow-400 drop-shadow-[0_0_5px_gold]":w===1?"text-gray-300 drop-shadow-[0_0_5px_silver]":w===2?"text-orange-400 drop-shadow-[0_0_5px_orange]":"text-white";return E.jsxs("tr",{className:`
                                                border-b-2 border-white/20
                                                ${g?"bg-white/20 animate-pulse":"hover:bg-white/10"}
                                                ${_<3?"text-lg":""}
                                            `,children:[E.jsxs("td",{className:"p-3 text-center text-2xl",children:[_===0&&"",_===1&&"",_===2&&"",_>2&&E.jsxs("span",{className:"text-gray-500 text-lg",children:["#",_+1]})]}),E.jsx("td",{className:`p-3 ${g?"text-cyan-300":b(_)}`,children:E.jsxs("div",{className:"flex flex-col",children:[E.jsx("span",{className:"truncate max-w-[120px] md:max-w-none block",children:m.displayName}),g&&E.jsx("span",{className:"text-[10px] text-cyan-500",children:""})]})}),E.jsx("td",{className:`p-3 text-right ${_<3?"text-yellow-200":"text-gray-300"}`,children:m.score.toLocaleString()})]},m.id)}),s.length===0&&E.jsx("tr",{children:E.jsx("td",{colSpan:"3",className:"p-8 text-center text-gray-500",children:"  "})})]})]})}),E.jsx("div",{className:"mt-6 text-center text-xs text-gray-500 tracking-widest uppercase animate-pulse",children:"   "})]})})},_6=()=>{const[s,e]=se.useState([]),[n,r]=se.useState(!0),o=ai.currentUser;if(se.useEffect(()=>{(async()=>{if(o)try{const m=ms(ui,"users",o.uid),_=await $p(m);_.exists()&&e(_.data().achievements||[])}catch(m){console.error("Error fetching achievements:",m)}finally{r(!1)}})()},[o]),n)return E.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading..."});const u=Object.values(so);return E.jsxs("div",{style:Mi.container,children:[E.jsx("h3",{style:Mi.header,children:"   (MY ACHIEVEMENTS)"}),E.jsx("div",{style:Mi.grid,children:u.map(f=>{const m=s.includes(f.id);return E.jsxs("div",{style:{...Mi.card,...m?Mi.unlocked:Mi.locked},children:[E.jsx("div",{style:Mi.icon,children:m?"":""}),E.jsxs("div",{style:Mi.info,children:[E.jsx("div",{style:Mi.title,children:f.title}),E.jsx("div",{style:Mi.desc,children:f.desc})]})]},f.id)})})]})},Mi={container:{padding:"10px",color:"#333",fontFamily:'"Rajdhani", sans-serif'},header:{textAlign:"center",marginBottom:"15px",borderBottom:"2px solid #333",paddingBottom:"10px"},grid:{display:"flex",flexDirection:"column",gap:"10px"},card:{display:"flex",alignItems:"center",padding:"10px",borderRadius:"8px",border:"1px solid #ddd",transition:"transform 0.2s"},unlocked:{backgroundColor:"#fffbe6",border:"2px solid #ffd700",boxShadow:"0 2px 5px rgba(255, 215, 0, 0.3)"},locked:{backgroundColor:"#f5f5f5",filter:"grayscale(100%)",opacity:.7},icon:{fontSize:"2rem",marginRight:"15px"},info:{flex:1},title:{fontWeight:"bold",fontSize:"1rem",marginBottom:"3px"},desc:{fontSize:"0.8rem",color:"#666"}},y6=({onClose:s})=>{const[e,n]=se.useState("start"),[r,o]=se.useState(0),[u,f]=se.useState(0),[m,_]=se.useState(50),[g,b]=se.useState([]),w=se.useRef(null),x=se.useRef(null),q=se.useRef(null),$=se.useRef(0),te=se.useRef("start"),ne=se.useRef(50),oe=se.useRef([]),ye=new URL("/Invitation/assets/pixel_castle_bg-JX_UEiKn.png",import.meta.url).href,de=15;se.useEffect(()=>{ne.current=m},[m]);const De=()=>{Yt.playClick(),n("playing"),o(0),f(0),_(50),b([]),$.current=0,ne.current=50,oe.current=[],te.current="playing",x.current&&clearInterval(x.current),x.current=setInterval(Je,800),q.current&&clearInterval(q.current),q.current=setInterval(()=>{f(D=>D+1)},1e3),w.current&&cancelAnimationFrame(w.current),w.current=requestAnimationFrame(Ee)},Je=()=>{if(te.current!=="playing")return;const D=Date.now()+Math.random(),R=Math.random()>.6?Math.random()>.5?"bomb":"withered":"bouquet",Ge=Math.random()*90,Ce={id:D,x:Ge,y:-10,type:R};oe.current.push(Ce)},Ee=()=>{if(te.current!=="playing")return;const D=.4+$.current*.05;let V=!1;if(oe.current=oe.current.filter(R=>{if(R.y+=D,R.y>75&&R.y<98){const Ge=ne.current,Ce=R.x+5,H=Ge+de/2;if(Math.abs(Ce-H)<10)return R.type==="bouquet"?(Yt.playConfirm(),$.current+=1,o($.current),!1):(Yt.playDamage(),V=!0,!1)}return R.y<105}),V){S("gameover");return}b([...oe.current]),w.current=requestAnimationFrame(Ee)},N=async D=>{const V=ai.currentUser;if(V)try{const R=ms(ui,"bouquet_scores",V.uid);await au(R,{uid:V.uid,displayName:V.displayName||"Guest",score:D,timestamp:BT()},{merge:!0})}catch(R){console.error("Error saving bouquet score:",R)}},S=D=>{te.current=D,n(D),Zm(Math.floor($.current)),N($.current),clearInterval(x.current),clearInterval(q.current),cancelAnimationFrame(w.current)};se.useEffect(()=>()=>{clearInterval(x.current),clearInterval(q.current),cancelAnimationFrame(w.current)},[]);const I=D=>{e==="playing"&&_(V=>{const R=V+D;return Math.max(0,Math.min(100-de,R))})},k=D=>{const V=Math.floor(D/60),R=D%60;return`${V.toString().padStart(2,"0")}:${R.toString().padStart(2,"0")}`};return E.jsxs("div",{className:"relative w-full h-[400px] bg-sky-200 overflow-hidden font-['Silkscreen'] select-none border-4 border-black",children:[E.jsx("div",{className:"absolute inset-0 bg-cover bg-bottom opacity-50",style:{backgroundImage:`url(${ye})`,imageRendering:"pixelated"}}),E.jsx("div",{className:"absolute top-4 left-4 z-20 flex gap-2",children:E.jsxs("div",{className:"bg-black/50 text-white px-2 border-2 border-white/50 text-sm flex items-center",children:[" ",k(u)]})}),E.jsxs("div",{className:"absolute top-4 right-4 text-2xl z-20 text-blue-600 drop-shadow-[2px_2px_0_white]",children:["SCORE: ",r]}),e==="start"&&E.jsxs("div",{className:"absolute inset-0 bg-black/70 flex flex-col items-center justify-center text-white z-50 p-4 text-center cursor-pointer font-['Silkscreen']",onClick:De,children:[E.jsx("h2",{className:"text-3xl text-yellow-300 mb-4 animate-bounce drop-shadow-md font-['Silkscreen']",children:" BOUQUET RUSH "}),E.jsx("p",{className:"mb-2 text-lg",children:"Infinite Challenge!"}),E.jsxs("div",{className:"flex gap-4 mb-6 text-2xl",children:[E.jsx("span",{children:" = +1"}),E.jsx("span",{children:"/ = DIE"})]}),E.jsx("button",{className:"bg-blue-600 border-4 border-white px-8 py-4 text-xl hover:scale-105 active:scale-95 transition-transform animate-pulse",children:"TAP TO START"})]}),e==="gameover"&&E.jsxs("div",{className:"absolute inset-0 bg-black/80 flex flex-col items-center justify-center text-white z-50 cursor-pointer font-['Silkscreen']",onClick:De,children:[E.jsx("h2",{className:"text-4xl mb-4 text-red-500 drop-shadow-md font-['Silkscreen']",children:" GAME OVER"}),E.jsxs("p",{className:"text-3xl mb-2 text-yellow-300",children:["SCORE: ",r]}),E.jsxs("p",{className:"text-xl mb-2 text-cyan-400 font-bold animate-pulse",children:[" EARNED: +",r]}),E.jsxs("p",{className:"text-xl mb-8 text-gray-300",children:["Time: ",k(u)]}),E.jsx("p",{className:"text-sm text-gray-400 mb-8 animate-pulse",children:"TAP SCREEN TO RETRY"}),E.jsxs("div",{className:"flex gap-4",onClick:D=>D.stopPropagation(),children:[E.jsx("button",{onClick:De,className:"bg-white text-black border-4 border-gray-400 px-6 py-2 hover:bg-gray-200",children:"RETRY"}),E.jsx("button",{onClick:s,className:"bg-red-500 text-white border-4 border-red-800 px-6 py-2 hover:bg-red-400",children:"QUIT"})]})]}),g.map(D=>E.jsx("div",{className:"absolute text-4xl transition-transform",style:{left:`${D.x}%`,top:`${D.y}%`},children:D.type==="bouquet"?"":D.type==="bomb"?"":""},D.id)),E.jsxs("div",{className:"absolute bottom-4 h-24 transition-all duration-75 ease-linear",style:{left:`${m}%`,width:`${de}%`},children:[E.jsx("img",{src:rg,className:"w-full h-full object-contain drop-shadow-lg",style:{imageRendering:"pixelated"}}),E.jsx("div",{className:"absolute bottom-0 w-full text-center text-[10px] text-white/50 backdrop-blur-sm",children:"YOU"})]}),e==="playing"&&E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"absolute top-0 bottom-0 left-0 w-1/2 z-30 active:bg-white/5",onPointerDown:()=>I(-10)}),E.jsx("div",{className:"absolute top-0 bottom-0 right-0 w-1/2 z-30 active:bg-white/5",onPointerDown:()=>I(10)}),E.jsx("button",{className:"absolute bottom-6 left-4 w-16 h-16 bg-white/40 border-2 border-white rounded-full text-3xl flex items-center justify-center z-40 active:scale-90 transition-transform",onPointerDown:()=>I(-10),children:""}),E.jsx("button",{className:"absolute bottom-6 right-4 w-16 h-16 bg-white/40 border-2 border-white rounded-full text-3xl flex items-center justify-center z-40 active:scale-90 transition-transform",onPointerDown:()=>I(10),children:""})]})]})},v6=()=>{const[s,e]=se.useState([]),[n,r]=se.useState(null),[o,u]=se.useState(!1);return se.useEffect(()=>{const f=m=>{const _=m.detail;e(g=>[...g,_])};return window.addEventListener("achievement-unlocked",f),()=>window.removeEventListener("achievement-unlocked",f)},[]),se.useEffect(()=>{if(!n&&s.length>0){const f=s[0];e(m=>m.slice(1)),r(f),setTimeout(()=>u(!0),100),setTimeout(()=>{u(!1),setTimeout(()=>r(null),500)},4e3)}},[n,s]),n?I1.createPortal(E.jsx("div",{className:`
            fixed top-8 left-1/2 -translate-x-1/2 z-[10000]
            transition-all duration-500 transform
            ${o?"translate-y-0 opacity-100 scale-100":"-translate-y-full opacity-0 scale-90"}
        `,children:E.jsxs("div",{className:"relative group",children:[E.jsx("div",{className:"absolute inset-0 bg-yellow-400 blur-xl opacity-20 animate-pulse"}),E.jsxs("div",{className:"relative bg-black/90 text-white min-w-[320px] max-w-sm rounded-xl overflow-hidden shadow-[0_0_20px_rgba(255,215,0,0.4)] border-2 border-yellow-500/50",children:[E.jsx("div",{className:"absolute inset-0 border-2 border-white/20 rounded-xl pointer-events-none"}),E.jsxs("div",{className:"flex items-center p-4 gap-4",children:[E.jsxs("div",{className:"relative shrink-0",children:[E.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-yellow-300 to-yellow-600 rounded-full flex items-center justify-center text-2xl shadow-inner border-2 border-white/30 animate-bounce",children:""}),E.jsx("div",{className:"absolute -top-1 -right-1 text-yellow-200 animate-spin-slow",children:""})]}),E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsx("div",{className:"text-yellow-400 text-xs font-bold tracking-widest uppercase mb-0.5 animate-pulse",children:"ACHIEVEMENT UNLOCKED!"}),E.jsx("h4",{className:"text-lg font-bold text-white leading-tight font-pixel truncate",children:n.title}),E.jsx("p",{className:"text-white/70 text-xs mt-1 truncate font-pixel",children:n.desc})]})]}),E.jsx("div",{className:"absolute bottom-0 left-0 h-1 bg-gradient-to-r from-yellow-400 to-yellow-200 animate-[width_4s_linear_forwards]",style:{width:"100%"}}),E.jsx("div",{className:"absolute top-0 right-10 w-1 h-1 bg-white rounded-full animate-ping"}),E.jsx("div",{className:"absolute bottom-2 left-4 w-1 h-1 bg-yellow-200 rounded-full animate-ping delay-300"})]})]})}),document.body):null},E6=({onSwitchToV1:s})=>{const[e,n]=se.useState("bride"),[r,o]=se.useState(!1),[u,f]=se.useState(""),[m,_]=se.useState(null),[g,b]=se.useState(""),[w,x]=se.useState(!1),[q,$]=se.useState(0);se.useEffect(()=>{const Ee=new Date("2026-04-25T16:50:00"),N=()=>{const D=Ee-new Date,V=Math.ceil(D/(1e3*60*60*24));b(V>0?`D-${V}`:V===0?"D-DAY":`D+${Math.abs(V)}`)};N();const S=setInterval(N,1e3*60),I=a6(k=>{$(k)});return()=>{clearInterval(S),I()}},[]);const te=()=>{Yt.playClick(),n(Ee=>Ee==="bride"?"groom":"bride")},ne=()=>{Yt.playClick(),x(!0),setTimeout(()=>x(!1),200);const Ee=e==="bride"?["   !","  ~"," !","   !","  !"]:["  !","  !","  ."," !","   !"],N=Ee[Math.floor(Math.random()*Ee.length)];f(N),o(!0),mo("TOUCH_CHARACTER",{[e]:1}),setTimeout(()=>o(!1),3e3)},oe=Ee=>{Yt.playClick(),_(Ee)},ye=()=>{Yt.playClick(),_(null)},de=()=>{Yt.playClick(),s()},De=Ee=>{switch(Ee){case"map":return" ";case"gallery":return" ";case"recruit":return" ";case"story":return"";case"ranking":return"";case"achievement":return"";case"info":return" ";case"game":return" ";case"bouquet":return" ";default:return""}},Je=new URL("/Invitation/assets/pixel_castle_bg-JX_UEiKn.png",import.meta.url).href;return E.jsxs("div",{className:"relative w-full h-full overflow-hidden bg-black font-pixel select-none text-white",children:[E.jsx(v6,{}),E.jsx("div",{className:"absolute inset-0 z-0 bg-cover bg-center",style:{backgroundImage:`url(${Je})`,imageRendering:"pixelated"},children:E.jsx("div",{className:"absolute inset-0 bg-black/30"})}),E.jsxs("div",{className:"absolute top-0 left-0 right-0 p-4 z-20 flex justify-between items-start pointer-events-none",children:[E.jsxs("div",{className:"pointer-events-auto flex flex-col gap-2",children:[E.jsxs("div",{className:"bg-black/60 border-2 border-white px-3 py-1 flex items-center gap-2 shadow-md w-fit",children:[E.jsx("span",{className:"text-yellow-400",children:""}),E.jsx("span",{className:"text-lg",children:g})]}),E.jsxs("div",{className:"bg-black/60 border-2 border-cyan-400 px-3 py-1 flex items-center gap-2 shadow-md w-fit animate-pulse",children:[E.jsx("span",{className:"text-cyan-400 text-xl",children:""}),E.jsx("span",{className:"text-lg text-cyan-100 font-bold",children:q})]})]}),E.jsxs("div",{className:"pointer-events-auto flex flex-col items-end gap-2",children:[E.jsx("button",{onClick:te,className:"bg-blue-600 border-b-4 border-r-4 border-blue-800 text-white px-3 py-1 text-xs hover:bg-blue-500 active:border-b-0 active:border-r-0 active:translate-y-1 transition-all",children:"SWITCH CHAR"}),E.jsx("button",{onClick:de,className:"text-white/60 text-[10px] hover:text-white hover:underline bg-black/40 px-2 py-1",children:"[   ]"})]})]}),E.jsx("div",{className:"absolute inset-0 z-10 flex flex-col items-center justify-end pb-0 pointer-events-none",children:E.jsxs("div",{className:"relative group flex justify-center",children:[E.jsx("img",{src:e==="bride"?rg:R1,alt:"Character",className:`
                            h-[120vh] w-auto object-contain cursor-pointer pointer-events-auto drop-shadow-[0_0_10px_rgba(255,255,255,0.5)]
                            ${w?"scale-105 brightness-125":"scale-100 hover:scale-[1.02]"}
                            transition-all duration-200
                        `,onClick:ne,style:{imageRendering:"pixelated"}}),r&&E.jsxs("div",{className:"absolute top-[25%] left-[10%] bg-white text-black border-4 border-black px-4 py-2 z-30 min-w-[150px] text-center shadow-lg animate-bounce",children:[E.jsx("p",{className:"text-sm font-bold",children:u}),E.jsx("div",{className:"absolute -right-3 top-1/2 -translate-y-1/2 w-4 h-4 bg-white rotate-45 border-t-4 border-r-4 border-black border-b-0 border-l-0"})]})]})}),E.jsxs("div",{className:"absolute top-1/2 right-4 -translate-y-1/2 flex flex-col gap-3 pointer-events-auto z-40",children:[E.jsx(Wa,{icon:"",label:" ",onClick:()=>oe("map")}),E.jsx(Wa,{icon:"",label:" ",onClick:()=>oe("gallery")}),E.jsx(Wa,{icon:"",label:"",onClick:()=>oe("story")}),E.jsx(Wa,{icon:"",label:"",onClick:()=>oe("ranking")}),E.jsx(Wa,{icon:"",label:"",onClick:()=>oe("achievement")}),E.jsx(Wa,{icon:"",label:"",onClick:()=>oe("recruit")})]}),E.jsxs("div",{className:"absolute bottom-6 left-6 right-6 z-50 flex justify-center gap-6 pointer-events-auto",children:[E.jsx("button",{onClick:()=>{oe("game"),mo("GAME_START")},className:"relative group bg-red-600 border-4 border-white text-white px-6 py-3 shadow-[4px_4px_0_rgba(0,0,0,0.5)] hover:translate-y-1 hover:shadow-[2px_2px_0_rgba(0,0,0,0.5)] active:translate-y-2 active:shadow-none transition-all w-48",children:E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("span",{className:"text-2xl animate-pulse",children:""}),E.jsxs("div",{className:"flex flex-col items-start leading-none",children:[E.jsx("span",{className:"text-[10px] text-yellow-300",children:" "}),E.jsx("span",{className:"text-lg",children:" "})]})]})}),E.jsx("button",{onClick:()=>oe("bouquet"),className:"relative group bg-pink-500 border-4 border-white text-white px-6 py-3 shadow-[4px_4px_0_rgba(0,0,0,0.5)] hover:translate-y-1 hover:shadow-[2px_2px_0_rgba(0,0,0,0.5)] active:translate-y-2 active:shadow-none transition-all w-48",children:E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("span",{className:"text-2xl animate-bounce",children:""}),E.jsxs("div",{className:"flex flex-col items-start leading-none",children:[E.jsx("span",{className:"text-[10px] text-yellow-200",children:" "}),E.jsx("span",{className:"text-lg",children:" "})]})]})})]}),m&&E.jsxs(p6,{title:De(m),onClose:ye,children:[m==="map"&&E.jsx(SE,{}),m==="gallery"&&E.jsx(wE,{showRarity:!0}),m==="info"&&E.jsx(u6,{}),m==="game"&&E.jsx("div",{className:"flex flex-col items-center justify-center py-4 w-full",children:E.jsx(f6,{selectedCharacter:e})}),m==="story"&&E.jsx(m6,{onClose:ye}),m==="recruit"&&E.jsx(d6,{}),m==="ranking"&&E.jsx(g6,{}),m==="achievement"&&E.jsx(_6,{}),m==="bouquet"&&E.jsx(y6,{})]})]})},Wa=({icon:s,label:e,onClick:n})=>E.jsxs("button",{onClick:n,className:"group relative bg-black/60 border-2 border-white px-3 py-2 flex items-center gap-3 hover:bg-white/20 hover:border-yellow-400 transition-all w-32 shadow-md",children:[E.jsx("span",{className:"text-xl group-hover:scale-110 transition-transform",children:s}),E.jsx("span",{className:"text-xs text-white group-hover:text-yellow-400",children:e})]}),b6=({onSwitchToV1:s})=>{const[e,n]=se.useState("title"),r=()=>{n("lobby")};return E.jsxs("div",{className:"relative w-full h-screen bg-background overflow-hidden font-body selection:bg-primary/20 selection:text-primary",children:[E.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[500px] h-[500px] bg-primary/20 rounded-full blur-[100px] animate-pulse"}),E.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[600px] h-[600px] bg-secondary/20 rounded-full blur-[120px] animate-pulse delay-1000"}),E.jsx("div",{className:"absolute top-[40%] left-[30%] w-[300px] h-[300px] bg-soft-pink/30 rounded-full blur-[80px] animate-bounce delay-500 duration-[5000ms]"}),E.jsxs("div",{className:"relative w-full h-full",children:[e==="title"&&E.jsx(s6,{onStart:r,onSwitchToV1:s}),e==="lobby"&&E.jsx(E6,{onSwitchToV1:s})]})]})},T6=()=>E.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-background font-body p-4",children:E.jsxs("div",{className:"card max-w-md w-full text-center space-y-8",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx("h1",{className:"text-4xl text-text font-heading tracking-wider",children:"INVITATION"}),E.jsx("p",{className:"text-xl text-text/80 font-medium",children:" & "})]}),E.jsx("div",{className:"w-12 h-px bg-gray-300 mx-auto"}),E.jsx("p",{className:"text-text/60 tracking-widest",children:"2026. 04. 25. SAT PM 04:50"}),E.jsxs("div",{className:"flex flex-col gap-4",children:[E.jsxs("a",{href:"classic.html",className:"btn-secondary flex items-center justify-center gap-2 group",children:[E.jsx("span",{className:"group-hover:scale-110 transition-transform",children:""}),"  (Classic)"]}),E.jsxs("a",{href:"game.html",className:"btn-primary flex items-center justify-center gap-2 group",children:[E.jsx("span",{className:"group-hover:rotate-12 transition-transform",children:""}),"  (Game Mode)"]})]})]})});function A6(){const[s,e]=se.useState("selection");return se.useEffect(()=>{const n=window.location.pathname;n.includes("classic.html")?e("v1"):n.includes("game.html")?e("v2"):new URLSearchParams(window.location.search).get("mode")==="classic"?e("v1"):new URLSearchParams(window.location.search).get("mode")==="game"?e("v2"):e("selection")},[]),E.jsxs(E.Fragment,{children:[s==="selection"&&E.jsx(T6,{}),s==="v1"&&E.jsx(_x,{}),s==="v2"&&E.jsx(b6,{onSwitchToV1:()=>window.location.href="classic.html"}),E.jsx(i6,{})]})}dw.createRoot(document.getElementById("root")).render(E.jsx(se.StrictMode,{children:E.jsx(A6,{})}));
