(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();var am={exports:{}},Ul={};var x0;function u1(){if(x0)return Ul;x0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:s,type:r,key:f,ref:o!==void 0?o:null,props:c}}return Ul.Fragment=e,Ul.jsx=n,Ul.jsxs=n,Ul}var R0;function h1(){return R0||(R0=1,am.exports=u1()),am.exports}var b=h1(),om={exports:{}},Re={};var I0;function f1(){if(I0)return Re;I0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),R=Symbol.iterator;function B(D){return D===null||typeof D!="object"?null:(D=R&&D[R]||D["@@iterator"],typeof D=="function"?D:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,te={};function se(D,j,Q){this.props=D,this.context=j,this.refs=te,this.updater=Q||$}se.prototype.isReactComponent={},se.prototype.setState=function(D,j){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,j,"setState")},se.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function ue(){}ue.prototype=se.prototype;function le(D,j,Q){this.props=D,this.context=j,this.refs=te,this.updater=Q||$}var Ie=le.prototype=new ue;Ie.constructor=le,W(Ie,se.prototype),Ie.isPureReactComponent=!0;var Me=Array.isArray;function we(){}var I={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function C(D,j,Q){var ne=Q.ref;return{$$typeof:s,type:D,key:j,ref:ne!==void 0?ne:null,props:Q}}function k(D,j){return C(D.type,j,D.props)}function N(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function O(D){var j={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(Q){return j[Q]})}var A=/\/+/g;function xe(D,j){return typeof D=="object"&&D!==null&&D.key!=null?O(""+D.key):j.toString(36)}function Te(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(we,we):(D.status="pending",D.then(function(j){D.status==="pending"&&(D.status="fulfilled",D.value=j)},function(j){D.status==="pending"&&(D.status="rejected",D.reason=j)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function H(D,j,Q,ne,de){var oe=typeof D;(oe==="undefined"||oe==="boolean")&&(D=null);var Ee=!1;if(D===null)Ee=!0;else switch(oe){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(D.$$typeof){case s:case e:Ee=!0;break;case E:return Ee=D._init,H(Ee(D._payload),j,Q,ne,de)}}if(Ee)return de=de(D),Ee=ne===""?"."+xe(D,0):ne,Me(de)?(Q="",Ee!=null&&(Q=Ee.replace(A,"$&/")+"/"),H(de,j,Q,"",function(on){return on})):de!=null&&(N(de)&&(de=k(de,Q+(de.key==null||D&&D.key===de.key?"":(""+de.key).replace(A,"$&/")+"/")+Ee)),j.push(de)),1;Ee=0;var qe=ne===""?".":ne+":";if(Me(D))for(var Ze=0;Ze<D.length;Ze++)ne=D[Ze],oe=qe+xe(ne,Ze),Ee+=H(ne,j,Q,oe,de);else if(Ze=B(D),typeof Ze=="function")for(D=Ze.call(D),Ze=0;!(ne=D.next()).done;)ne=ne.value,oe=qe+xe(ne,Ze++),Ee+=H(ne,j,Q,oe,de);else if(oe==="object"){if(typeof D.then=="function")return H(Te(D),j,Q,ne,de);throw j=String(D),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function ee(D,j,Q){if(D==null)return D;var ne=[],de=0;return H(D,ne,"","",function(oe){return j.call(Q,oe,de++)}),ne}function he(D){if(D._status===-1){var j=D._result;j=j(),j.then(function(Q){(D._status===0||D._status===-1)&&(D._status=1,D._result=Q)},function(Q){(D._status===0||D._status===-1)&&(D._status=2,D._result=Q)}),D._status===-1&&(D._status=0,D._result=j)}if(D._status===1)return D._result.default;throw D._result}var Ce=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},pe={map:ee,forEach:function(D,j,Q){ee(D,function(){j.apply(this,arguments)},Q)},count:function(D){var j=0;return ee(D,function(){j++}),j},toArray:function(D){return ee(D,function(j){return j})||[]},only:function(D){if(!N(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Re.Activity=S,Re.Children=pe,Re.Component=se,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=le,Re.StrictMode=r,Re.Suspense=g,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Re.__COMPILER_RUNTIME={__proto__:null,c:function(D){return I.H.useMemoCache(D)}},Re.cache=function(D){return function(){return D.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(D,j,Q){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ne=W({},D.props),de=D.key;if(j!=null)for(oe in j.key!==void 0&&(de=""+j.key),j)!x.call(j,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&j.ref===void 0||(ne[oe]=j[oe]);var oe=arguments.length-2;if(oe===1)ne.children=Q;else if(1<oe){for(var Ee=Array(oe),qe=0;qe<oe;qe++)Ee[qe]=arguments[qe+2];ne.children=Ee}return C(D.type,de,ne)},Re.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},Re.createElement=function(D,j,Q){var ne,de={},oe=null;if(j!=null)for(ne in j.key!==void 0&&(oe=""+j.key),j)x.call(j,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(de[ne]=j[ne]);var Ee=arguments.length-2;if(Ee===1)de.children=Q;else if(1<Ee){for(var qe=Array(Ee),Ze=0;Ze<Ee;Ze++)qe[Ze]=arguments[Ze+2];de.children=qe}if(D&&D.defaultProps)for(ne in Ee=D.defaultProps,Ee)de[ne]===void 0&&(de[ne]=Ee[ne]);return C(D,oe,de)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(D){return{$$typeof:m,render:D}},Re.isValidElement=N,Re.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:he}},Re.memo=function(D,j){return{$$typeof:y,type:D,compare:j===void 0?null:j}},Re.startTransition=function(D){var j=I.T,Q={};I.T=Q;try{var ne=D(),de=I.S;de!==null&&de(Q,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(we,Ce)}catch(oe){Ce(oe)}finally{j!==null&&Q.types!==null&&(j.types=Q.types),I.T=j}},Re.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Re.use=function(D){return I.H.use(D)},Re.useActionState=function(D,j,Q){return I.H.useActionState(D,j,Q)},Re.useCallback=function(D,j){return I.H.useCallback(D,j)},Re.useContext=function(D){return I.H.useContext(D)},Re.useDebugValue=function(){},Re.useDeferredValue=function(D,j){return I.H.useDeferredValue(D,j)},Re.useEffect=function(D,j){return I.H.useEffect(D,j)},Re.useEffectEvent=function(D){return I.H.useEffectEvent(D)},Re.useId=function(){return I.H.useId()},Re.useImperativeHandle=function(D,j,Q){return I.H.useImperativeHandle(D,j,Q)},Re.useInsertionEffect=function(D,j){return I.H.useInsertionEffect(D,j)},Re.useLayoutEffect=function(D,j){return I.H.useLayoutEffect(D,j)},Re.useMemo=function(D,j){return I.H.useMemo(D,j)},Re.useOptimistic=function(D,j){return I.H.useOptimistic(D,j)},Re.useReducer=function(D,j,Q){return I.H.useReducer(D,j,Q)},Re.useRef=function(D){return I.H.useRef(D)},Re.useState=function(D){return I.H.useState(D)},Re.useSyncExternalStore=function(D,j,Q){return I.H.useSyncExternalStore(D,j,Q)},Re.useTransition=function(){return I.H.useTransition()},Re.version="19.2.3",Re}var C0;function Wm(){return C0||(C0=1,om.exports=f1()),om.exports}var ie=Wm(),lm={exports:{}},Ll={},cm={exports:{}},um={};var N0;function d1(){return N0||(N0=1,(function(s){function e(H,ee){var he=H.length;H.push(ee);e:for(;0<he;){var Ce=he-1>>>1,pe=H[Ce];if(0<o(pe,ee))H[Ce]=ee,H[he]=pe,he=Ce;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var ee=H[0],he=H.pop();if(he!==ee){H[0]=he;e:for(var Ce=0,pe=H.length,D=pe>>>1;Ce<D;){var j=2*(Ce+1)-1,Q=H[j],ne=j+1,de=H[ne];if(0>o(Q,he))ne<pe&&0>o(de,Q)?(H[Ce]=de,H[ne]=he,Ce=ne):(H[Ce]=Q,H[j]=he,Ce=j);else if(ne<pe&&0>o(de,he))H[Ce]=de,H[ne]=he,Ce=ne;else break e}}return ee}function o(H,ee){var he=H.sortIndex-ee.sortIndex;return he!==0?he:H.id-ee.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();s.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,S=null,R=3,B=!1,$=!1,W=!1,te=!1,se=typeof setTimeout=="function"?setTimeout:null,ue=typeof clearTimeout=="function"?clearTimeout:null,le=typeof setImmediate<"u"?setImmediate:null;function Ie(H){for(var ee=n(y);ee!==null;){if(ee.callback===null)r(y);else if(ee.startTime<=H)r(y),ee.sortIndex=ee.expirationTime,e(g,ee);else break;ee=n(y)}}function Me(H){if(W=!1,Ie(H),!$)if(n(g)!==null)$=!0,we||(we=!0,O());else{var ee=n(y);ee!==null&&Te(Me,ee.startTime-H)}}var we=!1,I=-1,x=5,C=-1;function k(){return te?!0:!(s.unstable_now()-C<x)}function N(){if(te=!1,we){var H=s.unstable_now();C=H;var ee=!0;try{e:{$=!1,W&&(W=!1,ue(I),I=-1),B=!0;var he=R;try{t:{for(Ie(H),S=n(g);S!==null&&!(S.expirationTime>H&&k());){var Ce=S.callback;if(typeof Ce=="function"){S.callback=null,R=S.priorityLevel;var pe=Ce(S.expirationTime<=H);if(H=s.unstable_now(),typeof pe=="function"){S.callback=pe,Ie(H),ee=!0;break t}S===n(g)&&r(g),Ie(H)}else r(g);S=n(g)}if(S!==null)ee=!0;else{var D=n(y);D!==null&&Te(Me,D.startTime-H),ee=!1}}break e}finally{S=null,R=he,B=!1}ee=void 0}}finally{ee?O():we=!1}}}var O;if(typeof le=="function")O=function(){le(N)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,xe=A.port2;A.port1.onmessage=N,O=function(){xe.postMessage(null)}}else O=function(){se(N,0)};function Te(H,ee){I=se(function(){H(s.unstable_now())},ee)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return R},s.unstable_next=function(H){switch(R){case 1:case 2:case 3:var ee=3;break;default:ee=R}var he=R;R=ee;try{return H()}finally{R=he}},s.unstable_requestPaint=function(){te=!0},s.unstable_runWithPriority=function(H,ee){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var he=R;R=H;try{return ee()}finally{R=he}},s.unstable_scheduleCallback=function(H,ee,he){var Ce=s.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Ce+he:Ce):he=Ce,H){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=he+pe,H={id:E++,callback:ee,priorityLevel:H,startTime:he,expirationTime:pe,sortIndex:-1},he>Ce?(H.sortIndex=he,e(y,H),n(g)===null&&H===n(y)&&(W?(ue(I),I=-1):W=!0,Te(Me,he-Ce))):(H.sortIndex=pe,e(g,H),$||B||($=!0,we||(we=!0,O()))),H},s.unstable_shouldYield=k,s.unstable_wrapCallback=function(H){var ee=R;return function(){var he=R;R=ee;try{return H.apply(this,arguments)}finally{R=he}}}})(um)),um}var D0;function m1(){return D0||(D0=1,cm.exports=d1()),cm.exports}var hm={exports:{}},$t={};var O0;function p1(){if(O0)return $t;O0=1;var s=Wm();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:y,implementation:E}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,$t.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,E)},$t.flushSync=function(g){var y=f.T,E=r.p;try{if(f.T=null,r.p=2,g)return g()}finally{f.T=y,r.p=E,r.d.f()}},$t.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},$t.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},$t.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,B=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:R,fetchPriority:B}):E==="script"&&r.d.X(g,{crossOrigin:S,integrity:R,fetchPriority:B,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},$t.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},$t.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin);r.d.L(g,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},$t.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},$t.requestFormReset=function(g){r.d.r(g)},$t.unstable_batchedUpdates=function(g,y){return g(y)},$t.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},$t.useFormStatus=function(){return f.H.useHostTransitionStatus()},$t.version="19.2.3",$t}var M0;function wb(){if(M0)return hm.exports;M0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),hm.exports=p1(),hm.exports}var V0;function g1(){if(V0)return Ll;V0=1;var s=m1(),e=Wm(),n=wb();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(r(188))}function y(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),t;if(d===l)return g(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var S=Object.assign,R=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),ue=Symbol.for("react.consumer"),le=Symbol.for("react.context"),Ie=Symbol.for("react.forward_ref"),Me=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function O(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var A=Symbol.for("react.client.reference");function xe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===A?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case W:return"Fragment";case se:return"Profiler";case te:return"StrictMode";case Me:return"Suspense";case we:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case $:return"Portal";case le:return t.displayName||"Context";case ue:return(t._context.displayName||"Context")+".Consumer";case Ie:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:xe(t.type)||"Memo";case x:i=t._payload,t=t._init;try{return xe(t(i))}catch{}}return null}var Te=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Ce=[],pe=-1;function D(t){return{current:t}}function j(t){0>pe||(t.current=Ce[pe],Ce[pe]=null,pe--)}function Q(t,i){pe++,Ce[pe]=t.current,t.current=i}var ne=D(null),de=D(null),oe=D(null),Ee=D(null);function qe(t,i){switch(Q(oe,i),Q(de,t),Q(ne,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?X_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=X_(i),t=$_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}j(ne),Q(ne,t)}function Ze(){j(ne),j(de),j(oe)}function on(t){t.memoizedState!==null&&Q(Ee,t);var i=ne.current,a=$_(i,t.type);i!==a&&(Q(de,t),Q(ne,a))}function _s(t){de.current===t&&(j(ne),j(de)),Ee.current===t&&(j(Ee),Ml._currentValue=he)}var vs,bs;function fi(t){if(vs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);vs=i&&i[1]||"",bs=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vs+t+bs}var Mo=!1;function Er(t,i){if(!t||Mo)return"";Mo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(G){var q=G}Reflect.construct(t,[],J)}else{try{J.call()}catch(G){q=G}t.call(J.prototype)}}else{try{throw Error()}catch(G){q=G}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var M=_.split(`
`),z=T.split(`
`);for(h=l=0;l<M.length&&!M[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===M.length||h===z.length)for(l=M.length-1,h=z.length-1;1<=l&&0<=h&&M[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(M[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||M[l]!==z[h]){var Y=`
`+M[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=h);break}}}finally{Mo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?fi(a):""}function Vo(t,i){switch(t.tag){case 26:case 27:case 5:return fi(t.type);case 16:return fi("Lazy");case 13:return t.child!==i&&i!==null?fi("Suspense Fallback"):fi("Suspense");case 19:return fi("SuspenseList");case 0:case 15:return Er(t.type,!1);case 11:return Er(t.type.render,!1);case 1:return Er(t.type,!0);case 31:return fi("Activity");default:return""}}function ko(t){try{var i="",a=null;do i+=Vo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var bt=Object.prototype.hasOwnProperty,Ot=s.unstable_scheduleCallback,Ts=s.unstable_cancelCallback,lf=s.unstable_shouldYield,_c=s.unstable_requestPaint,en=s.unstable_now,wr=s.unstable_getCurrentPriorityLevel,jo=s.unstable_ImmediatePriority,Uo=s.unstable_UserBlockingPriority,Es=s.unstable_NormalPriority,cf=s.unstable_LowPriority,vc=s.unstable_IdlePriority,bc=s.log,Tc=s.unstable_setDisableYieldValue,Qn=null,zt=null;function On(t){if(typeof bc=="function"&&Tc(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(Qn,t)}catch{}}var pt=Math.clz32?Math.clz32:wc,Ec=Math.log,da=Math.LN2;function wc(t){return t>>>=0,t===0?32:31-(Ec(t)/da|0)|0}var di=256,Sr=262144,Tt=4194304;function mi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function pi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=mi(l):(_&=T,_!==0?h=mi(_):a||(a=T&~t,a!==0&&(h=mi(a))))):(T=l&~d,T!==0?h=mi(T):_!==0?h=mi(_):a||(a=l&~t,a!==0&&(h=mi(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Yn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function uf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sc(){var t=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),t}function gi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Ar(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function hf(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,M=t.expirationTimes,z=t.hiddenUpdates;for(a=_&~a;0<a;){var Y=31-pt(a),J=1<<Y;T[Y]=0,M[Y]=-1;var q=z[Y];if(q!==null)for(z[Y]=null,Y=0;Y<q.length;Y++){var G=q[Y];G!==null&&(G.lane&=-536870913)}a&=~J}l!==0&&xr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function xr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-pt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Lo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-pt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Po(t,i){var a=i&-i;return a=(a&42)!==0?1:Rr(a),(a&(t.suspendedLanes|i))!==0?0:a}function Rr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Fi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ac(){var t=ee.p;return t!==0?t:(t=window.event,t===void 0?32:v0(t.type))}function Kn(t,i){var a=ee.p;try{return ee.p=t,i()}finally{ee.p=a}}var Xn=Math.random().toString(36).slice(2),Et="__reactFiber$"+Xn,kt="__reactProps$"+Xn,yi="__reactContainer$"+Xn,ma="__reactEvents$"+Xn,ff="__reactListeners$"+Xn,xc="__reactHandles$"+Xn,Rc="__reactResources$"+Xn,_i="__reactMarker$"+Xn;function pa(t){delete t[Et],delete t[kt],delete t[ma],delete t[ff],delete t[xc]}function vi(t){var i=t[Et];if(i)return i;for(var a=t.parentNode;a;){if(i=a[yi]||a[Et]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=i0(t);t!==null;){if(a=t[Et])return a;t=i0(t)}return i}t=a,a=t.parentNode}return null}function Mn(t){if(t=t[Et]||t[yi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function yn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function bi(t){var i=t[Rc];return i||(i=t[Rc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function wt(t){t[_i]=!0}var zo=new Set,Bo={};function Ti(t,i){Ei(t,i),Ei(t+"Capture",i)}function Ei(t,i){for(Bo[t]=i,t=0;t<i.length;t++)zo.add(i[t])}var qo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ho={},Fo={};function Ic(t){return bt.call(Fo,t)?!0:bt.call(Ho,t)?!1:qo.test(t)?Fo[t]=!0:(Ho[t]=!0,!1)}function ga(t,i,a){if(Ic(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function _n(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function St(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ws(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Go(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Xe(t){if(!t._valueTracker){var i=ws(t)?"checked":"value";t._valueTracker=Go(t,i,""+t[i])}}function Ir(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=ws(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function wi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Cr=/[\n"\\]/g;function ln(t){return t.replace(Cr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ya(t,i,a,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+jt(i)):t.value!==""+jt(i)&&(t.value=""+jt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Qo(t,_,jt(i)):a!=null?Qo(t,_,jt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+jt(T):t.removeAttribute("name")}function Cc(t,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Xe(t);return}a=a!=null?""+jt(a):"",i=i!=null?""+jt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Xe(t)}function Qo(t,i,a){i==="number"&&wi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ss(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+jt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Nc(t,i,a){if(i!=null&&(i=""+jt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+jt(a):""}function As(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(Te(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=jt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Xe(t)}function cn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Dc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Dc.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Ko(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Yo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Yo(t,d,i[d])}function _a(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function va(t){return xs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function $n(){}var Xo=null;function Vn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rs=null,Si=null;function Nr(t){var i=Mn(t);if(i&&(t=i.stateNode)){var a=t[kt]||null;e:switch(t=i.stateNode,i.type){case"input":if(ya(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ln(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[kt]||null;if(!h)throw Error(r(90));ya(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Ir(l)}break e;case"textarea":Nc(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ss(t,!!a.multiple,i,!1)}}}var ba=!1;function Is(t,i,a){if(ba)return t(i,a);ba=!0;try{var l=t(i);return l}finally{if(ba=!1,(Rs!==null||Si!==null)&&(Au(),Rs&&(i=Rs,t=Si,Si=Rs=null,Nr(i),t)))for(i=0;i<t.length;i++)Nr(t[i])}}function Jn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[kt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dr=!1;if(kn)try{var We={};Object.defineProperty(We,"passive",{get:function(){Dr=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch{Dr=!1}var Ai=null,$o=null,Or=null;function Jo(){if(Or)return Or;var t,i=$o,a=i.length,l,h="value"in Ai?Ai.value:Ai.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Or=h.slice(t,1<l?1-l:void 0)}function Mr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Gi(){return!0}function Zn(){return!1}function Bt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Gi:Zn,this.isPropagationStopped=Zn,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),i}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xi=Bt(Qi),Cs=S({},Qi,{view:0,detail:0}),Zo=Bt(Cs),Ns,Ta,Ri,Ea=S({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ds,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ri&&(Ri&&t.type==="mousemove"?(Ns=t.screenX-Ri.screenX,Ta=t.screenY-Ri.screenY):Ta=Ns=0,Ri=t),Ns)},movementY:function(t){return"movementY"in t?t.movementY:Ta}}),Wo=Bt(Ea),Vr=S({},Ea,{dataTransfer:0}),Mc=Bt(Vr),Vc=S({},Cs,{relatedTarget:0}),kr=Bt(Vc),el=S({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),kc=Bt(el),wa=S({},Qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),jc=Bt(wa),Uc=S({},Qi,{data:0}),Ii=Bt(Uc),Lc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bc(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=zc[t])?!!i[t]:!1}function Ds(){return Bc}var tn=S({},Cs,{key:function(t){if(t.key){var i=Lc[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Mr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Pc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ds,charCode:function(t){return t.type==="keypress"?Mr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qc=Bt(tn),Hc=S({},Ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yi=Bt(Hc),u=S({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ds}),p=Bt(u),v=S({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Bt(v),L=S({},Ea,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),F=Bt(L),re=S({},Qi,{newState:0,oldState:0}),Ne=Bt(re),gt=[9,13,27,32],Ye=kn&&"CompositionEvent"in window,lt=null;kn&&"documentMode"in document&&(lt=document.documentMode);var jn=kn&&"TextEvent"in window&&!lt,Ci=kn&&(!Ye||lt&&8<lt&&11>=lt),Wn=" ",ei=!1;function jr(t,i){switch(t){case"keyup":return gt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Aa=!1;function Vw(t,i){switch(t){case"compositionend":return Sa(i);case"keypress":return i.which!==32?null:(ei=!0,Wn);case"textInput":return t=i.data,t===Wn&&ei?null:t;default:return null}}function kw(t,i){if(Aa)return t==="compositionend"||!Ye&&jr(t,i)?(t=Jo(),Or=$o=Ai=null,Aa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ci&&i.locale!=="ko"?null:i.data;default:return null}}var jw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ag(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!jw[t.type]:i==="textarea"}function og(t,i,a,l){Rs?Si?Si.push(l):Si=[l]:Rs=l,i=Ou(i,"onChange"),0<i.length&&(a=new xi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var tl=null,nl=null;function Uw(t){H_(t,0)}function Fc(t){var i=yn(t);if(Ir(i))return t}function lg(t,i){if(t==="change")return i}var cg=!1;if(kn){var df;if(kn){var mf="oninput"in document;if(!mf){var ug=document.createElement("div");ug.setAttribute("oninput","return;"),mf=typeof ug.oninput=="function"}df=mf}else df=!1;cg=df&&(!document.documentMode||9<document.documentMode)}function hg(){tl&&(tl.detachEvent("onpropertychange",fg),nl=tl=null)}function fg(t){if(t.propertyName==="value"&&Fc(nl)){var i=[];og(i,nl,t,Vn(t)),Is(Uw,i)}}function Lw(t,i,a){t==="focusin"?(hg(),tl=i,nl=a,tl.attachEvent("onpropertychange",fg)):t==="focusout"&&hg()}function Pw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fc(nl)}function zw(t,i){if(t==="click")return Fc(i)}function Bw(t,i){if(t==="input"||t==="change")return Fc(i)}function qw(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var vn=typeof Object.is=="function"?Object.is:qw;function il(t,i){if(vn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!bt.call(i,h)||!vn(t[h],i[h]))return!1}return!0}function dg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mg(t,i){var a=dg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=dg(a)}}function pg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?pg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function gg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=wi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=wi(t.document)}return i}function pf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Hw=kn&&"documentMode"in document&&11>=document.documentMode,xa=null,gf=null,sl=null,yf=!1;function yg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;yf||xa==null||xa!==wi(l)||(l=xa,"selectionStart"in l&&pf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),sl&&il(sl,l)||(sl=l,l=Ou(gf,"onSelect"),0<l.length&&(i=new xi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=xa)))}function Ur(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ra={animationend:Ur("Animation","AnimationEnd"),animationiteration:Ur("Animation","AnimationIteration"),animationstart:Ur("Animation","AnimationStart"),transitionrun:Ur("Transition","TransitionRun"),transitionstart:Ur("Transition","TransitionStart"),transitioncancel:Ur("Transition","TransitionCancel"),transitionend:Ur("Transition","TransitionEnd")},_f={},_g={};kn&&(_g=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);function Lr(t){if(_f[t])return _f[t];if(!Ra[t])return t;var i=Ra[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in _g)return _f[t]=i[a];return t}var vg=Lr("animationend"),bg=Lr("animationiteration"),Tg=Lr("animationstart"),Fw=Lr("transitionrun"),Gw=Lr("transitionstart"),Qw=Lr("transitioncancel"),Eg=Lr("transitionend"),wg=new Map,vf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vf.push("scrollEnd");function ti(t,i){wg.set(t,i),Ti(i,[t])}var Gc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Un=[],Ia=0,bf=0;function Qc(){for(var t=Ia,i=bf=Ia=0;i<t;){var a=Un[i];Un[i++]=null;var l=Un[i];Un[i++]=null;var h=Un[i];Un[i++]=null;var d=Un[i];if(Un[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Sg(a,h,d)}}function Yc(t,i,a,l){Un[Ia++]=t,Un[Ia++]=i,Un[Ia++]=a,Un[Ia++]=l,bf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Tf(t,i,a,l){return Yc(t,i,a,l),Kc(t)}function Pr(t,i){return Yc(t,null,null,i),Kc(t)}function Sg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-pt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Kc(t){if(50<xl)throw xl=0,Nd=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ca={};function Yw(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(t,i,a,l){return new Yw(t,i,a,l)}function Ef(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ki(t,i){var a=t.alternate;return a===null?(a=bn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Ag(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Xc(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")Ef(t)&&(_=1);else if(typeof t=="string")_=ZS(t,a,ne.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=bn(31,a,i,h),t.elementType=C,t.lanes=d,t;case W:return zr(a.children,h,d,i);case te:_=8,h|=24;break;case se:return t=bn(12,a,i,h|2),t.elementType=se,t.lanes=d,t;case Me:return t=bn(13,a,i,h),t.elementType=Me,t.lanes=d,t;case we:return t=bn(19,a,i,h),t.elementType=we,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case le:_=10;break e;case ue:_=9;break e;case Ie:_=11;break e;case I:_=14;break e;case x:_=16,l=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return i=bn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function zr(t,i,a,l){return t=bn(7,t,l,i),t.lanes=a,t}function wf(t,i,a){return t=bn(6,t,null,i),t.lanes=a,t}function xg(t){var i=bn(18,null,null,0);return i.stateNode=t,i}function Sf(t,i,a){return i=bn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Rg=new WeakMap;function Ln(t,i){if(typeof t=="object"&&t!==null){var a=Rg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ko(i)},Rg.set(t,i),i)}return{value:t,source:i,stack:ko(i)}}var Na=[],Da=0,$c=null,rl=0,Pn=[],zn=0,Os=null,Ni=1,Di="";function Xi(t,i){Na[Da++]=rl,Na[Da++]=$c,$c=t,rl=i}function Ig(t,i,a){Pn[zn++]=Ni,Pn[zn++]=Di,Pn[zn++]=Os,Os=t;var l=Ni;t=Di;var h=32-pt(l)-1;l&=~(1<<h),a+=1;var d=32-pt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ni=1<<32-pt(i)+h|a<<h|l,Di=d+t}else Ni=1<<d|a<<h|l,Di=t}function Af(t){t.return!==null&&(Xi(t,1),Ig(t,1,0))}function xf(t){for(;t===$c;)$c=Na[--Da],Na[Da]=null,rl=Na[--Da],Na[Da]=null;for(;t===Os;)Os=Pn[--zn],Pn[zn]=null,Di=Pn[--zn],Pn[zn]=null,Ni=Pn[--zn],Pn[zn]=null}function Cg(t,i){Pn[zn++]=Ni,Pn[zn++]=Di,Pn[zn++]=Os,Ni=i.id,Di=i.overflow,Os=t}var qt=null,rt=null,Be=!1,Ms=null,Bn=!1,Rf=Error(r(519));function Vs(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw al(Ln(i,t)),Rf}function Ng(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Et]=t,i[kt]=l,a){case"dialog":ke("cancel",i),ke("close",i);break;case"iframe":case"object":case"embed":ke("load",i);break;case"video":case"audio":for(a=0;a<Il.length;a++)ke(Il[a],i);break;case"source":ke("error",i);break;case"img":case"image":case"link":ke("error",i),ke("load",i);break;case"details":ke("toggle",i);break;case"input":ke("invalid",i),Cc(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ke("invalid",i);break;case"textarea":ke("invalid",i),As(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Y_(i.textContent,a)?(l.popover!=null&&(ke("beforetoggle",i),ke("toggle",i)),l.onScroll!=null&&ke("scroll",i),l.onScrollEnd!=null&&ke("scrollend",i),l.onClick!=null&&(i.onclick=$n),i=!0):i=!1,i||Vs(t,!0)}function Dg(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:qt=qt.return}}function Oa(t){if(t!==qt)return!1;if(!Be)return Dg(t),Be=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Gd(t.type,t.memoizedProps)),a=!a),a&&rt&&Vs(t),Dg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));rt=n0(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));rt=n0(t)}else i===27?(i=rt,Ks(t.type)?(t=$d,$d=null,rt=t):rt=i):rt=qt?Hn(t.stateNode.nextSibling):null;return!0}function Br(){rt=qt=null,Be=!1}function If(){var t=Ms;return t!==null&&(dn===null?dn=t:dn.push.apply(dn,t),Ms=null),t}function al(t){Ms===null?Ms=[t]:Ms.push(t)}var Cf=D(null),qr=null,$i=null;function ks(t,i,a){Q(Cf,i._currentValue),i._currentValue=a}function Ji(t){t._currentValue=Cf.current,j(Cf)}function Nf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Df(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var M=0;M<i.length;M++)if(T.context===i[M]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Nf(d.return,a,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Nf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ma(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var T=h.type;vn(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ee.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ml):t=[Ml])}h=h.return}t!==null&&Df(i,t,a,l),i.flags|=262144}function Jc(t){for(t=t.firstContext;t!==null;){if(!vn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Hr(t){qr=t,$i=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return Og(qr,t)}function Zc(t,i){return qr===null&&Hr(t),Og(t,i)}function Og(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},$i===null){if(t===null)throw Error(r(308));$i=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else $i=$i.next=i;return a}var Kw=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Xw=s.unstable_scheduleCallback,$w=s.unstable_NormalPriority,At={$$typeof:le,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Of(){return{controller:new Kw,data:new Map,refCount:0}}function ol(t){t.refCount--,t.refCount===0&&Xw($w,function(){t.controller.abort()})}var ll=null,Mf=0,Va=0,ka=null;function Jw(t,i){if(ll===null){var a=ll=[];Mf=0,Va=jd(),ka={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Mf++,i.then(Mg,Mg),i}function Mg(){if(--Mf===0&&ll!==null){ka!==null&&(ka.status="fulfilled");var t=ll;ll=null,Va=0,ka=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Zw(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Vg=H.S;H.S=function(t,i){y_=en(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Jw(t,i),Vg!==null&&Vg(t,i)};var Fr=D(null);function Vf(){var t=Fr.current;return t!==null?t:st.pooledCache}function Wc(t,i){i===null?Q(Fr,Fr.current):Q(Fr,i.pool)}function kg(){var t=Vf();return t===null?null:{parent:At._currentValue,pool:t}}var ja=Error(r(460)),kf=Error(r(474)),eu=Error(r(542)),tu={then:function(){}};function jg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ug(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then($n,$n),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Pg(t),t;default:if(typeof i.status=="string")i.then($n,$n);else{if(t=st,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Pg(t),t}throw Qr=i,ja}}function Gr(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Qr=a,ja):a}}var Qr=null;function Lg(){if(Qr===null)throw Error(r(459));var t=Qr;return Qr=null,t}function Pg(t){if(t===ja||t===eu)throw Error(r(483))}var Ua=null,cl=0;function nu(t){var i=cl;return cl+=1,Ua===null&&(Ua=[]),Ug(Ua,t,i)}function ul(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function iu(t,i){throw i.$$typeof===R?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function zg(t){function i(U,V){if(t){var P=U.deletions;P===null?(U.deletions=[V],U.flags|=16):P.push(V)}}function a(U,V){if(!t)return null;for(;V!==null;)i(U,V),V=V.sibling;return null}function l(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function h(U,V){return U=Ki(U,V),U.index=0,U.sibling=null,U}function d(U,V,P){return U.index=P,t?(P=U.alternate,P!==null?(P=P.index,P<V?(U.flags|=67108866,V):P):(U.flags|=67108866,V)):(U.flags|=1048576,V)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,V,P,X){return V===null||V.tag!==6?(V=wf(P,U.mode,X),V.return=U,V):(V=h(V,P),V.return=U,V)}function M(U,V,P,X){var ye=P.type;return ye===W?Y(U,V,P.props.children,X,P.key):V!==null&&(V.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===x&&Gr(ye)===V.type)?(V=h(V,P.props),ul(V,P),V.return=U,V):(V=Xc(P.type,P.key,P.props,null,U.mode,X),ul(V,P),V.return=U,V)}function z(U,V,P,X){return V===null||V.tag!==4||V.stateNode.containerInfo!==P.containerInfo||V.stateNode.implementation!==P.implementation?(V=Sf(P,U.mode,X),V.return=U,V):(V=h(V,P.children||[]),V.return=U,V)}function Y(U,V,P,X,ye){return V===null||V.tag!==7?(V=zr(P,U.mode,X,ye),V.return=U,V):(V=h(V,P),V.return=U,V)}function J(U,V,P){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=wf(""+V,U.mode,P),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case B:return P=Xc(V.type,V.key,V.props,null,U.mode,P),ul(P,V),P.return=U,P;case $:return V=Sf(V,U.mode,P),V.return=U,V;case x:return V=Gr(V),J(U,V,P)}if(Te(V)||O(V))return V=zr(V,U.mode,P,null),V.return=U,V;if(typeof V.then=="function")return J(U,nu(V),P);if(V.$$typeof===le)return J(U,Zc(U,V),P);iu(U,V)}return null}function q(U,V,P,X){var ye=V!==null?V.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ye!==null?null:T(U,V,""+P,X);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case B:return P.key===ye?M(U,V,P,X):null;case $:return P.key===ye?z(U,V,P,X):null;case x:return P=Gr(P),q(U,V,P,X)}if(Te(P)||O(P))return ye!==null?null:Y(U,V,P,X,null);if(typeof P.then=="function")return q(U,V,nu(P),X);if(P.$$typeof===le)return q(U,V,Zc(U,P),X);iu(U,P)}return null}function G(U,V,P,X,ye){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return U=U.get(P)||null,T(V,U,""+X,ye);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case B:return U=U.get(X.key===null?P:X.key)||null,M(V,U,X,ye);case $:return U=U.get(X.key===null?P:X.key)||null,z(V,U,X,ye);case x:return X=Gr(X),G(U,V,P,X,ye)}if(Te(X)||O(X))return U=U.get(P)||null,Y(V,U,X,ye,null);if(typeof X.then=="function")return G(U,V,P,nu(X),ye);if(X.$$typeof===le)return G(U,V,P,Zc(V,X),ye);iu(V,X)}return null}function fe(U,V,P,X){for(var ye=null,Ge=null,me=V,Oe=V=0,Ue=null;me!==null&&Oe<P.length;Oe++){me.index>Oe?(Ue=me,me=null):Ue=me.sibling;var Qe=q(U,me,P[Oe],X);if(Qe===null){me===null&&(me=Ue);break}t&&me&&Qe.alternate===null&&i(U,me),V=d(Qe,V,Oe),Ge===null?ye=Qe:Ge.sibling=Qe,Ge=Qe,me=Ue}if(Oe===P.length)return a(U,me),Be&&Xi(U,Oe),ye;if(me===null){for(;Oe<P.length;Oe++)me=J(U,P[Oe],X),me!==null&&(V=d(me,V,Oe),Ge===null?ye=me:Ge.sibling=me,Ge=me);return Be&&Xi(U,Oe),ye}for(me=l(me);Oe<P.length;Oe++)Ue=G(me,U,Oe,P[Oe],X),Ue!==null&&(t&&Ue.alternate!==null&&me.delete(Ue.key===null?Oe:Ue.key),V=d(Ue,V,Oe),Ge===null?ye=Ue:Ge.sibling=Ue,Ge=Ue);return t&&me.forEach(function(Ws){return i(U,Ws)}),Be&&Xi(U,Oe),ye}function ve(U,V,P,X){if(P==null)throw Error(r(151));for(var ye=null,Ge=null,me=V,Oe=V=0,Ue=null,Qe=P.next();me!==null&&!Qe.done;Oe++,Qe=P.next()){me.index>Oe?(Ue=me,me=null):Ue=me.sibling;var Ws=q(U,me,Qe.value,X);if(Ws===null){me===null&&(me=Ue);break}t&&me&&Ws.alternate===null&&i(U,me),V=d(Ws,V,Oe),Ge===null?ye=Ws:Ge.sibling=Ws,Ge=Ws,me=Ue}if(Qe.done)return a(U,me),Be&&Xi(U,Oe),ye;if(me===null){for(;!Qe.done;Oe++,Qe=P.next())Qe=J(U,Qe.value,X),Qe!==null&&(V=d(Qe,V,Oe),Ge===null?ye=Qe:Ge.sibling=Qe,Ge=Qe);return Be&&Xi(U,Oe),ye}for(me=l(me);!Qe.done;Oe++,Qe=P.next())Qe=G(me,U,Oe,Qe.value,X),Qe!==null&&(t&&Qe.alternate!==null&&me.delete(Qe.key===null?Oe:Qe.key),V=d(Qe,V,Oe),Ge===null?ye=Qe:Ge.sibling=Qe,Ge=Qe);return t&&me.forEach(function(c1){return i(U,c1)}),Be&&Xi(U,Oe),ye}function nt(U,V,P,X){if(typeof P=="object"&&P!==null&&P.type===W&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case B:e:{for(var ye=P.key;V!==null;){if(V.key===ye){if(ye=P.type,ye===W){if(V.tag===7){a(U,V.sibling),X=h(V,P.props.children),X.return=U,U=X;break e}}else if(V.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===x&&Gr(ye)===V.type){a(U,V.sibling),X=h(V,P.props),ul(X,P),X.return=U,U=X;break e}a(U,V);break}else i(U,V);V=V.sibling}P.type===W?(X=zr(P.props.children,U.mode,X,P.key),X.return=U,U=X):(X=Xc(P.type,P.key,P.props,null,U.mode,X),ul(X,P),X.return=U,U=X)}return _(U);case $:e:{for(ye=P.key;V!==null;){if(V.key===ye)if(V.tag===4&&V.stateNode.containerInfo===P.containerInfo&&V.stateNode.implementation===P.implementation){a(U,V.sibling),X=h(V,P.children||[]),X.return=U,U=X;break e}else{a(U,V);break}else i(U,V);V=V.sibling}X=Sf(P,U.mode,X),X.return=U,U=X}return _(U);case x:return P=Gr(P),nt(U,V,P,X)}if(Te(P))return fe(U,V,P,X);if(O(P)){if(ye=O(P),typeof ye!="function")throw Error(r(150));return P=ye.call(P),ve(U,V,P,X)}if(typeof P.then=="function")return nt(U,V,nu(P),X);if(P.$$typeof===le)return nt(U,V,Zc(U,P),X);iu(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,V!==null&&V.tag===6?(a(U,V.sibling),X=h(V,P),X.return=U,U=X):(a(U,V),X=wf(P,U.mode,X),X.return=U,U=X),_(U)):a(U,V)}return function(U,V,P,X){try{cl=0;var ye=nt(U,V,P,X);return Ua=null,ye}catch(me){if(me===ja||me===eu)throw me;var Ge=bn(29,me,null,U.mode);return Ge.lanes=X,Ge.return=U,Ge}}}var Yr=zg(!0),Bg=zg(!1),js=!1;function jf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Us(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ls(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ke&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Kc(t),Sg(t,null,a),i}return Yc(t,l,i,a),Kc(t)}function hl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Lo(t,a)}}function Lf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Pf=!1;function fl(){if(Pf){var t=ka;if(t!==null)throw t}}function dl(t,i,a,l){Pf=!1;var h=t.updateQueue;js=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var M=T,z=M.next;M.next=null,_===null?d=z:_.next=z,_=M;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==_&&(T===null?Y.firstBaseUpdate=z:T.next=z,Y.lastBaseUpdate=M))}if(d!==null){var J=h.baseState;_=0,Y=z=M=null,T=d;do{var q=T.lane&-536870913,G=q!==T.lane;if(G?(je&q)===q:(l&q)===q){q!==0&&q===Va&&(Pf=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var fe=t,ve=T;q=i;var nt=a;switch(ve.tag){case 1:if(fe=ve.payload,typeof fe=="function"){J=fe.call(nt,J,q);break e}J=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=ve.payload,q=typeof fe=="function"?fe.call(nt,J,q):fe,q==null)break e;J=S({},J,q);break e;case 2:js=!0}}q=T.callback,q!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[q]:G.push(q))}else G={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(z=Y=G,M=J):Y=Y.next=G,_|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;G=T,T=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);Y===null&&(M=J),h.baseState=M,h.firstBaseUpdate=z,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),Hs|=_,t.lanes=_,t.memoizedState=J}}function qg(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function Hg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)qg(a[t],i)}var La=D(null),su=D(0);function Fg(t,i){t=as,Q(su,t),Q(La,i),as=t|i.baseLanes}function zf(){Q(su,as),Q(La,La.current)}function Bf(){as=su.current,j(La),j(su)}var Tn=D(null),qn=null;function Ps(t){var i=t.alternate;Q(yt,yt.current&1),Q(Tn,t),qn===null&&(i===null||La.current!==null||i.memoizedState!==null)&&(qn=t)}function qf(t){Q(yt,yt.current),Q(Tn,t),qn===null&&(qn=t)}function Gg(t){t.tag===22?(Q(yt,yt.current),Q(Tn,t),qn===null&&(qn=t)):zs()}function zs(){Q(yt,yt.current),Q(Tn,Tn.current)}function En(t){j(Tn),qn===t&&(qn=null),j(yt)}var yt=D(0);function ru(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Kd(a)||Xd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Zi=0,De=null,et=null,xt=null,au=!1,Pa=!1,Kr=!1,ou=0,ml=0,za=null,Ww=0;function dt(){throw Error(r(321))}function Hf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!vn(t[a],i[a]))return!1;return!0}function Ff(t,i,a,l,h,d){return Zi=d,De=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,H.H=t===null||t.memoizedState===null?Iy:rd,Kr=!1,d=a(l,h),Kr=!1,Pa&&(d=Yg(i,a,l,h)),Qg(t),d}function Qg(t){H.H=yl;var i=et!==null&&et.next!==null;if(Zi=0,xt=et=De=null,au=!1,ml=0,za=null,i)throw Error(r(300));t===null||Rt||(t=t.dependencies,t!==null&&Jc(t)&&(Rt=!0))}function Yg(t,i,a,l){De=t;var h=0;do{if(Pa&&(za=null),ml=0,Pa=!1,25<=h)throw Error(r(301));if(h+=1,xt=et=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}H.H=Cy,d=i(a,l)}while(Pa);return d}function eS(){var t=H.H,i=t.useState()[0];return i=typeof i.then=="function"?pl(i):i,t=t.useState()[0],(et!==null?et.memoizedState:null)!==t&&(De.flags|=1024),i}function Gf(){var t=ou!==0;return ou=0,t}function Qf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Yf(t){if(au){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}au=!1}Zi=0,xt=et=De=null,Pa=!1,ml=ou=0,za=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?De.memoizedState=xt=t:xt=xt.next=t,xt}function _t(){if(et===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var i=xt===null?De.memoizedState:xt.next;if(i!==null)xt=i,et=t;else{if(t===null)throw De.alternate===null?Error(r(467)):Error(r(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},xt===null?De.memoizedState=xt=t:xt=xt.next=t}return xt}function lu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pl(t){var i=ml;return ml+=1,za===null&&(za=[]),t=Ug(za,t,i),i=De,(xt===null?i.memoizedState:xt.next)===null&&(i=i.alternate,H.H=i===null||i.memoizedState===null?Iy:rd),t}function cu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return pl(t);if(t.$$typeof===le)return Ht(t)}throw Error(r(438,String(t)))}function Kf(t){var i=null,a=De.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=lu(),De.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=k;return i.index++,a}function Wi(t,i){return typeof i=="function"?i(t):i}function uu(t){var i=_t();return Xf(i,et,t)}function Xf(t,i,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=_=null,M=null,z=i,Y=!1;do{var J=z.lane&-536870913;if(J!==z.lane?(je&J)===J:(Zi&J)===J){var q=z.revertLane;if(q===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),J===Va&&(Y=!0);else if((Zi&q)===q){z=z.next,q===Va&&(Y=!0);continue}else J={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},M===null?(T=M=J,_=d):M=M.next=J,De.lanes|=q,Hs|=q;J=z.action,Kr&&a(d,J),d=z.hasEagerState?z.eagerState:a(d,J)}else q={lane:J,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},M===null?(T=M=q,_=d):M=M.next=q,De.lanes|=J,Hs|=J;z=z.next}while(z!==null&&z!==i);if(M===null?_=d:M.next=T,!vn(d,t.memoizedState)&&(Rt=!0,Y&&(a=ka,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=M,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function $f(t){var i=_t(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);vn(d,i.memoizedState)||(Rt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Kg(t,i,a){var l=De,h=_t(),d=Be;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!vn((et||h).memoizedState,a);if(_&&(h.memoizedState=a,Rt=!0),h=h.queue,Wf(Jg.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||xt!==null&&xt.memoizedState.tag&1){if(l.flags|=2048,Ba(9,{destroy:void 0},$g.bind(null,l,h,a,i),null),st===null)throw Error(r(349));d||(Zi&127)!==0||Xg(l,i,a)}return a}function Xg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=De.updateQueue,i===null?(i=lu(),De.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function $g(t,i,a,l){i.value=a,i.getSnapshot=l,Zg(i)&&Wg(t)}function Jg(t,i,a){return a(function(){Zg(i)&&Wg(t)})}function Zg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!vn(t,a)}catch{return!0}}function Wg(t){var i=Pr(t,2);i!==null&&mn(i,t,2)}function Jf(t){var i=nn();if(typeof t=="function"){var a=t;if(t=a(),Kr){On(!0);try{a()}finally{On(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:t},i}function ey(t,i,a,l){return t.baseState=a,Xf(t,et,typeof l=="function"?l:Wi)}function tS(t,i,a,l,h){if(du(t))throw Error(r(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};H.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,ty(i,d)):(d.next=a.next,i.pending=a.next=d)}}function ty(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=H.T,_={};H.T=_;try{var T=a(h,l),M=H.S;M!==null&&M(_,T),ny(t,i,T)}catch(z){Zf(t,i,z)}finally{d!==null&&_.types!==null&&(d.types=_.types),H.T=d}}else try{d=a(h,l),ny(t,i,d)}catch(z){Zf(t,i,z)}}function ny(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){iy(t,i,l)},function(l){return Zf(t,i,l)}):iy(t,i,a)}function iy(t,i,a){i.status="fulfilled",i.value=a,sy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,ty(t,a)))}function Zf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,sy(i),i=i.next;while(i!==l)}t.action=null}function sy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function ry(t,i){return i}function ay(t,i){if(Be){var a=st.formState;if(a!==null){e:{var l=De;if(Be){if(rt){t:{for(var h=rt,d=Bn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Hn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){rt=Hn(h.nextSibling),l=h.data==="F!";break e}}Vs(l)}l=!1}l&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ry,lastRenderedState:i},a.queue=l,a=Ay.bind(null,De,l),l.dispatch=a,l=Jf(!1),d=sd.bind(null,De,!1,l.queue),l=nn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=tS.bind(null,De,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function oy(t){var i=_t();return ly(i,et,t)}function ly(t,i,a){if(i=Xf(t,i,ry)[0],t=uu(Wi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=pl(i)}catch(_){throw _===ja?eu:_}else l=i;i=_t();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(De.flags|=2048,Ba(9,{destroy:void 0},nS.bind(null,h,a),null)),[l,d,t]}function nS(t,i){t.action=i}function cy(t){var i=_t(),a=et;if(a!==null)return ly(i,a,t);_t(),i=i.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ba(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=De.updateQueue,i===null&&(i=lu(),De.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function uy(){return _t().memoizedState}function hu(t,i,a,l){var h=nn();De.flags|=t,h.memoizedState=Ba(1|i,{destroy:void 0},a,l===void 0?null:l)}function fu(t,i,a,l){var h=_t();l=l===void 0?null:l;var d=h.memoizedState.inst;et!==null&&l!==null&&Hf(l,et.memoizedState.deps)?h.memoizedState=Ba(i,d,a,l):(De.flags|=t,h.memoizedState=Ba(1|i,d,a,l))}function hy(t,i){hu(8390656,8,t,i)}function Wf(t,i){fu(2048,8,t,i)}function iS(t){De.flags|=4;var i=De.updateQueue;if(i===null)i=lu(),De.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function fy(t){var i=_t().memoizedState;return iS({ref:i,nextImpl:t}),function(){if((Ke&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function dy(t,i){return fu(4,2,t,i)}function my(t,i){return fu(4,4,t,i)}function py(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function gy(t,i,a){a=a!=null?a.concat([t]):null,fu(4,4,py.bind(null,i,t),a)}function ed(){}function yy(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Hf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function _y(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Hf(i,l[1]))return l[0];if(l=t(),Kr){On(!0);try{t()}finally{On(!1)}}return a.memoizedState=[l,i],l}function td(t,i,a){return a===void 0||(Zi&1073741824)!==0&&(je&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=v_(),De.lanes|=t,Hs|=t,a)}function vy(t,i,a,l){return vn(a,i)?a:La.current!==null?(t=td(t,a,l),vn(t,i)||(Rt=!0),t):(Zi&42)===0||(Zi&1073741824)!==0&&(je&261930)===0?(Rt=!0,t.memoizedState=a):(t=v_(),De.lanes|=t,Hs|=t,i)}function by(t,i,a,l,h){var d=ee.p;ee.p=d!==0&&8>d?d:8;var _=H.T,T={};H.T=T,sd(t,!1,i,a);try{var M=h(),z=H.S;if(z!==null&&z(T,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var Y=Zw(M,l);gl(t,i,Y,An(t))}else gl(t,i,l,An(t))}catch(J){gl(t,i,{then:function(){},status:"rejected",reason:J},An())}finally{ee.p=d,_!==null&&T.types!==null&&(_.types=T.types),H.T=_}}function sS(){}function nd(t,i,a,l){if(t.tag!==5)throw Error(r(476));var h=Ty(t).queue;by(t,h,i,he,a===null?sS:function(){return Ey(t),a(l)})}function Ty(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:he},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Ey(t){var i=Ty(t);i.next===null&&(i=t.alternate.memoizedState),gl(t,i.next.queue,{},An())}function id(){return Ht(Ml)}function wy(){return _t().memoizedState}function Sy(){return _t().memoizedState}function rS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=An();t=Us(a);var l=Ls(i,t,a);l!==null&&(mn(l,i,a),hl(l,i,a)),i={cache:Of()},t.payload=i;return}i=i.return}}function aS(t,i,a){var l=An();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},du(t)?xy(i,a):(a=Tf(t,i,a,l),a!==null&&(mn(a,t,l),Ry(a,i,l)))}function Ay(t,i,a){var l=An();gl(t,i,a,l)}function gl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(du(t))xy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,vn(T,_))return Yc(t,i,h,0),st===null&&Qc(),!1}catch{}if(a=Tf(t,i,h,l),a!==null)return mn(a,t,l),Ry(a,i,l),!0}return!1}function sd(t,i,a,l){if(l={lane:2,revertLane:jd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},du(t)){if(i)throw Error(r(479))}else i=Tf(t,a,l,2),i!==null&&mn(i,t,2)}function du(t){var i=t.alternate;return t===De||i!==null&&i===De}function xy(t,i){Pa=au=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Ry(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Lo(t,a)}}var yl={readContext:Ht,use:cu,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};yl.useEffectEvent=dt;var Iy={readContext:Ht,use:cu,useCallback:function(t,i){return nn().memoizedState=[t,i===void 0?null:i],t},useContext:Ht,useEffect:hy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,hu(4194308,4,py.bind(null,i,t),a)},useLayoutEffect:function(t,i){return hu(4194308,4,t,i)},useInsertionEffect:function(t,i){hu(4,2,t,i)},useMemo:function(t,i){var a=nn();i=i===void 0?null:i;var l=t();if(Kr){On(!0);try{t()}finally{On(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=nn();if(a!==void 0){var h=a(i);if(Kr){On(!0);try{a(i)}finally{On(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=aS.bind(null,De,t),[l.memoizedState,t]},useRef:function(t){var i=nn();return t={current:t},i.memoizedState=t},useState:function(t){t=Jf(t);var i=t.queue,a=Ay.bind(null,De,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:ed,useDeferredValue:function(t,i){var a=nn();return td(a,t,i)},useTransition:function(){var t=Jf(!1);return t=by.bind(null,De,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=De,h=nn();if(Be){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),st===null)throw Error(r(349));(je&127)!==0||Xg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,hy(Jg.bind(null,l,d,t),[t]),l.flags|=2048,Ba(9,{destroy:void 0},$g.bind(null,l,d,a,i),null),a},useId:function(){var t=nn(),i=st.identifierPrefix;if(Be){var a=Di,l=Ni;a=(l&~(1<<32-pt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=ou++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=Ww++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:id,useFormState:ay,useActionState:ay,useOptimistic:function(t){var i=nn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=sd.bind(null,De,!0,a),a.dispatch=i,[t,i]},useMemoCache:Kf,useCacheRefresh:function(){return nn().memoizedState=rS.bind(null,De)},useEffectEvent:function(t){var i=nn(),a={impl:t};return i.memoizedState=a,function(){if((Ke&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},rd={readContext:Ht,use:cu,useCallback:yy,useContext:Ht,useEffect:Wf,useImperativeHandle:gy,useInsertionEffect:dy,useLayoutEffect:my,useMemo:_y,useReducer:uu,useRef:uy,useState:function(){return uu(Wi)},useDebugValue:ed,useDeferredValue:function(t,i){var a=_t();return vy(a,et.memoizedState,t,i)},useTransition:function(){var t=uu(Wi)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:pl(t),i]},useSyncExternalStore:Kg,useId:wy,useHostTransitionStatus:id,useFormState:oy,useActionState:oy,useOptimistic:function(t,i){var a=_t();return ey(a,et,t,i)},useMemoCache:Kf,useCacheRefresh:Sy};rd.useEffectEvent=fy;var Cy={readContext:Ht,use:cu,useCallback:yy,useContext:Ht,useEffect:Wf,useImperativeHandle:gy,useInsertionEffect:dy,useLayoutEffect:my,useMemo:_y,useReducer:$f,useRef:uy,useState:function(){return $f(Wi)},useDebugValue:ed,useDeferredValue:function(t,i){var a=_t();return et===null?td(a,t,i):vy(a,et.memoizedState,t,i)},useTransition:function(){var t=$f(Wi)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:pl(t),i]},useSyncExternalStore:Kg,useId:wy,useHostTransitionStatus:id,useFormState:cy,useActionState:cy,useOptimistic:function(t,i){var a=_t();return et!==null?ey(a,et,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Kf,useCacheRefresh:Sy};Cy.useEffectEvent=fy;function ad(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:S({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var od={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=An(),h=Us(l);h.payload=i,a!=null&&(h.callback=a),i=Ls(t,h,l),i!==null&&(mn(i,t,l),hl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=An(),h=Us(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ls(t,h,l),i!==null&&(mn(i,t,l),hl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=An(),l=Us(a);l.tag=2,i!=null&&(l.callback=i),i=Ls(t,l,a),i!==null&&(mn(i,t,a),hl(i,t,a))}};function Ny(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!il(a,l)||!il(h,d):!0}function Dy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&od.enqueueReplaceState(i,i.state,null)}function Xr(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Oy(t){Gc(t)}function My(t){console.error(t)}function Vy(t){Gc(t)}function mu(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function ky(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ld(t,i,a){return a=Us(a),a.tag=3,a.payload={element:null},a.callback=function(){mu(t,i)},a}function jy(t){return t=Us(t),t.tag=3,t}function Uy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){ky(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){ky(i,a,l),typeof h!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function oS(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ma(i,a,h,!0),a=Tn.current,a!==null){switch(a.tag){case 31:case 13:return qn===null?xu():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===tu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Md(t,l,h)),!1;case 22:return a.flags|=65536,l===tu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Md(t,l,h)),!1}throw Error(r(435,a.tag))}return Md(t,l,h),xu(),!1}if(Be)return i=Tn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Rf&&(t=Error(r(422),{cause:l}),al(Ln(t,a)))):(l!==Rf&&(i=Error(r(423),{cause:l}),al(Ln(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Ln(l,a),h=ld(t.stateNode,l,h),Lf(t,h),mt!==4&&(mt=2)),!1;var d=Error(r(520),{cause:l});if(d=Ln(d,a),Al===null?Al=[d]:Al.push(d),mt!==4&&(mt=2),i===null)return!0;l=Ln(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=ld(a.stateNode,l,t),Lf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Fs===null||!Fs.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=jy(h),Uy(h,t,a,l),Lf(a,h),!1}a=a.return}while(a!==null);return!1}var cd=Error(r(461)),Rt=!1;function Ft(t,i,a,l){i.child=t===null?Bg(i,null,a,l):Yr(i,t.child,a,l)}function Ly(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Hr(i),l=Ff(t,i,a,_,d,h),T=Gf(),t!==null&&!Rt?(Qf(t,i,h),es(t,i,h)):(Be&&T&&Af(i),i.flags|=1,Ft(t,i,l,h),i.child)}function Py(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Ef(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,zy(t,i,d,l,h)):(t=Xc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!yd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:il,a(_,l)&&t.ref===i.ref)return es(t,i,h)}return i.flags|=1,t=Ki(d,l),t.ref=i.ref,t.return=i,i.child=t}function zy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(il(d,l)&&t.ref===i.ref)if(Rt=!1,i.pendingProps=l=d,yd(t,h))(t.flags&131072)!==0&&(Rt=!0);else return i.lanes=t.lanes,es(t,i,h)}return ud(t,i,a,l,h)}function By(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return qy(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Wc(i,d!==null?d.cachePool:null),d!==null?Fg(i,d):zf(),Gg(i);else return l=i.lanes=536870912,qy(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Wc(i,d.cachePool),Fg(i,d),zs(),i.memoizedState=null):(t!==null&&Wc(i,null),zf(),zs());return Ft(t,i,h,a),i.child}function _l(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function qy(t,i,a,l,h){var d=Vf();return d=d===null?null:{parent:At._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Wc(i,null),zf(),Gg(i),t!==null&&Ma(t,i,l,!0),i.childLanes=h,null}function pu(t,i){return i=yu({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Hy(t,i,a){return Yr(i,t.child,null,a),t=pu(i,i.pendingProps),t.flags|=2,En(i),i.memoizedState=null,t}function lS(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Be){if(l.mode==="hidden")return t=pu(i,l),i.lanes=536870912,_l(null,t);if(qf(i),(t=rt)?(t=t0(t,Bn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Os!==null?{id:Ni,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=xg(t),a.return=i,i.child=a,qt=i,rt=null)):t=null,t===null)throw Vs(i);return i.lanes=536870912,null}return pu(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(qf(i),h)if(i.flags&256)i.flags&=-257,i=Hy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(Rt||Ma(t,i,a,!1),h=(a&t.childLanes)!==0,Rt||h){if(l=st,l!==null&&(_=Po(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Pr(t,_),mn(l,t,_),cd;xu(),i=Hy(t,i,a)}else t=d.treeContext,rt=Hn(_.nextSibling),qt=i,Be=!0,Ms=null,Bn=!1,t!==null&&Cg(i,t),i=pu(i,l),i.flags|=4096;return i}return t=Ki(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function gu(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function ud(t,i,a,l,h){return Hr(i),a=Ff(t,i,a,l,void 0,h),l=Gf(),t!==null&&!Rt?(Qf(t,i,h),es(t,i,h)):(Be&&l&&Af(i),i.flags|=1,Ft(t,i,a,h),i.child)}function Fy(t,i,a,l,h,d){return Hr(i),i.updateQueue=null,a=Yg(i,l,a,h),Qg(t),l=Gf(),t!==null&&!Rt?(Qf(t,i,d),es(t,i,d)):(Be&&l&&Af(i),i.flags|=1,Ft(t,i,a,d),i.child)}function Gy(t,i,a,l,h){if(Hr(i),i.stateNode===null){var d=Ca,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ht(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=od,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},jf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ht(_):Ca,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(ad(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&od.enqueueReplaceState(d,d.state,null),dl(i,l,d,h),fl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,M=Xr(a,T);d.props=M;var z=d.context,Y=a.contextType;_=Ca,typeof Y=="object"&&Y!==null&&(_=Ht(Y));var J=a.getDerivedStateFromProps;Y=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||z!==_)&&Dy(i,d,l,_),js=!1;var q=i.memoizedState;d.state=q,dl(i,l,d,h),fl(),z=i.memoizedState,T||q!==z||js?(typeof J=="function"&&(ad(i,a,J,l),z=i.memoizedState),(M=js||Ny(i,a,M,l,q,z,_))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=_,l=M):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Uf(t,i),_=i.memoizedProps,Y=Xr(a,_),d.props=Y,J=i.pendingProps,q=d.context,z=a.contextType,M=Ca,typeof z=="object"&&z!==null&&(M=Ht(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==J||q!==M)&&Dy(i,d,l,M),js=!1,q=i.memoizedState,d.state=q,dl(i,l,d,h),fl();var G=i.memoizedState;_!==J||q!==G||js||t!==null&&t.dependencies!==null&&Jc(t.dependencies)?(typeof T=="function"&&(ad(i,a,T,l),G=i.memoizedState),(Y=js||Ny(i,a,Y,l,q,G,M)||t!==null&&t.dependencies!==null&&Jc(t.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,M),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,M)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=G),d.props=l,d.state=G,d.context=M,l=Y):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,gu(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Yr(i,t.child,null,h),i.child=Yr(i,null,a,h)):Ft(t,i,a,h),i.memoizedState=d.state,t=i.child):t=es(t,i,h),t}function Qy(t,i,a,l){return Br(),i.flags|=256,Ft(t,i,a,l),i.child}var hd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fd(t){return{baseLanes:t,cachePool:kg()}}function dd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Sn),t}function Yy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Be){if(h?Ps(i):zs(),(t=rt)?(t=t0(t,Bn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Os!==null?{id:Ni,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=xg(t),a.return=i,i.child=a,qt=i,rt=null)):t=null,t===null)throw Vs(i);return Xd(t)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(zs(),h=i.mode,T=yu({mode:"hidden",children:T},h),l=zr(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=fd(a),l.childLanes=dd(t,_,a),i.memoizedState=hd,_l(null,l)):(Ps(i),md(i,T))}var M=t.memoizedState;if(M!==null&&(T=M.dehydrated,T!==null)){if(d)i.flags&256?(Ps(i),i.flags&=-257,i=pd(t,i,a)):i.memoizedState!==null?(zs(),i.child=t.child,i.flags|=128,i=null):(zs(),T=l.fallback,h=i.mode,l=yu({mode:"visible",children:l.children},h),T=zr(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,Yr(i,t.child,null,a),l=i.child,l.memoizedState=fd(a),l.childLanes=dd(t,_,a),i.memoizedState=hd,i=_l(null,l));else if(Ps(i),Xd(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(r(419)),l.stack="",l.digest=_,al({value:l,source:null,stack:null}),i=pd(t,i,a)}else if(Rt||Ma(t,i,a,!1),_=(a&t.childLanes)!==0,Rt||_){if(_=st,_!==null&&(l=Po(_,a),l!==0&&l!==M.retryLane))throw M.retryLane=l,Pr(t,l),mn(_,t,l),cd;Kd(T)||xu(),i=pd(t,i,a)}else Kd(T)?(i.flags|=192,i.child=t.child,i=null):(t=M.treeContext,rt=Hn(T.nextSibling),qt=i,Be=!0,Ms=null,Bn=!1,t!==null&&Cg(i,t),i=md(i,l.children),i.flags|=4096);return i}return h?(zs(),T=l.fallback,h=i.mode,M=t.child,z=M.sibling,l=Ki(M,{mode:"hidden",children:l.children}),l.subtreeFlags=M.subtreeFlags&65011712,z!==null?T=Ki(z,T):(T=zr(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,_l(null,l),l=i.child,T=t.child.memoizedState,T===null?T=fd(a):(h=T.cachePool,h!==null?(M=At._currentValue,h=h.parent!==M?{parent:M,pool:M}:h):h=kg(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=dd(t,_,a),i.memoizedState=hd,_l(t.child,l)):(Ps(i),a=t.child,t=a.sibling,a=Ki(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function md(t,i){return i=yu({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function yu(t,i){return t=bn(22,t,null,i),t.lanes=0,t}function pd(t,i,a){return Yr(i,t.child,null,a),t=md(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Ky(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Nf(t.return,i,a)}function gd(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Xy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=yt.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,Q(yt,_),Ft(t,i,l,a),l=Be?rl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ky(t,a,i);else if(t.tag===19)Ky(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&ru(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),gd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&ru(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}gd(i,!0,a,null,d,l);break;case"together":gd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function es(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Hs|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ma(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=Ki(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Ki(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function yd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Jc(t)))}function cS(t,i,a){switch(i.tag){case 3:qe(i,i.stateNode.containerInfo),ks(i,At,t.memoizedState.cache),Br();break;case 27:case 5:on(i);break;case 4:qe(i,i.stateNode.containerInfo);break;case 10:ks(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,qf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ps(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Yy(t,i,a):(Ps(i),t=es(t,i,a),t!==null?t.sibling:null);Ps(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ma(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Xy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Q(yt,yt.current),l)break;return null;case 22:return i.lanes=0,By(t,i,a,i.pendingProps);case 24:ks(i,At,t.memoizedState.cache)}return es(t,i,a)}function $y(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Rt=!0;else{if(!yd(t,a)&&(i.flags&128)===0)return Rt=!1,cS(t,i,a);Rt=(t.flags&131072)!==0}else Rt=!1,Be&&(i.flags&1048576)!==0&&Ig(i,rl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Gr(i.elementType),i.type=t,typeof t=="function")Ef(t)?(l=Xr(t,l),i.tag=1,i=Gy(null,i,t,l,a)):(i.tag=0,i=ud(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===Ie){i.tag=11,i=Ly(null,i,t,l,a);break e}else if(h===I){i.tag=14,i=Py(null,i,t,l,a);break e}}throw i=xe(t)||t,Error(r(306,i,""))}}return i;case 0:return ud(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Xr(l,i.pendingProps),Gy(t,i,l,h,a);case 3:e:{if(qe(i,i.stateNode.containerInfo),t===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Uf(t,i),dl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,ks(i,At,l),l!==d.cache&&Df(i,[At],a,!0),fl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Qy(t,i,l,a);break e}else if(l!==h){h=Ln(Error(r(424)),i),al(h),i=Qy(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,rt=Hn(t.firstChild),qt=i,Be=!0,Ms=null,Bn=!0,a=Bg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Br(),l===h){i=es(t,i,a);break e}Ft(t,i,l,a)}i=i.child}return i;case 26:return gu(t,i),t===null?(a=o0(i.type,null,i.pendingProps,null))?i.memoizedState=a:Be||(a=i.type,t=i.pendingProps,l=Mu(oe.current).createElement(a),l[Et]=i,l[kt]=t,Gt(l,a,t),wt(l),i.stateNode=l):i.memoizedState=o0(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return on(i),t===null&&Be&&(l=i.stateNode=s0(i.type,i.pendingProps,oe.current),qt=i,Bn=!0,h=rt,Ks(i.type)?($d=h,rt=Hn(l.firstChild)):rt=h),Ft(t,i,i.pendingProps.children,a),gu(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Be&&((h=l=rt)&&(l=PS(l,i.type,i.pendingProps,Bn),l!==null?(i.stateNode=l,qt=i,rt=Hn(l.firstChild),Bn=!1,h=!0):h=!1),h||Vs(i)),on(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Gd(h,d)?l=null:_!==null&&Gd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Ff(t,i,eS,null,null,a),Ml._currentValue=h),gu(t,i),Ft(t,i,l,a),i.child;case 6:return t===null&&Be&&((t=a=rt)&&(a=zS(a,i.pendingProps,Bn),a!==null?(i.stateNode=a,qt=i,rt=null,t=!0):t=!1),t||Vs(i)),null;case 13:return Yy(t,i,a);case 4:return qe(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Yr(i,null,l,a):Ft(t,i,l,a),i.child;case 11:return Ly(t,i,i.type,i.pendingProps,a);case 7:return Ft(t,i,i.pendingProps,a),i.child;case 8:return Ft(t,i,i.pendingProps.children,a),i.child;case 12:return Ft(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,ks(i,i.type,l.value),Ft(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Hr(i),h=Ht(h),l=l(h),i.flags|=1,Ft(t,i,l,a),i.child;case 14:return Py(t,i,i.type,i.pendingProps,a);case 15:return zy(t,i,i.type,i.pendingProps,a);case 19:return Xy(t,i,a);case 31:return lS(t,i,a);case 22:return By(t,i,a,i.pendingProps);case 24:return Hr(i),l=Ht(At),t===null?(h=Vf(),h===null&&(h=st,d=Of(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},jf(i),ks(i,At,h)):((t.lanes&a)!==0&&(Uf(t,i),dl(i,null,null,a),fl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ks(i,At,l)):(l=d.cache,ks(i,At,l),l!==h.cache&&Df(i,[At],a,!0))),Ft(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function ts(t){t.flags|=4}function _d(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(w_())t.flags|=8192;else throw Qr=tu,kf}else t.flags&=-16777217}function Jy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!f0(i))if(w_())t.flags|=8192;else throw Qr=tu,kf}function _u(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Sc():536870912,t.lanes|=i,Ga|=i)}function vl(t,i){if(!Be)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function at(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function uS(t,i,a){var l=i.pendingProps;switch(xf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(i),null;case 1:return at(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ji(At),Ze(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Oa(i)?ts(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,If())),at(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(ts(i),d!==null?(at(i),Jy(i,d)):(at(i),_d(i,h,null,l,a))):d?d!==t.memoizedState?(ts(i),at(i),Jy(i,d)):(at(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&ts(i),at(i),_d(i,h,t,l,a)),null;case 27:if(_s(i),a=oe.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ts(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return at(i),null}t=ne.current,Oa(i)?Ng(i):(t=s0(h,l,a),i.stateNode=t,ts(i))}return at(i),null;case 5:if(_s(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ts(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return at(i),null}if(d=ne.current,Oa(i))Ng(i);else{var _=Mu(oe.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Et]=i,d[kt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Gt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ts(i)}}return at(i),_d(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&ts(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(t=oe.current,Oa(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=qt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Et]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Y_(t.nodeValue,a)),t||Vs(i,!0)}else t=Mu(t).createTextNode(l),t[Et]=i,i.stateNode=t}return at(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Oa(i),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Et]=i}else Br(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),t=!1}else a=If(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(En(i),i):(En(i),null);if((i.flags&128)!==0)throw Error(r(558))}return at(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Oa(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Et]=i}else Br(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),h=!1}else h=If(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(En(i),i):(En(i),null)}return En(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),_u(i,i.updateQueue),at(i),null);case 4:return Ze(),t===null&&zd(i.stateNode.containerInfo),at(i),null;case 10:return Ji(i.type),at(i),null;case 19:if(j(yt),l=i.memoizedState,l===null)return at(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)vl(l,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=ru(t),d!==null){for(i.flags|=128,vl(l,!1),t=d.updateQueue,i.updateQueue=t,_u(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Ag(a,t),a=a.sibling;return Q(yt,yt.current&1|2),Be&&Xi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&en()>wu&&(i.flags|=128,h=!0,vl(l,!1),i.lanes=4194304)}else{if(!h)if(t=ru(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,_u(i,t),vl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Be)return at(i),null}else 2*en()-l.renderingStartTime>wu&&a!==536870912&&(i.flags|=128,h=!0,vl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=en(),t.sibling=null,a=yt.current,Q(yt,h?a&1|2:a&1),Be&&Xi(i,l.treeForkCount),t):(at(i),null);case 22:case 23:return En(i),Bf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(at(i),i.subtreeFlags&6&&(i.flags|=8192)):at(i),a=i.updateQueue,a!==null&&_u(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&j(Fr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ji(At),at(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function hS(t,i){switch(xf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ji(At),Ze(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return _s(i),null;case 31:if(i.memoizedState!==null){if(En(i),i.alternate===null)throw Error(r(340));Br()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(En(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Br()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return j(yt),null;case 4:return Ze(),null;case 10:return Ji(i.type),null;case 22:case 23:return En(i),Bf(),t!==null&&j(Fr),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ji(At),null;case 25:return null;default:return null}}function Zy(t,i){switch(xf(i),i.tag){case 3:Ji(At),Ze();break;case 26:case 27:case 5:_s(i);break;case 4:Ze();break;case 31:i.memoizedState!==null&&En(i);break;case 13:En(i);break;case 19:j(yt);break;case 10:Ji(i.type);break;case 22:case 23:En(i),Bf(),t!==null&&j(Fr);break;case 24:Ji(At)}}function bl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Je(i,i.return,T)}}function Bs(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var M=a,z=T;try{z()}catch(Y){Je(h,M,Y)}}}l=l.next}while(l!==d)}}catch(Y){Je(i,i.return,Y)}}function Wy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Hg(i,a)}catch(l){Je(t,t.return,l)}}}function e_(t,i,a){a.props=Xr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Je(t,i,l)}}function Tl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Je(t,i,h)}}function Oi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Je(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Je(t,i,h)}else a.current=null}function t_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Je(t,t.return,h)}}function vd(t,i,a){try{var l=t.stateNode;MS(l,t.type,a,i),l[kt]=i}catch(h){Je(t,t.return,h)}}function n_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ks(t.type)||t.tag===4}function bd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||n_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ks(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Td(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=$n));else if(l!==4&&(l===27&&Ks(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Td(t,i,a),t=t.sibling;t!==null;)Td(t,i,a),t=t.sibling}function vu(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Ks(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(vu(t,i,a),t=t.sibling;t!==null;)vu(t,i,a),t=t.sibling}function i_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Gt(i,l,a),i[Et]=t,i[kt]=a}catch(d){Je(t,t.return,d)}}var ns=!1,It=!1,Ed=!1,s_=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function fS(t,i){if(t=t.containerInfo,Hd=zu,t=gg(t),pf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,M=-1,z=0,Y=0,J=t,q=null;t:for(;;){for(var G;J!==a||h!==0&&J.nodeType!==3||(T=_+h),J!==d||l!==0&&J.nodeType!==3||(M=_+l),J.nodeType===3&&(_+=J.nodeValue.length),(G=J.firstChild)!==null;)q=J,J=G;for(;;){if(J===t)break t;if(q===a&&++z===h&&(T=_),q===d&&++Y===l&&(M=_),(G=J.nextSibling)!==null)break;J=q,q=J.parentNode}J=G}a=T===-1||M===-1?null:{start:T,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(Fd={focusedElem:t,selectionRange:a},zu=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var fe=Xr(a.type,h);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){Je(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Yd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Yd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}}function r_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ss(t,a),l&4&&bl(5,a);break;case 1:if(ss(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Je(a,a.return,_)}else{var h=Xr(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Je(a,a.return,_)}}l&64&&Wy(a),l&512&&Tl(a,a.return);break;case 3:if(ss(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Hg(t,i)}catch(_){Je(a,a.return,_)}}break;case 27:i===null&&l&4&&i_(a);case 26:case 5:ss(t,a),i===null&&l&4&&t_(a),l&512&&Tl(a,a.return);break;case 12:ss(t,a);break;case 31:ss(t,a),l&4&&l_(t,a);break;case 13:ss(t,a),l&4&&c_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=TS.bind(null,a),BS(t,a))));break;case 22:if(l=a.memoizedState!==null||ns,!l){i=i!==null&&i.memoizedState!==null||It,h=ns;var d=It;ns=l,(It=i)&&!d?rs(t,a,(a.subtreeFlags&8772)!==0):ss(t,a),ns=h,It=d}break;case 30:break;default:ss(t,a)}}function a_(t){var i=t.alternate;i!==null&&(t.alternate=null,a_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&pa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,un=!1;function is(t,i,a){for(a=a.child;a!==null;)o_(t,i,a),a=a.sibling}function o_(t,i,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Qn,a)}catch{}switch(a.tag){case 26:It||Oi(a,i),is(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:It||Oi(a,i);var l=ct,h=un;Ks(a.type)&&(ct=a.stateNode,un=!1),is(t,i,a),Nl(a.stateNode),ct=l,un=h;break;case 5:It||Oi(a,i);case 6:if(l=ct,h=un,ct=null,is(t,i,a),ct=l,un=h,ct!==null)if(un)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(d){Je(a,i,d)}else try{ct.removeChild(a.stateNode)}catch(d){Je(a,i,d)}break;case 18:ct!==null&&(un?(t=ct,W_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Wa(t)):W_(ct,a.stateNode));break;case 4:l=ct,h=un,ct=a.stateNode.containerInfo,un=!0,is(t,i,a),ct=l,un=h;break;case 0:case 11:case 14:case 15:Bs(2,a,i),It||Bs(4,a,i),is(t,i,a);break;case 1:It||(Oi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&e_(a,i,l)),is(t,i,a);break;case 21:is(t,i,a);break;case 22:It=(l=It)||a.memoizedState!==null,is(t,i,a),It=l;break;default:is(t,i,a)}}function l_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Wa(t)}catch(a){Je(i,i.return,a)}}}function c_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Wa(t)}catch(a){Je(i,i.return,a)}}function dS(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new s_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new s_),i;default:throw Error(r(435,t.tag))}}function bu(t,i){var a=dS(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=ES.bind(null,t,l);l.then(h,h)}})}function hn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Ks(T.type)){ct=T.stateNode,un=!1;break e}break;case 5:ct=T.stateNode,un=!1;break e;case 3:case 4:ct=T.stateNode.containerInfo,un=!0;break e}T=T.return}if(ct===null)throw Error(r(160));o_(d,_,h),ct=null,un=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)u_(i,t),i=i.sibling}var ni=null;function u_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:hn(i,t),fn(t),l&4&&(Bs(3,t,t.return),bl(3,t),Bs(5,t,t.return));break;case 1:hn(i,t),fn(t),l&512&&(It||a===null||Oi(a,a.return)),l&64&&ns&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ni;if(hn(i,t),fn(t),l&512&&(It||a===null||Oi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[_i]||d[Et]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Gt(d,l,a),d[Et]=t,wt(d),l=d;break e;case"link":var _=u0("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=u0("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[Et]=t,wt(d),l=d}t.stateNode=l}else h0(h,t.type,t.stateNode);else t.stateNode=c0(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?h0(h,t.type,t.stateNode):c0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&vd(t,t.memoizedProps,a.memoizedProps)}break;case 27:hn(i,t),fn(t),l&512&&(It||a===null||Oi(a,a.return)),a!==null&&l&4&&vd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(hn(i,t),fn(t),l&512&&(It||a===null||Oi(a,a.return)),t.flags&32){h=t.stateNode;try{cn(h,"")}catch(fe){Je(t,t.return,fe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,vd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Ed=!0);break;case 6:if(hn(i,t),fn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){Je(t,t.return,fe)}}break;case 3:if(ju=null,h=ni,ni=Vu(i.containerInfo),hn(i,t),ni=h,fn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Wa(i.containerInfo)}catch(fe){Je(t,t.return,fe)}Ed&&(Ed=!1,h_(t));break;case 4:l=ni,ni=Vu(t.stateNode.containerInfo),hn(i,t),fn(t),ni=l;break;case 12:hn(i,t),fn(t);break;case 31:hn(i,t),fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,bu(t,l)));break;case 13:hn(i,t),fn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Eu=en()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,bu(t,l)));break;case 22:h=t.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,z=ns,Y=It;if(ns=z||h,It=Y||M,hn(i,t),It=Y,ns=z,fn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||M||ns||It||$r(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){M=a=i;try{if(d=M.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=M.stateNode;var J=M.memoizedProps.style,q=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(fe){Je(M,M.return,fe)}}}else if(i.tag===6){if(a===null){M=i;try{M.stateNode.nodeValue=h?"":M.memoizedProps}catch(fe){Je(M,M.return,fe)}}}else if(i.tag===18){if(a===null){M=i;try{var G=M.stateNode;h?e0(G,!0):e0(M.stateNode,!1)}catch(fe){Je(M,M.return,fe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,bu(t,a))));break;case 19:hn(i,t),fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,bu(t,l)));break;case 30:break;case 21:break;default:hn(i,t),fn(t)}}function fn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(n_(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=bd(t);vu(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(cn(_,""),a.flags&=-33);var T=bd(t);vu(t,T,_);break;case 3:case 4:var M=a.stateNode.containerInfo,z=bd(t);Td(t,z,M);break;default:throw Error(r(161))}}catch(Y){Je(t,t.return,Y)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function h_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;h_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ss(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)r_(t,i.alternate,i),i=i.sibling}function $r(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Bs(4,i,i.return),$r(i);break;case 1:Oi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&e_(i,i.return,a),$r(i);break;case 27:Nl(i.stateNode);case 26:case 5:Oi(i,i.return),$r(i);break;case 22:i.memoizedState===null&&$r(i);break;case 30:$r(i);break;default:$r(i)}t=t.sibling}}function rs(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:rs(h,d,a),bl(4,d);break;case 1:if(rs(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Je(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var M=h.shared.hiddenCallbacks;if(M!==null)for(h.shared.hiddenCallbacks=null,h=0;h<M.length;h++)qg(M[h],T)}catch(z){Je(l,l.return,z)}}a&&_&64&&Wy(d),Tl(d,d.return);break;case 27:i_(d);case 26:case 5:rs(h,d,a),a&&l===null&&_&4&&t_(d),Tl(d,d.return);break;case 12:rs(h,d,a);break;case 31:rs(h,d,a),a&&_&4&&l_(h,d);break;case 13:rs(h,d,a),a&&_&4&&c_(h,d);break;case 22:d.memoizedState===null&&rs(h,d,a),Tl(d,d.return);break;case 30:break;default:rs(h,d,a)}i=i.sibling}}function wd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ol(a))}function Sd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ol(t))}function ii(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)f_(t,i,a,l),i=i.sibling}function f_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ii(t,i,a,l),h&2048&&bl(9,i);break;case 1:ii(t,i,a,l);break;case 3:ii(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ol(t)));break;case 12:if(h&2048){ii(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(M){Je(i,i.return,M)}}else ii(t,i,a,l);break;case 31:ii(t,i,a,l);break;case 13:ii(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ii(t,i,a,l):El(t,i):d._visibility&2?ii(t,i,a,l):(d._visibility|=2,qa(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&wd(_,i);break;case 24:ii(t,i,a,l),h&2048&&Sd(i.alternate,i);break;default:ii(t,i,a,l)}}function qa(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,T=a,M=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:qa(d,_,T,M,h),bl(8,_);break;case 23:break;case 22:var Y=_.stateNode;_.memoizedState!==null?Y._visibility&2?qa(d,_,T,M,h):El(d,_):(Y._visibility|=2,qa(d,_,T,M,h)),h&&z&2048&&wd(_.alternate,_);break;case 24:qa(d,_,T,M,h),h&&z&2048&&Sd(_.alternate,_);break;default:qa(d,_,T,M,h)}i=i.sibling}}function El(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:El(a,l),h&2048&&wd(l.alternate,l);break;case 24:El(a,l),h&2048&&Sd(l.alternate,l);break;default:El(a,l)}i=i.sibling}}var wl=8192;function Ha(t,i,a){if(t.subtreeFlags&wl)for(t=t.child;t!==null;)d_(t,i,a),t=t.sibling}function d_(t,i,a){switch(t.tag){case 26:Ha(t,i,a),t.flags&wl&&t.memoizedState!==null&&WS(a,ni,t.memoizedState,t.memoizedProps);break;case 5:Ha(t,i,a);break;case 3:case 4:var l=ni;ni=Vu(t.stateNode.containerInfo),Ha(t,i,a),ni=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=wl,wl=16777216,Ha(t,i,a),wl=l):Ha(t,i,a));break;default:Ha(t,i,a)}}function m_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Sl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,g_(l,t)}m_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)p_(t),t=t.sibling}function p_(t){switch(t.tag){case 0:case 11:case 15:Sl(t),t.flags&2048&&Bs(9,t,t.return);break;case 3:Sl(t);break;case 12:Sl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Tu(t)):Sl(t);break;default:Sl(t)}}function Tu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,g_(l,t)}m_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Bs(8,i,i.return),Tu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Tu(i));break;default:Tu(i)}t=t.sibling}}function g_(t,i){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Bs(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ol(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var h=l.sibling,d=l.return;if(a_(l),l===a){Ut=null;break e}if(h!==null){h.return=d,Ut=h;break e}Ut=d}}}var mS={getCacheForType:function(t){var i=Ht(At),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ht(At).controller.signal}},pS=typeof WeakMap=="function"?WeakMap:Map,Ke=0,st=null,Ve=null,je=0,$e=0,wn=null,qs=!1,Fa=!1,Ad=!1,as=0,mt=0,Hs=0,Jr=0,xd=0,Sn=0,Ga=0,Al=null,dn=null,Rd=!1,Eu=0,y_=0,wu=1/0,Su=null,Fs=null,Mt=0,Gs=null,Qa=null,os=0,Id=0,Cd=null,__=null,xl=0,Nd=null;function An(){return(Ke&2)!==0&&je!==0?je&-je:H.T!==null?jd():Ac()}function v_(){if(Sn===0)if((je&536870912)===0||Be){var t=Sr;Sr<<=1,(Sr&3932160)===0&&(Sr=262144),Sn=t}else Sn=536870912;return t=Tn.current,t!==null&&(t.flags|=32),Sn}function mn(t,i,a){(t===st&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&(Ya(t,0),Qs(t,je,Sn,!1)),Ar(t,a),((Ke&2)===0||t!==st)&&(t===st&&((Ke&2)===0&&(Jr|=a),mt===4&&Qs(t,je,Sn,!1)),Mi(t))}function b_(t,i,a){if((Ke&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Yn(t,i),h=l?_S(t,i):Od(t,i,!0),d=l;do{if(h===0){Fa&&!l&&Qs(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!gS(a)){h=Od(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;h=Al;var M=T.current.memoizedState.isDehydrated;if(M&&(Ya(T,_).flags|=256),_=Od(T,_,!1),_!==2){if(Ad&&!M){T.errorRecoveryDisabledLanes|=d,Jr|=d,h=4;break e}d=dn,dn=h,d!==null&&(dn===null?dn=d:dn.push.apply(dn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ya(t,0),Qs(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Qs(l,i,Sn,!qs);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=Eu+300-en(),10<h)){if(Qs(l,i,Sn,!qs),pi(l,0,!0)!==0)break e;os=i,l.timeoutHandle=J_(T_.bind(null,l,a,dn,Su,Rd,i,Sn,Jr,Ga,qs,d,"Throttled",-0,0),h);break e}T_(l,a,dn,Su,Rd,i,Sn,Jr,Ga,qs,d,null,-0,0)}}break}while(!0);Mi(t)}function T_(t,i,a,l,h,d,_,T,M,z,Y,J,q,G){if(t.timeoutHandle=-1,J=i.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},d_(i,d,J);var fe=(d&62914560)===d?Eu-en():(d&4194048)===d?y_-en():0;if(fe=e1(J,fe),fe!==null){os=d,t.cancelPendingCommit=fe(C_.bind(null,t,i,d,a,l,h,_,T,M,Y,J,null,q,G)),Qs(t,d,_,!z);return}}C_(t,i,d,a,l,h,_,T,M)}function gS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!vn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Qs(t,i,a,l){i&=~xd,i&=~Jr,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-pt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&xr(t,a,i)}function Au(){return(Ke&6)===0?(Rl(0),!1):!0}function Dd(){if(Ve!==null){if($e===0)var t=Ve.return;else t=Ve,$i=qr=null,Yf(t),Ua=null,cl=0,t=Ve;for(;t!==null;)Zy(t.alternate,t),t=t.return;Ve=null}}function Ya(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,jS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),os=0,Dd(),st=t,Ve=a=Ki(t.current,null),je=i,$e=0,wn=null,qs=!1,Fa=Yn(t,i),Ad=!1,Ga=Sn=xd=Jr=Hs=mt=0,dn=Al=null,Rd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-pt(l),d=1<<h;i|=t[h],l&=~d}return as=i,Qc(),a}function E_(t,i){De=null,H.H=yl,i===ja||i===eu?(i=Lg(),$e=3):i===kf?(i=Lg(),$e=4):$e=i===cd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,wn=i,Ve===null&&(mt=1,mu(t,Ln(i,t.current)))}function w_(){var t=Tn.current;return t===null?!0:(je&4194048)===je?qn===null:(je&62914560)===je||(je&536870912)!==0?t===qn:!1}function S_(){var t=H.H;return H.H=yl,t===null?yl:t}function A_(){var t=H.A;return H.A=mS,t}function xu(){mt=4,qs||(je&4194048)!==je&&Tn.current!==null||(Fa=!0),(Hs&134217727)===0&&(Jr&134217727)===0||st===null||Qs(st,je,Sn,!1)}function Od(t,i,a){var l=Ke;Ke|=2;var h=S_(),d=A_();(st!==t||je!==i)&&(Su=null,Ya(t,i)),i=!1;var _=mt;e:do try{if($e!==0&&Ve!==null){var T=Ve,M=wn;switch($e){case 8:Dd(),_=6;break e;case 3:case 2:case 9:case 6:Tn.current===null&&(i=!0);var z=$e;if($e=0,wn=null,Ka(t,T,M,z),a&&Fa){_=0;break e}break;default:z=$e,$e=0,wn=null,Ka(t,T,M,z)}}yS(),_=mt;break}catch(Y){E_(t,Y)}while(!0);return i&&t.shellSuspendCounter++,$i=qr=null,Ke=l,H.H=h,H.A=d,Ve===null&&(st=null,je=0,Qc()),_}function yS(){for(;Ve!==null;)x_(Ve)}function _S(t,i){var a=Ke;Ke|=2;var l=S_(),h=A_();st!==t||je!==i?(Su=null,wu=en()+500,Ya(t,i)):Fa=Yn(t,i);e:do try{if($e!==0&&Ve!==null){i=Ve;var d=wn;t:switch($e){case 1:$e=0,wn=null,Ka(t,i,d,1);break;case 2:case 9:if(jg(d)){$e=0,wn=null,R_(i);break}i=function(){$e!==2&&$e!==9||st!==t||($e=7),Mi(t)},d.then(i,i);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:jg(d)?($e=0,wn=null,R_(i)):($e=0,wn=null,Ka(t,i,d,7));break;case 5:var _=null;switch(Ve.tag){case 26:_=Ve.memoizedState;case 5:case 27:var T=Ve;if(_?f0(_):T.stateNode.complete){$e=0,wn=null;var M=T.sibling;if(M!==null)Ve=M;else{var z=T.return;z!==null?(Ve=z,Ru(z)):Ve=null}break t}}$e=0,wn=null,Ka(t,i,d,5);break;case 6:$e=0,wn=null,Ka(t,i,d,6);break;case 8:Dd(),mt=6;break e;default:throw Error(r(462))}}vS();break}catch(Y){E_(t,Y)}while(!0);return $i=qr=null,H.H=l,H.A=h,Ke=a,Ve!==null?0:(st=null,je=0,Qc(),mt)}function vS(){for(;Ve!==null&&!lf();)x_(Ve)}function x_(t){var i=$y(t.alternate,t,as);t.memoizedProps=t.pendingProps,i===null?Ru(t):Ve=i}function R_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Fy(a,i,i.pendingProps,i.type,void 0,je);break;case 11:i=Fy(a,i,i.pendingProps,i.type.render,i.ref,je);break;case 5:Yf(i);default:Zy(a,i),i=Ve=Ag(i,as),i=$y(a,i,as)}t.memoizedProps=t.pendingProps,i===null?Ru(t):Ve=i}function Ka(t,i,a,l){$i=qr=null,Yf(i),Ua=null,cl=0;var h=i.return;try{if(oS(t,h,i,a,je)){mt=1,mu(t,Ln(a,t.current)),Ve=null;return}}catch(d){if(h!==null)throw Ve=h,d;mt=1,mu(t,Ln(a,t.current)),Ve=null;return}i.flags&32768?(Be||l===1?t=!0:Fa||(je&536870912)!==0?t=!1:(qs=t=!0,(l===2||l===9||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),I_(i,t)):Ru(i)}function Ru(t){var i=t;do{if((i.flags&32768)!==0){I_(i,qs);return}t=i.return;var a=uS(i.alternate,i,as);if(a!==null){Ve=a;return}if(i=i.sibling,i!==null){Ve=i;return}Ve=i=t}while(i!==null);mt===0&&(mt=5)}function I_(t,i){do{var a=hS(t.alternate,t);if(a!==null){a.flags&=32767,Ve=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=a}while(t!==null);mt=6,Ve=null}function C_(t,i,a,l,h,d,_,T,M){t.cancelPendingCommit=null;do Iu();while(Mt!==0);if((Ke&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=bf,hf(t,a,d,_,T,M),t===st&&(Ve=st=null,je=0),Qa=i,Gs=t,os=a,Id=d,Cd=h,__=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,wS(Es,function(){return V_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,h=ee.p,ee.p=2,_=Ke,Ke|=4;try{fS(t,i,a)}finally{Ke=_,ee.p=h,H.T=l}}Mt=1,N_(),D_(),O_()}}function N_(){if(Mt===1){Mt=0;var t=Gs,i=Qa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=ee.p;ee.p=2;var h=Ke;Ke|=4;try{u_(i,t);var d=Fd,_=gg(t.containerInfo),T=d.focusedElem,M=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&pg(T.ownerDocument.documentElement,T)){if(M!==null&&pf(T)){var z=M.start,Y=M.end;if(Y===void 0&&(Y=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(Y,T.value.length);else{var J=T.ownerDocument||document,q=J&&J.defaultView||window;if(q.getSelection){var G=q.getSelection(),fe=T.textContent.length,ve=Math.min(M.start,fe),nt=M.end===void 0?ve:Math.min(M.end,fe);!G.extend&&ve>nt&&(_=nt,nt=ve,ve=_);var U=mg(T,ve),V=mg(T,nt);if(U&&V&&(G.rangeCount!==1||G.anchorNode!==U.node||G.anchorOffset!==U.offset||G.focusNode!==V.node||G.focusOffset!==V.offset)){var P=J.createRange();P.setStart(U.node,U.offset),G.removeAllRanges(),ve>nt?(G.addRange(P),G.extend(V.node,V.offset)):(P.setEnd(V.node,V.offset),G.addRange(P))}}}}for(J=[],G=T;G=G.parentNode;)G.nodeType===1&&J.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var X=J[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}zu=!!Hd,Fd=Hd=null}finally{Ke=h,ee.p=l,H.T=a}}t.current=i,Mt=2}}function D_(){if(Mt===2){Mt=0;var t=Gs,i=Qa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=ee.p;ee.p=2;var h=Ke;Ke|=4;try{r_(t,i.alternate,i)}finally{Ke=h,ee.p=l,H.T=a}}Mt=3}}function O_(){if(Mt===4||Mt===3){Mt=0,_c();var t=Gs,i=Qa,a=os,l=__;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Mt=5:(Mt=0,Qa=Gs=null,M_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Fs=null),Fi(a),i=i.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Qn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=H.T,h=ee.p,ee.p=2,H.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{H.T=i,ee.p=h}}(os&3)!==0&&Iu(),Mi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Nd?xl++:(xl=0,Nd=t):xl=0,Rl(0)}}function M_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ol(i)))}function Iu(){return N_(),D_(),O_(),V_()}function V_(){if(Mt!==5)return!1;var t=Gs,i=Id;Id=0;var a=Fi(os),l=H.T,h=ee.p;try{ee.p=32>a?32:a,H.T=null,a=Cd,Cd=null;var d=Gs,_=os;if(Mt=0,Qa=Gs=null,os=0,(Ke&6)!==0)throw Error(r(331));var T=Ke;if(Ke|=4,p_(d.current),f_(d,d.current,_,a),Ke=T,Rl(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Qn,d)}catch{}return!0}finally{ee.p=h,H.T=l,M_(t,i)}}function k_(t,i,a){i=Ln(a,i),i=ld(t.stateNode,i,2),t=Ls(t,i,2),t!==null&&(Ar(t,2),Mi(t))}function Je(t,i,a){if(t.tag===3)k_(t,t,a);else for(;i!==null;){if(i.tag===3){k_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Fs===null||!Fs.has(l))){t=Ln(a,t),a=jy(2),l=Ls(i,a,2),l!==null&&(Uy(a,l,i,t),Ar(l,2),Mi(l));break}}i=i.return}}function Md(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new pS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Ad=!0,h.add(a),t=bS.bind(null,t,i,a),i.then(t,t))}function bS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,st===t&&(je&a)===a&&(mt===4||mt===3&&(je&62914560)===je&&300>en()-Eu?(Ke&2)===0&&Ya(t,0):xd|=a,Ga===je&&(Ga=0)),Mi(t)}function j_(t,i){i===0&&(i=Sc()),t=Pr(t,i),t!==null&&(Ar(t,i),Mi(t))}function TS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),j_(t,a)}function ES(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),j_(t,a)}function wS(t,i){return Ot(t,i)}var Cu=null,Xa=null,Vd=!1,Nu=!1,kd=!1,Ys=0;function Mi(t){t!==Xa&&t.next===null&&(Xa===null?Cu=Xa=t:Xa=Xa.next=t),Nu=!0,Vd||(Vd=!0,AS())}function Rl(t,i){if(!kd&&Nu){kd=!0;do for(var a=!1,l=Cu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-pt(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,z_(l,d))}else d=je,d=pi(l,l===st?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Yn(l,d)||(a=!0,z_(l,d));l=l.next}while(a);kd=!1}}function SS(){U_()}function U_(){Nu=Vd=!1;var t=0;Ys!==0&&kS()&&(t=Ys);for(var i=en(),a=null,l=Cu;l!==null;){var h=l.next,d=L_(l,i);d===0?(l.next=null,a===null?Cu=h:a.next=h,h===null&&(Xa=a)):(a=l,(t!==0||(d&3)!==0)&&(Nu=!0)),l=h}Mt!==0&&Mt!==5||Rl(t),Ys!==0&&(Ys=0)}function L_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-pt(d),T=1<<_,M=h[_];M===-1?((T&a)===0||(T&l)!==0)&&(h[_]=uf(T,i)):M<=i&&(t.expiredLanes|=T),d&=~T}if(i=st,a=je,a=pi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&($e===2||$e===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ts(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Yn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Ts(l),Fi(a)){case 2:case 8:a=Uo;break;case 32:a=Es;break;case 268435456:a=vc;break;default:a=Es}return l=P_.bind(null,t),a=Ot(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Ts(l),t.callbackPriority=2,t.callbackNode=null,2}function P_(t,i){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Iu()&&t.callbackNode!==a)return null;var l=je;return l=pi(t,t===st?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(b_(t,l,i),L_(t,en()),t.callbackNode!=null&&t.callbackNode===a?P_.bind(null,t):null)}function z_(t,i){if(Iu())return null;b_(t,i,!0)}function AS(){US(function(){(Ke&6)!==0?Ot(jo,SS):U_()})}function jd(){if(Ys===0){var t=Va;t===0&&(t=di,di<<=1,(di&261888)===0&&(di=256)),Ys=t}return Ys}function B_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:va(""+t)}function q_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function xS(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=B_((h[kt]||null).action),_=l.submitter;_&&(i=(i=_[kt]||null)?B_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new xi("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ys!==0){var M=_?q_(h,_):new FormData(h);nd(a,{pending:!0,data:M,method:h.method,action:d},null,M)}}else typeof d=="function"&&(T.preventDefault(),M=_?q_(h,_):new FormData(h),nd(a,{pending:!0,data:M,method:h.method,action:d},d,M))},currentTarget:h}]})}}for(var Ud=0;Ud<vf.length;Ud++){var Ld=vf[Ud],RS=Ld.toLowerCase(),IS=Ld[0].toUpperCase()+Ld.slice(1);ti(RS,"on"+IS)}ti(vg,"onAnimationEnd"),ti(bg,"onAnimationIteration"),ti(Tg,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(Fw,"onTransitionRun"),ti(Gw,"onTransitionStart"),ti(Qw,"onTransitionCancel"),ti(Eg,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Il));function H_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],M=T.instance,z=T.currentTarget;if(T=T.listener,M!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=z;try{d(h)}catch(Y){Gc(Y)}h.currentTarget=null,d=M}else for(_=0;_<l.length;_++){if(T=l[_],M=T.instance,z=T.currentTarget,T=T.listener,M!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=z;try{d(h)}catch(Y){Gc(Y)}h.currentTarget=null,d=M}}}}function ke(t,i){var a=i[ma];a===void 0&&(a=i[ma]=new Set);var l=t+"__bubble";a.has(l)||(F_(i,t,2,!1),a.add(l))}function Pd(t,i,a){var l=0;i&&(l|=4),F_(a,t,l,i)}var Du="_reactListening"+Math.random().toString(36).slice(2);function zd(t){if(!t[Du]){t[Du]=!0,zo.forEach(function(a){a!=="selectionchange"&&(CS.has(a)||Pd(a,!1,t),Pd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Du]||(i[Du]=!0,Pd("selectionchange",!1,i))}}function F_(t,i,a,l){switch(v0(i)){case 2:var h=i1;break;case 8:h=s1;break;default:h=tm}a=h.bind(null,i,a,t),h=void 0,!Dr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Bd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var M=_.tag;if((M===3||M===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=vi(T),_===null)return;if(M=_.tag,M===5||M===6||M===26||M===27){l=d=_;continue e}T=T.parentNode}}l=l.return}Is(function(){var z=d,Y=Vn(a),J=[];e:{var q=wg.get(t);if(q!==void 0){var G=xi,fe=t;switch(t){case"keypress":if(Mr(a)===0)break e;case"keydown":case"keyup":G=qc;break;case"focusin":fe="focus",G=kr;break;case"focusout":fe="blur",G=kr;break;case"beforeblur":case"afterblur":G=kr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Wo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Mc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=p;break;case vg:case bg:case Tg:G=kc;break;case Eg:G=w;break;case"scroll":case"scrollend":G=Zo;break;case"wheel":G=F;break;case"copy":case"cut":case"paste":G=jc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Yi;break;case"toggle":case"beforetoggle":G=Ne}var ve=(i&4)!==0,nt=!ve&&(t==="scroll"||t==="scrollend"),U=ve?q!==null?q+"Capture":null:q;ve=[];for(var V=z,P;V!==null;){var X=V;if(P=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||P===null||U===null||(X=Jn(V,U),X!=null&&ve.push(Cl(V,X,P))),nt)break;V=V.return}0<ve.length&&(q=new G(q,fe,null,a,Y),J.push({event:q,listeners:ve}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",q&&a!==Xo&&(fe=a.relatedTarget||a.fromElement)&&(vi(fe)||fe[yi]))break e;if((G||q)&&(q=Y.window===Y?Y:(q=Y.ownerDocument)?q.defaultView||q.parentWindow:window,G?(fe=a.relatedTarget||a.toElement,G=z,fe=fe?vi(fe):null,fe!==null&&(nt=c(fe),ve=fe.tag,fe!==nt||ve!==5&&ve!==27&&ve!==6)&&(fe=null)):(G=null,fe=z),G!==fe)){if(ve=Wo,X="onMouseLeave",U="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Yi,X="onPointerLeave",U="onPointerEnter",V="pointer"),nt=G==null?q:yn(G),P=fe==null?q:yn(fe),q=new ve(X,V+"leave",G,a,Y),q.target=nt,q.relatedTarget=P,X=null,vi(Y)===z&&(ve=new ve(U,V+"enter",fe,a,Y),ve.target=P,ve.relatedTarget=nt,X=ve),nt=X,G&&fe)t:{for(ve=NS,U=G,V=fe,P=0,X=U;X;X=ve(X))P++;X=0;for(var ye=V;ye;ye=ve(ye))X++;for(;0<P-X;)U=ve(U),P--;for(;0<X-P;)V=ve(V),X--;for(;P--;){if(U===V||V!==null&&U===V.alternate){ve=U;break t}U=ve(U),V=ve(V)}ve=null}else ve=null;G!==null&&G_(J,q,G,ve,!1),fe!==null&&nt!==null&&G_(J,nt,fe,ve,!0)}}e:{if(q=z?yn(z):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var Ge=lg;else if(ag(q))if(cg)Ge=Bw;else{Ge=Pw;var me=Lw}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?z&&_a(z.elementType)&&(Ge=lg):Ge=zw;if(Ge&&(Ge=Ge(t,z))){og(J,Ge,a,Y);break e}me&&me(t,q,z),t==="focusout"&&z&&q.type==="number"&&z.memoizedProps.value!=null&&Qo(q,"number",q.value)}switch(me=z?yn(z):window,t){case"focusin":(ag(me)||me.contentEditable==="true")&&(xa=me,gf=z,sl=null);break;case"focusout":sl=gf=xa=null;break;case"mousedown":yf=!0;break;case"contextmenu":case"mouseup":case"dragend":yf=!1,yg(J,a,Y);break;case"selectionchange":if(Hw)break;case"keydown":case"keyup":yg(J,a,Y)}var Oe;if(Ye)e:{switch(t){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Aa?jr(t,a)&&(Ue="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ue="onCompositionStart");Ue&&(Ci&&a.locale!=="ko"&&(Aa||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Aa&&(Oe=Jo()):(Ai=Y,$o="value"in Ai?Ai.value:Ai.textContent,Aa=!0)),me=Ou(z,Ue),0<me.length&&(Ue=new Ii(Ue,t,null,a,Y),J.push({event:Ue,listeners:me}),Oe?Ue.data=Oe:(Oe=Sa(a),Oe!==null&&(Ue.data=Oe)))),(Oe=jn?Vw(t,a):kw(t,a))&&(Ue=Ou(z,"onBeforeInput"),0<Ue.length&&(me=new Ii("onBeforeInput","beforeinput",null,a,Y),J.push({event:me,listeners:Ue}),me.data=Oe)),xS(J,t,z,a,Y)}H_(J,i)})}function Cl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Ou(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Jn(t,a),h!=null&&l.unshift(Cl(t,h,d)),h=Jn(t,i),h!=null&&l.push(Cl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function NS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function G_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,M=T.alternate,z=T.stateNode;if(T=T.tag,M!==null&&M===l)break;T!==5&&T!==26&&T!==27||z===null||(M=z,h?(z=Jn(a,d),z!=null&&_.unshift(Cl(a,z,M))):h||(z=Jn(a,d),z!=null&&_.push(Cl(a,z,M)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var DS=/\r\n?/g,OS=/\u0000|\uFFFD/g;function Q_(t){return(typeof t=="string"?t:""+t).replace(DS,`
`).replace(OS,"")}function Y_(t,i){return i=Q_(i),Q_(t)===i}function tt(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||cn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&cn(t,""+l);break;case"className":_n(t,"class",l);break;case"tabIndex":_n(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":_n(t,a,l);break;case"style":Ko(t,l,d);break;case"data":if(i!=="object"){_n(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=va(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&tt(t,i,"name",h.name,h,null),tt(t,i,"formEncType",h.formEncType,h,null),tt(t,i,"formMethod",h.formMethod,h,null),tt(t,i,"formTarget",h.formTarget,h,null)):(tt(t,i,"encType",h.encType,h,null),tt(t,i,"method",h.method,h,null),tt(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=va(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=$n);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=va(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":ke("beforetoggle",t),ke("toggle",t),ga(t,"popover",l);break;case"xlinkActuate":St(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":St(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":St(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":St(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":St(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":St(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":St(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":St(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":St(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ga(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Oc.get(a)||a,ga(t,a,l))}}function qd(t,i,a,l,h,d){switch(a){case"style":Ko(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?cn(t,l):(typeof l=="number"||typeof l=="bigint")&&cn(t,""+l);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"onClick":l!=null&&(t.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[kt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ga(t,a,l)}}}function Gt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:tt(t,i,d,_,a,null)}}h&&tt(t,i,"srcSet",a.srcSet,a,null),l&&tt(t,i,"src",a.src,a,null);return;case"input":ke("invalid",t);var T=d=_=h=null,M=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":_=Y;break;case"checked":M=Y;break;case"defaultChecked":z=Y;break;case"value":d=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,i));break;default:tt(t,i,l,Y,a,null)}}Cc(t,d,T,M,z,_,h,!1);return;case"select":ke("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:tt(t,i,h,T,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Ss(t,!!l,i,!1):a!=null&&Ss(t,!!l,a,!0);return;case"textarea":ke("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:tt(t,i,_,T,a,null)}As(t,l,h,d);return;case"option":for(M in a)a.hasOwnProperty(M)&&(l=a[M],l!=null)&&(M==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":tt(t,i,M,l,a,null));return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(l=0;l<Il.length;l++)ke(Il[l],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:tt(t,i,z,l,a,null)}return;default:if(_a(i)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&qd(t,i,Y,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&tt(t,i,T,l,a,null))}function MS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,M=null,z=null,Y=null;for(G in a){var J=a[G];if(a.hasOwnProperty(G)&&J!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":M=J;default:l.hasOwnProperty(G)||tt(t,i,G,null,l,J)}}for(var q in l){var G=l[q];if(J=a[q],l.hasOwnProperty(q)&&(G!=null||J!=null))switch(q){case"type":d=G;break;case"name":h=G;break;case"checked":z=G;break;case"defaultChecked":Y=G;break;case"value":_=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,i));break;default:G!==J&&tt(t,i,q,G,l,J)}}ya(t,_,T,M,z,Y,d,h);return;case"select":G=_=T=q=null;for(d in a)if(M=a[d],a.hasOwnProperty(d)&&M!=null)switch(d){case"value":break;case"multiple":G=M;default:l.hasOwnProperty(d)||tt(t,i,d,null,l,M)}for(h in l)if(d=l[h],M=a[h],l.hasOwnProperty(h)&&(d!=null||M!=null))switch(h){case"value":q=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==M&&tt(t,i,h,d,l,M)}i=T,a=_,l=G,q!=null?Ss(t,!!a,q,!1):!!l!=!!a&&(i!=null?Ss(t,!!a,i,!0):Ss(t,!!a,a?[]:"",!1));return;case"textarea":G=q=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:tt(t,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":q=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&tt(t,i,_,h,l,d)}Nc(t,q,G);return;case"option":for(var fe in a)q=a[fe],a.hasOwnProperty(fe)&&q!=null&&!l.hasOwnProperty(fe)&&(fe==="selected"?t.selected=!1:tt(t,i,fe,null,l,q));for(M in l)q=l[M],G=a[M],l.hasOwnProperty(M)&&q!==G&&(q!=null||G!=null)&&(M==="selected"?t.selected=q&&typeof q!="function"&&typeof q!="symbol":tt(t,i,M,q,l,G));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)q=a[ve],a.hasOwnProperty(ve)&&q!=null&&!l.hasOwnProperty(ve)&&tt(t,i,ve,null,l,q);for(z in l)if(q=l[z],G=a[z],l.hasOwnProperty(z)&&q!==G&&(q!=null||G!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,i));break;default:tt(t,i,z,q,l,G)}return;default:if(_a(i)){for(var nt in a)q=a[nt],a.hasOwnProperty(nt)&&q!==void 0&&!l.hasOwnProperty(nt)&&qd(t,i,nt,void 0,l,q);for(Y in l)q=l[Y],G=a[Y],!l.hasOwnProperty(Y)||q===G||q===void 0&&G===void 0||qd(t,i,Y,q,l,G);return}}for(var U in a)q=a[U],a.hasOwnProperty(U)&&q!=null&&!l.hasOwnProperty(U)&&tt(t,i,U,null,l,q);for(J in l)q=l[J],G=a[J],!l.hasOwnProperty(J)||q===G||q==null&&G==null||tt(t,i,J,q,l,G)}function K_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function VS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&K_(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var M=a[l],z=M.startTime;if(z>T)break;var Y=M.transferSize,J=M.initiatorType;Y&&K_(J)&&(M=M.responseEnd,_+=Y*(M<T?1:(T-z)/(M-z)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Hd=null,Fd=null;function Mu(t){return t.nodeType===9?t:t.ownerDocument}function X_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Gd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Qd=null;function kS(){var t=window.event;return t&&t.type==="popstate"?t===Qd?!1:(Qd=t,!0):(Qd=null,!1)}var J_=typeof setTimeout=="function"?setTimeout:void 0,jS=typeof clearTimeout=="function"?clearTimeout:void 0,Z_=typeof Promise=="function"?Promise:void 0,US=typeof queueMicrotask=="function"?queueMicrotask:typeof Z_<"u"?function(t){return Z_.resolve(null).then(t).catch(LS)}:J_;function LS(t){setTimeout(function(){throw t})}function Ks(t){return t==="head"}function W_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Wa(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Nl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Nl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[_i]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Nl(t.ownerDocument.body);a=h}while(a);Wa(i)}function e0(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Yd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Yd(a),pa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function PS(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[_i])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Hn(t.nextSibling),t===null)break}return null}function zS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Hn(t.nextSibling),t===null))return null;return t}function t0(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Hn(t.nextSibling),t===null))return null;return t}function Kd(t){return t.data==="$?"||t.data==="$~"}function Xd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function BS(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Hn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var $d=null;function n0(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Hn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function i0(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function s0(t,i,a){switch(i=Mu(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Nl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);pa(t)}var Fn=new Map,r0=new Set;function Vu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ls=ee.d;ee.d={f:qS,r:HS,D:FS,C:GS,L:QS,m:YS,X:XS,S:KS,M:$S};function qS(){var t=ls.f(),i=Au();return t||i}function HS(t){var i=Mn(t);i!==null&&i.tag===5&&i.type==="form"?Ey(i):ls.r(t)}var $a=typeof document>"u"?null:document;function a0(t,i,a){var l=$a;if(l&&typeof i=="string"&&i){var h=ln(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),r0.has(h)||(r0.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Gt(i,"link",t),wt(i),l.head.appendChild(i)))}}function FS(t){ls.D(t),a0("dns-prefetch",t,null)}function GS(t,i){ls.C(t,i),a0("preconnect",t,i)}function QS(t,i,a){ls.L(t,i,a);var l=$a;if(l&&t&&i){var h='link[rel="preload"][as="'+ln(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ln(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ln(a.imageSizes)+'"]')):h+='[href="'+ln(t)+'"]';var d=h;switch(i){case"style":d=Ja(t);break;case"script":d=Za(t)}Fn.has(d)||(t=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Fn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Dl(d))||i==="script"&&l.querySelector(Ol(d))||(i=l.createElement("link"),Gt(i,"link",t),wt(i),l.head.appendChild(i)))}}function YS(t,i){ls.m(t,i);var a=$a;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ln(l)+'"][href="'+ln(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Za(t)}if(!Fn.has(d)&&(t=S({rel:"modulepreload",href:t},i),Fn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ol(d)))return}l=a.createElement("link"),Gt(l,"link",t),wt(l),a.head.appendChild(l)}}}function KS(t,i,a){ls.S(t,i,a);var l=$a;if(l&&t){var h=bi(l).hoistableStyles,d=Ja(t);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Dl(d)))T.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Fn.get(d))&&Jd(t,a);var M=_=l.createElement("link");wt(M),Gt(M,"link",t),M._p=new Promise(function(z,Y){M.onload=z,M.onerror=Y}),M.addEventListener("load",function(){T.loading|=1}),M.addEventListener("error",function(){T.loading|=2}),T.loading|=4,ku(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function XS(t,i){ls.X(t,i);var a=$a;if(a&&t){var l=bi(a).hoistableScripts,h=Za(t),d=l.get(h);d||(d=a.querySelector(Ol(h)),d||(t=S({src:t,async:!0},i),(i=Fn.get(h))&&Zd(t,i),d=a.createElement("script"),wt(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function $S(t,i){ls.M(t,i);var a=$a;if(a&&t){var l=bi(a).hoistableScripts,h=Za(t),d=l.get(h);d||(d=a.querySelector(Ol(h)),d||(t=S({src:t,async:!0,type:"module"},i),(i=Fn.get(h))&&Zd(t,i),d=a.createElement("script"),wt(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function o0(t,i,a,l){var h=(h=oe.current)?Vu(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ja(a.href),a=bi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ja(a.href);var d=bi(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Dl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Fn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Fn.set(t,a),d||JS(h,t,a,_.state))),i&&l===null)throw Error(r(528,""));return _}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Za(a),a=bi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ja(t){return'href="'+ln(t)+'"'}function Dl(t){return'link[rel="stylesheet"]['+t+"]"}function l0(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function JS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Gt(i,"link",a),wt(i),t.head.appendChild(i))}function Za(t){return'[src="'+ln(t)+'"]'}function Ol(t){return"script[async]"+t}function c0(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+ln(a.href)+'"]');if(l)return i.instance=l,wt(l),l;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),wt(l),Gt(l,"style",h),ku(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ja(a.href);var d=t.querySelector(Dl(h));if(d)return i.state.loading|=4,i.instance=d,wt(d),d;l=l0(a),(h=Fn.get(h))&&Jd(l,h),d=(t.ownerDocument||t).createElement("link"),wt(d);var _=d;return _._p=new Promise(function(T,M){_.onload=T,_.onerror=M}),Gt(d,"link",l),i.state.loading|=4,ku(d,a.precedence,t),i.instance=d;case"script":return d=Za(a.src),(h=t.querySelector(Ol(d)))?(i.instance=h,wt(h),h):(l=a,(h=Fn.get(d))&&(l=S({},a),Zd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),wt(h),Gt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,ku(l,a.precedence,t));return i.instance}function ku(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Jd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Zd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var ju=null;function u0(t,i,a){if(ju===null){var l=new Map,h=ju=new Map;h.set(a,l)}else h=ju,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[_i]||d[Et]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function h0(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function ZS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function f0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function WS(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ja(l.href),d=i.querySelector(Dl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Uu.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,wt(d);return}d=i.ownerDocument||i,l=l0(l),(h=Fn.get(h))&&Jd(l,h),d=d.createElement("link"),wt(d);var _=d;_._p=new Promise(function(T,M){_.onload=T,_.onerror=M}),Gt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Uu.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Wd=0;function e1(t,i){return t.stylesheets&&t.count===0&&Pu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Pu(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Wd===0&&(Wd=62500*VS());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Pu(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Wd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Uu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Pu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Lu=null;function Pu(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Lu=new Map,i.forEach(t1,t),Lu=null,Uu.call(t))}function t1(t,i){if(!(i.state.loading&4)){var a=Lu.get(t);if(a)var l=a.get(null);else{a=new Map,Lu.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Uu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Ml={$$typeof:le,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function n1(t,i,a,l,h,d,_,T,M){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.hiddenUpdates=gi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function d0(t,i,a,l,h,d,_,T,M,z,Y,J){return t=new n1(t,i,a,_,M,z,Y,J,T),i=1,d===!0&&(i|=24),d=bn(3,null,null,i),t.current=d,d.stateNode=t,i=Of(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},jf(d),t}function m0(t){return t?(t=Ca,t):Ca}function p0(t,i,a,l,h,d){h=m0(h),l.context===null?l.context=h:l.pendingContext=h,l=Us(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ls(t,l,i),a!==null&&(mn(a,t,i),hl(a,t,i))}function g0(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function em(t,i){g0(t,i),(t=t.alternate)&&g0(t,i)}function y0(t){if(t.tag===13||t.tag===31){var i=Pr(t,67108864);i!==null&&mn(i,t,67108864),em(t,67108864)}}function _0(t){if(t.tag===13||t.tag===31){var i=An();i=Rr(i);var a=Pr(t,i);a!==null&&mn(a,t,i),em(t,i)}}var zu=!0;function i1(t,i,a,l){var h=H.T;H.T=null;var d=ee.p;try{ee.p=2,tm(t,i,a,l)}finally{ee.p=d,H.T=h}}function s1(t,i,a,l){var h=H.T;H.T=null;var d=ee.p;try{ee.p=8,tm(t,i,a,l)}finally{ee.p=d,H.T=h}}function tm(t,i,a,l){if(zu){var h=nm(l);if(h===null)Bd(t,i,l,Bu,a),b0(t,l);else if(a1(h,t,i,a,l))l.stopPropagation();else if(b0(t,l),i&4&&-1<r1.indexOf(t)){for(;h!==null;){var d=Mn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=mi(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var M=1<<31-pt(_);T.entanglements[1]|=M,_&=~M}Mi(d),(Ke&6)===0&&(wu=en()+500,Rl(0))}}break;case 31:case 13:T=Pr(d,2),T!==null&&mn(T,d,2),Au(),em(d,2)}if(d=nm(l),d===null&&Bd(t,i,l,Bu,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Bd(t,i,l,null,a)}}function nm(t){return t=Vn(t),im(t)}var Bu=null;function im(t){if(Bu=null,t=vi(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Bu=t,null}function v0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wr()){case jo:return 2;case Uo:return 8;case Es:case cf:return 32;case vc:return 268435456;default:return 32}default:return 32}}var sm=!1,Xs=null,$s=null,Js=null,Vl=new Map,kl=new Map,Zs=[],r1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function b0(t,i){switch(t){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":$s=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":Vl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(i.pointerId)}}function jl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Mn(i),i!==null&&y0(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function a1(t,i,a,l,h){switch(i){case"focusin":return Xs=jl(Xs,t,i,a,l,h),!0;case"dragenter":return $s=jl($s,t,i,a,l,h),!0;case"mouseover":return Js=jl(Js,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Vl.set(d,jl(Vl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,kl.set(d,jl(kl.get(d)||null,t,i,a,l,h)),!0}return!1}function T0(t){var i=vi(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Kn(t.priority,function(){_0(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Kn(t.priority,function(){_0(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qu(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=nm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Xo=l,a.target.dispatchEvent(l),Xo=null}else return i=Mn(a),i!==null&&y0(i),t.blockedOn=a,!1;i.shift()}return!0}function E0(t,i,a){qu(t)&&a.delete(i)}function o1(){sm=!1,Xs!==null&&qu(Xs)&&(Xs=null),$s!==null&&qu($s)&&($s=null),Js!==null&&qu(Js)&&(Js=null),Vl.forEach(E0),kl.forEach(E0)}function Hu(t,i){t.blockedOn===i&&(t.blockedOn=null,sm||(sm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,o1)))}var Fu=null;function w0(t){Fu!==t&&(Fu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Fu===t&&(Fu=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(im(l||a)===null)continue;break}var d=Mn(a);d!==null&&(t.splice(i,3),i-=3,nd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Wa(t){function i(M){return Hu(M,t)}Xs!==null&&Hu(Xs,t),$s!==null&&Hu($s,t),Js!==null&&Hu(Js,t),Vl.forEach(i),kl.forEach(i);for(var a=0;a<Zs.length;a++){var l=Zs[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Zs.length&&(a=Zs[0],a.blockedOn===null);)T0(a),a.blockedOn===null&&Zs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[kt]||null;if(typeof d=="function")_||w0(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[kt]||null)T=_.formAction;else if(im(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),w0(a)}}}function S0(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function rm(t){this._internalRoot=t}Gu.prototype.render=rm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=An();p0(a,l,t,i,null,null)},Gu.prototype.unmount=rm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;p0(t.current,2,null,t,null,null),Au(),i[yi]=null}};function Gu(t){this._internalRoot=t}Gu.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ac();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Zs.length&&i!==0&&i<Zs[a].priority;a++);Zs.splice(a,0,t),a===0&&T0(t)}};var A0=e.version;if(A0!=="19.2.3")throw Error(r(527,A0,"19.2.3"));ee.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var l1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qu.isDisabled&&Qu.supportsFiber)try{Qn=Qu.inject(l1),zt=Qu}catch{}}return Ll.createRoot=function(t,i){if(!o(t))throw Error(r(299));var a=!1,l="",h=Oy,d=My,_=Vy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=d0(t,1,!1,null,null,a,l,null,h,d,_,S0),t[yi]=i.current,zd(t),new rm(i)},Ll.hydrateRoot=function(t,i,a){if(!o(t))throw Error(r(299));var l=!1,h="",d=Oy,_=My,T=Vy,M=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(M=a.formState)),i=d0(t,1,!0,i,a??null,l,h,M,d,_,T,S0),i.context=m0(null),a=i.current,l=An(),l=Rr(l),h=Us(l),h.callback=null,Ls(a,h,l),a=l,i.current.lanes=a,Ar(i,a),Mi(i),t[yi]=i.current,zd(t),new Gu(i)},Ll.version="19.2.3",Ll}var k0;function y1(){if(k0)return lm.exports;k0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),lm.exports=g1(),lm.exports}var _1=y1();const v1="/Invitation/assets/r-15-CMHvZkWT.jpg",b1=()=>{const[s,e]=ie.useState(!1);return ie.useEffect(()=>{e(!0)},[]),b.jsxs("section",{className:"relative h-screen flex flex-col justify-center items-center text-center bg-white text-white overflow-hidden",children:[b.jsxs("div",{className:"absolute inset-0 z-0",children:[b.jsx("div",{className:"absolute inset-0 bg-black/20 z-10"}),b.jsx("img",{src:v1,alt:"Wedding Background",className:"w-full h-full object-cover"})]}),b.jsxs("div",{className:`relative z-20 p-8 transition-all duration-1000 ease-out transform ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[b.jsx("p",{className:"text-base md:text-lg tracking-[0.2em] mb-4 text-white/90 font-classic",children:"  "}),b.jsxs("h1",{className:"text-5xl md:text-6xl lg:text-7xl mb-8 font-classic font-bold text-white drop-shadow-lg leading-tight",children:[" ",b.jsx("br",{className:"md:hidden"}),b.jsx("span",{className:"text-3xl md:text-4xl lg:text-5xl mx-2 text-soft-pink font-serif italic",children:"&"}),b.jsx("br",{className:"md:hidden"})," "]}),b.jsxs("div",{className:"flex items-center justify-center gap-4 text-white/90 font-classic",children:[b.jsx("div",{className:"h-px w-12 bg-white/60"}),b.jsx("p",{className:"text-xl md:text-2xl tracking-widest font-light",children:"2026 4 25   4 50"}),b.jsx("div",{className:"h-px w-12 bg-white/60"})]})]}),b.jsx("div",{className:"absolute bottom-8 z-20 animate-bounce text-white/80 text-sm tracking-widest font-classic",children:" "})]})},T1=(s,{threshold:e=.1,root:n=null,rootMargin:r="0%"}={})=>{const[o,c]=ie.useState(!1);return ie.useEffect(()=>{const f=s?.current;if(!f)return;const m=new IntersectionObserver(([g])=>{g.isIntersecting&&(c(!0),m.unobserve(f))},{threshold:e,root:n,rootMargin:r});return m.observe(f),()=>{m.disconnect()}},[s,e,n,r]),o},E1=()=>{const s=ie.useRef(null),e=T1(s,{threshold:.3});return b.jsx("section",{className:"py-20 px-4 text-center bg-white",ref:s,children:b.jsxs("div",{className:`transition-all duration-1000 ease-out transform ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[b.jsxs("div",{className:"mb-12",children:[b.jsx("p",{className:"text-primary text-sm tracking-[0.2em] mb-3 opacity-60 font-classic",children:" "}),b.jsx("h2",{className:"text-3xl md:text-4xl text-text font-classic font-bold",children:" "})]}),b.jsxs("div",{className:"font-classic text-xl leading-loose text-text/80 mb-12 space-y-2",children:[b.jsx("p",{children:"    "}),b.jsx("p",{children:"  ."}),b.jsx("p",{children:"  "}),b.jsx("p",{children:"  ."})]}),b.jsxs("div",{className:"flex flex-col items-center gap-4 font-classic text-xl",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("span",{className:"text-base text-primary font-bold tracking-widest",children:""}),b.jsx("strong",{className:"text-text text-2xl font-bold",children:""})]}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("span",{className:"text-base text-primary font-bold tracking-widest",children:""}),b.jsx("strong",{className:"text-text text-2xl font-bold",children:""})]})]})]})})},w1=()=>b.jsx("section",{style:si.section,children:b.jsxs("div",{style:si.container,children:[b.jsxs("div",{style:si.item,children:[b.jsx("h3",{style:si.label,children:""}),b.jsx("p",{style:si.value,children:"2026 4 25"}),b.jsx("p",{style:si.subValue,children:"  4 50"})]}),b.jsx("div",{style:si.divider}),b.jsxs("div",{style:si.item,children:[b.jsx("h3",{style:si.label,children:""}),b.jsx("p",{style:si.value,children:"   7 "}),b.jsx("p",{style:si.subValue,children:"   4 140"})]})]})}),si={section:{padding:"3rem 1.5rem",backgroundColor:"#fff"},container:{backgroundColor:"#fff",padding:"2rem",borderRadius:"2px",boxShadow:"0 5px 15px rgba(0,0,0,0.03)",maxWidth:"400px",margin:"0 auto"},item:{textAlign:"center",marginBottom:"1.5rem"},divider:{width:"1px",height:"40px",backgroundColor:"#ddd",margin:"0 auto 1.5rem"},label:{fontSize:"0.8rem",color:"#aaa",letterSpacing:"0.1em",marginBottom:"0.5rem"},value:{fontSize:"1.3rem",fontFamily:"var(--font-serif)",fontWeight:"700",marginBottom:"0.2rem"},subValue:{fontSize:"0.95rem",color:"#666"}},S1="/Invitation/assets/sr-01-Nkos2fhL.jpg",A1=Object.freeze(Object.defineProperty({__proto__:null,default:S1},Symbol.toStringTag,{value:"Module"})),x1="/Invitation/assets/sr-02-B_fI4msP.jpg",R1=Object.freeze(Object.defineProperty({__proto__:null,default:x1},Symbol.toStringTag,{value:"Module"})),I1="/Invitation/assets/sr-03-TsE9Yvyd.jpg",C1=Object.freeze(Object.defineProperty({__proto__:null,default:I1},Symbol.toStringTag,{value:"Module"})),N1="/Invitation/assets/sr-04-BoW-Kdv9.jpg",D1=Object.freeze(Object.defineProperty({__proto__:null,default:N1},Symbol.toStringTag,{value:"Module"})),O1="/Invitation/assets/sr-05-H8F9HfXD.jpg",M1=Object.freeze(Object.defineProperty({__proto__:null,default:O1},Symbol.toStringTag,{value:"Module"})),V1="/Invitation/assets/sr-06-D_ryPiQm.jpg",k1=Object.freeze(Object.defineProperty({__proto__:null,default:V1},Symbol.toStringTag,{value:"Module"})),j1="/Invitation/assets/r-01-tqTTyRFi.jpg",U1=Object.freeze(Object.defineProperty({__proto__:null,default:j1},Symbol.toStringTag,{value:"Module"})),L1="/Invitation/assets/r-02-fqSG2lQg.jpg",P1=Object.freeze(Object.defineProperty({__proto__:null,default:L1},Symbol.toStringTag,{value:"Module"})),z1="/Invitation/assets/r-03-CGYDgkPS.jpg",B1=Object.freeze(Object.defineProperty({__proto__:null,default:z1},Symbol.toStringTag,{value:"Module"})),q1="/Invitation/assets/r-04-oYF5PhvR.jpg",H1=Object.freeze(Object.defineProperty({__proto__:null,default:q1},Symbol.toStringTag,{value:"Module"})),F1="/Invitation/assets/r-05-1r9ml69j.jpg",G1=Object.freeze(Object.defineProperty({__proto__:null,default:F1},Symbol.toStringTag,{value:"Module"})),Q1="/Invitation/assets/r-06-CGsovLs7.jpg",Y1=Object.freeze(Object.defineProperty({__proto__:null,default:Q1},Symbol.toStringTag,{value:"Module"})),K1="/Invitation/assets/r-07-CUXLEnuu.jpg",X1=Object.freeze(Object.defineProperty({__proto__:null,default:K1},Symbol.toStringTag,{value:"Module"})),$1="/Invitation/assets/r-08-DnA2EqP1.jpg",J1=Object.freeze(Object.defineProperty({__proto__:null,default:$1},Symbol.toStringTag,{value:"Module"})),Z1="/Invitation/assets/r-09-CYEI5d1p.jpg",W1=Object.freeze(Object.defineProperty({__proto__:null,default:Z1},Symbol.toStringTag,{value:"Module"})),eA="/Invitation/assets/r-10-Dn0CQCG_.jpg",tA=Object.freeze(Object.defineProperty({__proto__:null,default:eA},Symbol.toStringTag,{value:"Module"})),nA="/Invitation/assets/r-11-D3eFKwty.jpg",iA=Object.freeze(Object.defineProperty({__proto__:null,default:nA},Symbol.toStringTag,{value:"Module"})),sA="/Invitation/assets/r-12-BY68P3TW.jpg",rA=Object.freeze(Object.defineProperty({__proto__:null,default:sA},Symbol.toStringTag,{value:"Module"})),aA="/Invitation/assets/r-13-CEiRB3GN.jpg",oA=Object.freeze(Object.defineProperty({__proto__:null,default:aA},Symbol.toStringTag,{value:"Module"})),lA="/Invitation/assets/r-14-CrqTQkxo.jpg",cA=Object.freeze(Object.defineProperty({__proto__:null,default:lA},Symbol.toStringTag,{value:"Module"})),uA="/Invitation/assets/r-15-CMHvZkWT.jpg",hA=Object.freeze(Object.defineProperty({__proto__:null,default:uA},Symbol.toStringTag,{value:"Module"})),fA="/Invitation/assets/r-16-eAbJfSS7.jpg",dA=Object.freeze(Object.defineProperty({__proto__:null,default:fA},Symbol.toStringTag,{value:"Module"})),mA="/Invitation/assets/r-17-Lx5q0Lx1.jpg",pA=Object.freeze(Object.defineProperty({__proto__:null,default:mA},Symbol.toStringTag,{value:"Module"})),gA="/Invitation/assets/r-18-CZ-SmRv8.jpg",yA=Object.freeze(Object.defineProperty({__proto__:null,default:gA},Symbol.toStringTag,{value:"Module"})),Sb=()=>{const s=Object.assign({}),e=Object.assign({"/src/assets/images/SR/sr-01.jpg":A1,"/src/assets/images/SR/sr-02.jpg":R1,"/src/assets/images/SR/sr-03.jpg":C1,"/src/assets/images/SR/sr-04.jpg":D1,"/src/assets/images/SR/sr-05.jpg":M1,"/src/assets/images/SR/sr-06.jpg":k1}),n=Object.assign({"/src/assets/images/R/r-01.jpg":U1,"/src/assets/images/R/r-02.jpg":P1,"/src/assets/images/R/r-03.jpg":B1,"/src/assets/images/R/r-04.jpg":H1,"/src/assets/images/R/r-05.jpg":G1,"/src/assets/images/R/r-06.jpg":Y1,"/src/assets/images/R/r-07.jpg":X1,"/src/assets/images/R/r-08.jpg":J1,"/src/assets/images/R/r-09.jpg":W1,"/src/assets/images/R/r-10.jpg":tA,"/src/assets/images/R/r-11.jpg":iA,"/src/assets/images/R/r-12.jpg":rA,"/src/assets/images/R/r-13.jpg":oA,"/src/assets/images/R/r-14.jpg":cA,"/src/assets/images/R/r-15.jpg":hA,"/src/assets/images/R/r-16.jpg":dA,"/src/assets/images/R/r-17.jpg":pA,"/src/assets/images/R/r-18.jpg":yA}),r=(m,g)=>Object.entries(m).map(([y,E])=>({src:E.default,path:y,rarity:g})),o=r(s,"SSR"),c=r(e,"SR"),f=r(n,"R");return[...o,...c,...f]},j0=Sb(),Ab=({forceUnlock:s=!1,rarityFilter:e=null,showRarity:n=!1})=>{const[r,o]=ie.useState(null),[c,f]=ie.useState(0),[m,g]=ie.useState(null),[y,E]=ie.useState(null),[S,R]=ie.useState(!1),[B,$]=ie.useState(null),[W,te]=ie.useState([]);ie.useEffect(()=>{const O=()=>{if(!s)try{const A=JSON.parse(localStorage.getItem("wedding_collection_v2")||"[]");te(A)}catch(A){console.error("Error loading collection:",A),te([])}};return O(),window.addEventListener("collectionUpdated",O),()=>window.removeEventListener("collectionUpdated",O)},[s]);const se=j0.filter(O=>!e||O.rarity===e).sort((O,A)=>{const xe={SSR:3,SR:2,R:1},Te=O.rarity.includes("SSR")?"SSR":O.rarity.includes("SR")?"SR":"R",H=A.rarity.includes("SSR")?"SSR":A.rarity.includes("SR")?"SR":"R",ee=xe[Te]-xe[H];return ee!==0?ee:O.path.localeCompare(A.path)}),ue=O=>{O?.stopPropagation(),f(1),o(A=>(A+1)%se.length)},le=O=>{O?.stopPropagation(),f(-1),o(A=>(A-1+se.length)%se.length)},Ie=O=>{E(null),g(O.targetTouches[0].clientX)},Me=O=>E(O.targetTouches[0].clientX),we=()=>{if(!m||!y)return;const O=m-y,A=O>50,xe=O<-50;A&&ue(),xe&&le()},I=O=>{R(!0),$(O.clientX)},x=O=>{S&&O.preventDefault()},C=O=>{if(!S||B===null)return;const A=B-O.clientX;A>50?ue():A<-50&&le(),R(!1),$(null)},k=()=>{S&&R(!1)},N=O=>{const A=se.findIndex(xe=>xe.src===O);A!==-1&&(f(0),o(A))};return b.jsxs("section",{id:"gallery",className:"py-20 bg-background relative overflow-hidden",children:[b.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[b.jsx("div",{className:"absolute top-10 right-10 w-64 h-64 bg-primary/5 rounded-full blur-3xl"}),b.jsx("div",{className:"absolute bottom-10 left-10 w-96 h-96 bg-secondary/5 rounded-full blur-3xl"})]}),b.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[b.jsx("h2",{className:"text-3xl md:text-4xl text-primary font-classic font-bold mb-4 text-center animate-fade-in-up",children:" "}),b.jsxs("p",{className:"text-text/60 text-center font-body mb-12 tracking-widest uppercase text-sm animate-fade-in-up delay-100 font-classic",children:["  ",s?"":`(${W.length}/${j0.length})`]}),b.jsx("div",{className:"grid grid-cols-3 gap-2 md:gap-4 lg:gap-6",children:se.map((O,A)=>{const xe=s||W.includes(O.path),Te=O.rarity.includes("SSR")?"SSR":O.rarity.includes("SR")?"SR":"R",H={SSR:"border-yellow-400 ring-2 ring-yellow-400/50 shadow-md",SR:"border-blue-400 ring-1 ring-blue-400/30",R:"border-stone-400"},ee={SSR:"bg-yellow-400 text-black border-yellow-200",SR:"bg-blue-500 text-white border-blue-300",R:"bg-stone-500 text-white border-stone-400"},he={SSR:"",SR:"",R:""};return b.jsxs("div",{className:`
                                    group relative rounded-2xl overflow-hidden shadow-soft-md hover:shadow-soft-xl transition-all duration-500 hover:-translate-y-1 bg-white
                                    ${n&&xe?`border-[3px] ${H[Te]}`:""}
                                `,onClick:()=>xe&&N(O.src),children:[n&&b.jsxs("div",{className:`
                                        absolute top-2 right-2 z-20 px-2 py-0.5 rounded-full border shadow-sm text-[10px] font-bold flex items-center gap-1 backdrop-blur-sm
                                        ${ee[Te]}
                                        ${!xe&&"opacity-80 grayscale-[30%]"} 
                                    `,children:[b.jsx("span",{children:he[Te]}),b.jsx("span",{children:Te})]}),b.jsxs("div",{className:"relative overflow-hidden aspect-square",children:[b.jsx("img",{src:O.src,alt:`Gallery ${A+1}`,className:`w-full h-full object-cover transition-all duration-700 
                                            ${xe?"cursor-pointer hover:scale-110 filter brightness-100":"blur-xl grayscale contrast-125 cursor-not-allowed opacity-50"}
                                        `,loading:"lazy"}),xe&&b.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors duration-300 pointer-events-none"}),!xe&&b.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/10 z-10 backdrop-blur-[2px]",children:[b.jsx("div",{className:"bg-white/90 backdrop-blur-md p-4 rounded-full shadow-lg transform group-hover:scale-110 transition-transform duration-300",children:b.jsx("span",{className:"text-2xl",children:""})}),b.jsx("span",{className:"text-white font-bold tracking-widest mt-2 drop-shadow-md text-xs uppercase bg-black/20 px-3 py-1 rounded-full",children:"Locked"})]})]})]},O.path)})})]}),r!==null&&b.jsxs("div",{className:"fixed inset-0 z-[1001] flex items-center justify-center bg-black/95 backdrop-blur-md p-0 animate-in fade-in duration-200",onClick:()=>o(null),children:[b.jsxs("div",{className:"relative w-full h-full flex items-center justify-center group",onClick:O=>O.stopPropagation(),onTouchStart:Ie,onTouchMove:Me,onTouchEnd:we,onMouseDown:I,onMouseMove:x,onMouseUp:C,onMouseLeave:k,children:[b.jsx("button",{className:"absolute left-4 z-[1002] p-4 text-white/50 hover:text-white transition-all hover:scale-110 active:scale-95 hidden md:block",onClick:le,children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 drop-shadow-md",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),b.jsx("img",{src:se[r].src,alt:"Full view",className:`
                                max-w-full max-h-[100vh] object-contain select-none pointer-events-none md:pointer-events-auto
                                ${c===1?"animate-slide-in-right":c===-1?"animate-slide-in-left":""}
                            `,draggable:"false"},r),b.jsx("button",{className:"absolute right-4 z-[1002] p-4 text-white/50 hover:text-white transition-all hover:scale-110 active:scale-95 hidden md:block",onClick:ue,children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 drop-shadow-md",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),b.jsx("button",{className:"absolute top-4 right-4 text-white/80 hover:text-white transition-colors z-[1002] p-2",onClick:()=>o(null),children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 drop-shadow-lg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M6 18L18 6M6 6l12 12"})})}),b.jsxs("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 text-white/80 font-mono text-sm bg-black/50 px-3 py-1 rounded-full backdrop-blur-sm z-[1002]",children:[r+1," / ",se.length]})]})]})},_A=()=>b.jsxs("section",{className:"py-20 px-4 md:px-6 bg-background text-center relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-4xl h-full max-h-[500px] bg-primary/5 rounded-full blur-[100px] pointer-events-none"}),b.jsxs("div",{className:"relative z-10 w-full max-w-6xl mx-auto",children:[b.jsx("h2",{className:"text-3xl md:text-4xl text-primary font-classic font-bold mb-12 text-center animate-fade-in-up",children:"  "}),b.jsx("div",{className:"w-full aspect-video rounded-3xl overflow-hidden shadow-soft-xl border border-white/50 bg-black/5 animate-fade-in-up delay-100",children:b.jsx("iframe",{className:"w-full h-full",src:"https://www.youtube-nocookie.com/embed/AreIxgzHcIQ",title:"Wedding Video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})})]})]}),xb=()=>{const s="https://naver.me/x7ndUhZi",e="https://place.map.kakao.com/25447779",n=r=>{window.open(r,"_blank")};return b.jsxs("section",{className:"py-24 px-4 bg-background text-center relative overflow-hidden font-body",children:[b.jsx("div",{className:"mb-12 animate-fade-in-up",children:b.jsx("h2",{className:"text-4xl md:text-5xl text-text font-classic font-bold",children:" "})}),b.jsx("div",{className:"max-w-5xl mx-auto mb-12 animate-fade-in-up delay-100",children:b.jsx("div",{className:"w-full aspect-video md:aspect-[21/9] rounded-xl overflow-hidden shadow-sm border border-black/5 bg-gray-50",children:b.jsx("iframe",{src:"https://maps.google.com/maps?q=%20%20&t=&z=17&ie=UTF8&iwloc=&output=embed",className:"w-full h-full transition-all duration-700",frameBorder:"0",title:"Google Map",loading:"lazy",allowFullScreen:!0})})}),b.jsxs("div",{className:"max-w-lg mx-auto mb-12 space-y-2 animate-fade-in-up delay-200 font-classic",children:[b.jsxs("h3",{className:"text-2xl text-text font-bold tracking-wide",children:["  ",b.jsx("span",{className:"font-normal text-lg ml-2 text-text/60",children:"7 "})]}),b.jsx("p",{className:"text-text/70 text-lg",children:"   4 140"}),b.jsx("div",{className:"w-8 h-[1px] bg-primary/20 mx-auto my-4"}),b.jsx("p",{className:"text-text/50 text-sm tracking-wider",children:"Tel. 031-487-8100"})]}),b.jsxs("div",{className:"flex flex-wrap justify-center gap-4 animate-fade-in-up delay-300",children:[b.jsxs("button",{className:"flex items-center gap-3 px-8 py-3 bg-white border border-gray-200 rounded-full hover:border-[#03C75A] hover:bg-[#03C75A]/5 transition-all group font-classic",onClick:()=>n(s),children:[b.jsx(vA,{}),b.jsx("span",{className:"text-gray-600 group-hover:text-[#03C75A] font-medium transition-colors",children:" "})]}),b.jsxs("button",{className:"flex items-center gap-3 px-8 py-3 bg-white border border-gray-200 rounded-full hover:border-[#FEE500] hover:bg-[#FEE500]/10 transition-all group font-classic",onClick:()=>n(e),children:[b.jsx(bA,{}),b.jsx("span",{className:"text-gray-600 group-hover:text-black font-medium transition-colors",children:" "})]})]})]})},vA=()=>b.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-[#03C75A]",children:b.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.4153 3H21V21H16.4153V10.7417L7.69231 21H3V3H7.69231V13.2519L16.4153 3Z",fill:"currentColor"})}),bA=()=>b.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",className:"text-[#FEE500]",children:b.jsx("path",{d:"M12 3C6.47715 3 2 6.35786 2 10.5C2 13.1679 3.65685 15.5393 6.1875 16.9079L5.4375 19.6579C5.375 19.8766 5.5625 20.0641 5.78125 20.0016L9.625 19.0641C10.375 19.2829 11.1875 19.4079 12 19.4079C17.5228 19.4079 22 16.05 22 11.9079C22 7.76579 17.5228 4.40786 12 4.40786V3Z"})}),TA=()=>{const[s,e]=ie.useState(!1),n=ie.useRef(null),r=()=>{s?n.current.pause():n.current.play(),e(!s)};return ie.useEffect(()=>{if(n.current){n.current.volume=.5;const o=n.current.play();o!==void 0&&o.then(()=>{e(!0)}).catch(c=>{console.log("Auto-play prevented:",c),e(!1)})}},[]),b.jsxs("div",{style:U0.container,children:[b.jsx("audio",{ref:n,src:"/Invitation/bgm.mp3",loop:!0}),b.jsx("button",{onClick:r,style:U0.button,children:s?" ":" "})]})},U0={container:{position:"fixed",top:"20px",right:"20px",zIndex:1e3},button:{background:"rgba(255, 255, 255, 0.8)",border:"1px solid #ddd",borderRadius:"20px",padding:"8px 16px",fontSize:"0.8rem",cursor:"pointer",boxShadow:"0 2px 5px rgba(0,0,0,0.1)",display:"flex",alignItems:"center",gap:"5px",fontFamily:"'Gowun Batang', serif"}},EA=()=>{const[s,e]=ie.useState(null),n=[{id:"groom",label:"   ",description:"   .",accounts:[{relation:"",name:"000",bank:"00",account:"000-000-000000"},{relation:"",name:"000",bank:"00",account:"000-000-000000"},{relation:"",name:"",bank:"",account:"495-910449-55107"}]},{id:"bride",label:"   ",description:"   .",accounts:[{relation:"",name:"000",bank:"00",account:"000-000-000000"},{relation:"",name:"000",bank:"00",account:"000-000-000000"},{relation:"",name:"",bank:"",account:"110-297-915880"}]}],r=o=>{const c=`${o.bank} ${o.account}`;navigator.clipboard.writeText(c).then(()=>{e(o.account),setTimeout(()=>e(null),2e3)})};return b.jsxs("section",{className:"py-20 px-6 bg-background text-center relative overflow-hidden font-body",children:[b.jsx("h2",{className:"text-3xl md:text-4xl text-primary font-classic font-bold mb-10 text-center animate-fade-in-up",children:"  "}),b.jsx("div",{className:"max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8 animate-fade-in-up delay-100",children:n.map(o=>b.jsxs("div",{className:"bg-white/60 backdrop-blur-md rounded-2xl overflow-hidden shadow-soft-md border border-white/50 flex flex-col h-full",children:[b.jsxs("div",{className:"bg-white/80 p-6 border-b border-primary/10",children:[b.jsx("h3",{className:"font-classic text-xl text-primary font-bold mb-2",children:o.label}),b.jsx("p",{className:"text-sm text-gray-500 font-medium",children:o.description})]}),b.jsx("div",{className:"p-6 space-y-4 flex-1",children:o.accounts.map((c,f)=>b.jsxs("div",{className:"flex flex-col items-start gap-2 p-4 rounded-xl bg-white/50 hover:bg-white transition-colors border border-transparent hover:border-primary/20",children:[b.jsxs("div",{className:"flex items-center justify-between w-full",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"text-sm font-bold text-gray-500 w-12 text-left",children:c.relation}),b.jsx("span",{className:"text-base font-bold text-text",children:c.name})]}),b.jsx("button",{onClick:()=>r(c),className:`
                                                px-3 py-1 rounded-full text-xs font-medium transition-all duration-300
                                                ${s===c.account?"bg-[#03C75A] text-white shadow-sm":"bg-white border border-gray-200 text-gray-600 hover:border-primary hover:text-primary"}
                                            `,children:s===c.account?"":""})]}),b.jsxs("div",{className:"text-sm text-gray-600 font-mono w-full text-left pl-14",children:[c.bank," ",b.jsx("span",{className:"mx-1",children:"|"})," ",c.account]})]},f))})]},o.id))})]})},wA=()=>b.jsxs("div",{className:"app-container font-classic",children:[b.jsx(b1,{}),b.jsx(E1,{}),b.jsx(w1,{}),b.jsx(Ab,{forceUnlock:!0,rarityFilter:"R"}),b.jsx(_A,{}),b.jsx(EA,{}),b.jsx(TA,{}),b.jsx(xb,{})]}),SA=()=>{};var L0={};const Rb=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},AA=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[n++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[n++],f=s[n++],m=s[n++],g=((o&7)<<18|(c&63)<<12|(f&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const c=s[n++],f=s[n++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return e.join("")},Ib={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const c=s[o],f=o+1<s.length,m=f?s[o+1]:0,g=o+2<s.length,y=g?s[o+2]:0,E=c>>2,S=(c&3)<<4|m>>4;let R=(m&15)<<2|y>>6,B=y&63;g||(B=64,f||(R=64)),r.push(n[E],n[S],n[R],n[B])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Rb(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):AA(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const c=n[s.charAt(o++)],m=o<s.length?n[s.charAt(o)]:0;++o;const y=o<s.length?n[s.charAt(o)]:64;++o;const S=o<s.length?n[s.charAt(o)]:64;if(++o,c==null||m==null||y==null||S==null)throw new xA;const R=c<<2|m>>4;if(r.push(R),y!==64){const B=m<<4&240|y>>2;if(r.push(B),S!==64){const $=y<<6&192|S;r.push($)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class xA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RA=function(s){const e=Rb(s);return Ib.encodeByteArray(e,!0)},hh=function(s){return RA(s).replace(/\./g,"")},Cb=function(s){try{return Ib.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function IA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const CA=()=>IA().__FIREBASE_DEFAULTS__,NA=()=>{if(typeof process>"u"||typeof L0>"u")return;const s=L0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},DA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Cb(s[1]);return e&&JSON.parse(e)},Vh=()=>{try{return SA()||CA()||NA()||DA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Nb=s=>Vh()?.emulatorHosts?.[s],OA=s=>{const e=Nb(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Db=()=>Vh()?.config,Ob=s=>Vh()?.[`_${s}`];class MA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function So(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Mb(s){return(await fetch(s,{credentials:"include"})).ok}function VA(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[hh(JSON.stringify(n)),hh(JSON.stringify(f)),""].join(".")}const Fl={};function kA(){const s={prod:[],emulator:[]};for(const e of Object.keys(Fl))Fl[e]?s.emulator.push(e):s.prod.push(e);return s}function jA(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let P0=!1;function Vb(s,e){if(typeof window>"u"||typeof document>"u"||!So(window.location.host)||Fl[s]===e||Fl[s]||P0)return;Fl[s]=e;function n(R){return`__firebase__banner__${R}`}const r="__firebase__banner",c=kA().prod.length>0;function f(){const R=document.getElementById(r);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function g(R,B){R.setAttribute("width","24"),R.setAttribute("id",B),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function y(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{P0=!0,f()},R}function E(R,B){R.setAttribute("id",B),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function S(){const R=jA(r),B=n("text"),$=document.getElementById(B)||document.createElement("span"),W=n("learnmore"),te=document.getElementById(W)||document.createElement("a"),se=n("preprendIcon"),ue=document.getElementById(se)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const le=R.element;m(le),E(te,W);const Ie=y();g(ue,se),le.append(ue,$,te,Ie),document.body.appendChild(le)}c?($.innerText="Preview backend disconnected.",ue.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ue.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function LA(){const s=Vh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kb(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function zA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BA(){const s=Wt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function qA(){return!LA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jb(){try{return typeof indexedDB=="object"}catch{return!1}}function Ub(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}function HA(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const FA="FirebaseError";class hi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=FA,Object.setPrototypeOf(this,hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,la.prototype.create)}}class la{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],f=c?GA(c,r):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new hi(o,m,r)}}function GA(s,e){return s.replace(QA,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const QA=/\{\$([^}]+)}/g;function YA(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function hs(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const c=s[o],f=e[o];if(z0(c)&&z0(f)){if(!hs(c,f))return!1}else if(c!==f)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function z0(s){return s!==null&&typeof s=="object"}function oc(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function KA(s,e){const n=new XA(s,e);return n.subscribe.bind(n)}class XA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");$A(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=fm),o.error===void 0&&(o.error=fm),o.complete===void 0&&(o.complete=fm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $A(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function fm(){}const JA=1e3,ZA=2,WA=14400*1e3,ex=.5;function B0(s,e=JA,n=ZA){const r=e*Math.pow(n,s),o=Math.round(ex*r*(Math.random()-.5)*2);return Math.min(WA,r+o)}function ht(s){return s&&s._delegate?s._delegate:s}class li{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Zr="[DEFAULT]";class tx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new MA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ix(e))try{this.getOrInitializeService({instanceIdentifier:Zr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=Zr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zr){return this.instances.has(e)}getOptions(e=Zr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[c,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);r===m&&f.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nx(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zr){return this.component?this.component.multipleInstances?e:Zr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nx(s){return s===Zr?void 0:s}function ix(s){return s.instantiationMode==="EAGER"}class sx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Le;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Le||(Le={}));const rx={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},ax=Le.INFO,ox={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},lx=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=ox[e];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kh{constructor(e){this.name=e,this._logLevel=ax,this._logHandler=lx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const cx=(s,e)=>e.some(n=>s instanceof n);let q0,H0;function ux(){return q0||(q0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hx(){return H0||(H0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Lb=new WeakMap,Im=new WeakMap,Pb=new WeakMap,dm=new WeakMap,ep=new WeakMap;function fx(s){const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",f)},c=()=>{n(ar(s.result)),o()},f=()=>{r(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&Lb.set(n,s)}).catch(()=>{}),ep.set(e,s),e}function dx(s){if(Im.has(s))return;const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",f),s.removeEventListener("abort",f)},c=()=>{n(),o()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",f),s.addEventListener("abort",f)});Im.set(s,e)}let Cm={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return Im.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Pb.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ar(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function mx(s){Cm=s(Cm)}function px(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(mm(this),e,...n);return Pb.set(r,e.sort?e.sort():[e]),ar(r)}:hx().includes(s)?function(...e){return s.apply(mm(this),e),ar(Lb.get(this))}:function(...e){return ar(s.apply(mm(this),e))}}function gx(s){return typeof s=="function"?px(s):(s instanceof IDBTransaction&&dx(s),cx(s,ux())?new Proxy(s,Cm):s)}function ar(s){if(s instanceof IDBRequest)return fx(s);if(dm.has(s))return dm.get(s);const e=gx(s);return e!==s&&(dm.set(s,e),ep.set(e,s)),e}const mm=s=>ep.get(s);function zb(s,e,{blocked:n,upgrade:r,blocking:o,terminated:c}={}){const f=indexedDB.open(s,e),m=ar(f);return r&&f.addEventListener("upgradeneeded",g=>{r(ar(f.result),g.oldVersion,g.newVersion,ar(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const yx=["get","getKey","getAll","getAllKeys","count"],_x=["put","add","delete","clear"],pm=new Map;function F0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(pm.get(e))return pm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=_x.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||yx.includes(n)))return;const c=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return pm.set(e,c),c}mx(s=>({...s,get:(e,n,r)=>F0(e,n)||s.get(e,n,r),has:(e,n)=>!!F0(e,n)||s.has(e,n)}));class vx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bx(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function bx(s){return s.getComponent()?.type==="VERSION"}const Nm="@firebase/app",G0="0.14.7";const fs=new kh("@firebase/app"),Tx="@firebase/app-compat",Ex="@firebase/analytics-compat",wx="@firebase/analytics",Sx="@firebase/app-check-compat",Ax="@firebase/app-check",xx="@firebase/auth",Rx="@firebase/auth-compat",Ix="@firebase/database",Cx="@firebase/data-connect",Nx="@firebase/database-compat",Dx="@firebase/functions",Ox="@firebase/functions-compat",Mx="@firebase/installations",Vx="@firebase/installations-compat",kx="@firebase/messaging",jx="@firebase/messaging-compat",Ux="@firebase/performance",Lx="@firebase/performance-compat",Px="@firebase/remote-config",zx="@firebase/remote-config-compat",Bx="@firebase/storage",qx="@firebase/storage-compat",Hx="@firebase/firestore",Fx="@firebase/ai",Gx="@firebase/firestore-compat",Qx="firebase",Yx="12.8.0";const Dm="[DEFAULT]",Kx={[Nm]:"fire-core",[Tx]:"fire-core-compat",[wx]:"fire-analytics",[Ex]:"fire-analytics-compat",[Ax]:"fire-app-check",[Sx]:"fire-app-check-compat",[xx]:"fire-auth",[Rx]:"fire-auth-compat",[Ix]:"fire-rtdb",[Cx]:"fire-data-connect",[Nx]:"fire-rtdb-compat",[Dx]:"fire-fn",[Ox]:"fire-fn-compat",[Mx]:"fire-iid",[Vx]:"fire-iid-compat",[kx]:"fire-fcm",[jx]:"fire-fcm-compat",[Ux]:"fire-perf",[Lx]:"fire-perf-compat",[Px]:"fire-rc",[zx]:"fire-rc-compat",[Bx]:"fire-gcs",[qx]:"fire-gcs-compat",[Hx]:"fire-fst",[Gx]:"fire-fst-compat",[Fx]:"fire-vertex","fire-js":"fire-js",[Qx]:"fire-js-all"};const fh=new Map,Xx=new Map,Om=new Map;function Q0(s,e){try{s.container.addComponent(e)}catch(n){fs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function qi(s){const e=s.name;if(Om.has(e))return fs.debug(`There were multiple attempts to register component ${e}.`),!1;Om.set(e,s);for(const n of fh.values())Q0(n,s);for(const n of Xx.values())Q0(n,s);return!0}function ca(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function ri(s){return s==null?!1:s.settings!==void 0}const $x={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},or=new la("app","Firebase",$x);class Jx{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new li("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw or.create("app-deleted",{appName:this._name})}}const Ao=Yx;function Bb(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:Dm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw or.create("bad-app-name",{appName:String(o)});if(n||(n=Db()),!n)throw or.create("no-options");const c=fh.get(o);if(c){if(hs(n,c.options)&&hs(r,c.config))return c;throw or.create("duplicate-app",{appName:o})}const f=new sx(o);for(const g of Om.values())f.addComponent(g);const m=new Jx(n,r,f);return fh.set(o,m),m}function tp(s=Dm){const e=fh.get(s);if(!e&&s===Dm&&Db())return Bb();if(!e)throw or.create("no-app",{appName:s});return e}function Gn(s,e,n){let r=Kx[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const f=[`Unable to register library "${r}" with version "${e}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fs.warn(f.join(" "));return}qi(new li(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Zx="firebase-heartbeat-database",Wx=1,Jl="firebase-heartbeat-store";let gm=null;function qb(){return gm||(gm=zb(Zx,Wx,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Jl)}catch(n){console.warn(n)}}}}).catch(s=>{throw or.create("idb-open",{originalErrorMessage:s.message})})),gm}async function eR(s){try{const n=(await qb()).transaction(Jl),r=await n.objectStore(Jl).get(Hb(s));return await n.done,r}catch(e){if(e instanceof hi)fs.warn(e.message);else{const n=or.create("idb-get",{originalErrorMessage:e?.message});fs.warn(n.message)}}}async function Y0(s,e){try{const r=(await qb()).transaction(Jl,"readwrite");await r.objectStore(Jl).put(e,Hb(s)),await r.done}catch(n){if(n instanceof hi)fs.warn(n.message);else{const r=or.create("idb-set",{originalErrorMessage:n?.message});fs.warn(r.message)}}}function Hb(s){return`${s.name}!${s.options.appId}`}const tR=1024,nR=30;class iR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new rR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=K0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>nR){const o=aR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){fs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=K0(),{heartbeatsToSend:n,unsentEntries:r}=sR(this._heartbeatsCache.heartbeats),o=hh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return fs.warn(e),""}}}function K0(){return new Date().toISOString().substring(0,10)}function sR(s,e=tR){const n=[];let r=s.slice();for(const o of s){const c=n.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),X0(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),X0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class rR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jb()?Ub().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await eR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Y0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Y0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function X0(s){return hh(JSON.stringify({version:2,heartbeats:s})).length}function aR(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}function oR(s){qi(new li("platform-logger",e=>new vx(e),"PRIVATE")),qi(new li("heartbeat",e=>new iR(e),"PRIVATE")),Gn(Nm,G0,s),Gn(Nm,G0,"esm2020"),Gn("fire-js","")}oR("");var lR="firebase",cR="12.8.0";Gn(lR,cR,"app");const Fb="@firebase/installations",np="0.6.19";const Gb=1e4,Qb=`w:${np}`,Yb="FIS_v2",uR="https://firebaseinstallations.googleapis.com/v1",hR=3600*1e3,fR="installations",dR="Installations";const mR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},na=new la(fR,dR,mR);function Kb(s){return s instanceof hi&&s.code.includes("request-failed")}function Xb({projectId:s}){return`${uR}/projects/${s}/installations`}function $b(s){return{token:s.token,requestStatus:2,expiresIn:gR(s.expiresIn),creationTime:Date.now()}}async function Jb(s,e){const r=(await e.json()).error;return na.create("request-failed",{requestName:s,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Zb({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function pR(s,{refreshToken:e}){const n=Zb(s);return n.append("Authorization",yR(e)),n}async function Wb(s){const e=await s();return e.status>=500&&e.status<600?s():e}function gR(s){return Number(s.replace("s","000"))}function yR(s){return`${Yb} ${s}`}async function _R({appConfig:s,heartbeatServiceProvider:e},{fid:n}){const r=Xb(s),o=Zb(s),c=e.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={fid:n,authVersion:Yb,appId:s.appId,sdkVersion:Qb},m={method:"POST",headers:o,body:JSON.stringify(f)},g=await Wb(()=>fetch(r,m));if(g.ok){const y=await g.json();return{fid:y.fid||n,registrationStatus:2,refreshToken:y.refreshToken,authToken:$b(y.authToken)}}else throw await Jb("Create Installation",g)}function eT(s){return new Promise(e=>{setTimeout(e,s)})}function vR(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}const bR=/^[cdef][\w-]{21}$/,Mm="";function TR(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const n=ER(s);return bR.test(n)?n:Mm}catch{return Mm}}function ER(s){return vR(s).substr(0,22)}function jh(s){return`${s.appName}!${s.appId}`}const tT=new Map;function nT(s,e){const n=jh(s);iT(n,e),wR(n,e)}function iT(s,e){const n=tT.get(s);if(n)for(const r of n)r(e)}function wR(s,e){const n=SR();n&&n.postMessage({key:s,fid:e}),AR()}let Wr=null;function SR(){return!Wr&&"BroadcastChannel"in self&&(Wr=new BroadcastChannel("[Firebase] FID Change"),Wr.onmessage=s=>{iT(s.data.key,s.data.fid)}),Wr}function AR(){tT.size===0&&Wr&&(Wr.close(),Wr=null)}const xR="firebase-installations-database",RR=1,ia="firebase-installations-store";let ym=null;function ip(){return ym||(ym=zb(xR,RR,{upgrade:(s,e)=>{e===0&&s.createObjectStore(ia)}})),ym}async function dh(s,e){const n=jh(s),o=(await ip()).transaction(ia,"readwrite"),c=o.objectStore(ia),f=await c.get(n);return await c.put(e,n),await o.done,(!f||f.fid!==e.fid)&&nT(s,e.fid),e}async function sT(s){const e=jh(s),r=(await ip()).transaction(ia,"readwrite");await r.objectStore(ia).delete(e),await r.done}async function Uh(s,e){const n=jh(s),o=(await ip()).transaction(ia,"readwrite"),c=o.objectStore(ia),f=await c.get(n),m=e(f);return m===void 0?await c.delete(n):await c.put(m,n),await o.done,m&&(!f||f.fid!==m.fid)&&nT(s,m.fid),m}async function sp(s){let e;const n=await Uh(s.appConfig,r=>{const o=IR(r),c=CR(s,o);return e=c.registrationPromise,c.installationEntry});return n.fid===Mm?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function IR(s){const e=s||{fid:TR(),registrationStatus:0};return rT(e)}function CR(s,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(na.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=NR(s,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:DR(s)}:{installationEntry:e}}async function NR(s,e){try{const n=await _R(s,e);return dh(s.appConfig,n)}catch(n){throw Kb(n)&&n.customData.serverCode===409?await sT(s.appConfig):await dh(s.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function DR(s){let e=await $0(s.appConfig);for(;e.registrationStatus===1;)await eT(100),e=await $0(s.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await sp(s);return r||n}return e}function $0(s){return Uh(s,e=>{if(!e)throw na.create("installation-not-found");return rT(e)})}function rT(s){return OR(s)?{fid:s.fid,registrationStatus:0}:s}function OR(s){return s.registrationStatus===1&&s.registrationTime+Gb<Date.now()}async function MR({appConfig:s,heartbeatServiceProvider:e},n){const r=VR(s,n),o=pR(s,n),c=e.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={installation:{sdkVersion:Qb,appId:s.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},g=await Wb(()=>fetch(r,m));if(g.ok){const y=await g.json();return $b(y)}else throw await Jb("Generate Auth Token",g)}function VR(s,{fid:e}){return`${Xb(s)}/${e}/authTokens:generate`}async function rp(s,e=!1){let n;const r=await Uh(s.appConfig,c=>{if(!aT(c))throw na.create("not-registered");const f=c.authToken;if(!e&&UR(f))return c;if(f.requestStatus===1)return n=kR(s,e),c;{if(!navigator.onLine)throw na.create("app-offline");const m=PR(c);return n=jR(s,m),m}});return n?await n:r.authToken}async function kR(s,e){let n=await J0(s.appConfig);for(;n.authToken.requestStatus===1;)await eT(100),n=await J0(s.appConfig);const r=n.authToken;return r.requestStatus===0?rp(s,e):r}function J0(s){return Uh(s,e=>{if(!aT(e))throw na.create("not-registered");const n=e.authToken;return zR(n)?{...e,authToken:{requestStatus:0}}:e})}async function jR(s,e){try{const n=await MR(s,e),r={...e,authToken:n};return await dh(s.appConfig,r),n}catch(n){if(Kb(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await sT(s.appConfig);else{const r={...e,authToken:{requestStatus:0}};await dh(s.appConfig,r)}throw n}}function aT(s){return s!==void 0&&s.registrationStatus===2}function UR(s){return s.requestStatus===2&&!LR(s)}function LR(s){const e=Date.now();return e<s.creationTime||s.creationTime+s.expiresIn<e+hR}function PR(s){const e={requestStatus:1,requestTime:Date.now()};return{...s,authToken:e}}function zR(s){return s.requestStatus===1&&s.requestTime+Gb<Date.now()}async function BR(s){const e=s,{installationEntry:n,registrationPromise:r}=await sp(e);return r?r.catch(console.error):rp(e).catch(console.error),n.fid}async function qR(s,e=!1){const n=s;return await HR(n),(await rp(n,e)).token}async function HR(s){const{registrationPromise:e}=await sp(s);e&&await e}function FR(s){if(!s||!s.options)throw _m("App Configuration");if(!s.name)throw _m("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!s.options[n])throw _m(n);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function _m(s){return na.create("missing-app-config-values",{valueName:s})}const oT="installations",GR="installations-internal",QR=s=>{const e=s.getProvider("app").getImmediate(),n=FR(e),r=ca(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},YR=s=>{const e=s.getProvider("app").getImmediate(),n=ca(e,oT).getImmediate();return{getId:()=>BR(n),getToken:o=>qR(n,o)}};function KR(){qi(new li(oT,QR,"PUBLIC")),qi(new li(GR,YR,"PRIVATE"))}KR();Gn(Fb,np);Gn(Fb,np,"esm2020");const mh="analytics",XR="firebase_id",$R="origin",JR=60*1e3,ZR="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ap="https://www.googletagmanager.com/gtag/js";const an=new kh("@firebase/analytics");const WR={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},In=new la("analytics","Analytics",WR);function eI(s){if(!s.startsWith(ap)){const e=In.create("invalid-gtag-resource",{gtagURL:s});return an.warn(e.message),""}return s}function lT(s){return Promise.all(s.map(e=>e.catch(n=>n)))}function tI(s,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(s,e)),n}function nI(s,e){const n=tI("firebase-js-sdk-policy",{createScriptURL:eI}),r=document.createElement("script"),o=`${ap}?l=${s}&id=${e}`;r.src=n?n?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function iI(s){let e=[];return Array.isArray(window[s])?e=window[s]:window[s]=e,e}async function sI(s,e,n,r,o,c){const f=r[o];try{if(f)await e[f];else{const g=(await lT(n)).find(y=>y.measurementId===o);g&&await e[g.appId]}}catch(m){an.error(m)}s("config",o,c)}async function rI(s,e,n,r,o){try{let c=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await lT(n);for(const g of f){const y=m.find(S=>S.measurementId===g),E=y&&e[y.appId];if(E)c.push(E);else{c=[];break}}}c.length===0&&(c=Object.values(e)),await Promise.all(c),s("event",r,o||{})}catch(c){an.error(c)}}function aI(s,e,n,r){async function o(c,...f){try{if(c==="event"){const[m,g]=f;await rI(s,e,n,m,g)}else if(c==="config"){const[m,g]=f;await sI(s,e,n,r,m,g)}else if(c==="consent"){const[m,g]=f;s("consent",m,g)}else if(c==="get"){const[m,g,y]=f;s("get",m,g,y)}else if(c==="set"){const[m]=f;s("set",m)}else s(c,...f)}catch(m){an.error(m)}}return o}function oI(s,e,n,r,o){let c=function(...f){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(c=window[o]),window[o]=aI(c,s,e,n),{gtagCore:c,wrappedGtag:window[o]}}function lI(s){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(ap)&&n.src.includes(s))return n;return null}const cI=30,uI=1e3;class hI{constructor(e={},n=uI){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const cT=new hI;function fI(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function dI(s){const{appId:e,apiKey:n}=s,r={method:"GET",headers:fI(n)},o=ZR.replace("{app-id}",e),c=await fetch(o,r);if(c.status!==200&&c.status!==304){let f="";try{const m=await c.json();m.error?.message&&(f=m.error.message)}catch{}throw In.create("config-fetch-failed",{httpStatus:c.status,responseMessage:f})}return c.json()}async function mI(s,e=cT,n){const{appId:r,apiKey:o,measurementId:c}=s.options;if(!r)throw In.create("no-app-id");if(!o){if(c)return{measurementId:c,appId:r};throw In.create("no-api-key")}const f=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new yI;return setTimeout(async()=>{m.abort()},JR),uT({appId:r,apiKey:o,measurementId:c},f,m,e)}async function uT(s,{throttleEndTimeMillis:e,backoffCount:n},r,o=cT){const{appId:c,measurementId:f}=s;try{await pI(r,e)}catch(m){if(f)return an.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:c,measurementId:f};throw m}try{const m=await dI(s);return o.deleteThrottleMetadata(c),m}catch(m){const g=m;if(!gI(g)){if(o.deleteThrottleMetadata(c),f)return an.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:c,measurementId:f};throw m}const y=Number(g?.customData?.httpStatus)===503?B0(n,o.intervalMillis,cI):B0(n,o.intervalMillis),E={throttleEndTimeMillis:Date.now()+y,backoffCount:n+1};return o.setThrottleMetadata(c,E),an.debug(`Calling attemptFetch again in ${y} millis`),uT(s,E,r,o)}}function pI(s,e){return new Promise((n,r)=>{const o=Math.max(e-Date.now(),0),c=setTimeout(n,o);s.addEventListener(()=>{clearTimeout(c),r(In.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function gI(s){if(!(s instanceof hi)||!s.customData)return!1;const e=Number(s.customData.httpStatus);return e===429||e===500||e===503||e===504}class yI{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function _I(s,e,n,r,o){if(o&&o.global){s("event",n,r);return}else{const c=await e,f={...r,send_to:c};s("event",n,f)}}async function vI(s,e,n,r){if(r&&r.global){const o={};for(const c of Object.keys(n))o[`user_properties.${c}`]=n[c];return s("set",o),Promise.resolve()}else{const o=await e;s("config",o,{update:!0,user_properties:n})}}async function bI(){if(jb())try{await Ub()}catch(s){return an.warn(In.create("indexeddb-unavailable",{errorInfo:s?.toString()}).message),!1}else return an.warn(In.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function TI(s,e,n,r,o,c,f){const m=mI(s);m.then(R=>{n[R.measurementId]=R.appId,s.options.measurementId&&R.measurementId!==s.options.measurementId&&an.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${R.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(R=>an.error(R)),e.push(m);const g=bI().then(R=>{if(R)return r.getId()}),[y,E]=await Promise.all([m,g]);lI(c)||nI(c,y.measurementId),o("js",new Date);const S=f?.config??{};return S[$R]="firebase",S.update=!0,E!=null&&(S[XR]=E),o("config",y.measurementId,S),y.measurementId}class EI{constructor(e){this.app=e}_delete(){return delete lo[this.app.options.appId],Promise.resolve()}}let lo={},Z0=[];const W0={};let vm="dataLayer",wI="gtag",ev,op,tv=!1;function SI(){const s=[];if(kb()&&s.push("This is a browser extension environment."),HA()||s.push("Cookies are not available."),s.length>0){const e=s.map((r,o)=>`(${o+1}) ${r}`).join(" "),n=In.create("invalid-analytics-context",{errorInfo:e});an.warn(n.message)}}function AI(s,e,n){SI();const r=s.options.appId;if(!r)throw In.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)an.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw In.create("no-api-key");if(lo[r]!=null)throw In.create("already-exists",{id:r});if(!tv){iI(vm);const{wrappedGtag:c,gtagCore:f}=oI(lo,Z0,W0,vm,wI);op=c,ev=f,tv=!0}return lo[r]=TI(s,Z0,W0,e,ev,vm,n),new EI(s)}function xI(s=tp()){s=ht(s);const e=ca(s,mh);return e.isInitialized()?e.getImmediate():RI(s)}function RI(s,e={}){const n=ca(s,mh);if(n.isInitialized()){const o=n.getImmediate();if(hs(e,n.getOptions()))return o;throw In.create("already-initialized")}return n.initialize({options:e})}function II(s,e,n){s=ht(s),vI(op,lo[s.app.options.appId],e,n).catch(r=>an.error(r))}function CI(s,e,n,r){s=ht(s),_I(op,lo[s.app.options.appId],e,n,r).catch(o=>an.error(o))}const nv="@firebase/analytics",iv="0.10.19";function NI(){qi(new li(mh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return AI(r,o,n)},"PUBLIC")),qi(new li("analytics-internal",s,"PRIVATE")),Gn(nv,iv),Gn(nv,iv,"esm2020");function s(e){try{const n=e.getProvider(mh).getImmediate();return{logEvent:(r,o,c)=>CI(n,r,o,c),setUserProperties:(r,o)=>II(n,r,o)}}catch(n){throw In.create("interop-component-reg-failed",{reason:n})}}}NI();var sv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var lr,hT;(function(){var s;function e(I,x){function C(){}C.prototype=x.prototype,I.F=x.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(k,N,O){for(var A=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)A[xe-2]=arguments[xe];return x.prototype[N].apply(k,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,x,C){C||(C=0);const k=Array(16);if(typeof x=="string")for(var N=0;N<16;++N)k[N]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(N=0;N<16;++N)k[N]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=I.g[0],C=I.g[1],N=I.g[2];let O=I.g[3],A;A=x+(O^C&(N^O))+k[0]+3614090360&4294967295,x=C+(A<<7&4294967295|A>>>25),A=O+(N^x&(C^N))+k[1]+3905402710&4294967295,O=x+(A<<12&4294967295|A>>>20),A=N+(C^O&(x^C))+k[2]+606105819&4294967295,N=O+(A<<17&4294967295|A>>>15),A=C+(x^N&(O^x))+k[3]+3250441966&4294967295,C=N+(A<<22&4294967295|A>>>10),A=x+(O^C&(N^O))+k[4]+4118548399&4294967295,x=C+(A<<7&4294967295|A>>>25),A=O+(N^x&(C^N))+k[5]+1200080426&4294967295,O=x+(A<<12&4294967295|A>>>20),A=N+(C^O&(x^C))+k[6]+2821735955&4294967295,N=O+(A<<17&4294967295|A>>>15),A=C+(x^N&(O^x))+k[7]+4249261313&4294967295,C=N+(A<<22&4294967295|A>>>10),A=x+(O^C&(N^O))+k[8]+1770035416&4294967295,x=C+(A<<7&4294967295|A>>>25),A=O+(N^x&(C^N))+k[9]+2336552879&4294967295,O=x+(A<<12&4294967295|A>>>20),A=N+(C^O&(x^C))+k[10]+4294925233&4294967295,N=O+(A<<17&4294967295|A>>>15),A=C+(x^N&(O^x))+k[11]+2304563134&4294967295,C=N+(A<<22&4294967295|A>>>10),A=x+(O^C&(N^O))+k[12]+1804603682&4294967295,x=C+(A<<7&4294967295|A>>>25),A=O+(N^x&(C^N))+k[13]+4254626195&4294967295,O=x+(A<<12&4294967295|A>>>20),A=N+(C^O&(x^C))+k[14]+2792965006&4294967295,N=O+(A<<17&4294967295|A>>>15),A=C+(x^N&(O^x))+k[15]+1236535329&4294967295,C=N+(A<<22&4294967295|A>>>10),A=x+(N^O&(C^N))+k[1]+4129170786&4294967295,x=C+(A<<5&4294967295|A>>>27),A=O+(C^N&(x^C))+k[6]+3225465664&4294967295,O=x+(A<<9&4294967295|A>>>23),A=N+(x^C&(O^x))+k[11]+643717713&4294967295,N=O+(A<<14&4294967295|A>>>18),A=C+(O^x&(N^O))+k[0]+3921069994&4294967295,C=N+(A<<20&4294967295|A>>>12),A=x+(N^O&(C^N))+k[5]+3593408605&4294967295,x=C+(A<<5&4294967295|A>>>27),A=O+(C^N&(x^C))+k[10]+38016083&4294967295,O=x+(A<<9&4294967295|A>>>23),A=N+(x^C&(O^x))+k[15]+3634488961&4294967295,N=O+(A<<14&4294967295|A>>>18),A=C+(O^x&(N^O))+k[4]+3889429448&4294967295,C=N+(A<<20&4294967295|A>>>12),A=x+(N^O&(C^N))+k[9]+568446438&4294967295,x=C+(A<<5&4294967295|A>>>27),A=O+(C^N&(x^C))+k[14]+3275163606&4294967295,O=x+(A<<9&4294967295|A>>>23),A=N+(x^C&(O^x))+k[3]+4107603335&4294967295,N=O+(A<<14&4294967295|A>>>18),A=C+(O^x&(N^O))+k[8]+1163531501&4294967295,C=N+(A<<20&4294967295|A>>>12),A=x+(N^O&(C^N))+k[13]+2850285829&4294967295,x=C+(A<<5&4294967295|A>>>27),A=O+(C^N&(x^C))+k[2]+4243563512&4294967295,O=x+(A<<9&4294967295|A>>>23),A=N+(x^C&(O^x))+k[7]+1735328473&4294967295,N=O+(A<<14&4294967295|A>>>18),A=C+(O^x&(N^O))+k[12]+2368359562&4294967295,C=N+(A<<20&4294967295|A>>>12),A=x+(C^N^O)+k[5]+4294588738&4294967295,x=C+(A<<4&4294967295|A>>>28),A=O+(x^C^N)+k[8]+2272392833&4294967295,O=x+(A<<11&4294967295|A>>>21),A=N+(O^x^C)+k[11]+1839030562&4294967295,N=O+(A<<16&4294967295|A>>>16),A=C+(N^O^x)+k[14]+4259657740&4294967295,C=N+(A<<23&4294967295|A>>>9),A=x+(C^N^O)+k[1]+2763975236&4294967295,x=C+(A<<4&4294967295|A>>>28),A=O+(x^C^N)+k[4]+1272893353&4294967295,O=x+(A<<11&4294967295|A>>>21),A=N+(O^x^C)+k[7]+4139469664&4294967295,N=O+(A<<16&4294967295|A>>>16),A=C+(N^O^x)+k[10]+3200236656&4294967295,C=N+(A<<23&4294967295|A>>>9),A=x+(C^N^O)+k[13]+681279174&4294967295,x=C+(A<<4&4294967295|A>>>28),A=O+(x^C^N)+k[0]+3936430074&4294967295,O=x+(A<<11&4294967295|A>>>21),A=N+(O^x^C)+k[3]+3572445317&4294967295,N=O+(A<<16&4294967295|A>>>16),A=C+(N^O^x)+k[6]+76029189&4294967295,C=N+(A<<23&4294967295|A>>>9),A=x+(C^N^O)+k[9]+3654602809&4294967295,x=C+(A<<4&4294967295|A>>>28),A=O+(x^C^N)+k[12]+3873151461&4294967295,O=x+(A<<11&4294967295|A>>>21),A=N+(O^x^C)+k[15]+530742520&4294967295,N=O+(A<<16&4294967295|A>>>16),A=C+(N^O^x)+k[2]+3299628645&4294967295,C=N+(A<<23&4294967295|A>>>9),A=x+(N^(C|~O))+k[0]+4096336452&4294967295,x=C+(A<<6&4294967295|A>>>26),A=O+(C^(x|~N))+k[7]+1126891415&4294967295,O=x+(A<<10&4294967295|A>>>22),A=N+(x^(O|~C))+k[14]+2878612391&4294967295,N=O+(A<<15&4294967295|A>>>17),A=C+(O^(N|~x))+k[5]+4237533241&4294967295,C=N+(A<<21&4294967295|A>>>11),A=x+(N^(C|~O))+k[12]+1700485571&4294967295,x=C+(A<<6&4294967295|A>>>26),A=O+(C^(x|~N))+k[3]+2399980690&4294967295,O=x+(A<<10&4294967295|A>>>22),A=N+(x^(O|~C))+k[10]+4293915773&4294967295,N=O+(A<<15&4294967295|A>>>17),A=C+(O^(N|~x))+k[1]+2240044497&4294967295,C=N+(A<<21&4294967295|A>>>11),A=x+(N^(C|~O))+k[8]+1873313359&4294967295,x=C+(A<<6&4294967295|A>>>26),A=O+(C^(x|~N))+k[15]+4264355552&4294967295,O=x+(A<<10&4294967295|A>>>22),A=N+(x^(O|~C))+k[6]+2734768916&4294967295,N=O+(A<<15&4294967295|A>>>17),A=C+(O^(N|~x))+k[13]+1309151649&4294967295,C=N+(A<<21&4294967295|A>>>11),A=x+(N^(C|~O))+k[4]+4149444226&4294967295,x=C+(A<<6&4294967295|A>>>26),A=O+(C^(x|~N))+k[11]+3174756917&4294967295,O=x+(A<<10&4294967295|A>>>22),A=N+(x^(O|~C))+k[2]+718787259&4294967295,N=O+(A<<15&4294967295|A>>>17),A=C+(O^(N|~x))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+x&4294967295,I.g[1]=I.g[1]+(N+(A<<21&4294967295|A>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+O&4294967295}r.prototype.v=function(I,x){x===void 0&&(x=I.length);const C=x-this.blockSize,k=this.C;let N=this.h,O=0;for(;O<x;){if(N==0)for(;O<=C;)o(this,I,O),O+=this.blockSize;if(typeof I=="string"){for(;O<x;)if(k[N++]=I.charCodeAt(O++),N==this.blockSize){o(this,k),N=0;break}}else for(;O<x;)if(k[N++]=I[O++],N==this.blockSize){o(this,k),N=0;break}}this.h=N,this.o+=x},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var x=1;x<I.length-8;++x)I[x]=0;x=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=x&255,x/=256;for(this.v(I),I=Array(16),x=0,C=0;C<4;++C)for(let k=0;k<32;k+=8)I[x++]=this.g[C]>>>k&255;return I};function c(I,x){var C=m;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=x(I)}function f(I,x){this.h=x;const C=[];let k=!0;for(let N=I.length-1;N>=0;N--){const O=I[N]|0;k&&O==x||(C[N]=O,k=!1)}this.g=C}var m={};function g(I){return-128<=I&&I<128?c(I,function(x){return new f([x|0],x<0?-1:0)}):new f([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return te(y(-I));const x=[];let C=1;for(let k=0;I>=C;k++)x[k]=I/C|0,C*=4294967296;return new f(x,0)}function E(I,x){if(I.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(I.charAt(0)=="-")return te(E(I.substring(1),x));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(x,8));let k=S;for(let O=0;O<I.length;O+=8){var N=Math.min(8,I.length-O);const A=parseInt(I.substring(O,O+N),x);N<8?(N=y(Math.pow(x,N)),k=k.j(N).add(y(A))):(k=k.j(C),k=k.add(y(A)))}return k}var S=g(0),R=g(1),B=g(16777216);s=f.prototype,s.m=function(){if(W(this))return-te(this).m();let I=0,x=1;for(let C=0;C<this.g.length;C++){const k=this.i(C);I+=(k>=0?k:4294967296+k)*x,x*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if($(this))return"0";if(W(this))return"-"+te(this).toString(I);const x=y(Math.pow(I,6));var C=this;let k="";for(;;){const N=Ie(C,x).g;C=se(C,N.j(x));let O=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=N,$(C))return O+k;for(;O.length<6;)O="0"+O;k=O+k}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function $(I){if(I.h!=0)return!1;for(let x=0;x<I.g.length;x++)if(I.g[x]!=0)return!1;return!0}function W(I){return I.h==-1}s.l=function(I){return I=se(this,I),W(I)?-1:$(I)?0:1};function te(I){const x=I.g.length,C=[];for(let k=0;k<x;k++)C[k]=~I.g[k];return new f(C,~I.h).add(R)}s.abs=function(){return W(this)?te(this):this},s.add=function(I){const x=Math.max(this.g.length,I.g.length),C=[];let k=0;for(let N=0;N<=x;N++){let O=k+(this.i(N)&65535)+(I.i(N)&65535),A=(O>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);k=A>>>16,O&=65535,A&=65535,C[N]=A<<16|O}return new f(C,C[C.length-1]&-2147483648?-1:0)};function se(I,x){return I.add(te(x))}s.j=function(I){if($(this)||$(I))return S;if(W(this))return W(I)?te(this).j(te(I)):te(te(this).j(I));if(W(I))return te(this.j(te(I)));if(this.l(B)<0&&I.l(B)<0)return y(this.m()*I.m());const x=this.g.length+I.g.length,C=[];for(var k=0;k<2*x;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(let N=0;N<I.g.length;N++){const O=this.i(k)>>>16,A=this.i(k)&65535,xe=I.i(N)>>>16,Te=I.i(N)&65535;C[2*k+2*N]+=A*Te,ue(C,2*k+2*N),C[2*k+2*N+1]+=O*Te,ue(C,2*k+2*N+1),C[2*k+2*N+1]+=A*xe,ue(C,2*k+2*N+1),C[2*k+2*N+2]+=O*xe,ue(C,2*k+2*N+2)}for(I=0;I<x;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=x;I<2*x;I++)C[I]=0;return new f(C,0)};function ue(I,x){for(;(I[x]&65535)!=I[x];)I[x+1]+=I[x]>>>16,I[x]&=65535,x++}function le(I,x){this.g=I,this.h=x}function Ie(I,x){if($(x))throw Error("division by zero");if($(I))return new le(S,S);if(W(I))return x=Ie(te(I),x),new le(te(x.g),te(x.h));if(W(x))return x=Ie(I,te(x)),new le(te(x.g),x.h);if(I.g.length>30){if(W(I)||W(x))throw Error("slowDivide_ only works with positive integers.");for(var C=R,k=x;k.l(I)<=0;)C=Me(C),k=Me(k);var N=we(C,1),O=we(k,1);for(k=we(k,2),C=we(C,2);!$(k);){var A=O.add(k);A.l(I)<=0&&(N=N.add(C),O=A),k=we(k,1),C=we(C,1)}return x=se(I,N.j(x)),new le(N,x)}for(N=S;I.l(x)>=0;){for(C=Math.max(1,Math.floor(I.m()/x.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),O=y(C),A=O.j(x);W(A)||A.l(I)>0;)C-=k,O=y(C),A=O.j(x);$(O)&&(O=R),N=N.add(O),I=se(I,A)}return new le(N,I)}s.B=function(I){return Ie(this,I).h},s.and=function(I){const x=Math.max(this.g.length,I.g.length),C=[];for(let k=0;k<x;k++)C[k]=this.i(k)&I.i(k);return new f(C,this.h&I.h)},s.or=function(I){const x=Math.max(this.g.length,I.g.length),C=[];for(let k=0;k<x;k++)C[k]=this.i(k)|I.i(k);return new f(C,this.h|I.h)},s.xor=function(I){const x=Math.max(this.g.length,I.g.length),C=[];for(let k=0;k<x;k++)C[k]=this.i(k)^I.i(k);return new f(C,this.h^I.h)};function Me(I){const x=I.g.length+1,C=[];for(let k=0;k<x;k++)C[k]=I.i(k)<<1|I.i(k-1)>>>31;return new f(C,I.h)}function we(I,x){const C=x>>5;x%=32;const k=I.g.length-C,N=[];for(let O=0;O<k;O++)N[O]=x>0?I.i(O+C)>>>x|I.i(O+C+1)<<32-x:I.i(O+C);return new f(N,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,hT=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,lr=f}).apply(typeof sv<"u"?sv:typeof self<"u"?self:typeof window<"u"?window:{});var Yu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var fT,zl,dT,eh,Vm,mT,pT,gT;(function(){var s,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yu=="object"&&Yu];for(var p=0;p<u.length;++p){var v=u[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function o(u,p){if(p)e:{var v=r;u=u.split(".");for(var w=0;w<u.length-1;w++){var L=u[w];if(!(L in v))break e;v=v[L]}u=u[u.length-1],w=v[u],p=p(w),p!=w&&p!=null&&e(v,u,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(p){var v=[],w;for(w in p)Object.prototype.hasOwnProperty.call(p,w)&&v.push([w,p[w]]);return v}});var c=c||{},f=this||self;function m(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function g(u,p,v){return u.call.apply(u.bind,arguments)}function y(u,p,v){return y=g,y.apply(null,arguments)}function E(u,p){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function S(u,p){function v(){}v.prototype=p.prototype,u.Z=p.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(w,L,F){for(var re=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)re[Ne-2]=arguments[Ne];return p.prototype[L].apply(w,re)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function B(u){const p=u.length;if(p>0){const v=Array(p);for(let w=0;w<p;w++)v[w]=u[w];return v}return[]}function $(u,p){for(let w=1;w<arguments.length;w++){const L=arguments[w];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const F=L.length||0;u.length=v+F;for(let re=0;re<F;re++)u[v+re]=L[re]}else u.push(L)}}class W{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function te(u){f.setTimeout(()=>{throw u},0)}function se(){var u=I;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class ue{constructor(){this.h=this.g=null}add(p,v){const w=le.get();w.set(p,v),this.h?this.h.next=w:this.g=w,this.h=w}}var le=new W(()=>new Ie,u=>u.reset());class Ie{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Me,we=!1,I=new ue,x=()=>{const u=Promise.resolve(void 0);Me=()=>{u.then(C)}};function C(){for(var u;u=se();){try{u.h.call(u.g)}catch(v){te(v)}var p=le;p.j(u),p.h<100&&(p.h++,u.next=p.g,p.g=u)}we=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};f.addEventListener("test",v,p),f.removeEventListener("test",v,p)}catch{}return u})();function A(u){return/^[\s\xa0]*$/.test(u)}function xe(u,p){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,p)}S(xe,N),xe.prototype.init=function(u,p){const v=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget,p||(v=="mouseover"?p=u.fromElement:v=="mouseout"&&(p=u.toElement)),this.relatedTarget=p,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&xe.Z.h.call(this)},xe.prototype.h=function(){xe.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Te="closure_listenable_"+(Math.random()*1e6|0),H=0;function ee(u,p,v,w,L){this.listener=u,this.proxy=null,this.src=p,this.type=v,this.capture=!!w,this.ha=L,this.key=++H,this.da=this.fa=!1}function he(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ce(u,p,v){for(const w in u)p.call(v,u[w],w,u)}function pe(u,p){for(const v in u)p.call(void 0,u[v],v,u)}function D(u){const p={};for(const v in u)p[v]=u[v];return p}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Q(u,p){let v,w;for(let L=1;L<arguments.length;L++){w=arguments[L];for(v in w)u[v]=w[v];for(let F=0;F<j.length;F++)v=j[F],Object.prototype.hasOwnProperty.call(w,v)&&(u[v]=w[v])}}function ne(u){this.src=u,this.g={},this.h=0}ne.prototype.add=function(u,p,v,w,L){const F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);const re=oe(u,p,w,L);return re>-1?(p=u[re],v||(p.fa=!1)):(p=new ee(p,this.src,F,!!w,L),p.fa=v,u.push(p)),p};function de(u,p){const v=p.type;if(v in u.g){var w=u.g[v],L=Array.prototype.indexOf.call(w,p,void 0),F;(F=L>=0)&&Array.prototype.splice.call(w,L,1),F&&(he(p),u.g[v].length==0&&(delete u.g[v],u.h--))}}function oe(u,p,v,w){for(let L=0;L<u.length;++L){const F=u[L];if(!F.da&&F.listener==p&&F.capture==!!v&&F.ha==w)return L}return-1}var Ee="closure_lm_"+(Math.random()*1e6|0),qe={};function Ze(u,p,v,w,L){if(Array.isArray(p)){for(let F=0;F<p.length;F++)Ze(u,p[F],v,w,L);return null}return v=ko(v),u&&u[Te]?u.J(p,v,m(w)?!!w.capture:!1,L):on(u,p,v,!1,w,L)}function on(u,p,v,w,L,F){if(!p)throw Error("Invalid event type");const re=m(L)?!!L.capture:!!L;let Ne=Er(u);if(Ne||(u[Ee]=Ne=new ne(u)),v=Ne.add(p,v,w,re,F),v.proxy)return v;if(w=_s(),v.proxy=w,w.src=u,w.listener=v,u.addEventListener)O||(L=re),L===void 0&&(L=!1),u.addEventListener(p.toString(),w,L);else if(u.attachEvent)u.attachEvent(fi(p.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function _s(){function u(v){return p.call(u.src,u.listener,v)}const p=Mo;return u}function vs(u,p,v,w,L){if(Array.isArray(p))for(var F=0;F<p.length;F++)vs(u,p[F],v,w,L);else w=m(w)?!!w.capture:!!w,v=ko(v),u&&u[Te]?(u=u.i,F=String(p).toString(),F in u.g&&(p=u.g[F],v=oe(p,v,w,L),v>-1&&(he(p[v]),Array.prototype.splice.call(p,v,1),p.length==0&&(delete u.g[F],u.h--)))):u&&(u=Er(u))&&(p=u.g[p.toString()],u=-1,p&&(u=oe(p,v,w,L)),(v=u>-1?p[u]:null)&&bs(v))}function bs(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Te])de(p.i,u);else{var v=u.type,w=u.proxy;p.removeEventListener?p.removeEventListener(v,w,u.capture):p.detachEvent?p.detachEvent(fi(v),w):p.addListener&&p.removeListener&&p.removeListener(w),(v=Er(p))?(de(v,u),v.h==0&&(v.src=null,p[Ee]=null)):he(u)}}}function fi(u){return u in qe?qe[u]:qe[u]="on"+u}function Mo(u,p){if(u.da)u=!0;else{p=new xe(p,this);const v=u.listener,w=u.ha||u.src;u.fa&&bs(u),u=v.call(w,p)}return u}function Er(u){return u=u[Ee],u instanceof ne?u:null}var Vo="__closure_events_fn_"+(Math.random()*1e9>>>0);function ko(u){return typeof u=="function"?u:(u[Vo]||(u[Vo]=function(p){return u.handleEvent(p)}),u[Vo])}function bt(){k.call(this),this.i=new ne(this),this.M=this,this.G=null}S(bt,k),bt.prototype[Te]=!0,bt.prototype.removeEventListener=function(u,p,v,w){vs(this,u,p,v,w)};function Ot(u,p){var v,w=u.G;if(w)for(v=[];w;w=w.G)v.push(w);if(u=u.M,w=p.type||p,typeof p=="string")p=new N(p,u);else if(p instanceof N)p.target=p.target||u;else{var L=p;p=new N(w,u),Q(p,L)}L=!0;let F,re;if(v)for(re=v.length-1;re>=0;re--)F=p.g=v[re],L=Ts(F,w,!0,p)&&L;if(F=p.g=u,L=Ts(F,w,!0,p)&&L,L=Ts(F,w,!1,p)&&L,v)for(re=0;re<v.length;re++)F=p.g=v[re],L=Ts(F,w,!1,p)&&L}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var u=this.i;for(const p in u.g){const v=u.g[p];for(let w=0;w<v.length;w++)he(v[w]);delete u.g[p],u.h--}}this.G=null},bt.prototype.J=function(u,p,v,w){return this.i.add(String(u),p,!1,v,w)},bt.prototype.K=function(u,p,v,w){return this.i.add(String(u),p,!0,v,w)};function Ts(u,p,v,w){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();let L=!0;for(let F=0;F<p.length;++F){const re=p[F];if(re&&!re.da&&re.capture==v){const Ne=re.listener,gt=re.ha||re.src;re.fa&&de(u.i,re),L=Ne.call(gt,w)!==!1&&L}}return L&&!w.defaultPrevented}function lf(u,p){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(u,p||0)}function _c(u){u.g=lf(()=>{u.g=null,u.i&&(u.i=!1,_c(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class en extends k{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:_c(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wr(u){k.call(this),this.h=u,this.g={}}S(wr,k);var jo=[];function Uo(u){Ce(u.g,function(p,v){this.g.hasOwnProperty(v)&&bs(p)},u),u.g={}}wr.prototype.N=function(){wr.Z.N.call(this),Uo(this)},wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Es=f.JSON.stringify,cf=f.JSON.parse,vc=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function bc(){}function Tc(){}var Qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){N.call(this,"d")}S(zt,N);function On(){N.call(this,"c")}S(On,N);var pt={},Ec=null;function da(){return Ec=Ec||new bt}pt.Ia="serverreachability";function wc(u){N.call(this,pt.Ia,u)}S(wc,N);function di(u){const p=da();Ot(p,new wc(p))}pt.STAT_EVENT="statevent";function Sr(u,p){N.call(this,pt.STAT_EVENT,u),this.stat=p}S(Sr,N);function Tt(u){const p=da();Ot(p,new Sr(p,u))}pt.Ja="timingevent";function mi(u,p){N.call(this,pt.Ja,u),this.size=p}S(mi,N);function pi(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},p)}function Yn(){this.g=!0}Yn.prototype.ua=function(){this.g=!1};function uf(u,p,v,w,L,F){u.info(function(){if(u.g)if(F){var re="",Ne=F.split("&");for(let Ye=0;Ye<Ne.length;Ye++){var gt=Ne[Ye].split("=");if(gt.length>1){const lt=gt[0];gt=gt[1];const jn=lt.split("_");re=jn.length>=2&&jn[1]=="type"?re+(lt+"="+gt+"&"):re+(lt+"=redacted&")}}}else re=null;else re=F;return"XMLHTTP REQ ("+w+") [attempt "+L+"]: "+p+`
`+v+`
`+re})}function Sc(u,p,v,w,L,F,re){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+L+"]: "+p+`
`+v+`
`+F+" "+re})}function gi(u,p,v,w){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+hf(u,v)+(w?" "+w:"")})}function Ar(u,p){u.info(function(){return"TIMEOUT: "+p})}Yn.prototype.info=function(){};function hf(u,p){if(!u.g)return p;if(!p)return null;try{const F=JSON.parse(p);if(F){for(u=0;u<F.length;u++)if(Array.isArray(F[u])){var v=F[u];if(!(v.length<2)){var w=v[1];if(Array.isArray(w)&&!(w.length<1)){var L=w[0];if(L!="noop"&&L!="stop"&&L!="close")for(let re=1;re<w.length;re++)w[re]=""}}}}return Es(F)}catch{return p}}var xr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Lo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Po;function Rr(){}S(Rr,bc),Rr.prototype.g=function(){return new XMLHttpRequest},Po=new Rr;function Fi(u){return encodeURIComponent(String(u))}function Ac(u){var p=1;u=u.split(":");const v=[];for(;p>0&&u.length;)v.push(u.shift()),p--;return u.length&&v.push(u.join(":")),v}function Kn(u,p,v,w){this.j=u,this.i=p,this.l=v,this.S=w||1,this.V=new wr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xn}function Xn(){this.i=null,this.g="",this.h=!1}var Et={},kt={};function yi(u,p,v){u.M=1,u.A=Ir(St(p)),u.u=v,u.R=!0,ma(u,null)}function ma(u,p){u.F=Date.now(),_i(u),u.B=St(u.A);var v=u.B,w=u.S;Array.isArray(w)||(w=[String(w)]),_a(v.i,"t",w),u.C=0,v=u.j.L,u.h=new Xn,u.g=zc(u.j,v?p:null,!u.u),u.P>0&&(u.O=new en(y(u.Y,u,u.g),u.P)),p=u.V,v=u.g,w=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(jo[0]=L.toString()),L=jo);for(let F=0;F<L.length;F++){const re=Ze(v,L[F],w||p.handleEvent,!1,p.h||p);if(!re)break;p.g[re.key]=re}p=u.J?D(u.J):{},u.u?(u.v||(u.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,p)):(u.v="GET",u.g.ea(u.B,u.v,null,p)),di(),uf(u.i,u.v,u.B,u.l,u.S,u.u)}Kn.prototype.ba=function(u){u=u.target;const p=this.O;p&&Zn(u)==3?p.j():this.Y(u)},Kn.prototype.Y=function(u){try{if(u==this.g)e:{const Ne=Zn(this.g),gt=this.g.ya(),Ye=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||Ne!=4||gt==7||(gt==8||Ye<=0?di(3):di(2)),vi(this);var p=this.g.ca();this.X=p;var v=ff(this);if(this.o=p==200,Sc(this.i,this.v,this.B,this.l,this.S,Ne,p),this.o){if(this.U&&!this.L){t:{if(this.g){var w,L=this.g;if((w=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(w)){var F=w;break t}}F=null}if(u=F)gi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,bi(this,u);else{this.o=!1,this.m=3,Tt(12),yn(this),Mn(this);break e}}if(this.R){u=!0;let lt;for(;!this.K&&this.C<v.length;)if(lt=Rc(this,v),lt==kt){Ne==4&&(this.m=4,Tt(14),u=!1),gi(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==Et){this.m=4,Tt(15),gi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else gi(this.i,this.l,lt,null),bi(this,lt);if(xc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||v.length!=0||this.h.h||(this.m=1,Tt(16),u=!1),this.o=this.o&&u,!u)gi(this.i,this.l,v,"[Invalid Chunked Response]"),yn(this),Mn(this);else if(v.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),el(re),re.P=!0,Tt(11))}}else gi(this.i,this.l,v,null),bi(this,v);Ne==4&&yn(this),this.o&&!this.K&&(Ne==4?jc(this.j,this):(this.o=!1,_i(this)))}else Qi(this.g),p==400&&v.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),yn(this),Mn(this)}}}catch{}};function ff(u){if(!xc(u))return u.g.la();const p=Bt(u.g);if(p==="")return"";let v="";const w=p.length,L=Zn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return yn(u),Mn(u),"";u.h.i=new f.TextDecoder}for(let F=0;F<w;F++)u.h.h=!0,v+=u.h.i.decode(p[F],{stream:!(L&&F==w-1)});return p.length=0,u.h.g+=v,u.C=0,u.h.g}function xc(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Rc(u,p){var v=u.C,w=p.indexOf(`
`,v);return w==-1?kt:(v=Number(p.substring(v,w)),isNaN(v)?Et:(w+=1,w+v>p.length?kt:(p=p.slice(w,w+v),u.C=w+v,p)))}Kn.prototype.cancel=function(){this.K=!0,yn(this)};function _i(u){u.T=Date.now()+u.H,pa(u,u.H)}function pa(u,p){if(u.D!=null)throw Error("WatchDog timer not null");u.D=pi(y(u.aa,u),p)}function vi(u){u.D&&(f.clearTimeout(u.D),u.D=null)}Kn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ar(this.i,this.B),this.M!=2&&(di(),Tt(17)),yn(this),this.m=2,Mn(this)):pa(this,this.T-u)};function Mn(u){u.j.I==0||u.K||jc(u.j,u)}function yn(u){vi(u);var p=u.O;p&&typeof p.dispose=="function"&&p.dispose(),u.O=null,Uo(u.V),u.g&&(p=u.g,u.g=null,p.abort(),p.dispose())}function bi(u,p){try{var v=u.j;if(v.I!=0&&(v.g==u||Ei(v.h,u))){if(!u.L&&Ei(v.h,u)&&v.I==3){try{var w=v.Ba.g.parse(p)}catch{w=null}if(Array.isArray(w)&&w.length==3){var L=w;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)wa(v),Ns(v);else break e;kr(v),Tt(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=pi(y(v.Va,v),6e3));Ti(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ii(v,11)}else if((u.L||v.g==u)&&wa(v),!A(p))for(L=v.Ba.g.parse(p),p=0;p<L.length;p++){let Ye=L[p];const lt=Ye[0];if(!(lt<=v.K))if(v.K=lt,Ye=Ye[1],v.I==2)if(Ye[0]=="c"){v.M=Ye[1],v.ba=Ye[2];const jn=Ye[3];jn!=null&&(v.ka=jn,v.j.info("VER="+v.ka));const Ci=Ye[4];Ci!=null&&(v.za=Ci,v.j.info("SVER="+v.za));const Wn=Ye[5];Wn!=null&&typeof Wn=="number"&&Wn>0&&(w=1.5*Wn,v.O=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const ei=u.g;if(ei){const jr=ei.g?ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jr){var F=w.h;F.g||jr.indexOf("spdy")==-1&&jr.indexOf("quic")==-1&&jr.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(qo(F,F.h),F.h=null))}if(w.G){const Sa=ei.g?ei.g.getResponseHeader("X-HTTP-Session-Id"):null;Sa&&(w.wa=Sa,Xe(w.J,w.G,Sa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),w=v;var re=u;if(w.na=Pc(w,w.L?w.ba:null,w.W),re.L){Ho(w.h,re);var Ne=re,gt=w.O;gt&&(Ne.H=gt),Ne.D&&(vi(Ne),_i(Ne)),w.g=re}else Vc(w);v.i.length>0&&Ri(v)}else Ye[0]!="stop"&&Ye[0]!="close"||Ii(v,7);else v.I==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?Ii(v,7):Zo(v):Ye[0]!="noop"&&v.l&&v.l.qa(Ye),v.A=0)}}di(4)}catch{}}var wt=class{constructor(u,p){this.g=u,this.map=p}};function zo(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Bo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ti(u){return u.h?1:u.g?u.g.size:0}function Ei(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function qo(u,p){u.g?u.g.add(p):u.h=p}function Ho(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}zo.prototype.cancel=function(){if(this.i=Fo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Fo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const v of u.g.values())p=p.concat(v.G);return p}return B(u.i)}var Ic=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ga(u,p){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const w=u[v].indexOf("=");let L,F=null;w>=0?(L=u[v].substring(0,w),F=u[v].substring(w+1)):L=u[v],p(L,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function _n(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;u instanceof _n?(this.l=u.l,jt(this,u.j),this.o=u.o,this.g=u.g,ws(this,u.u),this.h=u.h,Go(this,Oc(u.i)),this.m=u.m):u&&(p=String(u).match(Ic))?(this.l=!1,jt(this,p[1]||"",!0),this.o=wi(p[2]||""),this.g=wi(p[3]||"",!0),ws(this,p[4]),this.h=wi(p[5]||"",!0),Go(this,p[6]||"",!0),this.m=wi(p[7]||"")):(this.l=!1,this.i=new As(null,this.l))}_n.prototype.toString=function(){const u=[];var p=this.j;p&&u.push(Cr(p,ya,!0),":");var v=this.g;return(v||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Cr(p,ya,!0),"@"),u.push(Fi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Cr(v,v.charAt(0)=="/"?Qo:Cc,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Cr(v,Nc)),u.join("")},_n.prototype.resolve=function(u){const p=St(this);let v=!!u.j;v?jt(p,u.j):v=!!u.o,v?p.o=u.o:v=!!u.g,v?p.g=u.g:v=u.u!=null;var w=u.h;if(v)ws(p,u.u);else if(v=!!u.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var L=p.h.lastIndexOf("/");L!=-1&&(w=p.h.slice(0,L+1)+w)}if(L=w,L==".."||L==".")w="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){w=L.lastIndexOf("/",0)==0,L=L.split("/");const F=[];for(let re=0;re<L.length;){const Ne=L[re++];Ne=="."?w&&re==L.length&&F.push(""):Ne==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),w&&re==L.length&&F.push("")):(F.push(Ne),w=!0)}w=F.join("/")}else w=L}return v?p.h=w:v=u.i.toString()!=="",v?Go(p,Oc(u.i)):v=!!u.m,v&&(p.m=u.m),p};function St(u){return new _n(u)}function jt(u,p,v){u.j=v?wi(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function ws(u,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);u.u=p}else u.u=null}function Go(u,p,v){p instanceof As?(u.i=p,va(u.i,u.l)):(v||(p=Cr(p,Ss)),u.i=new As(p,u.l))}function Xe(u,p,v){u.i.set(p,v)}function Ir(u){return Xe(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function wi(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Cr(u,p,v){return typeof u=="string"?(u=encodeURI(u).replace(p,ln),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ln(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ya=/[#\/\?@]/g,Cc=/[#\?:]/g,Qo=/[#\?]/g,Ss=/[#\?@]/g,Nc=/#/g;function As(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function cn(u){u.g||(u.g=new Map,u.h=0,u.i&&ga(u.i,function(p,v){u.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}s=As.prototype,s.add=function(u,p){cn(this),this.i=null,u=xs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(p),this.h+=1,this};function Dc(u,p){cn(u),p=xs(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Yo(u,p){return cn(u),p=xs(u,p),u.g.has(p)}s.forEach=function(u,p){cn(this),this.g.forEach(function(v,w){v.forEach(function(L){u.call(p,L,w,this)},this)},this)};function Ko(u,p){cn(u);let v=[];if(typeof p=="string")Yo(u,p)&&(v=v.concat(u.g.get(xs(u,p))));else for(u=Array.from(u.g.values()),p=0;p<u.length;p++)v=v.concat(u[p]);return v}s.set=function(u,p){return cn(this),this.i=null,u=xs(this,u),Yo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},s.get=function(u,p){return u?(u=Ko(this,u),u.length>0?String(u[0]):p):p};function _a(u,p,v){Dc(u,p),v.length>0&&(u.i=null,u.g.set(xs(u,p),B(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(let w=0;w<p.length;w++){var v=p[w];const L=Fi(v);v=Ko(this,v);for(let F=0;F<v.length;F++){let re=L;v[F]!==""&&(re+="="+Fi(v[F])),u.push(re)}}return this.i=u.join("&")};function Oc(u){const p=new As;return p.i=u.i,u.g&&(p.g=new Map(u.g),p.h=u.h),p}function xs(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function va(u,p){p&&!u.j&&(cn(u),u.i=null,u.g.forEach(function(v,w){const L=w.toLowerCase();w!=L&&(Dc(this,w),_a(this,L,v))},u)),u.j=p}function $n(u,p){const v=new Yn;if(f.Image){const w=new Image;w.onload=E(Vn,v,"TestLoadImage: loaded",!0,p,w),w.onerror=E(Vn,v,"TestLoadImage: error",!1,p,w),w.onabort=E(Vn,v,"TestLoadImage: abort",!1,p,w),w.ontimeout=E(Vn,v,"TestLoadImage: timeout",!1,p,w),f.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else p(!1)}function Xo(u,p){const v=new Yn,w=new AbortController,L=setTimeout(()=>{w.abort(),Vn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:w.signal}).then(F=>{clearTimeout(L),F.ok?Vn(v,"TestPingServer: ok",!0,p):Vn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),Vn(v,"TestPingServer: error",!1,p)})}function Vn(u,p,v,w,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),w(v)}catch{}}function Rs(){this.g=new vc}function Si(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Si,bc),Si.prototype.g=function(){return new Nr(this.i,this.h)};function Nr(u,p){bt.call(this),this.H=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Nr,bt),s=Nr.prototype,s.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=p,this.readyState=1,Jn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(p.body=u),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Is(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ba(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ba(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Is(this):Jn(this),this.readyState==3&&ba(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Is(this))},s.Na=function(u){this.g&&(this.response=u,Is(this))},s.ga=function(){this.g&&Is(this)};function Is(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Jn(u)}s.setRequestHeader=function(u,p){this.A.append(u,p)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=p.next();return u.join(`\r
`)};function Jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Nr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function kn(u){let p="";return Ce(u,function(v,w){p+=w,p+=":",p+=v,p+=`\r
`}),p}function Dr(u,p,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=kn(v),typeof u=="string"?v!=null&&Fi(v):Xe(u,p,v))}function We(u){bt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(We,bt);var Ai=/^https?$/i,$o=["POST","PUT"];s=We.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,p,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Po.g(),this.g.onreadystatechange=R(y(this.Ca,this));try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(F){Or(this,F);return}if(u=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var L in w)v.set(L,w[L]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const F of w.keys())v.set(F,w.get(F));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(F=>F.toLowerCase()=="content-type"),L=f.FormData&&u instanceof f.FormData,!(Array.prototype.indexOf.call($o,p,void 0)>=0)||w||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,re]of v)this.g.setRequestHeader(F,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(F){Or(this,F)}};function Or(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.o=5,Jo(u),Gi(u)}function Jo(u){u.A||(u.A=!0,Ot(u,"complete"),Ot(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ot(this,"complete"),Ot(this,"abort"),Gi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gi(this,!0)),We.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Mr(this):this.Xa())},s.Xa=function(){Mr(this)};function Mr(u){if(u.h&&typeof c<"u"){if(u.v&&Zn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ot(u,"readystatechange"),Zn(u)==4){u.h=!1;try{const F=u.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var w;if(w=F===0){let re=String(u.D).match(Ic)[1]||null;!re&&f.self&&f.self.location&&(re=f.self.location.protocol.slice(0,-1)),w=!Ai.test(re?re.toLowerCase():"")}v=w}if(v)Ot(u,"complete"),Ot(u,"success");else{u.o=6;try{var L=Zn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Jo(u)}}finally{Gi(u)}}}}function Gi(u,p){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,p||Ot(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Zn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Zn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),cf(p)}};function Bt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Qi(u){const p={};u=(u.g&&Zn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(A(u[w]))continue;var v=Ac(u[w]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const F=p[L]||[];p[L]=F,F.push(v)}pe(p,function(w){return w.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xi(u,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||p}function Cs(u){this.za=0,this.i=[],this.j=new Yn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xi("baseRetryDelayMs",5e3,u),this.Za=xi("retryDelaySeedMs",1e4,u),this.Ta=xi("forwardChannelMaxRetries",2,u),this.va=xi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new zo(u&&u.concurrentRequestLimit),this.Ba=new Rs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Cs.prototype,s.ka=8,s.I=1,s.connect=function(u,p,v,w){Tt(0),this.W=u,this.H=p||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.J=Pc(this,null,this.W),Ri(this)};function Zo(u){if(Ta(u),u.I==3){var p=u.V++,v=St(u.J);if(Xe(v,"SID",u.M),Xe(v,"RID",p),Xe(v,"TYPE","terminate"),Vr(u,v),p=new Kn(u,u.j,p),p.M=2,p.A=Ir(St(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=p.A,v=!0),v||(p.g=zc(p.j,null),p.g.ea(p.A)),p.F=Date.now(),_i(p)}Lc(u)}function Ns(u){u.g&&(el(u),u.g.cancel(),u.g=null)}function Ta(u){Ns(u),u.v&&(f.clearTimeout(u.v),u.v=null),wa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&f.clearTimeout(u.m),u.m=null)}function Ri(u){if(!Bo(u.h)&&!u.m){u.m=!0;var p=u.Ea;Me||x(),we||(Me(),we=!0),I.add(p,u),u.D=0}}function Ea(u,p){return Ti(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=p.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=pi(y(u.Ea,u,p),Uc(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Kn(this,this.j,u);let F=this.o;if(this.U&&(F?(F=D(F),Q(F,this.U)):F=this.U),this.u!==null||this.R||(L.J=F,F=null),this.S)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(p+=w,p>4096){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=Mc(this,L,p),v=St(this.J),Xe(v,"RID",u),Xe(v,"CVER",22),this.G&&Xe(v,"X-HTTP-Session-Id",this.G),Vr(this,v),F&&(this.R?p="headers="+Fi(kn(F))+"&"+p:this.u&&Dr(v,this.u,F)),qo(this.h,L),this.Ra&&Xe(v,"TYPE","init"),this.S?(Xe(v,"$req",p),Xe(v,"SID","null"),L.U=!0,yi(L,v,null)):yi(L,v,p),this.I=2}}else this.I==3&&(u?Wo(this,u):this.i.length==0||Bo(this.h)||Wo(this))};function Wo(u,p){var v;p?v=p.l:v=u.V++;const w=St(u.J);Xe(w,"SID",u.M),Xe(w,"RID",v),Xe(w,"AID",u.K),Vr(u,w),u.u&&u.o&&Dr(w,u.u,u.o),v=new Kn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),p&&(u.i=p.G.concat(u.i)),p=Mc(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),qo(u.h,v),yi(v,w,p)}function Vr(u,p){u.H&&Ce(u.H,function(v,w){Xe(p,w,v)}),u.l&&Ce({},function(v,w){Xe(p,w,v)})}function Mc(u,p,v){v=Math.min(u.i.length,v);const w=u.l?y(u.l.Ka,u.l,u):null;e:{var L=u.i;let Ne=-1;for(;;){const gt=["count="+v];Ne==-1?v>0?(Ne=L[0].g,gt.push("ofs="+Ne)):Ne=0:gt.push("ofs="+Ne);let Ye=!0;for(let lt=0;lt<v;lt++){var F=L[lt].g;const jn=L[lt].map;if(F-=Ne,F<0)Ne=Math.max(0,L[lt].g-100),Ye=!1;else try{F="req"+F+"_"||"";try{var re=jn instanceof Map?jn:Object.entries(jn);for(const[Ci,Wn]of re){let ei=Wn;m(Wn)&&(ei=Es(Wn)),gt.push(F+Ci+"="+encodeURIComponent(ei))}}catch(Ci){throw gt.push(F+"type="+encodeURIComponent("_badmap")),Ci}}catch{w&&w(jn)}}if(Ye){re=gt.join("&");break e}}re=void 0}return u=u.i.splice(0,v),p.G=u,re}function Vc(u){if(!u.g&&!u.v){u.Y=1;var p=u.Da;Me||x(),we||(Me(),we=!0),I.add(p,u),u.A=0}}function kr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=pi(y(u.Da,u),Uc(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,kc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=pi(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),Ns(this),kc(this))};function el(u){u.B!=null&&(f.clearTimeout(u.B),u.B=null)}function kc(u){u.g=new Kn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var p=St(u.na);Xe(p,"RID","rpc"),Xe(p,"SID",u.M),Xe(p,"AID",u.K),Xe(p,"CI",u.F?"0":"1"),!u.F&&u.ia&&Xe(p,"TO",u.ia),Xe(p,"TYPE","xmlhttp"),Vr(u,p),u.u&&u.o&&Dr(p,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Ir(St(p)),v.u=null,v.R=!0,ma(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Ns(this),kr(this),Tt(19))};function wa(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function jc(u,p){var v=null;if(u.g==p){wa(u),el(u),u.g=null;var w=2}else if(Ei(u.h,p))v=p.G,Ho(u.h,p),w=1;else return;if(u.I!=0){if(p.o)if(w==1){v=p.u?p.u.length:0,p=Date.now()-p.F;var L=u.D;w=da(),Ot(w,new mi(w,v)),Ri(u)}else Vc(u);else if(L=p.m,L==3||L==0&&p.X>0||!(w==1&&Ea(u,p)||w==2&&kr(u)))switch(v&&v.length>0&&(p=u.h,p.i=p.i.concat(v)),L){case 1:Ii(u,5);break;case 4:Ii(u,10);break;case 3:Ii(u,6);break;default:Ii(u,2)}}}function Uc(u,p){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*p}function Ii(u,p){if(u.j.info("Error code "+p),p==2){var v=y(u.bb,u),w=u.Ua;const L=!w;w=new _n(w||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||jt(w,"https"),Ir(w),L?$n(w.toString(),v):Xo(w.toString(),v)}else Tt(2);u.I=0,u.l&&u.l.pa(p),Lc(u),Ta(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function Lc(u){if(u.I=0,u.ja=[],u.l){const p=Fo(u.h);(p.length!=0||u.i.length!=0)&&($(u.ja,p),$(u.ja,u.i),u.h.i.length=0,B(u.i),u.i.length=0),u.l.oa()}}function Pc(u,p,v){var w=v instanceof _n?St(v):new _n(v);if(w.g!="")p&&(w.g=p+"."+w.g),ws(w,w.u);else{var L=f.location;w=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;const F=new _n(null);w&&jt(F,w),p&&(F.g=p),L&&ws(F,L),v&&(F.h=v),w=F}return v=u.G,p=u.wa,v&&p&&Xe(w,v,p),Xe(w,"VER",u.ka),Vr(u,w),w}function zc(u,p,v){if(p&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Aa&&!u.ma?new We(new Si({ab:v})):new We(u.ma),p.Fa(u.L),p}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bc(){}s=Bc.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ds(){}Ds.prototype.g=function(u,p){return new tn(u,p)};function tn(u,p){bt.call(this),this.g=new Cs(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(u?u["X-WebChannel-Client-Profile"]=p.sa:u={"X-WebChannel-Client-Profile":p.sa}),this.g.U=u,(u=p&&p.Qb)&&!A(u)&&(this.g.u=u),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!A(p)&&(this.g.G=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Yi(this)}S(tn,bt),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Zo(this.g)},tn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Es(u),u=v);p.i.push(new wt(p.Ya++,u)),p.I==3&&Ri(p)},tn.prototype.N=function(){this.g.l=null,delete this.j,Zo(this.g),delete this.g,tn.Z.N.call(this)};function qc(u){zt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const v in p){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}S(qc,zt);function Hc(){On.call(this),this.status=1}S(Hc,On);function Yi(u){this.g=u}S(Yi,Bc),Yi.prototype.ra=function(){Ot(this.g,"a")},Yi.prototype.qa=function(u){Ot(this.g,new qc(u))},Yi.prototype.pa=function(u){Ot(this.g,new Hc)},Yi.prototype.oa=function(){Ot(this.g,"b")},Ds.prototype.createWebChannel=Ds.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,gT=function(){return new Ds},pT=function(){return da()},mT=pt,Vm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},xr.NO_ERROR=0,xr.TIMEOUT=8,xr.HTTP_ERROR=6,eh=xr,Lo.COMPLETE="complete",dT=Lo,Tc.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",bt.prototype.listen=bt.prototype.J,zl=Tc,We.prototype.listenOnce=We.prototype.K,We.prototype.getLastError=We.prototype.Ha,We.prototype.getLastErrorCode=We.prototype.ya,We.prototype.getStatus=We.prototype.ca,We.prototype.getResponseJson=We.prototype.La,We.prototype.getResponseText=We.prototype.la,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Fa,fT=We}).apply(typeof Yu<"u"?Yu:typeof self<"u"?self:typeof window<"u"?window:{});class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");let xo="12.8.0";function DI(s){xo=s}const sa=new kh("@firebase/firestore");function to(){return sa.logLevel}function ce(s,...e){if(sa.logLevel<=Le.DEBUG){const n=e.map(lp);sa.debug(`Firestore (${xo}): ${s}`,...n)}}function ds(s,...e){if(sa.logLevel<=Le.ERROR){const n=e.map(lp);sa.error(`Firestore (${xo}): ${s}`,...n)}}function go(s,...e){if(sa.logLevel<=Le.WARN){const n=e.map(lp);sa.warn(`Firestore (${xo}): ${s}`,...n)}}function lp(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function _e(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,yT(s,r,n)}function yT(s,e,n){let r=`FIRESTORE (${xo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ds(r),new Error(r)}function Fe(s,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||yT(e,o,r)}function Ae(s,e){return s}const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends hi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ui{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class _T{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class OI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Zt.UNAUTHENTICATED)))}shutdown(){}}class MI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class VI{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let c=new Ui;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ui,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ui)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Fe(typeof r.accessToken=="string",31837,{l:r}),new _T(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class kI{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class jI{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new kI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class rv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ri(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const r=c=>{c.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new rv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new rv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function LI(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class cp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=LI(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<n&&(r+=e.charAt(o[c]%62))}return r}}function Pe(s,e){return s<e?-1:s>e?1:0}function km(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const o=s.charAt(r),c=e.charAt(r);if(o!==c)return bm(o)===bm(c)?Pe(o,c):bm(o)?1:-1}return Pe(s.length,e.length)}const PI=55296,zI=57343;function bm(s){const e=s.charCodeAt(0);return e>=PI&&e<=zI}function yo(s,e,n){return s.length===e.length&&s.every(((r,o)=>n(r,e[o])))}const av="__name__";class ji{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&_e(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ji.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ji?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const c=ji.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Pe(e.length,n.length)}static compareSegments(e,n){const r=ji.isNumericId(e),o=ji.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?ji.extractNumericId(e).compare(ji.extractNumericId(n)):km(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return lr.fromString(e.substring(4,e.length-2))}}class it extends ji{construct(e,n,r){return new it(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new it(n)}static emptyPath(){return new it([])}}const BI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends ji{construct(e,n,r){return new Yt(e,n,r)}static isValidIdentifier(e){return BI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===av}static keyField(){return new Yt([av])}static fromServerFormat(e){const n=[];let r="",o=0;const c=()=>{if(r.length===0)throw new ae(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ae(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ae(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(r+=m,o++):(c(),o++)}if(c(),f)throw new ae(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(it.fromString(e))}static fromName(e){return new ge(it.fromString(e).popFirst(5))}static empty(){return new ge(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new it(e.slice()))}}function vT(s,e,n){if(!n)throw new ae(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function qI(s,e,n,r){if(e===!0&&r===!0)throw new ae(K.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function ov(s){if(!ge.isDocumentKey(s))throw new ae(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function lv(s){if(ge.isDocumentKey(s))throw new ae(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function bT(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Lh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":_e(12329,{type:typeof s})}function Cn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ae(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lh(s);throw new ae(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function Dt(s,e){const n={typeString:s};return e&&(n.value=e),n}function lc(s,e){if(!bT(s))throw new ae(K.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const f=s[r];if(o&&typeof f!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&f!==c.value){n=`Expected '${r}' field to equal '${c.value}'`;break}}if(n)throw new ae(K.INVALID_ARGUMENT,n);return!0}const cv=-62135596800,uv=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*uv);return new ot(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<cv)throw new ae(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/uv}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(lc(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-cv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:Dt("string",ot._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new ot(0,0))}static max(){return new be(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Zl=-1;function HI(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=be.fromTimestamp(r===1e9?new ot(n+1,0):new ot(n,r));return new fr(o,ge.empty(),e)}function FI(s){return new fr(s.readTime,s.key,Zl)}class fr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new fr(be.min(),ge.empty(),Zl)}static max(){return new fr(be.max(),ge.empty(),Zl)}}function GI(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(s.documentKey,e.documentKey),n!==0?n:Pe(s.largestBatchId,e.largestBatchId))}const QI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ro(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==QI)throw s;ce("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Z.reject(n)}static resolve(e){return new Z(((n,r)=>{n(e)}))}static reject(e){return new Z(((n,r)=>{r(e)}))}static waitFor(e){return new Z(((n,r)=>{let o=0,c=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++c,f&&c===o&&n()}),(g=>r(g)))})),f=!0,c===o&&n()}))}static or(e){let n=Z.resolve(!1);for(const r of e)n=n.next((o=>o?Z.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,c)=>{r.push(n.call(this,o,c))})),this.waitFor(r)}static mapArray(e,n){return new Z(((r,o)=>{const c=e.length,f=new Array(c);let m=0;for(let g=0;g<c;g++){const y=g;n(e[y]).next((E=>{f[y]=E,++m,m===c&&r(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new Z(((r,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):r()};c()}))}}function KI(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Io(s){return s.name==="IndexedDbTransactionError"}class Ph{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ph.ce=-1;const up=-1;function cc(s){return s==null}function ph(s){return s===0&&1/s==-1/0}function XI(s){return typeof s=="number"&&Number.isInteger(s)&&!ph(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const TT="";function $I(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=hv(e)),e=JI(s.get(n),e);return hv(e)}function JI(s,e){let n=e;const r=s.length;for(let o=0;o<r;o++){const c=s.charAt(o);switch(c){case"\0":n+="";break;case TT:n+="";break;default:n+=c}}return n}function hv(s){return s+TT+""}function fv(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function br(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function ET(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class ft{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ku(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ku(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ku(this.root,e,this.comparator,!0)}}class Ku{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?r(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,r,o,c){this.key=e,this.value=n,this.color=r??Qt.RED,this.left=o??Qt.EMPTY,this.right=c??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,c){return new Qt(e??this.key,n??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,r),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,r,o,c){return this}insert(e,n,r){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new dv(this.data.getIterator())}getIteratorFrom(e){return new dv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class dv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Rn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new Vt(Yt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yo(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class wT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new wT("Invalid base64 string: "+c):c}})(e);return new Xt(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c})(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const ZI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dr(s){if(Fe(!!s,39018),typeof s=="string"){let e=0;const n=ZI.exec(s);if(Fe(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vt(s.seconds),nanos:vt(s.nanos)}}function vt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function mr(s){return typeof s=="string"?Xt.fromBase64String(s):Xt.fromUint8Array(s)}const ST="server_timestamp",AT="__type__",xT="__previous_value__",RT="__local_write_time__";function hp(s){return(s?.mapValue?.fields||{})[AT]?.stringValue===ST}function zh(s){const e=s.mapValue.fields[xT];return hp(e)?zh(e):e}function Wl(s){const e=dr(s.mapValue.fields[RT].timestampValue);return new ot(e.seconds,e.nanos)}class WI{constructor(e,n,r,o,c,f,m,g,y,E,S){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E,this.apiKey=S}}const gh="(default)";class ec{constructor(e,n){this.projectId=e,this.database=n||gh}static empty(){return new ec("","")}get isDefaultDatabase(){return this.database===gh}isEqual(e){return e instanceof ec&&e.projectId===this.projectId&&e.database===this.database}}function e2(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ae(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ec(s.options.projectId,e)}const IT="__type__",t2="__max__",Xu={mapValue:{}},CT="__vector__",yh="value";function pr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?hp(s)?4:i2(s)?9007199254740991:n2(s)?10:11:_e(28295,{value:s})}function Hi(s,e){if(s===e)return!0;const n=pr(s);if(n!==pr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Wl(s).isEqual(Wl(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=dr(o.timestampValue),m=dr(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return mr(o.bytesValue).isEqual(mr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return vt(o.geoPointValue.latitude)===vt(c.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return vt(o.integerValue)===vt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=vt(o.doubleValue),m=vt(c.doubleValue);return f===m?ph(f)===ph(m):isNaN(f)&&isNaN(m)}return!1})(s,e);case 9:return yo(s.arrayValue.values||[],e.arrayValue.values||[],Hi);case 10:case 11:return(function(o,c){const f=o.mapValue.fields||{},m=c.mapValue.fields||{};if(fv(f)!==fv(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Hi(f[g],m[g])))return!1;return!0})(s,e);default:return _e(52216,{left:s})}}function tc(s,e){return(s.values||[]).find((n=>Hi(n,e)))!==void 0}function _o(s,e){if(s===e)return 0;const n=pr(s),r=pr(e);if(n!==r)return Pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(s.booleanValue,e.booleanValue);case 2:return(function(c,f){const m=vt(c.integerValue||c.doubleValue),g=vt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(s,e);case 3:return mv(s.timestampValue,e.timestampValue);case 4:return mv(Wl(s),Wl(e));case 5:return km(s.stringValue,e.stringValue);case 6:return(function(c,f){const m=mr(c),g=mr(f);return m.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(c,f){const m=c.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=Pe(m[y],g[y]);if(E!==0)return E}return Pe(m.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,f){const m=Pe(vt(c.latitude),vt(f.latitude));return m!==0?m:Pe(vt(c.longitude),vt(f.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return pv(s.arrayValue,e.arrayValue);case 10:return(function(c,f){const m=c.fields||{},g=f.fields||{},y=m[yh]?.arrayValue,E=g[yh]?.arrayValue,S=Pe(y?.values?.length||0,E?.values?.length||0);return S!==0?S:pv(y,E)})(s.mapValue,e.mapValue);case 11:return(function(c,f){if(c===Xu.mapValue&&f===Xu.mapValue)return 0;if(c===Xu.mapValue)return 1;if(f===Xu.mapValue)return-1;const m=c.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const R=km(g[S],E[S]);if(R!==0)return R;const B=_o(m[g[S]],y[E[S]]);if(B!==0)return B}return Pe(g.length,E.length)})(s.mapValue,e.mapValue);default:throw _e(23264,{he:n})}}function mv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Pe(s,e);const n=dr(s),r=dr(e),o=Pe(n.seconds,r.seconds);return o!==0?o:Pe(n.nanos,r.nanos)}function pv(s,e){const n=s.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const c=_o(n[o],r[o]);if(c)return c}return Pe(n.length,r.length)}function vo(s){return jm(s)}function jm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=dr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return mr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return ge.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",o=!0;for(const c of n.values||[])o?o=!1:r+=",",r+=jm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const f of r)c?c=!1:o+=",",o+=`${f}:${jm(n.fields[f])}`;return o+"}"})(s.mapValue):_e(61005,{value:s})}function th(s){switch(pr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zh(s);return e?16+th(e):16;case 5:return 2*s.stringValue.length;case 6:return mr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+th(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return br(r.fields,((c,f)=>{o+=c.length+th(f)})),o})(s.mapValue);default:throw _e(13486,{value:s})}}function gv(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Um(s){return!!s&&"integerValue"in s}function fp(s){return!!s&&"arrayValue"in s}function yv(s){return!!s&&"nullValue"in s}function _v(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function nh(s){return!!s&&"mapValue"in s}function n2(s){return(s?.mapValue?.fields||{})[IT]?.stringValue===CT}function Gl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return br(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Gl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Gl(s.arrayValue.values[n]);return e}return{...s}}function i2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===t2}class sn{constructor(e){this.value=e}static empty(){return new sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!nh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gl(n)}setAll(e){let n=Yt.emptyPath(),r={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,r,o),r={},o=[],n=m.popLast()}f?r[m.lastSegment()]=Gl(f):o.push(m.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,r,o)}delete(e){const n=this.field(e.popLast());nh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Hi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];nh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){br(n,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new sn(Gl(this.value))}}function NT(s){const e=[];return br(s.fields,((n,r)=>{const o=new Yt([n]);if(nh(r)){const c=NT(r.mapValue).fields;if(c.length===0)e.push(o);else for(const f of c)e.push(o.child(f))}else e.push(o)})),new Rn(e)}class Pt{constructor(e,n,r,o,c,f,m){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=c,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Pt(e,0,be.min(),be.min(),be.min(),sn.empty(),0)}static newFoundDocument(e,n,r,o){return new Pt(e,1,n,be.min(),r,o,0)}static newNoDocument(e,n){return new Pt(e,2,n,be.min(),be.min(),sn.empty(),0)}static newUnknownDocument(e,n){return new Pt(e,3,n,be.min(),be.min(),sn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class _h{constructor(e,n){this.position=e,this.inclusive=n}}function vv(s,e,n){let r=0;for(let o=0;o<s.position.length;o++){const c=e[o],f=s.position[o];if(c.field.isKeyField()?r=ge.comparator(ge.fromName(f.referenceValue),n.key):r=_o(f,n.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function bv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Hi(s.position[n],e.position[n]))return!1;return!0}class nc{constructor(e,n="asc"){this.field=e,this.dir=n}}function s2(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class DT{}class Nt extends DT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new a2(e,n,r):n==="array-contains"?new c2(e,r):n==="in"?new u2(e,r):n==="not-in"?new h2(e,r):n==="array-contains-any"?new f2(e,r):new Nt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new o2(e,r):new l2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(_o(n,this.value)):n!==null&&pr(this.value)===pr(n)&&this.matchesComparison(_o(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends DT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ci(e,n)}matches(e){return OT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function OT(s){return s.op==="and"}function MT(s){return r2(s)&&OT(s)}function r2(s){for(const e of s.filters)if(e instanceof ci)return!1;return!0}function Lm(s){if(s instanceof Nt)return s.field.canonicalString()+s.op.toString()+vo(s.value);if(MT(s))return s.filters.map((e=>Lm(e))).join(",");{const e=s.filters.map((n=>Lm(n))).join(",");return`${s.op}(${e})`}}function VT(s,e){return s instanceof Nt?(function(r,o){return o instanceof Nt&&r.op===o.op&&r.field.isEqual(o.field)&&Hi(r.value,o.value)})(s,e):s instanceof ci?(function(r,o){return o instanceof ci&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,f,m)=>c&&VT(f,o.filters[m])),!0):!1})(s,e):void _e(19439)}function kT(s){return s instanceof Nt?(function(n){return`${n.field.canonicalString()} ${n.op} ${vo(n.value)}`})(s):s instanceof ci?(function(n){return n.op.toString()+" {"+n.getFilters().map(kT).join(" ,")+"}"})(s):"Filter"}class a2 extends Nt{constructor(e,n,r){super(e,n,r),this.key=ge.fromName(r.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class o2 extends Nt{constructor(e,n){super(e,"in",n),this.keys=jT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class l2 extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=jT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function jT(s,e){return(e.arrayValue?.values||[]).map((n=>ge.fromName(n.referenceValue)))}class c2 extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return fp(n)&&tc(n.arrayValue,this.value)}}class u2 extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&tc(this.value.arrayValue,n)}}class h2 extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(tc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!tc(this.value.arrayValue,n)}}class f2 extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!fp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>tc(this.value.arrayValue,r)))}}class d2{constructor(e,n=null,r=[],o=[],c=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=f,this.endAt=m,this.Te=null}}function Tv(s,e=null,n=[],r=[],o=null,c=null,f=null){return new d2(s,e,n,r,o,c,f)}function dp(s){const e=Ae(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Lm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),cc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>vo(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>vo(r))).join(",")),e.Te=n}return e.Te}function mp(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!s2(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!VT(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!bv(s.startAt,e.startAt)&&bv(s.endAt,e.endAt)}function Pm(s){return ge.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Co{constructor(e,n=null,r=[],o=[],c=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function m2(s,e,n,r,o,c,f,m){return new Co(s,e,n,r,o,c,f,m)}function Bh(s){return new Co(s)}function Ev(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function p2(s){return ge.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function UT(s){return s.collectionGroup!==null}function Ql(s){const e=Ae(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Vt(Yt.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new nc(c,r))})),n.has(Yt.keyField().canonicalString())||e.Ie.push(new nc(Yt.keyField(),r))}return e.Ie}function Li(s){const e=Ae(s);return e.Ee||(e.Ee=g2(e,Ql(s))),e.Ee}function g2(s,e){if(s.limitType==="F")return Tv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new nc(o.field,c)}));const n=s.endAt?new _h(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new _h(s.startAt.position,s.startAt.inclusive):null;return Tv(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function zm(s,e){const n=s.filters.concat([e]);return new Co(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function y2(s,e){const n=s.explicitOrderBy.concat([e]);return new Co(s.path,s.collectionGroup,n,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function vh(s,e,n){return new Co(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function qh(s,e){return mp(Li(s),Li(e))&&s.limitType===e.limitType}function LT(s){return`${dp(Li(s))}|lt:${s.limitType}`}function no(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>kT(o))).join(", ")}]`),cc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>vo(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>vo(o))).join(",")),`Target(${r})`})(Li(s))}; limitType=${s.limitType})`}function Hh(s,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ge.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,o){for(const c of Ql(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(f,m,g){const y=vv(f,m,g);return f.inclusive?y<=0:y<0})(r.startAt,Ql(r),o)||r.endAt&&!(function(f,m,g){const y=vv(f,m,g);return f.inclusive?y>=0:y>0})(r.endAt,Ql(r),o))})(s,e)}function _2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function PT(s){return(e,n)=>{let r=!1;for(const o of Ql(s)){const c=v2(o,e,n);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function v2(s,e,n){const r=s.field.isKeyField()?ge.comparator(e.key,n.key):(function(c,f,m){const g=f.data.field(c),y=m.data.field(c);return g!==null&&y!==null?_o(g,y):_e(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return _e(19790,{direction:s.dir})}}class ua{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){br(this.inner,((n,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return ET(this.inner)}size(){return this.innerSize}}const b2=new ft(ge.comparator);function ms(){return b2}const zT=new ft(ge.comparator);function Bl(...s){let e=zT;for(const n of s)e=e.insert(n.key,n);return e}function BT(s){let e=zT;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ea(){return Yl()}function qT(){return Yl()}function Yl(){return new ua((s=>s.toString()),((s,e)=>s.isEqual(e)))}const T2=new ft(ge.comparator),E2=new Vt(ge.comparator);function ze(...s){let e=E2;for(const n of s)e=e.add(n);return e}const w2=new Vt(Pe);function S2(){return w2}function pp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ph(e)?"-0":e}}function HT(s){return{integerValue:""+s}}function FT(s,e){return XI(e)?HT(e):pp(s,e)}class Fh{constructor(){this._=void 0}}function A2(s,e,n){return s instanceof ic?(function(o,c){const f={fields:{[AT]:{stringValue:ST},[RT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&hp(c)&&(c=zh(c)),c&&(f.fields[xT]=c),{mapValue:f}})(n,e):s instanceof bo?QT(s,e):s instanceof sc?YT(s,e):(function(o,c){const f=GT(o,c),m=wv(f)+wv(o.Ae);return Um(f)&&Um(o.Ae)?HT(m):pp(o.serializer,m)})(s,e)}function x2(s,e,n){return s instanceof bo?QT(s,e):s instanceof sc?YT(s,e):n}function GT(s,e){return s instanceof rc?(function(r){return Um(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class ic extends Fh{}class bo extends Fh{constructor(e){super(),this.elements=e}}function QT(s,e){const n=KT(e);for(const r of s.elements)n.some((o=>Hi(o,r)))||n.push(r);return{arrayValue:{values:n}}}class sc extends Fh{constructor(e){super(),this.elements=e}}function YT(s,e){let n=KT(e);for(const r of s.elements)n=n.filter((o=>!Hi(o,r)));return{arrayValue:{values:n}}}class rc extends Fh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function wv(s){return vt(s.integerValue||s.doubleValue)}function KT(s){return fp(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class gp{constructor(e,n){this.field=e,this.transform=n}}function R2(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof bo&&o instanceof bo||r instanceof sc&&o instanceof sc?yo(r.elements,o.elements,Hi):r instanceof rc&&o instanceof rc?Hi(r.Ae,o.Ae):r instanceof ic&&o instanceof ic})(s.transform,e.transform)}class I2{constructor(e,n){this.version=e,this.transformResults=n}}class rn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new rn}static exists(e){return new rn(void 0,e)}static updateTime(e){return new rn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ih(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Gh{}function XT(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new yp(s.key,rn.none()):new uc(s.key,s.data,rn.none());{const n=s.data,r=sn.empty();let o=new Vt(Yt.comparator);for(let c of e.fields)if(!o.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?r.delete(c):r.set(c,f),o=o.add(c)}return new Tr(s.key,r,new Rn(o.toArray()),rn.none())}}function C2(s,e,n){s instanceof uc?(function(o,c,f){const m=o.value.clone(),g=Av(o.fieldTransforms,c,f.transformResults);m.setAll(g),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(s,e,n):s instanceof Tr?(function(o,c,f){if(!ih(o.precondition,c))return void c.convertToUnknownDocument(f.version);const m=Av(o.fieldTransforms,c,f.transformResults),g=c.data;g.setAll($T(o)),g.setAll(m),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(s,e,n):(function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Kl(s,e,n,r){return s instanceof uc?(function(c,f,m,g){if(!ih(c.precondition,f))return m;const y=c.value.clone(),E=xv(c.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(s,e,n,r):s instanceof Tr?(function(c,f,m,g){if(!ih(c.precondition,f))return m;const y=xv(c.fieldTransforms,g,f),E=f.data;return E.setAll($T(c)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,e,n,r):(function(c,f,m){return ih(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(s,e,n)}function N2(s,e){let n=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),c=GT(r.transform,o||null);c!=null&&(n===null&&(n=sn.empty()),n.set(r.field,c))}return n||null}function Sv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&yo(r,o,((c,f)=>R2(c,f)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class uc extends Gh{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Tr extends Gh{constructor(e,n,r,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function $T(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function Av(s,e,n){const r=new Map;Fe(s.length===n.length,32656,{Ve:n.length,de:s.length});for(let o=0;o<n.length;o++){const c=s[o],f=c.transform,m=e.data.field(c.field);r.set(c.field,x2(f,m,n[o]))}return r}function xv(s,e,n){const r=new Map;for(const o of s){const c=o.transform,f=n.data.field(o.field);r.set(o.field,A2(c,f,e))}return r}class yp extends Gh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JT extends Gh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class D2{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&C2(c,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Kl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Kl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=qT();return this.mutations.forEach((o=>{const c=e.get(o.key),f=c.overlayedDocument;let m=this.applyToLocalView(f,c.mutatedFields);m=n.has(o.key)?null:m;const g=XT(f,m);g!==null&&r.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(be.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ze())}isEqual(e){return this.batchId===e.batchId&&yo(this.mutations,e.mutations,((n,r)=>Sv(n,r)))&&yo(this.baseMutations,e.baseMutations,((n,r)=>Sv(n,r)))}}class _p{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){Fe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return T2})();const c=e.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,r[f].version);return new _p(e,n,r,o)}}class O2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class M2{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ct,He;function ZT(s){switch(s){case K.OK:return _e(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return _e(15467,{code:s})}}function WT(s){if(s===void 0)return ds("GRPC error has no .code"),K.UNKNOWN;switch(s){case Ct.OK:return K.OK;case Ct.CANCELLED:return K.CANCELLED;case Ct.UNKNOWN:return K.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return K.INTERNAL;case Ct.UNAVAILABLE:return K.UNAVAILABLE;case Ct.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Ct.NOT_FOUND:return K.NOT_FOUND;case Ct.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Ct.ABORTED:return K.ABORTED;case Ct.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Ct.DATA_LOSS:return K.DATA_LOSS;default:return _e(39323,{code:s})}}(He=Ct||(Ct={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";function V2(){return new TextEncoder}const k2=new lr([4294967295,4294967295],0);function Rv(s){const e=V2().encode(s),n=new hT;return n.update(e),new Uint8Array(n.digest())}function Iv(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new lr([n,r],0),new lr([o,c],0)]}class vp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ql(`Invalid padding: ${n}`);if(r<0)throw new ql(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ql(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ql(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=lr.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(lr.fromNumber(r)));return o.compare(k2)===1&&(o=new lr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Rv(e),[r,o]=Iv(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(r,o,c);if(!this.we(f))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new vp(c,o,n);return r.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=Rv(e),[r,o]=Iv(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(r,o,c);this.be(f)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Qh{constructor(e,n,r,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,hc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Qh(be.min(),o,new ft(Pe),ms(),ze())}}class hc{constructor(e,n,r,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new hc(r,n,ze(),ze(),ze())}}class sh{constructor(e,n,r,o){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=o}}class eE{constructor(e,n){this.targetId=e,this.Ce=n}}class tE{constructor(e,n,r=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class Cv{constructor(){this.ve=0,this.Fe=Nv(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),n=ze(),r=ze();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:_e(38017,{changeType:c})}})),new hc(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=Nv()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class j2{constructor(e){this.Ge=e,this.ze=new Map,this.je=ms(),this.He=$u(),this.Je=$u(),this.Ze=new ft(Pe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(Pm(c))if(r===0){const f=new ge(c.path);this.et(n,f,Pt.newNoDocument(f,be.min()))}else Fe(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const m=this.ut(e),g=m?this.ct(m,e,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=n;let f,m;try{f=mr(r).toUint8Array()}catch(g){if(g instanceof wT)return go("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new vp(f,o,c)}catch(g){return go(g instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((c=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,f)=>{const m=this.ot(f);if(m){if(c.current&&Pm(m.target)){const g=new ge(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,Pt.newNoDocument(g,e))}c.Be&&(n.set(f,c.ke()),c.Ke())}}));let r=ze();this.Je.forEach(((c,f)=>{let m=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(c))})),this.je.forEach(((c,f)=>f.setReadTime(e)));const o=new Qh(e,n,this.Ze,this.je,r);return this.je=ms(),this.He=$u(),this.Je=$u(),this.Ze=new ft(Pe),o}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new Cv,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Vt(Pe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Vt(Pe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Cv),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function $u(){return new ft(ge.comparator)}function Nv(){return new ft(ge.comparator)}const U2={asc:"ASCENDING",desc:"DESCENDING"},L2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},P2={and:"AND",or:"OR"};class z2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Bm(s,e){return s.useProto3Json||cc(e)?e:{value:e}}function bh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function B2(s,e){return bh(s,e.toTimestamp())}function Nn(s){return Fe(!!s,49232),be.fromTimestamp((function(n){const r=dr(n);return new ot(r.seconds,r.nanos)})(s))}function bp(s,e){return qm(s,e).canonicalString()}function qm(s,e){const n=(function(o){return new it(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?n:n.child(e)}function iE(s){const e=it.fromString(s);return Fe(cE(e),10190,{key:e.toString()}),e}function Th(s,e){return bp(s.databaseId,e.path)}function Xl(s,e){const n=iE(e);if(n.get(1)!==s.databaseId.projectId)throw new ae(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new ae(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new ge(rE(n))}function sE(s,e){return bp(s.databaseId,e)}function q2(s){const e=iE(s);return e.length===4?it.emptyPath():rE(e)}function Hm(s){return new it(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function rE(s){return Fe(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Dv(s,e,n){return{name:Th(s,e),fields:n.value.mapValue.fields}}function H2(s,e){return"found"in e?(function(r,o){Fe(!!o.found,43571),o.found.name,o.found.updateTime;const c=Xl(r,o.found.name),f=Nn(o.found.updateTime),m=o.found.createTime?Nn(o.found.createTime):be.min(),g=new sn({mapValue:{fields:o.found.fields}});return Pt.newFoundDocument(c,f,m,g)})(s,e):"missing"in e?(function(r,o){Fe(!!o.missing,3894),Fe(!!o.readTime,22933);const c=Xl(r,o.missing),f=Nn(o.readTime);return Pt.newNoDocument(c,f)})(s,e):_e(7234,{result:e})}function F2(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_e(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,E){return y.useProto3Json?(Fe(E===void 0||typeof E=="string",58123),Xt.fromBase64String(E||"")):(Fe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Xt.fromUint8Array(E||new Uint8Array))})(s,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?K.UNKNOWN:WT(y.code);return new ae(E,y.message||"")})(f);n=new tE(r,o,c,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Xl(s,r.document.name),c=Nn(r.document.updateTime),f=r.document.createTime?Nn(r.document.createTime):be.min(),m=new sn({mapValue:{fields:r.document.fields}}),g=Pt.newFoundDocument(o,c,f,m),y=r.targetIds||[],E=r.removedTargetIds||[];n=new sh(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Xl(s,r.document),c=r.readTime?Nn(r.readTime):be.min(),f=Pt.newNoDocument(o,c),m=r.removedTargetIds||[];n=new sh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Xl(s,r.document),c=r.removedTargetIds||[];n=new sh([],c,o,null)}else{if(!("filter"in e))return _e(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,f=new M2(o,c),m=r.targetId;n=new eE(m,f)}}return n}function aE(s,e){let n;if(e instanceof uc)n={update:Dv(s,e.key,e.value)};else if(e instanceof yp)n={delete:Th(s,e.key)};else if(e instanceof Tr)n={update:Dv(s,e.key,e.data),updateMask:W2(e.fieldMask)};else{if(!(e instanceof JT))return _e(16599,{dt:e.type});n={verify:Th(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(c,f){const m=f.transform;if(m instanceof ic)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof bo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof sc)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof rc)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw _e(20930,{transform:f.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:B2(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_e(27497)})(s,e.precondition)),n}function G2(s,e){return s&&s.length>0?(Fe(e!==void 0,14353),s.map((n=>(function(o,c){let f=o.updateTime?Nn(o.updateTime):Nn(c);return f.isEqual(be.min())&&(f=Nn(c)),new I2(f,o.transformResults||[])})(n,e)))):[]}function Q2(s,e){return{documents:[sE(s,e.path)]}}function Y2(s,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=sE(s,o);const c=(function(y){if(y.length!==0)return lE(ci.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const f=(function(y){if(y.length!==0)return y.map((E=>(function(R){return{field:io(R.field),direction:$2(R.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Bm(s,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function K2(s){let e=q2(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Fe(r===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];n.where&&(c=(function(S){const R=oE(S);return R instanceof ci&&MT(R)?R.getFilters():[R]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((R=>(function($){return new nc(so($.field),(function(te){switch(te){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(R)))})(n.orderBy));let m=null;n.limit&&(m=(function(S){let R;return R=typeof S=="object"?S.value:S,cc(R)?null:R})(n.limit));let g=null;n.startAt&&(g=(function(S){const R=!!S.before,B=S.values||[];return new _h(B,R)})(n.startAt));let y=null;return n.endAt&&(y=(function(S){const R=!S.before,B=S.values||[];return new _h(B,R)})(n.endAt)),m2(e,o,f,c,m,"F",g,y)}function X2(s,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function oE(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=so(n.unaryFilter.field);return Nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=so(n.unaryFilter.field);return Nt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=so(n.unaryFilter.field);return Nt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=so(n.unaryFilter.field);return Nt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Nt.create(so(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return ci.create(n.compositeFilter.filters.map((r=>oE(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(n.compositeFilter.op))})(s):_e(30097,{filter:s})}function $2(s){return U2[s]}function J2(s){return L2[s]}function Z2(s){return P2[s]}function io(s){return{fieldPath:s.canonicalString()}}function so(s){return Yt.fromServerFormat(s.fieldPath)}function lE(s){return s instanceof Nt?(function(n){if(n.op==="=="){if(_v(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NAN"}};if(yv(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_v(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NAN"}};if(yv(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(n.field),op:J2(n.op),value:n.value}}})(s):s instanceof ci?(function(n){const r=n.getFilters().map((o=>lE(o)));return r.length===1?r[0]:{compositeFilter:{op:Z2(n.op),filters:r}}})(s):_e(54877,{filter:s})}function W2(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function cE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function uE(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class rr{constructor(e,n,r,o,c=be.min(),f=be.min(),m=Xt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new rr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class eC{constructor(e){this.yt=e}}function tC(s){const e=K2({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?vh(e,e.limit,"L"):e}class nC{constructor(){this.Sn=new iC}addToCollectionParentIndex(e,n){return this.Sn.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(fr.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(fr.min())}updateCollectionGroup(e,n,r){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class iC{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Vt(it.comparator),c=!o.has(r);return this.index[n]=o.add(r),c}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Vt(it.comparator)).toArray()}}const Ov={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hE=41943040;class pn{static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(hE,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);class To{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new To(0)}static ar(){return new To(-1)}}const Mv="LruGarbageCollector",sC=1048576;function Vv([s,e],[n,r]){const o=Pe(s,n);return o===0?Pe(e,r):o}class rC{constructor(e){this.Pr=e,this.buffer=new Vt(Vv),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Vv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class aC{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ce(Mv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Io(n)?ce(Mv,"Ignoring IndexedDB error during garbage collection: ",n):await Ro(n)}await this.Ar(3e5)}))}}class oC{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Z.resolve(Ph.ce);const r=new rC(n);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Ov)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ov):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,o,c,f,m,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(r=S,m=Date.now(),this.removeTargets(e,r,n)))).next((S=>(c=S,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(y=Date.now(),to()<=Le.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${c} targets in `+(g-m)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S}))))}}function lC(s,e){return new oC(s,e)}class cC{constructor(){this.changes=new ua((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class uC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class hC{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&Kl(r.mutation,o,Rn.empty(),ot.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ze()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ze()){const o=ea();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((c=>{let f=Bl();return c.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const r=ea();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ze())))}populateOverlays(e,n,r){const o=[];return r.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,r,o){let c=ms();const f=Yl(),m=(function(){return Yl()})();return n.forEach(((g,y)=>{const E=r.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Tr)?c=c.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Kl(E.mutation,y,E.mutation.getFieldMask(),ot.now())):f.set(y.key,Rn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new uC(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const r=Yl();let o=new ft(((f,m)=>f-m)),c=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let E=r.get(g)||Rn.empty();E=m.applyToLocalView(y,E),r.set(g,E);const S=(o.get(m.batchId)||ze()).add(g);o=o.insert(m.batchId,S)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,S=qT();E.forEach((R=>{if(!c.has(R)){const B=XT(n.get(R),r.get(R));B!==null&&S.set(R,B),c=c.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,S))}return Z.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return p2(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):UT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-c.size):Z.resolve(ea());let m=Zl,g=c;return f.next((y=>Z.forEach(y,((E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),c.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(e,E).next((R=>{g=g.insert(E,R)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,ze()))).next((E=>({batchId:m,changes:BT(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((r=>{let o=Bl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const c=n.collectionGroup;let f=Bl();return this.indexManager.getCollectionParents(e,c).next((m=>Z.forEach(m,(g=>{const y=(function(S,R){return new Co(R,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((E=>{E.forEach(((S,R)=>{f=f.insert(S,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,c,o)))).next((f=>{c.forEach(((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Pt.newInvalidDocument(E)))}));let m=Bl();return f.forEach(((g,y)=>{const E=c.get(g);E!==void 0&&Kl(E.mutation,y,Rn.empty(),ot.now()),Hh(n,y)&&(m=m.insert(g,y))})),m}))}}class fC{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return Z.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Nn(o.createTime)}})(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:tC(o.bundledQuery),readTime:Nn(o.readTime)}})(n)),Z.resolve()}}class dC{constructor(){this.overlays=new ft(ge.comparator),this.Lr=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ea();return Z.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,c)=>{this.bt(e,n,c)})),Z.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),Z.resolve()}getOverlaysForCollection(e,n,r){const o=ea(),c=n.length+1,f=new ge(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>r&&o.set(g.getKey(),g)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let c=new ft(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let E=c.get(y.largestBatchId);E===null&&(E=ea(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=ea(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return Z.resolve(m)}bt(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new O2(n,r));let c=this.Lr.get(n);c===void 0&&(c=ze(),this.Lr.set(n,c)),this.Lr.set(n,c.add(r.key))}}class mC{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}class Tp{constructor(){this.kr=new Vt(Lt.Kr),this.qr=new Vt(Lt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Lt(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new Lt(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new ge(new it([])),r=new Lt(n,e),o=new Lt(n,e+1),c=[];return this.qr.forEachInRange([r,o],(f=>{this.Wr(f),c.push(f.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ge(new it([])),r=new Lt(n,e),o=new Lt(n,e+1);let c=ze();return this.qr.forEachInRange([r,o],(f=>{c=c.add(f.key)})),c}containsKey(e){const n=new Lt(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Lt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ge.comparator(e.key,n.key)||Pe(e.Hr,n.Hr)}static Ur(e,n){return Pe(e.Hr,n.Hr)||ge.comparator(e.key,n.key)}}class pC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Vt(Lt.Kr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new D2(c,n,r,o);this.mutationQueue.push(f);for(const m of o)this.Jr=this.Jr.add(new Lt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Z.resolve(f)}lookupMutationBatch(e,n){return Z.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.Xr(r),c=o<0?0:o;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?up:this.Yn-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Lt(n,0),o=new Lt(n,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,o],(f=>{const m=this.Zr(f.Hr);c.push(m)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Vt(Pe);return n.forEach((o=>{const c=new Lt(o,0),f=new Lt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,f],(m=>{r=r.add(m.Hr)}))})),Z.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let c=r;ge.isDocumentKey(c)||(c=c.child(""));const f=new Lt(new ge(c),0);let m=new Vt(Pe);return this.Jr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Hr)),!0)}),f),Z.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Fe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return Z.forEach(n.mutations,(o=>{const c=new Lt(o.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new Lt(n,0),o=this.Jr.firstAfterOrEqual(r);return Z.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class gC{constructor(e){this.ti=e,this.docs=(function(){return new ft(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),c=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Z.resolve(r?r.document.mutableCopy():Pt.newInvalidDocument(n))}getEntries(e,n){let r=ms();return n.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():Pt.newInvalidDocument(o))})),Z.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let c=ms();const f=n.path,m=new ge(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||GI(FI(E),r)<=0||(o.has(E.key)||Hh(n,E))&&(c=c.insert(E.key,E.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(e,n,r,o){_e(9500)}ni(e,n){return Z.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new yC(this)}getSize(e){return Z.resolve(this.size)}}class yC extends cC{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),Z.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class _C{constructor(e){this.persistence=e,this.ri=new ua((n=>dp(n)),mp),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.ii=0,this.si=new Tp,this.targetCount=0,this.oi=To._r()}forEachTarget(e,n){return this.ri.forEach(((r,o)=>n(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),Z.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new To(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.lr(n),Z.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,r){let o=0;const c=[];return this.ri.forEach(((f,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.ri.delete(f),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),Z.waitFor(c).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return Z.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),Z.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((f=>{c.push(o.markPotentiallyOrphaned(e,f))})),Z.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return Z.resolve(r)}containsKey(e,n){return Z.resolve(this.si.containsKey(n))}}class fE{constructor(e,n){this._i={},this.overlays={},this.ai=new Ph(0),this.ui=!1,this.ui=!0,this.ci=new mC,this.referenceDelegate=e(this),this.li=new _C(this),this.indexManager=new nC,this.remoteDocumentCache=(function(o){return new gC(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new eC(n),this.Pi=new fC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new dC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new pC(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){ce("MemoryPersistence","Starting transaction:",e);const o=new vC(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,n){return Z.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class vC extends YI{constructor(e){super(),this.currentSequenceNumber=e}}class Ep{constructor(e){this.persistence=e,this.Ri=new Tp,this.Ai=null}static Vi(e){return new Ep(e)}get di(){if(this.Ai)return this.Ai;throw _e(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),Z.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),Z.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.di,(r=>{const o=ge.fromPath(r);return this.mi(e,o).next((c=>{c||n.removeEntry(o,be.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return Z.or([()=>Z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Eh{constructor(e,n){this.persistence=e,this.fi=new ua((r=>$I(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=lC(this,n)}static Vi(e,n){return new Eh(e,n)}Ti(){}Ii(e){return Z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return Z.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((c=>c?Z.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(f=>this.wr(e,f,n).next((m=>{m||(r++,c.removeEntry(f,be.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),Z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),Z.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=th(e.data.value)),n}wr(e,n,r){return Z.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return Z.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class wp{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=o}static Es(e,n){let r=ze(),o=ze();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new wp(e,n.fromCache,r,o)}}class bC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class TC{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return qA()?8:KI(Wt())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const c={result:null};return this.gs(e,n).next((f=>{c.result=f})).next((()=>{if(!c.result)return this.ps(e,n,o,r).next((f=>{c.result=f}))})).next((()=>{if(c.result)return;const f=new bC;return this.ys(e,n,f).next((m=>{if(c.result=m,this.As)return this.ws(e,n,f,m.size)}))})).next((()=>c.result))}ws(e,n,r,o){return r.documentReadCount<this.Vs?(to()<=Le.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",no(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):(to()<=Le.DEBUG&&ce("QueryEngine","Query:",no(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(to()<=Le.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",no(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Li(n))):Z.resolve())}gs(e,n){if(Ev(n))return Z.resolve(null);let r=Li(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=vh(n,null,"F"),r=Li(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const f=ze(...c);return this.fs.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,r).next((g=>{const y=this.bs(n,m);return this.Ss(n,y,f,g.readTime)?this.gs(e,vh(n,null,"F")):this.Ds(e,y,n,g)}))))})))))}ps(e,n,r,o){return Ev(n)||o.isEqual(be.min())?Z.resolve(null):this.fs.getDocuments(e,r).next((c=>{const f=this.bs(n,c);return this.Ss(n,f,r,o)?Z.resolve(null):(to()<=Le.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),no(n)),this.Ds(e,f,n,HI(o,Zl)).next((m=>m)))}))}bs(e,n){let r=new Vt(PT(e));return n.forEach(((o,c)=>{Hh(e,c)&&(r=r.add(c))})),r}Ss(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,n,r){return to()<=Le.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",no(n)),this.fs.getDocumentsMatchingQuery(e,n,fr.min(),r)}Ds(e,n,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((c=>(n.forEach((f=>{c=c.insert(f.key,f)})),c)))}}const Sp="LocalStore",EC=3e8;class wC{constructor(e,n,r,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ft(Pe),this.Fs=new ua((c=>dp(c)),mp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hC(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function SC(s,e,n,r){return new wC(s,e,n,r)}async function dE(s,e){const n=Ae(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((c=>{const f=[],m=[];let g=ze();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of c){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(r,g).next((y=>({Ns:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function AC(s,e){const n=Ae(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,E){const S=y.batch,R=S.keys();let B=Z.resolve();return R.forEach(($=>{B=B.next((()=>E.getEntry(g,$))).next((W=>{const te=y.docVersions.get($);Fe(te!==null,48541),W.version.compareTo(te)<0&&(S.applyToRemoteDocument(W,y),W.isValidDocument()&&(W.setReadTime(y.commitVersion),E.addEntry(W)))}))})),B.next((()=>m.mutationQueue.removeMutationBatch(g,S)))})(n,r,e,c).next((()=>c.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let g=ze();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function mE(s){const e=Ae(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function xC(s,e){const n=Ae(s),r=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((E,S)=>{const R=o.get(S);if(!R)return;m.push(n.li.removeMatchingKeys(c,E.removedDocuments,S).next((()=>n.li.addMatchingKeys(c,E.addedDocuments,S))));let B=R.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?B=B.withResumeToken(Xt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):E.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(E.resumeToken,r)),o=o.insert(S,B),(function(W,te,se){return W.resumeToken.approximateByteSize()===0||te.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=EC?!0:se.addedDocuments.size+se.modifiedDocuments.size+se.removedDocuments.size>0})(R,B,E)&&m.push(n.li.updateTargetData(c,B))}));let g=ms(),y=ze();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,E))})),m.push(RC(c,f,e.documentUpdates).next((E=>{g=E.Bs,y=E.Ls}))),!r.isEqual(be.min())){const E=n.li.getLastRemoteSnapshotVersion(c).next((S=>n.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));m.push(E)}return Z.waitFor(m).next((()=>f.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(n.vs=o,c)))}function RC(s,e,n){let r=ze(),o=ze();return n.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let f=ms();return n.forEach(((m,g)=>{const y=c.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(be.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):ce(Sp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{Bs:f,Ls:o}}))}function IC(s,e){const n=Ae(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=up),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function CC(s,e){const n=Ae(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.li.getTargetData(r,e).next((c=>c?(o=c,Z.resolve(o)):n.li.allocateTargetId(r).next((f=>(o=new rr(e,f,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function Fm(s,e,n){const r=Ae(s),o=r.vs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",c,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Io(f))throw f;ce(Sp,`Failed to update sequence numbers for target ${e}: ${f}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function kv(s,e,n){const r=Ae(s);let o=be.min(),c=ze();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,E){const S=Ae(g),R=S.Fs.get(E);return R!==void 0?Z.resolve(S.vs.get(R)):S.li.getTargetData(y,E)})(r,f,Li(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(f,m.targetId).next((g=>{c=g}))})).next((()=>r.Cs.getDocumentsMatchingQuery(f,e,n?o:be.min(),n?c:ze()))).next((m=>(NC(r,_2(e),m),{documents:m,ks:c})))))}function NC(s,e,n){let r=s.Ms.get(e)||be.min();n.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Ms.set(e,r)}class jv{constructor(){this.activeTargetIds=S2()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DC{constructor(){this.vo=new jv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new jv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class OC{Mo(e){}shutdown(){}}const Uv="ConnectivityMonitor";class Lv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ce(Uv,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ce(Uv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ju=null;function Gm(){return Ju===null?Ju=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ju++,"0x"+Ju.toString(16)}const Tm="RestConnection",MC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class VC{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===gh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,n,r,o,c){const f=Gm(),m=this.Qo(e,n.toUriEncodedString());ce(Tm,`Sending RPC '${e}' ${f}:`,m,r);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,c);const{host:y}=new URL(m),E=So(y);return this.zo(e,m,g,r,E).then((S=>(ce(Tm,`Received RPC '${e}' ${f}: `,S),S)),(S=>{throw go(Tm,`RPC '${e}' ${f} failed with error: `,S,"url: ",m,"request:",r),S}))}jo(e,n,r,o,c,f){return this.Wo(e,n,r,o,c)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+xo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}Qo(e,n){const r=MC[e];let o=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class kC{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Jt="WebChannelConnection",Pl=(s,e,n)=>{s.listen(e,(r=>{try{n(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class co extends VC{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!co.c_){const e=pT();Pl(e,mT.STAT_EVENT,(n=>{n.stat===Vm.PROXY?ce(Jt,"STAT_EVENT: detected buffering proxy"):n.stat===Vm.NOPROXY&&ce(Jt,"STAT_EVENT: detected no buffering proxy")})),co.c_=!0}}zo(e,n,r,o,c){const f=Gm();return new Promise(((m,g)=>{const y=new fT;y.setWithCredentials(!0),y.listenOnce(dT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case eh.NO_ERROR:const S=y.getResponseJson();ce(Jt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),m(S);break;case eh.TIMEOUT:ce(Jt,`RPC '${e}' ${f} timed out`),g(new ae(K.DEADLINE_EXCEEDED,"Request time out"));break;case eh.HTTP_ERROR:const R=y.getStatus();if(ce(Jt,`RPC '${e}' ${f} failed with status:`,R,"response text:",y.getResponseText()),R>0){let B=y.getResponseJson();Array.isArray(B)&&(B=B[0]);const $=B?.error;if($&&$.status&&$.message){const W=(function(se){const ue=se.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(ue)>=0?ue:K.UNKNOWN})($.status);g(new ae(W,$.message))}else g(new ae(K.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ae(K.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ce(Jt,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);ce(Jt,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",E,r,15)}))}T_(e,n,r){const o=Gm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const y=c.join("");ce(Jt,`Creating RPC '${e}' stream ${o}: ${y}`,m);const E=f.createWebChannel(y,m);this.I_(E);let S=!1,R=!1;const B=new kC({Ho:$=>{R?ce(Jt,`Not sending because RPC '${e}' stream ${o} is closed:`,$):(S||(ce(Jt,`Opening RPC '${e}' stream ${o} transport.`),E.open(),S=!0),ce(Jt,`RPC '${e}' stream ${o} sending:`,$),E.send($))},Jo:()=>E.close()});return Pl(E,zl.EventType.OPEN,(()=>{R||(ce(Jt,`RPC '${e}' stream ${o} transport opened.`),B.i_())})),Pl(E,zl.EventType.CLOSE,(()=>{R||(R=!0,ce(Jt,`RPC '${e}' stream ${o} transport closed`),B.o_(),this.E_(E))})),Pl(E,zl.EventType.ERROR,($=>{R||(R=!0,go(Jt,`RPC '${e}' stream ${o} transport errored. Name:`,$.name,"Message:",$.message),B.o_(new ae(K.UNAVAILABLE,"The operation could not be completed")))})),Pl(E,zl.EventType.MESSAGE,($=>{if(!R){const W=$.data[0];Fe(!!W,16349);const te=W,se=te?.error||te[0]?.error;if(se){ce(Jt,`RPC '${e}' stream ${o} received error:`,se);const ue=se.status;let le=(function(we){const I=Ct[we];if(I!==void 0)return WT(I)})(ue),Ie=se.message;le===void 0&&(le=K.INTERNAL,Ie="Unknown error status: "+ue+" with message "+se.message),R=!0,B.o_(new ae(le,Ie)),E.close()}else ce(Jt,`RPC '${e}' stream ${o} received:`,W),B.__(W)}})),co.u_(),setTimeout((()=>{B.s_()}),0),B}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return gT()}}function jC(s){return new co(s)}function Em(){return typeof document<"u"?document:null}function Yh(s){return new z2(s,!0)}co.c_=!1;class Ap{constructor(e,n,r=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Pv="PersistentStream";class pE{constructor(e,n,r,o,c,f,m,g){this.Ci=e,this.b_=r,this.S_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ap(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(ds(n.toString()),ds("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new ae(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(Pv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ce(Pv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class UC extends pE{constructor(e,n,r,o,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,f),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=F2(this.serializer,e),r=(function(c){if(!("targetChange"in c))return be.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?be.min():f.readTime?Nn(f.readTime):be.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=Hm(this.serializer),n.addTarget=(function(c,f){let m;const g=f.target;if(m=Pm(g)?{documents:Q2(c,g)}:{query:Y2(c,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=nE(c,f.resumeToken);const y=Bm(c,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(be.min())>0){m.readTime=bh(c,f.snapshotVersion.toTimestamp());const y=Bm(c,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const r=X2(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=Hm(this.serializer),n.removeTarget=e,this.K_(n)}}class LC extends pE{constructor(e,n,r,o,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,f),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=G2(e.writeResults,e.commitTime),r=Nn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Hm(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>aE(this.serializer,r)))};this.K_(n)}}class PC{}class zC extends PC{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ae(K.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Wo(e,qm(n,r),o,c,f))).catch((c=>{throw c.name==="FirebaseError"?(c.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ae(K.UNKNOWN,c.toString())}))}jo(e,n,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.jo(e,qm(n,r),o,f,m,c))).catch((f=>{throw f.name==="FirebaseError"?(f.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ae(K.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function BC(s,e,n,r){return new zC(s,e,n,r)}class qC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ds(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ra="RemoteStore";class HC{constructor(e,n,r,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((f=>{r.enqueueAndForget((async()=>{ha(this)&&(ce(ra,"Restarting streams for network reachability change."),await(async function(g){const y=Ae(g);y.Ea.add(4),await fc(y),y.Va.set("Unknown"),y.Ea.delete(4),await Kh(y)})(this))}))})),this.Va=new qC(r,o)}}async function Kh(s){if(ha(s))for(const e of s.Ra)await e(!0)}async function fc(s){for(const e of s.Ra)await e(!1)}function gE(s,e){const n=Ae(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Cp(n)?Ip(n):No(n).O_()&&Rp(n,e))}function xp(s,e){const n=Ae(s),r=No(n);n.Ia.delete(e),r.O_()&&yE(n,e),n.Ia.size===0&&(r.O_()?r.L_():ha(n)&&n.Va.set("Unknown"))}function Rp(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}No(s).Z_(e)}function yE(s,e){s.da.$e(e),No(s).X_(e)}function Ip(s){s.da=new j2({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),No(s).start(),s.Va.ua()}function Cp(s){return ha(s)&&!No(s).x_()&&s.Ia.size>0}function ha(s){return Ae(s).Ea.size===0}function _E(s){s.da=void 0}async function FC(s){s.Va.set("Online")}async function GC(s){s.Ia.forEach(((e,n)=>{Rp(s,e)}))}async function QC(s,e){_E(s),Cp(s)?(s.Va.ha(e),Ip(s)):s.Va.set("Unknown")}async function YC(s,e,n){if(s.Va.set("Online"),e instanceof tE&&e.state===2&&e.cause)try{await(async function(o,c){const f=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.da.removeTarget(m))})(s,e)}catch(r){ce(ra,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wh(s,r)}else if(e instanceof sh?s.da.Xe(e):e instanceof eE?s.da.st(e):s.da.tt(e),!n.isEqual(be.min()))try{const r=await mE(s.localStore);n.compareTo(r)>=0&&await(function(c,f){const m=c.da.Tt(f);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=c.Ia.get(y);E&&c.Ia.set(y,E.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,y)=>{const E=c.Ia.get(g);if(!E)return;c.Ia.set(g,E.withResumeToken(Xt.EMPTY_BYTE_STRING,E.snapshotVersion)),yE(c,g);const S=new rr(E.target,g,y,E.sequenceNumber);Rp(c,S)})),c.remoteSyncer.applyRemoteEvent(m)})(s,n)}catch(r){ce(ra,"Failed to raise snapshot:",r),await wh(s,r)}}async function wh(s,e,n){if(!Io(e))throw e;s.Ea.add(1),await fc(s),s.Va.set("Offline"),n||(n=()=>mE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ce(ra,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Kh(s)}))}function vE(s,e){return e().catch((n=>wh(s,n,e)))}async function Xh(s){const e=Ae(s),n=gr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:up;for(;KC(e);)try{const o=await IC(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,XC(e,o)}catch(o){await wh(e,o)}bE(e)&&TE(e)}function KC(s){return ha(s)&&s.Ta.length<10}function XC(s,e){s.Ta.push(e);const n=gr(s);n.O_()&&n.Y_&&n.ea(e.mutations)}function bE(s){return ha(s)&&!gr(s).x_()&&s.Ta.length>0}function TE(s){gr(s).start()}async function $C(s){gr(s).ra()}async function JC(s){const e=gr(s);for(const n of s.Ta)e.ea(n.mutations)}async function ZC(s,e,n){const r=s.Ta.shift(),o=_p.from(r,e,n);await vE(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Xh(s)}async function WC(s,e){e&&gr(s).Y_&&await(async function(r,o){if((function(f){return ZT(f)&&f!==K.ABORTED})(o.code)){const c=r.Ta.shift();gr(r).B_(),await vE(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Xh(r)}})(s,e),bE(s)&&TE(s)}async function zv(s,e){const n=Ae(s);n.asyncQueue.verifyOperationInProgress(),ce(ra,"RemoteStore received new credentials");const r=ha(n);n.Ea.add(3),await fc(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Kh(n)}async function eN(s,e){const n=Ae(s);e?(n.Ea.delete(2),await Kh(n)):e||(n.Ea.add(2),await fc(n),n.Va.set("Unknown"))}function No(s){return s.ma||(s.ma=(function(n,r,o){const c=Ae(n);return c.sa(),new UC(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:FC.bind(null,s),Yo:GC.bind(null,s),t_:QC.bind(null,s),J_:YC.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),Cp(s)?Ip(s):s.Va.set("Unknown")):(await s.ma.stop(),_E(s))}))),s.ma}function gr(s){return s.fa||(s.fa=(function(n,r,o){const c=Ae(n);return c.sa(),new LC(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:$C.bind(null,s),t_:WC.bind(null,s),ta:JC.bind(null,s),na:ZC.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Xh(s)):(await s.fa.stop(),s.Ta.length>0&&(ce(ra,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Np{constructor(e,n,r,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new Ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,c){const f=Date.now()+r,m=new Np(e,n,f,o,c);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dp(s,e){if(ds("AsyncQueue",`${e}: ${s}`),Io(s))return new ae(K.UNAVAILABLE,`${e}: ${s}`);throw s}class uo{static emptySet(e){return new uo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ge.comparator(n.key,r.key):(n,r)=>ge.comparator(n.key,r.key),this.keyedMap=Bl(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof uo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new uo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Bv{constructor(){this.ga=new ft(ge.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):_e(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Eo{constructor(e,n,r,o,c,f,m,g,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,o,c){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new Eo(e,n,uo.emptySet(n),f,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class tN{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class nN{constructor(){this.queries=qv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Ae(n),c=o.queries;o.queries=qv(),c.forEach(((f,m)=>{for(const g of m.ba)g.onError(r)}))})(this,new ae(K.ABORTED,"Firestore shutting down"))}}function qv(){return new ua((s=>LT(s)),qh)}async function Op(s,e){const n=Ae(s);let r=3;const o=e.query;let c=n.queries.get(o);c?!c.Sa()&&e.Da()&&(r=2):(c=new tN,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Dp(f,`Initialization of query '${no(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,c),c.ba.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&Vp(n)}async function Mp(s,e){const n=Ae(s),r=e.query;let o=3;const c=n.queries.get(r);if(c){const f=c.ba.indexOf(e);f>=0&&(c.ba.splice(f,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function iN(s,e){const n=Ae(s);let r=!1;for(const o of e){const c=o.query,f=n.queries.get(c);if(f){for(const m of f.ba)m.Fa(o)&&(r=!0);f.wa=o}}r&&Vp(n)}function sN(s,e,n){const r=Ae(s),o=r.queries.get(e);if(o)for(const c of o.ba)c.onError(n);r.queries.delete(e)}function Vp(s){s.Ca.forEach((e=>{e.next()}))}var Qm,Hv;(Hv=Qm||(Qm={})).Ma="default",Hv.Cache="cache";class kp{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Eo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Qm.Cache}}class EE{constructor(e){this.key=e}}class wE{constructor(e){this.key=e}}class rN{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ze(),this.mutatedKeys=ze(),this.eu=PT(e),this.tu=new uo(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new Bv,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,S)=>{const R=o.get(E),B=Hh(this.query,S)?S:null,$=!!R&&this.mutatedKeys.has(R.key),W=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let te=!1;R&&B?R.data.isEqual(B.data)?$!==W&&(r.track({type:3,doc:B}),te=!0):this.su(R,B)||(r.track({type:2,doc:B}),te=!0,(g&&this.eu(B,g)>0||y&&this.eu(B,y)<0)&&(m=!0)):!R&&B?(r.track({type:0,doc:B}),te=!0):R&&!B&&(r.track({type:1,doc:R}),te=!0,(g||y)&&(m=!0)),te&&(B?(f=f.add(B),c=W?c.add(E):c.delete(E)):(f=f.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),c=c.delete(E.key),r.track({type:1,doc:E})}return{tu:f,iu:r,Ss:m,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,S)=>(function(B,$){const W=te=>{switch(te){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Vt:te})}};return W(B)-W($)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(r),o=o??!1;const m=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,y=g!==this.Xa;return this.Xa=g,f.length!==0||y?{snapshot:new Eo(this.query,e.tu,c,f,e.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Bv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ze(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new wE(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new EE(r))})),n}cu(e){this.Za=e.ks,this.Ya=ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Eo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const jp="SyncEngine";class aN{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class oN{constructor(e){this.key=e,this.hu=!1}}class lN{constructor(e,n,r,o,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ua((m=>LT(m)),qh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ft(ge.comparator),this.Au=new Map,this.Vu=new Tp,this.du={},this.mu=new Map,this.fu=To.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function cN(s,e,n=!0){const r=CE(s);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await SE(r,e,n,!0),o}async function uN(s,e){const n=CE(s);await SE(n,e,!0,!1)}async function SE(s,e,n,r){const o=await CC(s.localStore,Li(e)),c=o.targetId,f=s.sharedClientState.addLocalQueryTarget(c,n);let m;return r&&(m=await hN(s,e,c,f==="current",o.resumeToken)),s.isPrimaryClient&&n&&gE(s.remoteStore,o),m}async function hN(s,e,n,r,o){s.pu=(S,R,B)=>(async function(W,te,se,ue){let le=te.view.ru(se);le.Ss&&(le=await kv(W.localStore,te.query,!1).then((({documents:I})=>te.view.ru(I,le))));const Ie=ue&&ue.targetChanges.get(te.targetId),Me=ue&&ue.targetMismatches.get(te.targetId)!=null,we=te.view.applyChanges(le,W.isPrimaryClient,Ie,Me);return Gv(W,te.targetId,we.au),we.snapshot})(s,S,R,B);const c=await kv(s.localStore,e,!0),f=new rN(e,c.ks),m=f.ru(c.documents),g=hc.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),y=f.applyChanges(m,s.isPrimaryClient,g);Gv(s,n,y.au);const E=new aN(e,n,f);return s.Tu.set(e,E),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),y.snapshot}async function fN(s,e,n){const r=Ae(s),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((f=>!qh(f,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Fm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&xp(r.remoteStore,o.targetId),Ym(r,o.targetId)})).catch(Ro)):(Ym(r,o.targetId),await Fm(r.localStore,o.targetId,!0))}async function dN(s,e){const n=Ae(s),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),xp(n.remoteStore,r.targetId))}async function mN(s,e,n){const r=TN(s);try{const o=await(function(f,m){const g=Ae(f),y=ot.now(),E=m.reduce(((B,$)=>B.add($.key)),ze());let S,R;return g.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let $=ms(),W=ze();return g.xs.getEntries(B,E).next((te=>{$=te,$.forEach(((se,ue)=>{ue.isValidDocument()||(W=W.add(se))}))})).next((()=>g.localDocuments.getOverlayedDocuments(B,$))).next((te=>{S=te;const se=[];for(const ue of m){const le=N2(ue,S.get(ue.key).overlayedDocument);le!=null&&se.push(new Tr(ue.key,le,NT(le.value.mapValue),rn.exists(!0)))}return g.mutationQueue.addMutationBatch(B,y,se,m)})).next((te=>{R=te;const se=te.applyToLocalDocumentSet(S,W);return g.documentOverlayCache.saveOverlays(B,te.batchId,se)}))})).then((()=>({batchId:R.batchId,changes:BT(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let y=f.du[f.currentUser.toKey()];y||(y=new ft(Pe)),y=y.insert(m,g),f.du[f.currentUser.toKey()]=y})(r,o.batchId,n),await dc(r,o.changes),await Xh(r.remoteStore)}catch(o){const c=Dp(o,"Failed to persist write");n.reject(c)}}async function AE(s,e){const n=Ae(s);try{const r=await xC(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const f=n.Au.get(c);f&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Fe(f.hu,14607):o.removedDocuments.size>0&&(Fe(f.hu,42227),f.hu=!1))})),await dc(n,r,e)}catch(r){await Ro(r)}}function Fv(s,e,n){const r=Ae(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((c,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=Ae(f);g.onlineState=m;let y=!1;g.queries.forEach(((E,S)=>{for(const R of S.ba)R.va(m)&&(y=!0)})),y&&Vp(g)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function pN(s,e,n){const r=Ae(s);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),c=o&&o.key;if(c){let f=new ft(ge.comparator);f=f.insert(c,Pt.newNoDocument(c,be.min()));const m=ze().add(c),g=new Qh(be.min(),new Map,new ft(Pe),f,m);await AE(r,g),r.Ru=r.Ru.remove(c),r.Au.delete(e),Up(r)}else await Fm(r.localStore,e,!1).then((()=>Ym(r,e,n))).catch(Ro)}async function gN(s,e){const n=Ae(s),r=e.batch.batchId;try{const o=await AC(n.localStore,e);RE(n,r,null),xE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await dc(n,o)}catch(o){await Ro(o)}}async function yN(s,e,n){const r=Ae(s);try{const o=await(function(f,m){const g=Ae(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next((S=>(Fe(S!==null,37113),E=S.keys(),g.mutationQueue.removeMutationBatch(y,S)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>g.localDocuments.getDocuments(y,E)))}))})(r.localStore,e);RE(r,e,n),xE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await dc(r,o)}catch(o){await Ro(o)}}function xE(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function RE(s,e,n){const r=Ae(s);let o=r.du[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function Ym(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||IE(s,r)}))}function IE(s,e){s.Eu.delete(e.path.canonicalString());const n=s.Ru.get(e);n!==null&&(xp(s.remoteStore,n),s.Ru=s.Ru.remove(e),s.Au.delete(n),Up(s))}function Gv(s,e,n){for(const r of n)r instanceof EE?(s.Vu.addReference(r.key,e),_N(s,r)):r instanceof wE?(ce(jp,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||IE(s,r.key)):_e(19791,{wu:r})}function _N(s,e){const n=e.key,r=n.path.canonicalString();s.Ru.get(n)||s.Eu.has(r)||(ce(jp,"New document in limbo: "+n),s.Eu.add(r),Up(s))}function Up(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new ge(it.fromString(e)),r=s.fu.next();s.Au.set(r,new oN(n)),s.Ru=s.Ru.insert(n,r),gE(s.remoteStore,new rr(Li(Bh(n.path)),r,"TargetPurposeLimboResolution",Ph.ce))}}async function dc(s,e,n){const r=Ae(s),o=[],c=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,g)=>{f.push(r.pu(g,e,n).then((y=>{if((y||n)&&r.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=wp.Es(g.targetId,y);c.push(E)}})))})),await Promise.all(f),r.Pu.J_(o),await(async function(g,y){const E=Ae(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Z.forEach(y,(R=>Z.forEach(R.Ts,(B=>E.persistence.referenceDelegate.addReference(S,R.targetId,B))).next((()=>Z.forEach(R.Is,(B=>E.persistence.referenceDelegate.removeReference(S,R.targetId,B)))))))))}catch(S){if(!Io(S))throw S;ce(Sp,"Failed to update sequence numbers: "+S)}for(const S of y){const R=S.targetId;if(!S.fromCache){const B=E.vs.get(R),$=B.snapshotVersion,W=B.withLastLimboFreeSnapshotVersion($);E.vs=E.vs.insert(R,W)}}})(r.localStore,c))}async function vN(s,e){const n=Ae(s);if(!n.currentUser.isEqual(e)){ce(jp,"User change. New user:",e.toKey());const r=await dE(n.localStore,e);n.currentUser=e,(function(c,f){c.mu.forEach((m=>{m.forEach((g=>{g.reject(new ae(K.CANCELLED,f))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await dc(n,r.Ns)}}function bN(s,e){const n=Ae(s),r=n.Au.get(e);if(r&&r.hu)return ze().add(r.key);{let o=ze();const c=n.Iu.get(e);if(!c)return o;for(const f of c){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function CE(s){const e=Ae(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=AE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pN.bind(null,e),e.Pu.J_=iN.bind(null,e.eventManager),e.Pu.yu=sN.bind(null,e.eventManager),e}function TN(s){const e=Ae(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yN.bind(null,e),e}class Sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return SC(this.persistence,new TC,e.initialUser,this.serializer)}Cu(e){return new fE(Ep.Vi,this.serializer)}Du(e){return new DC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sh.provider={build:()=>new Sh};class EN extends Sh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof Eh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new aC(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new fE((r=>Eh.Vi(r,n)),this.serializer)}}class Km{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Fv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=vN.bind(null,this.syncEngine),await eN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new nN})()}createDatastore(e){const n=Yh(e.databaseInfo.databaseId),r=jC(e.databaseInfo);return BC(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,c,f,m){return new HC(r,o,c,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>Fv(this.syncEngine,n,0)),(function(){return Lv.v()?new Lv:new OC})())}createSyncEngine(e,n){return(function(o,c,f,m,g,y,E){const S=new lN(o,c,f,m,g,y);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ae(n);ce(ra,"RemoteStore shutting down."),r.Ea.add(5),await fc(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Km.provider={build:()=>new Km};class Lp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ds("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}let wN=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ae(K.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(o,c){const f=Ae(o),m={documents:c.map((S=>Th(f.serializer,S)))},g=await f.jo("BatchGetDocuments",f.serializer.databaseId,it.emptyPath(),m,c.length),y=new Map;g.forEach((S=>{const R=H2(f.serializer,S);y.set(R.key.toString(),R)}));const E=[];return c.forEach((S=>{const R=y.get(S.toString());Fe(!!R,55234,{key:S}),E.push(R)})),E})(this.datastore,e);return n.forEach((r=>this.recordVersion(r))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new yp(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,r)=>{const o=ge.fromPath(r);this.mutations.push(new JT(o,this.precondition(o)))})),await(async function(r,o){const c=Ae(r),f={writes:o.map((m=>aE(c.serializer,m)))};await c.Wo("Commit",c.serializer.databaseId,it.emptyPath(),f)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw _e(50498,{Gu:e.constructor.name});n=be.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new ae(K.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(be.min())?rn.exists(!1):rn.updateTime(n):rn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(be.min()))throw new ae(K.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return rn.updateTime(n)}return rn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};class SN{constructor(e,n,r,o,c){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=o,this.deferred=c,this.zu=r.maxAttempts,this.M_=new Ap(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const e=new wN(this.datastore),n=this.Ju(e);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((o=>{this.Zu(o)}))))})).catch((r=>{this.Zu(r)}))}))}Ju(e){try{const n=this.updateFunction(e);return!cc(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Zu(e){this.zu>0&&this.Xu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(e)}Xu(e){if(e?.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!ZT(n)}return!1}}const yr="FirestoreClient";class AN{constructor(e,n,r,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=cp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async f=>{ce(yr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(ce(yr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Dp(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function wm(s,e){s.asyncQueue.verifyOperationInProgress(),ce(yr,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await dE(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Qv(s,e){s.asyncQueue.verifyOperationInProgress();const n=await xN(s);ce(yr,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>zv(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>zv(e.remoteStore,o))),s._onlineComponents=e}async function xN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ce(yr,"Using user provided OfflineComponentProvider");try{await wm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;go("Error using user provided cache. Falling back to memory cache: "+n),await wm(s,new Sh)}}else ce(yr,"Using default OfflineComponentProvider"),await wm(s,new EN(void 0));return s._offlineComponents}async function Pp(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ce(yr,"Using user provided OnlineComponentProvider"),await Qv(s,s._uninitializedComponentsProvider._online)):(ce(yr,"Using default OnlineComponentProvider"),await Qv(s,new Km))),s._onlineComponents}function RN(s){return Pp(s).then((e=>e.syncEngine))}function IN(s){return Pp(s).then((e=>e.datastore))}async function Ah(s){const e=await Pp(s),n=e.eventManager;return n.onListen=cN.bind(null,e.syncEngine),n.onUnlisten=fN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=uN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=dN.bind(null,e.syncEngine),n}function CN(s,e,n,r){const o=new Lp(r),c=new kp(e,o,n);return s.asyncQueue.enqueueAndForget((async()=>Op(await Ah(s),c))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>Mp(await Ah(s),c)))}}function NN(s,e,n={}){const r=new Ui;return s.asyncQueue.enqueueAndForget((async()=>(function(c,f,m,g,y){const E=new Lp({next:R=>{E.Nu(),f.enqueueAndForget((()=>Mp(c,S)));const B=R.docs.has(m);!B&&R.fromCache?y.reject(new ae(K.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&R.fromCache&&g&&g.source==="server"?y.reject(new ae(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(R)},error:R=>y.reject(R)}),S=new kp(Bh(m.path),E,{includeMetadataChanges:!0,Ka:!0});return Op(c,S)})(await Ah(s),s.asyncQueue,e,n,r))),r.promise}function DN(s,e,n={}){const r=new Ui;return s.asyncQueue.enqueueAndForget((async()=>(function(c,f,m,g,y){const E=new Lp({next:R=>{E.Nu(),f.enqueueAndForget((()=>Mp(c,S))),R.fromCache&&g.source==="server"?y.reject(new ae(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(R)},error:R=>y.reject(R)}),S=new kp(m,E,{includeMetadataChanges:!0,Ka:!0});return Op(c,S)})(await Ah(s),s.asyncQueue,e,n,r))),r.promise}function ON(s,e){const n=new Ui;return s.asyncQueue.enqueueAndForget((async()=>mN(await RN(s),e,n))),n.promise}function MN(s,e,n){const r=new Ui;return s.asyncQueue.enqueueAndForget((async()=>{const o=await IN(s);new SN(s.asyncQueue,o,n,e,r).ju()})),r.promise}function NE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const VN="ComponentProvider",Yv=new Map;function kN(s,e,n,r,o){return new WI(s,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,NE(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const DE="firestore.googleapis.com",Kv=!0;class Xv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ae(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=DE,this.ssl=Kv}else this.host=e.host,this.ssl=e.ssl??Kv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sC)throw new ae(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NE(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ae(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ae(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ae(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $h{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new OI;switch(r.type){case"firstParty":return new jI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Yv.get(n);r&&(ce(VN,"Removing Datastore"),Yv.delete(n),r.terminate())})(this),Promise.resolve()}}function jN(s,e,n,r={}){s=Cn(s,$h);const o=So(e),c=s._getSettings(),f={...c,emulatorOptions:s._getEmulatorOptions()},m=`${e}:${n}`;o&&(Mb(`https://${m}`),Vb("Firestore",!0)),c.host!==DE&&c.host!==m&&go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:m,ssl:o,emulatorOptions:r};if(!hs(g,f)&&(s._setSettings(g),r.mockUserToken)){let y,E;if(typeof r.mockUserToken=="string")y=r.mockUserToken,E=Zt.MOCK_USER;else{y=VA(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new ae(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Zt(S)}s._authCredentials=new MI(new _T(y,E))}}class ys{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ys(this.firestore,e,this._query)}}class ut{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ut(this.firestore,e,this._key)}toJSON(){return{type:ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(lc(n,ut._jsonSchema))return new ut(e,r||null,new ge(it.fromString(n.referencePath)))}}ut._jsonSchemaVersion="firestore/documentReference/1.0",ut._jsonSchema={type:Dt("string",ut._jsonSchemaVersion),referencePath:Dt("string")};class cr extends ys{constructor(e,n,r){super(e,n,Bh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ut(this.firestore,null,new ge(e))}withConverter(e){return new cr(this.firestore,e,this._path)}}function OE(s,e,...n){if(s=ht(s),vT("collection","path",e),s instanceof $h){const r=it.fromString(e,...n);return lv(r),new cr(s,null,r)}{if(!(s instanceof ut||s instanceof cr))throw new ae(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(it.fromString(e,...n));return lv(r),new cr(s.firestore,null,r)}}function ui(s,e,...n){if(s=ht(s),arguments.length===1&&(e=cp.newId()),vT("doc","path",e),s instanceof $h){const r=it.fromString(e,...n);return ov(r),new ut(s,null,new ge(r))}{if(!(s instanceof ut||s instanceof cr))throw new ae(K.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(it.fromString(e,...n));return ov(r),new ut(s.firestore,s instanceof cr?s.converter:null,new ge(r))}}const $v="AsyncQueue";class Jv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ap(this,"async_queue_retry"),this._c=()=>{const r=Em();r&&ce($v,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Em();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Em();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ui;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Io(e))throw e;ce($v,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ds("INTERNAL UNHANDLED ERROR: ",Zv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Np.createAndSchedule(this,e,n,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&_e(47125,{Pc:Zv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Zv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class _r extends $h{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new Jv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Jv(e),this._firestoreClient=void 0,await e}}}function UN(s,e){const n=typeof s=="object"?s:tp(),r=typeof s=="string"?s:gh,o=ca(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=OA("firestore");c&&jN(o,...c)}return o}function mc(s){if(s._terminated)throw new ae(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||LN(s),s._firestoreClient}function LN(s){const e=s._freezeSettings(),n=kN(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new AN(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xn(Xt.fromBase64String(e))}catch(n){throw new ae(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(lc(e,xn._jsonSchema))return xn.fromBase64String(e.bytes)}}xn._jsonSchemaVersion="firestore/bytes/1.0",xn._jsonSchema={type:Dt("string",xn._jsonSchemaVersion),bytes:Dt("string")};class Jh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Do{constructor(e){this._methodName=e}}class Pi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pi._jsonSchemaVersion}}static fromJSON(e){if(lc(e,Pi._jsonSchema))return new Pi(e.latitude,e.longitude)}}Pi._jsonSchemaVersion="firestore/geoPoint/1.0",Pi._jsonSchema={type:Dt("string",Pi._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};class oi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(lc(e,oi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new oi(e.vectorValues);throw new ae(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}oi._jsonSchemaVersion="firestore/vectorValue/1.0",oi._jsonSchema={type:Dt("string",oi._jsonSchemaVersion),vectorValues:Dt("object")};const PN=/^__.*__$/;class zN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Tr(e,this.data,this.fieldMask,n,this.fieldTransforms):new uc(e,this.data,n,this.fieldTransforms)}}class ME{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Tr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function VE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{dataSource:s})}}class Zh{constructor(e,n,r,o,c,f){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Zh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return xh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(VE(this.dataSource)&&PN.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class BN{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Yh(e)}createContext(e,n,r,o=!1){return new Zh({dataSource:e,methodName:n,targetDoc:r,path:Yt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wh(s){const e=s._freezeSettings(),n=Yh(s._databaseId);return new BN(s._databaseId,!!e.ignoreUndefinedProperties,n)}function kE(s,e,n,r,o,c={}){const f=s.createContext(c.merge||c.mergeFields?2:0,e,n,o);Hp("Data must be an object, but it was:",f,r);const m=LE(r,f);let g,y;if(c.merge)g=new Rn(f.fieldMask),y=f.fieldTransforms;else if(c.mergeFields){const E=[];for(const S of c.mergeFields){const R=aa(e,S,n);if(!f.contains(R))throw new ae(K.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);BE(E,R)||E.push(R)}g=new Rn(E),y=f.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,y=f.fieldTransforms;return new zN(new sn(m),g,y)}class ef extends Do{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ef}}function qN(s,e,n){return new Zh({dataSource:3,targetDoc:e.settings.targetDoc,methodName:s._methodName,arrayElement:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class zp extends Do{_toFieldTransform(e){return new gp(e.path,new ic)}isEqual(e){return e instanceof zp}}class Bp extends Do{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=qN(this,e,!0),r=this.Ac.map((c=>Oo(c,n))),o=new bo(r);return new gp(e.path,o)}isEqual(e){return e instanceof Bp&&hs(this.Ac,e.Ac)}}class qp extends Do{constructor(e,n){super(e),this.Vc=n}_toFieldTransform(e){const n=new rc(e.serializer,FT(e.serializer,this.Vc));return new gp(e.path,n)}isEqual(e){return e instanceof qp&&this.Vc===e.Vc}}function jE(s,e,n,r){const o=s.createContext(1,e,n);Hp("Data must be an object, but it was:",o,r);const c=[],f=sn.empty();br(r,((g,y)=>{const E=zE(e,g,n);y=ht(y);const S=o.childContextForFieldPath(E);if(y instanceof ef)c.push(E);else{const R=Oo(y,S);R!=null&&(c.push(E),f.set(E,R))}}));const m=new Rn(c);return new ME(f,m,o.fieldTransforms)}function UE(s,e,n,r,o,c){const f=s.createContext(1,e,n),m=[aa(e,r,n)],g=[o];if(c.length%2!=0)throw new ae(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<c.length;R+=2)m.push(aa(e,c[R])),g.push(c[R+1]);const y=[],E=sn.empty();for(let R=m.length-1;R>=0;--R)if(!BE(y,m[R])){const B=m[R];let $=g[R];$=ht($);const W=f.childContextForFieldPath(B);if($ instanceof ef)y.push(B);else{const te=Oo($,W);te!=null&&(y.push(B),E.set(B,te))}}const S=new Rn(y);return new ME(E,S,f.fieldTransforms)}function HN(s,e,n,r=!1){return Oo(n,s.createContext(r?4:3,e))}function Oo(s,e){if(PE(s=ht(s)))return Hp("Unsupported field value:",e,s),LE(s,e);if(s instanceof Do)return(function(r,o){if(!VE(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const c=[];let f=0;for(const m of r){let g=Oo(m,o.childContextForArray(f));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),f++}return{arrayValue:{values:c}}})(s,e)}return(function(r,o){if((r=ht(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return FT(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=ot.fromDate(r);return{timestampValue:bh(o.serializer,c)}}if(r instanceof ot){const c=new ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bh(o.serializer,c)}}if(r instanceof Pi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xn)return{bytesValue:nE(o.serializer,r._byteString)};if(r instanceof ut){const c=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(c))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:bp(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof oi)return(function(f,m){const g=f instanceof oi?f.toArray():f;return{mapValue:{fields:{[IT]:{stringValue:CT},[yh]:{arrayValue:{values:g.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return pp(m.serializer,E)}))}}}}}})(r,o);if(uE(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Lh(r)}`)})(s,e)}function LE(s,e){const n={};return ET(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):br(s,((r,o)=>{const c=Oo(o,e.childContextForField(r));c!=null&&(n[r]=c)})),{mapValue:{fields:n}}}function PE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ot||s instanceof Pi||s instanceof xn||s instanceof ut||s instanceof Do||s instanceof oi||uE(s))}function Hp(s,e,n){if(!PE(n)||!bT(n)){const r=Lh(n);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function aa(s,e,n){if((e=ht(e))instanceof Jh)return e._internalPath;if(typeof e=="string")return zE(s,e);throw xh("Field path arguments must be of type string or ",s,!1,void 0,n)}const FN=new RegExp("[~\\*/\\[\\]]");function zE(s,e,n){if(e.search(FN)>=0)throw xh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Jh(...e.split("."))._internalPath}catch{throw xh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function xh(s,e,n,r,o){const c=r&&!r.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(c||f)&&(g+=" (found",c&&(g+=` in field ${r}`),f&&(g+=` in document ${o}`),g+=")"),new ae(K.INVALID_ARGUMENT,m+s+g)}function BE(s,e){return s.some((n=>n.isEqual(e)))}class qE{convertValue(e,n="none"){switch(pr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(mr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return br(e,((o,c)=>{r[o]=this.convertValue(c,n)})),r}convertVectorValue(e){const n=e.fields?.[yh].arrayValue?.values?.map((r=>vt(r.doubleValue)));return new oi(n)}convertGeoPoint(e){return new Pi(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=zh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Wl(e));default:return null}}convertTimestamp(e){const n=dr(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=it.fromString(e);Fe(cE(r),9688,{name:e});const o=new ec(r.get(1),r.get(3)),c=new ge(r.popFirst(5));return o.isEqual(n)||ds(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}class tf extends qE{constructor(e){super(),this.firestore=e}convertBytes(e){return new xn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ut(this.firestore,null,n)}}function HE(){return new zp("serverTimestamp")}function FE(...s){return new Bp("arrayUnion",s)}function GE(s){return new qp("increment",s)}const Wv="@firebase/firestore",eb="4.10.0";function tb(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const c of r)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class Rh{constructor(e,n,r,o,c){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(aa("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class GN extends Rh{data(){return super.data()}}function QE(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ae(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fp{}class Gp extends Fp{}function YE(s,e,...n){let r=[];e instanceof Fp&&r.push(e),r=r.concat(n),(function(c){const f=c.filter((g=>g instanceof Qp)).length,m=c.filter((g=>g instanceof nf)).length;if(f>1||f>0&&m>0)throw new ae(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class nf extends Gp{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new nf(e,n,r)}_apply(e){const n=this._parse(e);return KE(e._query,n),new ys(e.firestore,e.converter,zm(e._query,n))}_parse(e){const n=Wh(e.firestore);return(function(c,f,m,g,y,E,S){let R;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ae(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){ib(S,E);const $=[];for(const W of S)$.push(nb(g,c,W));R={arrayValue:{values:$}}}else R=nb(g,c,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||ib(S,E),R=HN(m,f,S,E==="in"||E==="not-in");return Nt.create(y,E,R)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function QN(s,e,n){const r=e,o=aa("where",s);return nf._create(o,r,n)}class Qp extends Fp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Qp(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ci.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let f=o;const m=c.getFlattenedFilters();for(const g of m)KE(f,g),f=zm(f,g)})(e._query,n),new ys(e.firestore,e.converter,zm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Yp extends Gp{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Yp(e,n)}_apply(e){const n=(function(o,c,f){if(o.startAt!==null)throw new ae(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ae(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new nc(c,f)})(e._query,this._field,this._direction);return new ys(e.firestore,e.converter,y2(e._query,n))}}function YN(s,e="asc"){const n=e,r=aa("orderBy",s);return Yp._create(r,n)}class Kp extends Gp{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Kp(e,n,r)}_apply(e){return new ys(e.firestore,e.converter,vh(e._query,this._limit,this._limitType))}}function KN(s){return Kp._create("limit",s,"F")}function nb(s,e,n){if(typeof(n=ht(n))=="string"){if(n==="")throw new ae(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!UT(e)&&n.indexOf("/")!==-1)throw new ae(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(it.fromString(n));if(!ge.isDocumentKey(r))throw new ae(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return gv(s,new ge(r))}if(n instanceof ut)return gv(s,n._key);throw new ae(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lh(n)}.`)}function ib(s,e){if(!Array.isArray(s)||s.length===0)throw new ae(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function KE(s,e){const n=(function(o,c){for(const f of o)for(const m of f.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ae(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function XE(s,e,n){let r;return r=s?n&&(n.merge||n.mergeFields)?s.toFirestore(e,n):s.toFirestore(e):e,r}class XN extends qE{constructor(e){super(),this.firestore=e}convertBytes(e){return new xn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ut(this.firestore,null,n)}}class ao{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ur extends Rh{constructor(e,n,r,o,c,f){super(e,n,r,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(aa("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ur._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ur._jsonSchemaVersion="firestore/documentSnapshot/1.0",ur._jsonSchema={type:Dt("string",ur._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class rh extends ur{data(e={}){return super.data(e)}}class ta{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new ao(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new rh(this._firestore,this._userDataWriter,r.key,r,new ao(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ao(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const g=new rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ao(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:$N(m.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ta._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=cp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function $N(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:s})}}ta._jsonSchemaVersion="firestore/querySnapshot/1.0",ta._jsonSchema={type:Dt("string",ta._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};const JN={maxAttempts:5};function Hl(s,e){if((s=ht(s)).firestore!==e)throw new ae(K.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}class ZN{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Wh(e)}get(e){const n=Hl(e,this._firestore),r=new XN(this._firestore);return this._transaction.lookup([n._key]).then((o=>{if(!o||o.length!==1)return _e(24041);const c=o[0];if(c.isFoundDocument())return new Rh(this._firestore,r,c.key,c,n.converter);if(c.isNoDocument())return new Rh(this._firestore,r,n._key,null,n.converter);throw _e(18433,{doc:c})}))}set(e,n,r){const o=Hl(e,this._firestore),c=XE(o.converter,n,r),f=kE(this._dataReader,"Transaction.set",o._key,c,o.converter!==null,r);return this._transaction.set(o._key,f),this}update(e,n,r,...o){const c=Hl(e,this._firestore);let f;return f=typeof(n=ht(n))=="string"||n instanceof Jh?UE(this._dataReader,"Transaction.update",c._key,n,r,o):jE(this._dataReader,"Transaction.update",c._key,n),this._transaction.update(c._key,f),this}delete(e){const n=Hl(e,this._firestore);return this._transaction.delete(n._key),this}}class WN extends ZN{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Hl(e,this._firestore),r=new tf(this._firestore);return super.get(e).then((o=>new ur(this._firestore,r,n._key,o._document,new ao(!1,!1),n.converter)))}}function eD(s,e,n){s=Cn(s,_r);const r={...JN,...n};(function(f){if(f.maxAttempts<1)throw new ae(K.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r);const o=mc(s);return MN(o,(c=>e(new WN(s,c))),r)}function Xp(s){s=Cn(s,ut);const e=Cn(s.firestore,_r),n=mc(e);return NN(n,s._key).then((r=>ZE(e,s,r)))}function $E(s){s=Cn(s,ys);const e=Cn(s.firestore,_r),n=mc(e),r=new tf(e);return QE(s._query),DN(n,s._query).then((o=>new ta(e,r,s,o)))}function ac(s,e,n){s=Cn(s,ut);const r=Cn(s.firestore,_r),o=XE(s.converter,e,n),c=Wh(r);return JE(r,[kE(c,"setDoc",s._key,o,s.converter!==null,n).toMutation(s._key,rn.none())])}function $p(s,e,n,...r){s=Cn(s,ut);const o=Cn(s.firestore,_r),c=Wh(o);let f;return f=typeof(e=ht(e))=="string"||e instanceof Jh?UE(c,"updateDoc",s._key,e,n,r):jE(c,"updateDoc",s._key,e),JE(o,[f.toMutation(s._key,rn.exists(!0))])}function tD(s,...e){s=ht(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||tb(e[r])||(n=e[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(tb(e[r])){const y=e[r];e[r]=y.next?.bind(y),e[r+1]=y.error?.bind(y),e[r+2]=y.complete?.bind(y)}let c,f,m;if(s instanceof ut)f=Cn(s.firestore,_r),m=Bh(s._key.path),c={next:y=>{e[r]&&e[r](ZE(f,s,y))},error:e[r+1],complete:e[r+2]};else{const y=Cn(s,ys);f=Cn(y.firestore,_r),m=y._query;const E=new tf(f);c={next:S=>{e[r]&&e[r](new ta(f,E,y,S))},error:e[r+1],complete:e[r+2]},QE(s._query)}const g=mc(f);return CN(g,m,o,c)}function JE(s,e){const n=mc(s);return ON(n,e)}function ZE(s,e,n){const r=n.docs.get(e._key),o=new tf(s);return new ur(s,o,e._key,r,new ao(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){DI(Ao),qi(new li("firestore",((r,{instanceIdentifier:o,options:c})=>{const f=r.getProvider("app").getImmediate(),m=new _r(new VI(r.getProvider("auth-internal")),new UI(f,r.getProvider("app-check-internal")),e2(f,o),f);return c={useFetchStreams:n,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),Gn(Wv,eb,e),Gn(Wv,eb,"esm2020")})();function WE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nD=WE,ew=new la("auth","Firebase",WE());const Ih=new kh("@firebase/auth");function iD(s,...e){Ih.logLevel<=Le.WARN&&Ih.warn(`Auth (${Ao}): ${s}`,...e)}function ah(s,...e){Ih.logLevel<=Le.ERROR&&Ih.error(`Auth (${Ao}): ${s}`,...e)}function ps(s,...e){throw Jp(s,...e)}function zi(s,...e){return Jp(s,...e)}function tw(s,e,n){const r={...nD(),[e]:n};return new la("auth","Firebase",r).create(e,{appName:s.name})}function hr(s){return tw(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jp(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return ew.create(s,...e)}function Se(s,e,...n){if(!s)throw Jp(e,...n)}function cs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw ah(e),new Error(e)}function gs(s,e){s||cs(e)}function Xm(){return typeof self<"u"&&self.location?.href||""}function sD(){return sb()==="http:"||sb()==="https:"}function sb(){return typeof self<"u"&&self.location?.protocol||null}function rD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sD()||kb()||"connection"in navigator)?navigator.onLine:!0}function aD(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class pc{constructor(e,n){this.shortDelay=e,this.longDelay=n,gs(n>e,"Short delay should be less than long delay!"),this.isMobile=UA()||zA()}get(){return rD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Zp(s,e){gs(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class nw{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const oD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const lD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cD=new pc(3e4,6e4);function sf(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function fa(s,e,n,r,o={}){return iw(s,o,async()=>{let c={},f={};r&&(e==="GET"?f=r:c={body:JSON.stringify(r)});const m=oc({key:s.config.apiKey,...f}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:g,...c};return PA()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&So(s.emulatorConfig.host)&&(y.credentials="include"),nw.fetch()(await rw(s,s.config.apiHost,n,m),y)})}async function iw(s,e,n){s._canInitEmulator=!1;const r={...oD,...e};try{const o=new uD(s),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw Zu(s,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const m=c.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zu(s,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Zu(s,"email-already-in-use",f);if(g==="USER_DISABLED")throw Zu(s,"user-disabled",f);const E=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw tw(s,E,y);ps(s,E)}}catch(o){if(o instanceof hi)throw o;ps(s,"network-request-failed",{message:String(o)})}}async function sw(s,e,n,r,o={}){const c=await fa(s,e,n,r,o);return"mfaPendingCredential"in c&&ps(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function rw(s,e,n,r){const o=`${e}${n}?${r}`,c=s,f=c.config.emulator?Zp(s.config,o):`${s.config.apiScheme}://${o}`;return lD.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}class uD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(zi(this.auth,"network-request-failed")),cD.get())})}}function Zu(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=zi(s,e,r);return o.customData._tokenResponse=n,o}async function hD(s,e){return fa(s,"POST","/v1/accounts:delete",e)}async function Ch(s,e){return fa(s,"POST","/v1/accounts:lookup",e)}function $l(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fD(s,e=!1){const n=ht(s),r=await n.getIdToken(e),o=Wp(r);Se(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,f=c?.sign_in_provider;return{claims:o,token:r,authTime:$l(Sm(o.auth_time)),issuedAtTime:$l(Sm(o.iat)),expirationTime:$l(Sm(o.exp)),signInProvider:f||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Sm(s){return Number(s)*1e3}function Wp(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return ah("JWT malformed, contained fewer than 3 sections"),null;try{const o=Cb(n);return o?JSON.parse(o):(ah("Failed to decode base64 JWT payload"),null)}catch(o){return ah("Caught error parsing JWT payload as JSON",o?.toString()),null}}function rb(s){const e=Wp(s);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function wo(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof hi&&dD(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function dD({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class mD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class $m{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$l(this.lastLoginAt),this.creationTime=$l(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Nh(s){const e=s.auth,n=await s.getIdToken(),r=await wo(s,Ch(e,{idToken:n}));Se(r?.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?aw(o.providerUserInfo):[],f=gD(s.providerData,c),m=s.isAnonymous,g=!(s.email&&o.passwordHash)&&!f?.length,y=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new $m(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(s,E)}async function pD(s){const e=ht(s);await Nh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function gD(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function aw(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function yD(s,e){const n=await iw(s,{},async()=>{const r=oc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,f=await rw(s,o,"/v1/token",`key=${c}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:r};return s.emulatorConfig&&So(s.emulatorConfig.host)&&(g.credentials="include"),nw.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function _D(s,e){return fa(s,"POST","/v2/accounts:revokeToken",sf(s,e))}class ho{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=rb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:c}=await yD(e,n);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:c}=n,f=new ho;return r&&(Se(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),o&&(Se(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),c&&(Se(typeof c=="number","internal-error",{appName:e}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ho,this.toJSON())}_performRefresh(){return cs("not implemented")}}function er(s,e){Se(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ai{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new mD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new $m(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await wo(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return fD(this,e)}reload(){return pD(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ai({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Nh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ri(this.auth.app))return Promise.reject(hr(this.auth));const e=await this.getIdToken();return await wo(this,hD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:S,emailVerified:R,isAnonymous:B,providerData:$,stsTokenManager:W}=n;Se(S&&W,e,"internal-error");const te=ho.fromJSON(this.name,W);Se(typeof S=="string",e,"internal-error"),er(r,e.name),er(o,e.name),Se(typeof R=="boolean",e,"internal-error"),Se(typeof B=="boolean",e,"internal-error"),er(c,e.name),er(f,e.name),er(m,e.name),er(g,e.name),er(y,e.name),er(E,e.name);const se=new ai({uid:S,auth:e,email:o,emailVerified:R,displayName:r,isAnonymous:B,photoURL:f,phoneNumber:c,tenantId:m,stsTokenManager:te,createdAt:y,lastLoginAt:E});return $&&Array.isArray($)&&(se.providerData=$.map(ue=>({...ue}))),g&&(se._redirectEventId=g),se}static async _fromIdTokenResponse(e,n,r=!1){const o=new ho;o.updateFromServerResponse(n);const c=new ai({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Nh(c),c}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Se(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?aw(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!c?.length,m=new ho;m.updateFromIdToken(r);const g=new ai({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new $m(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(g,y),g}}const ab=new Map;function us(s){gs(s instanceof Function,"Expected a class definition");let e=ab.get(s);return e?(gs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,ab.set(s,e),e)}class ow{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ow.type="NONE";const ob=ow;function oh(s,e,n){return`firebase:${s}:${e}:${n}`}class fo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=oh(this.userKey,o.apiKey,c),this.fullPersistenceKey=oh("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ch(this.auth,{idToken:e}).catch(()=>{});return n?ai._fromGetAccountInfoResponse(this.auth,n,e):null}return ai._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new fo(us(ob),e,r);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||us(ob);const f=oh(r,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let S;if(typeof E=="string"){const R=await Ch(e,{idToken:E}).catch(()=>{});if(!R)break;S=await ai._fromGetAccountInfoResponse(e,R,E)}else S=ai._fromJSON(e,E);y!==c&&(m=S),c=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new fo(c,e,r):(c=g[0],m&&await c._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(f)}catch{}})),new fo(c,e,r))}}function lb(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dw(e))return"Blackberry";if(mw(e))return"Webos";if(cw(e))return"Safari";if((e.includes("chrome/")||uw(e))&&!e.includes("edge/"))return"Chrome";if(fw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function lw(s=Wt()){return/firefox\//i.test(s)}function cw(s=Wt()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uw(s=Wt()){return/crios\//i.test(s)}function hw(s=Wt()){return/iemobile/i.test(s)}function fw(s=Wt()){return/android/i.test(s)}function dw(s=Wt()){return/blackberry/i.test(s)}function mw(s=Wt()){return/webos/i.test(s)}function eg(s=Wt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function vD(s=Wt()){return eg(s)&&!!window.navigator?.standalone}function bD(){return BA()&&document.documentMode===10}function pw(s=Wt()){return eg(s)||fw(s)||mw(s)||dw(s)||/windows phone/i.test(s)||hw(s)}function gw(s,e=[]){let n;switch(s){case"Browser":n=lb(Wt());break;case"Worker":n=`${lb(Wt())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ao}/${r}`}class TD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=c=>new Promise((f,m)=>{try{const g=e(c);f(g)}catch(g){m(g)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function ED(s,e={}){return fa(s,"GET","/v2/passwordPolicy",sf(s,e))}const wD=6;class SD{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??wD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class AD{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cb(this),this.idTokenSubscription=new cb(this),this.beforeStateQueue=new TD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ew,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=us(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await fo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ch(this,{idToken:e}),r=await ai._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ri(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,f=r?._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===f)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Nh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ri(this.app))return Promise.reject(hr(this));const n=e?ht(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ri(this.app)?Promise.reject(hr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ri(this.app)?Promise.reject(hr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(us(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ED(this),n=new SD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new la("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await _D(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&us(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await fo.create(this,[us(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(m,this,"internal-error"),m.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,r,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&iD(`Error while retrieving App Check token: ${e.error}`),e?.token}}function rf(s){return ht(s)}class cb{constructor(e){this.auth=e,this.observer=null,this.addObserver=KA(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let tg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xD(s){tg=s}function RD(s){return tg.loadJS(s)}function ID(){return tg.gapiScript}function CD(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function ND(s,e){const n=ca(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(hs(c,e??{}))return o;ps(o,"already-initialized")}return n.initialize({options:e})}function DD(s,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(us);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function OD(s,e,n){const r=rf(s);Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=yw(e),{host:f,port:m}=MD(e),g=m===null?"":`:${m}`,y={url:`${c}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Se(hs(y,r.config.emulator)&&hs(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,So(f)?(Mb(`${c}//${f}${g}`),Vb("Auth",!0)):VD()}function yw(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function MD(s){const e=yw(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:ub(r.substr(c.length+1))}}else{const[c,f]=r.split(":");return{host:c,port:ub(f)}}}function ub(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function VD(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class _w{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return cs("not implemented")}_getIdTokenResponse(e){return cs("not implemented")}_linkToIdToken(e,n){return cs("not implemented")}_getReauthenticationResolver(e){return cs("not implemented")}}async function mo(s,e){return sw(s,"POST","/v1/accounts:signInWithIdp",sf(s,e))}const kD="http://localhost";class oa extends _w{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new oa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ps("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=n;if(!r||!o)return null;const f=new oa(r,o);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return mo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,mo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,mo(e,n)}buildRequest(){const e={requestUri:kD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=oc(n)}return e}}class vw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class gc extends vw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class tr extends gc{constructor(){super("facebook.com")}static credential(e){return oa._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return tr.credential(e.oauthAccessToken)}catch{return null}}}tr.FACEBOOK_SIGN_IN_METHOD="facebook.com";tr.PROVIDER_ID="facebook.com";class nr extends gc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return oa._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return nr.credential(n,r)}catch{return null}}}nr.GOOGLE_SIGN_IN_METHOD="google.com";nr.PROVIDER_ID="google.com";class ir extends gc{constructor(){super("github.com")}static credential(e){return oa._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ir.credential(e.oauthAccessToken)}catch{return null}}}ir.GITHUB_SIGN_IN_METHOD="github.com";ir.PROVIDER_ID="github.com";class sr extends gc{constructor(){super("twitter.com")}static credential(e,n){return oa._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return sr.credential(n,r)}catch{return null}}}sr.TWITTER_SIGN_IN_METHOD="twitter.com";sr.PROVIDER_ID="twitter.com";async function jD(s,e){return sw(s,"POST","/v1/accounts:signUp",sf(s,e))}class vr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const c=await ai._fromIdTokenResponse(e,r,o),f=hb(r);return new vr({user:c,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=hb(r);return new vr({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function hb(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function UD(s){if(ri(s.app))return Promise.reject(hr(s));const e=rf(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new vr({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await jD(e,{returnSecureToken:!0}),r=await vr._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}class Dh extends hi{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Dh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new Dh(e,n,r,o)}}function bw(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Dh._fromErrorAndOperation(s,c,e,r):c})}async function LD(s,e,n=!1){const r=await wo(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return vr._forOperation(s,"link",r)}async function PD(s,e,n=!1){const{auth:r}=s;if(ri(r.app))return Promise.reject(hr(r));const o="reauthenticate";try{const c=await wo(s,bw(r,o,e,s),n);Se(c.idToken,r,"internal-error");const f=Wp(c.idToken);Se(f,r,"internal-error");const{sub:m}=f;return Se(s.uid===m,r,"user-mismatch"),vr._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&ps(r,"user-mismatch"),c}}async function zD(s,e,n=!1){if(ri(s.app))return Promise.reject(hr(s));const r="signIn",o=await bw(s,r,e),c=await vr._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(c.user),c}async function BD(s,e){return fa(s,"POST","/v1/accounts:update",e)}async function qD(s,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ht(s),c={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},f=await wo(r,BD(r.auth,c));r.displayName=f.displayName||null,r.photoURL=f.photoUrl||null;const m=r.providerData.find(({providerId:g})=>g==="password");m&&(m.displayName=r.displayName,m.photoURL=r.photoURL),await r._updateTokensIfNecessary(f)}function HD(s,e,n,r){return ht(s).onIdTokenChanged(e,n,r)}function FD(s,e,n){return ht(s).beforeAuthStateChanged(e,n)}function GD(s,e,n,r){return ht(s).onAuthStateChanged(e,n,r)}const Oh="__sak";class Tw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Oh,"1"),this.storage.removeItem(Oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const QD=1e3,YD=10;class Ew extends Tw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},c=this.storage.getItem(r);bD()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,YD):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},QD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ew.type="LOCAL";const KD=Ew;class ww extends Tw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ww.type="SESSION";const Sw=ww;function XD(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class af{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new af(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:c}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,c)),g=await XD(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}af.receivers=[];function ng(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}class $D{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,f;return new Promise((m,g)=>{const y=ng("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(S){const R=S;if(R.data.eventId===y)switch(R.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(R.data.response);break;default:clearTimeout(E),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Bi(){return window}function JD(s){Bi().location.href=s}function Aw(){return typeof Bi().WorkerGlobalScope<"u"&&typeof Bi().importScripts=="function"}async function ZD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WD(){return navigator?.serviceWorker?.controller||null}function e4(){return Aw()?self:null}const xw="firebaseLocalStorageDb",t4=1,Mh="firebaseLocalStorage",Rw="fbase_key";class yc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function of(s,e){return s.transaction([Mh],e?"readwrite":"readonly").objectStore(Mh)}function n4(){const s=indexedDB.deleteDatabase(xw);return new yc(s).toPromise()}function Jm(){const s=indexedDB.open(xw,t4);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Mh,{keyPath:Rw})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Mh)?e(r):(r.close(),await n4(),e(await Jm()))})})}async function fb(s,e,n){const r=of(s,!0).put({[Rw]:e,value:n});return new yc(r).toPromise()}async function i4(s,e){const n=of(s,!1).get(e),r=await new yc(n).toPromise();return r===void 0?null:r.value}function db(s,e){const n=of(s,!0).delete(e);return new yc(n).toPromise()}const s4=800,r4=3;class Iw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>r4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Aw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=af._getInstance(e4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await ZD(),!this.activeServiceWorker)return;this.sender=new $D(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jm();return await fb(e,Oh,"1"),await db(e,Oh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>fb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>i4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>db(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=of(o,!1).getAll();return new yc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),s4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Iw.type="LOCAL";const a4=Iw;new pc(3e4,6e4);function o4(s,e){return e?us(e):(Se(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class ig extends _w{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return mo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return mo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function l4(s){return zD(s.auth,new ig(s),s.bypassAuthState)}function c4(s){const{auth:e,user:n}=s;return Se(n,e,"internal-error"),PD(n,new ig(s),s.bypassAuthState)}async function u4(s){const{auth:e,user:n}=s;return Se(n,e,"internal-error"),LD(n,new ig(s),s.bypassAuthState)}class Cw{constructor(e,n,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:c,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return l4;case"linkViaPopup":case"linkViaRedirect":return u4;case"reauthViaPopup":case"reauthViaRedirect":return c4;default:ps(this.auth,"internal-error")}}resolve(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const h4=new pc(2e3,1e4);class oo extends Cw{constructor(e,n,r,o,c){super(e,n,o,c),this.provider=r,this.authWindow=null,this.pollId=null,oo.currentPopupAction&&oo.currentPopupAction.cancel(),oo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){gs(this.filter.length===1,"Popup operations only handle one event");const e=ng();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(zi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,h4.get())};e()}}oo.currentPopupAction=null;const f4="pendingRedirect",lh=new Map;class d4 extends Cw{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=lh.get(this.auth._key());if(!e){try{const r=await m4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}lh.set(this.auth._key(),e)}return this.bypassAuthState||lh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function m4(s,e){const n=y4(e),r=g4(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function p4(s,e){lh.set(s._key(),e)}function g4(s){return us(s._redirectPersistence)}function y4(s){return oh(f4,s.config.apiKey,s.name)}async function _4(s,e,n=!1){if(ri(s.app))return Promise.reject(hr(s));const r=rf(s),o=o4(r,e),f=await new d4(r,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}const v4=600*1e3;class b4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!T4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Nw(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(zi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=v4&&this.cachedEventUids.clear(),this.cachedEventUids.has(mb(e))}saveEventToCache(e){this.cachedEventUids.add(mb(e)),this.lastProcessedEventTime=Date.now()}}function mb(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function Nw({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function T4(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Nw(s);default:return!1}}async function E4(s,e={}){return fa(s,"GET","/v1/projects",e)}const w4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,S4=/^https?/;async function A4(s){if(s.config.emulator)return;const{authorizedDomains:e}=await E4(s);for(const n of e)try{if(x4(n))return}catch{}ps(s,"unauthorized-domain")}function x4(s){const e=Xm(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!S4.test(n))return!1;if(w4.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const R4=new pc(3e4,6e4);function pb(){const s=Bi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function I4(s){return new Promise((e,n)=>{function r(){pb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pb(),n(zi(s,"network-request-failed"))},timeout:R4.get()})}if(Bi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Bi().gapi?.load)r();else{const o=CD("iframefcb");return Bi()[o]=()=>{gapi.load?r():n(zi(s,"network-request-failed"))},RD(`${ID()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw ch=null,e})}let ch=null;function C4(s){return ch=ch||I4(s),ch}const N4=new pc(5e3,15e3),D4="__/auth/iframe",O4="emulator/auth/iframe",M4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},V4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function k4(s){const e=s.config;Se(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Zp(e,O4):`https://${s.config.authDomain}/${D4}`,r={apiKey:e.apiKey,appName:s.name,v:Ao},o=V4.get(s.config.apiHost);o&&(r.eid=o);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${n}?${oc(r).slice(1)}`}async function j4(s){const e=await C4(s),n=Bi().gapi;return Se(n,s,"internal-error"),e.open({where:document.body,url:k4(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:M4,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const f=zi(s,"network-request-failed"),m=Bi().setTimeout(()=>{c(f)},N4.get());function g(){Bi().clearTimeout(m),o(r)}r.ping(g).then(g,()=>{c(f)})}))}const U4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},L4=500,P4=600,z4="_blank",B4="http://localhost";class gb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function q4(s,e,n,r=L4,o=P4){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const g={...U4,width:r.toString(),height:o.toString(),top:c,left:f},y=Wt().toLowerCase();n&&(m=uw(y)?z4:n),lw(y)&&(e=e||B4,g.scrollbars="yes");const E=Object.entries(g).reduce((R,[B,$])=>`${R}${B}=${$},`,"");if(vD(y)&&m!=="_self")return H4(e||"",m),new gb(null);const S=window.open(e||"",m,E);Se(S,s,"popup-blocked");try{S.focus()}catch{}return new gb(S)}function H4(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const F4="__/auth/handler",G4="emulator/auth/handler",Q4=encodeURIComponent("fac");async function yb(s,e,n,r,o,c){Se(s.config.authDomain,s,"auth-domain-config-required"),Se(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:Ao,eventId:o};if(e instanceof vw){e.setDefaultLanguage(s.languageCode),f.providerId=e.providerId||"",YA(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(e instanceof gc){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}s.tenantId&&(f.tid=s.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await s._getAppCheckToken(),y=g?`#${Q4}=${encodeURIComponent(g)}`:"";return`${Y4(s)}?${oc(m).slice(1)}${y}`}function Y4({config:s}){return s.emulator?Zp(s,G4):`https://${s.authDomain}/${F4}`}const Am="webStorageSupport";class K4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sw,this._completeRedirectFn=_4,this._overrideRedirectResult=p4}async _openPopup(e,n,r,o){gs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await yb(e,n,r,Xm(),o);return q4(e,c,ng())}async _openRedirect(e,n,r,o){await this._originValidation(e);const c=await yb(e,n,r,Xm(),o);return JD(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(gs(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await j4(e),r=new b4(e);return n.register("authEvent",o=>(Se(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Am,{type:Am},o=>{const c=o?.[0]?.[Am];c!==void 0&&n(!!c),ps(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=A4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pw()||cw()||eg()}}const X4=K4;var _b="@firebase/auth",vb="1.12.0";class $4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function J4(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Z4(s){qi(new li("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=r.options;Se(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:f,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gw(s)},y=new AD(r,o,c,g);return DD(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),qi(new li("auth-internal",e=>{const n=rf(e.getProvider("auth").getImmediate());return(r=>new $4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gn(_b,vb,J4(s)),Gn(_b,vb,"esm2020")}const W4=300,eO=Ob("authIdTokenMaxAge")||W4;let bb=null;const tO=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>eO)return;const o=n?.token;bb!==o&&(bb=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function nO(s=tp()){const e=ca(s,"auth");if(e.isInitialized())return e.getImmediate();const n=ND(s,{popupRedirectResolver:X4,persistence:[a4,KD,Sw]}),r=Ob("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const f=tO(c.toString());FD(n,f,()=>f(n.currentUser)),HD(n,m=>f(m))}}const o=Nb("auth");return o&&OD(n,`http://${o}`),n}function iO(){return document.getElementsByTagName("head")?.[0]??document}xD({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const c=zi("internal-error");c.customData=o,n(c)},r.type="text/javascript",r.charset="UTF-8",iO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Z4("Browser");const sO={apiKey:"AIzaSyAVpKz8TJcz9Q0CbSj2v_KQyeEs6SsuXsI",authDomain:"invitation-475eb.firebaseapp.com",projectId:"invitation-475eb",storageBucket:"invitation-475eb.firebasestorage.app",messagingSenderId:"1068873981449",appId:"1:1068873981449:web:82210f667d60117585e2d8",measurementId:"G-5YHV8DE43L"},sg=Bb(sO);xI(sg);const gn=UN(sg),Dn=nO(sg),rO=()=>{const[s,e]=ie.useState(null);return ie.useEffect(()=>{const n=r=>{const o=r.detail.message,c=Date.now();e({message:o,id:c}),setTimeout(()=>{e(f=>f&&f.id===c?null:f)},3e3)};return window.addEventListener("show-toast",n),()=>window.removeEventListener("show-toast",n)},[]),s?b.jsxs("div",{style:Tb.toast,children:[b.jsx("span",{style:Tb.icon,children:""}),s.message]}):null},Tb={toast:{position:"fixed",top:"20px",left:"50%",transform:"translateX(-50%)",backgroundColor:"rgba(0, 0, 0, 0.9)",color:"#ffd700",padding:"12px 24px",borderRadius:"30px",fontSize:"0.9rem",fontWeight:"bold",zIndex:9999,display:"flex",alignItems:"center",gap:"8px",boxShadow:"0 4px 15px rgba(0,0,0,0.3)",animation:"slideDown 0.3s ease-out",whiteSpace:"nowrap",border:"1px solid #ffd700"},icon:{fontSize:"1.2rem"}},Dw=document.createElement("style");Dw.innerText=`
  @keyframes slideDown {
    from { transform: translate(-50%, -20px); opacity: 0; }
    to { transform: translate(-50%, 0); opacity: 1; }
  }
`;document.head.appendChild(Dw);const ro={FIRST_STEP:{id:"FIRST_STEP",title:" ",desc:"  ."},RUNNER:{id:"RUNNER",title:" ",desc:" () ."},HIGH_SCORE:{id:"HIGH_SCORE",title:" ",desc:"  100 !"},WEDDING_CRASHER:{id:"WEDDING_CRASHER",title:" ?",desc:"   10 ."},DATA_COLLECTOR:{id:"DATA_COLLECTOR",title:" ",desc:"    ."}};let ki=null,xm=!1;const uh=new Set;try{const s=localStorage.getItem("my_achievements");s&&(ki=JSON.parse(s),ki.forEach(e=>uh.add(e)))}catch(s){console.error(s)}const po=async(s,e=null)=>{const n=Dn.currentUser;if(n)try{if(ki===null&&!xm){xm=!0;try{const o=ui(gn,"users",n.uid),c=await Xp(o);c.exists()?ki=c.data().achievements||[]:ki=[],ki.forEach(f=>uh.add(f)),localStorage.setItem("my_achievements",JSON.stringify(ki))}catch(o){console.error("Failed to fetch achievements:",o)}finally{xm=!1}}const r=async o=>{if(uh.has(o))return;uh.add(o);const c=ro[o];window.dispatchEvent(new CustomEvent("achievement-unlocked",{detail:{...c}})),ki&&(ki.push(o),localStorage.setItem("my_achievements",JSON.stringify(ki)));const f=ui(gn,"users",n.uid);ac(f,{achievements:FE(o)},{merge:!0}).catch(m=>console.error("Achievement save failed:",m))};switch(s){case"LOGIN":await r(ro.FIRST_STEP.id);break;case"GAME_START":await r(ro.RUNNER.id);break;case"GAME_SCORE":e>=100&&await r(ro.HIGH_SCORE.id);break;case"TOUCH_CHARACTER":e&&e.groom>=10&&e.bride>=10&&await r(ro.WEDDING_CRASHER.id);break;default:break}}catch(r){console.error("Error checking achievement:",r)}},aO=({onStart:s,onSwitchToV1:e})=>{const[n,r]=ie.useState(!1),[o,c]=ie.useState(""),[f,m]=ie.useState(!1),[g,y]=ie.useState("  ...");ie.useEffect(()=>{r(!0);const R=GD(Dn,B=>{});return()=>R()},[]);const E=async()=>{if(!o.trim()){alert(" ! ()");return}m(!0),y("   ...  ! "),[{text:"    ...  ! ",delay:800},{text:"    ... ",delay:1600},{text:`, [${o}] !  .`,delay:2400}].forEach(({text:B,delay:$})=>{setTimeout(()=>y(B),$)}),setTimeout(async()=>{try{let B=Dn.currentUser;B||(B=(await UD(Dn)).user),await qD(B,{displayName:o});const $=ui(gn,"users",B.uid),W=await Xp($),te=!W.exists()||W.data().nickname!==o;if(te){let se={nickname:o,achievements:[],collection:[],diamonds:0,storySeen:!1,createdAt:new Date,lastLogin:new Date};try{const ue=YE(OE(gn,"users"),QN("nickname","==",o)),le=await $E(ue);if(!le.empty){const Ie=le.docs.map(we=>({id:we.id,...we.data()})),Me=Ie.find(we=>we.id!==B.uid)||Ie[0];Me&&Me.id!==B.uid&&(console.log("Found previous account:",Me.id),se={...se,achievements:Me.achievements||[],collection:Me.collection||[],diamonds:Me.diamonds||0},alert(` (${o})  ! `))}}catch(ue){console.error("Error searching for existing user:",ue)}await ac($,se,{merge:!0}),localStorage.removeItem("wedding_collection_v2"),localStorage.removeItem("my_achievements"),se.achievements?.length>0&&localStorage.setItem("my_achievements",JSON.stringify(se.achievements)),se.collection?.length>0&&(localStorage.setItem("wedding_collection_v2",JSON.stringify(se.collection)),window.dispatchEvent(new Event("collectionUpdated")))}else{await ac($,{lastLogin:new Date},{merge:!0});const se=W.data();se.achievements&&Array.isArray(se.achievements)&&localStorage.setItem("my_achievements",JSON.stringify(se.achievements)),se.collection&&Array.isArray(se.collection)&&(localStorage.setItem("wedding_collection_v2",JSON.stringify(se.collection)),window.dispatchEvent(new Event("collectionUpdated")))}po("LOGIN"),s(te)}catch(B){console.error("Login Failed",B),alert(" .  ."),m(!1)}},3e3)},S=new URL("/Invitation/assets/pixel_castle_bg-JX_UEiKn.png",import.meta.url).href;return b.jsxs("div",{className:"flex flex-col items-center justify-center h-full w-full font-pixel relative overflow-hidden text-white",children:[b.jsx("div",{className:"absolute inset-0 z-0 bg-cover bg-center",style:{backgroundImage:`url(${S})`,imageRendering:"pixelated"},children:b.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-[2px]"})}),b.jsxs("div",{className:`relative z-10 flex flex-col items-center p-8 transition-all duration-700 transform ${n?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[b.jsx("div",{className:"absolute inset-0 border-4 border-white bg-black/60 shadow-lg",style:{clipPath:"polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)"}}),b.jsxs("div",{className:"relative z-20 flex flex-col items-center text-center w-full max-w-md",children:[b.jsxs("div",{className:"mb-10 animate-pulse",children:[b.jsx("p",{className:"text-yellow-400 text-sm tracking-[0.2em] mb-2 uppercase shine",children:"  "}),b.jsxs("h1",{className:"text-5xl md:text-7xl text-white drop-shadow-[4px_4px_0_rgba(0,0,0,1)] leading-tight font-pixel",children:["WEDDING",b.jsx("br",{}),"QUEST"]})]}),b.jsx("div",{className:"w-full flex flex-col gap-4",children:f?b.jsx("div",{className:"w-full border-4 border-white p-6 bg-black/80 text-center",children:b.jsxs("p",{className:"text-green-400 text-lg animate-pulse",children:[">"," ",g," ",b.jsx("span",{className:"animate-blink",children:"_"})]})}):b.jsxs(b.Fragment,{children:[b.jsx("input",{type:"text",placeholder:" ()",value:o,onChange:R=>c(R.target.value),className:"w-full bg-black/50 border-4 border-white text-white p-4 text-center text-xl placeholder:text-gray-500 focus:bg-black/70 focus:outline-none focus:border-yellow-400 transition-colors uppercase font-pixel",maxLength:8,onKeyDown:R=>R.key==="Enter"&&E(),autoFocus:!0}),b.jsx("button",{onClick:E,className:"w-full bg-blue-600 border-b-4 border-r-4 border-blue-800 text-white p-4 text-xl hover:bg-blue-500 hover:translate-y-1 hover:border-b-0 hover:border-r-0 active:translate-y-2 transition-all group relative overflow-hidden",children:b.jsx("span",{className:"relative z-10",children:"  (START)"})})]})}),b.jsx("button",{onClick:e,className:"mt-8 text-xs text-white/50 hover:text-white underline decoration-dashed underline-offset-4",children:"[    ]"})]})]}),b.jsx("div",{className:"absolute inset-0 pointer-events-none z-50 opacity-10",style:{background:"linear-gradient(to bottom, transparent 50%, rgba(0, 0, 0, 0.5) 51%)",backgroundSize:"100% 4px"}})]})},Ow="/Invitation/assets/groom_nobg-tvOAzn_6.png",rg="/Invitation/assets/bride_nobg-CV5a6LWZ.png",Zm=async s=>{const e=Dn.currentUser;if(e&&!(s<=0))try{const n=ui(gn,"users",e.uid);await $p(n,{diamonds:GE(s)}),console.log(`Earned ${s} Diamonds!`)}catch(n){console.error("Error adding diamonds:",n)}},oO=async s=>{const e=Dn.currentUser;if(!e)return!1;const n=ui(gn,"users",e.uid);try{return await eD(gn,async o=>{const c=await o.get(n);if(!c.exists())throw"User does not exist!";return(c.data().diamonds||0)<s?!1:(o.update(n,{diamonds:GE(-s)}),!0)})}catch(r){return console.error("Transaction failed: ",r),!1}},lO=s=>{const e=Dn.currentUser;if(!e)return s(0),()=>{};const n=ui(gn,"users",e.uid);return tD(n,o=>{o.exists()?s(o.data().diamonds||0):s(0)})},cO="/Invitation/assets/groom-cEf0GPId.jpg",uO="/Invitation/assets/bride-C9xQdNrL.jpg",hO=()=>{const[s,e]=ie.useState(null),[n,r]=ie.useState(!1),o=[{id:"groom",name:"",type:"[ / ]",stars:"",desc:'"   ,    .  ,  ."',atk:"",def:"",img:cO,bank:"",account:"49591044955107",displayAccount:"495-910449-55107",holder:""},{id:"bride",name:"",type:"[ / ]",stars:"",desc:'"    ,     .    ."',atk:"",def:"",img:uO,bank:"",account:"110297915880",displayAccount:"110-297-915880",holder:""}],c=f=>{const m=`${f.account} ${f.bank}`;navigator.clipboard.writeText(m).then(()=>{r(!0),setTimeout(()=>r(!1),2e3)}).catch(g=>{console.error("Failed to copy: ",g)}),e(f.id)};return b.jsxs("section",{className:"py-24 px-4 bg-background text-center relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-20 left-10 w-40 h-40 bg-primary/10 rounded-full blur-3xl animate-pulse"}),b.jsx("div",{className:"absolute bottom-20 right-10 w-60 h-60 bg-secondary/10 rounded-full blur-3xl animate-pulse delay-700"}),b.jsx("h2",{className:"text-3xl md:text-4xl text-primary font-heading font-medium mb-4 animate-fade-in-up relative z-10",children:"Groom & Bride"}),b.jsx("p",{className:"text-text/60 mb-12 animate-fade-in-up delay-100 font-body relative z-10",children:"   "}),b.jsx("div",{className:"flex flex-col md:flex-row justify-center gap-8 items-stretch max-w-5xl mx-auto relative z-10",children:o.map((f,m)=>b.jsx("div",{className:"relative w-full max-w-md group",children:b.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-[2.5rem] p-8 shadow-soft-lg border border-white/60 hover:shadow-soft-xl hover:-translate-y-2 transition-all duration-500 h-full flex flex-col items-center",children:[b.jsxs("div",{className:"relative w-48 h-48 mb-6",children:[b.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-tr from-primary/20 to-secondary/20 animate-spin-slow blur-md"}),b.jsx("div",{className:"absolute inset-1 rounded-full bg-white p-1 shadow-inner",children:b.jsx("img",{src:f.img,alt:f.name,className:"w-full h-full object-cover rounded-full"})})]}),b.jsx("h3",{className:"text-2xl font-bold text-text mb-2 font-heading",children:f.name}),b.jsx("p",{className:"text-primary font-body text-lg mb-6",children:f.type.replace("[","").replace("]","")}),b.jsx("div",{className:"w-full bg-background/50 rounded-2xl p-6 mb-6 flex-1 border border-primary/5",children:b.jsx("p",{className:"font-body text-text/80 italic leading-relaxed text-lg",children:f.desc.replace(/"/g,"")})}),b.jsxs("button",{onClick:()=>c(f),className:"w-full py-4 bg-white border border-primary/20 rounded-xl shadow-sm hover:shadow-md hover:border-primary/50 transition-all flex flex-col items-center justify-center gap-1 group/btn",children:[b.jsxs("div",{className:"flex items-center gap-2 text-text/60 text-sm group-hover/btn:text-primary transition-colors",children:[b.jsx("span",{children:f.bank}),b.jsx("span",{className:"w-1 h-3 bg-gray-300 rounded-full"}),b.jsx("span",{children:f.holder})]}),b.jsx("span",{className:"font-body font-bold text-lg text-text tracking-wide group-hover/btn:text-primary transition-colors",children:f.displayAccount}),b.jsx("span",{className:"text-xs text-primary/60 font-medium opacity-0 group-hover/btn:opacity-100 transition-opacity -mb-4 absolute bottom-2",children:"Click to Copy"})]})]})},f.id))}),b.jsx("div",{className:`
                    fixed bottom-10 left-1/2 -translate-x-1/2 bg-white/90 backdrop-blur-md text-text px-8 py-4 rounded-full shadow-soft-xl z-[100] whitespace-nowrap transition-all duration-500 border border-white/50
                    ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-8 pointer-events-none"}
                `,children:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("span",{className:"text-primary text-xl",children:""}),b.jsx("span",{className:"font-body font-medium text-lg",children:" "})]})})]})},fO="/Invitation/assets/groom_sprites-Dcepr75R.png",dO="/Invitation/assets/bride_sprites-CIfQIsBB.png",Kt={audioCtx:null,init(){this.audioCtx||(this.audioCtx=new(window.AudioContext||window.webkitAudioContext))},playTone(s,e,n,r=.1){try{if(this.audioCtx||this.init(),!this.audioCtx)return;this.audioCtx.state==="suspended"&&this.audioCtx.resume().catch(()=>{});const o=this.audioCtx.createOscillator(),c=this.audioCtx.createGain();o.type=e,o.frequency.setValueAtTime(s,this.audioCtx.currentTime),c.gain.setValueAtTime(r,this.audioCtx.currentTime),c.gain.exponentialRampToValueAtTime(.01,this.audioCtx.currentTime+n),o.connect(c),c.connect(this.audioCtx.destination),o.start(),o.stop(this.audioCtx.currentTime+n)}catch(o){console.warn("Audio play failed",o)}},playClick(){this.playTone(800,"sine",.1,.1)},playConfirm(){try{if(this.audioCtx||this.init(),!this.audioCtx)return;this.audioCtx.state==="suspended"&&this.audioCtx.resume().catch(()=>{});const s=this.audioCtx.currentTime,e=this.audioCtx.createOscillator(),n=this.audioCtx.createGain();e.type="sine",e.frequency.setValueAtTime(600,s),e.frequency.exponentialRampToValueAtTime(1200,s+.1),n.gain.setValueAtTime(.1,s),n.gain.exponentialRampToValueAtTime(.01,s+.2),e.connect(n),n.connect(this.audioCtx.destination),e.start(),e.stop(s+.2)}catch(s){console.warn("Audio confirm failed",s)}},playHover(){this.playTone(400,"sine",.05,.05)},playDamage(){this.playTone(150,"sawtooth",.2,.2)},playWin(){try{if(this.audioCtx||this.init(),!this.audioCtx)return;this.audioCtx.state==="suspended"&&this.audioCtx.resume().catch(()=>{});const s=this.audioCtx.currentTime;[523.25,659.25,783.99,1046.5].forEach((e,n)=>{const r=this.audioCtx.createOscillator(),o=this.audioCtx.createGain();r.type="square",r.frequency.setValueAtTime(e,s+n*.1),o.gain.setValueAtTime(.1,s+n*.1),o.gain.exponentialRampToValueAtTime(.01,s+n*.1+.1),r.connect(o),o.connect(this.audioCtx.destination),r.start(s+n*.1),r.stop(s+n*.1+.1)})}catch{}},playJump(){try{if(this.audioCtx||this.init(),!this.audioCtx)return;this.audioCtx.state==="suspended"&&this.audioCtx.resume().catch(()=>{});const s=this.audioCtx.currentTime,e=this.audioCtx.createOscillator(),n=this.audioCtx.createGain();e.type="square",e.frequency.setValueAtTime(150,s),e.frequency.linearRampToValueAtTime(300,s+.1),n.gain.setValueAtTime(.1,s),n.gain.exponentialRampToValueAtTime(.01,s+.1),e.connect(n),n.connect(this.audioCtx.destination),e.start(),e.stop(s+.1)}catch{}}},mO=({selectedCharacter:s="groom"})=>{const e=ie.useRef(null),[n,r]=ie.useState("START"),[o,c]=ie.useState(0),[f,m]=ie.useState(0),[g,y]=ie.useState("groom"),[E,S]=ie.useState(!1),R=ie.useRef(null),B=ie.useRef(0),$=ie.useRef(new Image),W=ie.useRef(new Image),te=ie.useRef(new Image),se=ie.useRef({});ie.useEffect(()=>{let Te=0;const H=3,ee=()=>{Te++,Te>=H&&S(!0)},he=new Image;he.src=new URL("/Invitation/assets/pixel_castle_bg-JX_UEiKn.png",import.meta.url).href,he.onload=()=>{te.current=he,ee()};const Ce=j=>new Promise(Q=>{const ne=new Image;ne.crossOrigin="Anonymous",ne.src=j,ne.onload=()=>{const de=document.createElement("canvas");de.width=ne.width,de.height=ne.height;const oe=de.getContext("2d");oe.drawImage(ne,0,0);const Ee=oe.getImageData(0,0,de.width,de.height),qe=Ee.data;for(let on=0;on<qe.length;on+=4){const _s=qe[on],vs=qe[on+1],bs=qe[on+2];_s===255&&vs===0&&bs===255&&(qe[on+3]=0)}oe.putImageData(Ee,0,0);const Ze=new Image;Ze.onload=()=>Q(Ze),Ze.src=de.toDataURL()}}),pe=async(j,Q)=>{const ne=await Ce(Q);j.current=ne,ee()};pe($,fO),pe(W,dO),["","","","","","","",""].forEach(j=>{const Q=document.createElement("canvas");Q.width=50,Q.height=50;const ne=Q.getContext("2d");ne.font="40px serif",ne.textAlign="center",ne.textBaseline="middle",ne.fillText(j,25,27);const de=new Image;de.src=Q.toDataURL(),se.current[j]=de})},[]);const ue=800,le=400,Ie=50,Me=2026,we=160,I=40,x=ie.useRef({dino:{x:50,y:0,w:0,h:0,dy:0,grounded:!0},items:[],obstacles:[],clouds:[],particles:[],fireworks:[],frame:0,bgOffset:0,isGameOver:!1,isGameClear:!1,animationId:null}),C=()=>{const Te=we;let H=we;const ee=g==="groom"?$.current:W.current;if(ee&&ee.complete&&ee.width>0){const he=ee.width/3,Ce=ee.height,pe=he/Ce;H=Te*pe}x.current={dino:{x:100,y:le-Ie-Te,w:H,h:Te,dy:0,grounded:!0},items:[],obstacles:[],clouds:[],particles:[],fireworks:[],frame:0,bgOffset:0,isGameOver:!1,isGameClear:!1,animationId:null,speed:6,spawnRate:60,lastSpawnType:null},c(0),B.current=0,m(0)},k=()=>{if(x.current.dino.grounded){Kt.playJump(),x.current.dino.dy=-15,x.current.dino.grounded=!1;for(let Te=0;Te<5;Te++)x.current.particles.push({x:x.current.dino.x+x.current.dino.w/2,y:x.current.dino.y+x.current.dino.h+I,vx:(Math.random()-.5)*5,vy:(Math.random()-.5)*2,life:20,color:"#fff"})}},N=(Te,H)=>{const ee=["#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF"],he=ee[Math.floor(Math.random()*ee.length)];for(let Ce=0;Ce<20;Ce++){const pe=Math.random()*Math.PI*2,D=Math.random()*5+2;x.current.fireworks.push({x:Te,y:H,vx:Math.cos(pe)*D,vy:Math.sin(pe)*D,life:60,color:he})}},O=async Te=>{const H=Dn.currentUser;if(H)try{const ee=ui(gn,"scores",H.uid);await ac(ee,{uid:H.uid,displayName:H.displayName||"Guest",score:Te,timestamp:HE()},{merge:!0})}catch(ee){console.error(ee)}};ie.useEffect(()=>{const H=e.current.getContext("2d");H.imageSmoothingEnabled=!1;let ee=performance.now();n==="PLAYING"&&(R.current&&clearInterval(R.current),R.current=setInterval(()=>{m(pe=>pe+1)},1e3));const he=pe=>{if(n!=="PLAYING")return;const D=Math.min((pe-ee)/16,2);ee=pe;const j=x.current;if(!j.isGameClear&&!j.isGameOver){if(j.frame++,j.speed=Math.min(16,6+Math.floor(j.frame/500)),j.spawnRate=Math.max(18,60-Math.floor(j.frame/300)*10),j.bgOffset+=j.speed*.5*D,j.frame%30===0&&B.current>=Me&&(j.isGameClear=!0,r("CLEAR"),po("GAME_CLEAR"),O(B.current),Zm(B.current),Kt.playWin(),N(ue/2,le/2),R.current&&clearInterval(R.current)),j.dino.dy+=1.5*D,j.dino.y+=j.dino.dy*D,j.dino.y+j.dino.h>le-Ie&&(j.dino.y=le-Ie-j.dino.h,j.dino.dy=0,j.dino.grounded=!0),j.frame%j.spawnRate===0){let oe=Math.random()>.4;if(j.lastSpawnType==="obstacle"&&(oe=!0),oe){const Ee=["","","","",""],qe=Ee[Math.floor(Math.random()*Ee.length)];j.items.push({x:ue,y:le-Ie-60-Math.random()*100,w:50,h:50,type:qe,vy:Math.sin(j.frame)*.5}),j.lastSpawnType="item"}else{const Ee=["","",""],qe=Ee[Math.floor(Math.random()*Ee.length)];j.obstacles.push({x:ue,y:le-Ie-50,w:50,h:50,type:qe}),j.lastSpawnType="obstacle"}}const Q=oe=>{oe.x-=j.speed*D,oe.vy&&(oe.y+=Math.sin(j.frame*.1)*2*D)};[...j.items,...j.obstacles].forEach(Q),j.items=j.items.filter(oe=>oe.x+oe.w>0&&!oe.collected),j.obstacles=j.obstacles.filter(oe=>oe.x+oe.w>0);const ne=20,de=oe=>j.dino.x+ne<oe.x+oe.w-ne&&j.dino.x+j.dino.w-ne>oe.x+ne&&j.dino.y+ne<oe.y+oe.h-ne&&j.dino.y+j.dino.h-ne>oe.y+ne;j.items.forEach(oe=>{if(de(oe)){oe.collected=!0,Kt.playConfirm(),c(Ee=>{const qe=Ee+1;return B.current=qe,qe===100&&po("GAME_SCORE",qe),qe});for(let Ee=0;Ee<5;Ee++)j.particles.push({x:oe.x,y:oe.y,vx:(Math.random()-.5)*5,vy:(Math.random()-.5)*5,life:30,color:"#FFD700"})}}),j.obstacles.forEach(oe=>{de(oe)&&(Kt.playDamage(),j.isGameOver=!0,r("GAME_OVER"),R.current&&clearInterval(R.current),O(B.current),Zm(B.current))})}else j.isGameClear&&(j.frame%30===0&&N(Math.random()*ue,Math.random()*le/2),R.current&&clearInterval(R.current));j.particles.forEach(Q=>{Q.x+=Q.vx*D,Q.y+=Q.vy*D,Q.life-=D,Q.vy+=.1*D}),j.fireworks.forEach(Q=>{Q.x+=Q.vx*D,Q.y+=Q.vy*D,Q.life-=D,Q.vy+=.1*D}),j.particles=j.particles.filter(Q=>Q.life>0),j.fireworks=j.fireworks.filter(Q=>Q.life>0),Ce(H),(n==="PLAYING"||n==="CLEAR")&&(x.current.animationId=requestAnimationFrame(he))},Ce=pe=>{const D=x.current;if(te.current&&te.current.complete){const Q=-(D.bgOffset%te.current.width);pe.drawImage(te.current,Q,0,te.current.width,le),pe.drawImage(te.current,Q+te.current.width,0,te.current.width,le)}else pe.fillStyle="#87CEEB",pe.fillRect(0,0,ue,le);pe.textAlign="center",pe.textBaseline="middle",pe.font="40px Silkscreen",D.items.forEach(Q=>{!Q.collected&&se.current[Q.type]&&pe.drawImage(se.current[Q.type],Q.x,Q.y,Q.w,Q.h)}),D.obstacles.forEach(Q=>{se.current[Q.type]&&pe.drawImage(se.current[Q.type],Q.x,Q.y,Q.w,Q.h)});const j=g==="groom"?$.current:W.current;if(j&&j.complete&&j.width>0){const Q=j.width/3,ne=j.height,de=Math.floor(D.frame/6)%2+1,oe=D.dino.grounded&&!D.isGameClear?de:0;pe.drawImage(j,oe*Q,0,Q,ne,D.dino.x,D.dino.y+I,D.dino.w,D.dino.h)}pe.fillStyle="#FFD700",D.particles.forEach(Q=>{Q.color==="#FFD700"&&pe.fillRect(Q.x,Q.y,4,4)}),pe.fillStyle="#FFFFFF",D.particles.forEach(Q=>{(Q.color==="#fff"||Q.color==="#FFFFFF")&&pe.fillRect(Q.x,Q.y,4,4)}),D.fireworks.forEach(Q=>{pe.fillStyle=Q.color,pe.fillRect(Q.x,Q.y,3,3)})};return n==="PLAYING"||n==="CLEAR"?(ee=performance.now(),x.current.animationId=requestAnimationFrame(he)):Ce(H),()=>{cancelAnimationFrame(x.current.animationId),R.current&&clearInterval(R.current)}},[n,g,E]);const A=()=>{n==="START"||n==="GAME_OVER"||n==="CLEAR"?(Kt.playClick(),C(),r("PLAYING"),po("GAME_START")):k()},xe=Te=>{const H=Math.floor(Te/60),ee=Te%60;return`${H.toString().padStart(2,"0")}:${ee.toString().padStart(2,"0")}`};return b.jsxs("div",{onClick:A,className:"relative w-full aspect-[2/1] bg-sky-300 border-4 border-black overflow-hidden shadow-[8px_8px_0_rgba(0,0,0,0.5)] font-['Silkscreen'] select-none cursor-pointer",children:[b.jsx("canvas",{ref:e,width:800,height:400,className:"w-full h-full block",style:{imageRendering:"pixelated"}}),n==="START"&&b.jsxs("div",{className:"absolute inset-0 bg-black/60 flex flex-col items-center justify-center text-white p-4 font-['Silkscreen']",children:[b.jsx("h2",{className:"text-4xl text-yellow-400 mb-4 animate-bounce drop-shadow-md font-['Silkscreen']",children:"WEDDING RUN"}),b.jsx("p",{className:"text-sm mb-8 animate-pulse text-gray-300",children:"INSERT COIN TO START"}),b.jsx("div",{className:"border-4 border-white px-6 py-2 bg-blue-600 hover:bg-blue-500 blink",children:"PRESS START"})]}),n==="GAME_OVER"&&b.jsxs("div",{className:"absolute inset-0 bg-black/70 flex flex-col items-center justify-center text-white font-['Silkscreen']",children:[b.jsx("h2",{className:"text-5xl text-red-500 mb-4 drop-shadow-md font-['Silkscreen']",children:"GAME OVER"}),b.jsxs("p",{className:"text-2xl mb-2",children:["SCORE: ",o]}),b.jsxs("p",{className:"text-xl mb-2 text-cyan-400 font-bold animate-pulse",children:[" EARNED: +",o]}),b.jsxs("p",{className:"text-lg text-gray-400 mb-8",children:["TIME: ",xe(f)]}),b.jsx("div",{className:"border-4 border-white px-6 py-2 hover:bg-white hover:text-black transition-colors",children:"RETRY ?"})]}),b.jsx("div",{className:"absolute top-4 left-4 z-20",children:b.jsxs("div",{className:"bg-black/50 text-white px-3 py-1 border-2 border-white/50 text-sm flex items-center shadow-md backdrop-blur-sm rounded-md",children:[" ",xe(f)]})}),b.jsxs("div",{className:"absolute top-4 right-4 text-2xl text-white drop-shadow-[2px_2px_0_black]",children:["SCORE: ",o]})]})};var Mw=wb();const Wu=Sb(),Rm={SSR:.1,SR:.3},pO=()=>{const[s,e]=ie.useState([]),[n,r]=ie.useState(!1),o=async c=>{if(n||Wu.length===0)return;if(Kt.playClick(),!await oO(c)){alert(` ! ${c} ! `);return}r(!0),e([]),setTimeout(()=>{const m=[];for(let y=0;y<c;y++){const E=Math.random();let S="R";E<Rm.SSR?S="SSR":E<Rm.SSR+Rm.SR&&(S="SR");let R=Wu.filter(W=>W.rarity===S);R.length===0&&(S="SR",R=Wu.filter(W=>W.rarity===S)),R.length===0&&(S="R",R=Wu.filter(W=>W.rarity===S));const B=R[Math.floor(Math.random()*R.length)],$=JSON.parse(localStorage.getItem("wedding_collection_v2")||"[]");$.includes(B.path)||($.push(B.path),localStorage.setItem("wedding_collection_v2",JSON.stringify($))),m.push({image:B.src,originalPath:B.path,rarity:S==="SSR"?"SSR/":S==="SR"?"SR/":"R/",originalRarity:S})}window.dispatchEvent(new Event("collectionUpdated")),e(m),r(!1),Kt.playConfirm();const g=Dn.currentUser;if(g&&m.length>0){const y=ui(gn,"users",g.uid);m.map(S=>S.image.split("assets/")[1]?`assets/${S.image.split("assets/")[1]}`:S.image);const E=m.map(S=>S.originalPath);$p(y,{collection:FE(...E)}).catch(S=>console.error("Error saving collection to Firestore:",S))}},2e3)};return b.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-background relative overflow-hidden font-body p-4 select-none",children:[b.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[500px] h-[500px] bg-primary/10 rounded-full blur-[100px] animate-pulse pointer-events-none"}),b.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[600px] h-[600px] bg-secondary/10 rounded-full blur-[120px] animate-pulse delay-1000 pointer-events-none"}),s.length===0&&!n&&b.jsxs("div",{className:"z-10 flex flex-col items-center w-full max-w-sm animate-in zoom-in duration-500 font-['Silkscreen']",children:[b.jsxs("div",{className:"mb-4 text-center bg-black/60 backdrop-blur-md border-[6px] border-white px-8 py-6 rounded-2xl shadow-[8px_8px_0_rgba(0,0,0,0.5)]",children:[b.jsx("h2",{className:"text-3xl text-yellow-400 mb-2 drop-shadow-md tracking-wider font-['Silkscreen']",children:"LUCKY DRAW"}),b.jsx("p",{className:"text-white text-sm",children:"   !"})]}),b.jsx("div",{className:"relative group cursor-pointer mb-8 animate-float",children:b.jsxs("div",{className:"w-48 h-48 bg-gradient-to-tr from-purple-600 to-indigo-400 rounded-full border-[8px] border-white shadow-[0_0_20px_rgba(168,85,247,0.6)] flex items-center justify-center animate-pulse group-hover:scale-105 transition-transform",children:[b.jsx("span",{className:"text-8xl drop-shadow-lg",children:""}),b.jsx("div",{className:"absolute top-4 right-8 w-8 h-8 bg-white/40 rounded-full blur-sm"})]})}),b.jsxs("div",{className:"flex gap-4 w-full justify-center px-4",children:[b.jsxs("button",{onClick:()=>o(1),className:"flex-1 bg-blue-600 border-4 border-white text-white py-4 rounded-xl shadow-[4px_4px_0_black] hover:translate-y-1 hover:shadow-[2px_2px_0_black] active:translate-y-2 active:shadow-none transition-all flex flex-col items-center gap-1",children:[b.jsx("span",{className:"text-xl font-bold",children:"1 "}),b.jsx("div",{className:"bg-black/30 px-3 py-1 rounded-full text-xs flex items-center gap-1",children:" 1"})]}),b.jsxs("button",{onClick:()=>o(10),className:"flex-1 bg-yellow-500 border-4 border-white text-white py-4 rounded-xl shadow-[4px_4px_0_black] hover:translate-y-1 hover:shadow-[2px_2px_0_black] active:translate-y-2 active:shadow-none transition-all flex flex-col items-center gap-1",children:[b.jsx("span",{className:"text-xl font-bold text-black drop-shadow-md",children:"10 "}),b.jsx("div",{className:"bg-black/30 px-3 py-1 rounded-full text-xs flex items-center gap-1 text-white",children:" 10"})]})]})]}),n&&b.jsxs("div",{className:"z-10 flex flex-col items-center justify-center font-['Silkscreen']",children:[b.jsx("div",{className:"text-9xl mb-8 animate-[spin_0.5s_linear_infinite] grayscale brightness-150",children:""}),b.jsx("p",{className:"text-3xl text-white animate-pulse drop-shadow-[4px_4px_0_black]",children:" ..."})]}),s.length>0&&!n&&Mw.createPortal(b.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 font-['Silkscreen'] bg-black/90 backdrop-blur-sm animate-in fade-in duration-300",onClick:()=>e([]),children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-yellow-500/10 to-transparent pointer-events-none animate-pulse"}),b.jsxs("div",{className:"relative z-10 flex flex-col items-center animate-in zoom-in duration-500 w-full max-w-4xl max-h-[90vh] overflow-y-auto",onClick:c=>c.stopPropagation(),children:[b.jsx("h2",{className:"text-4xl text-yellow-400 mb-8 drop-shadow-[0_4px_0_black] animate-bounce text-center",children:s.length>1?" 10   ":"    "}),b.jsx("div",{className:`
                            ${s.length>1?"grid grid-cols-2 md:grid-cols-5 gap-4 p-4":"flex justify-center p-4"}
                        `,children:s.map((c,f)=>b.jsxs("div",{className:`
                                    relative bg-white p-2 rounded-lg shadow-lg border-[4px]
                                    ${c.rarity==="SSR"?"border-yellow-400 ring-4 ring-yellow-400/50":c.rarity==="SR"?"border-purple-400":"border-gray-400"}
                                    flex flex-col items-center transform transition-transform hover:scale-105 duration-200
                                    ${s.length===1?"scale-125 p-4 border-[8px]":""}
                                `,children:[b.jsxs("div",{className:"absolute -top-3 -right-3 z-10",children:[c.rarity==="SSR"&&b.jsx("span",{className:"bg-yellow-400 text-black text-xs font-bold px-2 py-1 rounded-full border-2 border-white shadow-md",children:"SSR"}),c.rarity==="SR"&&b.jsx("span",{className:"bg-purple-500 text-white text-xs font-bold px-2 py-1 rounded-full border-2 border-white shadow-md",children:"SR"}),c.rarity==="R"&&b.jsx("span",{className:"bg-gray-500 text-white text-xs font-bold px-2 py-1 rounded-full border-2 border-white shadow-md",children:"R"})]}),b.jsx("img",{src:c.image,alt:"Result",className:`object-cover bg-gray-900 border-2 border-black
                                            ${s.length>1?"w-24 h-32 md:w-32 md:h-40":"w-64 h-80"}
                                        `}),s.length===1&&b.jsx("div",{className:"mt-4 text-xl text-black font-bold tracking-widest uppercase text-center",children:c.rarity==="SSR"?"  ":" "})]},f))}),b.jsxs("div",{className:"flex gap-4 mt-8 w-full justify-center pb-8",children:[b.jsx("button",{onClick:()=>e([]),className:"px-8 py-3 bg-gray-600 text-white border-4 border-white hover:bg-gray-500 active:scale-95 transition-all shadow-[4px_4px_0_black]",children:""}),b.jsxs("button",{onClick:()=>o(s.length),className:"px-8 py-3 bg-blue-600 text-white border-4 border-white hover:bg-blue-500 active:scale-95 transition-all shadow-[4px_4px_0_black] flex items-center gap-2",children:[b.jsx("span",{children:""}),"  (",s.length,")"]})]})]})]}),document.body)]})},Eb=[{id:1,speaker:"",text:"!    .",image:"groom",expression:"smile"},{id:2,speaker:"",text:"        !",image:"bride",expression:"happy"},{id:3,speaker:"",text:"    .     ' '.",image:"groom",expression:"serious"},{id:4,speaker:"",text:"  ,   ?",image:"bride",expression:"wink"},{id:5,speaker:"SYSTEM",text:" []  .  !",image:"system",expression:"none"}],gO=({onClose:s})=>{const[e,n]=ie.useState(0),[r,o]=ie.useState(""),[c,f]=ie.useState(!1),m=Eb[e];ie.useEffect(()=>{if(!m)return;o(""),f(!0);const y=m.text;let E=0;const R=setInterval(()=>{E++,o(y.slice(0,E)),E>=y.length&&(clearInterval(R),f(!1))},30);return()=>clearInterval(R)},[e]);const g=()=>{Kt.playClick(),c?(o(m.text),f(!1)):e<Eb.length-1?n(y=>y+1):(Kt.playConfirm(),s())};return b.jsxs("div",{className:"w-full h-full relative flex flex-col justify-end overflow-hidden cursor-pointer min-h-[500px] bg-black/40 backdrop-blur-sm select-none",onClick:g,children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-80"}),b.jsx("div",{className:"absolute bottom-32 left-1/2 -translate-x-1/2 h-[85%] flex items-end transition-transform duration-300 z-0",children:b.jsx("img",{src:m.image==="groom"?Ow:m.image==="bride"?rg:"",alt:"Character",className:`h-full object-contain drop-shadow-[0_0_20px_rgba(255,255,255,0.2)] ${!m.image||m.image==="system"?"hidden":""}`},e)}),b.jsxs("div",{className:"relative z-10 mx-2 mb-2 md:m-6 md:mb-8 font-pixel",children:[b.jsx("div",{className:`
                    absolute -top-10 left-0 border-4 border-white border-b-0 px-6 py-2
                    ${m.speaker===""?"bg-blue-600":m.speaker===""?"bg-pink-500":"bg-gray-700"}
                `,children:b.jsx("span",{className:"text-white text-xl tracking-wider uppercase drop-shadow-[2px_2px_0_black]",children:m.speaker})}),b.jsxs("div",{className:"bg-black/90 border-4 border-white p-6 shadow-[8px_8px_0_rgba(0,0,0,0.8)] min-h-[160px] relative",children:[b.jsxs("p",{className:"text-xl md:text-2xl text-white leading-relaxed tracking-wide drop-shadow-md whitespace-pre-wrap",children:[r,c&&b.jsx("span",{className:"animate-blink inline-block ml-1 w-3 h-5 bg-yellow-400 align-middle"})]}),!c&&b.jsx("div",{className:"absolute bottom-4 right-4 animate-bounce",children:b.jsx("div",{className:"w-0 h-0 border-l-[10px] border-l-transparent border-r-[10px] border-r-transparent border-t-[15px] border-t-red-500 drop-shadow-[0_2px_0_white]"})})]})]})]})},yO=({title:s,onClose:e,children:n})=>b.jsxs("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex justify-center items-center p-2 md:p-4 font-pixel select-none",children:[b.jsxs("div",{className:"w-full max-w-3xl max-h-[90vh] bg-white border-4 border-black shadow-[8px_8px_0_rgba(0,0,0,0.5)] flex flex-col overflow-hidden animate-[slideUp_0.3s_steps(4)] relative",children:[b.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b-4 border-black bg-blue-600 text-white",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"animate-pulse",children:""}),b.jsx("span",{className:"text-lg uppercase tracking-wider",children:s})]}),b.jsx("button",{className:"text-white hover:text-yellow-300 transition-colors text-2xl leading-none w-8 h-8 flex items-center justify-center border-2 border-transparent hover:border-white hover:bg-white/10",onClick:e,children:"X"})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-0 scrollbar-hide bg-white relative",children:b.jsx("div",{className:"h-full",children:n})}),b.jsx("div",{className:"h-2 bg-black w-full"})]}),b.jsx("style",{children:`
                @keyframes slideUp {
                    from { transform: translateY(20px); opacity: 0; }
                    to { transform: translateY(0); opacity: 1; }
                }
            `})]}),_O=()=>{const[s,e]=ie.useState([]),[n,r]=ie.useState(!0),[o,c]=ie.useState("run"),f=Dn.currentUser;return ie.useEffect(()=>{(async()=>{r(!0);try{const y=YE(OE(gn,o==="run"?"scores":"bouquet_scores"),YN("score","desc"),KN(50)),S=(await $E(y)).docs.map($=>({id:$.id,...$.data()})),R=new Map;S.forEach($=>{const W=$.displayName;(!R.has(W)||R.get(W).score<$.score)&&R.set(W,$)});const B=Array.from(R.values()).sort(($,W)=>W.score-$.score).slice(0,10);e(B)}catch(g){console.error("Error fetching rankings: ",g)}finally{r(!1)}})()},[o]),b.jsx("div",{className:"w-full max-w-2xl mx-auto p-1 font-pixel select-none",children:b.jsxs("div",{className:"bg-black/80 backdrop-blur-md border-[6px] border-white rounded-lg p-6 shadow-[8px_8px_0_rgba(0,0,0,0.5)] relative overflow-hidden",children:[b.jsx("div",{className:"absolute inset-0 pointer-events-none bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20"}),b.jsx("div",{className:"text-center mb-6",children:b.jsx("h3",{className:"text-3xl md:text-4xl text-yellow-400 mb-2 drop-shadow-[4px_4px_0_#b91c1c] animate-pulse tracking-wider font-pixel whitespace-nowrap",children:"   "})}),b.jsxs("div",{className:"flex gap-2 mb-0 justify-center relative z-10",children:[b.jsx("button",{onClick:()=>c("run"),className:`flex-1 md:flex-none px-2 md:px-4 py-2 border-t-4 border-x-4 rounded-t-lg transition-all text-xs md:text-sm ${o==="run"?"bg-blue-600 border-white text-white -mb-1 pb-3":"bg-gray-800 border-gray-600 text-gray-400 hover:bg-gray-700 mt-2"}`,children:"  "}),b.jsx("button",{onClick:()=>c("bouquet"),className:`flex-1 md:flex-none px-2 md:px-4 py-2 border-t-4 border-x-4 rounded-t-lg transition-all text-xs md:text-sm ${o==="bouquet"?"bg-pink-600 border-white text-white -mb-1 pb-3":"bg-gray-800 border-gray-600 text-gray-400 hover:bg-gray-700 mt-2"}`,children:"  "})]}),b.jsx("div",{className:"overflow-hidden border-4 border-white bg-black min-h-[300px] relative z-0",children:n?b.jsxs("div",{className:"flex flex-col items-center justify-center p-8 h-[300px] text-white",children:[b.jsx("div",{className:"animate-spin text-4xl mb-4",children:""}),b.jsx("p",{className:"animate-pulse",children:"  ..."})]}):b.jsxs("table",{className:"w-full text-left bg-black text-white",children:[b.jsx("thead",{className:`${o==="run"?"bg-blue-800":"bg-pink-800"} text-yellow-300 border-b-4 border-white`,children:b.jsxs("tr",{children:[b.jsx("th",{className:"p-4 text-center w-16",children:""}),b.jsx("th",{className:"p-4",children:""}),b.jsx("th",{className:"p-4 text-right",children:""})]})}),b.jsxs("tbody",{children:[s.map((m,g)=>{const y=f&&(f.uid===m.id||f.displayName===m.displayName),E=S=>S===0?"text-yellow-400 drop-shadow-[0_0_5px_gold]":S===1?"text-gray-300 drop-shadow-[0_0_5px_silver]":S===2?"text-orange-400 drop-shadow-[0_0_5px_orange]":"text-white";return b.jsxs("tr",{className:`
                                                border-b-2 border-white/20
                                                ${y?"bg-white/20 animate-pulse":"hover:bg-white/10"}
                                                ${g<3?"text-lg":""}
                                            `,children:[b.jsxs("td",{className:"p-3 text-center text-2xl",children:[g===0&&"",g===1&&"",g===2&&"",g>2&&b.jsxs("span",{className:"text-gray-500 text-lg",children:["#",g+1]})]}),b.jsx("td",{className:`p-3 ${y?"text-cyan-300":E(g)}`,children:b.jsxs("div",{className:"flex flex-col",children:[b.jsx("span",{className:"truncate max-w-[120px] md:max-w-none block",children:m.displayName}),y&&b.jsx("span",{className:"text-[10px] text-cyan-500",children:""})]})}),b.jsx("td",{className:`p-3 text-right ${g<3?"text-yellow-200":"text-gray-300"}`,children:m.score.toLocaleString()})]},m.id)}),s.length===0&&b.jsx("tr",{children:b.jsx("td",{colSpan:"3",className:"p-8 text-center text-gray-500",children:"  "})})]})]})}),b.jsx("div",{className:"mt-6 text-center text-xs text-gray-500 tracking-widest uppercase animate-pulse",children:"   "})]})})},vO=()=>{const[s,e]=ie.useState([]),[n,r]=ie.useState(!0),o=Dn.currentUser;if(ie.useEffect(()=>{(async()=>{if(o)try{const m=ui(gn,"users",o.uid),g=await Xp(m);g.exists()&&e(g.data().achievements||[])}catch(m){console.error("Error fetching achievements:",m)}finally{r(!1)}})()},[o]),n)return b.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading..."});const c=Object.values(ro);return b.jsxs("div",{style:Vi.container,children:[b.jsx("h3",{style:Vi.header,children:"   (MY ACHIEVEMENTS)"}),b.jsx("div",{style:Vi.grid,children:c.map(f=>{const m=s.includes(f.id);return b.jsxs("div",{style:{...Vi.card,...m?Vi.unlocked:Vi.locked},children:[b.jsx("div",{style:Vi.icon,children:m?"":""}),b.jsxs("div",{style:Vi.info,children:[b.jsx("div",{style:Vi.title,children:f.title}),b.jsx("div",{style:Vi.desc,children:f.desc})]})]},f.id)})})]})},Vi={container:{padding:"10px",color:"#333",fontFamily:'"Rajdhani", sans-serif'},header:{textAlign:"center",marginBottom:"15px",borderBottom:"2px solid #333",paddingBottom:"10px"},grid:{display:"flex",flexDirection:"column",gap:"10px"},card:{display:"flex",alignItems:"center",padding:"10px",borderRadius:"8px",border:"1px solid #ddd",transition:"transform 0.2s"},unlocked:{backgroundColor:"#fffbe6",border:"2px solid #ffd700",boxShadow:"0 2px 5px rgba(255, 215, 0, 0.3)"},locked:{backgroundColor:"#f5f5f5",filter:"grayscale(100%)",opacity:.7},icon:{fontSize:"2rem",marginRight:"15px"},info:{flex:1},title:{fontWeight:"bold",fontSize:"1rem",marginBottom:"3px"},desc:{fontSize:"0.8rem",color:"#666"}},bO=({onClose:s})=>{const[e,n]=ie.useState("start"),[r,o]=ie.useState(0),[c,f]=ie.useState(0),[m,g]=ie.useState(50),[y,E]=ie.useState([]),S=ie.useRef(null),R=ie.useRef(null),B=ie.useRef(null),$=ie.useRef(0),W=ie.useRef("start"),te=ie.useRef(50),se=ie.useRef([]),ue=new URL("/Invitation/assets/pixel_castle_bg-JX_UEiKn.png",import.meta.url).href,le=15;ie.useEffect(()=>{te.current=m},[m]);const Ie=()=>{Kt.playClick(),n("playing"),o(0),f(0),g(50),E([]),$.current=0,te.current=50,se.current=[],W.current="playing",R.current&&clearInterval(R.current),R.current=setInterval(Me,800),B.current&&clearInterval(B.current),B.current=setInterval(()=>{f(N=>N+1)},1e3),S.current&&cancelAnimationFrame(S.current),S.current=requestAnimationFrame(we)},Me=()=>{if(W.current!=="playing")return;const N=Date.now()+Math.random(),A=Math.random()>.6?Math.random()>.5?"bomb":"withered":"bouquet",xe=Math.random()*90,Te={id:N,x:xe,y:-10,type:A};se.current.push(Te)},we=()=>{if(W.current!=="playing")return;const N=.4+$.current*.05;let O=!1;if(se.current=se.current.filter(A=>{if(A.y+=N,A.y>75&&A.y<98){const xe=te.current,Te=A.x+5,H=xe+le/2;if(Math.abs(Te-H)<10)return A.type==="bouquet"?(Kt.playConfirm(),$.current+=1,o($.current),!1):(Kt.playDamage(),O=!0,!1)}return A.y<105}),O){x("gameover");return}E([...se.current]),S.current=requestAnimationFrame(we)},I=async N=>{const O=Dn.currentUser;if(O)try{const A=ui(gn,"bouquet_scores",O.uid);await ac(A,{uid:O.uid,displayName:O.displayName||"Guest",score:N,timestamp:HE()},{merge:!0})}catch(A){console.error("Error saving bouquet score:",A)}},x=N=>{W.current=N,n(N),Zm(Math.floor($.current)),I($.current),clearInterval(R.current),clearInterval(B.current),cancelAnimationFrame(S.current)};ie.useEffect(()=>()=>{clearInterval(R.current),clearInterval(B.current),cancelAnimationFrame(S.current)},[]);const C=N=>{e==="playing"&&g(O=>{const A=O+N;return Math.max(0,Math.min(100-le,A))})},k=N=>{const O=Math.floor(N/60),A=N%60;return`${O.toString().padStart(2,"0")}:${A.toString().padStart(2,"0")}`};return b.jsxs("div",{className:"relative w-full h-[400px] bg-sky-200 overflow-hidden font-['Silkscreen'] select-none border-4 border-black",children:[b.jsx("div",{className:"absolute inset-0 bg-cover bg-bottom opacity-50",style:{backgroundImage:`url(${ue})`,imageRendering:"pixelated"}}),b.jsx("div",{className:"absolute top-4 left-4 z-20 flex gap-2",children:b.jsxs("div",{className:"bg-black/50 text-white px-2 border-2 border-white/50 text-sm flex items-center",children:[" ",k(c)]})}),b.jsxs("div",{className:"absolute top-4 right-4 text-2xl z-20 text-blue-600 drop-shadow-[2px_2px_0_white]",children:["SCORE: ",r]}),e==="start"&&b.jsxs("div",{className:"absolute inset-0 bg-black/70 flex flex-col items-center justify-center text-white z-50 p-4 text-center cursor-pointer font-['Silkscreen']",onClick:Ie,children:[b.jsx("h2",{className:"text-3xl text-yellow-300 mb-4 animate-bounce drop-shadow-md font-['Silkscreen']",children:" BOUQUET RUSH "}),b.jsx("p",{className:"mb-2 text-lg",children:"Infinite Challenge!"}),b.jsxs("div",{className:"flex gap-4 mb-6 text-2xl",children:[b.jsx("span",{children:" = +1"}),b.jsx("span",{children:"/ = DIE"})]}),b.jsx("button",{className:"bg-blue-600 border-4 border-white px-8 py-4 text-xl hover:scale-105 active:scale-95 transition-transform animate-pulse",children:"TAP TO START"})]}),e==="gameover"&&b.jsxs("div",{className:"absolute inset-0 bg-black/80 flex flex-col items-center justify-center text-white z-50 cursor-pointer font-['Silkscreen']",onClick:Ie,children:[b.jsx("h2",{className:"text-4xl mb-4 text-red-500 drop-shadow-md font-['Silkscreen']",children:" GAME OVER"}),b.jsxs("p",{className:"text-3xl mb-2 text-yellow-300",children:["SCORE: ",r]}),b.jsxs("p",{className:"text-xl mb-2 text-cyan-400 font-bold animate-pulse",children:[" EARNED: +",r]}),b.jsxs("p",{className:"text-xl mb-8 text-gray-300",children:["Time: ",k(c)]}),b.jsx("p",{className:"text-sm text-gray-400 mb-8 animate-pulse",children:"TAP SCREEN TO RETRY"}),b.jsxs("div",{className:"flex gap-4",onClick:N=>N.stopPropagation(),children:[b.jsx("button",{onClick:Ie,className:"bg-white text-black border-4 border-gray-400 px-6 py-2 hover:bg-gray-200",children:"RETRY"}),b.jsx("button",{onClick:s,className:"bg-red-500 text-white border-4 border-red-800 px-6 py-2 hover:bg-red-400",children:"QUIT"})]})]}),y.map(N=>b.jsx("div",{className:"absolute text-4xl transition-transform",style:{left:`${N.x}%`,top:`${N.y}%`},children:N.type==="bouquet"?"":N.type==="bomb"?"":""},N.id)),b.jsxs("div",{className:"absolute bottom-4 h-24 transition-all duration-75 ease-linear",style:{left:`${m}%`,width:`${le}%`},children:[b.jsx("img",{src:rg,className:"w-full h-full object-contain drop-shadow-lg",style:{imageRendering:"pixelated"}}),b.jsx("div",{className:"absolute bottom-0 w-full text-center text-[10px] text-white/50 backdrop-blur-sm",children:"YOU"})]}),e==="playing"&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"absolute top-0 bottom-0 left-0 w-1/2 z-30 active:bg-white/5",onPointerDown:()=>C(-10)}),b.jsx("div",{className:"absolute top-0 bottom-0 right-0 w-1/2 z-30 active:bg-white/5",onPointerDown:()=>C(10)}),b.jsx("button",{className:"absolute bottom-6 left-4 w-16 h-16 bg-white/40 border-2 border-white rounded-full text-3xl flex items-center justify-center z-40 active:scale-90 transition-transform",onPointerDown:()=>C(-10),children:""}),b.jsx("button",{className:"absolute bottom-6 right-4 w-16 h-16 bg-white/40 border-2 border-white rounded-full text-3xl flex items-center justify-center z-40 active:scale-90 transition-transform",onPointerDown:()=>C(10),children:""})]})]})},TO=()=>{const[s,e]=ie.useState([]),[n,r]=ie.useState(null),[o,c]=ie.useState(!1);return ie.useEffect(()=>{const f=m=>{const g=m.detail;e(y=>[...y,g])};return window.addEventListener("achievement-unlocked",f),()=>window.removeEventListener("achievement-unlocked",f)},[]),ie.useEffect(()=>{if(!n&&s.length>0){const f=s[0];e(m=>m.slice(1)),r(f),setTimeout(()=>c(!0),100),setTimeout(()=>{c(!1),setTimeout(()=>r(null),500)},4e3)}},[n,s]),n?Mw.createPortal(b.jsx("div",{className:`
            fixed top-8 left-1/2 -translate-x-1/2 z-[10000]
            transition-all duration-500 transform
            ${o?"translate-y-0 opacity-100 scale-100":"-translate-y-full opacity-0 scale-90"}
        `,children:b.jsxs("div",{className:"relative group",children:[b.jsx("div",{className:"absolute inset-0 bg-yellow-400 blur-xl opacity-20 animate-pulse"}),b.jsxs("div",{className:"relative bg-black/90 text-white min-w-[320px] max-w-sm rounded-xl overflow-hidden shadow-[0_0_20px_rgba(255,215,0,0.4)] border-2 border-yellow-500/50",children:[b.jsx("div",{className:"absolute inset-0 border-2 border-white/20 rounded-xl pointer-events-none"}),b.jsxs("div",{className:"flex items-center p-4 gap-4",children:[b.jsxs("div",{className:"relative shrink-0",children:[b.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-yellow-300 to-yellow-600 rounded-full flex items-center justify-center text-2xl shadow-inner border-2 border-white/30 animate-bounce",children:""}),b.jsx("div",{className:"absolute -top-1 -right-1 text-yellow-200 animate-spin-slow",children:""})]}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("div",{className:"text-yellow-400 text-xs font-bold tracking-widest uppercase mb-0.5 animate-pulse",children:"ACHIEVEMENT UNLOCKED!"}),b.jsx("h4",{className:"text-lg font-bold text-white leading-tight font-pixel truncate",children:n.title}),b.jsx("p",{className:"text-white/70 text-xs mt-1 truncate font-pixel",children:n.desc})]})]}),b.jsx("div",{className:"absolute bottom-0 left-0 h-1 bg-gradient-to-r from-yellow-400 to-yellow-200 animate-[width_4s_linear_forwards]",style:{width:"100%"}}),b.jsx("div",{className:"absolute top-0 right-10 w-1 h-1 bg-white rounded-full animate-ping"}),b.jsx("div",{className:"absolute bottom-2 left-4 w-1 h-1 bg-yellow-200 rounded-full animate-ping delay-300"})]})]})}),document.body):null},EO=({onSwitchToV1:s,isNewUser:e})=>{const[n,r]=ie.useState("bride"),[o,c]=ie.useState(!1),[f,m]=ie.useState(""),[g,y]=ie.useState(null),[E,S]=ie.useState(""),[R,B]=ie.useState(!1),[$,W]=ie.useState(0);ie.useEffect(()=>{const I=new Date("2026-04-25T16:50:00"),x=()=>{const O=I-new Date,A=Math.ceil(O/(1e3*60*60*24));S(A>0?`D-${A}`:A===0?"D-DAY":`D+${Math.abs(A)}`)};x();const C=setInterval(x,1e3*60),k=lO(N=>{W(N)});return()=>{clearInterval(C),k()}},[]),ie.useEffect(()=>{e&&setTimeout(()=>{ue("story")},1e3)},[e]);const te=()=>{Kt.playClick(),r(I=>I==="bride"?"groom":"bride")},se=()=>{Kt.playClick(),B(!0),setTimeout(()=>B(!1),200);const I=n==="bride"?["   !","  ~"," !","   !","  !"]:["  !","  !","  ."," !","   !"],x=I[Math.floor(Math.random()*I.length)];m(x),c(!0),po("TOUCH_CHARACTER",{[n]:1}),setTimeout(()=>c(!1),3e3)},ue=I=>{Kt.playClick(),y(I)},le=()=>{if(Kt.playClick(),g==="story"){const I=Dn.currentUser;if(I){const x=ui(gn,"users",I.uid);$p(x,{storySeen:!0}).catch(C=>console.error(C))}}y(null)},Ie=()=>{Kt.playClick(),s()},Me=I=>{switch(I){case"map":return" ";case"gallery":return" ";case"recruit":return" ";case"story":return"";case"ranking":return"";case"achievement":return"";case"info":return" ";case"game":return" ";case"bouquet":return" ";default:return""}},we=new URL("/Invitation/assets/pixel_castle_bg-JX_UEiKn.png",import.meta.url).href;return b.jsxs("div",{className:"relative w-full h-full overflow-hidden bg-black font-pixel select-none text-white",children:[b.jsx(TO,{}),b.jsx("div",{className:"absolute inset-0 z-0 bg-cover bg-center",style:{backgroundImage:`url(${we})`,imageRendering:"pixelated"},children:b.jsx("div",{className:"absolute inset-0 bg-black/30"})}),b.jsxs("div",{className:"absolute top-0 left-0 right-0 p-4 z-20 flex justify-between items-start pointer-events-none",children:[b.jsxs("div",{className:"pointer-events-auto flex flex-col gap-2",children:[b.jsxs("div",{className:"bg-black/60 border-2 border-white px-3 py-1 flex items-center gap-2 shadow-md w-fit",children:[b.jsx("span",{className:"text-yellow-400",children:""}),b.jsx("span",{className:"text-lg",children:E})]}),b.jsxs("div",{className:"bg-black/60 border-2 border-cyan-400 px-3 py-1 flex items-center gap-2 shadow-md w-fit animate-pulse",children:[b.jsx("span",{className:"text-cyan-400 text-xl",children:""}),b.jsx("span",{className:"text-lg text-cyan-100 font-bold",children:$})]})]}),b.jsxs("div",{className:"pointer-events-auto flex flex-col items-end gap-2",children:[b.jsx("button",{onClick:te,className:"bg-blue-600 border-b-4 border-r-4 border-blue-800 text-white px-3 py-1 text-xs hover:bg-blue-500 active:border-b-0 active:border-r-0 active:translate-y-1 transition-all",children:"SWITCH CHAR"}),b.jsx("button",{onClick:Ie,className:"text-white/60 text-[10px] hover:text-white hover:underline bg-black/40 px-2 py-1",children:"[   ]"})]})]}),b.jsx("div",{className:"absolute inset-0 z-10 flex flex-col items-center justify-end pb-0 pointer-events-none",children:b.jsxs("div",{className:"relative group flex justify-center",children:[b.jsx("img",{src:n==="bride"?rg:Ow,alt:"Character",className:`
                            h-[120vh] w-auto object-contain cursor-pointer pointer-events-auto drop-shadow-[0_0_10px_rgba(255,255,255,0.5)]
                            ${R?"scale-105 brightness-125":"scale-100 hover:scale-[1.02]"}
                            transition-all duration-200
                        `,onClick:se,style:{imageRendering:"pixelated"}}),o&&b.jsxs("div",{className:"absolute top-[25%] left-[10%] bg-white text-black border-4 border-black px-4 py-2 z-30 min-w-[150px] text-center shadow-lg animate-bounce",children:[b.jsx("p",{className:"text-sm font-bold",children:f}),b.jsx("div",{className:"absolute -right-3 top-1/2 -translate-y-1/2 w-4 h-4 bg-white rotate-45 border-t-4 border-r-4 border-black border-b-0 border-l-0"})]})]})}),b.jsxs("div",{className:"absolute top-1/2 right-4 -translate-y-1/2 flex flex-col gap-3 pointer-events-auto z-40",children:[b.jsx(eo,{icon:"",label:" ",onClick:()=>ue("map")}),b.jsx(eo,{icon:"",label:" ",onClick:()=>ue("gallery")}),b.jsx(eo,{icon:"",label:"",onClick:()=>ue("story")}),b.jsx(eo,{icon:"",label:"",onClick:()=>ue("ranking")}),b.jsx(eo,{icon:"",label:"",onClick:()=>ue("achievement")}),b.jsx(eo,{icon:"",label:"",onClick:()=>ue("recruit")})]}),b.jsxs("div",{className:"absolute bottom-6 left-6 right-6 z-50 flex justify-center gap-6 pointer-events-auto",children:[b.jsx("button",{onClick:()=>{ue("game"),po("GAME_START")},className:"relative group bg-red-600 border-4 border-white text-white px-6 py-3 shadow-[4px_4px_0_rgba(0,0,0,0.5)] hover:translate-y-1 hover:shadow-[2px_2px_0_rgba(0,0,0,0.5)] active:translate-y-2 active:shadow-none transition-all w-48",children:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("span",{className:"text-2xl animate-pulse",children:""}),b.jsxs("div",{className:"flex flex-col items-start leading-none",children:[b.jsx("span",{className:"text-[10px] text-yellow-300",children:" "}),b.jsx("span",{className:"text-lg",children:" "})]})]})}),b.jsx("button",{onClick:()=>ue("bouquet"),className:"relative group bg-pink-500 border-4 border-white text-white px-6 py-3 shadow-[4px_4px_0_rgba(0,0,0,0.5)] hover:translate-y-1 hover:shadow-[2px_2px_0_rgba(0,0,0,0.5)] active:translate-y-2 active:shadow-none transition-all w-48",children:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("span",{className:"text-2xl animate-bounce",children:""}),b.jsxs("div",{className:"flex flex-col items-start leading-none",children:[b.jsx("span",{className:"text-[10px] text-yellow-200",children:" "}),b.jsx("span",{className:"text-lg",children:" "})]})]})})]}),g&&b.jsxs(yO,{title:Me(g),onClose:le,children:[g==="map"&&b.jsx(xb,{}),g==="gallery"&&b.jsx(Ab,{showRarity:!0}),g==="info"&&b.jsx(hO,{}),g==="game"&&b.jsx("div",{className:"flex flex-col items-center justify-center py-4 w-full",children:b.jsx(mO,{selectedCharacter:n})}),g==="story"&&b.jsx(gO,{onClose:le}),g==="recruit"&&b.jsx(pO,{}),g==="ranking"&&b.jsx(_O,{}),g==="achievement"&&b.jsx(vO,{}),g==="bouquet"&&b.jsx(bO,{})]})]})},eo=({icon:s,label:e,onClick:n})=>b.jsxs("button",{onClick:n,className:"group relative bg-black/60 border-2 border-white px-3 py-2 flex items-center gap-3 hover:bg-white/20 hover:border-yellow-400 transition-all w-32 shadow-md",children:[b.jsx("span",{className:"text-xl group-hover:scale-110 transition-transform",children:s}),b.jsx("span",{className:"text-xs text-white group-hover:text-yellow-400",children:e})]}),wO=({onSwitchToV1:s})=>{const[e,n]=ie.useState("title"),[r,o]=ie.useState(!1),c=(f=!1)=>{o(f),n("lobby")};return b.jsxs("div",{className:"relative w-full h-screen bg-background overflow-hidden font-body selection:bg-primary/20 selection:text-primary",children:[b.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[500px] h-[500px] bg-primary/20 rounded-full blur-[100px] animate-pulse"}),b.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[600px] h-[600px] bg-secondary/20 rounded-full blur-[120px] animate-pulse delay-1000"}),b.jsx("div",{className:"absolute top-[40%] left-[30%] w-[300px] h-[300px] bg-soft-pink/30 rounded-full blur-[80px] animate-bounce delay-500 duration-[5000ms]"}),b.jsxs("div",{className:"relative w-full h-full",children:[e==="title"&&b.jsx(aO,{onStart:c,onSwitchToV1:s}),e==="lobby"&&b.jsx(EO,{onSwitchToV1:s,isNewUser:r})]})]})},SO=()=>b.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-background font-body p-4",children:b.jsxs("div",{className:"card max-w-md w-full text-center space-y-8",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx("h1",{className:"text-4xl text-text font-heading tracking-wider",children:"INVITATION"}),b.jsx("p",{className:"text-xl text-text/80 font-medium",children:" & "})]}),b.jsx("div",{className:"w-12 h-px bg-gray-300 mx-auto"}),b.jsx("p",{className:"text-text/60 tracking-widest",children:"2026. 04. 25. SAT PM 04:50"}),b.jsxs("div",{className:"flex flex-col gap-4",children:[b.jsxs("a",{href:"classic.html",className:"btn-secondary flex items-center justify-center gap-2 group",children:[b.jsx("span",{className:"group-hover:scale-110 transition-transform",children:""}),"  (Classic)"]}),b.jsxs("a",{href:"game.html",className:"btn-primary flex items-center justify-center gap-2 group",children:[b.jsx("span",{className:"group-hover:rotate-12 transition-transform",children:""}),"  (Game Mode)"]})]})]})});function AO(){const[s,e]=ie.useState("selection");return ie.useEffect(()=>{const n=window.location.pathname;n.includes("classic.html")?e("v1"):n.includes("game.html")?e("v2"):new URLSearchParams(window.location.search).get("mode")==="classic"?e("v1"):new URLSearchParams(window.location.search).get("mode")==="game"?e("v2"):e("selection")},[]),b.jsxs(b.Fragment,{children:[s==="selection"&&b.jsx(SO,{}),s==="v1"&&b.jsx(wA,{}),s==="v2"&&b.jsx(wO,{onSwitchToV1:()=>window.location.href="classic.html"}),b.jsx(rO,{})]})}_1.createRoot(document.getElementById("root")).render(b.jsx(ie.StrictMode,{children:b.jsx(AO,{})}));
