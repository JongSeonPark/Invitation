(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var sm={exports:{}},Ml={};var w0;function nA(){if(w0)return Ml;w0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:f,ref:o!==void 0?o:null,props:u}}return Ml.Fragment=e,Ml.jsx=n,Ml.jsxs=n,Ml}var S0;function iA(){return S0||(S0=1,sm.exports=nA()),sm.exports}var T=iA(),rm={exports:{}},Re={};var A0;function sA(){if(A0)return Re;A0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),x=Symbol.iterator;function q(A){return A===null||typeof A!="object"?null:(A=x&&A[x]||A["@@iterator"],typeof A=="function"?A:null)}var X={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,ee={};function oe(A,L,Z){this.props=A,this.context=L,this.refs=ee,this.updater=Z||X}oe.prototype.isReactComponent={},oe.prototype.setState=function(A,L){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,L,"setState")},oe.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function pe(){}pe.prototype=oe.prototype;function ye(A,L,Z){this.props=A,this.context=L,this.refs=ee,this.updater=Z||X}var ze=ye.prototype=new pe;ze.constructor=ye,W(ze,oe.prototype),ze.isPureReactComponent=!0;var Ye=Array.isArray;function be(){}var C={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function N(A,L,Z){var re=Z.ref;return{$$typeof:s,type:A,key:L,ref:re!==void 0?re:null,props:Z}}function M(A,L){return N(A.type,L,A.props)}function D(A){return typeof A=="object"&&A!==null&&A.$$typeof===s}function k(A){var L={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(Z){return L[Z]})}var R=/\/+/g;function Se(A,L){return typeof A=="object"&&A!==null&&A.key!=null?k(""+A.key):L.toString(36)}function Ne(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(be,be):(A.status="pending",A.then(function(L){A.status==="pending"&&(A.status="fulfilled",A.value=L)},function(L){A.status==="pending"&&(A.status="rejected",A.reason=L)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function H(A,L,Z,re,se){var me=typeof A;(me==="undefined"||me==="boolean")&&(A=null);var xe=!1;if(A===null)xe=!0;else switch(me){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(A.$$typeof){case s:case e:xe=!0;break;case b:return xe=A._init,H(xe(A._payload),L,Z,re,se)}}if(xe)return se=se(A),xe=re===""?"."+Se(A,0):re,Ye(se)?(Z="",xe!=null&&(Z=xe.replace(R,"$&/")+"/"),H(se,L,Z,"",function(Bi){return Bi})):se!=null&&(D(se)&&(se=M(se,Z+(se.key==null||A&&A.key===se.key?"":(""+se.key).replace(R,"$&/")+"/")+xe)),L.push(se)),1;xe=0;var it=re===""?".":re+":";if(Ye(A))for(var st=0;st<A.length;st++)re=A[st],me=it+Se(re,st),xe+=H(re,L,Z,me,se);else if(st=q(A),typeof st=="function")for(A=st.call(A),st=0;!(re=A.next()).done;)re=re.value,me=it+Se(re,st++),xe+=H(re,L,Z,me,se);else if(me==="object"){if(typeof A.then=="function")return H(Ne(A),L,Z,re,se);throw L=String(A),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return xe}function te(A,L,Z){if(A==null)return A;var re=[],se=0;return H(A,re,"","",function(me){return L.call(Z,me,se++)}),re}function ce(A){if(A._status===-1){var L=A._result;L=L(),L.then(function(Z){(A._status===0||A._status===-1)&&(A._status=1,A._result=Z)},function(Z){(A._status===0||A._status===-1)&&(A._status=2,A._result=Z)}),A._status===-1&&(A._status=0,A._result=L)}if(A._status===1)return A._result.default;throw A._result}var fe=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},he={map:te,forEach:function(A,L,Z){te(A,function(){L.apply(this,arguments)},Z)},count:function(A){var L=0;return te(A,function(){L++}),L},toArray:function(A){return te(A,function(L){return L})||[]},only:function(A){if(!D(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return Re.Activity=S,Re.Children=he,Re.Component=oe,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=ye,Re.StrictMode=r,Re.Suspense=y,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Re.__COMPILER_RUNTIME={__proto__:null,c:function(A){return C.H.useMemoCache(A)}},Re.cache=function(A){return function(){return A.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(A,L,Z){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var re=W({},A.props),se=A.key;if(L!=null)for(me in L.key!==void 0&&(se=""+L.key),L)!I.call(L,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&L.ref===void 0||(re[me]=L[me]);var me=arguments.length-2;if(me===1)re.children=Z;else if(1<me){for(var xe=Array(me),it=0;it<me;it++)xe[it]=arguments[it+2];re.children=xe}return N(A.type,se,re)},Re.createContext=function(A){return A={$$typeof:f,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:u,_context:A},A},Re.createElement=function(A,L,Z){var re,se={},me=null;if(L!=null)for(re in L.key!==void 0&&(me=""+L.key),L)I.call(L,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(se[re]=L[re]);var xe=arguments.length-2;if(xe===1)se.children=Z;else if(1<xe){for(var it=Array(xe),st=0;st<xe;st++)it[st]=arguments[st+2];se.children=it}if(A&&A.defaultProps)for(re in xe=A.defaultProps,xe)se[re]===void 0&&(se[re]=xe[re]);return N(A,me,se)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(A){return{$$typeof:m,render:A}},Re.isValidElement=D,Re.lazy=function(A){return{$$typeof:b,_payload:{_status:-1,_result:A},_init:ce}},Re.memo=function(A,L){return{$$typeof:g,type:A,compare:L===void 0?null:L}},Re.startTransition=function(A){var L=C.T,Z={};C.T=Z;try{var re=A(),se=C.S;se!==null&&se(Z,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(be,fe)}catch(me){fe(me)}finally{L!==null&&Z.types!==null&&(L.types=Z.types),C.T=L}},Re.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Re.use=function(A){return C.H.use(A)},Re.useActionState=function(A,L,Z){return C.H.useActionState(A,L,Z)},Re.useCallback=function(A,L){return C.H.useCallback(A,L)},Re.useContext=function(A){return C.H.useContext(A)},Re.useDebugValue=function(){},Re.useDeferredValue=function(A,L){return C.H.useDeferredValue(A,L)},Re.useEffect=function(A,L){return C.H.useEffect(A,L)},Re.useEffectEvent=function(A){return C.H.useEffectEvent(A)},Re.useId=function(){return C.H.useId()},Re.useImperativeHandle=function(A,L,Z){return C.H.useImperativeHandle(A,L,Z)},Re.useInsertionEffect=function(A,L){return C.H.useInsertionEffect(A,L)},Re.useLayoutEffect=function(A,L){return C.H.useLayoutEffect(A,L)},Re.useMemo=function(A,L){return C.H.useMemo(A,L)},Re.useOptimistic=function(A,L){return C.H.useOptimistic(A,L)},Re.useReducer=function(A,L,Z){return C.H.useReducer(A,L,Z)},Re.useRef=function(A){return C.H.useRef(A)},Re.useState=function(A){return C.H.useState(A)},Re.useSyncExternalStore=function(A,L,Z){return C.H.useSyncExternalStore(A,L,Z)},Re.useTransition=function(){return C.H.useTransition()},Re.version="19.2.3",Re}var x0;function $m(){return x0||(x0=1,rm.exports=sA()),rm.exports}var ae=$m(),am={exports:{}},kl={},om={exports:{}},lm={};var R0;function rA(){return R0||(R0=1,(function(s){function e(H,te){var ce=H.length;H.push(te);e:for(;0<ce;){var fe=ce-1>>>1,he=H[fe];if(0<o(he,te))H[fe]=te,H[ce]=he,ce=fe;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var te=H[0],ce=H.pop();if(ce!==te){H[0]=ce;e:for(var fe=0,he=H.length,A=he>>>1;fe<A;){var L=2*(fe+1)-1,Z=H[L],re=L+1,se=H[re];if(0>o(Z,ce))re<he&&0>o(se,Z)?(H[fe]=se,H[re]=ce,fe=re):(H[fe]=Z,H[L]=ce,fe=L);else if(re<he&&0>o(se,ce))H[fe]=se,H[re]=ce,fe=re;else break e}}return te}function o(H,te){var ce=H.sortIndex-te.sortIndex;return ce!==0?ce:H.id-te.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();s.unstable_now=function(){return f.now()-m}}var y=[],g=[],b=1,S=null,x=3,q=!1,X=!1,W=!1,ee=!1,oe=typeof setTimeout=="function"?setTimeout:null,pe=typeof clearTimeout=="function"?clearTimeout:null,ye=typeof setImmediate<"u"?setImmediate:null;function ze(H){for(var te=n(g);te!==null;){if(te.callback===null)r(g);else if(te.startTime<=H)r(g),te.sortIndex=te.expirationTime,e(y,te);else break;te=n(g)}}function Ye(H){if(W=!1,ze(H),!X)if(n(y)!==null)X=!0,be||(be=!0,k());else{var te=n(g);te!==null&&Ne(Ye,te.startTime-H)}}var be=!1,C=-1,I=5,N=-1;function M(){return ee?!0:!(s.unstable_now()-N<I)}function D(){if(ee=!1,be){var H=s.unstable_now();N=H;var te=!0;try{e:{X=!1,W&&(W=!1,pe(C),C=-1),q=!0;var ce=x;try{t:{for(ze(H),S=n(y);S!==null&&!(S.expirationTime>H&&M());){var fe=S.callback;if(typeof fe=="function"){S.callback=null,x=S.priorityLevel;var he=fe(S.expirationTime<=H);if(H=s.unstable_now(),typeof he=="function"){S.callback=he,ze(H),te=!0;break t}S===n(y)&&r(y),ze(H)}else r(y);S=n(y)}if(S!==null)te=!0;else{var A=n(g);A!==null&&Ne(Ye,A.startTime-H),te=!1}}break e}finally{S=null,x=ce,q=!1}te=void 0}}finally{te?k():be=!1}}}var k;if(typeof ye=="function")k=function(){ye(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Se=R.port2;R.port1.onmessage=D,k=function(){Se.postMessage(null)}}else k=function(){oe(D,0)};function Ne(H,te){C=oe(function(){H(s.unstable_now())},te)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(H){switch(x){case 1:case 2:case 3:var te=3;break;default:te=x}var ce=x;x=te;try{return H()}finally{x=ce}},s.unstable_requestPaint=function(){ee=!0},s.unstable_runWithPriority=function(H,te){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ce=x;x=H;try{return te()}finally{x=ce}},s.unstable_scheduleCallback=function(H,te,ce){var fe=s.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?fe+ce:fe):ce=fe,H){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=ce+he,H={id:b++,callback:te,priorityLevel:H,startTime:ce,expirationTime:he,sortIndex:-1},ce>fe?(H.sortIndex=ce,e(g,H),n(y)===null&&H===n(g)&&(W?(pe(C),C=-1):W=!0,Ne(Ye,ce-fe))):(H.sortIndex=he,e(y,H),X||q||(X=!0,be||(be=!0,k()))),H},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(H){var te=x;return function(){var ce=x;x=te;try{return H.apply(this,arguments)}finally{x=ce}}}})(lm)),lm}var I0;function aA(){return I0||(I0=1,om.exports=rA()),om.exports}var um={exports:{}},$t={};var C0;function oA(){if(C0)return $t;C0=1;var s=$m();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,g,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:y,containerInfo:g,implementation:b}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,$t.createPortal=function(y,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(y,g,null,b)},$t.flushSync=function(y){var g=f.T,b=r.p;try{if(f.T=null,r.p=2,y)return y()}finally{f.T=g,r.p=b,r.d.f()}},$t.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(y,g))},$t.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},$t.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var b=g.as,S=m(b,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,q=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?r.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:x,fetchPriority:q}):b==="script"&&r.d.X(y,{crossOrigin:S,integrity:x,fetchPriority:q,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},$t.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=m(g.as,g.crossOrigin);r.d.M(y,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(y)},$t.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,S=m(b,g.crossOrigin);r.d.L(y,b,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},$t.preloadModule=function(y,g){if(typeof y=="string")if(g){var b=m(g.as,g.crossOrigin);r.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(y)},$t.requestFormReset=function(y){r.d.r(y)},$t.unstable_batchedUpdates=function(y,g){return y(g)},$t.useFormState=function(y,g,b){return f.H.useFormState(y,g,b)},$t.useFormStatus=function(){return f.H.useHostTransitionStatus()},$t.version="19.2.3",$t}var N0;function vT(){if(N0)return um.exports;N0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),um.exports=oA(),um.exports}var D0;function lA(){if(D0)return kl;D0=1;var s=aA(),e=$m(),n=vT();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function y(t){if(u(t)!==t)throw Error(r(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return y(h),t;if(d===l)return y(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,E=h.child;E;){if(E===a){_=!0,a=h,l=d;break}if(E===l){_=!0,l=h,a=d;break}E=E.sibling}if(!_){for(E=d.child;E;){if(E===a){_=!0,a=d,l=h;break}if(E===l){_=!0,l=d,a=h;break}E=E.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function b(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=b(t),i!==null)return i;t=t.sibling}return null}var S=Object.assign,x=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),X=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),oe=Symbol.for("react.profiler"),pe=Symbol.for("react.consumer"),ye=Symbol.for("react.context"),ze=Symbol.for("react.forward_ref"),Ye=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Se(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case W:return"Fragment";case oe:return"Profiler";case ee:return"StrictMode";case Ye:return"Suspense";case be:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case X:return"Portal";case ye:return t.displayName||"Context";case pe:return(t._context.displayName||"Context")+".Consumer";case ze:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return i=t.displayName||null,i!==null?i:Se(t.type)||"Memo";case I:i=t._payload,t=t._init;try{return Se(t(i))}catch{}}return null}var Ne=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},fe=[],he=-1;function A(t){return{current:t}}function L(t){0>he||(t.current=fe[he],fe[he]=null,he--)}function Z(t,i){he++,fe[he]=t.current,t.current=i}var re=A(null),se=A(null),me=A(null),xe=A(null);function it(t,i){switch(Z(me,i),Z(se,t),Z(re,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Q_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Q_(i),t=Y_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}L(re),Z(re,t)}function st(){L(re),L(se),L(me)}function Bi(t){t.memoizedState!==null&&Z(xe,t);var i=re.current,a=Y_(i,t.type);i!==a&&(Z(se,t),Z(re,a))}function gs(t){se.current===t&&(L(re),L(se)),xe.current===t&&(L(xe),Nl._currentValue=ce)}var ua,ca;function ui(t){if(ua===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ua=i&&i[1]||"",ca=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ua+t+ca}var No=!1;function vr(t,i){if(!t||No)return"";No=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(G){var B=G}Reflect.construct(t,[],$)}else{try{$.call()}catch(G){B=G}t.call($.prototype)}}else{try{throw Error()}catch(G){B=G}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(G){if(G&&B&&typeof G.stack=="string")return[G.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],E=d[1];if(_&&E){var O=_.split(`
`),z=E.split(`
`);for(h=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===O.length||h===z.length)for(l=O.length-1,h=z.length-1;1<=l&&0<=h&&O[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(O[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||O[l]!==z[h]){var Q=`
`+O[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{No=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ui(a):""}function Do(t,i){switch(t.tag){case 26:case 27:case 5:return ui(t.type);case 16:return ui("Lazy");case 13:return t.child!==i&&i!==null?ui("Suspense Fallback"):ui("Suspense");case 19:return ui("SuspenseList");case 0:case 15:return vr(t.type,!1);case 11:return vr(t.type.render,!1);case 1:return vr(t.type,!0);case 31:return ui("Activity");default:return""}}function Oo(t){try{var i="",a=null;do i+=Do(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Tt=Object.prototype.hasOwnProperty,Ot=s.unstable_scheduleCallback,ys=s.unstable_cancelCallback,af=s.unstable_shouldYield,gu=s.unstable_requestPaint,en=s.unstable_now,Tr=s.unstable_getCurrentPriorityLevel,Vo=s.unstable_ImmediatePriority,Mo=s.unstable_UserBlockingPriority,_s=s.unstable_NormalPriority,of=s.unstable_LowPriority,yu=s.unstable_IdlePriority,_u=s.log,vu=s.unstable_setDisableYieldValue,Hn=null,zt=null;function Cn(t){if(typeof _u=="function"&&vu(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(Hn,t)}catch{}}var pt=Math.clz32?Math.clz32:bu,Tu=Math.log,ha=Math.LN2;function bu(t){return t>>>=0,t===0?32:31-(Tu(t)/ha|0)|0}var ci=256,br=262144,bt=4194304;function hi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function fi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~d,l!==0?h=hi(l):(_&=E,_!==0?h=hi(_):a||(a=E&~t,a!==0&&(h=hi(a))))):(E=l&~d,E!==0?h=hi(E):_!==0?h=hi(_):a||(a=l&~t,a!==0&&(h=hi(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Fn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function lf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Eu(){var t=bt;return bt<<=1,(bt&62914560)===0&&(bt=4194304),t}function di(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Er(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function uf(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,O=t.expirationTimes,z=t.hiddenUpdates;for(a=_&~a;0<a;){var Q=31-pt(a),$=1<<Q;E[Q]=0,O[Q]=-1;var B=z[Q];if(B!==null)for(z[Q]=null,Q=0;Q<B.length;Q++){var G=B[Q];G!==null&&(G.lane&=-536870913)}a&=~$}l!==0&&wr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function wr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-pt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function ko(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-pt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Uo(t,i){var a=i&-i;return a=(a&42)!==0?1:Sr(a),(a&(t.suspendedLanes|i))!==0?0:a}function Sr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function qi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function wu(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:g0(t.type))}function Gn(t,i){var a=te.p;try{return te.p=t,i()}finally{te.p=a}}var Qn=Math.random().toString(36).slice(2),Et="__reactFiber$"+Qn,kt="__reactProps$"+Qn,mi="__reactContainer$"+Qn,fa="__reactEvents$"+Qn,cf="__reactListeners$"+Qn,Su="__reactHandles$"+Qn,Au="__reactResources$"+Qn,pi="__reactMarker$"+Qn;function da(t){delete t[Et],delete t[kt],delete t[fa],delete t[cf],delete t[Su]}function gi(t){var i=t[Et];if(i)return i;for(var a=t.parentNode;a;){if(i=a[mi]||a[Et]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=e0(t);t!==null;){if(a=t[Et])return a;t=e0(t)}return i}t=a,a=t.parentNode}return null}function Nn(t){if(t=t[Et]||t[mi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function pn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function yi(t){var i=t[Au];return i||(i=t[Au]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function wt(t){t[pi]=!0}var Lo=new Set,jo={};function _i(t,i){vi(t,i),vi(t+"Capture",i)}function vi(t,i){for(jo[t]=i,t=0;t<i.length;t++)Lo.add(i[t])}var Po=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zo={},Bo={};function xu(t){return Tt.call(Bo,t)?!0:Tt.call(zo,t)?!1:Po.test(t)?Bo[t]=!0:(zo[t]=!0,!1)}function ma(t,i,a){if(xu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function gn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function St(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Ut(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vs(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function qo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ke(t){if(!t._valueTracker){var i=vs(t)?"checked":"value";t._valueTracker=qo(t,i,""+t[i])}}function Ar(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=vs(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ti(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var xr=/[\n"\\]/g;function on(t){return t.replace(xr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function pa(t,i,a,l,h,d,_,E){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ut(i)):t.value!==""+Ut(i)&&(t.value=""+Ut(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Ho(t,_,Ut(i)):a!=null?Ho(t,_,Ut(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ut(E):t.removeAttribute("name")}function Ru(t,i,a,l,h,d,_,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ke(t);return}a=a!=null?""+Ut(a):"",i=i!=null?""+Ut(i):a,E||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ke(t)}function Ho(t,i,a){i==="number"&&Ti(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ts(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ut(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Iu(t,i,a){if(i!=null&&(i=""+Ut(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Ut(a):""}function bs(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(Ne(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Ut(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ke(t)}function ln(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Cu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Cu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Go(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Fo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Fo(t,d,i[d])}function ga(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Es=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ya(t){return Es.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Yn(){}var Qo=null;function Dn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ws=null,bi=null;function Rr(t){var i=Nn(t);if(i&&(t=i.stateNode)){var a=t[kt]||null;e:switch(t=i.stateNode,i.type){case"input":if(pa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+on(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[kt]||null;if(!h)throw Error(r(90));pa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Ar(l)}break e;case"textarea":Iu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ts(t,!!a.multiple,i,!1)}}}var _a=!1;function Ss(t,i,a){if(_a)return t(i,a);_a=!0;try{var l=t(i);return l}finally{if(_a=!1,(ws!==null||bi!==null)&&(wc(),ws&&(i=ws,t=bi,bi=ws=null,Rr(i),t)))for(i=0;i<t.length;i++)Rr(t[i])}}function Kn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[kt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ir=!1;if(On)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){Ir=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{Ir=!1}var Ei=null,Yo=null,Cr=null;function Ko(){if(Cr)return Cr;var t,i=Yo,a=i.length,l,h="value"in Ei?Ei.value:Ei.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Cr=h.slice(t,1<l?1-l:void 0)}function Nr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Hi(){return!0}function Xn(){return!1}function Bt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Hi:Xn,this.isPropagationStopped=Xn,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Hi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Hi)},persist:function(){},isPersistent:Hi}),i}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wi=Bt(Fi),As=S({},Fi,{view:0,detail:0}),Xo=Bt(As),xs,va,Si,Ta=S({},As,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Si&&(Si&&t.type==="mousemove"?(xs=t.screenX-Si.screenX,va=t.screenY-Si.screenY):va=xs=0,Si=t),xs)},movementY:function(t){return"movementY"in t?t.movementY:va}}),$o=Bt(Ta),Dr=S({},Ta,{dataTransfer:0}),Du=Bt(Dr),Ou=S({},As,{relatedTarget:0}),Or=Bt(Ou),Jo=S({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),Vu=Bt(Jo),ba=S({},Fi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Mu=Bt(ba),ku=S({},Fi,{data:0}),Ai=Bt(ku),Uu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=ju[t])?!!i[t]:!1}function Rs(){return Pu}var tn=S({},As,{key:function(t){if(t.key){var i=Uu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Nr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Lu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rs,charCode:function(t){return t.type==="keypress"?Nr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zu=Bt(tn),Bu=S({},Ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gi=Bt(Bu),c=S({},As,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rs}),p=Bt(c),v=S({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Bt(v),j=S({},Ta,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),F=Bt(j),ne=S({},Fi,{newState:0,oldState:0}),Ie=Bt(ne),gt=[9,13,27,32],Ge=On&&"CompositionEvent"in window,lt=null;On&&"documentMode"in document&&(lt=document.documentMode);var Vn=On&&"TextEvent"in window&&!lt,xi=On&&(!Ge||lt&&8<lt&&11>=lt),$n=" ",Jn=!1;function Vr(t,i){switch(t){case"keyup":return gt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ea(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wa=!1;function xw(t,i){switch(t){case"compositionend":return Ea(i);case"keypress":return i.which!==32?null:(Jn=!0,$n);case"textInput":return t=i.data,t===$n&&Jn?null:t;default:return null}}function Rw(t,i){if(wa)return t==="compositionend"||!Ge&&Vr(t,i)?(t=Ko(),Cr=Yo=Ei=null,wa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return xi&&i.locale!=="ko"?null:i.data;default:return null}}var Iw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ig(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Iw[t.type]:i==="textarea"}function sg(t,i,a,l){ws?bi?bi.push(l):bi=[l]:ws=l,i=Nc(i,"onChange"),0<i.length&&(a=new wi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Zo=null,Wo=null;function Cw(t){z_(t,0)}function qu(t){var i=pn(t);if(Ar(i))return t}function rg(t,i){if(t==="change")return i}var ag=!1;if(On){var hf;if(On){var ff="oninput"in document;if(!ff){var og=document.createElement("div");og.setAttribute("oninput","return;"),ff=typeof og.oninput=="function"}hf=ff}else hf=!1;ag=hf&&(!document.documentMode||9<document.documentMode)}function lg(){Zo&&(Zo.detachEvent("onpropertychange",ug),Wo=Zo=null)}function ug(t){if(t.propertyName==="value"&&qu(Wo)){var i=[];sg(i,Wo,t,Dn(t)),Ss(Cw,i)}}function Nw(t,i,a){t==="focusin"?(lg(),Zo=i,Wo=a,Zo.attachEvent("onpropertychange",ug)):t==="focusout"&&lg()}function Dw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qu(Wo)}function Ow(t,i){if(t==="click")return qu(i)}function Vw(t,i){if(t==="input"||t==="change")return qu(i)}function Mw(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var yn=typeof Object.is=="function"?Object.is:Mw;function el(t,i){if(yn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Tt.call(i,h)||!yn(t[h],i[h]))return!1}return!0}function cg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hg(t,i){var a=cg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=cg(a)}}function fg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?fg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function dg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ti(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ti(t.document)}return i}function df(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var kw=On&&"documentMode"in document&&11>=document.documentMode,Sa=null,mf=null,tl=null,pf=!1;function mg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;pf||Sa==null||Sa!==Ti(l)||(l=Sa,"selectionStart"in l&&df(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),tl&&el(tl,l)||(tl=l,l=Nc(mf,"onSelect"),0<l.length&&(i=new wi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Sa)))}function Mr(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Aa={animationend:Mr("Animation","AnimationEnd"),animationiteration:Mr("Animation","AnimationIteration"),animationstart:Mr("Animation","AnimationStart"),transitionrun:Mr("Transition","TransitionRun"),transitionstart:Mr("Transition","TransitionStart"),transitioncancel:Mr("Transition","TransitionCancel"),transitionend:Mr("Transition","TransitionEnd")},gf={},pg={};On&&(pg=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function kr(t){if(gf[t])return gf[t];if(!Aa[t])return t;var i=Aa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in pg)return gf[t]=i[a];return t}var gg=kr("animationend"),yg=kr("animationiteration"),_g=kr("animationstart"),Uw=kr("transitionrun"),Lw=kr("transitionstart"),jw=kr("transitioncancel"),vg=kr("transitionend"),Tg=new Map,yf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yf.push("scrollEnd");function Zn(t,i){Tg.set(t,i),_i(i,[t])}var Hu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Mn=[],xa=0,_f=0;function Fu(){for(var t=xa,i=_f=xa=0;i<t;){var a=Mn[i];Mn[i++]=null;var l=Mn[i];Mn[i++]=null;var h=Mn[i];Mn[i++]=null;var d=Mn[i];if(Mn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&bg(a,h,d)}}function Gu(t,i,a,l){Mn[xa++]=t,Mn[xa++]=i,Mn[xa++]=a,Mn[xa++]=l,_f|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function vf(t,i,a,l){return Gu(t,i,a,l),Qu(t)}function Ur(t,i){return Gu(t,null,null,i),Qu(t)}function bg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-pt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Qu(t){if(50<wl)throw wl=0,Id=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ra={};function Pw(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,i,a,l){return new Pw(t,i,a,l)}function Tf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qi(t,i){var a=t.alternate;return a===null?(a=_n(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Eg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Yu(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")Tf(t)&&(_=1);else if(typeof t=="string")_=FS(t,a,re.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=_n(31,a,i,h),t.elementType=N,t.lanes=d,t;case W:return Lr(a.children,h,d,i);case ee:_=8,h|=24;break;case oe:return t=_n(12,a,i,h|2),t.elementType=oe,t.lanes=d,t;case Ye:return t=_n(13,a,i,h),t.elementType=Ye,t.lanes=d,t;case be:return t=_n(19,a,i,h),t.elementType=be,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ye:_=10;break e;case pe:_=9;break e;case ze:_=11;break e;case C:_=14;break e;case I:_=16,l=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return i=_n(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Lr(t,i,a,l){return t=_n(7,t,l,i),t.lanes=a,t}function bf(t,i,a){return t=_n(6,t,null,i),t.lanes=a,t}function wg(t){var i=_n(18,null,null,0);return i.stateNode=t,i}function Ef(t,i,a){return i=_n(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Sg=new WeakMap;function kn(t,i){if(typeof t=="object"&&t!==null){var a=Sg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Oo(i)},Sg.set(t,i),i)}return{value:t,source:i,stack:Oo(i)}}var Ia=[],Ca=0,Ku=null,nl=0,Un=[],Ln=0,Is=null,Ri=1,Ii="";function Yi(t,i){Ia[Ca++]=nl,Ia[Ca++]=Ku,Ku=t,nl=i}function Ag(t,i,a){Un[Ln++]=Ri,Un[Ln++]=Ii,Un[Ln++]=Is,Is=t;var l=Ri;t=Ii;var h=32-pt(l)-1;l&=~(1<<h),a+=1;var d=32-pt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ri=1<<32-pt(i)+h|a<<h|l,Ii=d+t}else Ri=1<<d|a<<h|l,Ii=t}function wf(t){t.return!==null&&(Yi(t,1),Ag(t,1,0))}function Sf(t){for(;t===Ku;)Ku=Ia[--Ca],Ia[Ca]=null,nl=Ia[--Ca],Ia[Ca]=null;for(;t===Is;)Is=Un[--Ln],Un[Ln]=null,Ii=Un[--Ln],Un[Ln]=null,Ri=Un[--Ln],Un[Ln]=null}function xg(t,i){Un[Ln++]=Ri,Un[Ln++]=Ii,Un[Ln++]=Is,Ri=i.id,Ii=i.overflow,Is=t}var qt=null,rt=null,Pe=!1,Cs=null,jn=!1,Af=Error(r(519));function Ns(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw il(kn(i,t)),Af}function Rg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Et]=t,i[kt]=l,a){case"dialog":Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":case"embed":Ve("load",i);break;case"video":case"audio":for(a=0;a<Al.length;a++)Ve(Al[a],i);break;case"source":Ve("error",i);break;case"img":case"image":case"link":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"input":Ve("invalid",i),Ru(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ve("invalid",i);break;case"textarea":Ve("invalid",i),bs(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||F_(i.textContent,a)?(l.popover!=null&&(Ve("beforetoggle",i),Ve("toggle",i)),l.onScroll!=null&&Ve("scroll",i),l.onScrollEnd!=null&&Ve("scrollend",i),l.onClick!=null&&(i.onclick=Yn),i=!0):i=!1,i||Ns(t,!0)}function Ig(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:jn=!1;return;case 27:case 3:jn=!0;return;default:qt=qt.return}}function Na(t){if(t!==qt)return!1;if(!Pe)return Ig(t),Pe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Hd(t.type,t.memoizedProps)),a=!a),a&&rt&&Ns(t),Ig(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));rt=W_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));rt=W_(t)}else i===27?(i=rt,Fs(t.type)?(t=Kd,Kd=null,rt=t):rt=i):rt=qt?zn(t.stateNode.nextSibling):null;return!0}function jr(){rt=qt=null,Pe=!1}function xf(){var t=Cs;return t!==null&&(fn===null?fn=t:fn.push.apply(fn,t),Cs=null),t}function il(t){Cs===null?Cs=[t]:Cs.push(t)}var Rf=A(null),Pr=null,Ki=null;function Ds(t,i,a){Z(Rf,i._currentValue),i._currentValue=a}function Xi(t){t._currentValue=Rf.current,L(Rf)}function If(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Cf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var E=d;d=h;for(var O=0;O<i.length;O++)if(E.context===i[O]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),If(d.return,a,t),l||(_=null);break e}d=E.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),If(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Da(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var E=h.type;yn(h.pendingProps.value,_.value)||(t!==null?t.push(E):t=[E])}}else if(h===xe.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}h=h.return}t!==null&&Cf(i,t,a,l),i.flags|=262144}function Xu(t){for(t=t.firstContext;t!==null;){if(!yn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function zr(t){Pr=t,Ki=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return Cg(Pr,t)}function $u(t,i){return Pr===null&&zr(t),Cg(t,i)}function Cg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ki===null){if(t===null)throw Error(r(308));Ki=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ki=Ki.next=i;return a}var zw=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Bw=s.unstable_scheduleCallback,qw=s.unstable_NormalPriority,At={$$typeof:ye,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nf(){return{controller:new zw,data:new Map,refCount:0}}function sl(t){t.refCount--,t.refCount===0&&Bw(qw,function(){t.controller.abort()})}var rl=null,Df=0,Oa=0,Va=null;function Hw(t,i){if(rl===null){var a=rl=[];Df=0,Oa=Md(),Va={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Df++,i.then(Ng,Ng),i}function Ng(){if(--Df===0&&rl!==null){Va!==null&&(Va.status="fulfilled");var t=rl;rl=null,Oa=0,Va=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Fw(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Dg=H.S;H.S=function(t,i){m_=en(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Hw(t,i),Dg!==null&&Dg(t,i)};var Br=A(null);function Of(){var t=Br.current;return t!==null?t:nt.pooledCache}function Ju(t,i){i===null?Z(Br,Br.current):Z(Br,i.pool)}function Og(){var t=Of();return t===null?null:{parent:At._currentValue,pool:t}}var Ma=Error(r(460)),Vf=Error(r(474)),Zu=Error(r(542)),Wu={then:function(){}};function Vg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Mg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Yn,Yn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ug(t),t;default:if(typeof i.status=="string")i.then(Yn,Yn);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ug(t),t}throw Hr=i,Ma}}function qr(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Hr=a,Ma):a}}var Hr=null;function kg(){if(Hr===null)throw Error(r(459));var t=Hr;return Hr=null,t}function Ug(t){if(t===Ma||t===Zu)throw Error(r(483))}var ka=null,al=0;function ec(t){var i=al;return al+=1,ka===null&&(ka=[]),Mg(ka,t,i)}function ol(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function tc(t,i){throw i.$$typeof===x?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Lg(t){function i(U,V){if(t){var P=U.deletions;P===null?(U.deletions=[V],U.flags|=16):P.push(V)}}function a(U,V){if(!t)return null;for(;V!==null;)i(U,V),V=V.sibling;return null}function l(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function h(U,V){return U=Qi(U,V),U.index=0,U.sibling=null,U}function d(U,V,P){return U.index=P,t?(P=U.alternate,P!==null?(P=P.index,P<V?(U.flags|=67108866,V):P):(U.flags|=67108866,V)):(U.flags|=1048576,V)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,V,P,K){return V===null||V.tag!==6?(V=bf(P,U.mode,K),V.return=U,V):(V=h(V,P),V.return=U,V)}function O(U,V,P,K){var _e=P.type;return _e===W?Q(U,V,P.props.children,K,P.key):V!==null&&(V.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===I&&qr(_e)===V.type)?(V=h(V,P.props),ol(V,P),V.return=U,V):(V=Yu(P.type,P.key,P.props,null,U.mode,K),ol(V,P),V.return=U,V)}function z(U,V,P,K){return V===null||V.tag!==4||V.stateNode.containerInfo!==P.containerInfo||V.stateNode.implementation!==P.implementation?(V=Ef(P,U.mode,K),V.return=U,V):(V=h(V,P.children||[]),V.return=U,V)}function Q(U,V,P,K,_e){return V===null||V.tag!==7?(V=Lr(P,U.mode,K,_e),V.return=U,V):(V=h(V,P),V.return=U,V)}function $(U,V,P){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=bf(""+V,U.mode,P),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case q:return P=Yu(V.type,V.key,V.props,null,U.mode,P),ol(P,V),P.return=U,P;case X:return V=Ef(V,U.mode,P),V.return=U,V;case I:return V=qr(V),$(U,V,P)}if(Ne(V)||k(V))return V=Lr(V,U.mode,P,null),V.return=U,V;if(typeof V.then=="function")return $(U,ec(V),P);if(V.$$typeof===ye)return $(U,$u(U,V),P);tc(U,V)}return null}function B(U,V,P,K){var _e=V!==null?V.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return _e!==null?null:E(U,V,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case q:return P.key===_e?O(U,V,P,K):null;case X:return P.key===_e?z(U,V,P,K):null;case I:return P=qr(P),B(U,V,P,K)}if(Ne(P)||k(P))return _e!==null?null:Q(U,V,P,K,null);if(typeof P.then=="function")return B(U,V,ec(P),K);if(P.$$typeof===ye)return B(U,V,$u(U,P),K);tc(U,P)}return null}function G(U,V,P,K,_e){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return U=U.get(P)||null,E(V,U,""+K,_e);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case q:return U=U.get(K.key===null?P:K.key)||null,O(V,U,K,_e);case X:return U=U.get(K.key===null?P:K.key)||null,z(V,U,K,_e);case I:return K=qr(K),G(U,V,P,K,_e)}if(Ne(K)||k(K))return U=U.get(P)||null,Q(V,U,K,_e,null);if(typeof K.then=="function")return G(U,V,P,ec(K),_e);if(K.$$typeof===ye)return G(U,V,P,$u(V,K),_e);tc(V,K)}return null}function ue(U,V,P,K){for(var _e=null,He=null,de=V,De=V=0,ke=null;de!==null&&De<P.length;De++){de.index>De?(ke=de,de=null):ke=de.sibling;var Fe=B(U,de,P[De],K);if(Fe===null){de===null&&(de=ke);break}t&&de&&Fe.alternate===null&&i(U,de),V=d(Fe,V,De),He===null?_e=Fe:He.sibling=Fe,He=Fe,de=ke}if(De===P.length)return a(U,de),Pe&&Yi(U,De),_e;if(de===null){for(;De<P.length;De++)de=$(U,P[De],K),de!==null&&(V=d(de,V,De),He===null?_e=de:He.sibling=de,He=de);return Pe&&Yi(U,De),_e}for(de=l(de);De<P.length;De++)ke=G(de,U,De,P[De],K),ke!==null&&(t&&ke.alternate!==null&&de.delete(ke.key===null?De:ke.key),V=d(ke,V,De),He===null?_e=ke:He.sibling=ke,He=ke);return t&&de.forEach(function(Xs){return i(U,Xs)}),Pe&&Yi(U,De),_e}function Te(U,V,P,K){if(P==null)throw Error(r(151));for(var _e=null,He=null,de=V,De=V=0,ke=null,Fe=P.next();de!==null&&!Fe.done;De++,Fe=P.next()){de.index>De?(ke=de,de=null):ke=de.sibling;var Xs=B(U,de,Fe.value,K);if(Xs===null){de===null&&(de=ke);break}t&&de&&Xs.alternate===null&&i(U,de),V=d(Xs,V,De),He===null?_e=Xs:He.sibling=Xs,He=Xs,de=ke}if(Fe.done)return a(U,de),Pe&&Yi(U,De),_e;if(de===null){for(;!Fe.done;De++,Fe=P.next())Fe=$(U,Fe.value,K),Fe!==null&&(V=d(Fe,V,De),He===null?_e=Fe:He.sibling=Fe,He=Fe);return Pe&&Yi(U,De),_e}for(de=l(de);!Fe.done;De++,Fe=P.next())Fe=G(de,U,De,Fe.value,K),Fe!==null&&(t&&Fe.alternate!==null&&de.delete(Fe.key===null?De:Fe.key),V=d(Fe,V,De),He===null?_e=Fe:He.sibling=Fe,He=Fe);return t&&de.forEach(function(tA){return i(U,tA)}),Pe&&Yi(U,De),_e}function et(U,V,P,K){if(typeof P=="object"&&P!==null&&P.type===W&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case q:e:{for(var _e=P.key;V!==null;){if(V.key===_e){if(_e=P.type,_e===W){if(V.tag===7){a(U,V.sibling),K=h(V,P.props.children),K.return=U,U=K;break e}}else if(V.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===I&&qr(_e)===V.type){a(U,V.sibling),K=h(V,P.props),ol(K,P),K.return=U,U=K;break e}a(U,V);break}else i(U,V);V=V.sibling}P.type===W?(K=Lr(P.props.children,U.mode,K,P.key),K.return=U,U=K):(K=Yu(P.type,P.key,P.props,null,U.mode,K),ol(K,P),K.return=U,U=K)}return _(U);case X:e:{for(_e=P.key;V!==null;){if(V.key===_e)if(V.tag===4&&V.stateNode.containerInfo===P.containerInfo&&V.stateNode.implementation===P.implementation){a(U,V.sibling),K=h(V,P.children||[]),K.return=U,U=K;break e}else{a(U,V);break}else i(U,V);V=V.sibling}K=Ef(P,U.mode,K),K.return=U,U=K}return _(U);case I:return P=qr(P),et(U,V,P,K)}if(Ne(P))return ue(U,V,P,K);if(k(P)){if(_e=k(P),typeof _e!="function")throw Error(r(150));return P=_e.call(P),Te(U,V,P,K)}if(typeof P.then=="function")return et(U,V,ec(P),K);if(P.$$typeof===ye)return et(U,V,$u(U,P),K);tc(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,V!==null&&V.tag===6?(a(U,V.sibling),K=h(V,P),K.return=U,U=K):(a(U,V),K=bf(P,U.mode,K),K.return=U,U=K),_(U)):a(U,V)}return function(U,V,P,K){try{al=0;var _e=et(U,V,P,K);return ka=null,_e}catch(de){if(de===Ma||de===Zu)throw de;var He=_n(29,de,null,U.mode);return He.lanes=K,He.return=U,He}}}var Fr=Lg(!0),jg=Lg(!1),Os=!1;function Mf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Vs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ms(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qe&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Qu(t),bg(t,null,a),i}return Gu(t,l,i,a),Qu(t)}function ll(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,ko(t,a)}}function Uf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Lf=!1;function ul(){if(Lf){var t=Va;if(t!==null)throw t}}function cl(t,i,a,l){Lf=!1;var h=t.updateQueue;Os=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var O=E,z=O.next;O.next=null,_===null?d=z:_.next=z,_=O;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==_&&(E===null?Q.firstBaseUpdate=z:E.next=z,Q.lastBaseUpdate=O))}if(d!==null){var $=h.baseState;_=0,Q=z=O=null,E=d;do{var B=E.lane&-536870913,G=B!==E.lane;if(G?(Me&B)===B:(l&B)===B){B!==0&&B===Oa&&(Lf=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ue=t,Te=E;B=i;var et=a;switch(Te.tag){case 1:if(ue=Te.payload,typeof ue=="function"){$=ue.call(et,$,B);break e}$=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=Te.payload,B=typeof ue=="function"?ue.call(et,$,B):ue,B==null)break e;$=S({},$,B);break e;case 2:Os=!0}}B=E.callback,B!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[B]:G.push(B))}else G={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(z=Q=G,O=$):Q=Q.next=G,_|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;G=E,E=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);Q===null&&(O=$),h.baseState=O,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,d===null&&(h.shared.lanes=0),Ps|=_,t.lanes=_,t.memoizedState=$}}function Pg(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function zg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Pg(a[t],i)}var Ua=A(null),nc=A(0);function Bg(t,i){t=ss,Z(nc,t),Z(Ua,i),ss=t|i.baseLanes}function jf(){Z(nc,ss),Z(Ua,Ua.current)}function Pf(){ss=nc.current,L(Ua),L(nc)}var vn=A(null),Pn=null;function ks(t){var i=t.alternate;Z(yt,yt.current&1),Z(vn,t),Pn===null&&(i===null||Ua.current!==null||i.memoizedState!==null)&&(Pn=t)}function zf(t){Z(yt,yt.current),Z(vn,t),Pn===null&&(Pn=t)}function qg(t){t.tag===22?(Z(yt,yt.current),Z(vn,t),Pn===null&&(Pn=t)):Us()}function Us(){Z(yt,yt.current),Z(vn,vn.current)}function Tn(t){L(vn),Pn===t&&(Pn=null),L(yt)}var yt=A(0);function ic(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Qd(a)||Yd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var $i=0,Ce=null,Ze=null,xt=null,sc=!1,La=!1,Gr=!1,rc=0,hl=0,ja=null,Gw=0;function dt(){throw Error(r(321))}function Bf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!yn(t[a],i[a]))return!1;return!0}function qf(t,i,a,l,h,d){return $i=d,Ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,H.H=t===null||t.memoizedState===null?Ay:id,Gr=!1,d=a(l,h),Gr=!1,La&&(d=Fg(i,a,l,h)),Hg(t),d}function Hg(t){H.H=ml;var i=Ze!==null&&Ze.next!==null;if($i=0,xt=Ze=Ce=null,sc=!1,hl=0,ja=null,i)throw Error(r(300));t===null||Rt||(t=t.dependencies,t!==null&&Xu(t)&&(Rt=!0))}function Fg(t,i,a,l){Ce=t;var h=0;do{if(La&&(ja=null),hl=0,La=!1,25<=h)throw Error(r(301));if(h+=1,xt=Ze=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}H.H=xy,d=i(a,l)}while(La);return d}function Qw(){var t=H.H,i=t.useState()[0];return i=typeof i.then=="function"?fl(i):i,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Ce.flags|=1024),i}function Hf(){var t=rc!==0;return rc=0,t}function Ff(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Gf(t){if(sc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}sc=!1}$i=0,xt=Ze=Ce=null,La=!1,hl=rc=0,ja=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Ce.memoizedState=xt=t:xt=xt.next=t,xt}function _t(){if(Ze===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var i=xt===null?Ce.memoizedState:xt.next;if(i!==null)xt=i,Ze=t;else{if(t===null)throw Ce.alternate===null?Error(r(467)):Error(r(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},xt===null?Ce.memoizedState=xt=t:xt=xt.next=t}return xt}function ac(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(t){var i=hl;return hl+=1,ja===null&&(ja=[]),t=Mg(ja,t,i),i=Ce,(xt===null?i.memoizedState:xt.next)===null&&(i=i.alternate,H.H=i===null||i.memoizedState===null?Ay:id),t}function oc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fl(t);if(t.$$typeof===ye)return Ht(t)}throw Error(r(438,String(t)))}function Qf(t){var i=null,a=Ce.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=ac(),Ce.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=M;return i.index++,a}function Ji(t,i){return typeof i=="function"?i(t):i}function lc(t){var i=_t();return Yf(i,Ze,t)}function Yf(t,i,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var E=_=null,O=null,z=i,Q=!1;do{var $=z.lane&-536870913;if($!==z.lane?(Me&$)===$:($i&$)===$){var B=z.revertLane;if(B===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===Oa&&(Q=!0);else if(($i&B)===B){z=z.next,B===Oa&&(Q=!0);continue}else $={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},O===null?(E=O=$,_=d):O=O.next=$,Ce.lanes|=B,Ps|=B;$=z.action,Gr&&a(d,$),d=z.hasEagerState?z.eagerState:a(d,$)}else B={lane:$,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},O===null?(E=O=B,_=d):O=O.next=B,Ce.lanes|=$,Ps|=$;z=z.next}while(z!==null&&z!==i);if(O===null?_=d:O.next=E,!yn(d,t.memoizedState)&&(Rt=!0,Q&&(a=Va,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=O,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Kf(t){var i=_t(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);yn(d,i.memoizedState)||(Rt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Gg(t,i,a){var l=Ce,h=_t(),d=Pe;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!yn((Ze||h).memoizedState,a);if(_&&(h.memoizedState=a,Rt=!0),h=h.queue,Jf(Kg.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||xt!==null&&xt.memoizedState.tag&1){if(l.flags|=2048,Pa(9,{destroy:void 0},Yg.bind(null,l,h,a,i),null),nt===null)throw Error(r(349));d||($i&127)!==0||Qg(l,i,a)}return a}function Qg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ce.updateQueue,i===null?(i=ac(),Ce.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Yg(t,i,a,l){i.value=a,i.getSnapshot=l,Xg(i)&&$g(t)}function Kg(t,i,a){return a(function(){Xg(i)&&$g(t)})}function Xg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!yn(t,a)}catch{return!0}}function $g(t){var i=Ur(t,2);i!==null&&dn(i,t,2)}function Xf(t){var i=nn();if(typeof t=="function"){var a=t;if(t=a(),Gr){Cn(!0);try{a()}finally{Cn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:t},i}function Jg(t,i,a,l){return t.baseState=a,Yf(t,Ze,typeof l=="function"?l:Ji)}function Yw(t,i,a,l,h){if(hc(t))throw Error(r(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};H.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Zg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Zg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=H.T,_={};H.T=_;try{var E=a(h,l),O=H.S;O!==null&&O(_,E),Wg(t,i,E)}catch(z){$f(t,i,z)}finally{d!==null&&_.types!==null&&(d.types=_.types),H.T=d}}else try{d=a(h,l),Wg(t,i,d)}catch(z){$f(t,i,z)}}function Wg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ey(t,i,l)},function(l){return $f(t,i,l)}):ey(t,i,a)}function ey(t,i,a){i.status="fulfilled",i.value=a,ty(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Zg(t,a)))}function $f(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,ty(i),i=i.next;while(i!==l)}t.action=null}function ty(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function ny(t,i){return i}function iy(t,i){if(Pe){var a=nt.formState;if(a!==null){e:{var l=Ce;if(Pe){if(rt){t:{for(var h=rt,d=jn;h.nodeType!==8;){if(!d){h=null;break t}if(h=zn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){rt=zn(h.nextSibling),l=h.data==="F!";break e}}Ns(l)}l=!1}l&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ny,lastRenderedState:i},a.queue=l,a=Ey.bind(null,Ce,l),l.dispatch=a,l=Xf(!1),d=nd.bind(null,Ce,!1,l.queue),l=nn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=Yw.bind(null,Ce,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function sy(t){var i=_t();return ry(i,Ze,t)}function ry(t,i,a){if(i=Yf(t,i,ny)[0],t=lc(Ji)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=fl(i)}catch(_){throw _===Ma?Zu:_}else l=i;i=_t();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ce.flags|=2048,Pa(9,{destroy:void 0},Kw.bind(null,h,a),null)),[l,d,t]}function Kw(t,i){t.action=i}function ay(t){var i=_t(),a=Ze;if(a!==null)return ry(i,a,t);_t(),i=i.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Pa(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ce.updateQueue,i===null&&(i=ac(),Ce.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function oy(){return _t().memoizedState}function uc(t,i,a,l){var h=nn();Ce.flags|=t,h.memoizedState=Pa(1|i,{destroy:void 0},a,l===void 0?null:l)}function cc(t,i,a,l){var h=_t();l=l===void 0?null:l;var d=h.memoizedState.inst;Ze!==null&&l!==null&&Bf(l,Ze.memoizedState.deps)?h.memoizedState=Pa(i,d,a,l):(Ce.flags|=t,h.memoizedState=Pa(1|i,d,a,l))}function ly(t,i){uc(8390656,8,t,i)}function Jf(t,i){cc(2048,8,t,i)}function Xw(t){Ce.flags|=4;var i=Ce.updateQueue;if(i===null)i=ac(),Ce.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function uy(t){var i=_t().memoizedState;return Xw({ref:i,nextImpl:t}),function(){if((Qe&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function cy(t,i){return cc(4,2,t,i)}function hy(t,i){return cc(4,4,t,i)}function fy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function dy(t,i,a){a=a!=null?a.concat([t]):null,cc(4,4,fy.bind(null,i,t),a)}function Zf(){}function my(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Bf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function py(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Bf(i,l[1]))return l[0];if(l=t(),Gr){Cn(!0);try{t()}finally{Cn(!1)}}return a.memoizedState=[l,i],l}function Wf(t,i,a){return a===void 0||($i&1073741824)!==0&&(Me&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=g_(),Ce.lanes|=t,Ps|=t,a)}function gy(t,i,a,l){return yn(a,i)?a:Ua.current!==null?(t=Wf(t,a,l),yn(t,i)||(Rt=!0),t):($i&42)===0||($i&1073741824)!==0&&(Me&261930)===0?(Rt=!0,t.memoizedState=a):(t=g_(),Ce.lanes|=t,Ps|=t,i)}function yy(t,i,a,l,h){var d=te.p;te.p=d!==0&&8>d?d:8;var _=H.T,E={};H.T=E,nd(t,!1,i,a);try{var O=h(),z=H.S;if(z!==null&&z(E,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var Q=Fw(O,l);dl(t,i,Q,wn(t))}else dl(t,i,l,wn(t))}catch($){dl(t,i,{then:function(){},status:"rejected",reason:$},wn())}finally{te.p=d,_!==null&&E.types!==null&&(_.types=E.types),H.T=_}}function $w(){}function ed(t,i,a,l){if(t.tag!==5)throw Error(r(476));var h=_y(t).queue;yy(t,h,i,ce,a===null?$w:function(){return vy(t),a(l)})}function _y(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:ce},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function vy(t){var i=_y(t);i.next===null&&(i=t.alternate.memoizedState),dl(t,i.next.queue,{},wn())}function td(){return Ht(Nl)}function Ty(){return _t().memoizedState}function by(){return _t().memoizedState}function Jw(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=wn();t=Vs(a);var l=Ms(i,t,a);l!==null&&(dn(l,i,a),ll(l,i,a)),i={cache:Nf()},t.payload=i;return}i=i.return}}function Zw(t,i,a){var l=wn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},hc(t)?wy(i,a):(a=vf(t,i,a,l),a!==null&&(dn(a,t,l),Sy(a,i,l)))}function Ey(t,i,a){var l=wn();dl(t,i,a,l)}function dl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(hc(t))wy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,E=d(_,a);if(h.hasEagerState=!0,h.eagerState=E,yn(E,_))return Gu(t,i,h,0),nt===null&&Fu(),!1}catch{}if(a=vf(t,i,h,l),a!==null)return dn(a,t,l),Sy(a,i,l),!0}return!1}function nd(t,i,a,l){if(l={lane:2,revertLane:Md(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},hc(t)){if(i)throw Error(r(479))}else i=vf(t,a,l,2),i!==null&&dn(i,t,2)}function hc(t){var i=t.alternate;return t===Ce||i!==null&&i===Ce}function wy(t,i){La=sc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Sy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,ko(t,a)}}var ml={readContext:Ht,use:oc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};ml.useEffectEvent=dt;var Ay={readContext:Ht,use:oc,useCallback:function(t,i){return nn().memoizedState=[t,i===void 0?null:i],t},useContext:Ht,useEffect:ly,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,uc(4194308,4,fy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return uc(4194308,4,t,i)},useInsertionEffect:function(t,i){uc(4,2,t,i)},useMemo:function(t,i){var a=nn();i=i===void 0?null:i;var l=t();if(Gr){Cn(!0);try{t()}finally{Cn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=nn();if(a!==void 0){var h=a(i);if(Gr){Cn(!0);try{a(i)}finally{Cn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Zw.bind(null,Ce,t),[l.memoizedState,t]},useRef:function(t){var i=nn();return t={current:t},i.memoizedState=t},useState:function(t){t=Xf(t);var i=t.queue,a=Ey.bind(null,Ce,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Zf,useDeferredValue:function(t,i){var a=nn();return Wf(a,t,i)},useTransition:function(){var t=Xf(!1);return t=yy.bind(null,Ce,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ce,h=nn();if(Pe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),nt===null)throw Error(r(349));(Me&127)!==0||Qg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,ly(Kg.bind(null,l,d,t),[t]),l.flags|=2048,Pa(9,{destroy:void 0},Yg.bind(null,l,d,a,i),null),a},useId:function(){var t=nn(),i=nt.identifierPrefix;if(Pe){var a=Ii,l=Ri;a=(l&~(1<<32-pt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=rc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=Gw++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:td,useFormState:iy,useActionState:iy,useOptimistic:function(t){var i=nn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=nd.bind(null,Ce,!0,a),a.dispatch=i,[t,i]},useMemoCache:Qf,useCacheRefresh:function(){return nn().memoizedState=Jw.bind(null,Ce)},useEffectEvent:function(t){var i=nn(),a={impl:t};return i.memoizedState=a,function(){if((Qe&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},id={readContext:Ht,use:oc,useCallback:my,useContext:Ht,useEffect:Jf,useImperativeHandle:dy,useInsertionEffect:cy,useLayoutEffect:hy,useMemo:py,useReducer:lc,useRef:oy,useState:function(){return lc(Ji)},useDebugValue:Zf,useDeferredValue:function(t,i){var a=_t();return gy(a,Ze.memoizedState,t,i)},useTransition:function(){var t=lc(Ji)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:fl(t),i]},useSyncExternalStore:Gg,useId:Ty,useHostTransitionStatus:td,useFormState:sy,useActionState:sy,useOptimistic:function(t,i){var a=_t();return Jg(a,Ze,t,i)},useMemoCache:Qf,useCacheRefresh:by};id.useEffectEvent=uy;var xy={readContext:Ht,use:oc,useCallback:my,useContext:Ht,useEffect:Jf,useImperativeHandle:dy,useInsertionEffect:cy,useLayoutEffect:hy,useMemo:py,useReducer:Kf,useRef:oy,useState:function(){return Kf(Ji)},useDebugValue:Zf,useDeferredValue:function(t,i){var a=_t();return Ze===null?Wf(a,t,i):gy(a,Ze.memoizedState,t,i)},useTransition:function(){var t=Kf(Ji)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:fl(t),i]},useSyncExternalStore:Gg,useId:Ty,useHostTransitionStatus:td,useFormState:ay,useActionState:ay,useOptimistic:function(t,i){var a=_t();return Ze!==null?Jg(a,Ze,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Qf,useCacheRefresh:by};xy.useEffectEvent=uy;function sd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:S({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var rd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=wn(),h=Vs(l);h.payload=i,a!=null&&(h.callback=a),i=Ms(t,h,l),i!==null&&(dn(i,t,l),ll(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=wn(),h=Vs(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ms(t,h,l),i!==null&&(dn(i,t,l),ll(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=wn(),l=Vs(a);l.tag=2,i!=null&&(l.callback=i),i=Ms(t,l,a),i!==null&&(dn(i,t,a),ll(i,t,a))}};function Ry(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!el(a,l)||!el(h,d):!0}function Iy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&rd.enqueueReplaceState(i,i.state,null)}function Qr(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Cy(t){Hu(t)}function Ny(t){console.error(t)}function Dy(t){Hu(t)}function fc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Oy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ad(t,i,a){return a=Vs(a),a.tag=3,a.payload={element:null},a.callback=function(){fc(t,i)},a}function Vy(t){return t=Vs(t),t.tag=3,t}function My(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Oy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Oy(i,a,l),typeof h!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function Ww(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Da(i,a,h,!0),a=vn.current,a!==null){switch(a.tag){case 31:case 13:return Pn===null?Sc():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Wu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Dd(t,l,h)),!1;case 22:return a.flags|=65536,l===Wu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Dd(t,l,h)),!1}throw Error(r(435,a.tag))}return Dd(t,l,h),Sc(),!1}if(Pe)return i=vn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Af&&(t=Error(r(422),{cause:l}),il(kn(t,a)))):(l!==Af&&(i=Error(r(423),{cause:l}),il(kn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=kn(l,a),h=ad(t.stateNode,l,h),Uf(t,h),mt!==4&&(mt=2)),!1;var d=Error(r(520),{cause:l});if(d=kn(d,a),El===null?El=[d]:El.push(d),mt!==4&&(mt=2),i===null)return!0;l=kn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=ad(a.stateNode,l,t),Uf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(zs===null||!zs.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Vy(h),My(h,t,a,l),Uf(a,h),!1}a=a.return}while(a!==null);return!1}var od=Error(r(461)),Rt=!1;function Ft(t,i,a,l){i.child=t===null?jg(i,null,a,l):Fr(i,t.child,a,l)}function ky(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var E in l)E!=="ref"&&(_[E]=l[E])}else _=l;return zr(i),l=qf(t,i,a,_,d,h),E=Hf(),t!==null&&!Rt?(Ff(t,i,h),Zi(t,i,h)):(Pe&&E&&wf(i),i.flags|=1,Ft(t,i,l,h),i.child)}function Uy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Tf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Ly(t,i,d,l,h)):(t=Yu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!pd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:el,a(_,l)&&t.ref===i.ref)return Zi(t,i,h)}return i.flags|=1,t=Qi(d,l),t.ref=i.ref,t.return=i,i.child=t}function Ly(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(el(d,l)&&t.ref===i.ref)if(Rt=!1,i.pendingProps=l=d,pd(t,h))(t.flags&131072)!==0&&(Rt=!0);else return i.lanes=t.lanes,Zi(t,i,h)}return ld(t,i,a,l,h)}function jy(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Py(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ju(i,d!==null?d.cachePool:null),d!==null?Bg(i,d):jf(),qg(i);else return l=i.lanes=536870912,Py(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Ju(i,d.cachePool),Bg(i,d),Us(),i.memoizedState=null):(t!==null&&Ju(i,null),jf(),Us());return Ft(t,i,h,a),i.child}function pl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Py(t,i,a,l,h){var d=Of();return d=d===null?null:{parent:At._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Ju(i,null),jf(),qg(i),t!==null&&Da(t,i,l,!0),i.childLanes=h,null}function dc(t,i){return i=pc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function zy(t,i,a){return Fr(i,t.child,null,a),t=dc(i,i.pendingProps),t.flags|=2,Tn(i),i.memoizedState=null,t}function eS(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Pe){if(l.mode==="hidden")return t=dc(i,l),i.lanes=536870912,pl(null,t);if(zf(i),(t=rt)?(t=Z_(t,jn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Is!==null?{id:Ri,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},a=wg(t),a.return=i,i.child=a,qt=i,rt=null)):t=null,t===null)throw Ns(i);return i.lanes=536870912,null}return dc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(zf(i),h)if(i.flags&256)i.flags&=-257,i=zy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(Rt||Da(t,i,a,!1),h=(a&t.childLanes)!==0,Rt||h){if(l=nt,l!==null&&(_=Uo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Ur(t,_),dn(l,t,_),od;Sc(),i=zy(t,i,a)}else t=d.treeContext,rt=zn(_.nextSibling),qt=i,Pe=!0,Cs=null,jn=!1,t!==null&&xg(i,t),i=dc(i,l),i.flags|=4096;return i}return t=Qi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function mc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function ld(t,i,a,l,h){return zr(i),a=qf(t,i,a,l,void 0,h),l=Hf(),t!==null&&!Rt?(Ff(t,i,h),Zi(t,i,h)):(Pe&&l&&wf(i),i.flags|=1,Ft(t,i,a,h),i.child)}function By(t,i,a,l,h,d){return zr(i),i.updateQueue=null,a=Fg(i,l,a,h),Hg(t),l=Hf(),t!==null&&!Rt?(Ff(t,i,d),Zi(t,i,d)):(Pe&&l&&wf(i),i.flags|=1,Ft(t,i,a,d),i.child)}function qy(t,i,a,l,h){if(zr(i),i.stateNode===null){var d=Ra,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ht(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=rd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Mf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ht(_):Ra,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(sd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&rd.enqueueReplaceState(d,d.state,null),cl(i,l,d,h),ul(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var E=i.memoizedProps,O=Qr(a,E);d.props=O;var z=d.context,Q=a.contextType;_=Ra,typeof Q=="object"&&Q!==null&&(_=Ht(Q));var $=a.getDerivedStateFromProps;Q=typeof $=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||z!==_)&&Iy(i,d,l,_),Os=!1;var B=i.memoizedState;d.state=B,cl(i,l,d,h),ul(),z=i.memoizedState,E||B!==z||Os?(typeof $=="function"&&(sd(i,a,$,l),z=i.memoizedState),(O=Os||Ry(i,a,O,l,B,z,_))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=_,l=O):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,kf(t,i),_=i.memoizedProps,Q=Qr(a,_),d.props=Q,$=i.pendingProps,B=d.context,z=a.contextType,O=Ra,typeof z=="object"&&z!==null&&(O=Ht(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==$||B!==O)&&Iy(i,d,l,O),Os=!1,B=i.memoizedState,d.state=B,cl(i,l,d,h),ul();var G=i.memoizedState;_!==$||B!==G||Os||t!==null&&t.dependencies!==null&&Xu(t.dependencies)?(typeof E=="function"&&(sd(i,a,E,l),G=i.memoizedState),(Q=Os||Ry(i,a,Q,l,B,G,O)||t!==null&&t.dependencies!==null&&Xu(t.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,O)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=G),d.props=l,d.state=G,d.context=O,l=Q):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,mc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Fr(i,t.child,null,h),i.child=Fr(i,null,a,h)):Ft(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Zi(t,i,h),t}function Hy(t,i,a,l){return jr(),i.flags|=256,Ft(t,i,a,l),i.child}var ud={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cd(t){return{baseLanes:t,cachePool:Og()}}function hd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=En),t}function Fy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Pe){if(h?ks(i):Us(),(t=rt)?(t=Z_(t,jn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Is!==null?{id:Ri,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},a=wg(t),a.return=i,i.child=a,qt=i,rt=null)):t=null,t===null)throw Ns(i);return Yd(t)?i.lanes=32:i.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Us(),h=i.mode,E=pc({mode:"hidden",children:E},h),l=Lr(l,h,a,null),E.return=i,l.return=i,E.sibling=l,i.child=E,l=i.child,l.memoizedState=cd(a),l.childLanes=hd(t,_,a),i.memoizedState=ud,pl(null,l)):(ks(i),fd(i,E))}var O=t.memoizedState;if(O!==null&&(E=O.dehydrated,E!==null)){if(d)i.flags&256?(ks(i),i.flags&=-257,i=dd(t,i,a)):i.memoizedState!==null?(Us(),i.child=t.child,i.flags|=128,i=null):(Us(),E=l.fallback,h=i.mode,l=pc({mode:"visible",children:l.children},h),E=Lr(E,h,a,null),E.flags|=2,l.return=i,E.return=i,l.sibling=E,i.child=l,Fr(i,t.child,null,a),l=i.child,l.memoizedState=cd(a),l.childLanes=hd(t,_,a),i.memoizedState=ud,i=pl(null,l));else if(ks(i),Yd(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(r(419)),l.stack="",l.digest=_,il({value:l,source:null,stack:null}),i=dd(t,i,a)}else if(Rt||Da(t,i,a,!1),_=(a&t.childLanes)!==0,Rt||_){if(_=nt,_!==null&&(l=Uo(_,a),l!==0&&l!==O.retryLane))throw O.retryLane=l,Ur(t,l),dn(_,t,l),od;Qd(E)||Sc(),i=dd(t,i,a)}else Qd(E)?(i.flags|=192,i.child=t.child,i=null):(t=O.treeContext,rt=zn(E.nextSibling),qt=i,Pe=!0,Cs=null,jn=!1,t!==null&&xg(i,t),i=fd(i,l.children),i.flags|=4096);return i}return h?(Us(),E=l.fallback,h=i.mode,O=t.child,z=O.sibling,l=Qi(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,z!==null?E=Qi(z,E):(E=Lr(E,h,a,null),E.flags|=2),E.return=i,l.return=i,l.sibling=E,i.child=l,pl(null,l),l=i.child,E=t.child.memoizedState,E===null?E=cd(a):(h=E.cachePool,h!==null?(O=At._currentValue,h=h.parent!==O?{parent:O,pool:O}:h):h=Og(),E={baseLanes:E.baseLanes|a,cachePool:h}),l.memoizedState=E,l.childLanes=hd(t,_,a),i.memoizedState=ud,pl(t.child,l)):(ks(i),a=t.child,t=a.sibling,a=Qi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function fd(t,i){return i=pc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function pc(t,i){return t=_n(22,t,null,i),t.lanes=0,t}function dd(t,i,a){return Fr(i,t.child,null,a),t=fd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Gy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),If(t.return,i,a)}function md(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Qy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=yt.current,E=(_&2)!==0;if(E?(_=_&1|2,i.flags|=128):_&=1,Z(yt,_),Ft(t,i,l,a),l=Pe?nl:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Gy(t,a,i);else if(t.tag===19)Gy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&ic(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),md(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&ic(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}md(i,!0,a,null,d,l);break;case"together":md(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Zi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Ps|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Da(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=Qi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Qi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function pd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Xu(t)))}function tS(t,i,a){switch(i.tag){case 3:it(i,i.stateNode.containerInfo),Ds(i,At,t.memoizedState.cache),jr();break;case 27:case 5:Bi(i);break;case 4:it(i,i.stateNode.containerInfo);break;case 10:Ds(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,zf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(ks(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Fy(t,i,a):(ks(i),t=Zi(t,i,a),t!==null?t.sibling:null);ks(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Da(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Qy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Z(yt,yt.current),l)break;return null;case 22:return i.lanes=0,jy(t,i,a,i.pendingProps);case 24:Ds(i,At,t.memoizedState.cache)}return Zi(t,i,a)}function Yy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Rt=!0;else{if(!pd(t,a)&&(i.flags&128)===0)return Rt=!1,tS(t,i,a);Rt=(t.flags&131072)!==0}else Rt=!1,Pe&&(i.flags&1048576)!==0&&Ag(i,nl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=qr(i.elementType),i.type=t,typeof t=="function")Tf(t)?(l=Qr(t,l),i.tag=1,i=qy(null,i,t,l,a)):(i.tag=0,i=ld(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===ze){i.tag=11,i=ky(null,i,t,l,a);break e}else if(h===C){i.tag=14,i=Uy(null,i,t,l,a);break e}}throw i=Se(t)||t,Error(r(306,i,""))}}return i;case 0:return ld(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Qr(l,i.pendingProps),qy(t,i,l,h,a);case 3:e:{if(it(i,i.stateNode.containerInfo),t===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,kf(t,i),cl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Ds(i,At,l),l!==d.cache&&Cf(i,[At],a,!0),ul(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Hy(t,i,l,a);break e}else if(l!==h){h=kn(Error(r(424)),i),il(h),i=Hy(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,rt=zn(t.firstChild),qt=i,Pe=!0,Cs=null,jn=!0,a=jg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(jr(),l===h){i=Zi(t,i,a);break e}Ft(t,i,l,a)}i=i.child}return i;case 26:return mc(t,i),t===null?(a=s0(i.type,null,i.pendingProps,null))?i.memoizedState=a:Pe||(a=i.type,t=i.pendingProps,l=Dc(me.current).createElement(a),l[Et]=i,l[kt]=t,Gt(l,a,t),wt(l),i.stateNode=l):i.memoizedState=s0(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Bi(i),t===null&&Pe&&(l=i.stateNode=t0(i.type,i.pendingProps,me.current),qt=i,jn=!0,h=rt,Fs(i.type)?(Kd=h,rt=zn(l.firstChild)):rt=h),Ft(t,i,i.pendingProps.children,a),mc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Pe&&((h=l=rt)&&(l=DS(l,i.type,i.pendingProps,jn),l!==null?(i.stateNode=l,qt=i,rt=zn(l.firstChild),jn=!1,h=!0):h=!1),h||Ns(i)),Bi(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Hd(h,d)?l=null:_!==null&&Hd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=qf(t,i,Qw,null,null,a),Nl._currentValue=h),mc(t,i),Ft(t,i,l,a),i.child;case 6:return t===null&&Pe&&((t=a=rt)&&(a=OS(a,i.pendingProps,jn),a!==null?(i.stateNode=a,qt=i,rt=null,t=!0):t=!1),t||Ns(i)),null;case 13:return Fy(t,i,a);case 4:return it(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Fr(i,null,l,a):Ft(t,i,l,a),i.child;case 11:return ky(t,i,i.type,i.pendingProps,a);case 7:return Ft(t,i,i.pendingProps,a),i.child;case 8:return Ft(t,i,i.pendingProps.children,a),i.child;case 12:return Ft(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ds(i,i.type,l.value),Ft(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,zr(i),h=Ht(h),l=l(h),i.flags|=1,Ft(t,i,l,a),i.child;case 14:return Uy(t,i,i.type,i.pendingProps,a);case 15:return Ly(t,i,i.type,i.pendingProps,a);case 19:return Qy(t,i,a);case 31:return eS(t,i,a);case 22:return jy(t,i,a,i.pendingProps);case 24:return zr(i),l=Ht(At),t===null?(h=Of(),h===null&&(h=nt,d=Nf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Mf(i),Ds(i,At,h)):((t.lanes&a)!==0&&(kf(t,i),cl(i,null,null,a),ul()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ds(i,At,l)):(l=d.cache,Ds(i,At,l),l!==h.cache&&Cf(i,[At],a,!0))),Ft(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Wi(t){t.flags|=4}function gd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(T_())t.flags|=8192;else throw Hr=Wu,Vf}else t.flags&=-16777217}function Ky(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!u0(i))if(T_())t.flags|=8192;else throw Hr=Wu,Vf}function gc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Eu():536870912,t.lanes|=i,Ha|=i)}function gl(t,i){if(!Pe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function at(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function nS(t,i,a){var l=i.pendingProps;switch(Sf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(i),null;case 1:return at(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Xi(At),st(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Na(i)?Wi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,xf())),at(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Wi(i),d!==null?(at(i),Ky(i,d)):(at(i),gd(i,h,null,l,a))):d?d!==t.memoizedState?(Wi(i),at(i),Ky(i,d)):(at(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Wi(i),at(i),gd(i,h,t,l,a)),null;case 27:if(gs(i),a=me.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Wi(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return at(i),null}t=re.current,Na(i)?Rg(i):(t=t0(h,l,a),i.stateNode=t,Wi(i))}return at(i),null;case 5:if(gs(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Wi(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return at(i),null}if(d=re.current,Na(i))Rg(i);else{var _=Dc(me.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Et]=i,d[kt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Gt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Wi(i)}}return at(i),gd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Wi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(t=me.current,Na(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=qt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Et]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||F_(t.nodeValue,a)),t||Ns(i,!0)}else t=Dc(t).createTextNode(l),t[Et]=i,i.stateNode=t}return at(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Na(i),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Et]=i}else jr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),t=!1}else a=xf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Tn(i),i):(Tn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return at(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Na(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Et]=i}else jr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),h=!1}else h=xf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Tn(i),i):(Tn(i),null)}return Tn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),gc(i,i.updateQueue),at(i),null);case 4:return st(),t===null&&jd(i.stateNode.containerInfo),at(i),null;case 10:return Xi(i.type),at(i),null;case 19:if(L(yt),l=i.memoizedState,l===null)return at(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)gl(l,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=ic(t),d!==null){for(i.flags|=128,gl(l,!1),t=d.updateQueue,i.updateQueue=t,gc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Eg(a,t),a=a.sibling;return Z(yt,yt.current&1|2),Pe&&Yi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&en()>bc&&(i.flags|=128,h=!0,gl(l,!1),i.lanes=4194304)}else{if(!h)if(t=ic(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,gc(i,t),gl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Pe)return at(i),null}else 2*en()-l.renderingStartTime>bc&&a!==536870912&&(i.flags|=128,h=!0,gl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=en(),t.sibling=null,a=yt.current,Z(yt,h?a&1|2:a&1),Pe&&Yi(i,l.treeForkCount),t):(at(i),null);case 22:case 23:return Tn(i),Pf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(at(i),i.subtreeFlags&6&&(i.flags|=8192)):at(i),a=i.updateQueue,a!==null&&gc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&L(Br),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Xi(At),at(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function iS(t,i){switch(Sf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Xi(At),st(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return gs(i),null;case 31:if(i.memoizedState!==null){if(Tn(i),i.alternate===null)throw Error(r(340));jr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Tn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));jr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return L(yt),null;case 4:return st(),null;case 10:return Xi(i.type),null;case 22:case 23:return Tn(i),Pf(),t!==null&&L(Br),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Xi(At),null;case 25:return null;default:return null}}function Xy(t,i){switch(Sf(i),i.tag){case 3:Xi(At),st();break;case 26:case 27:case 5:gs(i);break;case 4:st();break;case 31:i.memoizedState!==null&&Tn(i);break;case 13:Tn(i);break;case 19:L(yt);break;case 10:Xi(i.type);break;case 22:case 23:Tn(i),Pf(),t!==null&&L(Br);break;case 24:Xi(At)}}function yl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(E){$e(i,i.return,E)}}function Ls(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,h=i;var O=a,z=E;try{z()}catch(Q){$e(h,O,Q)}}}l=l.next}while(l!==d)}}catch(Q){$e(i,i.return,Q)}}function $y(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{zg(i,a)}catch(l){$e(t,t.return,l)}}}function Jy(t,i,a){a.props=Qr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){$e(t,i,l)}}function _l(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){$e(t,i,h)}}function Ci(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){$e(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$e(t,i,h)}else a.current=null}function Zy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){$e(t,t.return,h)}}function yd(t,i,a){try{var l=t.stateNode;AS(l,t.type,a,i),l[kt]=i}catch(h){$e(t,t.return,h)}}function Wy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Fs(t.type)||t.tag===4}function _d(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Wy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Fs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Yn));else if(l!==4&&(l===27&&Fs(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(vd(t,i,a),t=t.sibling;t!==null;)vd(t,i,a),t=t.sibling}function yc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Fs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(yc(t,i,a),t=t.sibling;t!==null;)yc(t,i,a),t=t.sibling}function e_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Gt(i,l,a),i[Et]=t,i[kt]=a}catch(d){$e(t,t.return,d)}}var es=!1,It=!1,Td=!1,t_=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function sS(t,i){if(t=t.containerInfo,Bd=jc,t=dg(t),df(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,E=-1,O=-1,z=0,Q=0,$=t,B=null;t:for(;;){for(var G;$!==a||h!==0&&$.nodeType!==3||(E=_+h),$!==d||l!==0&&$.nodeType!==3||(O=_+l),$.nodeType===3&&(_+=$.nodeValue.length),(G=$.firstChild)!==null;)B=$,$=G;for(;;){if($===t)break t;if(B===a&&++z===h&&(E=_),B===d&&++Q===l&&(O=_),(G=$.nextSibling)!==null)break;$=B,B=$.parentNode}$=G}a=E===-1||O===-1?null:{start:E,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(qd={focusedElem:t,selectionRange:a},jc=!1,Lt=i;Lt!==null;)if(i=Lt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Lt=t;else for(;Lt!==null;){switch(i=Lt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ue=Qr(a.type,h);t=l.getSnapshotBeforeUpdate(ue,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Te){$e(a,a.return,Te)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Gd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Gd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,Lt=t;break}Lt=i.return}}function n_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ns(t,a),l&4&&yl(5,a);break;case 1:if(ns(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){$e(a,a.return,_)}else{var h=Qr(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){$e(a,a.return,_)}}l&64&&$y(a),l&512&&_l(a,a.return);break;case 3:if(ns(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{zg(t,i)}catch(_){$e(a,a.return,_)}}break;case 27:i===null&&l&4&&e_(a);case 26:case 5:ns(t,a),i===null&&l&4&&Zy(a),l&512&&_l(a,a.return);break;case 12:ns(t,a);break;case 31:ns(t,a),l&4&&r_(t,a);break;case 13:ns(t,a),l&4&&a_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=dS.bind(null,a),VS(t,a))));break;case 22:if(l=a.memoizedState!==null||es,!l){i=i!==null&&i.memoizedState!==null||It,h=es;var d=It;es=l,(It=i)&&!d?is(t,a,(a.subtreeFlags&8772)!==0):ns(t,a),es=h,It=d}break;case 30:break;default:ns(t,a)}}function i_(t){var i=t.alternate;i!==null&&(t.alternate=null,i_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&da(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,un=!1;function ts(t,i,a){for(a=a.child;a!==null;)s_(t,i,a),a=a.sibling}function s_(t,i,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Hn,a)}catch{}switch(a.tag){case 26:It||Ci(a,i),ts(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:It||Ci(a,i);var l=ut,h=un;Fs(a.type)&&(ut=a.stateNode,un=!1),ts(t,i,a),Rl(a.stateNode),ut=l,un=h;break;case 5:It||Ci(a,i);case 6:if(l=ut,h=un,ut=null,ts(t,i,a),ut=l,un=h,ut!==null)if(un)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(d){$e(a,i,d)}else try{ut.removeChild(a.stateNode)}catch(d){$e(a,i,d)}break;case 18:ut!==null&&(un?(t=ut,$_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ja(t)):$_(ut,a.stateNode));break;case 4:l=ut,h=un,ut=a.stateNode.containerInfo,un=!0,ts(t,i,a),ut=l,un=h;break;case 0:case 11:case 14:case 15:Ls(2,a,i),It||Ls(4,a,i),ts(t,i,a);break;case 1:It||(Ci(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Jy(a,i,l)),ts(t,i,a);break;case 21:ts(t,i,a);break;case 22:It=(l=It)||a.memoizedState!==null,ts(t,i,a),It=l;break;default:ts(t,i,a)}}function r_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ja(t)}catch(a){$e(i,i.return,a)}}}function a_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ja(t)}catch(a){$e(i,i.return,a)}}function rS(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new t_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new t_),i;default:throw Error(r(435,t.tag))}}function _c(t,i){var a=rS(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=mS.bind(null,t,l);l.then(h,h)}})}function cn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,E=_;e:for(;E!==null;){switch(E.tag){case 27:if(Fs(E.type)){ut=E.stateNode,un=!1;break e}break;case 5:ut=E.stateNode,un=!1;break e;case 3:case 4:ut=E.stateNode.containerInfo,un=!0;break e}E=E.return}if(ut===null)throw Error(r(160));s_(d,_,h),ut=null,un=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)o_(i,t),i=i.sibling}var Wn=null;function o_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cn(i,t),hn(t),l&4&&(Ls(3,t,t.return),yl(3,t),Ls(5,t,t.return));break;case 1:cn(i,t),hn(t),l&512&&(It||a===null||Ci(a,a.return)),l&64&&es&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Wn;if(cn(i,t),hn(t),l&512&&(It||a===null||Ci(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[pi]||d[Et]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Gt(d,l,a),d[Et]=t,wt(d),l=d;break e;case"link":var _=o0("link","href",h).get(l+(a.href||""));if(_){for(var E=0;E<_.length;E++)if(d=_[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(E,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=o0("meta","content",h).get(l+(a.content||""))){for(E=0;E<_.length;E++)if(d=_[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(E,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[Et]=t,wt(d),l=d}t.stateNode=l}else l0(h,t.type,t.stateNode);else t.stateNode=a0(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?l0(h,t.type,t.stateNode):a0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&yd(t,t.memoizedProps,a.memoizedProps)}break;case 27:cn(i,t),hn(t),l&512&&(It||a===null||Ci(a,a.return)),a!==null&&l&4&&yd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(cn(i,t),hn(t),l&512&&(It||a===null||Ci(a,a.return)),t.flags&32){h=t.stateNode;try{ln(h,"")}catch(ue){$e(t,t.return,ue)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,yd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Td=!0);break;case 6:if(cn(i,t),hn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ue){$e(t,t.return,ue)}}break;case 3:if(Mc=null,h=Wn,Wn=Oc(i.containerInfo),cn(i,t),Wn=h,hn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ja(i.containerInfo)}catch(ue){$e(t,t.return,ue)}Td&&(Td=!1,l_(t));break;case 4:l=Wn,Wn=Oc(t.stateNode.containerInfo),cn(i,t),hn(t),Wn=l;break;case 12:cn(i,t),hn(t);break;case 31:cn(i,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_c(t,l)));break;case 13:cn(i,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Tc=en()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_c(t,l)));break;case 22:h=t.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,z=es,Q=It;if(es=z||h,It=Q||O,cn(i,t),It=Q,es=z,hn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||O||es||It||Yr(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){O=a=i;try{if(d=O.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=O.stateNode;var $=O.memoizedProps.style,B=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ue){$e(O,O.return,ue)}}}else if(i.tag===6){if(a===null){O=i;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(ue){$e(O,O.return,ue)}}}else if(i.tag===18){if(a===null){O=i;try{var G=O.stateNode;h?J_(G,!0):J_(O.stateNode,!1)}catch(ue){$e(O,O.return,ue)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,_c(t,a))));break;case 19:cn(i,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_c(t,l)));break;case 30:break;case 21:break;default:cn(i,t),hn(t)}}function hn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Wy(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=_d(t);yc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(ln(_,""),a.flags&=-33);var E=_d(t);yc(t,E,_);break;case 3:case 4:var O=a.stateNode.containerInfo,z=_d(t);vd(t,z,O);break;default:throw Error(r(161))}}catch(Q){$e(t,t.return,Q)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function l_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;l_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ns(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)n_(t,i.alternate,i),i=i.sibling}function Yr(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ls(4,i,i.return),Yr(i);break;case 1:Ci(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Jy(i,i.return,a),Yr(i);break;case 27:Rl(i.stateNode);case 26:case 5:Ci(i,i.return),Yr(i);break;case 22:i.memoizedState===null&&Yr(i);break;case 30:Yr(i);break;default:Yr(i)}t=t.sibling}}function is(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:is(h,d,a),yl(4,d);break;case 1:if(is(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){$e(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var E=l.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)Pg(O[h],E)}catch(z){$e(l,l.return,z)}}a&&_&64&&$y(d),_l(d,d.return);break;case 27:e_(d);case 26:case 5:is(h,d,a),a&&l===null&&_&4&&Zy(d),_l(d,d.return);break;case 12:is(h,d,a);break;case 31:is(h,d,a),a&&_&4&&r_(h,d);break;case 13:is(h,d,a),a&&_&4&&a_(h,d);break;case 22:d.memoizedState===null&&is(h,d,a),_l(d,d.return);break;case 30:break;default:is(h,d,a)}i=i.sibling}}function bd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&sl(a))}function Ed(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&sl(t))}function ei(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)u_(t,i,a,l),i=i.sibling}function u_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ei(t,i,a,l),h&2048&&yl(9,i);break;case 1:ei(t,i,a,l);break;case 3:ei(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&sl(t)));break;case 12:if(h&2048){ei(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,E=d.onPostCommit;typeof E=="function"&&E(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){$e(i,i.return,O)}}else ei(t,i,a,l);break;case 31:ei(t,i,a,l);break;case 13:ei(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ei(t,i,a,l):vl(t,i):d._visibility&2?ei(t,i,a,l):(d._visibility|=2,za(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&bd(_,i);break;case 24:ei(t,i,a,l),h&2048&&Ed(i.alternate,i);break;default:ei(t,i,a,l)}}function za(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,E=a,O=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:za(d,_,E,O,h),yl(8,_);break;case 23:break;case 22:var Q=_.stateNode;_.memoizedState!==null?Q._visibility&2?za(d,_,E,O,h):vl(d,_):(Q._visibility|=2,za(d,_,E,O,h)),h&&z&2048&&bd(_.alternate,_);break;case 24:za(d,_,E,O,h),h&&z&2048&&Ed(_.alternate,_);break;default:za(d,_,E,O,h)}i=i.sibling}}function vl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:vl(a,l),h&2048&&bd(l.alternate,l);break;case 24:vl(a,l),h&2048&&Ed(l.alternate,l);break;default:vl(a,l)}i=i.sibling}}var Tl=8192;function Ba(t,i,a){if(t.subtreeFlags&Tl)for(t=t.child;t!==null;)c_(t,i,a),t=t.sibling}function c_(t,i,a){switch(t.tag){case 26:Ba(t,i,a),t.flags&Tl&&t.memoizedState!==null&&GS(a,Wn,t.memoizedState,t.memoizedProps);break;case 5:Ba(t,i,a);break;case 3:case 4:var l=Wn;Wn=Oc(t.stateNode.containerInfo),Ba(t,i,a),Wn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Tl,Tl=16777216,Ba(t,i,a),Tl=l):Ba(t,i,a));break;default:Ba(t,i,a)}}function h_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function bl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Lt=l,d_(l,t)}h_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)f_(t),t=t.sibling}function f_(t){switch(t.tag){case 0:case 11:case 15:bl(t),t.flags&2048&&Ls(9,t,t.return);break;case 3:bl(t);break;case 12:bl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,vc(t)):bl(t);break;default:bl(t)}}function vc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Lt=l,d_(l,t)}h_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ls(8,i,i.return),vc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,vc(i));break;default:vc(i)}t=t.sibling}}function d_(t,i){for(;Lt!==null;){var a=Lt;switch(a.tag){case 0:case 11:case 15:Ls(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:sl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Lt=l;else e:for(a=t;Lt!==null;){l=Lt;var h=l.sibling,d=l.return;if(i_(l),l===a){Lt=null;break e}if(h!==null){h.return=d,Lt=h;break e}Lt=d}}}var aS={getCacheForType:function(t){var i=Ht(At),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ht(At).controller.signal}},oS=typeof WeakMap=="function"?WeakMap:Map,Qe=0,nt=null,Oe=null,Me=0,Xe=0,bn=null,js=!1,qa=!1,wd=!1,ss=0,mt=0,Ps=0,Kr=0,Sd=0,En=0,Ha=0,El=null,fn=null,Ad=!1,Tc=0,m_=0,bc=1/0,Ec=null,zs=null,Vt=0,Bs=null,Fa=null,rs=0,xd=0,Rd=null,p_=null,wl=0,Id=null;function wn(){return(Qe&2)!==0&&Me!==0?Me&-Me:H.T!==null?Md():wu()}function g_(){if(En===0)if((Me&536870912)===0||Pe){var t=br;br<<=1,(br&3932160)===0&&(br=262144),En=t}else En=536870912;return t=vn.current,t!==null&&(t.flags|=32),En}function dn(t,i,a){(t===nt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(Ga(t,0),qs(t,Me,En,!1)),Er(t,a),((Qe&2)===0||t!==nt)&&(t===nt&&((Qe&2)===0&&(Kr|=a),mt===4&&qs(t,Me,En,!1)),Ni(t))}function y_(t,i,a){if((Qe&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Fn(t,i),h=l?cS(t,i):Nd(t,i,!0),d=l;do{if(h===0){qa&&!l&&qs(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!lS(a)){h=Nd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var E=t;h=El;var O=E.current.memoizedState.isDehydrated;if(O&&(Ga(E,_).flags|=256),_=Nd(E,_,!1),_!==2){if(wd&&!O){E.errorRecoveryDisabledLanes|=d,Kr|=d,h=4;break e}d=fn,fn=h,d!==null&&(fn===null?fn=d:fn.push.apply(fn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ga(t,0),qs(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:qs(l,i,En,!js);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=Tc+300-en(),10<h)){if(qs(l,i,En,!js),fi(l,0,!0)!==0)break e;rs=i,l.timeoutHandle=K_(__.bind(null,l,a,fn,Ec,Ad,i,En,Kr,Ha,js,d,"Throttled",-0,0),h);break e}__(l,a,fn,Ec,Ad,i,En,Kr,Ha,js,d,null,-0,0)}}break}while(!0);Ni(t)}function __(t,i,a,l,h,d,_,E,O,z,Q,$,B,G){if(t.timeoutHandle=-1,$=i.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},c_(i,d,$);var ue=(d&62914560)===d?Tc-en():(d&4194048)===d?m_-en():0;if(ue=QS($,ue),ue!==null){rs=d,t.cancelPendingCommit=ue(x_.bind(null,t,i,d,a,l,h,_,E,O,Q,$,null,B,G)),qs(t,d,_,!z);return}}x_(t,i,d,a,l,h,_,E,O)}function lS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!yn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function qs(t,i,a,l){i&=~Sd,i&=~Kr,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-pt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&wr(t,a,i)}function wc(){return(Qe&6)===0?(Sl(0),!1):!0}function Cd(){if(Oe!==null){if(Xe===0)var t=Oe.return;else t=Oe,Ki=Pr=null,Gf(t),ka=null,al=0,t=Oe;for(;t!==null;)Xy(t.alternate,t),t=t.return;Oe=null}}function Ga(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,IS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),rs=0,Cd(),nt=t,Oe=a=Qi(t.current,null),Me=i,Xe=0,bn=null,js=!1,qa=Fn(t,i),wd=!1,Ha=En=Sd=Kr=Ps=mt=0,fn=El=null,Ad=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-pt(l),d=1<<h;i|=t[h],l&=~d}return ss=i,Fu(),a}function v_(t,i){Ce=null,H.H=ml,i===Ma||i===Zu?(i=kg(),Xe=3):i===Vf?(i=kg(),Xe=4):Xe=i===od?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,bn=i,Oe===null&&(mt=1,fc(t,kn(i,t.current)))}function T_(){var t=vn.current;return t===null?!0:(Me&4194048)===Me?Pn===null:(Me&62914560)===Me||(Me&536870912)!==0?t===Pn:!1}function b_(){var t=H.H;return H.H=ml,t===null?ml:t}function E_(){var t=H.A;return H.A=aS,t}function Sc(){mt=4,js||(Me&4194048)!==Me&&vn.current!==null||(qa=!0),(Ps&134217727)===0&&(Kr&134217727)===0||nt===null||qs(nt,Me,En,!1)}function Nd(t,i,a){var l=Qe;Qe|=2;var h=b_(),d=E_();(nt!==t||Me!==i)&&(Ec=null,Ga(t,i)),i=!1;var _=mt;e:do try{if(Xe!==0&&Oe!==null){var E=Oe,O=bn;switch(Xe){case 8:Cd(),_=6;break e;case 3:case 2:case 9:case 6:vn.current===null&&(i=!0);var z=Xe;if(Xe=0,bn=null,Qa(t,E,O,z),a&&qa){_=0;break e}break;default:z=Xe,Xe=0,bn=null,Qa(t,E,O,z)}}uS(),_=mt;break}catch(Q){v_(t,Q)}while(!0);return i&&t.shellSuspendCounter++,Ki=Pr=null,Qe=l,H.H=h,H.A=d,Oe===null&&(nt=null,Me=0,Fu()),_}function uS(){for(;Oe!==null;)w_(Oe)}function cS(t,i){var a=Qe;Qe|=2;var l=b_(),h=E_();nt!==t||Me!==i?(Ec=null,bc=en()+500,Ga(t,i)):qa=Fn(t,i);e:do try{if(Xe!==0&&Oe!==null){i=Oe;var d=bn;t:switch(Xe){case 1:Xe=0,bn=null,Qa(t,i,d,1);break;case 2:case 9:if(Vg(d)){Xe=0,bn=null,S_(i);break}i=function(){Xe!==2&&Xe!==9||nt!==t||(Xe=7),Ni(t)},d.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Vg(d)?(Xe=0,bn=null,S_(i)):(Xe=0,bn=null,Qa(t,i,d,7));break;case 5:var _=null;switch(Oe.tag){case 26:_=Oe.memoizedState;case 5:case 27:var E=Oe;if(_?u0(_):E.stateNode.complete){Xe=0,bn=null;var O=E.sibling;if(O!==null)Oe=O;else{var z=E.return;z!==null?(Oe=z,Ac(z)):Oe=null}break t}}Xe=0,bn=null,Qa(t,i,d,5);break;case 6:Xe=0,bn=null,Qa(t,i,d,6);break;case 8:Cd(),mt=6;break e;default:throw Error(r(462))}}hS();break}catch(Q){v_(t,Q)}while(!0);return Ki=Pr=null,H.H=l,H.A=h,Qe=a,Oe!==null?0:(nt=null,Me=0,Fu(),mt)}function hS(){for(;Oe!==null&&!af();)w_(Oe)}function w_(t){var i=Yy(t.alternate,t,ss);t.memoizedProps=t.pendingProps,i===null?Ac(t):Oe=i}function S_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=By(a,i,i.pendingProps,i.type,void 0,Me);break;case 11:i=By(a,i,i.pendingProps,i.type.render,i.ref,Me);break;case 5:Gf(i);default:Xy(a,i),i=Oe=Eg(i,ss),i=Yy(a,i,ss)}t.memoizedProps=t.pendingProps,i===null?Ac(t):Oe=i}function Qa(t,i,a,l){Ki=Pr=null,Gf(i),ka=null,al=0;var h=i.return;try{if(Ww(t,h,i,a,Me)){mt=1,fc(t,kn(a,t.current)),Oe=null;return}}catch(d){if(h!==null)throw Oe=h,d;mt=1,fc(t,kn(a,t.current)),Oe=null;return}i.flags&32768?(Pe||l===1?t=!0:qa||(Me&536870912)!==0?t=!1:(js=t=!0,(l===2||l===9||l===3||l===6)&&(l=vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),A_(i,t)):Ac(i)}function Ac(t){var i=t;do{if((i.flags&32768)!==0){A_(i,js);return}t=i.return;var a=nS(i.alternate,i,ss);if(a!==null){Oe=a;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=t}while(i!==null);mt===0&&(mt=5)}function A_(t,i){do{var a=iS(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);mt=6,Oe=null}function x_(t,i,a,l,h,d,_,E,O){t.cancelPendingCommit=null;do xc();while(Vt!==0);if((Qe&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=_f,uf(t,a,d,_,E,O),t===nt&&(Oe=nt=null,Me=0),Fa=i,Bs=t,rs=a,xd=d,Rd=h,p_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,pS(_s,function(){return D_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,h=te.p,te.p=2,_=Qe,Qe|=4;try{sS(t,i,a)}finally{Qe=_,te.p=h,H.T=l}}Vt=1,R_(),I_(),C_()}}function R_(){if(Vt===1){Vt=0;var t=Bs,i=Fa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=te.p;te.p=2;var h=Qe;Qe|=4;try{o_(i,t);var d=qd,_=dg(t.containerInfo),E=d.focusedElem,O=d.selectionRange;if(_!==E&&E&&E.ownerDocument&&fg(E.ownerDocument.documentElement,E)){if(O!==null&&df(E)){var z=O.start,Q=O.end;if(Q===void 0&&(Q=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(Q,E.value.length);else{var $=E.ownerDocument||document,B=$&&$.defaultView||window;if(B.getSelection){var G=B.getSelection(),ue=E.textContent.length,Te=Math.min(O.start,ue),et=O.end===void 0?Te:Math.min(O.end,ue);!G.extend&&Te>et&&(_=et,et=Te,Te=_);var U=hg(E,Te),V=hg(E,et);if(U&&V&&(G.rangeCount!==1||G.anchorNode!==U.node||G.anchorOffset!==U.offset||G.focusNode!==V.node||G.focusOffset!==V.offset)){var P=$.createRange();P.setStart(U.node,U.offset),G.removeAllRanges(),Te>et?(G.addRange(P),G.extend(V.node,V.offset)):(P.setEnd(V.node,V.offset),G.addRange(P))}}}}for($=[],G=E;G=G.parentNode;)G.nodeType===1&&$.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var K=$[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}jc=!!Bd,qd=Bd=null}finally{Qe=h,te.p=l,H.T=a}}t.current=i,Vt=2}}function I_(){if(Vt===2){Vt=0;var t=Bs,i=Fa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=te.p;te.p=2;var h=Qe;Qe|=4;try{n_(t,i.alternate,i)}finally{Qe=h,te.p=l,H.T=a}}Vt=3}}function C_(){if(Vt===4||Vt===3){Vt=0,gu();var t=Bs,i=Fa,a=rs,l=p_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Vt=5:(Vt=0,Fa=Bs=null,N_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(zs=null),qi(a),i=i.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Hn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=H.T,h=te.p,te.p=2,H.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var E=l[_];d(E.value,{componentStack:E.stack})}}finally{H.T=i,te.p=h}}(rs&3)!==0&&xc(),Ni(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Id?wl++:(wl=0,Id=t):wl=0,Sl(0)}}function N_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,sl(i)))}function xc(){return R_(),I_(),C_(),D_()}function D_(){if(Vt!==5)return!1;var t=Bs,i=xd;xd=0;var a=qi(rs),l=H.T,h=te.p;try{te.p=32>a?32:a,H.T=null,a=Rd,Rd=null;var d=Bs,_=rs;if(Vt=0,Fa=Bs=null,rs=0,(Qe&6)!==0)throw Error(r(331));var E=Qe;if(Qe|=4,f_(d.current),u_(d,d.current,_,a),Qe=E,Sl(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Hn,d)}catch{}return!0}finally{te.p=h,H.T=l,N_(t,i)}}function O_(t,i,a){i=kn(a,i),i=ad(t.stateNode,i,2),t=Ms(t,i,2),t!==null&&(Er(t,2),Ni(t))}function $e(t,i,a){if(t.tag===3)O_(t,t,a);else for(;i!==null;){if(i.tag===3){O_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(zs===null||!zs.has(l))){t=kn(a,t),a=Vy(2),l=Ms(i,a,2),l!==null&&(My(a,l,i,t),Er(l,2),Ni(l));break}}i=i.return}}function Dd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new oS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(wd=!0,h.add(a),t=fS.bind(null,t,i,a),i.then(t,t))}function fS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(Me&a)===a&&(mt===4||mt===3&&(Me&62914560)===Me&&300>en()-Tc?(Qe&2)===0&&Ga(t,0):Sd|=a,Ha===Me&&(Ha=0)),Ni(t)}function V_(t,i){i===0&&(i=Eu()),t=Ur(t,i),t!==null&&(Er(t,i),Ni(t))}function dS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),V_(t,a)}function mS(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),V_(t,a)}function pS(t,i){return Ot(t,i)}var Rc=null,Ya=null,Od=!1,Ic=!1,Vd=!1,Hs=0;function Ni(t){t!==Ya&&t.next===null&&(Ya===null?Rc=Ya=t:Ya=Ya.next=t),Ic=!0,Od||(Od=!0,yS())}function Sl(t,i){if(!Vd&&Ic){Vd=!0;do for(var a=!1,l=Rc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-pt(42|t)+1)-1,d&=h&~(_&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,L_(l,d))}else d=Me,d=fi(l,l===nt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Fn(l,d)||(a=!0,L_(l,d));l=l.next}while(a);Vd=!1}}function gS(){M_()}function M_(){Ic=Od=!1;var t=0;Hs!==0&&RS()&&(t=Hs);for(var i=en(),a=null,l=Rc;l!==null;){var h=l.next,d=k_(l,i);d===0?(l.next=null,a===null?Rc=h:a.next=h,h===null&&(Ya=a)):(a=l,(t!==0||(d&3)!==0)&&(Ic=!0)),l=h}Vt!==0&&Vt!==5||Sl(t),Hs!==0&&(Hs=0)}function k_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-pt(d),E=1<<_,O=h[_];O===-1?((E&a)===0||(E&l)!==0)&&(h[_]=lf(E,i)):O<=i&&(t.expiredLanes|=E),d&=~E}if(i=nt,a=Me,a=fi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ys(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Fn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&ys(l),qi(a)){case 2:case 8:a=Mo;break;case 32:a=_s;break;case 268435456:a=yu;break;default:a=_s}return l=U_.bind(null,t),a=Ot(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&ys(l),t.callbackPriority=2,t.callbackNode=null,2}function U_(t,i){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(xc()&&t.callbackNode!==a)return null;var l=Me;return l=fi(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(y_(t,l,i),k_(t,en()),t.callbackNode!=null&&t.callbackNode===a?U_.bind(null,t):null)}function L_(t,i){if(xc())return null;y_(t,i,!0)}function yS(){CS(function(){(Qe&6)!==0?Ot(Vo,gS):M_()})}function Md(){if(Hs===0){var t=Oa;t===0&&(t=ci,ci<<=1,(ci&261888)===0&&(ci=256)),Hs=t}return Hs}function j_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ya(""+t)}function P_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function _S(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=j_((h[kt]||null).action),_=l.submitter;_&&(i=(i=_[kt]||null)?j_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var E=new wi("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Hs!==0){var O=_?P_(h,_):new FormData(h);ed(a,{pending:!0,data:O,method:h.method,action:d},null,O)}}else typeof d=="function"&&(E.preventDefault(),O=_?P_(h,_):new FormData(h),ed(a,{pending:!0,data:O,method:h.method,action:d},d,O))},currentTarget:h}]})}}for(var kd=0;kd<yf.length;kd++){var Ud=yf[kd],vS=Ud.toLowerCase(),TS=Ud[0].toUpperCase()+Ud.slice(1);Zn(vS,"on"+TS)}Zn(gg,"onAnimationEnd"),Zn(yg,"onAnimationIteration"),Zn(_g,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(Uw,"onTransitionRun"),Zn(Lw,"onTransitionStart"),Zn(jw,"onTransitionCancel"),Zn(vg,"onTransitionEnd"),vi("onMouseEnter",["mouseout","mouseover"]),vi("onMouseLeave",["mouseout","mouseover"]),vi("onPointerEnter",["pointerout","pointerover"]),vi("onPointerLeave",["pointerout","pointerover"]),_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_i("onBeforeInput",["compositionend","keypress","textInput","paste"]),_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function z_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var E=l[_],O=E.instance,z=E.currentTarget;if(E=E.listener,O!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=z;try{d(h)}catch(Q){Hu(Q)}h.currentTarget=null,d=O}else for(_=0;_<l.length;_++){if(E=l[_],O=E.instance,z=E.currentTarget,E=E.listener,O!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=z;try{d(h)}catch(Q){Hu(Q)}h.currentTarget=null,d=O}}}}function Ve(t,i){var a=i[fa];a===void 0&&(a=i[fa]=new Set);var l=t+"__bubble";a.has(l)||(B_(i,t,2,!1),a.add(l))}function Ld(t,i,a){var l=0;i&&(l|=4),B_(a,t,l,i)}var Cc="_reactListening"+Math.random().toString(36).slice(2);function jd(t){if(!t[Cc]){t[Cc]=!0,Lo.forEach(function(a){a!=="selectionchange"&&(bS.has(a)||Ld(a,!1,t),Ld(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Cc]||(i[Cc]=!0,Ld("selectionchange",!1,i))}}function B_(t,i,a,l){switch(g0(i)){case 2:var h=XS;break;case 8:h=$S;break;default:h=Wd}a=h.bind(null,i,a,t),h=void 0,!Ir||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Pd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var E=l.stateNode.containerInfo;if(E===h)break;if(_===4)for(_=l.return;_!==null;){var O=_.tag;if((O===3||O===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;E!==null;){if(_=gi(E),_===null)return;if(O=_.tag,O===5||O===6||O===26||O===27){l=d=_;continue e}E=E.parentNode}}l=l.return}Ss(function(){var z=d,Q=Dn(a),$=[];e:{var B=Tg.get(t);if(B!==void 0){var G=wi,ue=t;switch(t){case"keypress":if(Nr(a)===0)break e;case"keydown":case"keyup":G=zu;break;case"focusin":ue="focus",G=Or;break;case"focusout":ue="blur",G=Or;break;case"beforeblur":case"afterblur":G=Or;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=$o;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=p;break;case gg:case yg:case _g:G=Vu;break;case vg:G=w;break;case"scroll":case"scrollend":G=Xo;break;case"wheel":G=F;break;case"copy":case"cut":case"paste":G=Mu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Gi;break;case"toggle":case"beforetoggle":G=Ie}var Te=(i&4)!==0,et=!Te&&(t==="scroll"||t==="scrollend"),U=Te?B!==null?B+"Capture":null:B;Te=[];for(var V=z,P;V!==null;){var K=V;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||U===null||(K=Kn(V,U),K!=null&&Te.push(xl(V,K,P))),et)break;V=V.return}0<Te.length&&(B=new G(B,ue,null,a,Q),$.push({event:B,listeners:Te}))}}if((i&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",B&&a!==Qo&&(ue=a.relatedTarget||a.fromElement)&&(gi(ue)||ue[mi]))break e;if((G||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,G?(ue=a.relatedTarget||a.toElement,G=z,ue=ue?gi(ue):null,ue!==null&&(et=u(ue),Te=ue.tag,ue!==et||Te!==5&&Te!==27&&Te!==6)&&(ue=null)):(G=null,ue=z),G!==ue)){if(Te=$o,K="onMouseLeave",U="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(Te=Gi,K="onPointerLeave",U="onPointerEnter",V="pointer"),et=G==null?B:pn(G),P=ue==null?B:pn(ue),B=new Te(K,V+"leave",G,a,Q),B.target=et,B.relatedTarget=P,K=null,gi(Q)===z&&(Te=new Te(U,V+"enter",ue,a,Q),Te.target=P,Te.relatedTarget=et,K=Te),et=K,G&&ue)t:{for(Te=ES,U=G,V=ue,P=0,K=U;K;K=Te(K))P++;K=0;for(var _e=V;_e;_e=Te(_e))K++;for(;0<P-K;)U=Te(U),P--;for(;0<K-P;)V=Te(V),K--;for(;P--;){if(U===V||V!==null&&U===V.alternate){Te=U;break t}U=Te(U),V=Te(V)}Te=null}else Te=null;G!==null&&q_($,B,G,Te,!1),ue!==null&&et!==null&&q_($,et,ue,Te,!0)}}e:{if(B=z?pn(z):window,G=B.nodeName&&B.nodeName.toLowerCase(),G==="select"||G==="input"&&B.type==="file")var He=rg;else if(ig(B))if(ag)He=Vw;else{He=Dw;var de=Nw}else G=B.nodeName,!G||G.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&ga(z.elementType)&&(He=rg):He=Ow;if(He&&(He=He(t,z))){sg($,He,a,Q);break e}de&&de(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Ho(B,"number",B.value)}switch(de=z?pn(z):window,t){case"focusin":(ig(de)||de.contentEditable==="true")&&(Sa=de,mf=z,tl=null);break;case"focusout":tl=mf=Sa=null;break;case"mousedown":pf=!0;break;case"contextmenu":case"mouseup":case"dragend":pf=!1,mg($,a,Q);break;case"selectionchange":if(kw)break;case"keydown":case"keyup":mg($,a,Q)}var De;if(Ge)e:{switch(t){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else wa?Vr(t,a)&&(ke="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ke="onCompositionStart");ke&&(xi&&a.locale!=="ko"&&(wa||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&wa&&(De=Ko()):(Ei=Q,Yo="value"in Ei?Ei.value:Ei.textContent,wa=!0)),de=Nc(z,ke),0<de.length&&(ke=new Ai(ke,t,null,a,Q),$.push({event:ke,listeners:de}),De?ke.data=De:(De=Ea(a),De!==null&&(ke.data=De)))),(De=Vn?xw(t,a):Rw(t,a))&&(ke=Nc(z,"onBeforeInput"),0<ke.length&&(de=new Ai("onBeforeInput","beforeinput",null,a,Q),$.push({event:de,listeners:ke}),de.data=De)),_S($,t,z,a,Q)}z_($,i)})}function xl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Nc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Kn(t,a),h!=null&&l.unshift(xl(t,h,d)),h=Kn(t,i),h!=null&&l.push(xl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function ES(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function q_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var E=a,O=E.alternate,z=E.stateNode;if(E=E.tag,O!==null&&O===l)break;E!==5&&E!==26&&E!==27||z===null||(O=z,h?(z=Kn(a,d),z!=null&&_.unshift(xl(a,z,O))):h||(z=Kn(a,d),z!=null&&_.push(xl(a,z,O)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var wS=/\r\n?/g,SS=/\u0000|\uFFFD/g;function H_(t){return(typeof t=="string"?t:""+t).replace(wS,`
`).replace(SS,"")}function F_(t,i){return i=H_(i),H_(t)===i}function We(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||ln(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&ln(t,""+l);break;case"className":gn(t,"class",l);break;case"tabIndex":gn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(t,a,l);break;case"style":Go(t,l,d);break;case"data":if(i!=="object"){gn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ya(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&We(t,i,"name",h.name,h,null),We(t,i,"formEncType",h.formEncType,h,null),We(t,i,"formMethod",h.formMethod,h,null),We(t,i,"formTarget",h.formTarget,h,null)):(We(t,i,"encType",h.encType,h,null),We(t,i,"method",h.method,h,null),We(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ya(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Yn);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ya(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),ma(t,"popover",l);break;case"xlinkActuate":St(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":St(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":St(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":St(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":St(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":St(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":St(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":St(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":St(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ma(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Nu.get(a)||a,ma(t,a,l))}}function zd(t,i,a,l,h,d){switch(a){case"style":Go(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?ln(t,l):(typeof l=="number"||typeof l=="bigint")&&ln(t,""+l);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[kt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ma(t,a,l)}}}function Gt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:We(t,i,d,_,a,null)}}h&&We(t,i,"srcSet",a.srcSet,a,null),l&&We(t,i,"src",a.src,a,null);return;case"input":Ve("invalid",t);var E=d=_=h=null,O=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":_=Q;break;case"checked":O=Q;break;case"defaultChecked":z=Q;break;case"value":d=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,i));break;default:We(t,i,l,Q,a,null)}}Ru(t,d,E,O,z,_,h,!1);return;case"select":Ve("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":_=E;break;case"multiple":l=E;default:We(t,i,h,E,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Ts(t,!!l,i,!1):a!=null&&Ts(t,!!l,a,!0);return;case"textarea":Ve("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(E=a[_],E!=null))switch(_){case"value":l=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:We(t,i,_,E,a,null)}bs(t,l,h,d);return;case"option":for(O in a)a.hasOwnProperty(O)&&(l=a[O],l!=null)&&(O==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":We(t,i,O,l,a,null));return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(l=0;l<Al.length;l++)Ve(Al[l],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:We(t,i,z,l,a,null)}return;default:if(ga(i)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&zd(t,i,Q,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&We(t,i,E,l,a,null))}function AS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,E=null,O=null,z=null,Q=null;for(G in a){var $=a[G];if(a.hasOwnProperty(G)&&$!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":O=$;default:l.hasOwnProperty(G)||We(t,i,G,null,l,$)}}for(var B in l){var G=l[B];if($=a[B],l.hasOwnProperty(B)&&(G!=null||$!=null))switch(B){case"type":d=G;break;case"name":h=G;break;case"checked":z=G;break;case"defaultChecked":Q=G;break;case"value":_=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,i));break;default:G!==$&&We(t,i,B,G,l,$)}}pa(t,_,E,O,z,Q,d,h);return;case"select":G=_=E=B=null;for(d in a)if(O=a[d],a.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":G=O;default:l.hasOwnProperty(d)||We(t,i,d,null,l,O)}for(h in l)if(d=l[h],O=a[h],l.hasOwnProperty(h)&&(d!=null||O!=null))switch(h){case"value":B=d;break;case"defaultValue":E=d;break;case"multiple":_=d;default:d!==O&&We(t,i,h,d,l,O)}i=E,a=_,l=G,B!=null?Ts(t,!!a,B,!1):!!l!=!!a&&(i!=null?Ts(t,!!a,i,!0):Ts(t,!!a,a?[]:"",!1));return;case"textarea":G=B=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:We(t,i,E,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":B=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&We(t,i,_,h,l,d)}Iu(t,B,G);return;case"option":for(var ue in a)B=a[ue],a.hasOwnProperty(ue)&&B!=null&&!l.hasOwnProperty(ue)&&(ue==="selected"?t.selected=!1:We(t,i,ue,null,l,B));for(O in l)B=l[O],G=a[O],l.hasOwnProperty(O)&&B!==G&&(B!=null||G!=null)&&(O==="selected"?t.selected=B&&typeof B!="function"&&typeof B!="symbol":We(t,i,O,B,l,G));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in a)B=a[Te],a.hasOwnProperty(Te)&&B!=null&&!l.hasOwnProperty(Te)&&We(t,i,Te,null,l,B);for(z in l)if(B=l[z],G=a[z],l.hasOwnProperty(z)&&B!==G&&(B!=null||G!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,i));break;default:We(t,i,z,B,l,G)}return;default:if(ga(i)){for(var et in a)B=a[et],a.hasOwnProperty(et)&&B!==void 0&&!l.hasOwnProperty(et)&&zd(t,i,et,void 0,l,B);for(Q in l)B=l[Q],G=a[Q],!l.hasOwnProperty(Q)||B===G||B===void 0&&G===void 0||zd(t,i,Q,B,l,G);return}}for(var U in a)B=a[U],a.hasOwnProperty(U)&&B!=null&&!l.hasOwnProperty(U)&&We(t,i,U,null,l,B);for($ in l)B=l[$],G=a[$],!l.hasOwnProperty($)||B===G||B==null&&G==null||We(t,i,$,B,l,G)}function G_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,E=h.duration;if(d&&E&&G_(_)){for(_=0,E=h.responseEnd,l+=1;l<a.length;l++){var O=a[l],z=O.startTime;if(z>E)break;var Q=O.transferSize,$=O.initiatorType;Q&&G_($)&&(O=O.responseEnd,_+=Q*(O<E?1:(E-z)/(O-z)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Bd=null,qd=null;function Dc(t){return t.nodeType===9?t:t.ownerDocument}function Q_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Y_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Hd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Fd=null;function RS(){var t=window.event;return t&&t.type==="popstate"?t===Fd?!1:(Fd=t,!0):(Fd=null,!1)}var K_=typeof setTimeout=="function"?setTimeout:void 0,IS=typeof clearTimeout=="function"?clearTimeout:void 0,X_=typeof Promise=="function"?Promise:void 0,CS=typeof queueMicrotask=="function"?queueMicrotask:typeof X_<"u"?function(t){return X_.resolve(null).then(t).catch(NS)}:K_;function NS(t){setTimeout(function(){throw t})}function Fs(t){return t==="head"}function $_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Ja(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Rl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Rl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,E=d.nodeName;d[pi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Rl(t.ownerDocument.body);a=h}while(a);Ja(i)}function J_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Gd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Gd(a),da(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function DS(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[pi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function OS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=zn(t.nextSibling),t===null))return null;return t}function Z_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=zn(t.nextSibling),t===null))return null;return t}function Qd(t){return t.data==="$?"||t.data==="$~"}function Yd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function VS(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function zn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Kd=null;function W_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return zn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function e0(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function t0(t,i,a){switch(i=Dc(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Rl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);da(t)}var Bn=new Map,n0=new Set;function Oc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var as=te.d;te.d={f:MS,r:kS,D:US,C:LS,L:jS,m:PS,X:BS,S:zS,M:qS};function MS(){var t=as.f(),i=wc();return t||i}function kS(t){var i=Nn(t);i!==null&&i.tag===5&&i.type==="form"?vy(i):as.r(t)}var Ka=typeof document>"u"?null:document;function i0(t,i,a){var l=Ka;if(l&&typeof i=="string"&&i){var h=on(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),n0.has(h)||(n0.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Gt(i,"link",t),wt(i),l.head.appendChild(i)))}}function US(t){as.D(t),i0("dns-prefetch",t,null)}function LS(t,i){as.C(t,i),i0("preconnect",t,i)}function jS(t,i,a){as.L(t,i,a);var l=Ka;if(l&&t&&i){var h='link[rel="preload"][as="'+on(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+on(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+on(a.imageSizes)+'"]')):h+='[href="'+on(t)+'"]';var d=h;switch(i){case"style":d=Xa(t);break;case"script":d=$a(t)}Bn.has(d)||(t=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Bn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Il(d))||i==="script"&&l.querySelector(Cl(d))||(i=l.createElement("link"),Gt(i,"link",t),wt(i),l.head.appendChild(i)))}}function PS(t,i){as.m(t,i);var a=Ka;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+on(l)+'"][href="'+on(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=$a(t)}if(!Bn.has(d)&&(t=S({rel:"modulepreload",href:t},i),Bn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Cl(d)))return}l=a.createElement("link"),Gt(l,"link",t),wt(l),a.head.appendChild(l)}}}function zS(t,i,a){as.S(t,i,a);var l=Ka;if(l&&t){var h=yi(l).hoistableStyles,d=Xa(t);i=i||"default";var _=h.get(d);if(!_){var E={loading:0,preload:null};if(_=l.querySelector(Il(d)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Bn.get(d))&&Xd(t,a);var O=_=l.createElement("link");wt(O),Gt(O,"link",t),O._p=new Promise(function(z,Q){O.onload=z,O.onerror=Q}),O.addEventListener("load",function(){E.loading|=1}),O.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Vc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:E},h.set(d,_)}}}function BS(t,i){as.X(t,i);var a=Ka;if(a&&t){var l=yi(a).hoistableScripts,h=$a(t),d=l.get(h);d||(d=a.querySelector(Cl(h)),d||(t=S({src:t,async:!0},i),(i=Bn.get(h))&&$d(t,i),d=a.createElement("script"),wt(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function qS(t,i){as.M(t,i);var a=Ka;if(a&&t){var l=yi(a).hoistableScripts,h=$a(t),d=l.get(h);d||(d=a.querySelector(Cl(h)),d||(t=S({src:t,async:!0,type:"module"},i),(i=Bn.get(h))&&$d(t,i),d=a.createElement("script"),wt(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function s0(t,i,a,l){var h=(h=me.current)?Oc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Xa(a.href),a=yi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Xa(a.href);var d=yi(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Il(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Bn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bn.set(t,a),d||HS(h,t,a,_.state))),i&&l===null)throw Error(r(528,""));return _}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=$a(a),a=yi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Xa(t){return'href="'+on(t)+'"'}function Il(t){return'link[rel="stylesheet"]['+t+"]"}function r0(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function HS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Gt(i,"link",a),wt(i),t.head.appendChild(i))}function $a(t){return'[src="'+on(t)+'"]'}function Cl(t){return"script[async]"+t}function a0(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+on(a.href)+'"]');if(l)return i.instance=l,wt(l),l;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),wt(l),Gt(l,"style",h),Vc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Xa(a.href);var d=t.querySelector(Il(h));if(d)return i.state.loading|=4,i.instance=d,wt(d),d;l=r0(a),(h=Bn.get(h))&&Xd(l,h),d=(t.ownerDocument||t).createElement("link"),wt(d);var _=d;return _._p=new Promise(function(E,O){_.onload=E,_.onerror=O}),Gt(d,"link",l),i.state.loading|=4,Vc(d,a.precedence,t),i.instance=d;case"script":return d=$a(a.src),(h=t.querySelector(Cl(d)))?(i.instance=h,wt(h),h):(l=a,(h=Bn.get(d))&&(l=S({},a),$d(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),wt(h),Gt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Vc(l,a.precedence,t));return i.instance}function Vc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var E=l[_];if(E.dataset.precedence===i)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Xd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function $d(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Mc=null;function o0(t,i,a){if(Mc===null){var l=new Map,h=Mc=new Map;h.set(a,l)}else h=Mc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[pi]||d[Et]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var E=l.get(_);E?E.push(d):l.set(_,[d])}}return l}function l0(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function FS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function u0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function GS(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Xa(l.href),d=i.querySelector(Il(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=kc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,wt(d);return}d=i.ownerDocument||i,l=r0(l),(h=Bn.get(h))&&Xd(l,h),d=d.createElement("link"),wt(d);var _=d;_._p=new Promise(function(E,O){_.onload=E,_.onerror=O}),Gt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=kc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Jd=0;function QS(t,i){return t.stylesheets&&t.count===0&&Lc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Lc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Jd===0&&(Jd=62500*xS());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Lc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Jd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function kc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Lc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Uc=null;function Lc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Uc=new Map,i.forEach(YS,t),Uc=null,kc.call(t))}function YS(t,i){if(!(i.state.loading&4)){var a=Uc.get(t);if(a)var l=a.get(null);else{a=new Map,Uc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=kc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Nl={$$typeof:ye,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function KS(t,i,a,l,h,d,_,E,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.hiddenUpdates=di(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function c0(t,i,a,l,h,d,_,E,O,z,Q,$){return t=new KS(t,i,a,_,O,z,Q,$,E),i=1,d===!0&&(i|=24),d=_n(3,null,null,i),t.current=d,d.stateNode=t,i=Nf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Mf(d),t}function h0(t){return t?(t=Ra,t):Ra}function f0(t,i,a,l,h,d){h=h0(h),l.context===null?l.context=h:l.pendingContext=h,l=Vs(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ms(t,l,i),a!==null&&(dn(a,t,i),ll(a,t,i))}function d0(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Zd(t,i){d0(t,i),(t=t.alternate)&&d0(t,i)}function m0(t){if(t.tag===13||t.tag===31){var i=Ur(t,67108864);i!==null&&dn(i,t,67108864),Zd(t,67108864)}}function p0(t){if(t.tag===13||t.tag===31){var i=wn();i=Sr(i);var a=Ur(t,i);a!==null&&dn(a,t,i),Zd(t,i)}}var jc=!0;function XS(t,i,a,l){var h=H.T;H.T=null;var d=te.p;try{te.p=2,Wd(t,i,a,l)}finally{te.p=d,H.T=h}}function $S(t,i,a,l){var h=H.T;H.T=null;var d=te.p;try{te.p=8,Wd(t,i,a,l)}finally{te.p=d,H.T=h}}function Wd(t,i,a,l){if(jc){var h=em(l);if(h===null)Pd(t,i,l,Pc,a),y0(t,l);else if(ZS(h,t,i,a,l))l.stopPropagation();else if(y0(t,l),i&4&&-1<JS.indexOf(t)){for(;h!==null;){var d=Nn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=hi(d.pendingLanes);if(_!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var O=1<<31-pt(_);E.entanglements[1]|=O,_&=~O}Ni(d),(Qe&6)===0&&(bc=en()+500,Sl(0))}}break;case 31:case 13:E=Ur(d,2),E!==null&&dn(E,d,2),wc(),Zd(d,2)}if(d=em(l),d===null&&Pd(t,i,l,Pc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Pd(t,i,l,null,a)}}function em(t){return t=Dn(t),tm(t)}var Pc=null;function tm(t){if(Pc=null,t=gi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Pc=t,null}function g0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tr()){case Vo:return 2;case Mo:return 8;case _s:case of:return 32;case yu:return 268435456;default:return 32}default:return 32}}var nm=!1,Gs=null,Qs=null,Ys=null,Dl=new Map,Ol=new Map,Ks=[],JS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function y0(t,i){switch(t){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":Ys=null;break;case"pointerover":case"pointerout":Dl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(i.pointerId)}}function Vl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Nn(i),i!==null&&m0(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function ZS(t,i,a,l,h){switch(i){case"focusin":return Gs=Vl(Gs,t,i,a,l,h),!0;case"dragenter":return Qs=Vl(Qs,t,i,a,l,h),!0;case"mouseover":return Ys=Vl(Ys,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Dl.set(d,Vl(Dl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ol.set(d,Vl(Ol.get(d)||null,t,i,a,l,h)),!0}return!1}function _0(t){var i=gi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Gn(t.priority,function(){p0(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Gn(t.priority,function(){p0(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=em(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Qo=l,a.target.dispatchEvent(l),Qo=null}else return i=Nn(a),i!==null&&m0(i),t.blockedOn=a,!1;i.shift()}return!0}function v0(t,i,a){zc(t)&&a.delete(i)}function WS(){nm=!1,Gs!==null&&zc(Gs)&&(Gs=null),Qs!==null&&zc(Qs)&&(Qs=null),Ys!==null&&zc(Ys)&&(Ys=null),Dl.forEach(v0),Ol.forEach(v0)}function Bc(t,i){t.blockedOn===i&&(t.blockedOn=null,nm||(nm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,WS)))}var qc=null;function T0(t){qc!==t&&(qc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){qc===t&&(qc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(tm(l||a)===null)continue;break}var d=Nn(a);d!==null&&(t.splice(i,3),i-=3,ed(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ja(t){function i(O){return Bc(O,t)}Gs!==null&&Bc(Gs,t),Qs!==null&&Bc(Qs,t),Ys!==null&&Bc(Ys,t),Dl.forEach(i),Ol.forEach(i);for(var a=0;a<Ks.length;a++){var l=Ks[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ks.length&&(a=Ks[0],a.blockedOn===null);)_0(a),a.blockedOn===null&&Ks.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[kt]||null;if(typeof d=="function")_||T0(a);else if(_){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[kt]||null)E=_.formAction;else if(tm(h)!==null)continue}else E=_.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),T0(a)}}}function b0(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function im(t){this._internalRoot=t}Hc.prototype.render=im.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=wn();f0(a,l,t,i,null,null)},Hc.prototype.unmount=im.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;f0(t.current,2,null,t,null,null),wc(),i[mi]=null}};function Hc(t){this._internalRoot=t}Hc.prototype.unstable_scheduleHydration=function(t){if(t){var i=wu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Ks.length&&i!==0&&i<Ks[a].priority;a++);Ks.splice(a,0,t),a===0&&_0(t)}};var E0=e.version;if(E0!=="19.2.3")throw Error(r(527,E0,"19.2.3"));te.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=g(i),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var eA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fc.isDisabled&&Fc.supportsFiber)try{Hn=Fc.inject(eA),zt=Fc}catch{}}return kl.createRoot=function(t,i){if(!o(t))throw Error(r(299));var a=!1,l="",h=Cy,d=Ny,_=Dy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=c0(t,1,!1,null,null,a,l,null,h,d,_,b0),t[mi]=i.current,jd(t),new im(i)},kl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(r(299));var l=!1,h="",d=Cy,_=Ny,E=Dy,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),i=c0(t,1,!0,i,a??null,l,h,O,d,_,E,b0),i.context=h0(null),a=i.current,l=wn(),l=Sr(l),h=Vs(l),h.callback=null,Ms(a,h,l),a=l,i.current.lanes=a,Er(i,a),Ni(i),t[mi]=i.current,jd(t),new Hc(i)},kl.version="19.2.3",kl}var O0;function uA(){if(O0)return am.exports;O0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),am.exports=lA(),am.exports}var cA=uA();const hA=()=>{const[s,e]=ae.useState(!1);return ae.useEffect(()=>{e(!0)},[]),T.jsxs("section",{className:"relative h-screen flex flex-col justify-center items-center text-center bg-white text-white overflow-hidden",children:[T.jsxs("div",{className:"absolute inset-0 z-0",children:[T.jsx("div",{className:"absolute inset-0 bg-black/20 z-10"}),T.jsx("img",{src:"https://images.unsplash.com/photo-1519741497674-611481863552?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80",alt:"Wedding Background",className:"w-full h-full object-cover"})]}),T.jsxs("div",{className:`relative z-20 p-8 transition-all duration-1000 ease-out transform ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[T.jsx("p",{className:"text-base md:text-lg tracking-[0.2em] mb-4 text-white/90 font-classic",children:"  "}),T.jsxs("h1",{className:"text-5xl md:text-6xl lg:text-7xl mb-8 font-classic font-bold text-white drop-shadow-lg leading-tight",children:[" ",T.jsx("br",{className:"md:hidden"}),T.jsx("span",{className:"text-3xl md:text-4xl lg:text-5xl mx-2 text-soft-pink font-serif italic",children:"&"}),T.jsx("br",{className:"md:hidden"})," "]}),T.jsxs("div",{className:"flex items-center justify-center gap-4 text-white/90 font-classic",children:[T.jsx("div",{className:"h-px w-12 bg-white/60"}),T.jsx("p",{className:"text-xl md:text-2xl tracking-widest font-light",children:"2026 4 25   4 50"}),T.jsx("div",{className:"h-px w-12 bg-white/60"})]})]}),T.jsx("div",{className:"absolute bottom-8 z-20 animate-bounce text-white/80 text-sm tracking-widest font-classic",children:" "})]})},fA=(s,{threshold:e=.1,root:n=null,rootMargin:r="0%"}={})=>{const[o,u]=ae.useState(!1);return ae.useEffect(()=>{const f=s?.current;if(!f)return;const m=new IntersectionObserver(([y])=>{y.isIntersecting&&(u(!0),m.unobserve(f))},{threshold:e,root:n,rootMargin:r});return m.observe(f),()=>{m.disconnect()}},[s,e,n,r]),o},dA=()=>{const s=ae.useRef(null),e=fA(s,{threshold:.3});return T.jsx("section",{className:"py-20 px-4 text-center bg-white",ref:s,children:T.jsxs("div",{className:`transition-all duration-1000 ease-out transform ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[T.jsxs("div",{className:"mb-12",children:[T.jsx("p",{className:"text-primary text-sm tracking-[0.2em] mb-3 opacity-60 font-classic",children:" "}),T.jsx("h2",{className:"text-3xl md:text-4xl text-text font-classic font-bold",children:" "})]}),T.jsxs("div",{className:"font-classic text-xl leading-loose text-text/80 mb-12 space-y-2",children:[T.jsx("p",{children:"   "}),T.jsx("p",{children:"    "}),T.jsx("p",{children:" ."}),T.jsx("br",{}),T.jsx("p",{children:"    "}),T.jsx("p",{children:"  "}),T.jsx("p",{children:"  ."})]}),T.jsxs("div",{className:"flex flex-col items-center gap-4 font-classic text-xl",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("span",{className:"text-base text-primary font-bold tracking-widest",children:""}),T.jsx("strong",{className:"text-text text-2xl font-bold",children:""})]}),T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("span",{className:"text-base text-primary font-bold tracking-widest",children:""}),T.jsx("strong",{className:"text-text text-2xl font-bold",children:""})]})]})]})})},mA=()=>T.jsx("section",{style:ti.section,children:T.jsxs("div",{style:ti.container,children:[T.jsxs("div",{style:ti.item,children:[T.jsx("h3",{style:ti.label,children:""}),T.jsx("p",{style:ti.value,children:"2026 4 25"}),T.jsx("p",{style:ti.subValue,children:"  4 50"})]}),T.jsx("div",{style:ti.divider}),T.jsxs("div",{style:ti.item,children:[T.jsx("h3",{style:ti.label,children:""}),T.jsx("p",{style:ti.value,children:"  "}),T.jsx("p",{style:ti.subValue,children:"   4 140"})]})]})}),ti={section:{padding:"3rem 1.5rem",backgroundColor:"#fff"},container:{backgroundColor:"#fff",padding:"2rem",borderRadius:"2px",boxShadow:"0 5px 15px rgba(0,0,0,0.03)",maxWidth:"400px",margin:"0 auto"},item:{textAlign:"center",marginBottom:"1.5rem"},divider:{width:"1px",height:"40px",backgroundColor:"#ddd",margin:"0 auto 1.5rem"},label:{fontSize:"0.8rem",color:"#aaa",letterSpacing:"0.1em",marginBottom:"0.5rem"},value:{fontSize:"1.3rem",fontFamily:"var(--font-serif)",fontWeight:"700",marginBottom:"0.2rem"},subValue:{fontSize:"0.95rem",color:"#666"}},pA="/Invitation/assets/gallery3-DBbQTIVG.jpg",gA=Object.freeze(Object.defineProperty({__proto__:null,default:pA},Symbol.toStringTag,{value:"Module"})),yA="/Invitation/assets/gallery2-AWOh7shC.jpg",_A=Object.freeze(Object.defineProperty({__proto__:null,default:yA},Symbol.toStringTag,{value:"Module"})),vA="/Invitation/assets/gallery1-C7q5Nxgj.jpg",TA=Object.freeze(Object.defineProperty({__proto__:null,default:vA},Symbol.toStringTag,{value:"Module"})),TT=()=>{const s=Object.assign({"/src/assets/images/SSR/gallery3.jpg":gA}),e=Object.assign({"/src/assets/images/SR/gallery2.jpg":_A}),n=Object.assign({"/src/assets/images/R/gallery1.jpg":TA}),r=(m,y)=>Object.entries(m).map(([g,b])=>({src:b.default,path:g,rarity:y})),o=r(s,"SSR"),u=r(e,"SR"),f=r(n,"R");return[...o,...u,...f]},Gc=TT(),bT=({forceUnlock:s=!1,rarityFilter:e=null,showRarity:n=!1})=>{const[r,o]=ae.useState(null);if(Gc.length===0)return null;const[u,f]=ae.useState([]);return ae.useEffect(()=>{if(s)return;const m=()=>{const y=JSON.parse(localStorage.getItem("wedding_collection_v2")||"[]");f(y)};return m(),window.addEventListener("storage",m),window.addEventListener("collectionUpdated",m),()=>{window.removeEventListener("storage",m),window.removeEventListener("collectionUpdated",m)}},[s]),ae.useEffect(()=>{if(s)return;const m=JSON.parse(localStorage.getItem("wedding_collection_v2")||"[]");f(m)},[Gc,s]),T.jsxs("section",{id:"gallery",className:"py-20 bg-background relative overflow-hidden",children:[T.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[T.jsx("div",{className:"absolute top-10 right-10 w-64 h-64 bg-primary/5 rounded-full blur-3xl"}),T.jsx("div",{className:"absolute bottom-10 left-10 w-96 h-96 bg-secondary/5 rounded-full blur-3xl"})]}),T.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[T.jsx("h2",{className:"text-3xl md:text-4xl text-primary font-classic font-bold mb-4 text-center animate-fade-in-up",children:" "}),T.jsxs("p",{className:"text-text/60 text-center font-body mb-12 tracking-widest uppercase text-sm animate-fade-in-up delay-100 font-classic",children:["  ",s?"":`(${u.length}/${Gc.length})`]}),T.jsx("div",{className:"columns-1 sm:columns-2 lg:columns-3 gap-6 space-y-6",children:Gc.filter(m=>!e||m.rarity===e).sort((m,y)=>{const g={SSR:3,SR:2,R:1},b=m.rarity.includes("SSR")?"SSR":m.rarity.includes("SR")?"SR":"R",S=y.rarity.includes("SSR")?"SSR":y.rarity.includes("SR")?"SR":"R";return g[b]-g[S]}).map((m,y)=>{const g=s||u.includes(m.path),b=m.rarity.includes("SSR")?"SSR":m.rarity.includes("SR")?"SR":"R",S={SSR:"border-yellow-400 ring-2 ring-yellow-400/50 shadow-md",SR:"border-blue-400 ring-1 ring-blue-400/30",R:"border-stone-400"},x={SSR:"bg-yellow-400 text-black border-yellow-200",SR:"bg-blue-500 text-white border-blue-300",R:"bg-stone-500 text-white border-stone-400"},q={SSR:"",SR:"",R:""};return T.jsxs("div",{className:`
                                        break-inside-avoid group relative rounded-2xl overflow-hidden shadow-soft-md hover:shadow-soft-xl transition-all duration-500 hover:-translate-y-1 bg-white
                                        ${n&&g?`border-[3px] ${S[b]}`:""}
                                    `,onClick:()=>g&&o(m.src),children:[n&&T.jsxs("div",{className:`
                                            absolute top-2 right-2 z-20 
                                            px-2 py-0.5 rounded-full border shadow-sm
                                            text-[10px] font-bold flex items-center gap-1
                                            backdrop-blur-sm
                                            ${x[b]}
                                            ${!g&&"opacity-80 grayscale-[30%]"} 
                                        `,children:[T.jsx("span",{children:q[b]}),T.jsx("span",{children:b})]}),T.jsxs("div",{className:"relative overflow-hidden",children:[T.jsx("img",{src:m.src,alt:`Gallery ${y+1}`,className:`w-full h-auto object-cover transition-all duration-700 
                                                ${g?"cursor-pointer hover:scale-105 filter brightness-100":"blur-xl grayscale contrast-125 cursor-not-allowed opacity-50"}
                                            `,loading:"lazy"}),g&&T.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors duration-300 pointer-events-none"}),!g&&T.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/10 z-10 backdrop-blur-[2px]",children:[T.jsx("div",{className:"bg-white/90 backdrop-blur-md p-4 rounded-full shadow-lg transform group-hover:scale-110 transition-transform duration-300",children:T.jsx("span",{className:"text-2xl",children:""})}),T.jsx("span",{className:"text-white font-bold tracking-widest mt-2 drop-shadow-md text-xs uppercase bg-black/20 px-3 py-1 rounded-full",children:"Locked"})]})]})]},m.path)})})]}),r&&T.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/95 backdrop-blur-md p-4 animate-in fade-in duration-200",onClick:()=>o(null),children:[T.jsx("img",{src:r,alt:"Full view",className:"max-w-full max-h-[90vh] object-contain rounded-lg shadow-2xl"}),T.jsx("button",{className:"absolute top-4 right-4 text-white hover:text-gray-300 transition-colors",children:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})},bA=()=>T.jsxs("section",{className:"py-20 px-4 md:px-6 bg-background text-center relative overflow-hidden",children:[T.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-4xl h-full max-h-[500px] bg-primary/5 rounded-full blur-[100px] pointer-events-none"}),T.jsxs("div",{className:"relative z-10 w-full max-w-6xl mx-auto",children:[T.jsx("h2",{className:"text-3xl md:text-4xl text-primary font-classic font-bold mb-12 text-center animate-fade-in-up",children:" "}),T.jsx("div",{className:"w-full aspect-video rounded-3xl overflow-hidden shadow-soft-xl border border-white/50 bg-black/5 animate-fade-in-up delay-100",children:T.jsx("iframe",{className:"w-full h-full",src:"https://www.youtube-nocookie.com/embed/2Vv-BfVoq4g",title:"Wedding Video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})})]})]}),ET=()=>{const s="https://naver.me/x7ndUhZi",e="https://place.map.kakao.com/25447779",n=r=>{window.open(r,"_blank")};return T.jsxs("section",{className:"py-24 px-4 bg-background text-center relative overflow-hidden font-body",children:[T.jsx("div",{className:"mb-12 animate-fade-in-up",children:T.jsx("h2",{className:"text-4xl md:text-5xl text-text font-classic font-bold",children:" "})}),T.jsx("div",{className:"max-w-5xl mx-auto mb-12 animate-fade-in-up delay-100",children:T.jsx("div",{className:"w-full aspect-video md:aspect-[21/9] rounded-xl overflow-hidden shadow-sm border border-black/5 bg-gray-50",children:T.jsx("iframe",{src:"https://maps.google.com/maps?q=%20%20&t=&z=17&ie=UTF8&iwloc=&output=embed",className:"w-full h-full transition-all duration-700",frameBorder:"0",title:"Google Map",loading:"lazy",allowFullScreen:!0})})}),T.jsxs("div",{className:"max-w-lg mx-auto mb-12 space-y-2 animate-fade-in-up delay-200 font-classic",children:[T.jsxs("h3",{className:"text-2xl text-text font-bold tracking-wide",children:["  ",T.jsx("span",{className:"font-normal text-lg ml-2 text-text/60",children:"7 "})]}),T.jsx("p",{className:"text-text/70 text-lg",children:"   4 140"}),T.jsx("div",{className:"w-8 h-[1px] bg-primary/20 mx-auto my-4"}),T.jsx("p",{className:"text-text/50 text-sm tracking-wider",children:"Tel. 031-487-8100"})]}),T.jsxs("div",{className:"flex flex-wrap justify-center gap-4 animate-fade-in-up delay-300",children:[T.jsxs("button",{className:"flex items-center gap-3 px-8 py-3 bg-white border border-gray-200 rounded-full hover:border-[#03C75A] hover:bg-[#03C75A]/5 transition-all group font-classic",onClick:()=>n(s),children:[T.jsx(EA,{}),T.jsx("span",{className:"text-gray-600 group-hover:text-[#03C75A] font-medium transition-colors",children:" "})]}),T.jsxs("button",{className:"flex items-center gap-3 px-8 py-3 bg-white border border-gray-200 rounded-full hover:border-[#FEE500] hover:bg-[#FEE500]/10 transition-all group font-classic",onClick:()=>n(e),children:[T.jsx(wA,{}),T.jsx("span",{className:"text-gray-600 group-hover:text-black font-medium transition-colors",children:" "})]})]})]})},EA=()=>T.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-[#03C75A]",children:T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.4153 3H21V21H16.4153V10.7417L7.69231 21H3V3H7.69231V13.2519L16.4153 3Z",fill:"currentColor"})}),wA=()=>T.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",className:"text-[#FEE500]",children:T.jsx("path",{d:"M12 3C6.47715 3 2 6.35786 2 10.5C2 13.1679 3.65685 15.5393 6.1875 16.9079L5.4375 19.6579C5.375 19.8766 5.5625 20.0641 5.78125 20.0016L9.625 19.0641C10.375 19.2829 11.1875 19.4079 12 19.4079C17.5228 19.4079 22 16.05 22 11.9079C22 7.76579 17.5228 4.40786 12 4.40786V3Z"})}),SA=()=>{const[s,e]=ae.useState(!1),n=ae.useRef(null),r=()=>{s?n.current.pause():n.current.play(),e(!s)};return ae.useEffect(()=>{if(n.current){n.current.volume=.5;const o=n.current.play();o!==void 0&&o.then(()=>{e(!0)}).catch(u=>{console.log("Auto-play prevented:",u),e(!1)})}},[]),T.jsxs("div",{style:V0.container,children:[T.jsx("audio",{ref:n,src:"/Invitation/bgm.mp3",loop:!0}),T.jsx("button",{onClick:r,style:V0.button,children:s?" ":" "})]})},V0={container:{position:"fixed",top:"20px",right:"20px",zIndex:1e3},button:{background:"rgba(255, 255, 255, 0.8)",border:"1px solid #ddd",borderRadius:"20px",padding:"8px 16px",fontSize:"0.8rem",cursor:"pointer",boxShadow:"0 2px 5px rgba(0,0,0,0.1)",display:"flex",alignItems:"center",gap:"5px",fontFamily:"'Gowun Batang', serif"}},AA=()=>{const[s,e]=ae.useState(null),n=[{type:"Groom",name:"",bank:"",account:"495-910449-55107",displayAccount:"495-910449-55107"},{type:"Bride",name:"",bank:"",account:"110-297-915880",displayAccount:"110-297-915880"}],r=o=>{navigator.clipboard.writeText(`${o.bank} ${o.account}`).then(()=>{e(o.type),setTimeout(()=>e(null),2e3)})};return T.jsxs("section",{className:"py-20 px-6 bg-background text-center relative overflow-hidden font-body",children:[T.jsx("h2",{className:"text-3xl md:text-4xl text-primary font-classic font-bold mb-10 text-center animate-fade-in-up",children:"  "}),T.jsx("div",{className:"max-w-2xl mx-auto space-y-6 animate-fade-in-up delay-100",children:n.map(o=>T.jsxs("div",{className:"bg-white/60 backdrop-blur-md rounded-2xl p-6 border border-white/50 shadow-soft-md flex flex-col md:flex-row items-center justify-between gap-4 group hover:shadow-soft-lg transition-all hover:bg-white/80",children:[T.jsxs("div",{className:"text-left md:flex-1 w-full md:w-auto text-center md:text-left",children:[T.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2 mb-1",children:[T.jsx("span",{className:"text-base font-bold text-primary tracking-widest font-classic",children:o.type==="Groom"?"":""}),T.jsx("span",{className:"text-lg font-bold text-text",children:o.name})]}),T.jsxs("div",{className:"text-gray-600 font-mono text-sm md:text-base",children:[o.bank," ",T.jsx("span",{className:"text-gray-400 mx-1",children:"|"})," ",o.displayAccount]})]}),T.jsx("button",{onClick:()=>r(o),className:`
                                px-6 py-2 rounded-full font-medium text-sm transition-all duration-300 min-w-[100px] font-classic
                                ${s===o.type?"bg-[#03C75A] text-white shadow-md":"bg-white border border-primary/20 text-text/80 hover:border-primary hover:text-primary"}
                            `,children:s===o.type?"":""})]},o.type))})]})},xA=()=>T.jsxs("div",{className:"app-container font-classic",children:[T.jsx(hA,{}),T.jsx(dA,{}),T.jsx(mA,{}),T.jsx(bT,{forceUnlock:!0,rarityFilter:"R"}),T.jsx(bA,{}),T.jsx(AA,{}),T.jsx(SA,{}),T.jsx(ET,{})]}),RA=()=>{};var M0={};const wT=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},IA=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[n++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[n++],f=s[n++],m=s[n++],y=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(y&1023))}else{const u=s[n++],f=s[n++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},ST={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],f=o+1<s.length,m=f?s[o+1]:0,y=o+2<s.length,g=y?s[o+2]:0,b=u>>2,S=(u&3)<<4|m>>4;let x=(m&15)<<2|g>>6,q=g&63;y||(q=64,f||(x=64)),r.push(n[b],n[S],n[x],n[q])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(wT(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):IA(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=n[s.charAt(o++)],m=o<s.length?n[s.charAt(o)]:0;++o;const g=o<s.length?n[s.charAt(o)]:64;++o;const S=o<s.length?n[s.charAt(o)]:64;if(++o,u==null||m==null||g==null||S==null)throw new CA;const x=u<<2|m>>4;if(r.push(x),g!==64){const q=m<<4&240|g>>2;if(r.push(q),S!==64){const X=g<<6&192|S;r.push(X)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class CA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NA=function(s){const e=wT(s);return ST.encodeByteArray(e,!0)},uh=function(s){return NA(s).replace(/\./g,"")},AT=function(s){try{return ST.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function DA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const OA=()=>DA().__FIREBASE_DEFAULTS__,VA=()=>{if(typeof process>"u"||typeof M0>"u")return;const s=M0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},MA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&AT(s[1]);return e&&JSON.parse(e)},Vh=()=>{try{return RA()||OA()||VA()||MA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},xT=s=>Vh()?.emulatorHosts?.[s],kA=s=>{const e=xT(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},RT=()=>Vh()?.config,IT=s=>Vh()?.[`_${s}`];class UA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function bo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function CT(s){return(await fetch(s,{credentials:"include"})).ok}function LA(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[uh(JSON.stringify(n)),uh(JSON.stringify(f)),""].join(".")}const ql={};function jA(){const s={prod:[],emulator:[]};for(const e of Object.keys(ql))ql[e]?s.emulator.push(e):s.prod.push(e);return s}function PA(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let k0=!1;function NT(s,e){if(typeof window>"u"||typeof document>"u"||!bo(window.location.host)||ql[s]===e||ql[s]||k0)return;ql[s]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",u=jA().prod.length>0;function f(){const x=document.getElementById(r);x&&x.remove()}function m(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function y(x,q){x.setAttribute("width","24"),x.setAttribute("id",q),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function g(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{k0=!0,f()},x}function b(x,q){x.setAttribute("id",q),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function S(){const x=PA(r),q=n("text"),X=document.getElementById(q)||document.createElement("span"),W=n("learnmore"),ee=document.getElementById(W)||document.createElement("a"),oe=n("preprendIcon"),pe=document.getElementById(oe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const ye=x.element;m(ye),b(ee,W);const ze=g();y(pe,oe),ye.append(pe,X,ee,ze),document.body.appendChild(ye)}u?(X.innerText="Preview backend disconnected.",pe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(pe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,X.innerText="Preview backend running in this workspace."),X.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function BA(){const s=Vh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function DT(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function HA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FA(){const s=Wt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function GA(){return!BA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function OT(){try{return typeof indexedDB=="object"}catch{return!1}}function VT(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}function QA(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const YA="FirebaseError";class li extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=YA,Object.setPrototypeOf(this,li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sa.prototype.create)}}class sa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?KA(u,r):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new li(o,m,r)}}function KA(s,e){return s.replace(XA,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const XA=/\{\$([^}]+)}/g;function $A(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function us(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const u=s[o],f=e[o];if(U0(u)&&U0(f)){if(!us(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function U0(s){return s!==null&&typeof s=="object"}function ru(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function JA(s,e){const n=new ZA(s,e);return n.subscribe.bind(n)}class ZA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");WA(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=cm),o.error===void 0&&(o.error=cm),o.complete===void 0&&(o.complete=cm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WA(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function cm(){}const e1=1e3,t1=2,n1=14400*1e3,i1=.5;function L0(s,e=e1,n=t1){const r=e*Math.pow(n,s),o=Math.round(i1*r*(Math.random()-.5)*2);return Math.min(n1,r+o)}function ht(s){return s&&s._delegate?s._delegate:s}class ai{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Xr="[DEFAULT]";class s1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new UA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(a1(e))try{this.getOrInitializeService({instanceIdentifier:Xr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=Xr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xr){return this.instances.has(e)}getOptions(e=Xr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&f.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&e(u,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:r1(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xr){return this.component?this.component.multipleInstances?e:Xr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function r1(s){return s===Xr?void 0:s}function a1(s){return s.instantiationMode==="EAGER"}class o1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new s1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ue;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ue||(Ue={}));const l1={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},u1=Ue.INFO,c1={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},h1=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=c1[e];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mh{constructor(e){this.name=e,this._logLevel=u1,this._logHandler=h1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?l1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const f1=(s,e)=>e.some(n=>s instanceof n);let j0,P0;function d1(){return j0||(j0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function m1(){return P0||(P0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const MT=new WeakMap,Am=new WeakMap,kT=new WeakMap,hm=new WeakMap,Jm=new WeakMap;function p1(s){const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{n(nr(s.result)),o()},f=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&MT.set(n,s)}).catch(()=>{}),Jm.set(e,s),e}function g1(s){if(Am.has(s))return;const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});Am.set(s,e)}let xm={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return Am.get(s);if(e==="objectStoreNames")return s.objectStoreNames||kT.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return nr(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function y1(s){xm=s(xm)}function _1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(fm(this),e,...n);return kT.set(r,e.sort?e.sort():[e]),nr(r)}:m1().includes(s)?function(...e){return s.apply(fm(this),e),nr(MT.get(this))}:function(...e){return nr(s.apply(fm(this),e))}}function v1(s){return typeof s=="function"?_1(s):(s instanceof IDBTransaction&&g1(s),f1(s,d1())?new Proxy(s,xm):s)}function nr(s){if(s instanceof IDBRequest)return p1(s);if(hm.has(s))return hm.get(s);const e=v1(s);return e!==s&&(hm.set(s,e),Jm.set(e,s)),e}const fm=s=>Jm.get(s);function UT(s,e,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(s,e),m=nr(f);return r&&f.addEventListener("upgradeneeded",y=>{r(nr(f.result),y.oldVersion,y.newVersion,nr(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const T1=["get","getKey","getAll","getAllKeys","count"],b1=["put","add","delete","clear"],dm=new Map;function z0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(dm.get(e))return dm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=b1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||T1.includes(n)))return;const u=async function(f,...m){const y=this.transaction(f,o?"readwrite":"readonly");let g=y.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&y.done]))[0]};return dm.set(e,u),u}y1(s=>({...s,get:(e,n,r)=>z0(e,n)||s.get(e,n,r),has:(e,n)=>!!z0(e,n)||s.has(e,n)}));class E1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(w1(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function w1(s){return s.getComponent()?.type==="VERSION"}const Rm="@firebase/app",B0="0.14.7";const cs=new Mh("@firebase/app"),S1="@firebase/app-compat",A1="@firebase/analytics-compat",x1="@firebase/analytics",R1="@firebase/app-check-compat",I1="@firebase/app-check",C1="@firebase/auth",N1="@firebase/auth-compat",D1="@firebase/database",O1="@firebase/data-connect",V1="@firebase/database-compat",M1="@firebase/functions",k1="@firebase/functions-compat",U1="@firebase/installations",L1="@firebase/installations-compat",j1="@firebase/messaging",P1="@firebase/messaging-compat",z1="@firebase/performance",B1="@firebase/performance-compat",q1="@firebase/remote-config",H1="@firebase/remote-config-compat",F1="@firebase/storage",G1="@firebase/storage-compat",Q1="@firebase/firestore",Y1="@firebase/ai",K1="@firebase/firestore-compat",X1="firebase",$1="12.8.0";const Im="[DEFAULT]",J1={[Rm]:"fire-core",[S1]:"fire-core-compat",[x1]:"fire-analytics",[A1]:"fire-analytics-compat",[I1]:"fire-app-check",[R1]:"fire-app-check-compat",[C1]:"fire-auth",[N1]:"fire-auth-compat",[D1]:"fire-rtdb",[O1]:"fire-data-connect",[V1]:"fire-rtdb-compat",[M1]:"fire-fn",[k1]:"fire-fn-compat",[U1]:"fire-iid",[L1]:"fire-iid-compat",[j1]:"fire-fcm",[P1]:"fire-fcm-compat",[z1]:"fire-perf",[B1]:"fire-perf-compat",[q1]:"fire-rc",[H1]:"fire-rc-compat",[F1]:"fire-gcs",[G1]:"fire-gcs-compat",[Q1]:"fire-fst",[K1]:"fire-fst-compat",[Y1]:"fire-vertex","fire-js":"fire-js",[X1]:"fire-js-all"};const ch=new Map,Z1=new Map,Cm=new Map;function q0(s,e){try{s.container.addComponent(e)}catch(n){cs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function ji(s){const e=s.name;if(Cm.has(e))return cs.debug(`There were multiple attempts to register component ${e}.`),!1;Cm.set(e,s);for(const n of ch.values())q0(n,s);for(const n of Z1.values())q0(n,s);return!0}function ra(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function ni(s){return s==null?!1:s.settings!==void 0}const W1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ir=new sa("app","Firebase",W1);class ex{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ai("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ir.create("app-deleted",{appName:this._name})}}const Eo=$1;function LT(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:Im,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw ir.create("bad-app-name",{appName:String(o)});if(n||(n=RT()),!n)throw ir.create("no-options");const u=ch.get(o);if(u){if(us(n,u.options)&&us(r,u.config))return u;throw ir.create("duplicate-app",{appName:o})}const f=new o1(o);for(const y of Cm.values())f.addComponent(y);const m=new ex(n,r,f);return ch.set(o,m),m}function Zm(s=Im){const e=ch.get(s);if(!e&&s===Im&&RT())return LT();if(!e)throw ir.create("no-app",{appName:s});return e}function qn(s,e,n){let r=J1[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${r}" with version "${e}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cs.warn(f.join(" "));return}ji(new ai(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const tx="firebase-heartbeat-database",nx=1,Xl="firebase-heartbeat-store";let mm=null;function jT(){return mm||(mm=UT(tx,nx,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Xl)}catch(n){console.warn(n)}}}}).catch(s=>{throw ir.create("idb-open",{originalErrorMessage:s.message})})),mm}async function ix(s){try{const n=(await jT()).transaction(Xl),r=await n.objectStore(Xl).get(PT(s));return await n.done,r}catch(e){if(e instanceof li)cs.warn(e.message);else{const n=ir.create("idb-get",{originalErrorMessage:e?.message});cs.warn(n.message)}}}async function H0(s,e){try{const r=(await jT()).transaction(Xl,"readwrite");await r.objectStore(Xl).put(e,PT(s)),await r.done}catch(n){if(n instanceof li)cs.warn(n.message);else{const r=ir.create("idb-set",{originalErrorMessage:n?.message});cs.warn(r.message)}}}function PT(s){return`${s.name}!${s.options.appId}`}const sx=1024,rx=30;class ax{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lx(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=F0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>rx){const o=ux(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){cs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=F0(),{heartbeatsToSend:n,unsentEntries:r}=ox(this._heartbeatsCache.heartbeats),o=uh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return cs.warn(e),""}}}function F0(){return new Date().toISOString().substring(0,10)}function ox(s,e=sx){const n=[];let r=s.slice();for(const o of s){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),G0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),G0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class lx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OT()?VT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ix(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return H0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return H0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function G0(s){return uh(JSON.stringify({version:2,heartbeats:s})).length}function ux(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}function cx(s){ji(new ai("platform-logger",e=>new E1(e),"PRIVATE")),ji(new ai("heartbeat",e=>new ax(e),"PRIVATE")),qn(Rm,B0,s),qn(Rm,B0,"esm2020"),qn("fire-js","")}cx("");var hx="firebase",fx="12.8.0";qn(hx,fx,"app");const zT="@firebase/installations",Wm="0.6.19";const BT=1e4,qT=`w:${Wm}`,HT="FIS_v2",dx="https://firebaseinstallations.googleapis.com/v1",mx=3600*1e3,px="installations",gx="Installations";const yx={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Wr=new sa(px,gx,yx);function FT(s){return s instanceof li&&s.code.includes("request-failed")}function GT({projectId:s}){return`${dx}/projects/${s}/installations`}function QT(s){return{token:s.token,requestStatus:2,expiresIn:vx(s.expiresIn),creationTime:Date.now()}}async function YT(s,e){const r=(await e.json()).error;return Wr.create("request-failed",{requestName:s,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function KT({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function _x(s,{refreshToken:e}){const n=KT(s);return n.append("Authorization",Tx(e)),n}async function XT(s){const e=await s();return e.status>=500&&e.status<600?s():e}function vx(s){return Number(s.replace("s","000"))}function Tx(s){return`${HT} ${s}`}async function bx({appConfig:s,heartbeatServiceProvider:e},{fid:n}){const r=GT(s),o=KT(s),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={fid:n,authVersion:HT,appId:s.appId,sdkVersion:qT},m={method:"POST",headers:o,body:JSON.stringify(f)},y=await XT(()=>fetch(r,m));if(y.ok){const g=await y.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:QT(g.authToken)}}else throw await YT("Create Installation",y)}function $T(s){return new Promise(e=>{setTimeout(e,s)})}function Ex(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}const wx=/^[cdef][\w-]{21}$/,Nm="";function Sx(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const n=Ax(s);return wx.test(n)?n:Nm}catch{return Nm}}function Ax(s){return Ex(s).substr(0,22)}function kh(s){return`${s.appName}!${s.appId}`}const JT=new Map;function ZT(s,e){const n=kh(s);WT(n,e),xx(n,e)}function WT(s,e){const n=JT.get(s);if(n)for(const r of n)r(e)}function xx(s,e){const n=Rx();n&&n.postMessage({key:s,fid:e}),Ix()}let $r=null;function Rx(){return!$r&&"BroadcastChannel"in self&&($r=new BroadcastChannel("[Firebase] FID Change"),$r.onmessage=s=>{WT(s.data.key,s.data.fid)}),$r}function Ix(){JT.size===0&&$r&&($r.close(),$r=null)}const Cx="firebase-installations-database",Nx=1,ea="firebase-installations-store";let pm=null;function ep(){return pm||(pm=UT(Cx,Nx,{upgrade:(s,e)=>{e===0&&s.createObjectStore(ea)}})),pm}async function hh(s,e){const n=kh(s),o=(await ep()).transaction(ea,"readwrite"),u=o.objectStore(ea),f=await u.get(n);return await u.put(e,n),await o.done,(!f||f.fid!==e.fid)&&ZT(s,e.fid),e}async function eb(s){const e=kh(s),r=(await ep()).transaction(ea,"readwrite");await r.objectStore(ea).delete(e),await r.done}async function Uh(s,e){const n=kh(s),o=(await ep()).transaction(ea,"readwrite"),u=o.objectStore(ea),f=await u.get(n),m=e(f);return m===void 0?await u.delete(n):await u.put(m,n),await o.done,m&&(!f||f.fid!==m.fid)&&ZT(s,m.fid),m}async function tp(s){let e;const n=await Uh(s.appConfig,r=>{const o=Dx(r),u=Ox(s,o);return e=u.registrationPromise,u.installationEntry});return n.fid===Nm?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Dx(s){const e=s||{fid:Sx(),registrationStatus:0};return tb(e)}function Ox(s,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Wr.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Vx(s,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Mx(s)}:{installationEntry:e}}async function Vx(s,e){try{const n=await bx(s,e);return hh(s.appConfig,n)}catch(n){throw FT(n)&&n.customData.serverCode===409?await eb(s.appConfig):await hh(s.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Mx(s){let e=await Q0(s.appConfig);for(;e.registrationStatus===1;)await $T(100),e=await Q0(s.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await tp(s);return r||n}return e}function Q0(s){return Uh(s,e=>{if(!e)throw Wr.create("installation-not-found");return tb(e)})}function tb(s){return kx(s)?{fid:s.fid,registrationStatus:0}:s}function kx(s){return s.registrationStatus===1&&s.registrationTime+BT<Date.now()}async function Ux({appConfig:s,heartbeatServiceProvider:e},n){const r=Lx(s,n),o=_x(s,n),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={installation:{sdkVersion:qT,appId:s.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},y=await XT(()=>fetch(r,m));if(y.ok){const g=await y.json();return QT(g)}else throw await YT("Generate Auth Token",y)}function Lx(s,{fid:e}){return`${GT(s)}/${e}/authTokens:generate`}async function np(s,e=!1){let n;const r=await Uh(s.appConfig,u=>{if(!nb(u))throw Wr.create("not-registered");const f=u.authToken;if(!e&&zx(f))return u;if(f.requestStatus===1)return n=jx(s,e),u;{if(!navigator.onLine)throw Wr.create("app-offline");const m=qx(u);return n=Px(s,m),m}});return n?await n:r.authToken}async function jx(s,e){let n=await Y0(s.appConfig);for(;n.authToken.requestStatus===1;)await $T(100),n=await Y0(s.appConfig);const r=n.authToken;return r.requestStatus===0?np(s,e):r}function Y0(s){return Uh(s,e=>{if(!nb(e))throw Wr.create("not-registered");const n=e.authToken;return Hx(n)?{...e,authToken:{requestStatus:0}}:e})}async function Px(s,e){try{const n=await Ux(s,e),r={...e,authToken:n};return await hh(s.appConfig,r),n}catch(n){if(FT(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await eb(s.appConfig);else{const r={...e,authToken:{requestStatus:0}};await hh(s.appConfig,r)}throw n}}function nb(s){return s!==void 0&&s.registrationStatus===2}function zx(s){return s.requestStatus===2&&!Bx(s)}function Bx(s){const e=Date.now();return e<s.creationTime||s.creationTime+s.expiresIn<e+mx}function qx(s){const e={requestStatus:1,requestTime:Date.now()};return{...s,authToken:e}}function Hx(s){return s.requestStatus===1&&s.requestTime+BT<Date.now()}async function Fx(s){const e=s,{installationEntry:n,registrationPromise:r}=await tp(e);return r?r.catch(console.error):np(e).catch(console.error),n.fid}async function Gx(s,e=!1){const n=s;return await Qx(n),(await np(n,e)).token}async function Qx(s){const{registrationPromise:e}=await tp(s);e&&await e}function Yx(s){if(!s||!s.options)throw gm("App Configuration");if(!s.name)throw gm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!s.options[n])throw gm(n);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function gm(s){return Wr.create("missing-app-config-values",{valueName:s})}const ib="installations",Kx="installations-internal",Xx=s=>{const e=s.getProvider("app").getImmediate(),n=Yx(e),r=ra(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},$x=s=>{const e=s.getProvider("app").getImmediate(),n=ra(e,ib).getImmediate();return{getId:()=>Fx(n),getToken:o=>Gx(n,o)}};function Jx(){ji(new ai(ib,Xx,"PUBLIC")),ji(new ai(Kx,$x,"PRIVATE"))}Jx();qn(zT,Wm);qn(zT,Wm,"esm2020");const fh="analytics",Zx="firebase_id",Wx="origin",eR=60*1e3,tR="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ip="https://www.googletagmanager.com/gtag/js";const an=new Mh("@firebase/analytics");const nR={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},xn=new sa("analytics","Analytics",nR);function iR(s){if(!s.startsWith(ip)){const e=xn.create("invalid-gtag-resource",{gtagURL:s});return an.warn(e.message),""}return s}function sb(s){return Promise.all(s.map(e=>e.catch(n=>n)))}function sR(s,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(s,e)),n}function rR(s,e){const n=sR("firebase-js-sdk-policy",{createScriptURL:iR}),r=document.createElement("script"),o=`${ip}?l=${s}&id=${e}`;r.src=n?n?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function aR(s){let e=[];return Array.isArray(window[s])?e=window[s]:window[s]=e,e}async function oR(s,e,n,r,o,u){const f=r[o];try{if(f)await e[f];else{const y=(await sb(n)).find(g=>g.measurementId===o);y&&await e[y.appId]}}catch(m){an.error(m)}s("config",o,u)}async function lR(s,e,n,r,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await sb(n);for(const y of f){const g=m.find(S=>S.measurementId===y),b=g&&e[g.appId];if(b)u.push(b);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),s("event",r,o||{})}catch(u){an.error(u)}}function uR(s,e,n,r){async function o(u,...f){try{if(u==="event"){const[m,y]=f;await lR(s,e,n,m,y)}else if(u==="config"){const[m,y]=f;await oR(s,e,n,r,m,y)}else if(u==="consent"){const[m,y]=f;s("consent",m,y)}else if(u==="get"){const[m,y,g]=f;s("get",m,y,g)}else if(u==="set"){const[m]=f;s("set",m)}else s(u,...f)}catch(m){an.error(m)}}return o}function cR(s,e,n,r,o){let u=function(...f){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=uR(u,s,e,n),{gtagCore:u,wrappedGtag:window[o]}}function hR(s){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(ip)&&n.src.includes(s))return n;return null}const fR=30,dR=1e3;class mR{constructor(e={},n=dR){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const rb=new mR;function pR(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function gR(s){const{appId:e,apiKey:n}=s,r={method:"GET",headers:pR(n)},o=tR.replace("{app-id}",e),u=await fetch(o,r);if(u.status!==200&&u.status!==304){let f="";try{const m=await u.json();m.error?.message&&(f=m.error.message)}catch{}throw xn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:f})}return u.json()}async function yR(s,e=rb,n){const{appId:r,apiKey:o,measurementId:u}=s.options;if(!r)throw xn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:r};throw xn.create("no-api-key")}const f=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new TR;return setTimeout(async()=>{m.abort()},eR),ab({appId:r,apiKey:o,measurementId:u},f,m,e)}async function ab(s,{throttleEndTimeMillis:e,backoffCount:n},r,o=rb){const{appId:u,measurementId:f}=s;try{await _R(r,e)}catch(m){if(f)return an.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:u,measurementId:f};throw m}try{const m=await gR(s);return o.deleteThrottleMetadata(u),m}catch(m){const y=m;if(!vR(y)){if(o.deleteThrottleMetadata(u),f)return an.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${y?.message}]`),{appId:u,measurementId:f};throw m}const g=Number(y?.customData?.httpStatus)===503?L0(n,o.intervalMillis,fR):L0(n,o.intervalMillis),b={throttleEndTimeMillis:Date.now()+g,backoffCount:n+1};return o.setThrottleMetadata(u,b),an.debug(`Calling attemptFetch again in ${g} millis`),ab(s,b,r,o)}}function _R(s,e){return new Promise((n,r)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);s.addEventListener(()=>{clearTimeout(u),r(xn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function vR(s){if(!(s instanceof li)||!s.customData)return!1;const e=Number(s.customData.httpStatus);return e===429||e===500||e===503||e===504}class TR{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function bR(s,e,n,r,o){if(o&&o.global){s("event",n,r);return}else{const u=await e,f={...r,send_to:u};s("event",n,f)}}async function ER(s,e,n,r){if(r&&r.global){const o={};for(const u of Object.keys(n))o[`user_properties.${u}`]=n[u];return s("set",o),Promise.resolve()}else{const o=await e;s("config",o,{update:!0,user_properties:n})}}async function wR(){if(OT())try{await VT()}catch(s){return an.warn(xn.create("indexeddb-unavailable",{errorInfo:s?.toString()}).message),!1}else return an.warn(xn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function SR(s,e,n,r,o,u,f){const m=yR(s);m.then(x=>{n[x.measurementId]=x.appId,s.options.measurementId&&x.measurementId!==s.options.measurementId&&an.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>an.error(x)),e.push(m);const y=wR().then(x=>{if(x)return r.getId()}),[g,b]=await Promise.all([m,y]);hR(u)||rR(u,g.measurementId),o("js",new Date);const S=f?.config??{};return S[Wx]="firebase",S.update=!0,b!=null&&(S[Zx]=b),o("config",g.measurementId,S),g.measurementId}class AR{constructor(e){this.app=e}_delete(){return delete ro[this.app.options.appId],Promise.resolve()}}let ro={},K0=[];const X0={};let ym="dataLayer",xR="gtag",$0,sp,J0=!1;function RR(){const s=[];if(DT()&&s.push("This is a browser extension environment."),QA()||s.push("Cookies are not available."),s.length>0){const e=s.map((r,o)=>`(${o+1}) ${r}`).join(" "),n=xn.create("invalid-analytics-context",{errorInfo:e});an.warn(n.message)}}function IR(s,e,n){RR();const r=s.options.appId;if(!r)throw xn.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)an.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw xn.create("no-api-key");if(ro[r]!=null)throw xn.create("already-exists",{id:r});if(!J0){aR(ym);const{wrappedGtag:u,gtagCore:f}=cR(ro,K0,X0,ym,xR);sp=u,$0=f,J0=!0}return ro[r]=SR(s,K0,X0,e,$0,ym,n),new AR(s)}function CR(s=Zm()){s=ht(s);const e=ra(s,fh);return e.isInitialized()?e.getImmediate():NR(s)}function NR(s,e={}){const n=ra(s,fh);if(n.isInitialized()){const o=n.getImmediate();if(us(e,n.getOptions()))return o;throw xn.create("already-initialized")}return n.initialize({options:e})}function DR(s,e,n){s=ht(s),ER(sp,ro[s.app.options.appId],e,n).catch(r=>an.error(r))}function OR(s,e,n,r){s=ht(s),bR(sp,ro[s.app.options.appId],e,n,r).catch(o=>an.error(o))}const Z0="@firebase/analytics",W0="0.10.19";function VR(){ji(new ai(fh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return IR(r,o,n)},"PUBLIC")),ji(new ai("analytics-internal",s,"PRIVATE")),qn(Z0,W0),qn(Z0,W0,"esm2020");function s(e){try{const n=e.getProvider(fh).getImmediate();return{logEvent:(r,o,u)=>OR(n,r,o,u),setUserProperties:(r,o)=>DR(n,r,o)}}catch(n){throw xn.create("interop-component-reg-failed",{reason:n})}}}VR();var ev=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var sr,ob;(function(){var s;function e(C,I){function N(){}N.prototype=I.prototype,C.F=I.prototype,C.prototype=new N,C.prototype.constructor=C,C.D=function(M,D,k){for(var R=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)R[Se-2]=arguments[Se];return I.prototype[D].apply(M,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,I,N){N||(N=0);const M=Array(16);if(typeof I=="string")for(var D=0;D<16;++D)M[D]=I.charCodeAt(N++)|I.charCodeAt(N++)<<8|I.charCodeAt(N++)<<16|I.charCodeAt(N++)<<24;else for(D=0;D<16;++D)M[D]=I[N++]|I[N++]<<8|I[N++]<<16|I[N++]<<24;I=C.g[0],N=C.g[1],D=C.g[2];let k=C.g[3],R;R=I+(k^N&(D^k))+M[0]+3614090360&4294967295,I=N+(R<<7&4294967295|R>>>25),R=k+(D^I&(N^D))+M[1]+3905402710&4294967295,k=I+(R<<12&4294967295|R>>>20),R=D+(N^k&(I^N))+M[2]+606105819&4294967295,D=k+(R<<17&4294967295|R>>>15),R=N+(I^D&(k^I))+M[3]+3250441966&4294967295,N=D+(R<<22&4294967295|R>>>10),R=I+(k^N&(D^k))+M[4]+4118548399&4294967295,I=N+(R<<7&4294967295|R>>>25),R=k+(D^I&(N^D))+M[5]+1200080426&4294967295,k=I+(R<<12&4294967295|R>>>20),R=D+(N^k&(I^N))+M[6]+2821735955&4294967295,D=k+(R<<17&4294967295|R>>>15),R=N+(I^D&(k^I))+M[7]+4249261313&4294967295,N=D+(R<<22&4294967295|R>>>10),R=I+(k^N&(D^k))+M[8]+1770035416&4294967295,I=N+(R<<7&4294967295|R>>>25),R=k+(D^I&(N^D))+M[9]+2336552879&4294967295,k=I+(R<<12&4294967295|R>>>20),R=D+(N^k&(I^N))+M[10]+4294925233&4294967295,D=k+(R<<17&4294967295|R>>>15),R=N+(I^D&(k^I))+M[11]+2304563134&4294967295,N=D+(R<<22&4294967295|R>>>10),R=I+(k^N&(D^k))+M[12]+1804603682&4294967295,I=N+(R<<7&4294967295|R>>>25),R=k+(D^I&(N^D))+M[13]+4254626195&4294967295,k=I+(R<<12&4294967295|R>>>20),R=D+(N^k&(I^N))+M[14]+2792965006&4294967295,D=k+(R<<17&4294967295|R>>>15),R=N+(I^D&(k^I))+M[15]+1236535329&4294967295,N=D+(R<<22&4294967295|R>>>10),R=I+(D^k&(N^D))+M[1]+4129170786&4294967295,I=N+(R<<5&4294967295|R>>>27),R=k+(N^D&(I^N))+M[6]+3225465664&4294967295,k=I+(R<<9&4294967295|R>>>23),R=D+(I^N&(k^I))+M[11]+643717713&4294967295,D=k+(R<<14&4294967295|R>>>18),R=N+(k^I&(D^k))+M[0]+3921069994&4294967295,N=D+(R<<20&4294967295|R>>>12),R=I+(D^k&(N^D))+M[5]+3593408605&4294967295,I=N+(R<<5&4294967295|R>>>27),R=k+(N^D&(I^N))+M[10]+38016083&4294967295,k=I+(R<<9&4294967295|R>>>23),R=D+(I^N&(k^I))+M[15]+3634488961&4294967295,D=k+(R<<14&4294967295|R>>>18),R=N+(k^I&(D^k))+M[4]+3889429448&4294967295,N=D+(R<<20&4294967295|R>>>12),R=I+(D^k&(N^D))+M[9]+568446438&4294967295,I=N+(R<<5&4294967295|R>>>27),R=k+(N^D&(I^N))+M[14]+3275163606&4294967295,k=I+(R<<9&4294967295|R>>>23),R=D+(I^N&(k^I))+M[3]+4107603335&4294967295,D=k+(R<<14&4294967295|R>>>18),R=N+(k^I&(D^k))+M[8]+1163531501&4294967295,N=D+(R<<20&4294967295|R>>>12),R=I+(D^k&(N^D))+M[13]+2850285829&4294967295,I=N+(R<<5&4294967295|R>>>27),R=k+(N^D&(I^N))+M[2]+4243563512&4294967295,k=I+(R<<9&4294967295|R>>>23),R=D+(I^N&(k^I))+M[7]+1735328473&4294967295,D=k+(R<<14&4294967295|R>>>18),R=N+(k^I&(D^k))+M[12]+2368359562&4294967295,N=D+(R<<20&4294967295|R>>>12),R=I+(N^D^k)+M[5]+4294588738&4294967295,I=N+(R<<4&4294967295|R>>>28),R=k+(I^N^D)+M[8]+2272392833&4294967295,k=I+(R<<11&4294967295|R>>>21),R=D+(k^I^N)+M[11]+1839030562&4294967295,D=k+(R<<16&4294967295|R>>>16),R=N+(D^k^I)+M[14]+4259657740&4294967295,N=D+(R<<23&4294967295|R>>>9),R=I+(N^D^k)+M[1]+2763975236&4294967295,I=N+(R<<4&4294967295|R>>>28),R=k+(I^N^D)+M[4]+1272893353&4294967295,k=I+(R<<11&4294967295|R>>>21),R=D+(k^I^N)+M[7]+4139469664&4294967295,D=k+(R<<16&4294967295|R>>>16),R=N+(D^k^I)+M[10]+3200236656&4294967295,N=D+(R<<23&4294967295|R>>>9),R=I+(N^D^k)+M[13]+681279174&4294967295,I=N+(R<<4&4294967295|R>>>28),R=k+(I^N^D)+M[0]+3936430074&4294967295,k=I+(R<<11&4294967295|R>>>21),R=D+(k^I^N)+M[3]+3572445317&4294967295,D=k+(R<<16&4294967295|R>>>16),R=N+(D^k^I)+M[6]+76029189&4294967295,N=D+(R<<23&4294967295|R>>>9),R=I+(N^D^k)+M[9]+3654602809&4294967295,I=N+(R<<4&4294967295|R>>>28),R=k+(I^N^D)+M[12]+3873151461&4294967295,k=I+(R<<11&4294967295|R>>>21),R=D+(k^I^N)+M[15]+530742520&4294967295,D=k+(R<<16&4294967295|R>>>16),R=N+(D^k^I)+M[2]+3299628645&4294967295,N=D+(R<<23&4294967295|R>>>9),R=I+(D^(N|~k))+M[0]+4096336452&4294967295,I=N+(R<<6&4294967295|R>>>26),R=k+(N^(I|~D))+M[7]+1126891415&4294967295,k=I+(R<<10&4294967295|R>>>22),R=D+(I^(k|~N))+M[14]+2878612391&4294967295,D=k+(R<<15&4294967295|R>>>17),R=N+(k^(D|~I))+M[5]+4237533241&4294967295,N=D+(R<<21&4294967295|R>>>11),R=I+(D^(N|~k))+M[12]+1700485571&4294967295,I=N+(R<<6&4294967295|R>>>26),R=k+(N^(I|~D))+M[3]+2399980690&4294967295,k=I+(R<<10&4294967295|R>>>22),R=D+(I^(k|~N))+M[10]+4293915773&4294967295,D=k+(R<<15&4294967295|R>>>17),R=N+(k^(D|~I))+M[1]+2240044497&4294967295,N=D+(R<<21&4294967295|R>>>11),R=I+(D^(N|~k))+M[8]+1873313359&4294967295,I=N+(R<<6&4294967295|R>>>26),R=k+(N^(I|~D))+M[15]+4264355552&4294967295,k=I+(R<<10&4294967295|R>>>22),R=D+(I^(k|~N))+M[6]+2734768916&4294967295,D=k+(R<<15&4294967295|R>>>17),R=N+(k^(D|~I))+M[13]+1309151649&4294967295,N=D+(R<<21&4294967295|R>>>11),R=I+(D^(N|~k))+M[4]+4149444226&4294967295,I=N+(R<<6&4294967295|R>>>26),R=k+(N^(I|~D))+M[11]+3174756917&4294967295,k=I+(R<<10&4294967295|R>>>22),R=D+(I^(k|~N))+M[2]+718787259&4294967295,D=k+(R<<15&4294967295|R>>>17),R=N+(k^(D|~I))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+I&4294967295,C.g[1]=C.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+k&4294967295}r.prototype.v=function(C,I){I===void 0&&(I=C.length);const N=I-this.blockSize,M=this.C;let D=this.h,k=0;for(;k<I;){if(D==0)for(;k<=N;)o(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<I;)if(M[D++]=C.charCodeAt(k++),D==this.blockSize){o(this,M),D=0;break}}else for(;k<I;)if(M[D++]=C[k++],D==this.blockSize){o(this,M),D=0;break}}this.h=D,this.o+=I},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var I=1;I<C.length-8;++I)C[I]=0;I=this.o*8;for(var N=C.length-8;N<C.length;++N)C[N]=I&255,I/=256;for(this.v(C),C=Array(16),I=0,N=0;N<4;++N)for(let M=0;M<32;M+=8)C[I++]=this.g[N]>>>M&255;return C};function u(C,I){var N=m;return Object.prototype.hasOwnProperty.call(N,C)?N[C]:N[C]=I(C)}function f(C,I){this.h=I;const N=[];let M=!0;for(let D=C.length-1;D>=0;D--){const k=C[D]|0;M&&k==I||(N[D]=k,M=!1)}this.g=N}var m={};function y(C){return-128<=C&&C<128?u(C,function(I){return new f([I|0],I<0?-1:0)}):new f([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return ee(g(-C));const I=[];let N=1;for(let M=0;C>=N;M++)I[M]=C/N|0,N*=4294967296;return new f(I,0)}function b(C,I){if(C.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(C.charAt(0)=="-")return ee(b(C.substring(1),I));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=g(Math.pow(I,8));let M=S;for(let k=0;k<C.length;k+=8){var D=Math.min(8,C.length-k);const R=parseInt(C.substring(k,k+D),I);D<8?(D=g(Math.pow(I,D)),M=M.j(D).add(g(R))):(M=M.j(N),M=M.add(g(R)))}return M}var S=y(0),x=y(1),q=y(16777216);s=f.prototype,s.m=function(){if(W(this))return-ee(this).m();let C=0,I=1;for(let N=0;N<this.g.length;N++){const M=this.i(N);C+=(M>=0?M:4294967296+M)*I,I*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(X(this))return"0";if(W(this))return"-"+ee(this).toString(C);const I=g(Math.pow(C,6));var N=this;let M="";for(;;){const D=ze(N,I).g;N=oe(N,D.j(I));let k=((N.g.length>0?N.g[0]:N.h)>>>0).toString(C);if(N=D,X(N))return k+M;for(;k.length<6;)k="0"+k;M=k+M}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function X(C){if(C.h!=0)return!1;for(let I=0;I<C.g.length;I++)if(C.g[I]!=0)return!1;return!0}function W(C){return C.h==-1}s.l=function(C){return C=oe(this,C),W(C)?-1:X(C)?0:1};function ee(C){const I=C.g.length,N=[];for(let M=0;M<I;M++)N[M]=~C.g[M];return new f(N,~C.h).add(x)}s.abs=function(){return W(this)?ee(this):this},s.add=function(C){const I=Math.max(this.g.length,C.g.length),N=[];let M=0;for(let D=0;D<=I;D++){let k=M+(this.i(D)&65535)+(C.i(D)&65535),R=(k>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);M=R>>>16,k&=65535,R&=65535,N[D]=R<<16|k}return new f(N,N[N.length-1]&-2147483648?-1:0)};function oe(C,I){return C.add(ee(I))}s.j=function(C){if(X(this)||X(C))return S;if(W(this))return W(C)?ee(this).j(ee(C)):ee(ee(this).j(C));if(W(C))return ee(this.j(ee(C)));if(this.l(q)<0&&C.l(q)<0)return g(this.m()*C.m());const I=this.g.length+C.g.length,N=[];for(var M=0;M<2*I;M++)N[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<C.g.length;D++){const k=this.i(M)>>>16,R=this.i(M)&65535,Se=C.i(D)>>>16,Ne=C.i(D)&65535;N[2*M+2*D]+=R*Ne,pe(N,2*M+2*D),N[2*M+2*D+1]+=k*Ne,pe(N,2*M+2*D+1),N[2*M+2*D+1]+=R*Se,pe(N,2*M+2*D+1),N[2*M+2*D+2]+=k*Se,pe(N,2*M+2*D+2)}for(C=0;C<I;C++)N[C]=N[2*C+1]<<16|N[2*C];for(C=I;C<2*I;C++)N[C]=0;return new f(N,0)};function pe(C,I){for(;(C[I]&65535)!=C[I];)C[I+1]+=C[I]>>>16,C[I]&=65535,I++}function ye(C,I){this.g=C,this.h=I}function ze(C,I){if(X(I))throw Error("division by zero");if(X(C))return new ye(S,S);if(W(C))return I=ze(ee(C),I),new ye(ee(I.g),ee(I.h));if(W(I))return I=ze(C,ee(I)),new ye(ee(I.g),I.h);if(C.g.length>30){if(W(C)||W(I))throw Error("slowDivide_ only works with positive integers.");for(var N=x,M=I;M.l(C)<=0;)N=Ye(N),M=Ye(M);var D=be(N,1),k=be(M,1);for(M=be(M,2),N=be(N,2);!X(M);){var R=k.add(M);R.l(C)<=0&&(D=D.add(N),k=R),M=be(M,1),N=be(N,1)}return I=oe(C,D.j(I)),new ye(D,I)}for(D=S;C.l(I)>=0;){for(N=Math.max(1,Math.floor(C.m()/I.m())),M=Math.ceil(Math.log(N)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),k=g(N),R=k.j(I);W(R)||R.l(C)>0;)N-=M,k=g(N),R=k.j(I);X(k)&&(k=x),D=D.add(k),C=oe(C,R)}return new ye(D,C)}s.B=function(C){return ze(this,C).h},s.and=function(C){const I=Math.max(this.g.length,C.g.length),N=[];for(let M=0;M<I;M++)N[M]=this.i(M)&C.i(M);return new f(N,this.h&C.h)},s.or=function(C){const I=Math.max(this.g.length,C.g.length),N=[];for(let M=0;M<I;M++)N[M]=this.i(M)|C.i(M);return new f(N,this.h|C.h)},s.xor=function(C){const I=Math.max(this.g.length,C.g.length),N=[];for(let M=0;M<I;M++)N[M]=this.i(M)^C.i(M);return new f(N,this.h^C.h)};function Ye(C){const I=C.g.length+1,N=[];for(let M=0;M<I;M++)N[M]=C.i(M)<<1|C.i(M-1)>>>31;return new f(N,C.h)}function be(C,I){const N=I>>5;I%=32;const M=C.g.length-N,D=[];for(let k=0;k<M;k++)D[k]=I>0?C.i(k+N)>>>I|C.i(k+N+1)<<32-I:C.i(k+N);return new f(D,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,ob=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=b,sr=f}).apply(typeof ev<"u"?ev:typeof self<"u"?self:typeof window<"u"?window:{});var Qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var lb,jl,ub,Wc,Dm,cb,hb,fb;(function(){var s,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qc=="object"&&Qc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function o(c,p){if(p)e:{var v=r;c=c.split(".");for(var w=0;w<c.length-1;w++){var j=c[w];if(!(j in v))break e;v=v[j]}c=c[c.length-1],w=v[c],p=p(w),p!=w&&p!=null&&e(v,c,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(p){var v=[],w;for(w in p)Object.prototype.hasOwnProperty.call(p,w)&&v.push([w,p[w]]);return v}});var u=u||{},f=this||self;function m(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function y(c,p,v){return c.call.apply(c.bind,arguments)}function g(c,p,v){return g=y,g.apply(null,arguments)}function b(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function S(c,p){function v(){}v.prototype=p.prototype,c.Z=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(w,j,F){for(var ne=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)ne[Ie-2]=arguments[Ie];return p.prototype[j].apply(w,ne)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function q(c){const p=c.length;if(p>0){const v=Array(p);for(let w=0;w<p;w++)v[w]=c[w];return v}return[]}function X(c,p){for(let w=1;w<arguments.length;w++){const j=arguments[w];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=c.length||0;const F=j.length||0;c.length=v+F;for(let ne=0;ne<F;ne++)c[v+ne]=j[ne]}else c.push(j)}}class W{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function ee(c){f.setTimeout(()=>{throw c},0)}function oe(){var c=C;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class pe{constructor(){this.h=this.g=null}add(p,v){const w=ye.get();w.set(p,v),this.h?this.h.next=w:this.g=w,this.h=w}}var ye=new W(()=>new ze,c=>c.reset());class ze{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ye,be=!1,C=new pe,I=()=>{const c=Promise.resolve(void 0);Ye=()=>{c.then(N)}};function N(){for(var c;c=oe();){try{c.h.call(c.g)}catch(v){ee(v)}var p=ye;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}be=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,p),f.removeEventListener("test",v,p)}catch{}return c})();function R(c){return/^[\s\xa0]*$/.test(c)}function Se(c,p){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}S(Se,D),Se.prototype.init=function(c,p){const v=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Se.Z.h.call(this)},Se.prototype.h=function(){Se.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ne="closure_listenable_"+(Math.random()*1e6|0),H=0;function te(c,p,v,w,j){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!w,this.ha=j,this.key=++H,this.da=this.fa=!1}function ce(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function fe(c,p,v){for(const w in c)p.call(v,c[w],w,c)}function he(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function A(c){const p={};for(const v in c)p[v]=c[v];return p}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Z(c,p){let v,w;for(let j=1;j<arguments.length;j++){w=arguments[j];for(v in w)c[v]=w[v];for(let F=0;F<L.length;F++)v=L[F],Object.prototype.hasOwnProperty.call(w,v)&&(c[v]=w[v])}}function re(c){this.src=c,this.g={},this.h=0}re.prototype.add=function(c,p,v,w,j){const F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);const ne=me(c,p,w,j);return ne>-1?(p=c[ne],v||(p.fa=!1)):(p=new te(p,this.src,F,!!w,j),p.fa=v,c.push(p)),p};function se(c,p){const v=p.type;if(v in c.g){var w=c.g[v],j=Array.prototype.indexOf.call(w,p,void 0),F;(F=j>=0)&&Array.prototype.splice.call(w,j,1),F&&(ce(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function me(c,p,v,w){for(let j=0;j<c.length;++j){const F=c[j];if(!F.da&&F.listener==p&&F.capture==!!v&&F.ha==w)return j}return-1}var xe="closure_lm_"+(Math.random()*1e6|0),it={};function st(c,p,v,w,j){if(Array.isArray(p)){for(let F=0;F<p.length;F++)st(c,p[F],v,w,j);return null}return v=Oo(v),c&&c[Ne]?c.J(p,v,m(w)?!!w.capture:!1,j):Bi(c,p,v,!1,w,j)}function Bi(c,p,v,w,j,F){if(!p)throw Error("Invalid event type");const ne=m(j)?!!j.capture:!!j;let Ie=vr(c);if(Ie||(c[xe]=Ie=new re(c)),v=Ie.add(p,v,w,ne,F),v.proxy)return v;if(w=gs(),v.proxy=w,w.src=c,w.listener=v,c.addEventListener)k||(j=ne),j===void 0&&(j=!1),c.addEventListener(p.toString(),w,j);else if(c.attachEvent)c.attachEvent(ui(p.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function gs(){function c(v){return p.call(c.src,c.listener,v)}const p=No;return c}function ua(c,p,v,w,j){if(Array.isArray(p))for(var F=0;F<p.length;F++)ua(c,p[F],v,w,j);else w=m(w)?!!w.capture:!!w,v=Oo(v),c&&c[Ne]?(c=c.i,F=String(p).toString(),F in c.g&&(p=c.g[F],v=me(p,v,w,j),v>-1&&(ce(p[v]),Array.prototype.splice.call(p,v,1),p.length==0&&(delete c.g[F],c.h--)))):c&&(c=vr(c))&&(p=c.g[p.toString()],c=-1,p&&(c=me(p,v,w,j)),(v=c>-1?p[c]:null)&&ca(v))}function ca(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Ne])se(p.i,c);else{var v=c.type,w=c.proxy;p.removeEventListener?p.removeEventListener(v,w,c.capture):p.detachEvent?p.detachEvent(ui(v),w):p.addListener&&p.removeListener&&p.removeListener(w),(v=vr(p))?(se(v,c),v.h==0&&(v.src=null,p[xe]=null)):ce(c)}}}function ui(c){return c in it?it[c]:it[c]="on"+c}function No(c,p){if(c.da)c=!0;else{p=new Se(p,this);const v=c.listener,w=c.ha||c.src;c.fa&&ca(c),c=v.call(w,p)}return c}function vr(c){return c=c[xe],c instanceof re?c:null}var Do="__closure_events_fn_"+(Math.random()*1e9>>>0);function Oo(c){return typeof c=="function"?c:(c[Do]||(c[Do]=function(p){return c.handleEvent(p)}),c[Do])}function Tt(){M.call(this),this.i=new re(this),this.M=this,this.G=null}S(Tt,M),Tt.prototype[Ne]=!0,Tt.prototype.removeEventListener=function(c,p,v,w){ua(this,c,p,v,w)};function Ot(c,p){var v,w=c.G;if(w)for(v=[];w;w=w.G)v.push(w);if(c=c.M,w=p.type||p,typeof p=="string")p=new D(p,c);else if(p instanceof D)p.target=p.target||c;else{var j=p;p=new D(w,c),Z(p,j)}j=!0;let F,ne;if(v)for(ne=v.length-1;ne>=0;ne--)F=p.g=v[ne],j=ys(F,w,!0,p)&&j;if(F=p.g=c,j=ys(F,w,!0,p)&&j,j=ys(F,w,!1,p)&&j,v)for(ne=0;ne<v.length;ne++)F=p.g=v[ne],j=ys(F,w,!1,p)&&j}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const v=c.g[p];for(let w=0;w<v.length;w++)ce(v[w]);delete c.g[p],c.h--}}this.G=null},Tt.prototype.J=function(c,p,v,w){return this.i.add(String(c),p,!1,v,w)},Tt.prototype.K=function(c,p,v,w){return this.i.add(String(c),p,!0,v,w)};function ys(c,p,v,w){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let j=!0;for(let F=0;F<p.length;++F){const ne=p[F];if(ne&&!ne.da&&ne.capture==v){const Ie=ne.listener,gt=ne.ha||ne.src;ne.fa&&se(c.i,ne),j=Ie.call(gt,w)!==!1&&j}}return j&&!w.defaultPrevented}function af(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(c,p||0)}function gu(c){c.g=af(()=>{c.g=null,c.i&&(c.i=!1,gu(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class en extends M{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:gu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tr(c){M.call(this),this.h=c,this.g={}}S(Tr,M);var Vo=[];function Mo(c){fe(c.g,function(p,v){this.g.hasOwnProperty(v)&&ca(p)},c),c.g={}}Tr.prototype.N=function(){Tr.Z.N.call(this),Mo(this)},Tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _s=f.JSON.stringify,of=f.JSON.parse,yu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function _u(){}function vu(){}var Hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){D.call(this,"d")}S(zt,D);function Cn(){D.call(this,"c")}S(Cn,D);var pt={},Tu=null;function ha(){return Tu=Tu||new Tt}pt.Ia="serverreachability";function bu(c){D.call(this,pt.Ia,c)}S(bu,D);function ci(c){const p=ha();Ot(p,new bu(p))}pt.STAT_EVENT="statevent";function br(c,p){D.call(this,pt.STAT_EVENT,c),this.stat=p}S(br,D);function bt(c){const p=ha();Ot(p,new br(p,c))}pt.Ja="timingevent";function hi(c,p){D.call(this,pt.Ja,c),this.size=p}S(hi,D);function fi(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},p)}function Fn(){this.g=!0}Fn.prototype.ua=function(){this.g=!1};function lf(c,p,v,w,j,F){c.info(function(){if(c.g)if(F){var ne="",Ie=F.split("&");for(let Ge=0;Ge<Ie.length;Ge++){var gt=Ie[Ge].split("=");if(gt.length>1){const lt=gt[0];gt=gt[1];const Vn=lt.split("_");ne=Vn.length>=2&&Vn[1]=="type"?ne+(lt+"="+gt+"&"):ne+(lt+"=redacted&")}}}else ne=null;else ne=F;return"XMLHTTP REQ ("+w+") [attempt "+j+"]: "+p+`
`+v+`
`+ne})}function Eu(c,p,v,w,j,F,ne){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+j+"]: "+p+`
`+v+`
`+F+" "+ne})}function di(c,p,v,w){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+uf(c,v)+(w?" "+w:"")})}function Er(c,p){c.info(function(){return"TIMEOUT: "+p})}Fn.prototype.info=function(){};function uf(c,p){if(!c.g)return p;if(!p)return null;try{const F=JSON.parse(p);if(F){for(c=0;c<F.length;c++)if(Array.isArray(F[c])){var v=F[c];if(!(v.length<2)){var w=v[1];if(Array.isArray(w)&&!(w.length<1)){var j=w[0];if(j!="noop"&&j!="stop"&&j!="close")for(let ne=1;ne<w.length;ne++)w[ne]=""}}}}return _s(F)}catch{return p}}var wr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ko={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Uo;function Sr(){}S(Sr,_u),Sr.prototype.g=function(){return new XMLHttpRequest},Uo=new Sr;function qi(c){return encodeURIComponent(String(c))}function wu(c){var p=1;c=c.split(":");const v=[];for(;p>0&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function Gn(c,p,v,w){this.j=c,this.i=p,this.l=v,this.S=w||1,this.V=new Tr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qn}function Qn(){this.i=null,this.g="",this.h=!1}var Et={},kt={};function mi(c,p,v){c.M=1,c.A=Ar(St(p)),c.u=v,c.R=!0,fa(c,null)}function fa(c,p){c.F=Date.now(),pi(c),c.B=St(c.A);var v=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),ga(v.i,"t",w),c.C=0,v=c.j.L,c.h=new Qn,c.g=ju(c.j,v?p:null,!c.u),c.P>0&&(c.O=new en(g(c.Y,c,c.g),c.P)),p=c.V,v=c.g,w=c.ba;var j="readystatechange";Array.isArray(j)||(j&&(Vo[0]=j.toString()),j=Vo);for(let F=0;F<j.length;F++){const ne=st(v,j[F],w||p.handleEvent,!1,p.h||p);if(!ne)break;p.g[ne.key]=ne}p=c.J?A(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),ci(),lf(c.i,c.v,c.B,c.l,c.S,c.u)}Gn.prototype.ba=function(c){c=c.target;const p=this.O;p&&Xn(c)==3?p.j():this.Y(c)},Gn.prototype.Y=function(c){try{if(c==this.g)e:{const Ie=Xn(this.g),gt=this.g.ya(),Ge=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||Ie!=4||gt==7||(gt==8||Ge<=0?ci(3):ci(2)),gi(this);var p=this.g.ca();this.X=p;var v=cf(this);if(this.o=p==200,Eu(this.i,this.v,this.B,this.l,this.S,Ie,p),this.o){if(this.U&&!this.L){t:{if(this.g){var w,j=this.g;if((w=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(w)){var F=w;break t}}F=null}if(c=F)di(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,yi(this,c);else{this.o=!1,this.m=3,bt(12),pn(this),Nn(this);break e}}if(this.R){c=!0;let lt;for(;!this.K&&this.C<v.length;)if(lt=Au(this,v),lt==kt){Ie==4&&(this.m=4,bt(14),c=!1),di(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==Et){this.m=4,bt(15),di(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else di(this.i,this.l,lt,null),yi(this,lt);if(Su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||v.length!=0||this.h.h||(this.m=1,bt(16),c=!1),this.o=this.o&&c,!c)di(this.i,this.l,v,"[Invalid Chunked Response]"),pn(this),Nn(this);else if(v.length>0&&!this.W){this.W=!0;var ne=this.j;ne.g==this&&ne.aa&&!ne.P&&(ne.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Jo(ne),ne.P=!0,bt(11))}}else di(this.i,this.l,v,null),yi(this,v);Ie==4&&pn(this),this.o&&!this.K&&(Ie==4?Mu(this.j,this):(this.o=!1,pi(this)))}else Fi(this.g),p==400&&v.indexOf("Unknown SID")>0?(this.m=3,bt(12)):(this.m=0,bt(13)),pn(this),Nn(this)}}}catch{}};function cf(c){if(!Su(c))return c.g.la();const p=Bt(c.g);if(p==="")return"";let v="";const w=p.length,j=Xn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return pn(c),Nn(c),"";c.h.i=new f.TextDecoder}for(let F=0;F<w;F++)c.h.h=!0,v+=c.h.i.decode(p[F],{stream:!(j&&F==w-1)});return p.length=0,c.h.g+=v,c.C=0,c.h.g}function Su(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Au(c,p){var v=c.C,w=p.indexOf(`
`,v);return w==-1?kt:(v=Number(p.substring(v,w)),isNaN(v)?Et:(w+=1,w+v>p.length?kt:(p=p.slice(w,w+v),c.C=w+v,p)))}Gn.prototype.cancel=function(){this.K=!0,pn(this)};function pi(c){c.T=Date.now()+c.H,da(c,c.H)}function da(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=fi(g(c.aa,c),p)}function gi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Gn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Er(this.i,this.B),this.M!=2&&(ci(),bt(17)),pn(this),this.m=2,Nn(this)):da(this,this.T-c)};function Nn(c){c.j.I==0||c.K||Mu(c.j,c)}function pn(c){gi(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,Mo(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function yi(c,p){try{var v=c.j;if(v.I!=0&&(v.g==c||vi(v.h,c))){if(!c.L&&vi(v.h,c)&&v.I==3){try{var w=v.Ba.g.parse(p)}catch{w=null}if(Array.isArray(w)&&w.length==3){var j=w;if(j[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)ba(v),xs(v);else break e;Or(v),bt(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=fi(g(v.Va,v),6e3));_i(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ai(v,11)}else if((c.L||v.g==c)&&ba(v),!R(p))for(j=v.Ba.g.parse(p),p=0;p<j.length;p++){let Ge=j[p];const lt=Ge[0];if(!(lt<=v.K))if(v.K=lt,Ge=Ge[1],v.I==2)if(Ge[0]=="c"){v.M=Ge[1],v.ba=Ge[2];const Vn=Ge[3];Vn!=null&&(v.ka=Vn,v.j.info("VER="+v.ka));const xi=Ge[4];xi!=null&&(v.za=xi,v.j.info("SVER="+v.za));const $n=Ge[5];$n!=null&&typeof $n=="number"&&$n>0&&(w=1.5*$n,v.O=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const Jn=c.g;if(Jn){const Vr=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vr){var F=w.h;F.g||Vr.indexOf("spdy")==-1&&Vr.indexOf("quic")==-1&&Vr.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Po(F,F.h),F.h=null))}if(w.G){const Ea=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ea&&(w.wa=Ea,Ke(w.J,w.G,Ea))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),w=v;var ne=c;if(w.na=Lu(w,w.L?w.ba:null,w.W),ne.L){zo(w.h,ne);var Ie=ne,gt=w.O;gt&&(Ie.H=gt),Ie.D&&(gi(Ie),pi(Ie)),w.g=ne}else Ou(w);v.i.length>0&&Si(v)}else Ge[0]!="stop"&&Ge[0]!="close"||Ai(v,7);else v.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Ai(v,7):Xo(v):Ge[0]!="noop"&&v.l&&v.l.qa(Ge),v.A=0)}}ci(4)}catch{}}var wt=class{constructor(c,p){this.g=c,this.map=p}};function Lo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function jo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function _i(c){return c.h?1:c.g?c.g.size:0}function vi(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Po(c,p){c.g?c.g.add(p):c.h=p}function zo(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Lo.prototype.cancel=function(){if(this.i=Bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Bo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.G);return p}return q(c.i)}var xu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ma(c,p){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const w=c[v].indexOf("=");let j,F=null;w>=0?(j=c[v].substring(0,w),F=c[v].substring(w+1)):j=c[v],p(j,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function gn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof gn?(this.l=c.l,Ut(this,c.j),this.o=c.o,this.g=c.g,vs(this,c.u),this.h=c.h,qo(this,Nu(c.i)),this.m=c.m):c&&(p=String(c).match(xu))?(this.l=!1,Ut(this,p[1]||"",!0),this.o=Ti(p[2]||""),this.g=Ti(p[3]||"",!0),vs(this,p[4]),this.h=Ti(p[5]||"",!0),qo(this,p[6]||"",!0),this.m=Ti(p[7]||"")):(this.l=!1,this.i=new bs(null,this.l))}gn.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(xr(p,pa,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(xr(p,pa,!0),"@"),c.push(qi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(xr(v,v.charAt(0)=="/"?Ho:Ru,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",xr(v,Iu)),c.join("")},gn.prototype.resolve=function(c){const p=St(this);let v=!!c.j;v?Ut(p,c.j):v=!!c.o,v?p.o=c.o:v=!!c.g,v?p.g=c.g:v=c.u!=null;var w=c.h;if(v)vs(p,c.u);else if(v=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var j=p.h.lastIndexOf("/");j!=-1&&(w=p.h.slice(0,j+1)+w)}if(j=w,j==".."||j==".")w="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){w=j.lastIndexOf("/",0)==0,j=j.split("/");const F=[];for(let ne=0;ne<j.length;){const Ie=j[ne++];Ie=="."?w&&ne==j.length&&F.push(""):Ie==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),w&&ne==j.length&&F.push("")):(F.push(Ie),w=!0)}w=F.join("/")}else w=j}return v?p.h=w:v=c.i.toString()!=="",v?qo(p,Nu(c.i)):v=!!c.m,v&&(p.m=c.m),p};function St(c){return new gn(c)}function Ut(c,p,v){c.j=v?Ti(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function vs(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function qo(c,p,v){p instanceof bs?(c.i=p,ya(c.i,c.l)):(v||(p=xr(p,Ts)),c.i=new bs(p,c.l))}function Ke(c,p,v){c.i.set(p,v)}function Ar(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ti(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function xr(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,on),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function on(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var pa=/[#\/\?@]/g,Ru=/[#\?:]/g,Ho=/[#\?]/g,Ts=/[#\?@]/g,Iu=/#/g;function bs(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function ln(c){c.g||(c.g=new Map,c.h=0,c.i&&ma(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}s=bs.prototype,s.add=function(c,p){ln(this),this.i=null,c=Es(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function Cu(c,p){ln(c),p=Es(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Fo(c,p){return ln(c),p=Es(c,p),c.g.has(p)}s.forEach=function(c,p){ln(this),this.g.forEach(function(v,w){v.forEach(function(j){c.call(p,j,w,this)},this)},this)};function Go(c,p){ln(c);let v=[];if(typeof p=="string")Fo(c,p)&&(v=v.concat(c.g.get(Es(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)v=v.concat(c[p]);return v}s.set=function(c,p){return ln(this),this.i=null,c=Es(this,c),Fo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},s.get=function(c,p){return c?(c=Go(this,c),c.length>0?String(c[0]):p):p};function ga(c,p,v){Cu(c,p),v.length>0&&(c.i=null,c.g.set(Es(c,p),q(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let w=0;w<p.length;w++){var v=p[w];const j=qi(v);v=Go(this,v);for(let F=0;F<v.length;F++){let ne=j;v[F]!==""&&(ne+="="+qi(v[F])),c.push(ne)}}return this.i=c.join("&")};function Nu(c){const p=new bs;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function Es(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function ya(c,p){p&&!c.j&&(ln(c),c.i=null,c.g.forEach(function(v,w){const j=w.toLowerCase();w!=j&&(Cu(this,w),ga(this,j,v))},c)),c.j=p}function Yn(c,p){const v=new Fn;if(f.Image){const w=new Image;w.onload=b(Dn,v,"TestLoadImage: loaded",!0,p,w),w.onerror=b(Dn,v,"TestLoadImage: error",!1,p,w),w.onabort=b(Dn,v,"TestLoadImage: abort",!1,p,w),w.ontimeout=b(Dn,v,"TestLoadImage: timeout",!1,p,w),f.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else p(!1)}function Qo(c,p){const v=new Fn,w=new AbortController,j=setTimeout(()=>{w.abort(),Dn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:w.signal}).then(F=>{clearTimeout(j),F.ok?Dn(v,"TestPingServer: ok",!0,p):Dn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(j),Dn(v,"TestPingServer: error",!1,p)})}function Dn(c,p,v,w,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),w(v)}catch{}}function ws(){this.g=new yu}function bi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(bi,_u),bi.prototype.g=function(){return new Rr(this.i,this.h)};function Rr(c,p){Tt.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Rr,Tt),s=Rr.prototype,s.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,Kn(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ss(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_a(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function _a(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Ss(this):Kn(this),this.readyState==3&&_a(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,Ss(this))},s.Na=function(c){this.g&&(this.response=c,Ss(this))},s.ga=function(){this.g&&Ss(this)};function Ss(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Kn(c)}s.setRequestHeader=function(c,p){this.A.append(c,p)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function Kn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Rr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function On(c){let p="";return fe(c,function(v,w){p+=w,p+=":",p+=v,p+=`\r
`}),p}function Ir(c,p,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=On(v),typeof c=="string"?v!=null&&qi(v):Ke(c,p,v))}function Je(c){Tt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Je,Tt);var Ei=/^https?$/i,Yo=["POST","PUT"];s=Je.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,p,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Uo.g(),this.g.onreadystatechange=x(g(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(F){Cr(this,F);return}if(c=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var j in w)v.set(j,w[j]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const F of w.keys())v.set(F,w.get(F));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(F=>F.toLowerCase()=="content-type"),j=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Yo,p,void 0)>=0)||w||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,ne]of v)this.g.setRequestHeader(F,ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(F){Cr(this,F)}};function Cr(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,Ko(c),Hi(c)}function Ko(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ot(this,"complete"),Ot(this,"abort"),Hi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hi(this,!0)),Je.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Nr(this):this.Xa())},s.Xa=function(){Nr(this)};function Nr(c){if(c.h&&typeof u<"u"){if(c.v&&Xn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ot(c,"readystatechange"),Xn(c)==4){c.h=!1;try{const F=c.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var w;if(w=F===0){let ne=String(c.D).match(xu)[1]||null;!ne&&f.self&&f.self.location&&(ne=f.self.location.protocol.slice(0,-1)),w=!Ei.test(ne?ne.toLowerCase():"")}v=w}if(v)Ot(c,"complete"),Ot(c,"success");else{c.o=6;try{var j=Xn(c)>2?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.ca()+"]",Ko(c)}}finally{Hi(c)}}}}function Hi(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,p||Ot(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Xn(c){return c.g?c.g.readyState:0}s.ca=function(){try{return Xn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),of(p)}};function Bt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Fi(c){const p={};c=(c.g&&Xn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(R(c[w]))continue;var v=wu(c[w]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const F=p[j]||[];p[j]=F,F.push(v)}he(p,function(w){return w.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function wi(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function As(c){this.za=0,this.i=[],this.j=new Fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=wi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=wi("baseRetryDelayMs",5e3,c),this.Za=wi("retryDelaySeedMs",1e4,c),this.Ta=wi("forwardChannelMaxRetries",2,c),this.va=wi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Lo(c&&c.concurrentRequestLimit),this.Ba=new ws,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=As.prototype,s.ka=8,s.I=1,s.connect=function(c,p,v,w){bt(0),this.W=c,this.H=p||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.J=Lu(this,null,this.W),Si(this)};function Xo(c){if(va(c),c.I==3){var p=c.V++,v=St(c.J);if(Ke(v,"SID",c.M),Ke(v,"RID",p),Ke(v,"TYPE","terminate"),Dr(c,v),p=new Gn(c,c.j,p),p.M=2,p.A=Ar(St(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=p.A,v=!0),v||(p.g=ju(p.j,null),p.g.ea(p.A)),p.F=Date.now(),pi(p)}Uu(c)}function xs(c){c.g&&(Jo(c),c.g.cancel(),c.g=null)}function va(c){xs(c),c.v&&(f.clearTimeout(c.v),c.v=null),ba(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Si(c){if(!jo(c.h)&&!c.m){c.m=!0;var p=c.Ea;Ye||I(),be||(Ye(),be=!0),C.add(p,c),c.D=0}}function Ta(c,p){return _i(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=fi(g(c.Ea,c,p),ku(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const j=new Gn(this,this.j,c);let F=this.o;if(this.U&&(F?(F=A(F),Z(F,this.U)):F=this.U),this.u!==null||this.R||(j.J=F,F=null),this.S)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(p+=w,p>4096){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=Du(this,j,p),v=St(this.J),Ke(v,"RID",c),Ke(v,"CVER",22),this.G&&Ke(v,"X-HTTP-Session-Id",this.G),Dr(this,v),F&&(this.R?p="headers="+qi(On(F))+"&"+p:this.u&&Ir(v,this.u,F)),Po(this.h,j),this.Ra&&Ke(v,"TYPE","init"),this.S?(Ke(v,"$req",p),Ke(v,"SID","null"),j.U=!0,mi(j,v,null)):mi(j,v,p),this.I=2}}else this.I==3&&(c?$o(this,c):this.i.length==0||jo(this.h)||$o(this))};function $o(c,p){var v;p?v=p.l:v=c.V++;const w=St(c.J);Ke(w,"SID",c.M),Ke(w,"RID",v),Ke(w,"AID",c.K),Dr(c,w),c.u&&c.o&&Ir(w,c.u,c.o),v=new Gn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),p&&(c.i=p.G.concat(c.i)),p=Du(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Po(c.h,v),mi(v,w,p)}function Dr(c,p){c.H&&fe(c.H,function(v,w){Ke(p,w,v)}),c.l&&fe({},function(v,w){Ke(p,w,v)})}function Du(c,p,v){v=Math.min(c.i.length,v);const w=c.l?g(c.l.Ka,c.l,c):null;e:{var j=c.i;let Ie=-1;for(;;){const gt=["count="+v];Ie==-1?v>0?(Ie=j[0].g,gt.push("ofs="+Ie)):Ie=0:gt.push("ofs="+Ie);let Ge=!0;for(let lt=0;lt<v;lt++){var F=j[lt].g;const Vn=j[lt].map;if(F-=Ie,F<0)Ie=Math.max(0,j[lt].g-100),Ge=!1;else try{F="req"+F+"_"||"";try{var ne=Vn instanceof Map?Vn:Object.entries(Vn);for(const[xi,$n]of ne){let Jn=$n;m($n)&&(Jn=_s($n)),gt.push(F+xi+"="+encodeURIComponent(Jn))}}catch(xi){throw gt.push(F+"type="+encodeURIComponent("_badmap")),xi}}catch{w&&w(Vn)}}if(Ge){ne=gt.join("&");break e}}ne=void 0}return c=c.i.splice(0,v),p.G=c,ne}function Ou(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;Ye||I(),be||(Ye(),be=!0),C.add(p,c),c.A=0}}function Or(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=fi(g(c.Da,c),ku(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,Vu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=fi(g(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,bt(10),xs(this),Vu(this))};function Jo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Vu(c){c.g=new Gn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=St(c.na);Ke(p,"RID","rpc"),Ke(p,"SID",c.M),Ke(p,"AID",c.K),Ke(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(p,"TO",c.ia),Ke(p,"TYPE","xmlhttp"),Dr(c,p),c.u&&c.o&&Ir(p,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Ar(St(p)),v.u=null,v.R=!0,fa(v,c)}s.Va=function(){this.C!=null&&(this.C=null,xs(this),Or(this),bt(19))};function ba(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Mu(c,p){var v=null;if(c.g==p){ba(c),Jo(c),c.g=null;var w=2}else if(vi(c.h,p))v=p.G,zo(c.h,p),w=1;else return;if(c.I!=0){if(p.o)if(w==1){v=p.u?p.u.length:0,p=Date.now()-p.F;var j=c.D;w=ha(),Ot(w,new hi(w,v)),Si(c)}else Ou(c);else if(j=p.m,j==3||j==0&&p.X>0||!(w==1&&Ta(c,p)||w==2&&Or(c)))switch(v&&v.length>0&&(p=c.h,p.i=p.i.concat(v)),j){case 1:Ai(c,5);break;case 4:Ai(c,10);break;case 3:Ai(c,6);break;default:Ai(c,2)}}}function ku(c,p){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*p}function Ai(c,p){if(c.j.info("Error code "+p),p==2){var v=g(c.bb,c),w=c.Ua;const j=!w;w=new gn(w||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ut(w,"https"),Ar(w),j?Yn(w.toString(),v):Qo(w.toString(),v)}else bt(2);c.I=0,c.l&&c.l.pa(p),Uu(c),va(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function Uu(c){if(c.I=0,c.ja=[],c.l){const p=Bo(c.h);(p.length!=0||c.i.length!=0)&&(X(c.ja,p),X(c.ja,c.i),c.h.i.length=0,q(c.i),c.i.length=0),c.l.oa()}}function Lu(c,p,v){var w=v instanceof gn?St(v):new gn(v);if(w.g!="")p&&(w.g=p+"."+w.g),vs(w,w.u);else{var j=f.location;w=j.protocol,p=p?p+"."+j.hostname:j.hostname,j=+j.port;const F=new gn(null);w&&Ut(F,w),p&&(F.g=p),j&&vs(F,j),v&&(F.h=v),w=F}return v=c.G,p=c.wa,v&&p&&Ke(w,v,p),Ke(w,"VER",c.ka),Dr(c,w),w}function ju(c,p,v){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new Je(new bi({ab:v})):new Je(c.ma),p.Fa(c.L),p}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pu(){}s=Pu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Rs(){}Rs.prototype.g=function(c,p){return new tn(c,p)};function tn(c,p){Tt.call(this),this.g=new As(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!R(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!R(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Gi(this)}S(tn,Tt),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Xo(this.g)},tn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=_s(c),c=v);p.i.push(new wt(p.Ya++,c)),p.I==3&&Si(p)},tn.prototype.N=function(){this.g.l=null,delete this.j,Xo(this.g),delete this.g,tn.Z.N.call(this)};function zu(c){zt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const v in p){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}S(zu,zt);function Bu(){Cn.call(this),this.status=1}S(Bu,Cn);function Gi(c){this.g=c}S(Gi,Pu),Gi.prototype.ra=function(){Ot(this.g,"a")},Gi.prototype.qa=function(c){Ot(this.g,new zu(c))},Gi.prototype.pa=function(c){Ot(this.g,new Bu)},Gi.prototype.oa=function(){Ot(this.g,"b")},Rs.prototype.createWebChannel=Rs.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,fb=function(){return new Rs},hb=function(){return ha()},cb=pt,Dm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},wr.NO_ERROR=0,wr.TIMEOUT=8,wr.HTTP_ERROR=6,Wc=wr,ko.COMPLETE="complete",ub=ko,vu.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,jl=vu,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,lb=Je}).apply(typeof Qc<"u"?Qc:typeof self<"u"?self:typeof window<"u"?window:{});class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");let wo="12.8.0";function MR(s){wo=s}const ta=new Mh("@firebase/firestore");function Za(){return ta.logLevel}function le(s,...e){if(ta.logLevel<=Ue.DEBUG){const n=e.map(rp);ta.debug(`Firestore (${wo}): ${s}`,...n)}}function hs(s,...e){if(ta.logLevel<=Ue.ERROR){const n=e.map(rp);ta.error(`Firestore (${wo}): ${s}`,...n)}}function ho(s,...e){if(ta.logLevel<=Ue.WARN){const n=e.map(rp);ta.warn(`Firestore (${wo}): ${s}`,...n)}}function rp(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function ve(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,db(s,r,n)}function db(s,e,n){let r=`FIRESTORE (${wo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw hs(r),new Error(r)}function qe(s,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||db(e,o,r)}function Ae(s,e){return s}const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends li{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class mb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Zt.UNAUTHENTICATED)))}shutdown(){}}class UR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class LR{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){qe(this.o===void 0,42304);let r=this.i;const o=y=>this.i!==r?(r=this.i,n(y)):Promise.resolve();let u=new Vi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Vi,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const y=u;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},m=y=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((y=>m(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Vi)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qe(typeof r.accessToken=="string",31837,{l:r}),new mb(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class jR{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class PR{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new jR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class tv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ni(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){qe(this.o===void 0,3512);const r=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new tv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new tv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function BR(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class ap{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=BR(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=e.charAt(o[u]%62))}return r}}function Le(s,e){return s<e?-1:s>e?1:0}function Om(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const o=s.charAt(r),u=e.charAt(r);if(o!==u)return _m(o)===_m(u)?Le(o,u):_m(o)?1:-1}return Le(s.length,e.length)}const qR=55296,HR=57343;function _m(s){const e=s.charCodeAt(0);return e>=qR&&e<=HR}function fo(s,e,n){return s.length===e.length&&s.every(((r,o)=>n(r,e[o])))}const nv="__name__";class Oi{constructor(e,n,r){n===void 0?n=0:n>e.length&&ve(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ve(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Oi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Oi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const u=Oi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Le(e.length,n.length)}static compareSegments(e,n){const r=Oi.isNumericId(e),o=Oi.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Oi.extractNumericId(e).compare(Oi.extractNumericId(n)):Om(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return sr.fromString(e.substring(4,e.length-2))}}class tt extends Oi{construct(e,n,r){return new tt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ie(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new tt(n)}static emptyPath(){return new tt([])}}const FR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Oi{construct(e,n,r){return new Yt(e,n,r)}static isValidIdentifier(e){return FR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nv}static keyField(){return new Yt([nv])}static fromServerFormat(e){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new ie(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ie(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ie(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(r+=m,o++):(u(),o++)}if(u(),f)throw new ie(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(tt.fromString(e))}static fromName(e){return new ge(tt.fromString(e).popFirst(5))}static empty(){return new ge(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new tt(e.slice()))}}function pb(s,e,n){if(!n)throw new ie(Y.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function GR(s,e,n,r){if(e===!0&&r===!0)throw new ie(Y.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function iv(s){if(!ge.isDocumentKey(s))throw new ie(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function sv(s){if(ge.isDocumentKey(s))throw new ie(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function gb(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Lh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ve(12329,{type:typeof s})}function Rn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ie(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lh(s);throw new ie(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function Dt(s,e){const n={typeString:s};return e&&(n.value=e),n}function au(s,e){if(!gb(s))throw new ie(Y.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const f=s[r];if(o&&typeof f!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new ie(Y.INVALID_ARGUMENT,n);return!0}const rv=-62135596800,av=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*av);return new ot(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ie(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<rv)throw new ie(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/av}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(au(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-rv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:Dt("string",ot._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new ot(0,0))}static max(){return new Ee(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const $l=-1;function QR(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=Ee.fromTimestamp(r===1e9?new ot(n+1,0):new ot(n,r));return new lr(o,ge.empty(),e)}function YR(s){return new lr(s.readTime,s.key,$l)}class lr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new lr(Ee.min(),ge.empty(),$l)}static max(){return new lr(Ee.max(),ge.empty(),$l)}}function KR(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(s.documentKey,e.documentKey),n!==0?n:Le(s.largestBatchId,e.largestBatchId))}const XR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $R{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function So(s){if(s.code!==Y.FAILED_PRECONDITION||s.message!==XR)throw s;le("LocalStore","Unexpectedly lost primary lease")}class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):J.reject(n)}static resolve(e){return new J(((n,r)=>{n(e)}))}static reject(e){return new J(((n,r)=>{r(e)}))}static waitFor(e){return new J(((n,r)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(y=>r(y)))})),f=!0,u===o&&n()}))}static or(e){let n=J.resolve(!1);for(const r of e)n=n.next((o=>o?J.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(e,n){return new J(((r,o)=>{const u=e.length,f=new Array(u);let m=0;for(let y=0;y<u;y++){const g=y;n(e[g]).next((b=>{f[g]=b,++m,m===u&&r(f)}),(b=>o(b)))}}))}static doWhile(e,n){return new J(((r,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):r()};u()}))}}function JR(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ao(s){return s.name==="IndexedDbTransactionError"}class jh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}jh.ce=-1;const op=-1;function ou(s){return s==null}function dh(s){return s===0&&1/s==-1/0}function ZR(s){return typeof s=="number"&&Number.isInteger(s)&&!dh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const yb="";function WR(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=ov(e)),e=eI(s.get(n),e);return ov(e)}function eI(s,e){let n=e;const r=s.length;for(let o=0;o<r;o++){const u=s.charAt(o);switch(u){case"\0":n+="";break;case yb:n+="";break;default:n+=u}}return n}function ov(s){return s+yb+""}function lv(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function gr(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function _b(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class ft{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yc(this.root,e,this.comparator,!0)}}class Yc{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,r,o,u){this.key=e,this.value=n,this.color=r??Qt.RED,this.left=o??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,u){return new Qt(e??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,n,r,o,u){return this}insert(e,n,r){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new uv(this.data.getIterator())}getIteratorFrom(e){return new uv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class uv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class An{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new An([])}unionWith(e){let n=new Mt(Yt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new An(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fo(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class vb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new vb("Invalid base64 string: "+u):u}})(e);return new Xt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const tI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ur(s){if(qe(!!s,39018),typeof s=="string"){let e=0;const n=tI.exec(s);if(qe(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vt(s.seconds),nanos:vt(s.nanos)}}function vt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function cr(s){return typeof s=="string"?Xt.fromBase64String(s):Xt.fromUint8Array(s)}const Tb="server_timestamp",bb="__type__",Eb="__previous_value__",wb="__local_write_time__";function lp(s){return(s?.mapValue?.fields||{})[bb]?.stringValue===Tb}function Ph(s){const e=s.mapValue.fields[Eb];return lp(e)?Ph(e):e}function Jl(s){const e=ur(s.mapValue.fields[wb].timestampValue);return new ot(e.seconds,e.nanos)}class nI{constructor(e,n,r,o,u,f,m,y,g,b,S){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=g,this.isUsingEmulator=b,this.apiKey=S}}const mh="(default)";class Zl{constructor(e,n){this.projectId=e,this.database=n||mh}static empty(){return new Zl("","")}get isDefaultDatabase(){return this.database===mh}isEqual(e){return e instanceof Zl&&e.projectId===this.projectId&&e.database===this.database}}function iI(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ie(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(s.options.projectId,e)}const Sb="__type__",sI="__max__",Kc={mapValue:{}},Ab="__vector__",ph="value";function hr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?lp(s)?4:aI(s)?9007199254740991:rI(s)?10:11:ve(28295,{value:s})}function Pi(s,e){if(s===e)return!0;const n=hr(s);if(n!==hr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Jl(s).isEqual(Jl(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ur(o.timestampValue),m=ur(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,u){return cr(o.bytesValue).isEqual(cr(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,u){return vt(o.geoPointValue.latitude)===vt(u.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(u.geoPointValue.longitude)})(s,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return vt(o.integerValue)===vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=vt(o.doubleValue),m=vt(u.doubleValue);return f===m?dh(f)===dh(m):isNaN(f)&&isNaN(m)}return!1})(s,e);case 9:return fo(s.arrayValue.values||[],e.arrayValue.values||[],Pi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(lv(f)!==lv(m))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(m[y]===void 0||!Pi(f[y],m[y])))return!1;return!0})(s,e);default:return ve(52216,{left:s})}}function Wl(s,e){return(s.values||[]).find((n=>Pi(n,e)))!==void 0}function mo(s,e){if(s===e)return 0;const n=hr(s),r=hr(e);if(n!==r)return Le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(s.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=vt(u.integerValue||u.doubleValue),y=vt(f.integerValue||f.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1})(s,e);case 3:return cv(s.timestampValue,e.timestampValue);case 4:return cv(Jl(s),Jl(e));case 5:return Om(s.stringValue,e.stringValue);case 6:return(function(u,f){const m=cr(u),y=cr(f);return m.compareTo(y)})(s.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),y=f.split("/");for(let g=0;g<m.length&&g<y.length;g++){const b=Le(m[g],y[g]);if(b!==0)return b}return Le(m.length,y.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Le(vt(u.latitude),vt(f.latitude));return m!==0?m:Le(vt(u.longitude),vt(f.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return hv(s.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},y=f.fields||{},g=m[ph]?.arrayValue,b=y[ph]?.arrayValue,S=Le(g?.values?.length||0,b?.values?.length||0);return S!==0?S:hv(g,b)})(s.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Kc.mapValue&&f===Kc.mapValue)return 0;if(u===Kc.mapValue)return 1;if(f===Kc.mapValue)return-1;const m=u.fields||{},y=Object.keys(m),g=f.fields||{},b=Object.keys(g);y.sort(),b.sort();for(let S=0;S<y.length&&S<b.length;++S){const x=Om(y[S],b[S]);if(x!==0)return x;const q=mo(m[y[S]],g[b[S]]);if(q!==0)return q}return Le(y.length,b.length)})(s.mapValue,e.mapValue);default:throw ve(23264,{he:n})}}function cv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Le(s,e);const n=ur(s),r=ur(e),o=Le(n.seconds,r.seconds);return o!==0?o:Le(n.nanos,r.nanos)}function hv(s,e){const n=s.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=mo(n[o],r[o]);if(u)return u}return Le(n.length,r.length)}function po(s){return Vm(s)}function Vm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=ur(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return cr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return ge.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=Vm(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of r)u?u=!1:o+=",",o+=`${f}:${Vm(n.fields[f])}`;return o+"}"})(s.mapValue):ve(61005,{value:s})}function eh(s){switch(hr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ph(s);return e?16+eh(e):16;case 5:return 2*s.stringValue.length;case 6:return cr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+eh(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return gr(r.fields,((u,f)=>{o+=u.length+eh(f)})),o})(s.mapValue);default:throw ve(13486,{value:s})}}function fv(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Mm(s){return!!s&&"integerValue"in s}function up(s){return!!s&&"arrayValue"in s}function dv(s){return!!s&&"nullValue"in s}function mv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function th(s){return!!s&&"mapValue"in s}function rI(s){return(s?.mapValue?.fields||{})[Sb]?.stringValue===Ab}function Hl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return gr(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Hl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Hl(s.arrayValue.values[n]);return e}return{...s}}function aI(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===sI}class sn{constructor(e){this.value=e}static empty(){return new sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!th(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hl(n)}setAll(e){let n=Yt.emptyPath(),r={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,r,o),r={},o=[],n=m.popLast()}f?r[m.lastSegment()]=Hl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(e){const n=this.field(e.popLast());th(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Pi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];th(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){gr(n,((o,u)=>e[o]=u));for(const o of r)delete e[o]}clone(){return new sn(Hl(this.value))}}function xb(s){const e=[];return gr(s.fields,((n,r)=>{const o=new Yt([n]);if(th(r)){const u=xb(r.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new An(e)}class Pt{constructor(e,n,r,o,u,f,m){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Pt(e,0,Ee.min(),Ee.min(),Ee.min(),sn.empty(),0)}static newFoundDocument(e,n,r,o){return new Pt(e,1,n,Ee.min(),r,o,0)}static newNoDocument(e,n){return new Pt(e,2,n,Ee.min(),Ee.min(),sn.empty(),0)}static newUnknownDocument(e,n){return new Pt(e,3,n,Ee.min(),Ee.min(),sn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class gh{constructor(e,n){this.position=e,this.inclusive=n}}function pv(s,e,n){let r=0;for(let o=0;o<s.position.length;o++){const u=e[o],f=s.position[o];if(u.field.isKeyField()?r=ge.comparator(ge.fromName(f.referenceValue),n.key):r=mo(f,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function gv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Pi(s.position[n],e.position[n]))return!1;return!0}class eu{constructor(e,n="asc"){this.field=e,this.dir=n}}function oI(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class Rb{}class Nt extends Rb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new uI(e,n,r):n==="array-contains"?new fI(e,r):n==="in"?new dI(e,r):n==="not-in"?new mI(e,r):n==="array-contains-any"?new pI(e,r):new Nt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new cI(e,r):new hI(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(mo(n,this.value)):n!==null&&hr(this.value)===hr(n)&&this.matchesComparison(mo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class oi extends Rb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new oi(e,n)}matches(e){return Ib(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ib(s){return s.op==="and"}function Cb(s){return lI(s)&&Ib(s)}function lI(s){for(const e of s.filters)if(e instanceof oi)return!1;return!0}function km(s){if(s instanceof Nt)return s.field.canonicalString()+s.op.toString()+po(s.value);if(Cb(s))return s.filters.map((e=>km(e))).join(",");{const e=s.filters.map((n=>km(n))).join(",");return`${s.op}(${e})`}}function Nb(s,e){return s instanceof Nt?(function(r,o){return o instanceof Nt&&r.op===o.op&&r.field.isEqual(o.field)&&Pi(r.value,o.value)})(s,e):s instanceof oi?(function(r,o){return o instanceof oi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,f,m)=>u&&Nb(f,o.filters[m])),!0):!1})(s,e):void ve(19439)}function Db(s){return s instanceof Nt?(function(n){return`${n.field.canonicalString()} ${n.op} ${po(n.value)}`})(s):s instanceof oi?(function(n){return n.op.toString()+" {"+n.getFilters().map(Db).join(" ,")+"}"})(s):"Filter"}class uI extends Nt{constructor(e,n,r){super(e,n,r),this.key=ge.fromName(r.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class cI extends Nt{constructor(e,n){super(e,"in",n),this.keys=Ob("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class hI extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=Ob("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Ob(s,e){return(e.arrayValue?.values||[]).map((n=>ge.fromName(n.referenceValue)))}class fI extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return up(n)&&Wl(n.arrayValue,this.value)}}class dI extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wl(this.value.arrayValue,n)}}class mI extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Wl(this.value.arrayValue,n)}}class pI extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!up(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Wl(this.value.arrayValue,r)))}}class gI{constructor(e,n=null,r=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function yv(s,e=null,n=[],r=[],o=null,u=null,f=null){return new gI(s,e,n,r,o,u,f)}function cp(s){const e=Ae(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>km(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),ou(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>po(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>po(r))).join(",")),e.Te=n}return e.Te}function hp(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!oI(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!Nb(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!gv(s.startAt,e.startAt)&&gv(s.endAt,e.endAt)}function Um(s){return ge.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class xo{constructor(e,n=null,r=[],o=[],u=null,f="F",m=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function yI(s,e,n,r,o,u,f,m){return new xo(s,e,n,r,o,u,f,m)}function zh(s){return new xo(s)}function _v(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function _I(s){return ge.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function Vb(s){return s.collectionGroup!==null}function Fl(s){const e=Ae(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Mt(Yt.comparator);return f.filters.forEach((y=>{y.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new eu(u,r))})),n.has(Yt.keyField().canonicalString())||e.Ie.push(new eu(Yt.keyField(),r))}return e.Ie}function Mi(s){const e=Ae(s);return e.Ee||(e.Ee=vI(e,Fl(s))),e.Ee}function vI(s,e){if(s.limitType==="F")return yv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new eu(o.field,u)}));const n=s.endAt?new gh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new gh(s.startAt.position,s.startAt.inclusive):null;return yv(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function Lm(s,e){const n=s.filters.concat([e]);return new xo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function TI(s,e){const n=s.explicitOrderBy.concat([e]);return new xo(s.path,s.collectionGroup,n,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function yh(s,e,n){return new xo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function Bh(s,e){return hp(Mi(s),Mi(e))&&s.limitType===e.limitType}function Mb(s){return`${cp(Mi(s))}|lt:${s.limitType}`}function Wa(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>Db(o))).join(", ")}]`),ou(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>po(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>po(o))).join(",")),`Target(${r})`})(Mi(s))}; limitType=${s.limitType})`}function qh(s,e){return e.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):ge.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,o){for(const u of Fl(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(f,m,y){const g=pv(f,m,y);return f.inclusive?g<=0:g<0})(r.startAt,Fl(r),o)||r.endAt&&!(function(f,m,y){const g=pv(f,m,y);return f.inclusive?g>=0:g>0})(r.endAt,Fl(r),o))})(s,e)}function bI(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function kb(s){return(e,n)=>{let r=!1;for(const o of Fl(s)){const u=EI(o,e,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function EI(s,e,n){const r=s.field.isKeyField()?ge.comparator(e.key,n.key):(function(u,f,m){const y=f.data.field(u),g=m.data.field(u);return y!==null&&g!==null?mo(y,g):ve(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return ve(19790,{direction:s.dir})}}class aa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){gr(this.inner,((n,r)=>{for(const[o,u]of r)e(o,u)}))}isEmpty(){return _b(this.inner)}size(){return this.innerSize}}const wI=new ft(ge.comparator);function fs(){return wI}const Ub=new ft(ge.comparator);function Pl(...s){let e=Ub;for(const n of s)e=e.insert(n.key,n);return e}function Lb(s){let e=Ub;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Jr(){return Gl()}function jb(){return Gl()}function Gl(){return new aa((s=>s.toString()),((s,e)=>s.isEqual(e)))}const SI=new ft(ge.comparator),AI=new Mt(ge.comparator);function je(...s){let e=AI;for(const n of s)e=e.add(n);return e}const xI=new Mt(Le);function RI(){return xI}function fp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dh(e)?"-0":e}}function Pb(s){return{integerValue:""+s}}function zb(s,e){return ZR(e)?Pb(e):fp(s,e)}class Hh{constructor(){this._=void 0}}function II(s,e,n){return s instanceof tu?(function(o,u){const f={fields:{[bb]:{stringValue:Tb},[wb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&lp(u)&&(u=Ph(u)),u&&(f.fields[Eb]=u),{mapValue:f}})(n,e):s instanceof go?qb(s,e):s instanceof nu?Hb(s,e):(function(o,u){const f=Bb(o,u),m=vv(f)+vv(o.Ae);return Mm(f)&&Mm(o.Ae)?Pb(m):fp(o.serializer,m)})(s,e)}function CI(s,e,n){return s instanceof go?qb(s,e):s instanceof nu?Hb(s,e):n}function Bb(s,e){return s instanceof iu?(function(r){return Mm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class tu extends Hh{}class go extends Hh{constructor(e){super(),this.elements=e}}function qb(s,e){const n=Fb(e);for(const r of s.elements)n.some((o=>Pi(o,r)))||n.push(r);return{arrayValue:{values:n}}}class nu extends Hh{constructor(e){super(),this.elements=e}}function Hb(s,e){let n=Fb(e);for(const r of s.elements)n=n.filter((o=>!Pi(o,r)));return{arrayValue:{values:n}}}class iu extends Hh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function vv(s){return vt(s.integerValue||s.doubleValue)}function Fb(s){return up(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class dp{constructor(e,n){this.field=e,this.transform=n}}function NI(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof go&&o instanceof go||r instanceof nu&&o instanceof nu?fo(r.elements,o.elements,Pi):r instanceof iu&&o instanceof iu?Pi(r.Ae,o.Ae):r instanceof tu&&o instanceof tu})(s.transform,e.transform)}class DI{constructor(e,n){this.version=e,this.transformResults=n}}class rn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new rn}static exists(e){return new rn(void 0,e)}static updateTime(e){return new rn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Fh{}function Gb(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new mp(s.key,rn.none()):new lu(s.key,s.data,rn.none());{const n=s.data,r=sn.empty();let o=new Mt(Yt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?r.delete(u):r.set(u,f),o=o.add(u)}return new yr(s.key,r,new An(o.toArray()),rn.none())}}function OI(s,e,n){s instanceof lu?(function(o,u,f){const m=o.value.clone(),y=bv(o.fieldTransforms,u,f.transformResults);m.setAll(y),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(s,e,n):s instanceof yr?(function(o,u,f){if(!nh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=bv(o.fieldTransforms,u,f.transformResults),y=u.data;y.setAll(Qb(o)),y.setAll(m),u.convertToFoundDocument(f.version,y).setHasCommittedMutations()})(s,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Ql(s,e,n,r){return s instanceof lu?(function(u,f,m,y){if(!nh(u.precondition,f))return m;const g=u.value.clone(),b=Ev(u.fieldTransforms,y,f);return g.setAll(b),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(s,e,n,r):s instanceof yr?(function(u,f,m,y){if(!nh(u.precondition,f))return m;const g=Ev(u.fieldTransforms,y,f),b=f.data;return b.setAll(Qb(u)),b.setAll(g),f.convertToFoundDocument(f.version,b).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(s,e,n,r):(function(u,f,m){return nh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(s,e,n)}function VI(s,e){let n=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),u=Bb(r.transform,o||null);u!=null&&(n===null&&(n=sn.empty()),n.set(r.field,u))}return n||null}function Tv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&fo(r,o,((u,f)=>NI(u,f)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class lu extends Fh{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class yr extends Fh{constructor(e,n,r,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Qb(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function bv(s,e,n){const r=new Map;qe(s.length===n.length,32656,{Ve:n.length,de:s.length});for(let o=0;o<n.length;o++){const u=s[o],f=u.transform,m=e.data.field(u.field);r.set(u.field,CI(f,m,n[o]))}return r}function Ev(s,e,n){const r=new Map;for(const o of s){const u=o.transform,f=n.data.field(o.field);r.set(o.field,II(u,f,e))}return r}class mp extends Fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Yb extends Fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class MI{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&OI(u,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ql(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ql(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=jb();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const y=Gb(f,m);y!==null&&r.set(o.key,y),f.isValidDocument()||f.convertToNoDocument(Ee.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),je())}isEqual(e){return this.batchId===e.batchId&&fo(this.mutations,e.mutations,((n,r)=>Tv(n,r)))&&fo(this.baseMutations,e.baseMutations,((n,r)=>Tv(n,r)))}}class pp{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){qe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return SI})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,r[f].version);return new pp(e,n,r,o)}}class kI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class UI{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ct,Be;function Kb(s){switch(s){case Y.OK:return ve(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return ve(15467,{code:s})}}function Xb(s){if(s===void 0)return hs("GRPC error has no .code"),Y.UNKNOWN;switch(s){case Ct.OK:return Y.OK;case Ct.CANCELLED:return Y.CANCELLED;case Ct.UNKNOWN:return Y.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return Y.INTERNAL;case Ct.UNAVAILABLE:return Y.UNAVAILABLE;case Ct.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Ct.NOT_FOUND:return Y.NOT_FOUND;case Ct.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Ct.ABORTED:return Y.ABORTED;case Ct.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Ct.DATA_LOSS:return Y.DATA_LOSS;default:return ve(39323,{code:s})}}(Be=Ct||(Ct={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";function LI(){return new TextEncoder}const jI=new sr([4294967295,4294967295],0);function wv(s){const e=LI().encode(s),n=new ob;return n.update(e),new Uint8Array(n.digest())}function Sv(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new sr([n,r],0),new sr([o,u],0)]}class gp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new zl(`Invalid padding: ${n}`);if(r<0)throw new zl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new zl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new zl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=sr.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(sr.fromNumber(r)));return o.compare(jI)===1&&(o=new sr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=wv(e),[r,o]=Sv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);if(!this.we(f))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new gp(u,o,n);return r.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=wv(e),[r,o]=Sv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);this.be(f)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Gh{constructor(e,n,r,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,uu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Gh(Ee.min(),o,new ft(Le),fs(),je())}}class uu{constructor(e,n,r,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new uu(r,n,je(),je(),je())}}class ih{constructor(e,n,r,o){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=o}}class $b{constructor(e,n){this.targetId=e,this.Ce=n}}class Jb{constructor(e,n,r=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class Av{constructor(){this.ve=0,this.Fe=xv(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),n=je(),r=je();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:ve(38017,{changeType:u})}})),new uu(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=xv()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,qe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class PI{constructor(e){this.Ge=e,this.ze=new Map,this.je=fs(),this.He=Xc(),this.Je=Xc(),this.Ze=new ft(Le)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Um(u))if(r===0){const f=new ge(u.path);this.et(n,f,Pt.newNoDocument(f,Ee.min()))}else qe(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const m=this.ut(e),y=m?this.ct(m,e,f):1;if(y!==0){this.it(n);const g=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=cr(r).toUint8Array()}catch(y){if(y instanceof vb)return ho("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new gp(f,o,u)}catch(y){return ho(y instanceof zl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.ge===0?null:m}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Um(m.target)){const y=new ge(m.target.path);this.It(y).has(f)||this.Et(f,y)||this.et(f,y,Pt.newNoDocument(y,e))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let r=je();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((y=>{const g=this.ot(y);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Gh(e,n,this.Ze,this.je,r);return this.je=fs(),this.He=Xc(),this.Je=Xc(),this.Ze=new ft(Le),o}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new Av,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Mt(Le),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Mt(Le),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Av),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Xc(){return new ft(ge.comparator)}function xv(){return new ft(ge.comparator)}const zI={asc:"ASCENDING",desc:"DESCENDING"},BI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qI={and:"AND",or:"OR"};class HI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function jm(s,e){return s.useProto3Json||ou(e)?e:{value:e}}function _h(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Zb(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function FI(s,e){return _h(s,e.toTimestamp())}function In(s){return qe(!!s,49232),Ee.fromTimestamp((function(n){const r=ur(n);return new ot(r.seconds,r.nanos)})(s))}function yp(s,e){return Pm(s,e).canonicalString()}function Pm(s,e){const n=(function(o){return new tt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?n:n.child(e)}function Wb(s){const e=tt.fromString(s);return qe(rE(e),10190,{key:e.toString()}),e}function vh(s,e){return yp(s.databaseId,e.path)}function Yl(s,e){const n=Wb(e);if(n.get(1)!==s.databaseId.projectId)throw new ie(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new ie(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new ge(tE(n))}function eE(s,e){return yp(s.databaseId,e)}function GI(s){const e=Wb(s);return e.length===4?tt.emptyPath():tE(e)}function zm(s){return new tt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function tE(s){return qe(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Rv(s,e,n){return{name:vh(s,e),fields:n.value.mapValue.fields}}function QI(s,e){return"found"in e?(function(r,o){qe(!!o.found,43571),o.found.name,o.found.updateTime;const u=Yl(r,o.found.name),f=In(o.found.updateTime),m=o.found.createTime?In(o.found.createTime):Ee.min(),y=new sn({mapValue:{fields:o.found.fields}});return Pt.newFoundDocument(u,f,m,y)})(s,e):"missing"in e?(function(r,o){qe(!!o.missing,3894),qe(!!o.readTime,22933);const u=Yl(r,o.missing),f=In(o.readTime);return Pt.newNoDocument(u,f)})(s,e):ve(7234,{result:e})}function YI(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:ve(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,b){return g.useProto3Json?(qe(b===void 0||typeof b=="string",58123),Xt.fromBase64String(b||"")):(qe(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Xt.fromUint8Array(b||new Uint8Array))})(s,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(g){const b=g.code===void 0?Y.UNKNOWN:Xb(g.code);return new ie(b,g.message||"")})(f);n=new Jb(r,o,u,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Yl(s,r.document.name),u=In(r.document.updateTime),f=r.document.createTime?In(r.document.createTime):Ee.min(),m=new sn({mapValue:{fields:r.document.fields}}),y=Pt.newFoundDocument(o,u,f,m),g=r.targetIds||[],b=r.removedTargetIds||[];n=new ih(g,b,y.key,y)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Yl(s,r.document),u=r.readTime?In(r.readTime):Ee.min(),f=Pt.newNoDocument(o,u),m=r.removedTargetIds||[];n=new ih([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Yl(s,r.document),u=r.removedTargetIds||[];n=new ih([],u,o,null)}else{if(!("filter"in e))return ve(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,f=new UI(o,u),m=r.targetId;n=new $b(m,f)}}return n}function nE(s,e){let n;if(e instanceof lu)n={update:Rv(s,e.key,e.value)};else if(e instanceof mp)n={delete:vh(s,e.key)};else if(e instanceof yr)n={update:Rv(s,e.key,e.data),updateMask:n2(e.fieldMask)};else{if(!(e instanceof Yb))return ve(16599,{dt:e.type});n={verify:vh(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(u,f){const m=f.transform;if(m instanceof tu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof go)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof nu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof iu)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw ve(20930,{transform:f.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:FI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ve(27497)})(s,e.precondition)),n}function KI(s,e){return s&&s.length>0?(qe(e!==void 0,14353),s.map((n=>(function(o,u){let f=o.updateTime?In(o.updateTime):In(u);return f.isEqual(Ee.min())&&(f=In(u)),new DI(f,o.transformResults||[])})(n,e)))):[]}function XI(s,e){return{documents:[eE(s,e.path)]}}function $I(s,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=eE(s,o);const u=(function(g){if(g.length!==0)return sE(oi.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((b=>(function(x){return{field:eo(x.field),direction:WI(x.dir)}})(b)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=jm(s,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function JI(s){let e=GI(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){qe(r===1,65062);const b=n.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let u=[];n.where&&(u=(function(S){const x=iE(S);return x instanceof oi&&Cb(x)?x.getFilters():[x]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((x=>(function(X){return new eu(to(X.field),(function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(X.direction))})(x)))})(n.orderBy));let m=null;n.limit&&(m=(function(S){let x;return x=typeof S=="object"?S.value:S,ou(x)?null:x})(n.limit));let y=null;n.startAt&&(y=(function(S){const x=!!S.before,q=S.values||[];return new gh(q,x)})(n.startAt));let g=null;return n.endAt&&(g=(function(S){const x=!S.before,q=S.values||[];return new gh(q,x)})(n.endAt)),yI(e,o,f,u,m,"F",y,g)}function ZI(s,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function iE(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=to(n.unaryFilter.field);return Nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=to(n.unaryFilter.field);return Nt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=to(n.unaryFilter.field);return Nt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=to(n.unaryFilter.field);return Nt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Nt.create(to(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return oi.create(n.compositeFilter.filters.map((r=>iE(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(n.compositeFilter.op))})(s):ve(30097,{filter:s})}function WI(s){return zI[s]}function e2(s){return BI[s]}function t2(s){return qI[s]}function eo(s){return{fieldPath:s.canonicalString()}}function to(s){return Yt.fromServerFormat(s.fieldPath)}function sE(s){return s instanceof Nt?(function(n){if(n.op==="=="){if(mv(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NAN"}};if(dv(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(mv(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NAN"}};if(dv(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eo(n.field),op:e2(n.op),value:n.value}}})(s):s instanceof oi?(function(n){const r=n.getFilters().map((o=>sE(o)));return r.length===1?r[0]:{compositeFilter:{op:t2(n.op),filters:r}}})(s):ve(54877,{filter:s})}function n2(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function rE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function aE(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class tr{constructor(e,n,r,o,u=Ee.min(),f=Ee.min(),m=Xt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new tr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class i2{constructor(e){this.yt=e}}function s2(s){const e=JI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?yh(e,e.limit,"L"):e}class r2{constructor(){this.Sn=new a2}addToCollectionParentIndex(e,n){return this.Sn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(lr.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(lr.min())}updateCollectionGroup(e,n,r){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class a2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Mt(tt.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Mt(tt.comparator)).toArray()}}const Iv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oE=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(oE,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class yo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new yo(0)}static ar(){return new yo(-1)}}const Cv="LruGarbageCollector",o2=1048576;function Nv([s,e],[n,r]){const o=Le(s,n);return o===0?Le(e,r):o}class l2{constructor(e){this.Pr=e,this.buffer=new Mt(Nv),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Nv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class u2{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){le(Cv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ao(n)?le(Cv,"Ignoring IndexedDB error during garbage collection: ",n):await So(n)}await this.Ar(3e5)}))}}class c2{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return J.resolve(jh.ce);const r=new l2(n);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Iv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Iv):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,o,u,f,m,y,g;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(r=S,m=Date.now(),this.removeTargets(e,r,n)))).next((S=>(u=S,y=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(g=Date.now(),Za()<=Ue.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-b}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(y-m)+`ms
	Removed ${S} documents in `+(g-y)+`ms
Total Duration: ${g-b}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function h2(s,e){return new c2(s,e)}class f2{constructor(){this.changes=new aa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?J.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class d2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class m2{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&Ql(r.mutation,o,An.empty(),ot.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,je()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=je()){const o=Jr();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((u=>{let f=Pl();return u.forEach(((m,y)=>{f=f.insert(m,y.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const r=Jr();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,je())))}populateOverlays(e,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,r,o){let u=fs();const f=Gl(),m=(function(){return Gl()})();return n.forEach(((y,g)=>{const b=r.get(g.key);o.has(g.key)&&(b===void 0||b.mutation instanceof yr)?u=u.insert(g.key,g):b!==void 0?(f.set(g.key,b.mutation.getFieldMask()),Ql(b.mutation,g,b.mutation.getFieldMask(),ot.now())):f.set(g.key,An.empty())})),this.recalculateAndSaveOverlays(e,u).next((y=>(y.forEach(((g,b)=>f.set(g,b))),n.forEach(((g,b)=>m.set(g,new d2(b,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const r=Gl();let o=new ft(((f,m)=>f-m)),u=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((y=>{const g=n.get(y);if(g===null)return;let b=r.get(y)||An.empty();b=m.applyToLocalView(g,b),r.set(y,b);const S=(o.get(m.batchId)||je()).add(y);o=o.insert(m.batchId,S)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),g=y.key,b=y.value,S=jb();b.forEach((x=>{if(!u.has(x)){const q=Gb(n.get(x),r.get(x));q!==null&&S.set(x,q),u=u.add(x)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,S))}return J.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return _I(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Vb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-u.size):J.resolve(Jr());let m=$l,y=u;return f.next((g=>J.forEach(g,((b,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(b)?J.resolve():this.remoteDocumentCache.getEntry(e,b).next((x=>{y=y.insert(b,x)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,y,g,je()))).next((b=>({batchId:m,changes:Lb(b)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((r=>{let o=Pl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const u=n.collectionGroup;let f=Pl();return this.indexManager.getCollectionParents(e,u).next((m=>J.forEach(m,(y=>{const g=(function(S,x){return new xo(x,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,r,o).next((b=>{b.forEach(((S,x)=>{f=f.insert(S,x)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,o)))).next((f=>{u.forEach(((y,g)=>{const b=g.getKey();f.get(b)===null&&(f=f.insert(b,Pt.newInvalidDocument(b)))}));let m=Pl();return f.forEach(((y,g)=>{const b=u.get(y);b!==void 0&&Ql(b.mutation,g,An.empty(),ot.now()),qh(n,g)&&(m=m.insert(y,g))})),m}))}}class p2{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return J.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:In(o.createTime)}})(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:s2(o.bundledQuery),readTime:In(o.readTime)}})(n)),J.resolve()}}class g2{constructor(){this.overlays=new ft(ge.comparator),this.Lr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Jr();return J.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,u)=>{this.bt(e,n,u)})),J.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(r)),J.resolve()}getOverlaysForCollection(e,n,r){const o=Jr(),u=n.length+1,f=new ge(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const y=m.getNext().value,g=y.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&y.largestBatchId>r&&o.set(y.getKey(),y)}return J.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let u=new ft(((g,b)=>g-b));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>r){let b=u.get(g.largestBatchId);b===null&&(b=Jr(),u=u.insert(g.largestBatchId,b)),b.set(g.getKey(),g)}}const m=Jr(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((g,b)=>m.set(g,b))),!(m.size()>=o)););return J.resolve(m)}bt(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new kI(n,r));let u=this.Lr.get(n);u===void 0&&(u=je(),this.Lr.set(n,u)),this.Lr.set(n,u.add(r.key))}}class y2{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}class _p{constructor(){this.kr=new Mt(jt.Kr),this.qr=new Mt(jt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new jt(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new jt(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new ge(new tt([])),r=new jt(n,e),o=new jt(n,e+1),u=[];return this.qr.forEachInRange([r,o],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ge(new tt([])),r=new jt(n,e),o=new jt(n,e+1);let u=je();return this.qr.forEachInRange([r,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new jt(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class jt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ge.comparator(e.key,n.key)||Le(e.Hr,n.Hr)}static Ur(e,n){return Le(e.Hr,n.Hr)||ge.comparator(e.key,n.key)}}class _2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Mt(jt.Kr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new MI(u,n,r,o);this.mutationQueue.push(f);for(const m of o)this.Jr=this.Jr.add(new jt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return J.resolve(f)}lookupMutationBatch(e,n){return J.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.Xr(r),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?op:this.Yn-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new jt(n,0),o=new jt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([r,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Mt(Le);return n.forEach((o=>{const u=new jt(o,0),f=new jt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(m=>{r=r.add(m.Hr)}))})),J.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let u=r;ge.isDocumentKey(u)||(u=u.child(""));const f=new jt(new ge(u),0);let m=new Mt(Le);return this.Jr.forEachWhile((y=>{const g=y.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(m=m.add(y.Hr)),!0)}),f),J.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){qe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return J.forEach(n.mutations,(o=>{const u=new jt(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new jt(n,0),o=this.Jr.firstAfterOrEqual(r);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class v2{constructor(e){this.ti=e,this.docs=(function(){return new ft(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return J.resolve(r?r.document.mutableCopy():Pt.newInvalidDocument(n))}getEntries(e,n){let r=fs();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Pt.newInvalidDocument(o))})),J.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let u=fs();const f=n.path,m=new ge(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:g,value:{document:b}}=y.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||KR(YR(b),r)<=0||(o.has(b.key)||qh(n,b))&&(u=u.insert(b.key,b.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,n,r,o){ve(9500)}ni(e,n){return J.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new T2(this)}getSize(e){return J.resolve(this.size)}}class T2 extends f2{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),J.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class b2{constructor(e){this.persistence=e,this.ri=new aa((n=>cp(n)),hp),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.ii=0,this.si=new _p,this.targetCount=0,this.oi=yo._r()}forEachTarget(e,n){return this.ri.forEach(((r,o)=>n(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),J.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new yo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.lr(n),J.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,r){let o=0;const u=[];return this.ri.forEach(((f,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),J.waitFor(u).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return J.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),J.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),J.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return J.resolve(r)}containsKey(e,n){return J.resolve(this.si.containsKey(n))}}class lE{constructor(e,n){this._i={},this.overlays={},this.ai=new jh(0),this.ui=!1,this.ui=!0,this.ci=new y2,this.referenceDelegate=e(this),this.li=new b2(this),this.indexManager=new r2,this.remoteDocumentCache=(function(o){return new v2(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new i2(n),this.Pi=new p2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new g2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new _2(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){le("MemoryPersistence","Starting transaction:",e);const o=new E2(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return J.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class E2 extends $R{constructor(e){super(),this.currentSequenceNumber=e}}class vp{constructor(e){this.persistence=e,this.Ri=new _p,this.Ai=null}static Vi(e){return new vp(e)}get di(){if(this.Ai)return this.Ai;throw ve(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),J.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),J.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.di,(r=>{const o=ge.fromPath(r);return this.mi(e,o).next((u=>{u||n.removeEntry(o,Ee.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return J.or([()=>J.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Th{constructor(e,n){this.persistence=e,this.fi=new aa((r=>WR(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=h2(this,n)}static Vi(e,n){return new Th(e,n)}Ti(){}Ii(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return J.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((u=>u?J.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(f=>this.wr(e,f,n).next((m=>{m||(r++,u.removeEntry(f,Ee.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),J.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=eh(e.data.value)),n}wr(e,n,r){return J.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return J.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Tp{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=o}static Es(e,n){let r=je(),o=je();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Tp(e,n.fromCache,r,o)}}class w2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class S2{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return GA()?8:JR(Wt())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const u={result:null};return this.gs(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(e,n,o,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new w2;return this.ys(e,n,f).next((m=>{if(u.result=m,this.As)return this.ws(e,n,f,m.size)}))})).next((()=>u.result))}ws(e,n,r,o){return r.documentReadCount<this.Vs?(Za()<=Ue.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Wa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(Za()<=Ue.DEBUG&&le("QueryEngine","Query:",Wa(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(Za()<=Ue.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Wa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mi(n))):J.resolve())}gs(e,n){if(_v(n))return J.resolve(null);let r=Mi(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=yh(n,null,"F"),r=Mi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const f=je(...u);return this.fs.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,r).next((y=>{const g=this.bs(n,m);return this.Ss(n,g,f,y.readTime)?this.gs(e,yh(n,null,"F")):this.Ds(e,g,n,y)}))))})))))}ps(e,n,r,o){return _v(n)||o.isEqual(Ee.min())?J.resolve(null):this.fs.getDocuments(e,r).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,r,o)?J.resolve(null):(Za()<=Ue.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Wa(n)),this.Ds(e,f,n,QR(o,$l)).next((m=>m)))}))}bs(e,n){let r=new Mt(kb(e));return n.forEach(((o,u)=>{qh(e,u)&&(r=r.add(u))})),r}Ss(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,r){return Za()<=Ue.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Wa(n)),this.fs.getDocumentsMatchingQuery(e,n,lr.min(),r)}Ds(e,n,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const bp="LocalStore",A2=3e8;class x2{constructor(e,n,r,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ft(Le),this.Fs=new aa((u=>cp(u)),hp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new m2(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function R2(s,e,n,r){return new x2(s,e,n,r)}async function uE(s,e){const n=Ae(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],m=[];let y=je();for(const g of o){f.push(g.batchId);for(const b of g.mutations)y=y.add(b.key)}for(const g of u){m.push(g.batchId);for(const b of g.mutations)y=y.add(b.key)}return n.localDocuments.getDocuments(r,y).next((g=>({Ns:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function I2(s,e){const n=Ae(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,y,g,b){const S=g.batch,x=S.keys();let q=J.resolve();return x.forEach((X=>{q=q.next((()=>b.getEntry(y,X))).next((W=>{const ee=g.docVersions.get(X);qe(ee!==null,48541),W.version.compareTo(ee)<0&&(S.applyToRemoteDocument(W,g),W.isValidDocument()&&(W.setReadTime(g.commitVersion),b.addEntry(W)))}))})),q.next((()=>m.mutationQueue.removeMutationBatch(y,S)))})(n,r,e,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let y=je();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(y=y.add(m.batch.mutations[g].key));return y})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function cE(s){const e=Ae(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function C2(s,e){const n=Ae(s),r=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((b,S)=>{const x=o.get(S);if(!x)return;m.push(n.li.removeMatchingKeys(u,b.removedDocuments,S).next((()=>n.li.addMatchingKeys(u,b.addedDocuments,S))));let q=x.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?q=q.withResumeToken(Xt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):b.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(b.resumeToken,r)),o=o.insert(S,q),(function(W,ee,oe){return W.resumeToken.approximateByteSize()===0||ee.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=A2?!0:oe.addedDocuments.size+oe.modifiedDocuments.size+oe.removedDocuments.size>0})(x,q,b)&&m.push(n.li.updateTargetData(u,q))}));let y=fs(),g=je();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,b))})),m.push(N2(u,f,e.documentUpdates).next((b=>{y=b.Bs,g=b.Ls}))),!r.isEqual(Ee.min())){const b=n.li.getLastRemoteSnapshotVersion(u).next((S=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(b)}return J.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,y,g))).next((()=>y))})).then((u=>(n.vs=o,u)))}function N2(s,e,n){let r=je(),o=je();return n.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let f=fs();return n.forEach(((m,y)=>{const g=u.get(m);y.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),y.isNoDocument()&&y.version.isEqual(Ee.min())?(e.removeEntry(m,y.readTime),f=f.insert(m,y)):!g.isValidDocument()||y.version.compareTo(g.version)>0||y.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(y),f=f.insert(m,y)):le(bp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",y.version)})),{Bs:f,Ls:o}}))}function D2(s,e){const n=Ae(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=op),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function O2(s,e){const n=Ae(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.li.getTargetData(r,e).next((u=>u?(o=u,J.resolve(o)):n.li.allocateTargetId(r).next((f=>(o=new tr(e,f,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function Bm(s,e,n){const r=Ae(s),o=r.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Ao(f))throw f;le(bp,`Failed to update sequence numbers for target ${e}: ${f}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function Dv(s,e,n){const r=Ae(s);let o=Ee.min(),u=je();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(y,g,b){const S=Ae(y),x=S.Fs.get(b);return x!==void 0?J.resolve(S.vs.get(x)):S.li.getTargetData(g,b)})(r,f,Mi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(f,m.targetId).next((y=>{u=y}))})).next((()=>r.Cs.getDocumentsMatchingQuery(f,e,n?o:Ee.min(),n?u:je()))).next((m=>(V2(r,bI(e),m),{documents:m,ks:u})))))}function V2(s,e,n){let r=s.Ms.get(e)||Ee.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Ms.set(e,r)}class Ov{constructor(){this.activeTargetIds=RI()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class M2{constructor(){this.vo=new Ov,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Ov,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class k2{Mo(e){}shutdown(){}}const Vv="ConnectivityMonitor";class Mv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){le(Vv,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){le(Vv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let $c=null;function qm(){return $c===null?$c=(function(){return 268435456+Math.round(2147483648*Math.random())})():$c++,"0x"+$c.toString(16)}const vm="RestConnection",U2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class L2{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===mh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,n,r,o,u){const f=qm(),m=this.Qo(e,n.toUriEncodedString());le(vm,`Sending RPC '${e}' ${f}:`,m,r);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(y,o,u);const{host:g}=new URL(m),b=bo(g);return this.zo(e,m,y,r,b).then((S=>(le(vm,`Received RPC '${e}' ${f}: `,S),S)),(S=>{throw ho(vm,`RPC '${e}' ${f} failed with error: `,S,"url: ",m,"request:",r),S}))}jo(e,n,r,o,u,f){return this.Wo(e,n,r,o,u)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+wo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),r&&r.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const r=U2[e];let o=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class j2{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Jt="WebChannelConnection",Ul=(s,e,n)=>{s.listen(e,(r=>{try{n(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class ao extends L2{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ao.c_){const e=hb();Ul(e,cb.STAT_EVENT,(n=>{n.stat===Dm.PROXY?le(Jt,"STAT_EVENT: detected buffering proxy"):n.stat===Dm.NOPROXY&&le(Jt,"STAT_EVENT: detected no buffering proxy")})),ao.c_=!0}}zo(e,n,r,o,u){const f=qm();return new Promise(((m,y)=>{const g=new lb;g.setWithCredentials(!0),g.listenOnce(ub.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Wc.NO_ERROR:const S=g.getResponseJson();le(Jt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),m(S);break;case Wc.TIMEOUT:le(Jt,`RPC '${e}' ${f} timed out`),y(new ie(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Wc.HTTP_ERROR:const x=g.getStatus();if(le(Jt,`RPC '${e}' ${f} failed with status:`,x,"response text:",g.getResponseText()),x>0){let q=g.getResponseJson();Array.isArray(q)&&(q=q[0]);const X=q?.error;if(X&&X.status&&X.message){const W=(function(oe){const pe=oe.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(pe)>=0?pe:Y.UNKNOWN})(X.status);y(new ie(W,X.message))}else y(new ie(Y.UNKNOWN,"Server responded with status "+g.getStatus()))}else y(new ie(Y.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{le(Jt,`RPC '${e}' ${f} completed.`)}}));const b=JSON.stringify(o);le(Jt,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",b,r,15)}))}T_(e,n,r){const o=qm(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(m.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const g=u.join("");le(Jt,`Creating RPC '${e}' stream ${o}: ${g}`,m);const b=f.createWebChannel(g,m);this.I_(b);let S=!1,x=!1;const q=new j2({Ho:X=>{x?le(Jt,`Not sending because RPC '${e}' stream ${o} is closed:`,X):(S||(le(Jt,`Opening RPC '${e}' stream ${o} transport.`),b.open(),S=!0),le(Jt,`RPC '${e}' stream ${o} sending:`,X),b.send(X))},Jo:()=>b.close()});return Ul(b,jl.EventType.OPEN,(()=>{x||(le(Jt,`RPC '${e}' stream ${o} transport opened.`),q.i_())})),Ul(b,jl.EventType.CLOSE,(()=>{x||(x=!0,le(Jt,`RPC '${e}' stream ${o} transport closed`),q.o_(),this.E_(b))})),Ul(b,jl.EventType.ERROR,(X=>{x||(x=!0,ho(Jt,`RPC '${e}' stream ${o} transport errored. Name:`,X.name,"Message:",X.message),q.o_(new ie(Y.UNAVAILABLE,"The operation could not be completed")))})),Ul(b,jl.EventType.MESSAGE,(X=>{if(!x){const W=X.data[0];qe(!!W,16349);const ee=W,oe=ee?.error||ee[0]?.error;if(oe){le(Jt,`RPC '${e}' stream ${o} received error:`,oe);const pe=oe.status;let ye=(function(be){const C=Ct[be];if(C!==void 0)return Xb(C)})(pe),ze=oe.message;ye===void 0&&(ye=Y.INTERNAL,ze="Unknown error status: "+pe+" with message "+oe.message),x=!0,q.o_(new ie(ye,ze)),b.close()}else le(Jt,`RPC '${e}' stream ${o} received:`,W),q.__(W)}})),ao.u_(),setTimeout((()=>{q.s_()}),0),q}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return fb()}}function P2(s){return new ao(s)}function Tm(){return typeof document<"u"?document:null}function Qh(s){return new HI(s,!0)}ao.c_=!1;class Ep{constructor(e,n,r=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const kv="PersistentStream";class hE{constructor(e,n,r,o,u,f,m,y){this.Ci=e,this.b_=r,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ep(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(hs(n.toString()),hs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new ie(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(kv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(le(kv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class z2 extends hE{constructor(e,n,r,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=YI(this.serializer,e),r=(function(u){if(!("targetChange"in u))return Ee.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ee.min():f.readTime?In(f.readTime):Ee.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=zm(this.serializer),n.addTarget=(function(u,f){let m;const y=f.target;if(m=Um(y)?{documents:XI(u,y)}:{query:$I(u,y).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=Zb(u,f.resumeToken);const g=jm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Ee.min())>0){m.readTime=_h(u,f.snapshotVersion.toTimestamp());const g=jm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const r=ZI(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=zm(this.serializer),n.removeTarget=e,this.K_(n)}}class B2 extends hE{constructor(e,n,r,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=KI(e.writeResults,e.commitTime),r=In(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=zm(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>nE(this.serializer,r)))};this.K_(n)}}class q2{}class H2 extends q2{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ie(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(e,Pm(n,r),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ie(Y.UNKNOWN,u.toString())}))}jo(e,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.jo(e,Pm(n,r),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ie(Y.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function F2(s,e,n,r){return new H2(s,e,n,r)}class G2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(hs(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const na="RemoteStore";class Q2{constructor(e,n,r,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{r.enqueueAndForget((async()=>{oa(this)&&(le(na,"Restarting streams for network reachability change."),await(async function(y){const g=Ae(y);g.Ea.add(4),await cu(g),g.Va.set("Unknown"),g.Ea.delete(4),await Yh(g)})(this))}))})),this.Va=new G2(r,o)}}async function Yh(s){if(oa(s))for(const e of s.Ra)await e(!0)}async function cu(s){for(const e of s.Ra)await e(!1)}function fE(s,e){const n=Ae(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),xp(n)?Ap(n):Ro(n).O_()&&Sp(n,e))}function wp(s,e){const n=Ae(s),r=Ro(n);n.Ia.delete(e),r.O_()&&dE(n,e),n.Ia.size===0&&(r.O_()?r.L_():oa(n)&&n.Va.set("Unknown"))}function Sp(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ro(s).Z_(e)}function dE(s,e){s.da.$e(e),Ro(s).X_(e)}function Ap(s){s.da=new PI({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Ro(s).start(),s.Va.ua()}function xp(s){return oa(s)&&!Ro(s).x_()&&s.Ia.size>0}function oa(s){return Ae(s).Ea.size===0}function mE(s){s.da=void 0}async function Y2(s){s.Va.set("Online")}async function K2(s){s.Ia.forEach(((e,n)=>{Sp(s,e)}))}async function X2(s,e){mE(s),xp(s)?(s.Va.ha(e),Ap(s)):s.Va.set("Unknown")}async function $2(s,e,n){if(s.Va.set("Online"),e instanceof Jb&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.da.removeTarget(m))})(s,e)}catch(r){le(na,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await bh(s,r)}else if(e instanceof ih?s.da.Xe(e):e instanceof $b?s.da.st(e):s.da.tt(e),!n.isEqual(Ee.min()))try{const r=await cE(s.localStore);n.compareTo(r)>=0&&await(function(u,f){const m=u.da.Tt(f);return m.targetChanges.forEach(((y,g)=>{if(y.resumeToken.approximateByteSize()>0){const b=u.Ia.get(g);b&&u.Ia.set(g,b.withResumeToken(y.resumeToken,f))}})),m.targetMismatches.forEach(((y,g)=>{const b=u.Ia.get(y);if(!b)return;u.Ia.set(y,b.withResumeToken(Xt.EMPTY_BYTE_STRING,b.snapshotVersion)),dE(u,y);const S=new tr(b.target,y,g,b.sequenceNumber);Sp(u,S)})),u.remoteSyncer.applyRemoteEvent(m)})(s,n)}catch(r){le(na,"Failed to raise snapshot:",r),await bh(s,r)}}async function bh(s,e,n){if(!Ao(e))throw e;s.Ea.add(1),await cu(s),s.Va.set("Offline"),n||(n=()=>cE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{le(na,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Yh(s)}))}function pE(s,e){return e().catch((n=>bh(s,n,e)))}async function Kh(s){const e=Ae(s),n=fr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:op;for(;J2(e);)try{const o=await D2(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,Z2(e,o)}catch(o){await bh(e,o)}gE(e)&&yE(e)}function J2(s){return oa(s)&&s.Ta.length<10}function Z2(s,e){s.Ta.push(e);const n=fr(s);n.O_()&&n.Y_&&n.ea(e.mutations)}function gE(s){return oa(s)&&!fr(s).x_()&&s.Ta.length>0}function yE(s){fr(s).start()}async function W2(s){fr(s).ra()}async function eC(s){const e=fr(s);for(const n of s.Ta)e.ea(n.mutations)}async function tC(s,e,n){const r=s.Ta.shift(),o=pp.from(r,e,n);await pE(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Kh(s)}async function nC(s,e){e&&fr(s).Y_&&await(async function(r,o){if((function(f){return Kb(f)&&f!==Y.ABORTED})(o.code)){const u=r.Ta.shift();fr(r).B_(),await pE(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Kh(r)}})(s,e),gE(s)&&yE(s)}async function Uv(s,e){const n=Ae(s);n.asyncQueue.verifyOperationInProgress(),le(na,"RemoteStore received new credentials");const r=oa(n);n.Ea.add(3),await cu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Yh(n)}async function iC(s,e){const n=Ae(s);e?(n.Ea.delete(2),await Yh(n)):e||(n.Ea.add(2),await cu(n),n.Va.set("Unknown"))}function Ro(s){return s.ma||(s.ma=(function(n,r,o){const u=Ae(n);return u.sa(),new z2(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Zo:Y2.bind(null,s),Yo:K2.bind(null,s),t_:X2.bind(null,s),J_:$2.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),xp(s)?Ap(s):s.Va.set("Unknown")):(await s.ma.stop(),mE(s))}))),s.ma}function fr(s){return s.fa||(s.fa=(function(n,r,o){const u=Ae(n);return u.sa(),new B2(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:W2.bind(null,s),t_:nC.bind(null,s),ta:eC.bind(null,s),na:tC.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Kh(s)):(await s.fa.stop(),s.Ta.length>0&&(le(na,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Rp{constructor(e,n,r,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,u){const f=Date.now()+r,m=new Rp(e,n,f,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ip(s,e){if(hs("AsyncQueue",`${e}: ${s}`),Ao(s))return new ie(Y.UNAVAILABLE,`${e}: ${s}`);throw s}class oo{static emptySet(e){return new oo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ge.comparator(n.key,r.key):(n,r)=>ge.comparator(n.key,r.key),this.keyedMap=Pl(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof oo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new oo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Lv{constructor(){this.ga=new ft(ge.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ve(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class _o{constructor(e,n,r,o,u,f,m,y,g){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=g}static fromInitialDocuments(e,n,r,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new _o(e,n,oo.emptySet(n),f,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class sC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class rC{constructor(){this.queries=jv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Ae(n),u=o.queries;o.queries=jv(),u.forEach(((f,m)=>{for(const y of m.ba)y.onError(r)}))})(this,new ie(Y.ABORTED,"Firestore shutting down"))}}function jv(){return new aa((s=>Mb(s)),Bh)}async function Cp(s,e){const n=Ae(s);let r=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(r=2):(u=new sC,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Ip(f,`Initialization of query '${Wa(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Dp(n)}async function Np(s,e){const n=Ae(s),r=e.query;let o=3;const u=n.queries.get(r);if(u){const f=u.ba.indexOf(e);f>=0&&(u.ba.splice(f,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function aC(s,e){const n=Ae(s);let r=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ba)m.Fa(o)&&(r=!0);f.wa=o}}r&&Dp(n)}function oC(s,e,n){const r=Ae(s),o=r.queries.get(e);if(o)for(const u of o.ba)u.onError(n);r.queries.delete(e)}function Dp(s){s.Ca.forEach((e=>{e.next()}))}var Hm,Pv;(Pv=Hm||(Hm={})).Ma="default",Pv.Cache="cache";class Op{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new _o(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=_o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Hm.Cache}}class _E{constructor(e){this.key=e}}class vE{constructor(e){this.key=e}}class lC{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=je(),this.mutatedKeys=je(),this.eu=kb(e),this.tu=new oo(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new Lv,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,S)=>{const x=o.get(b),q=qh(this.query,S)?S:null,X=!!x&&this.mutatedKeys.has(x.key),W=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let ee=!1;x&&q?x.data.isEqual(q.data)?X!==W&&(r.track({type:3,doc:q}),ee=!0):this.su(x,q)||(r.track({type:2,doc:q}),ee=!0,(y&&this.eu(q,y)>0||g&&this.eu(q,g)<0)&&(m=!0)):!x&&q?(r.track({type:0,doc:q}),ee=!0):x&&!q&&(r.track({type:1,doc:x}),ee=!0,(y||g)&&(m=!0)),ee&&(q?(f=f.add(q),u=W?u.add(b):u.delete(b)):(f=f.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const b=this.query.limitType==="F"?f.last():f.first();f=f.delete(b.key),u=u.delete(b.key),r.track({type:1,doc:b})}return{tu:f,iu:r,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((b,S)=>(function(q,X){const W=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Vt:ee})}};return W(q)-W(X)})(b.type,S.type)||this.eu(b.doc,S.doc))),this.ou(r),o=o??!1;const m=n&&!o?this._u():[],y=this.Ya.size===0&&this.current&&!o?1:0,g=y!==this.Xa;return this.Xa=y,f.length!==0||g?{snapshot:new _o(this.query,e.tu,u,f,e.mutatedKeys,y===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Lv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=je(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new vE(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new _E(r))})),n}cu(e){this.Za=e.ks,this.Ya=je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return _o.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Vp="SyncEngine";class uC{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class cC{constructor(e){this.key=e,this.hu=!1}}class hC{constructor(e,n,r,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new aa((m=>Mb(m)),Bh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ft(ge.comparator),this.Au=new Map,this.Vu=new _p,this.du={},this.mu=new Map,this.fu=yo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function fC(s,e,n=!0){const r=AE(s);let o;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await TE(r,e,n,!0),o}async function dC(s,e){const n=AE(s);await TE(n,e,!0,!1)}async function TE(s,e,n,r){const o=await O2(s.localStore,Mi(e)),u=o.targetId,f=s.sharedClientState.addLocalQueryTarget(u,n);let m;return r&&(m=await mC(s,e,u,f==="current",o.resumeToken)),s.isPrimaryClient&&n&&fE(s.remoteStore,o),m}async function mC(s,e,n,r,o){s.pu=(S,x,q)=>(async function(W,ee,oe,pe){let ye=ee.view.ru(oe);ye.Ss&&(ye=await Dv(W.localStore,ee.query,!1).then((({documents:C})=>ee.view.ru(C,ye))));const ze=pe&&pe.targetChanges.get(ee.targetId),Ye=pe&&pe.targetMismatches.get(ee.targetId)!=null,be=ee.view.applyChanges(ye,W.isPrimaryClient,ze,Ye);return Bv(W,ee.targetId,be.au),be.snapshot})(s,S,x,q);const u=await Dv(s.localStore,e,!0),f=new lC(e,u.ks),m=f.ru(u.documents),y=uu.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),g=f.applyChanges(m,s.isPrimaryClient,y);Bv(s,n,g.au);const b=new uC(e,n,f);return s.Tu.set(e,b),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),g.snapshot}async function pC(s,e,n){const r=Ae(s),o=r.Tu.get(e),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((f=>!Bh(f,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Bm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&wp(r.remoteStore,o.targetId),Fm(r,o.targetId)})).catch(So)):(Fm(r,o.targetId),await Bm(r.localStore,o.targetId,!0))}async function gC(s,e){const n=Ae(s),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),wp(n.remoteStore,r.targetId))}async function yC(s,e,n){const r=SC(s);try{const o=await(function(f,m){const y=Ae(f),g=ot.now(),b=m.reduce(((q,X)=>q.add(X.key)),je());let S,x;return y.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let X=fs(),W=je();return y.xs.getEntries(q,b).next((ee=>{X=ee,X.forEach(((oe,pe)=>{pe.isValidDocument()||(W=W.add(oe))}))})).next((()=>y.localDocuments.getOverlayedDocuments(q,X))).next((ee=>{S=ee;const oe=[];for(const pe of m){const ye=VI(pe,S.get(pe.key).overlayedDocument);ye!=null&&oe.push(new yr(pe.key,ye,xb(ye.value.mapValue),rn.exists(!0)))}return y.mutationQueue.addMutationBatch(q,g,oe,m)})).next((ee=>{x=ee;const oe=ee.applyToLocalDocumentSet(S,W);return y.documentOverlayCache.saveOverlays(q,ee.batchId,oe)}))})).then((()=>({batchId:x.batchId,changes:Lb(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(f,m,y){let g=f.du[f.currentUser.toKey()];g||(g=new ft(Le)),g=g.insert(m,y),f.du[f.currentUser.toKey()]=g})(r,o.batchId,n),await hu(r,o.changes),await Kh(r.remoteStore)}catch(o){const u=Ip(o,"Failed to persist write");n.reject(u)}}async function bE(s,e){const n=Ae(s);try{const r=await C2(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?qe(f.hu,14607):o.removedDocuments.size>0&&(qe(f.hu,42227),f.hu=!1))})),await hu(n,r,e)}catch(r){await So(r)}}function zv(s,e,n){const r=Ae(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const y=Ae(f);y.onlineState=m;let g=!1;y.queries.forEach(((b,S)=>{for(const x of S.ba)x.va(m)&&(g=!0)})),g&&Dp(y)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _C(s,e,n){const r=Ae(s);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),u=o&&o.key;if(u){let f=new ft(ge.comparator);f=f.insert(u,Pt.newNoDocument(u,Ee.min()));const m=je().add(u),y=new Gh(Ee.min(),new Map,new ft(Le),f,m);await bE(r,y),r.Ru=r.Ru.remove(u),r.Au.delete(e),Mp(r)}else await Bm(r.localStore,e,!1).then((()=>Fm(r,e,n))).catch(So)}async function vC(s,e){const n=Ae(s),r=e.batch.batchId;try{const o=await I2(n.localStore,e);wE(n,r,null),EE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await hu(n,o)}catch(o){await So(o)}}async function TC(s,e,n){const r=Ae(s);try{const o=await(function(f,m){const y=Ae(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let b;return y.mutationQueue.lookupMutationBatch(g,m).next((S=>(qe(S!==null,37113),b=S.keys(),y.mutationQueue.removeMutationBatch(g,S)))).next((()=>y.mutationQueue.performConsistencyCheck(g))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(g,b,m))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,b))).next((()=>y.localDocuments.getDocuments(g,b)))}))})(r.localStore,e);wE(r,e,n),EE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await hu(r,o)}catch(o){await So(o)}}function EE(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function wE(s,e,n){const r=Ae(s);let o=r.du[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function Fm(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||SE(s,r)}))}function SE(s,e){s.Eu.delete(e.path.canonicalString());const n=s.Ru.get(e);n!==null&&(wp(s.remoteStore,n),s.Ru=s.Ru.remove(e),s.Au.delete(n),Mp(s))}function Bv(s,e,n){for(const r of n)r instanceof _E?(s.Vu.addReference(r.key,e),bC(s,r)):r instanceof vE?(le(Vp,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||SE(s,r.key)):ve(19791,{wu:r})}function bC(s,e){const n=e.key,r=n.path.canonicalString();s.Ru.get(n)||s.Eu.has(r)||(le(Vp,"New document in limbo: "+n),s.Eu.add(r),Mp(s))}function Mp(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new ge(tt.fromString(e)),r=s.fu.next();s.Au.set(r,new cC(n)),s.Ru=s.Ru.insert(n,r),fE(s.remoteStore,new tr(Mi(zh(n.path)),r,"TargetPurposeLimboResolution",jh.ce))}}async function hu(s,e,n){const r=Ae(s),o=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,y)=>{f.push(r.pu(y,e,n).then((g=>{if((g||n)&&r.isPrimaryClient){const b=g?!g.fromCache:n?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,b?"current":"not-current")}if(g){o.push(g);const b=Tp.Es(y.targetId,g);u.push(b)}})))})),await Promise.all(f),r.Pu.J_(o),await(async function(y,g){const b=Ae(y);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>J.forEach(g,(x=>J.forEach(x.Ts,(q=>b.persistence.referenceDelegate.addReference(S,x.targetId,q))).next((()=>J.forEach(x.Is,(q=>b.persistence.referenceDelegate.removeReference(S,x.targetId,q)))))))))}catch(S){if(!Ao(S))throw S;le(bp,"Failed to update sequence numbers: "+S)}for(const S of g){const x=S.targetId;if(!S.fromCache){const q=b.vs.get(x),X=q.snapshotVersion,W=q.withLastLimboFreeSnapshotVersion(X);b.vs=b.vs.insert(x,W)}}})(r.localStore,u))}async function EC(s,e){const n=Ae(s);if(!n.currentUser.isEqual(e)){le(Vp,"User change. New user:",e.toKey());const r=await uE(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((y=>{y.reject(new ie(Y.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await hu(n,r.Ns)}}function wC(s,e){const n=Ae(s),r=n.Au.get(e);if(r&&r.hu)return je().add(r.key);{let o=je();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function AE(s){const e=Ae(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=bE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_C.bind(null,e),e.Pu.J_=aC.bind(null,e.eventManager),e.Pu.yu=oC.bind(null,e.eventManager),e}function SC(s){const e=Ae(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TC.bind(null,e),e}class Eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return R2(this.persistence,new S2,e.initialUser,this.serializer)}Cu(e){return new lE(vp.Vi,this.serializer)}Du(e){return new M2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Eh.provider={build:()=>new Eh};class AC extends Eh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){qe(this.persistence.referenceDelegate instanceof Th,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new u2(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new lE((r=>Th.Vi(r,n)),this.serializer)}}class Gm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>zv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=EC.bind(null,this.syncEngine),await iC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new rC})()}createDatastore(e){const n=Qh(e.databaseInfo.databaseId),r=P2(e.databaseInfo);return F2(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,u,f,m){return new Q2(r,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>zv(this.syncEngine,n,0)),(function(){return Mv.v()?new Mv:new k2})())}createSyncEngine(e,n){return(function(o,u,f,m,y,g,b){const S=new hC(o,u,f,m,y,g);return b&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ae(n);le(na,"RemoteStore shutting down."),r.Ea.add(5),await cu(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Gm.provider={build:()=>new Gm};class kp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):hs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}let xC=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ie(Y.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(o,u){const f=Ae(o),m={documents:u.map((S=>vh(f.serializer,S)))},y=await f.jo("BatchGetDocuments",f.serializer.databaseId,tt.emptyPath(),m,u.length),g=new Map;y.forEach((S=>{const x=QI(f.serializer,S);g.set(x.key.toString(),x)}));const b=[];return u.forEach((S=>{const x=g.get(S.toString());qe(!!x,55234,{key:S}),b.push(x)})),b})(this.datastore,e);return n.forEach((r=>this.recordVersion(r))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new mp(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,r)=>{const o=ge.fromPath(r);this.mutations.push(new Yb(o,this.precondition(o)))})),await(async function(r,o){const u=Ae(r),f={writes:o.map((m=>nE(u.serializer,m)))};await u.Wo("Commit",u.serializer.databaseId,tt.emptyPath(),f)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw ve(50498,{Gu:e.constructor.name});n=Ee.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new ie(Y.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Ee.min())?rn.exists(!1):rn.updateTime(n):rn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Ee.min()))throw new ie(Y.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return rn.updateTime(n)}return rn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};class RC{constructor(e,n,r,o,u){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=o,this.deferred=u,this.zu=r.maxAttempts,this.M_=new Ep(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const e=new xC(this.datastore),n=this.Ju(e);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((o=>{this.Zu(o)}))))})).catch((r=>{this.Zu(r)}))}))}Ju(e){try{const n=this.updateFunction(e);return!ou(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Zu(e){this.zu>0&&this.Xu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(e)}Xu(e){if(e?.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!Kb(n)}return!1}}const dr="FirestoreClient";class IC{constructor(e,n,r,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=ap.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{le(dr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(le(dr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ip(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function bm(s,e){s.asyncQueue.verifyOperationInProgress(),le(dr,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await uE(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function qv(s,e){s.asyncQueue.verifyOperationInProgress();const n=await CC(s);le(dr,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>Uv(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>Uv(e.remoteStore,o))),s._onlineComponents=e}async function CC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){le(dr,"Using user provided OfflineComponentProvider");try{await bm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ho("Error using user provided cache. Falling back to memory cache: "+n),await bm(s,new Eh)}}else le(dr,"Using default OfflineComponentProvider"),await bm(s,new AC(void 0));return s._offlineComponents}async function Up(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(le(dr,"Using user provided OnlineComponentProvider"),await qv(s,s._uninitializedComponentsProvider._online)):(le(dr,"Using default OnlineComponentProvider"),await qv(s,new Gm))),s._onlineComponents}function NC(s){return Up(s).then((e=>e.syncEngine))}function DC(s){return Up(s).then((e=>e.datastore))}async function wh(s){const e=await Up(s),n=e.eventManager;return n.onListen=fC.bind(null,e.syncEngine),n.onUnlisten=pC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=dC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=gC.bind(null,e.syncEngine),n}function OC(s,e,n,r){const o=new kp(r),u=new Op(e,o,n);return s.asyncQueue.enqueueAndForget((async()=>Cp(await wh(s),u))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>Np(await wh(s),u)))}}function VC(s,e,n={}){const r=new Vi;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,y,g){const b=new kp({next:x=>{b.Nu(),f.enqueueAndForget((()=>Np(u,S)));const q=x.docs.has(m);!q&&x.fromCache?g.reject(new ie(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&x.fromCache&&y&&y.source==="server"?g.reject(new ie(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(x)},error:x=>g.reject(x)}),S=new Op(zh(m.path),b,{includeMetadataChanges:!0,Ka:!0});return Cp(u,S)})(await wh(s),s.asyncQueue,e,n,r))),r.promise}function MC(s,e,n={}){const r=new Vi;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,y,g){const b=new kp({next:x=>{b.Nu(),f.enqueueAndForget((()=>Np(u,S))),x.fromCache&&y.source==="server"?g.reject(new ie(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(x)},error:x=>g.reject(x)}),S=new Op(m,b,{includeMetadataChanges:!0,Ka:!0});return Cp(u,S)})(await wh(s),s.asyncQueue,e,n,r))),r.promise}function kC(s,e){const n=new Vi;return s.asyncQueue.enqueueAndForget((async()=>yC(await NC(s),e,n))),n.promise}function UC(s,e,n){const r=new Vi;return s.asyncQueue.enqueueAndForget((async()=>{const o=await DC(s);new RC(s.asyncQueue,o,n,e,r).ju()})),r.promise}function xE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const LC="ComponentProvider",Hv=new Map;function jC(s,e,n,r,o){return new nI(s,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,xE(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const RE="firestore.googleapis.com",Fv=!0;class Gv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ie(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=RE,this.ssl=Fv}else this.host=e.host,this.ssl=e.ssl??Fv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=oE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<o2)throw new ie(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xE(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ie(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ie(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ie(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xh{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ie(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new kR;switch(r.type){case"firstParty":return new PR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ie(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Hv.get(n);r&&(le(LC,"Removing Datastore"),Hv.delete(n),r.terminate())})(this),Promise.resolve()}}function PC(s,e,n,r={}){s=Rn(s,Xh);const o=bo(e),u=s._getSettings(),f={...u,emulatorOptions:s._getEmulatorOptions()},m=`${e}:${n}`;o&&(CT(`https://${m}`),NT("Firestore",!0)),u.host!==RE&&u.host!==m&&ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:m,ssl:o,emulatorOptions:r};if(!us(y,f)&&(s._setSettings(y),r.mockUserToken)){let g,b;if(typeof r.mockUserToken=="string")g=r.mockUserToken,b=Zt.MOCK_USER;else{g=LA(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new ie(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Zt(S)}s._authCredentials=new UR(new mb(g,b))}}class ps{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ps(this.firestore,e,this._query)}}class ct{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ct(this.firestore,e,this._key)}toJSON(){return{type:ct._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(au(n,ct._jsonSchema))return new ct(e,r||null,new ge(tt.fromString(n.referencePath)))}}ct._jsonSchemaVersion="firestore/documentReference/1.0",ct._jsonSchema={type:Dt("string",ct._jsonSchemaVersion),referencePath:Dt("string")};class rr extends ps{constructor(e,n,r){super(e,n,zh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ct(this.firestore,null,new ge(e))}withConverter(e){return new rr(this.firestore,e,this._path)}}function zC(s,e,...n){if(s=ht(s),pb("collection","path",e),s instanceof Xh){const r=tt.fromString(e,...n);return sv(r),new rr(s,null,r)}{if(!(s instanceof ct||s instanceof rr))throw new ie(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(tt.fromString(e,...n));return sv(r),new rr(s.firestore,null,r)}}function _r(s,e,...n){if(s=ht(s),arguments.length===1&&(e=ap.newId()),pb("doc","path",e),s instanceof Xh){const r=tt.fromString(e,...n);return iv(r),new ct(s,null,new ge(r))}{if(!(s instanceof ct||s instanceof rr))throw new ie(Y.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(tt.fromString(e,...n));return iv(r),new ct(s.firestore,s instanceof rr?s.converter:null,new ge(r))}}const Qv="AsyncQueue";class Yv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ep(this,"async_queue_retry"),this._c=()=>{const r=Tm();r&&le(Qv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Tm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Tm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Vi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Ao(e))throw e;le(Qv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,hs("INTERNAL UNHANDLED ERROR: ",Kv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Rp.createAndSchedule(this,e,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ve(47125,{Pc:Kv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Kv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class mr extends Xh{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new Yv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Yv(e),this._firestoreClient=void 0,await e}}}function BC(s,e){const n=typeof s=="object"?s:Zm(),r=typeof s=="string"?s:mh,o=ra(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=kA("firestore");u&&PC(o,...u)}return o}function fu(s){if(s._terminated)throw new ie(Y.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||qC(s),s._firestoreClient}function qC(s){const e=s._freezeSettings(),n=jC(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new IC(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(s._componentsProvider))}class Sn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sn(Xt.fromBase64String(e))}catch(n){throw new ie(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Sn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Sn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(au(e,Sn._jsonSchema))return Sn.fromBase64String(e.bytes)}}Sn._jsonSchemaVersion="firestore/bytes/1.0",Sn._jsonSchema={type:Dt("string",Sn._jsonSchemaVersion),bytes:Dt("string")};class $h{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ie(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Io{constructor(e){this._methodName=e}}class ki{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ie(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ie(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(e){if(au(e,ki._jsonSchema))return new ki(e.latitude,e.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:Dt("string",ki._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};class si{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:si._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(au(e,si._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new si(e.vectorValues);throw new ie(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}si._jsonSchemaVersion="firestore/vectorValue/1.0",si._jsonSchema={type:Dt("string",si._jsonSchemaVersion),vectorValues:Dt("object")};const HC=/^__.*__$/;class FC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new yr(e,this.data,this.fieldMask,n,this.fieldTransforms):new lu(e,this.data,n,this.fieldTransforms)}}class IE{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new yr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function CE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{dataSource:s})}}class Jh{constructor(e,n,r,o,u,f){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Jh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Sh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(CE(this.dataSource)&&HC.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class GC{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Qh(e)}createContext(e,n,r,o=!1){return new Jh({dataSource:e,methodName:n,targetDoc:r,path:Yt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zh(s){const e=s._freezeSettings(),n=Qh(s._databaseId);return new GC(s._databaseId,!!e.ignoreUndefinedProperties,n)}function NE(s,e,n,r,o,u={}){const f=s.createContext(u.merge||u.mergeFields?2:0,e,n,o);zp("Data must be an object, but it was:",f,r);const m=VE(r,f);let y,g;if(u.merge)y=new An(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const b=[];for(const S of u.mergeFields){const x=vo(e,S,n);if(!f.contains(x))throw new ie(Y.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);UE(b,x)||b.push(x)}y=new An(b),g=f.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,g=f.fieldTransforms;return new FC(new sn(m),y,g)}class Wh extends Io{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wh}}function QC(s,e,n){return new Jh({dataSource:3,targetDoc:e.settings.targetDoc,methodName:s._methodName,arrayElement:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Lp extends Io{_toFieldTransform(e){return new dp(e.path,new tu)}isEqual(e){return e instanceof Lp}}class jp extends Io{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=QC(this,e,!0),r=this.Ac.map((u=>Co(u,n))),o=new go(r);return new dp(e.path,o)}isEqual(e){return e instanceof jp&&us(this.Ac,e.Ac)}}class Pp extends Io{constructor(e,n){super(e),this.Vc=n}_toFieldTransform(e){const n=new iu(e.serializer,zb(e.serializer,this.Vc));return new dp(e.path,n)}isEqual(e){return e instanceof Pp&&this.Vc===e.Vc}}function DE(s,e,n,r){const o=s.createContext(1,e,n);zp("Data must be an object, but it was:",o,r);const u=[],f=sn.empty();gr(r,((y,g)=>{const b=kE(e,y,n);g=ht(g);const S=o.childContextForFieldPath(b);if(g instanceof Wh)u.push(b);else{const x=Co(g,S);x!=null&&(u.push(b),f.set(b,x))}}));const m=new An(u);return new IE(f,m,o.fieldTransforms)}function OE(s,e,n,r,o,u){const f=s.createContext(1,e,n),m=[vo(e,r,n)],y=[o];if(u.length%2!=0)throw new ie(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)m.push(vo(e,u[x])),y.push(u[x+1]);const g=[],b=sn.empty();for(let x=m.length-1;x>=0;--x)if(!UE(g,m[x])){const q=m[x];let X=y[x];X=ht(X);const W=f.childContextForFieldPath(q);if(X instanceof Wh)g.push(q);else{const ee=Co(X,W);ee!=null&&(g.push(q),b.set(q,ee))}}const S=new An(g);return new IE(b,S,f.fieldTransforms)}function YC(s,e,n,r=!1){return Co(n,s.createContext(r?4:3,e))}function Co(s,e){if(ME(s=ht(s)))return zp("Unsupported field value:",e,s),VE(s,e);if(s instanceof Io)return(function(r,o){if(!CE(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const u=[];let f=0;for(const m of r){let y=Co(m,o.childContextForArray(f));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),f++}return{arrayValue:{values:u}}})(s,e)}return(function(r,o){if((r=ht(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return zb(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=ot.fromDate(r);return{timestampValue:_h(o.serializer,u)}}if(r instanceof ot){const u=new ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_h(o.serializer,u)}}if(r instanceof ki)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Sn)return{bytesValue:Zb(o.serializer,r._byteString)};if(r instanceof ct){const u=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:yp(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof si)return(function(f,m){const y=f instanceof si?f.toArray():f;return{mapValue:{fields:{[Sb]:{stringValue:Ab},[ph]:{arrayValue:{values:y.map((b=>{if(typeof b!="number")throw m.createError("VectorValues must only contain numeric values.");return fp(m.serializer,b)}))}}}}}})(r,o);if(aE(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Lh(r)}`)})(s,e)}function VE(s,e){const n={};return _b(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gr(s,((r,o)=>{const u=Co(o,e.childContextForField(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function ME(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ot||s instanceof ki||s instanceof Sn||s instanceof ct||s instanceof Io||s instanceof si||aE(s))}function zp(s,e,n){if(!ME(n)||!gb(n)){const r=Lh(n);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function vo(s,e,n){if((e=ht(e))instanceof $h)return e._internalPath;if(typeof e=="string")return kE(s,e);throw Sh("Field path arguments must be of type string or ",s,!1,void 0,n)}const KC=new RegExp("[~\\*/\\[\\]]");function kE(s,e,n){if(e.search(KC)>=0)throw Sh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new $h(...e.split("."))._internalPath}catch{throw Sh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Sh(s,e,n,r,o){const u=r&&!r.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(u||f)&&(y+=" (found",u&&(y+=` in field ${r}`),f&&(y+=` in document ${o}`),y+=")"),new ie(Y.INVALID_ARGUMENT,m+s+y)}function UE(s,e){return s.some((n=>n.isEqual(e)))}class LE{convertValue(e,n="none"){switch(hr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(cr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return gr(e,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(e){const n=e.fields?.[ph].arrayValue?.values?.map((r=>vt(r.doubleValue)));return new si(n)}convertGeoPoint(e){return new ki(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ph(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Jl(e));default:return null}}convertTimestamp(e){const n=ur(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=tt.fromString(e);qe(rE(r),9688,{name:e});const o=new Zl(r.get(1),r.get(3)),u=new ge(r.popFirst(5));return o.isEqual(n)||hs(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class ef extends LE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ct(this.firestore,null,n)}}function jE(){return new Lp("serverTimestamp")}function XC(...s){return new jp("arrayUnion",s)}function PE(s){return new Pp("increment",s)}const Xv="@firebase/firestore",$v="4.10.0";function Jv(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(s,["next","error","complete"])}class Ah{constructor(e,n,r,o,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $C(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(vo("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $C extends Ah{data(){return super.data()}}function zE(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ie(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bp{}class qp extends Bp{}function JC(s,e,...n){let r=[];e instanceof Bp&&r.push(e),r=r.concat(n),(function(u){const f=u.filter((y=>y instanceof Fp)).length,m=u.filter((y=>y instanceof Hp)).length;if(f>1||f>0&&m>0)throw new ie(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class Hp extends qp{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Hp(e,n,r)}_apply(e){const n=this._parse(e);return BE(e._query,n),new ps(e.firestore,e.converter,Lm(e._query,n))}_parse(e){const n=Zh(e.firestore);return(function(u,f,m,y,g,b,S){let x;if(g.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new ie(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){Wv(S,b);const X=[];for(const W of S)X.push(Zv(y,u,W));x={arrayValue:{values:X}}}else x=Zv(y,u,S)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||Wv(S,b),x=YC(m,f,S,b==="in"||b==="not-in");return Nt.create(g,b,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Fp extends Bp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Fp(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:oi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const y of m)BE(f,y),f=Lm(f,y)})(e._query,n),new ps(e.firestore,e.converter,Lm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Gp extends qp{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Gp(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new ie(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ie(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new eu(u,f)})(e._query,this._field,this._direction);return new ps(e.firestore,e.converter,TI(e._query,n))}}function ZC(s,e="asc"){const n=e,r=vo("orderBy",s);return Gp._create(r,n)}class Qp extends qp{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Qp(e,n,r)}_apply(e){return new ps(e.firestore,e.converter,yh(e._query,this._limit,this._limitType))}}function WC(s){return Qp._create("limit",s,"F")}function Zv(s,e,n){if(typeof(n=ht(n))=="string"){if(n==="")throw new ie(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vb(e)&&n.indexOf("/")!==-1)throw new ie(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(tt.fromString(n));if(!ge.isDocumentKey(r))throw new ie(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return fv(s,new ge(r))}if(n instanceof ct)return fv(s,n._key);throw new ie(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lh(n)}.`)}function Wv(s,e){if(!Array.isArray(s)||s.length===0)throw new ie(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function BE(s,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ie(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ie(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function qE(s,e,n){let r;return r=s?n&&(n.merge||n.mergeFields)?s.toFirestore(e,n):s.toFirestore(e):e,r}class eN extends LE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ct(this.firestore,null,n)}}class io{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ar extends Ah{constructor(e,n,r,o,u,f){super(e,n,r,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(vo("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ie(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ar._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ar._jsonSchemaVersion="firestore/documentSnapshot/1.0",ar._jsonSchema={type:Dt("string",ar._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class sh extends ar{data(e={}){return super.data(e)}}class Zr{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new io(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new sh(this._firestore,this._userDataWriter,r.key,r,new io(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const y=new sh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new io(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const y=new sh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new io(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,b=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),b=f.indexOf(m.doc.key)),{type:tN(m.type),doc:y,oldIndex:g,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ie(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Zr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ap.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function tN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:s})}}Zr._jsonSchemaVersion="firestore/querySnapshot/1.0",Zr._jsonSchema={type:Dt("string",Zr._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};const nN={maxAttempts:5};function Bl(s,e){if((s=ht(s)).firestore!==e)throw new ie(Y.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}class iN{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Zh(e)}get(e){const n=Bl(e,this._firestore),r=new eN(this._firestore);return this._transaction.lookup([n._key]).then((o=>{if(!o||o.length!==1)return ve(24041);const u=o[0];if(u.isFoundDocument())return new Ah(this._firestore,r,u.key,u,n.converter);if(u.isNoDocument())return new Ah(this._firestore,r,n._key,null,n.converter);throw ve(18433,{doc:u})}))}set(e,n,r){const o=Bl(e,this._firestore),u=qE(o.converter,n,r),f=NE(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,r);return this._transaction.set(o._key,f),this}update(e,n,r,...o){const u=Bl(e,this._firestore);let f;return f=typeof(n=ht(n))=="string"||n instanceof $h?OE(this._dataReader,"Transaction.update",u._key,n,r,o):DE(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,f),this}delete(e){const n=Bl(e,this._firestore);return this._transaction.delete(n._key),this}}class sN extends iN{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Bl(e,this._firestore),r=new ef(this._firestore);return super.get(e).then((o=>new ar(this._firestore,r,n._key,o._document,new io(!1,!1),n.converter)))}}function rN(s,e,n){s=Rn(s,mr);const r={...nN,...n};(function(f){if(f.maxAttempts<1)throw new ie(Y.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r);const o=fu(s);return UC(o,(u=>e(new sN(s,u))),r)}function Yp(s){s=Rn(s,ct);const e=Rn(s.firestore,mr),n=fu(e);return VC(n,s._key).then((r=>GE(e,s,r)))}function aN(s){s=Rn(s,ps);const e=Rn(s.firestore,mr),n=fu(e),r=new ef(e);return zE(s._query),MC(n,s._query).then((o=>new Zr(e,r,s,o)))}function xh(s,e,n){s=Rn(s,ct);const r=Rn(s.firestore,mr),o=qE(s.converter,e,n),u=Zh(r);return FE(r,[NE(u,"setDoc",s._key,o,s.converter!==null,n).toMutation(s._key,rn.none())])}function HE(s,e,n,...r){s=Rn(s,ct);const o=Rn(s.firestore,mr),u=Zh(o);let f;return f=typeof(e=ht(e))=="string"||e instanceof $h?OE(u,"updateDoc",s._key,e,n,r):DE(u,"updateDoc",s._key,e),FE(o,[f.toMutation(s._key,rn.exists(!0))])}function oN(s,...e){s=ht(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Jv(e[r])||(n=e[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Jv(e[r])){const g=e[r];e[r]=g.next?.bind(g),e[r+1]=g.error?.bind(g),e[r+2]=g.complete?.bind(g)}let u,f,m;if(s instanceof ct)f=Rn(s.firestore,mr),m=zh(s._key.path),u={next:g=>{e[r]&&e[r](GE(f,s,g))},error:e[r+1],complete:e[r+2]};else{const g=Rn(s,ps);f=Rn(g.firestore,mr),m=g._query;const b=new ef(f);u={next:S=>{e[r]&&e[r](new Zr(f,b,g,S))},error:e[r+1],complete:e[r+2]},zE(s._query)}const y=fu(f);return OC(y,m,o,u)}function FE(s,e){const n=fu(s);return kC(n,e)}function GE(s,e,n){const r=n.docs.get(e._key),o=new ef(s);return new ar(s,o,e._key,r,new io(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){MR(Eo),ji(new ai("firestore",((r,{instanceIdentifier:o,options:u})=>{const f=r.getProvider("app").getImmediate(),m=new mr(new LR(r.getProvider("auth-internal")),new zR(f,r.getProvider("app-check-internal")),iI(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),qn(Xv,$v,e),qn(Xv,$v,"esm2020")})();function QE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lN=QE,YE=new sa("auth","Firebase",QE());const Rh=new Mh("@firebase/auth");function uN(s,...e){Rh.logLevel<=Ue.WARN&&Rh.warn(`Auth (${Eo}): ${s}`,...e)}function rh(s,...e){Rh.logLevel<=Ue.ERROR&&Rh.error(`Auth (${Eo}): ${s}`,...e)}function ds(s,...e){throw Kp(s,...e)}function Ui(s,...e){return Kp(s,...e)}function KE(s,e,n){const r={...lN(),[e]:n};return new sa("auth","Firebase",r).create(e,{appName:s.name})}function or(s){return KE(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kp(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return YE.create(s,...e)}function we(s,e,...n){if(!s)throw Kp(e,...n)}function os(s){const e="INTERNAL ASSERTION FAILED: "+s;throw rh(e),new Error(e)}function ms(s,e){s||os(e)}function Qm(){return typeof self<"u"&&self.location?.href||""}function cN(){return eT()==="http:"||eT()==="https:"}function eT(){return typeof self<"u"&&self.location?.protocol||null}function hN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cN()||DT()||"connection"in navigator)?navigator.onLine:!0}function fN(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class du{constructor(e,n){this.shortDelay=e,this.longDelay=n,ms(n>e,"Short delay should be less than long delay!"),this.isMobile=zA()||HA()}get(){return hN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Xp(s,e){ms(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class XE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;os("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;os("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;os("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const dN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const mN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pN=new du(3e4,6e4);function tf(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function la(s,e,n,r,o={}){return $E(s,o,async()=>{let u={},f={};r&&(e==="GET"?f=r:u={body:JSON.stringify(r)});const m=ru({key:s.config.apiKey,...f}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const g={method:e,headers:y,...u};return qA()||(g.referrerPolicy="no-referrer"),s.emulatorConfig&&bo(s.emulatorConfig.host)&&(g.credentials="include"),XE.fetch()(await ZE(s,s.config.apiHost,n,m),g)})}async function $E(s,e,n){s._canInitEmulator=!1;const r={...dN,...e};try{const o=new gN(s),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Jc(s,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[y,g]=m.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jc(s,"credential-already-in-use",f);if(y==="EMAIL_EXISTS")throw Jc(s,"email-already-in-use",f);if(y==="USER_DISABLED")throw Jc(s,"user-disabled",f);const b=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw KE(s,b,g);ds(s,b)}}catch(o){if(o instanceof li)throw o;ds(s,"network-request-failed",{message:String(o)})}}async function JE(s,e,n,r,o={}){const u=await la(s,e,n,r,o);return"mfaPendingCredential"in u&&ds(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function ZE(s,e,n,r){const o=`${e}${n}?${r}`,u=s,f=u.config.emulator?Xp(s.config,o):`${s.config.apiScheme}://${o}`;return mN.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class gN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ui(this.auth,"network-request-failed")),pN.get())})}}function Jc(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Ui(s,e,r);return o.customData._tokenResponse=n,o}async function yN(s,e){return la(s,"POST","/v1/accounts:delete",e)}async function Ih(s,e){return la(s,"POST","/v1/accounts:lookup",e)}function Kl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _N(s,e=!1){const n=ht(s),r=await n.getIdToken(e),o=$p(r);we(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:r,authTime:Kl(Em(o.auth_time)),issuedAtTime:Kl(Em(o.iat)),expirationTime:Kl(Em(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Em(s){return Number(s)*1e3}function $p(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return rh("JWT malformed, contained fewer than 3 sections"),null;try{const o=AT(n);return o?JSON.parse(o):(rh("Failed to decode base64 JWT payload"),null)}catch(o){return rh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function tT(s){const e=$p(s);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function To(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof li&&vN(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function vN({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class TN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Ym{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kl(this.lastLoginAt),this.creationTime=Kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ch(s){const e=s.auth,n=await s.getIdToken(),r=await To(s,Ih(e,{idToken:n}));we(r?.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const u=o.providerUserInfo?.length?WE(o.providerUserInfo):[],f=EN(s.providerData,u),m=s.isAnonymous,y=!(s.email&&o.passwordHash)&&!f?.length,g=m?y:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Ym(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(s,b)}async function bN(s){const e=ht(s);await Ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function EN(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function WE(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function wN(s,e){const n=await $E(s,{},async()=>{const r=ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,f=await ZE(s,o,"/v1/token",`key=${u}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:m,body:r};return s.emulatorConfig&&bo(s.emulatorConfig.host)&&(y.credentials="include"),XE.fetch()(f,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function SN(s,e){return la(s,"POST","/v2/accounts:revokeToken",tf(s,e))}class lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=tT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await wN(e,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,f=new lo;return r&&(we(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),o&&(we(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(we(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lo,this.toJSON())}_performRefresh(){return os("not implemented")}}function $s(s,e){we(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ii{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new TN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ym(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await To(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return _N(this,e)}reload(){return bN(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ii({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ch(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ni(this.auth.app))return Promise.reject(or(this.auth));const e=await this.getIdToken();return await To(this,yN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,y=n._redirectEventId??void 0,g=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:S,emailVerified:x,isAnonymous:q,providerData:X,stsTokenManager:W}=n;we(S&&W,e,"internal-error");const ee=lo.fromJSON(this.name,W);we(typeof S=="string",e,"internal-error"),$s(r,e.name),$s(o,e.name),we(typeof x=="boolean",e,"internal-error"),we(typeof q=="boolean",e,"internal-error"),$s(u,e.name),$s(f,e.name),$s(m,e.name),$s(y,e.name),$s(g,e.name),$s(b,e.name);const oe=new ii({uid:S,auth:e,email:o,emailVerified:x,displayName:r,isAnonymous:q,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:ee,createdAt:g,lastLoginAt:b});return X&&Array.isArray(X)&&(oe.providerData=X.map(pe=>({...pe}))),y&&(oe._redirectEventId=y),oe}static async _fromIdTokenResponse(e,n,r=!1){const o=new lo;o.updateFromServerResponse(n);const u=new ii({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Ch(u),u}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];we(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?WE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new lo;m.updateFromIdToken(r);const y=new ii({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ym(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(y,g),y}}const nT=new Map;function ls(s){ms(s instanceof Function,"Expected a class definition");let e=nT.get(s);return e?(ms(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,nT.set(s,e),e)}class ew{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ew.type="NONE";const iT=ew;function ah(s,e,n){return`firebase:${s}:${e}:${n}`}class uo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=ah(this.userKey,o.apiKey,u),this.fullPersistenceKey=ah("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ih(this.auth,{idToken:e}).catch(()=>{});return n?ii._fromGetAccountInfoResponse(this.auth,n,e):null}return ii._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new uo(ls(iT),e,r);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ls(iT);const f=ah(r,e.config.apiKey,e.name);let m=null;for(const g of n)try{const b=await g._get(f);if(b){let S;if(typeof b=="string"){const x=await Ih(e,{idToken:b}).catch(()=>{});if(!x)break;S=await ii._fromGetAccountInfoResponse(e,x,b)}else S=ii._fromJSON(e,b);g!==u&&(m=S),u=g;break}}catch{}const y=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new uo(u,e,r):(u=y[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new uo(u,e,r))}}function sT(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aw(e))return"Blackberry";if(ow(e))return"Webos";if(nw(e))return"Safari";if((e.includes("chrome/")||iw(e))&&!e.includes("edge/"))return"Chrome";if(rw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function tw(s=Wt()){return/firefox\//i.test(s)}function nw(s=Wt()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iw(s=Wt()){return/crios\//i.test(s)}function sw(s=Wt()){return/iemobile/i.test(s)}function rw(s=Wt()){return/android/i.test(s)}function aw(s=Wt()){return/blackberry/i.test(s)}function ow(s=Wt()){return/webos/i.test(s)}function Jp(s=Wt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function AN(s=Wt()){return Jp(s)&&!!window.navigator?.standalone}function xN(){return FA()&&document.documentMode===10}function lw(s=Wt()){return Jp(s)||rw(s)||ow(s)||aw(s)||/windows phone/i.test(s)||sw(s)}function uw(s,e=[]){let n;switch(s){case"Browser":n=sT(Wt());break;case"Worker":n=`${sT(Wt())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Eo}/${r}`}class RN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((f,m)=>{try{const y=e(u);f(y)}catch(y){m(y)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function IN(s,e={}){return la(s,"GET","/v2/passwordPolicy",tf(s,e))}const CN=6;class NN{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??CN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class DN{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rT(this),this.idTokenSubscription=new rT(this),this.beforeStateQueue=new RN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=YE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ls(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await uo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ih(this,{idToken:e}),r=await ii._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ni(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=r?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ch(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ni(this.app))return Promise.reject(or(this));const n=e?ht(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ni(this.app)?Promise.reject(or(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ni(this.app)?Promise.reject(or(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ls(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await IN(this),n=new NN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new sa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await SN(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ls(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await uo.create(this,[ls(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,r,o);return()=>{f=!0,y()}}else{const y=e.addObserver(n);return()=>{f=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&uN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function nf(s){return ht(s)}class rT{constructor(e){this.auth=e,this.observer=null,this.addObserver=JA(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Zp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ON(s){Zp=s}function VN(s){return Zp.loadJS(s)}function MN(){return Zp.gapiScript}function kN(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function UN(s,e){const n=ra(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(us(u,e??{}))return o;ds(o,"already-initialized")}return n.initialize({options:e})}function LN(s,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ls);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function jN(s,e,n){const r=nf(s);we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=cw(e),{host:f,port:m}=PN(e),y=m===null?"":`:${m}`,g={url:`${u}//${f}${y}/`},b=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){we(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),we(us(g,r.config.emulator)&&us(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,bo(f)?(CT(`${u}//${f}${y}`),NT("Auth",!0)):zN()}function cw(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function PN(s){const e=cw(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:aT(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:aT(f)}}}function aT(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function zN(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class hw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return os("not implemented")}_getIdTokenResponse(e){return os("not implemented")}_linkToIdToken(e,n){return os("not implemented")}_getReauthenticationResolver(e){return os("not implemented")}}async function co(s,e){return JE(s,"POST","/v1/accounts:signInWithIdp",tf(s,e))}const BN="http://localhost";class ia extends hw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ia(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ds("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...u}=n;if(!r||!o)return null;const f=new ia(r,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return co(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,co(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,co(e,n)}buildRequest(){const e={requestUri:BN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ru(n)}return e}}class fw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class mu extends fw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Js extends mu{constructor(){super("facebook.com")}static credential(e){return ia._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Js.credential(e.oauthAccessToken)}catch{return null}}}Js.FACEBOOK_SIGN_IN_METHOD="facebook.com";Js.PROVIDER_ID="facebook.com";class Zs extends mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ia._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Zs.credential(n,r)}catch{return null}}}Zs.GOOGLE_SIGN_IN_METHOD="google.com";Zs.PROVIDER_ID="google.com";class Ws extends mu{constructor(){super("github.com")}static credential(e){return ia._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ws.credential(e.oauthAccessToken)}catch{return null}}}Ws.GITHUB_SIGN_IN_METHOD="github.com";Ws.PROVIDER_ID="github.com";class er extends mu{constructor(){super("twitter.com")}static credential(e,n){return ia._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return er.credential(n,r)}catch{return null}}}er.TWITTER_SIGN_IN_METHOD="twitter.com";er.PROVIDER_ID="twitter.com";async function qN(s,e){return JE(s,"POST","/v1/accounts:signUp",tf(s,e))}class pr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const u=await ii._fromIdTokenResponse(e,r,o),f=oT(r);return new pr({user:u,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=oT(r);return new pr({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function oT(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function HN(s){if(ni(s.app))return Promise.reject(or(s));const e=nf(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new pr({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await qN(e,{returnSecureToken:!0}),r=await pr._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}class Nh extends li{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Nh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new Nh(e,n,r,o)}}function dw(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Nh._fromErrorAndOperation(s,u,e,r):u})}async function FN(s,e,n=!1){const r=await To(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return pr._forOperation(s,"link",r)}async function GN(s,e,n=!1){const{auth:r}=s;if(ni(r.app))return Promise.reject(or(r));const o="reauthenticate";try{const u=await To(s,dw(r,o,e,s),n);we(u.idToken,r,"internal-error");const f=$p(u.idToken);we(f,r,"internal-error");const{sub:m}=f;return we(s.uid===m,r,"user-mismatch"),pr._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ds(r,"user-mismatch"),u}}async function QN(s,e,n=!1){if(ni(s.app))return Promise.reject(or(s));const r="signIn",o=await dw(s,r,e),u=await pr._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(u.user),u}async function YN(s,e){return la(s,"POST","/v1/accounts:update",e)}async function KN(s,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ht(s),u={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},f=await To(r,YN(r.auth,u));r.displayName=f.displayName||null,r.photoURL=f.photoUrl||null;const m=r.providerData.find(({providerId:y})=>y==="password");m&&(m.displayName=r.displayName,m.photoURL=r.photoURL),await r._updateTokensIfNecessary(f)}function XN(s,e,n,r){return ht(s).onIdTokenChanged(e,n,r)}function $N(s,e,n){return ht(s).beforeAuthStateChanged(e,n)}function JN(s,e,n,r){return ht(s).onAuthStateChanged(e,n,r)}const Dh="__sak";class mw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dh,"1"),this.storage.removeItem(Dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const ZN=1e3,WN=10;class pw extends mw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,y)=>{this.notifyListeners(f,y)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);xN()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,WN):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},ZN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}pw.type="LOCAL";const eD=pw;class gw extends mw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}gw.type="SESSION";const yw=gw;function tD(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class sf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new sf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),y=await tD(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sf.receivers=[];function Wp(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}class nD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,y)=>{const g=Wp("",20);o.port1.start();const b=setTimeout(()=>{y(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(S){const x=S;if(x.data.eventId===g)switch(x.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(x.data.response);break;default:clearTimeout(b),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Li(){return window}function iD(s){Li().location.href=s}function _w(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function sD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rD(){return navigator?.serviceWorker?.controller||null}function aD(){return _w()?self:null}const vw="firebaseLocalStorageDb",oD=1,Oh="firebaseLocalStorage",Tw="fbase_key";class pu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rf(s,e){return s.transaction([Oh],e?"readwrite":"readonly").objectStore(Oh)}function lD(){const s=indexedDB.deleteDatabase(vw);return new pu(s).toPromise()}function Km(){const s=indexedDB.open(vw,oD);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Oh,{keyPath:Tw})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Oh)?e(r):(r.close(),await lD(),e(await Km()))})})}async function lT(s,e,n){const r=rf(s,!0).put({[Tw]:e,value:n});return new pu(r).toPromise()}async function uD(s,e){const n=rf(s,!1).get(e),r=await new pu(n).toPromise();return r===void 0?null:r.value}function uT(s,e){const n=rf(s,!0).delete(e);return new pu(n).toPromise()}const cD=800,hD=3;class bw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Km(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>hD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _w()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sf._getInstance(aD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await sD(),!this.activeServiceWorker)return;this.sender=new nD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Km();return await lT(e,Dh,"1"),await uT(e,Dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>lT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>uD(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>uT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=rf(o,!1).getAll();return new pu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bw.type="LOCAL";const fD=bw;new du(3e4,6e4);function dD(s,e){return e?ls(e):(we(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class eg extends hw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return co(e,this._buildIdpRequest())}_linkToIdToken(e,n){return co(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return co(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function mD(s){return QN(s.auth,new eg(s),s.bypassAuthState)}function pD(s){const{auth:e,user:n}=s;return we(n,e,"internal-error"),GN(n,new eg(s),s.bypassAuthState)}async function gD(s){const{auth:e,user:n}=s;return we(n,e,"internal-error"),FN(n,new eg(s),s.bypassAuthState)}class Ew{constructor(e,n,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const y={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(y))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mD;case"linkViaPopup":case"linkViaRedirect":return gD;case"reauthViaPopup":case"reauthViaRedirect":return pD;default:ds(this.auth,"internal-error")}}resolve(e){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const yD=new du(2e3,1e4);class so extends Ew{constructor(e,n,r,o,u){super(e,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,so.currentPopupAction&&so.currentPopupAction.cancel(),so.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){ms(this.filter.length===1,"Popup operations only handle one event");const e=Wp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,so.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,yD.get())};e()}}so.currentPopupAction=null;const _D="pendingRedirect",oh=new Map;class vD extends Ew{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=oh.get(this.auth._key());if(!e){try{const r=await TD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}oh.set(this.auth._key(),e)}return this.bypassAuthState||oh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function TD(s,e){const n=wD(e),r=ED(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function bD(s,e){oh.set(s._key(),e)}function ED(s){return ls(s._redirectPersistence)}function wD(s){return ah(_D,s.config.apiKey,s.name)}async function SD(s,e,n=!1){if(ni(s.app))return Promise.reject(or(s));const r=nf(s),o=dD(r,e),f=await new vD(r,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}const AD=600*1e3;class xD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!RD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!ww(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ui(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AD&&this.cachedEventUids.clear(),this.cachedEventUids.has(cT(e))}saveEventToCache(e){this.cachedEventUids.add(cT(e)),this.lastProcessedEventTime=Date.now()}}function cT(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function ww({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function RD(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ww(s);default:return!1}}async function ID(s,e={}){return la(s,"GET","/v1/projects",e)}const CD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ND=/^https?/;async function DD(s){if(s.config.emulator)return;const{authorizedDomains:e}=await ID(s);for(const n of e)try{if(OD(n))return}catch{}ds(s,"unauthorized-domain")}function OD(s){const e=Qm(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!ND.test(n))return!1;if(CD.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const VD=new du(3e4,6e4);function hT(){const s=Li().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function MD(s){return new Promise((e,n)=>{function r(){hT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{hT(),n(Ui(s,"network-request-failed"))},timeout:VD.get()})}if(Li().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Li().gapi?.load)r();else{const o=kN("iframefcb");return Li()[o]=()=>{gapi.load?r():n(Ui(s,"network-request-failed"))},VN(`${MN()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw lh=null,e})}let lh=null;function kD(s){return lh=lh||MD(s),lh}const UD=new du(5e3,15e3),LD="__/auth/iframe",jD="emulator/auth/iframe",PD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BD(s){const e=s.config;we(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Xp(e,jD):`https://${s.config.authDomain}/${LD}`,r={apiKey:e.apiKey,appName:s.name,v:Eo},o=zD.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${ru(r).slice(1)}`}async function qD(s){const e=await kD(s),n=Li().gapi;return we(n,s,"internal-error"),e.open({where:document.body,url:BD(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PD,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const f=Ui(s,"network-request-failed"),m=Li().setTimeout(()=>{u(f)},UD.get());function y(){Li().clearTimeout(m),o(r)}r.ping(y).then(y,()=>{u(f)})}))}const HD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FD=500,GD=600,QD="_blank",YD="http://localhost";class fT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KD(s,e,n,r=FD,o=GD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const y={...HD,width:r.toString(),height:o.toString(),top:u,left:f},g=Wt().toLowerCase();n&&(m=iw(g)?QD:n),tw(g)&&(e=e||YD,y.scrollbars="yes");const b=Object.entries(y).reduce((x,[q,X])=>`${x}${q}=${X},`,"");if(AN(g)&&m!=="_self")return XD(e||"",m),new fT(null);const S=window.open(e||"",m,b);we(S,s,"popup-blocked");try{S.focus()}catch{}return new fT(S)}function XD(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const $D="__/auth/handler",JD="emulator/auth/handler",ZD=encodeURIComponent("fac");async function dT(s,e,n,r,o,u){we(s.config.authDomain,s,"auth-domain-config-required"),we(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:Eo,eventId:o};if(e instanceof fw){e.setDefaultLanguage(s.languageCode),f.providerId=e.providerId||"",$A(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,S]of Object.entries({}))f[b]=S}if(e instanceof mu){const b=e.getScopes().filter(S=>S!=="");b.length>0&&(f.scopes=b.join(","))}s.tenantId&&(f.tid=s.tenantId);const m=f;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const y=await s._getAppCheckToken(),g=y?`#${ZD}=${encodeURIComponent(y)}`:"";return`${WD(s)}?${ru(m).slice(1)}${g}`}function WD({config:s}){return s.emulator?Xp(s,JD):`https://${s.authDomain}/${$D}`}const wm="webStorageSupport";class e4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yw,this._completeRedirectFn=SD,this._overrideRedirectResult=bD}async _openPopup(e,n,r,o){ms(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await dT(e,n,r,Qm(),o);return KD(e,u,Wp())}async _openRedirect(e,n,r,o){await this._originValidation(e);const u=await dT(e,n,r,Qm(),o);return iD(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ms(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await qD(e),r=new xD(e);return n.register("authEvent",o=>(we(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wm,{type:wm},o=>{const u=o?.[0]?.[wm];u!==void 0&&n(!!u),ds(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=DD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return lw()||nw()||Jp()}}const t4=e4;var mT="@firebase/auth",pT="1.12.0";class n4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function i4(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function s4(s){ji(new ai("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=r.options;we(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:f,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uw(s)},g=new DN(r,o,u,y);return LN(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ji(new ai("auth-internal",e=>{const n=nf(e.getProvider("auth").getImmediate());return(r=>new n4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qn(mT,pT,i4(s)),qn(mT,pT,"esm2020")}const r4=300,a4=IT("authIdTokenMaxAge")||r4;let gT=null;const o4=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>a4)return;const o=n?.token;gT!==o&&(gT=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function l4(s=Zm()){const e=ra(s,"auth");if(e.isInitialized())return e.getImmediate();const n=UN(s,{popupRedirectResolver:t4,persistence:[fD,eD,yw]}),r=IT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=o4(u.toString());$N(n,f,()=>f(n.currentUser)),XN(n,m=>f(m))}}const o=xT("auth");return o&&jN(n,`http://${o}`),n}function u4(){return document.getElementsByTagName("head")?.[0]??document}ON({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const u=Ui("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",u4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});s4("Browser");const c4={apiKey:"AIzaSyAVpKz8TJcz9Q0CbSj2v_KQyeEs6SsuXsI",authDomain:"invitation-475eb.firebaseapp.com",projectId:"invitation-475eb",storageBucket:"invitation-475eb.firebasestorage.app",messagingSenderId:"1068873981449",appId:"1:1068873981449:web:82210f667d60117585e2d8",measurementId:"G-5YHV8DE43L"},tg=LT(c4);CR(tg);const zi=BC(tg),ri=l4(tg),h4=s=>{window.dispatchEvent(new CustomEvent("show-toast",{detail:{message:s}}))},f4=()=>{const[s,e]=ae.useState(null);return ae.useEffect(()=>{const n=r=>{const o=r.detail.message,u=Date.now();e({message:o,id:u}),setTimeout(()=>{e(f=>f&&f.id===u?null:f)},3e3)};return window.addEventListener("show-toast",n),()=>window.removeEventListener("show-toast",n)},[]),s?T.jsxs("div",{style:yT.toast,children:[T.jsx("span",{style:yT.icon,children:""}),s.message]}):null},yT={toast:{position:"fixed",top:"20px",left:"50%",transform:"translateX(-50%)",backgroundColor:"rgba(0, 0, 0, 0.9)",color:"#ffd700",padding:"12px 24px",borderRadius:"30px",fontSize:"0.9rem",fontWeight:"bold",zIndex:9999,display:"flex",alignItems:"center",gap:"8px",boxShadow:"0 4px 15px rgba(0,0,0,0.3)",animation:"slideDown 0.3s ease-out",whiteSpace:"nowrap",border:"1px solid #ffd700"},icon:{fontSize:"1.2rem"}},Sw=document.createElement("style");Sw.innerText=`
  @keyframes slideDown {
    from { transform: translate(-50%, -20px); opacity: 0; }
    to { transform: translate(-50%, 0); opacity: 1; }
  }
`;document.head.appendChild(Sw);const no={FIRST_STEP:{id:"FIRST_STEP",title:" ",desc:"  ."},RUNNER:{id:"RUNNER",title:" ",desc:" () ."},HIGH_SCORE:{id:"HIGH_SCORE",title:" ",desc:"  100 !"},WEDDING_CRASHER:{id:"WEDDING_CRASHER",title:" ?",desc:"   10 ."},DATA_COLLECTOR:{id:"DATA_COLLECTOR",title:" ",desc:"    ."}},su=async(s,e=null)=>{const n=ri.currentUser;if(n)try{const r=_r(zi,"users",n.uid),o=await Yp(r);if(!o.exists())return;const f=o.data().achievements||[],m=async y=>{if(f.includes(y))return;const g=no[y];h4(` : ${g.title}`),await HE(r,{achievements:XC(y)})};switch(s){case"LOGIN":await m(no.FIRST_STEP.id);break;case"GAME_START":await m(no.RUNNER.id);break;case"GAME_SCORE":e>=100&&await m(no.HIGH_SCORE.id);break;case"TOUCH_CHARACTER":e&&e.groom>=10&&e.bride>=10&&await m(no.WEDDING_CRASHER.id);break;default:break}}catch(r){console.error("Error checking achievement:",r)}},d4=({onStart:s,onSwitchToV1:e})=>{const[n,r]=ae.useState(!1),[o,u]=ae.useState(""),[f,m]=ae.useState(!1),[y,g]=ae.useState("  ...");ae.useEffect(()=>{r(!0);const x=JN(ri,q=>{});return()=>x()},[]);const b=async()=>{if(!o.trim()){alert(" ! ()");return}m(!0),g("   ...  ! "),[{text:"    ...  ! ",delay:800},{text:"    ... ",delay:1600},{text:`, [${o}] !  .`,delay:2400}].forEach(({text:q,delay:X})=>{setTimeout(()=>g(q),X)}),setTimeout(async()=>{try{let q=ri.currentUser;q||(q=(await HN(ri)).user),await KN(q,{displayName:o});const X=_r(zi,"users",q.uid);(await Yp(X)).exists()?await xh(X,{nickname:o},{merge:!0}):await xh(X,{nickname:o,achievements:[],createdAt:new Date}),su("LOGIN"),s()}catch(q){console.error("Login Failed",q),alert(" .  ."),m(!1)}},3e3)},S=new URL("/Invitation/assets/pixel_castle_bg-JX_UEiKn.png",import.meta.url).href;return T.jsxs("div",{className:"flex flex-col items-center justify-center h-full w-full font-pixel relative overflow-hidden text-white",children:[T.jsx("div",{className:"absolute inset-0 z-0 bg-cover bg-center",style:{backgroundImage:`url(${S})`,imageRendering:"pixelated"},children:T.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-[2px]"})}),T.jsxs("div",{className:`relative z-10 flex flex-col items-center p-8 transition-all duration-700 transform ${n?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[T.jsx("div",{className:"absolute inset-0 border-4 border-white bg-black/60 shadow-lg",style:{clipPath:"polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)"}}),T.jsxs("div",{className:"relative z-20 flex flex-col items-center text-center w-full max-w-md",children:[T.jsxs("div",{className:"mb-10 animate-pulse",children:[T.jsx("p",{className:"text-yellow-400 text-sm tracking-[0.2em] mb-2 uppercase shine",children:"  "}),T.jsxs("h1",{className:"text-5xl md:text-7xl text-white drop-shadow-[4px_4px_0_rgba(0,0,0,1)] leading-tight font-pixel",children:["WEDDING",T.jsx("br",{}),"QUEST"]})]}),T.jsx("div",{className:"w-full flex flex-col gap-4",children:f?T.jsx("div",{className:"w-full border-4 border-white p-6 bg-black/80 text-center",children:T.jsxs("p",{className:"text-green-400 text-lg animate-pulse",children:[">"," ",y," ",T.jsx("span",{className:"animate-blink",children:"_"})]})}):T.jsxs(T.Fragment,{children:[T.jsx("input",{type:"text",placeholder:" ()",value:o,onChange:x=>u(x.target.value),className:"w-full bg-black/50 border-4 border-white text-white p-4 text-center text-xl placeholder:text-gray-500 focus:bg-black/70 focus:outline-none focus:border-yellow-400 transition-colors uppercase font-pixel",maxLength:8,onKeyDown:x=>x.key==="Enter"&&b(),autoFocus:!0}),T.jsx("button",{onClick:b,className:"w-full bg-blue-600 border-b-4 border-r-4 border-blue-800 text-white p-4 text-xl hover:bg-blue-500 hover:translate-y-1 hover:border-b-0 hover:border-r-0 active:translate-y-2 transition-all group relative overflow-hidden",children:T.jsx("span",{className:"relative z-10",children:"  (START)"})})]})}),T.jsx("button",{onClick:e,className:"mt-8 text-xs text-white/50 hover:text-white underline decoration-dashed underline-offset-4",children:"[    ]"})]})]}),T.jsx("div",{className:"absolute inset-0 pointer-events-none z-50 opacity-10",style:{background:"linear-gradient(to bottom, transparent 50%, rgba(0, 0, 0, 0.5) 51%)",backgroundSize:"100% 4px"}})]})},Aw="/Invitation/assets/groom_nobg-tvOAzn_6.png",ng="/Invitation/assets/bride_nobg-CV5a6LWZ.png",Xm=async s=>{const e=ri.currentUser;if(e&&!(s<=0))try{const n=_r(zi,"users",e.uid);await HE(n,{diamonds:PE(s)}),console.log(`Earned ${s} Diamonds!`)}catch(n){console.error("Error adding diamonds:",n)}},m4=async s=>{const e=ri.currentUser;if(!e)return!1;const n=_r(zi,"users",e.uid);try{return await rN(zi,async o=>{const u=await o.get(n);if(!u.exists())throw"User does not exist!";return(u.data().diamonds||0)<s?!1:(o.update(n,{diamonds:PE(-s)}),!0)})}catch(r){return console.error("Transaction failed: ",r),!1}},p4=s=>{const e=ri.currentUser;if(!e)return s(0),()=>{};const n=_r(zi,"users",e.uid);return oN(n,o=>{o.exists()?s(o.data().diamonds||0):s(0)})},g4="/Invitation/assets/groom-cEf0GPId.jpg",y4="/Invitation/assets/bride-C9xQdNrL.jpg",_4=()=>{const[s,e]=ae.useState(null),[n,r]=ae.useState(!1),o=[{id:"groom",name:"",type:"[ / ]",stars:"",desc:'"   ,    .  ,  ."',atk:"",def:"",img:g4,bank:"",account:"49591044955107",displayAccount:"495-910449-55107",holder:""},{id:"bride",name:"",type:"[ / ]",stars:"",desc:'"    ,     .    ."',atk:"",def:"",img:y4,bank:"",account:"110297915880",displayAccount:"110-297-915880",holder:""}],u=f=>{const m=`${f.account} ${f.bank}`;navigator.clipboard.writeText(m).then(()=>{r(!0),setTimeout(()=>r(!1),2e3)}).catch(y=>{console.error("Failed to copy: ",y)}),e(f.id)};return T.jsxs("section",{className:"py-24 px-4 bg-background text-center relative overflow-hidden",children:[T.jsx("div",{className:"absolute top-20 left-10 w-40 h-40 bg-primary/10 rounded-full blur-3xl animate-pulse"}),T.jsx("div",{className:"absolute bottom-20 right-10 w-60 h-60 bg-secondary/10 rounded-full blur-3xl animate-pulse delay-700"}),T.jsx("h2",{className:"text-3xl md:text-4xl text-primary font-heading font-medium mb-4 animate-fade-in-up relative z-10",children:"Groom & Bride"}),T.jsx("p",{className:"text-text/60 mb-12 animate-fade-in-up delay-100 font-body relative z-10",children:"   "}),T.jsx("div",{className:"flex flex-col md:flex-row justify-center gap-8 items-stretch max-w-5xl mx-auto relative z-10",children:o.map((f,m)=>T.jsx("div",{className:"relative w-full max-w-md group",children:T.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-[2.5rem] p-8 shadow-soft-lg border border-white/60 hover:shadow-soft-xl hover:-translate-y-2 transition-all duration-500 h-full flex flex-col items-center",children:[T.jsxs("div",{className:"relative w-48 h-48 mb-6",children:[T.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-tr from-primary/20 to-secondary/20 animate-spin-slow blur-md"}),T.jsx("div",{className:"absolute inset-1 rounded-full bg-white p-1 shadow-inner",children:T.jsx("img",{src:f.img,alt:f.name,className:"w-full h-full object-cover rounded-full"})})]}),T.jsx("h3",{className:"text-2xl font-bold text-text mb-2 font-heading",children:f.name}),T.jsx("p",{className:"text-primary font-body text-lg mb-6",children:f.type.replace("[","").replace("]","")}),T.jsx("div",{className:"w-full bg-background/50 rounded-2xl p-6 mb-6 flex-1 border border-primary/5",children:T.jsx("p",{className:"font-body text-text/80 italic leading-relaxed text-lg",children:f.desc.replace(/"/g,"")})}),T.jsxs("button",{onClick:()=>u(f),className:"w-full py-4 bg-white border border-primary/20 rounded-xl shadow-sm hover:shadow-md hover:border-primary/50 transition-all flex flex-col items-center justify-center gap-1 group/btn",children:[T.jsxs("div",{className:"flex items-center gap-2 text-text/60 text-sm group-hover/btn:text-primary transition-colors",children:[T.jsx("span",{children:f.bank}),T.jsx("span",{className:"w-1 h-3 bg-gray-300 rounded-full"}),T.jsx("span",{children:f.holder})]}),T.jsx("span",{className:"font-body font-bold text-lg text-text tracking-wide group-hover/btn:text-primary transition-colors",children:f.displayAccount}),T.jsx("span",{className:"text-xs text-primary/60 font-medium opacity-0 group-hover/btn:opacity-100 transition-opacity -mb-4 absolute bottom-2",children:"Click to Copy"})]})]})},f.id))}),T.jsx("div",{className:`
                    fixed bottom-10 left-1/2 -translate-x-1/2 bg-white/90 backdrop-blur-md text-text px-8 py-4 rounded-full shadow-soft-xl z-[100] whitespace-nowrap transition-all duration-500 border border-white/50
                    ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-8 pointer-events-none"}
                `,children:T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("span",{className:"text-primary text-xl",children:""}),T.jsx("span",{className:"font-body font-medium text-lg",children:" "})]})})]})},v4="/Invitation/assets/groom_sprites-C9FWbZGX.png",T4="/Invitation/assets/bride_sprites-CIfQIsBB.png",Kt={audioCtx:null,init(){this.audioCtx||(this.audioCtx=new(window.AudioContext||window.webkitAudioContext))},playTone(s,e,n,r=.1){try{if(this.audioCtx||this.init(),!this.audioCtx)return;this.audioCtx.state==="suspended"&&this.audioCtx.resume().catch(()=>{});const o=this.audioCtx.createOscillator(),u=this.audioCtx.createGain();o.type=e,o.frequency.setValueAtTime(s,this.audioCtx.currentTime),u.gain.setValueAtTime(r,this.audioCtx.currentTime),u.gain.exponentialRampToValueAtTime(.01,this.audioCtx.currentTime+n),o.connect(u),u.connect(this.audioCtx.destination),o.start(),o.stop(this.audioCtx.currentTime+n)}catch(o){console.warn("Audio play failed",o)}},playClick(){this.playTone(800,"sine",.1,.1)},playConfirm(){try{if(this.audioCtx||this.init(),!this.audioCtx)return;this.audioCtx.state==="suspended"&&this.audioCtx.resume().catch(()=>{});const s=this.audioCtx.currentTime,e=this.audioCtx.createOscillator(),n=this.audioCtx.createGain();e.type="sine",e.frequency.setValueAtTime(600,s),e.frequency.exponentialRampToValueAtTime(1200,s+.1),n.gain.setValueAtTime(.1,s),n.gain.exponentialRampToValueAtTime(.01,s+.2),e.connect(n),n.connect(this.audioCtx.destination),e.start(),e.stop(s+.2)}catch(s){console.warn("Audio confirm failed",s)}},playHover(){this.playTone(400,"sine",.05,.05)},playDamage(){this.playTone(150,"sawtooth",.2,.2)},playWin(){try{if(this.audioCtx||this.init(),!this.audioCtx)return;this.audioCtx.state==="suspended"&&this.audioCtx.resume().catch(()=>{});const s=this.audioCtx.currentTime;[523.25,659.25,783.99,1046.5].forEach((e,n)=>{const r=this.audioCtx.createOscillator(),o=this.audioCtx.createGain();r.type="square",r.frequency.setValueAtTime(e,s+n*.1),o.gain.setValueAtTime(.1,s+n*.1),o.gain.exponentialRampToValueAtTime(.01,s+n*.1+.1),r.connect(o),o.connect(this.audioCtx.destination),r.start(s+n*.1),r.stop(s+n*.1+.1)})}catch{}},playJump(){try{if(this.audioCtx||this.init(),!this.audioCtx)return;this.audioCtx.state==="suspended"&&this.audioCtx.resume().catch(()=>{});const s=this.audioCtx.currentTime,e=this.audioCtx.createOscillator(),n=this.audioCtx.createGain();e.type="square",e.frequency.setValueAtTime(150,s),e.frequency.linearRampToValueAtTime(300,s+.1),n.gain.setValueAtTime(.1,s),n.gain.exponentialRampToValueAtTime(.01,s+.1),e.connect(n),n.connect(this.audioCtx.destination),e.start(),e.stop(s+.1)}catch{}}},b4=({selectedCharacter:s="groom"})=>{const e=ae.useRef(null),[n,r]=ae.useState("START"),[o,u]=ae.useState(0),[f,m]=ae.useState(0),[y,g]=ae.useState(s),[b,S]=ae.useState(!1),x=ae.useRef(null),q=ae.useRef(0),X=ae.useRef(new Image),W=ae.useRef(new Image),ee=ae.useRef(new Image);ae.useEffect(()=>{let Se=0;const Ne=3,H=()=>{Se++,Se>=Ne&&S(!0)},te=new Image;te.src=new URL("/Invitation/assets/pixel_castle_bg-JX_UEiKn.png",import.meta.url).href,te.onload=()=>{ee.current=te,H()};const ce=he=>new Promise(A=>{const L=new Image;L.crossOrigin="Anonymous",L.src=he,L.onload=()=>{const Z=document.createElement("canvas");Z.width=L.width,Z.height=L.height;const re=Z.getContext("2d");re.drawImage(L,0,0);const se=re.getImageData(0,0,Z.width,Z.height),me=se.data;for(let it=0;it<me.length;it+=4){const st=me[it],Bi=me[it+1],gs=me[it+2];st>240&&Bi>240&&gs>240&&(me[it+3]=0)}re.putImageData(se,0,0);const xe=new Image;xe.onload=()=>A(xe),xe.src=Z.toDataURL()}}),fe=async(he,A)=>{const L=await ce(A);he.current=L,H()};fe(X,v4),fe(W,T4)},[]);const oe=800,pe=400,ye=50,ze=2026,Ye=160,be=40,C=ae.useRef({dino:{x:50,y:0,w:0,h:0,dy:0,grounded:!0},items:[],obstacles:[],clouds:[],particles:[],fireworks:[],frame:0,bgOffset:0,isGameOver:!1,isGameClear:!1,animationId:null}),I=()=>{const Se=Ye;let Ne=Ye;const H=y==="groom"?X.current:W.current;if(H&&H.complete&&H.width>0){const te=H.width/3,ce=H.height,fe=te/ce;Ne=Se*fe}C.current={dino:{x:100,y:pe-ye-Se,w:Ne,h:Se,dy:0,grounded:!0},items:[],obstacles:[],clouds:[],particles:[],fireworks:[],frame:0,bgOffset:0,isGameOver:!1,isGameClear:!1,animationId:null,speed:8,spawnRate:100},u(0),q.current=0,m(0)},N=()=>{if(C.current.dino.grounded){Kt.playJump(),C.current.dino.dy=-18,C.current.dino.grounded=!1;for(let Se=0;Se<5;Se++)C.current.particles.push({x:C.current.dino.x+C.current.dino.w/2,y:C.current.dino.y+C.current.dino.h+be,vx:(Math.random()-.5)*5,vy:(Math.random()-.5)*2,life:20,color:"#fff"})}},M=(Se,Ne)=>{const H=["#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF"],te=H[Math.floor(Math.random()*H.length)];for(let ce=0;ce<20;ce++){const fe=Math.random()*Math.PI*2,he=Math.random()*5+2;C.current.fireworks.push({x:Se,y:Ne,vx:Math.cos(fe)*he,vy:Math.sin(fe)*he,life:60,color:te})}},D=async Se=>{const Ne=ri.currentUser;if(Ne)try{const H=_r(zi,"scores",Ne.uid);await xh(H,{uid:Ne.uid,displayName:Ne.displayName||"Guest",score:Se,timestamp:jE()},{merge:!0})}catch(H){console.error(H)}};ae.useEffect(()=>{const Ne=e.current.getContext("2d");Ne.imageSmoothingEnabled=!1;let H=performance.now();n==="PLAYING"&&(x.current&&clearInterval(x.current),x.current=setInterval(()=>{m(fe=>fe+1)},1e3));const te=fe=>{if(n!=="PLAYING")return;const he=Math.min((fe-H)/16,2);H=fe;const A=C.current;if(!A.isGameClear&&!A.isGameOver){if(A.frame++,A.speed=Math.min(16,8+Math.floor(A.frame/500)),A.spawnRate=Math.max(40,100-Math.floor(A.frame/300)*10),A.bgOffset+=A.speed*.5*he,A.frame%30===0&&q.current>=ze&&(A.isGameClear=!0,r("CLEAR"),su("GAME_CLEAR"),D(q.current),Xm(q.current),Kt.playWin(),M(oe/2,pe/2),x.current&&clearInterval(x.current)),A.dino.dy+=.8*he,A.dino.y+=A.dino.dy*he,A.dino.y+A.dino.h>pe-ye&&(A.dino.y=pe-ye-A.dino.h,A.dino.dy=0,A.dino.grounded=!0),A.frame%A.spawnRate===0)if(Math.random()>.4){const me=["","","","",""],xe=me[Math.floor(Math.random()*me.length)];A.items.push({x:oe,y:pe-ye-60-Math.random()*100,w:50,h:50,type:xe,vy:Math.sin(A.frame)*.5})}else{const me=["","",""],xe=me[Math.floor(Math.random()*me.length)];A.obstacles.push({x:oe,y:pe-ye-50,w:50,h:50,type:xe})}const L=se=>{se.x-=A.speed*he,se.vy&&(se.y+=Math.sin(A.frame*.1)*2*he)};[...A.items,...A.obstacles].forEach(L),A.items=A.items.filter(se=>se.x+se.w>0&&!se.collected),A.obstacles=A.obstacles.filter(se=>se.x+se.w>0);const Z=20,re=se=>A.dino.x+Z<se.x+se.w-Z&&A.dino.x+A.dino.w-Z>se.x+Z&&A.dino.y+Z<se.y+se.h-Z&&A.dino.y+A.dino.h-Z>se.y+Z;A.items.forEach(se=>{if(re(se)){se.collected=!0,Kt.playConfirm(),u(me=>{const xe=me+1;return q.current=xe,xe});for(let me=0;me<5;me++)A.particles.push({x:se.x,y:se.y,vx:(Math.random()-.5)*5,vy:(Math.random()-.5)*5,life:30,color:"#FFD700"})}}),A.obstacles.forEach(se=>{re(se)&&(Kt.playDamage(),A.isGameOver=!0,r("GAME_OVER"),x.current&&clearInterval(x.current),D(q.current),Xm(q.current))})}else A.isGameClear&&(A.frame%30===0&&M(Math.random()*oe,Math.random()*pe/2),x.current&&clearInterval(x.current));A.particles.forEach(L=>{L.x+=L.vx*he,L.y+=L.vy*he,L.life-=he,L.vy+=.1*he}),A.fireworks.forEach(L=>{L.x+=L.vx*he,L.y+=L.vy*he,L.life-=he,L.vy+=.1*he}),A.particles=A.particles.filter(L=>L.life>0),A.fireworks=A.fireworks.filter(L=>L.life>0),ce(Ne),(n==="PLAYING"||n==="CLEAR")&&(C.current.animationId=requestAnimationFrame(te))},ce=fe=>{const he=C.current;if(ee.current&&ee.current.complete){const L=-(he.bgOffset%ee.current.width);fe.drawImage(ee.current,L,0,ee.current.width,pe),fe.drawImage(ee.current,L+ee.current.width,0,ee.current.width,pe)}else fe.fillStyle="#87CEEB",fe.fillRect(0,0,oe,pe);fe.textAlign="center",fe.textBaseline="middle",fe.font="40px Silkscreen",he.items.forEach(L=>{L.collected||fe.fillText(L.type,L.x+L.w/2,L.y+L.h/2)}),he.obstacles.forEach(L=>{fe.fillText(L.type,L.x+L.w/2,L.y+L.h/2)});const A=y==="groom"?X.current:W.current;if(A&&A.complete&&A.width>0){const L=A.width/3,Z=A.height,re=Math.floor(he.frame/6)%2+1,se=he.dino.grounded&&!he.isGameClear?re:0;fe.drawImage(A,se*L,0,L,Z,he.dino.x,he.dino.y+be,he.dino.w,he.dino.h)}he.particles.forEach(L=>{fe.fillStyle=L.color,fe.fillRect(L.x,L.y,4,4)}),he.fireworks.forEach(L=>{fe.fillStyle=L.color,fe.fillRect(L.x,L.y,3,3)})};return n==="PLAYING"||n==="CLEAR"?(H=performance.now(),C.current.animationId=requestAnimationFrame(te)):ce(Ne),()=>{cancelAnimationFrame(C.current.animationId),x.current&&clearInterval(x.current)}},[n,y,b]);const k=()=>{n==="START"||n==="GAME_OVER"||n==="CLEAR"?(Kt.playClick(),I(),r("PLAYING"),su("GAME_START")):N()},R=Se=>{const Ne=Math.floor(Se/60),H=Se%60;return`${Ne.toString().padStart(2,"0")}:${H.toString().padStart(2,"0")}`};return T.jsxs("div",{onClick:k,className:"relative w-full aspect-[2/1] bg-sky-300 border-4 border-black overflow-hidden shadow-[8px_8px_0_rgba(0,0,0,0.5)] font-['Silkscreen'] select-none cursor-pointer",children:[T.jsx("canvas",{ref:e,width:800,height:400,className:"w-full h-full block",style:{imageRendering:"pixelated"}}),n==="START"&&T.jsxs("div",{className:"absolute inset-0 bg-black/60 flex flex-col items-center justify-center text-white p-4 font-['Silkscreen']",children:[T.jsx("h2",{className:"text-4xl text-yellow-400 mb-4 animate-bounce drop-shadow-md font-['Silkscreen']",children:"WEDDING RUN"}),T.jsx("p",{className:"text-sm mb-8 animate-pulse text-gray-300",children:"INSERT COIN TO START"}),T.jsx("div",{className:"border-4 border-white px-6 py-2 bg-blue-600 hover:bg-blue-500 blink",children:"PRESS START"})]}),n==="GAME_OVER"&&T.jsxs("div",{className:"absolute inset-0 bg-black/70 flex flex-col items-center justify-center text-white font-['Silkscreen']",children:[T.jsx("h2",{className:"text-5xl text-red-500 mb-4 drop-shadow-md font-['Silkscreen']",children:"GAME OVER"}),T.jsxs("p",{className:"text-2xl mb-2",children:["SCORE: ",o]}),T.jsxs("p",{className:"text-xl mb-2 text-cyan-400 font-bold animate-pulse",children:[" EARNED: +",o]}),T.jsxs("p",{className:"text-lg text-gray-400 mb-8",children:["TIME: ",R(f)]}),T.jsx("div",{className:"border-4 border-white px-6 py-2 hover:bg-white hover:text-black transition-colors",children:"RETRY ?"})]}),T.jsx("div",{className:"absolute top-4 left-4 z-20",children:T.jsxs("div",{className:"bg-black/50 text-white px-3 py-1 border-2 border-white/50 text-sm flex items-center shadow-md backdrop-blur-sm rounded-md",children:[" ",R(f)]})}),T.jsxs("div",{className:"absolute top-4 right-4 text-2xl text-white drop-shadow-[2px_2px_0_black]",children:["SCORE: ",o]})]})};var E4=vT();const Zc=TT(),Sm={SSR:.1,SR:.3},w4=()=>{const[s,e]=ae.useState([]),[n,r]=ae.useState(!1),o=async u=>{if(n||Zc.length===0)return;if(Kt.playClick(),!await m4(u)){alert(` ! ${u} ! `);return}r(!0),e([]),setTimeout(()=>{const m=[];for(let y=0;y<u;y++){const g=Math.random();let b="R";g<Sm.SSR?b="SSR":g<Sm.SSR+Sm.SR&&(b="SR");let S=Zc.filter(X=>X.rarity===b);S.length===0&&(b="SR",S=Zc.filter(X=>X.rarity===b)),S.length===0&&(b="R",S=Zc.filter(X=>X.rarity===b));const x=S[Math.floor(Math.random()*S.length)],q=JSON.parse(localStorage.getItem("wedding_collection_v2")||"[]");q.includes(x.path)||(q.push(x.path),localStorage.setItem("wedding_collection_v2",JSON.stringify(q))),m.push({image:x.src,rarity:b==="SSR"?"SSR/":b==="SR"?"SR/":"R/",originalRarity:b})}window.dispatchEvent(new Event("collectionUpdated")),e(m),r(!1),Kt.playConfirm()},2e3)};return T.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-background relative overflow-hidden font-body p-4 select-none",children:[T.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[500px] h-[500px] bg-primary/10 rounded-full blur-[100px] animate-pulse pointer-events-none"}),T.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[600px] h-[600px] bg-secondary/10 rounded-full blur-[120px] animate-pulse delay-1000 pointer-events-none"}),s.length===0&&!n&&T.jsxs("div",{className:"z-10 flex flex-col items-center w-full max-w-sm animate-in zoom-in duration-500 font-['Silkscreen']",children:[T.jsxs("div",{className:"mb-4 text-center bg-black/60 backdrop-blur-md border-[6px] border-white px-8 py-6 rounded-2xl shadow-[8px_8px_0_rgba(0,0,0,0.5)]",children:[T.jsx("h2",{className:"text-3xl text-yellow-400 mb-2 drop-shadow-md tracking-wider font-['Silkscreen']",children:"LUCKY DRAW"}),T.jsx("p",{className:"text-white text-sm",children:"   !"})]}),T.jsx("div",{className:"relative group cursor-pointer mb-8 animate-float",children:T.jsxs("div",{className:"w-48 h-48 bg-gradient-to-tr from-purple-600 to-indigo-400 rounded-full border-[8px] border-white shadow-[0_0_20px_rgba(168,85,247,0.6)] flex items-center justify-center animate-pulse group-hover:scale-105 transition-transform",children:[T.jsx("span",{className:"text-8xl drop-shadow-lg",children:""}),T.jsx("div",{className:"absolute top-4 right-8 w-8 h-8 bg-white/40 rounded-full blur-sm"})]})}),T.jsxs("div",{className:"flex gap-4 w-full justify-center px-4",children:[T.jsxs("button",{onClick:()=>o(1),className:"flex-1 bg-blue-600 border-4 border-white text-white py-4 rounded-xl shadow-[4px_4px_0_black] hover:translate-y-1 hover:shadow-[2px_2px_0_black] active:translate-y-2 active:shadow-none transition-all flex flex-col items-center gap-1",children:[T.jsx("span",{className:"text-xl font-bold",children:"1 "}),T.jsx("div",{className:"bg-black/30 px-3 py-1 rounded-full text-xs flex items-center gap-1",children:" 1"})]}),T.jsxs("button",{onClick:()=>o(10),className:"flex-1 bg-yellow-500 border-4 border-white text-white py-4 rounded-xl shadow-[4px_4px_0_black] hover:translate-y-1 hover:shadow-[2px_2px_0_black] active:translate-y-2 active:shadow-none transition-all flex flex-col items-center gap-1",children:[T.jsx("span",{className:"text-xl font-bold text-black drop-shadow-md",children:"10 "}),T.jsx("div",{className:"bg-black/30 px-3 py-1 rounded-full text-xs flex items-center gap-1 text-white",children:" 10"})]})]})]}),n&&T.jsxs("div",{className:"z-10 flex flex-col items-center justify-center font-['Silkscreen']",children:[T.jsx("div",{className:"text-9xl mb-8 animate-[spin_0.5s_linear_infinite] grayscale brightness-150",children:""}),T.jsx("p",{className:"text-3xl text-white animate-pulse drop-shadow-[4px_4px_0_black]",children:" ..."})]}),s.length>0&&!n&&E4.createPortal(T.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 font-['Silkscreen'] bg-black/90 backdrop-blur-sm animate-in fade-in duration-300",onClick:()=>e([]),children:[T.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-yellow-500/10 to-transparent pointer-events-none animate-pulse"}),T.jsxs("div",{className:"relative z-10 flex flex-col items-center animate-in zoom-in duration-500 w-full max-w-4xl max-h-[90vh] overflow-y-auto",onClick:u=>u.stopPropagation(),children:[T.jsx("h2",{className:"text-4xl text-yellow-400 mb-8 drop-shadow-[0_4px_0_black] animate-bounce text-center",children:s.length>1?" 10   ":"    "}),T.jsx("div",{className:`
                            ${s.length>1?"grid grid-cols-2 md:grid-cols-5 gap-4 p-4":"flex justify-center p-4"}
                        `,children:s.map((u,f)=>T.jsxs("div",{className:`
                                    relative bg-white p-2 rounded-lg shadow-lg border-[4px]
                                    ${u.rarity==="SSR"?"border-yellow-400 ring-4 ring-yellow-400/50":u.rarity==="SR"?"border-purple-400":"border-gray-400"}
                                    flex flex-col items-center transform transition-transform hover:scale-105 duration-200
                                    ${s.length===1?"scale-125 p-4 border-[8px]":""}
                                `,children:[T.jsxs("div",{className:"absolute -top-3 -right-3 z-10",children:[u.rarity==="SSR"&&T.jsx("span",{className:"bg-yellow-400 text-black text-xs font-bold px-2 py-1 rounded-full border-2 border-white shadow-md",children:"SSR"}),u.rarity==="SR"&&T.jsx("span",{className:"bg-purple-500 text-white text-xs font-bold px-2 py-1 rounded-full border-2 border-white shadow-md",children:"SR"}),u.rarity==="R"&&T.jsx("span",{className:"bg-gray-500 text-white text-xs font-bold px-2 py-1 rounded-full border-2 border-white shadow-md",children:"R"})]}),T.jsx("img",{src:u.image,alt:"Result",className:`object-cover bg-gray-900 border-2 border-black
                                            ${s.length>1?"w-24 h-32 md:w-32 md:h-40":"w-64 h-80"}
                                        `}),s.length===1&&T.jsx("div",{className:"mt-4 text-xl text-black font-bold tracking-widest uppercase text-center",children:u.rarity==="SSR"?"  ":" "})]},f))}),T.jsxs("div",{className:"flex gap-4 mt-8 w-full justify-center pb-8",children:[T.jsx("button",{onClick:()=>e([]),className:"px-8 py-3 bg-gray-600 text-white border-4 border-white hover:bg-gray-500 active:scale-95 transition-all shadow-[4px_4px_0_black]",children:""}),T.jsxs("button",{onClick:()=>o(s.length),className:"px-8 py-3 bg-blue-600 text-white border-4 border-white hover:bg-blue-500 active:scale-95 transition-all shadow-[4px_4px_0_black] flex items-center gap-2",children:[T.jsx("span",{children:""}),"  (",s.length,")"]})]})]})]}),document.body)]})},_T=[{id:1,speaker:"",text:"!    .",image:"groom",expression:"smile"},{id:2,speaker:"",text:"        !",image:"bride",expression:"happy"},{id:3,speaker:"",text:"    .     ' '.",image:"groom",expression:"serious"},{id:4,speaker:"",text:"  ,   ?",image:"bride",expression:"wink"},{id:5,speaker:"SYSTEM",text:" []  .  !",image:"system",expression:"none"}],S4=({onClose:s})=>{const[e,n]=ae.useState(0),[r,o]=ae.useState(""),[u,f]=ae.useState(!1),m=_T[e];ae.useEffect(()=>{if(!m)return;o(""),f(!0);const g=m.text;let b=0;const x=setInterval(()=>{b++,o(g.slice(0,b)),b>=g.length&&(clearInterval(x),f(!1))},30);return()=>clearInterval(x)},[e]);const y=()=>{Kt.playClick(),u?(o(m.text),f(!1)):e<_T.length-1?n(g=>g+1):(Kt.playConfirm(),s())};return T.jsxs("div",{className:"w-full h-full relative flex flex-col justify-end overflow-hidden cursor-pointer min-h-[500px] bg-black/40 backdrop-blur-sm select-none",onClick:y,children:[T.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-80"}),T.jsx("div",{className:"absolute bottom-32 left-1/2 -translate-x-1/2 h-[85%] flex items-end transition-transform duration-300 z-0",children:T.jsx("img",{src:m.image==="groom"?Aw:m.image==="bride"?ng:"",alt:"Character",className:`h-full object-contain drop-shadow-[0_0_20px_rgba(255,255,255,0.2)] ${!m.image||m.image==="system"?"hidden":""}`},e)}),T.jsxs("div",{className:"relative z-10 mx-2 mb-2 md:m-6 md:mb-8 font-pixel",children:[T.jsx("div",{className:`
                    absolute -top-10 left-0 border-4 border-white border-b-0 px-6 py-2
                    ${m.speaker===""?"bg-blue-600":m.speaker===""?"bg-pink-500":"bg-gray-700"}
                `,children:T.jsx("span",{className:"text-white text-xl tracking-wider uppercase drop-shadow-[2px_2px_0_black]",children:m.speaker})}),T.jsxs("div",{className:"bg-black/90 border-4 border-white p-6 shadow-[8px_8px_0_rgba(0,0,0,0.8)] min-h-[160px] relative",children:[T.jsxs("p",{className:"text-xl md:text-2xl text-white leading-relaxed tracking-wide drop-shadow-md whitespace-pre-wrap",children:[r,u&&T.jsx("span",{className:"animate-blink inline-block ml-1 w-3 h-5 bg-yellow-400 align-middle"})]}),!u&&T.jsx("div",{className:"absolute bottom-4 right-4 animate-bounce",children:T.jsx("div",{className:"w-0 h-0 border-l-[10px] border-l-transparent border-r-[10px] border-r-transparent border-t-[15px] border-t-red-500 drop-shadow-[0_2px_0_white]"})})]})]})]})},A4=({title:s,onClose:e,children:n})=>T.jsxs("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex justify-center items-center p-2 md:p-4 font-pixel select-none",children:[T.jsxs("div",{className:"w-full max-w-3xl max-h-[90vh] bg-white border-4 border-black shadow-[8px_8px_0_rgba(0,0,0,0.5)] flex flex-col overflow-hidden animate-[slideUp_0.3s_steps(4)] relative",children:[T.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b-4 border-black bg-blue-600 text-white",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("span",{className:"animate-pulse",children:""}),T.jsx("span",{className:"text-lg uppercase tracking-wider",children:s})]}),T.jsx("button",{className:"text-white hover:text-yellow-300 transition-colors text-2xl leading-none w-8 h-8 flex items-center justify-center border-2 border-transparent hover:border-white hover:bg-white/10",onClick:e,children:"X"})]}),T.jsx("div",{className:"flex-1 overflow-y-auto p-0 scrollbar-hide bg-white relative",children:T.jsx("div",{className:"h-full",children:n})}),T.jsx("div",{className:"h-2 bg-black w-full"})]}),T.jsx("style",{children:`
                @keyframes slideUp {
                    from { transform: translateY(20px); opacity: 0; }
                    to { transform: translateY(0); opacity: 1; }
                }
            `})]}),x4=()=>{const[s,e]=ae.useState([]),[n,r]=ae.useState(!0),[o,u]=ae.useState("run"),f=ri.currentUser;return ae.useEffect(()=>{(async()=>{r(!0);try{const g=JC(zC(zi,o==="run"?"scores":"bouquet_scores"),ZC("score","desc"),WC(50)),S=(await aN(g)).docs.map(X=>({id:X.id,...X.data()})),x=new Map;S.forEach(X=>{const W=X.displayName;(!x.has(W)||x.get(W).score<X.score)&&x.set(W,X)});const q=Array.from(x.values()).sort((X,W)=>W.score-X.score).slice(0,10);e(q)}catch(y){console.error("Error fetching rankings: ",y)}finally{r(!1)}})()},[o]),T.jsx("div",{className:"w-full max-w-2xl mx-auto p-1 font-pixel select-none",children:T.jsxs("div",{className:"bg-black/80 backdrop-blur-md border-[6px] border-white rounded-lg p-6 shadow-[8px_8px_0_rgba(0,0,0,0.5)] relative overflow-hidden",children:[T.jsx("div",{className:"absolute inset-0 pointer-events-none bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20"}),T.jsx("div",{className:"text-center mb-6",children:T.jsx("h3",{className:"text-3xl md:text-4xl text-yellow-400 mb-2 drop-shadow-[4px_4px_0_#b91c1c] animate-pulse tracking-wider font-pixel whitespace-nowrap",children:"   "})}),T.jsxs("div",{className:"flex gap-2 mb-0 justify-center relative z-10",children:[T.jsx("button",{onClick:()=>u("run"),className:`flex-1 md:flex-none px-2 md:px-4 py-2 border-t-4 border-x-4 rounded-t-lg transition-all text-xs md:text-sm ${o==="run"?"bg-blue-600 border-white text-white -mb-1 pb-3":"bg-gray-800 border-gray-600 text-gray-400 hover:bg-gray-700 mt-2"}`,children:"  "}),T.jsx("button",{onClick:()=>u("bouquet"),className:`flex-1 md:flex-none px-2 md:px-4 py-2 border-t-4 border-x-4 rounded-t-lg transition-all text-xs md:text-sm ${o==="bouquet"?"bg-pink-600 border-white text-white -mb-1 pb-3":"bg-gray-800 border-gray-600 text-gray-400 hover:bg-gray-700 mt-2"}`,children:"  "})]}),T.jsx("div",{className:"overflow-hidden border-4 border-white bg-black min-h-[300px] relative z-0",children:n?T.jsxs("div",{className:"flex flex-col items-center justify-center p-8 h-[300px] text-white",children:[T.jsx("div",{className:"animate-spin text-4xl mb-4",children:""}),T.jsx("p",{className:"animate-pulse",children:"  ..."})]}):T.jsxs("table",{className:"w-full text-left bg-black text-white",children:[T.jsx("thead",{className:`${o==="run"?"bg-blue-800":"bg-pink-800"} text-yellow-300 border-b-4 border-white`,children:T.jsxs("tr",{children:[T.jsx("th",{className:"p-4 text-center w-16",children:""}),T.jsx("th",{className:"p-4",children:""}),T.jsx("th",{className:"p-4 text-right",children:""})]})}),T.jsxs("tbody",{children:[s.map((m,y)=>{const g=f&&(f.uid===m.id||f.displayName===m.displayName),b=S=>S===0?"text-yellow-400 drop-shadow-[0_0_5px_gold]":S===1?"text-gray-300 drop-shadow-[0_0_5px_silver]":S===2?"text-orange-400 drop-shadow-[0_0_5px_orange]":"text-white";return T.jsxs("tr",{className:`
                                                border-b-2 border-white/20
                                                ${g?"bg-white/20 animate-pulse":"hover:bg-white/10"}
                                                ${y<3?"text-lg":""}
                                            `,children:[T.jsxs("td",{className:"p-3 text-center text-2xl",children:[y===0&&"",y===1&&"",y===2&&"",y>2&&T.jsxs("span",{className:"text-gray-500 text-lg",children:["#",y+1]})]}),T.jsx("td",{className:`p-3 ${g?"text-cyan-300":b(y)}`,children:T.jsxs("div",{className:"flex flex-col",children:[T.jsx("span",{className:"truncate max-w-[120px] md:max-w-none block",children:m.displayName}),g&&T.jsx("span",{className:"text-[10px] text-cyan-500",children:""})]})}),T.jsx("td",{className:`p-3 text-right ${y<3?"text-yellow-200":"text-gray-300"}`,children:m.score.toLocaleString()})]},m.id)}),s.length===0&&T.jsx("tr",{children:T.jsx("td",{colSpan:"3",className:"p-8 text-center text-gray-500",children:"  "})})]})]})}),T.jsx("div",{className:"mt-6 text-center text-xs text-gray-500 tracking-widest uppercase animate-pulse",children:"   "})]})})},R4=()=>{const[s,e]=ae.useState([]),[n,r]=ae.useState(!0),o=ri.currentUser;if(ae.useEffect(()=>{(async()=>{if(o)try{const m=_r(zi,"users",o.uid),y=await Yp(m);y.exists()&&e(y.data().achievements||[])}catch(m){console.error("Error fetching achievements:",m)}finally{r(!1)}})()},[o]),n)return T.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading..."});const u=Object.values(no);return T.jsxs("div",{style:Di.container,children:[T.jsx("h3",{style:Di.header,children:"   (MY ACHIEVEMENTS)"}),T.jsx("div",{style:Di.grid,children:u.map(f=>{const m=s.includes(f.id);return T.jsxs("div",{style:{...Di.card,...m?Di.unlocked:Di.locked},children:[T.jsx("div",{style:Di.icon,children:m?"":""}),T.jsxs("div",{style:Di.info,children:[T.jsx("div",{style:Di.title,children:f.title}),T.jsx("div",{style:Di.desc,children:f.desc})]})]},f.id)})})]})},Di={container:{padding:"10px",color:"#333",fontFamily:'"Rajdhani", sans-serif'},header:{textAlign:"center",marginBottom:"15px",borderBottom:"2px solid #333",paddingBottom:"10px"},grid:{display:"flex",flexDirection:"column",gap:"10px"},card:{display:"flex",alignItems:"center",padding:"10px",borderRadius:"8px",border:"1px solid #ddd",transition:"transform 0.2s"},unlocked:{backgroundColor:"#fffbe6",border:"2px solid #ffd700",boxShadow:"0 2px 5px rgba(255, 215, 0, 0.3)"},locked:{backgroundColor:"#f5f5f5",filter:"grayscale(100%)",opacity:.7},icon:{fontSize:"2rem",marginRight:"15px"},info:{flex:1},title:{fontWeight:"bold",fontSize:"1rem",marginBottom:"3px"},desc:{fontSize:"0.8rem",color:"#666"}},I4=({onClose:s})=>{const[e,n]=ae.useState("start"),[r,o]=ae.useState(0),[u,f]=ae.useState(0),[m,y]=ae.useState(50),[g,b]=ae.useState([]),S=ae.useRef(null),x=ae.useRef(null),q=ae.useRef(null),X=ae.useRef(0),W=ae.useRef("start"),ee=ae.useRef(50),oe=ae.useRef([]),pe=new URL("/Invitation/assets/pixel_castle_bg-JX_UEiKn.png",import.meta.url).href,ye=15;ae.useEffect(()=>{ee.current=m},[m]);const ze=()=>{Kt.playClick(),n("playing"),o(0),f(0),y(50),b([]),X.current=0,ee.current=50,oe.current=[],W.current="playing",x.current&&clearInterval(x.current),x.current=setInterval(Ye,800),q.current&&clearInterval(q.current),q.current=setInterval(()=>{f(D=>D+1)},1e3),S.current&&cancelAnimationFrame(S.current),S.current=requestAnimationFrame(be)},Ye=()=>{if(W.current!=="playing")return;const D=Date.now()+Math.random(),R=Math.random()>.6?Math.random()>.5?"bomb":"withered":"bouquet",Se=Math.random()*90,Ne={id:D,x:Se,y:-10,type:R};oe.current.push(Ne)},be=()=>{if(W.current!=="playing")return;const D=.4+X.current*.05;let k=!1;if(oe.current=oe.current.filter(R=>{if(R.y+=D,R.y>75&&R.y<98){const Se=ee.current,Ne=R.x+5,H=Se+ye/2;if(Math.abs(Ne-H)<10)return R.type==="bouquet"?(Kt.playConfirm(),X.current+=1,o(X.current),!1):(Kt.playDamage(),k=!0,!1)}return R.y<105}),k){I("gameover");return}b([...oe.current]),S.current=requestAnimationFrame(be)},C=async D=>{const k=ri.currentUser;if(k)try{const R=_r(zi,"bouquet_scores",k.uid);await xh(R,{uid:k.uid,displayName:k.displayName||"Guest",score:D,timestamp:jE()},{merge:!0})}catch(R){console.error("Error saving bouquet score:",R)}},I=D=>{W.current=D,n(D),Xm(Math.floor(X.current)),C(X.current),clearInterval(x.current),clearInterval(q.current),cancelAnimationFrame(S.current)};ae.useEffect(()=>()=>{clearInterval(x.current),clearInterval(q.current),cancelAnimationFrame(S.current)},[]);const N=D=>{e==="playing"&&y(k=>{const R=k+D;return Math.max(0,Math.min(100-ye,R))})},M=D=>{const k=Math.floor(D/60),R=D%60;return`${k.toString().padStart(2,"0")}:${R.toString().padStart(2,"0")}`};return T.jsxs("div",{className:"relative w-full h-[400px] bg-sky-200 overflow-hidden font-['Silkscreen'] select-none border-4 border-black",children:[T.jsx("div",{className:"absolute inset-0 bg-cover bg-bottom opacity-50",style:{backgroundImage:`url(${pe})`,imageRendering:"pixelated"}}),T.jsx("div",{className:"absolute top-4 left-4 z-20 flex gap-2",children:T.jsxs("div",{className:"bg-black/50 text-white px-2 border-2 border-white/50 text-sm flex items-center",children:[" ",M(u)]})}),T.jsxs("div",{className:"absolute top-4 right-4 text-2xl z-20 text-blue-600 drop-shadow-[2px_2px_0_white]",children:["SCORE: ",r]}),e==="start"&&T.jsxs("div",{className:"absolute inset-0 bg-black/70 flex flex-col items-center justify-center text-white z-50 p-4 text-center cursor-pointer font-['Silkscreen']",onClick:ze,children:[T.jsx("h2",{className:"text-3xl text-yellow-300 mb-4 animate-bounce drop-shadow-md font-['Silkscreen']",children:" BOUQUET RUSH "}),T.jsx("p",{className:"mb-2 text-lg",children:"Infinite Challenge!"}),T.jsxs("div",{className:"flex gap-4 mb-6 text-2xl",children:[T.jsx("span",{children:" = +1"}),T.jsx("span",{children:"/ = DIE"})]}),T.jsx("button",{className:"bg-blue-600 border-4 border-white px-8 py-4 text-xl hover:scale-105 active:scale-95 transition-transform animate-pulse",children:"TAP TO START"})]}),e==="gameover"&&T.jsxs("div",{className:"absolute inset-0 bg-black/80 flex flex-col items-center justify-center text-white z-50 cursor-pointer font-['Silkscreen']",onClick:ze,children:[T.jsx("h2",{className:"text-4xl mb-4 text-red-500 drop-shadow-md font-['Silkscreen']",children:" GAME OVER"}),T.jsxs("p",{className:"text-3xl mb-2 text-yellow-300",children:["SCORE: ",r]}),T.jsxs("p",{className:"text-xl mb-2 text-cyan-400 font-bold animate-pulse",children:[" EARNED: +",r]}),T.jsxs("p",{className:"text-xl mb-8 text-gray-300",children:["Time: ",M(u)]}),T.jsx("p",{className:"text-sm text-gray-400 mb-8 animate-pulse",children:"TAP SCREEN TO RETRY"}),T.jsxs("div",{className:"flex gap-4",onClick:D=>D.stopPropagation(),children:[T.jsx("button",{onClick:ze,className:"bg-white text-black border-4 border-gray-400 px-6 py-2 hover:bg-gray-200",children:"RETRY"}),T.jsx("button",{onClick:s,className:"bg-red-500 text-white border-4 border-red-800 px-6 py-2 hover:bg-red-400",children:"QUIT"})]})]}),g.map(D=>T.jsx("div",{className:"absolute text-4xl transition-transform",style:{left:`${D.x}%`,top:`${D.y}%`},children:D.type==="bouquet"?"":D.type==="bomb"?"":""},D.id)),T.jsxs("div",{className:"absolute bottom-4 h-24 transition-all duration-75 ease-linear",style:{left:`${m}%`,width:`${ye}%`},children:[T.jsx("img",{src:ng,className:"w-full h-full object-contain drop-shadow-lg",style:{imageRendering:"pixelated"}}),T.jsx("div",{className:"absolute bottom-0 w-full text-center text-[10px] text-white/50 backdrop-blur-sm",children:"YOU"})]}),e==="playing"&&T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"absolute top-0 bottom-0 left-0 w-1/2 z-30 active:bg-white/5",onPointerDown:()=>N(-10)}),T.jsx("div",{className:"absolute top-0 bottom-0 right-0 w-1/2 z-30 active:bg-white/5",onPointerDown:()=>N(10)}),T.jsx("button",{className:"absolute bottom-6 left-4 w-16 h-16 bg-white/40 border-2 border-white rounded-full text-3xl flex items-center justify-center z-40 active:scale-90 transition-transform",onPointerDown:()=>N(-10),children:""}),T.jsx("button",{className:"absolute bottom-6 right-4 w-16 h-16 bg-white/40 border-2 border-white rounded-full text-3xl flex items-center justify-center z-40 active:scale-90 transition-transform",onPointerDown:()=>N(10),children:""})]})]})},C4=({onSwitchToV1:s})=>{const[e,n]=ae.useState("bride"),[r,o]=ae.useState(!1),[u,f]=ae.useState(""),[m,y]=ae.useState(null),[g,b]=ae.useState(""),[S,x]=ae.useState(!1),[q,X]=ae.useState(0);ae.useEffect(()=>{const be=new Date("2026-04-25T16:50:00"),C=()=>{const D=be-new Date,k=Math.ceil(D/(1e3*60*60*24));b(k>0?`D-${k}`:k===0?"D-DAY":`D+${Math.abs(k)}`)};C();const I=setInterval(C,1e3*60),N=p4(M=>{X(M)});return()=>{clearInterval(I),N()}},[]);const W=()=>{Kt.playClick(),n(be=>be==="bride"?"groom":"bride")},ee=()=>{Kt.playClick(),x(!0),setTimeout(()=>x(!1),200);const be=e==="bride"?["   !","  ~"," !","   !","  !"]:["  !","  !","  ."," !","   !"],C=be[Math.floor(Math.random()*be.length)];f(C),o(!0),su("TOUCH_CHARACTER",{[e]:1}),setTimeout(()=>o(!1),3e3)},oe=be=>{Kt.playClick(),y(be)},pe=()=>{Kt.playClick(),y(null)},ye=()=>{Kt.playClick(),s()},ze=be=>{switch(be){case"map":return" ";case"gallery":return" ";case"recruit":return" ";case"story":return"";case"ranking":return"";case"achievement":return"";case"info":return" ";case"game":return" ";case"bouquet":return" ";default:return""}},Ye=new URL("/Invitation/assets/pixel_castle_bg-JX_UEiKn.png",import.meta.url).href;return T.jsxs("div",{className:"relative w-full h-full overflow-hidden bg-black font-pixel select-none text-white",children:[T.jsx("div",{className:"absolute inset-0 z-0 bg-cover bg-center",style:{backgroundImage:`url(${Ye})`,imageRendering:"pixelated"},children:T.jsx("div",{className:"absolute inset-0 bg-black/30"})}),T.jsxs("div",{className:"absolute top-0 left-0 right-0 p-4 z-20 flex justify-between items-start pointer-events-none",children:[T.jsxs("div",{className:"pointer-events-auto flex flex-col gap-2",children:[T.jsxs("div",{className:"bg-black/60 border-2 border-white px-3 py-1 flex items-center gap-2 shadow-md w-fit",children:[T.jsx("span",{className:"text-yellow-400",children:""}),T.jsx("span",{className:"text-lg",children:g})]}),T.jsxs("div",{className:"bg-black/60 border-2 border-cyan-400 px-3 py-1 flex items-center gap-2 shadow-md w-fit animate-pulse",children:[T.jsx("span",{className:"text-cyan-400 text-xl",children:""}),T.jsx("span",{className:"text-lg text-cyan-100 font-bold",children:q})]})]}),T.jsxs("div",{className:"pointer-events-auto flex flex-col items-end gap-2",children:[T.jsx("button",{onClick:W,className:"bg-blue-600 border-b-4 border-r-4 border-blue-800 text-white px-3 py-1 text-xs hover:bg-blue-500 active:border-b-0 active:border-r-0 active:translate-y-1 transition-all",children:"SWITCH CHAR"}),T.jsx("button",{onClick:ye,className:"text-white/60 text-[10px] hover:text-white hover:underline bg-black/40 px-2 py-1",children:"[   ]"})]})]}),T.jsx("div",{className:"absolute inset-0 z-10 flex flex-col items-center justify-end pb-0 pointer-events-none",children:T.jsxs("div",{className:"relative group flex justify-center",children:[T.jsx("img",{src:e==="bride"?ng:Aw,alt:"Character",className:`
                            h-[120vh] w-auto object-contain cursor-pointer pointer-events-auto drop-shadow-[0_0_10px_rgba(255,255,255,0.5)]
                            ${S?"scale-105 brightness-125":"scale-100 hover:scale-[1.02]"}
                            transition-all duration-200
                        `,onClick:ee,style:{imageRendering:"pixelated"}}),r&&T.jsxs("div",{className:"absolute top-[25%] left-[10%] bg-white text-black border-4 border-black px-4 py-2 z-30 min-w-[150px] text-center shadow-lg animate-bounce",children:[T.jsx("p",{className:"text-sm font-bold",children:u}),T.jsx("div",{className:"absolute -right-3 top-1/2 -translate-y-1/2 w-4 h-4 bg-white rotate-45 border-t-4 border-r-4 border-black border-b-0 border-l-0"})]})]})}),T.jsxs("div",{className:"absolute top-1/2 right-4 -translate-y-1/2 flex flex-col gap-3 pointer-events-auto z-40",children:[T.jsx(Ll,{icon:"",label:" ",onClick:()=>oe("map")}),T.jsx(Ll,{icon:"",label:" ",onClick:()=>oe("gallery")}),T.jsx(Ll,{icon:"",label:"",onClick:()=>oe("story")}),T.jsx(Ll,{icon:"",label:"",onClick:()=>oe("ranking")}),T.jsx(Ll,{icon:"",label:"",onClick:()=>oe("recruit")})]}),T.jsxs("div",{className:"absolute bottom-6 left-6 right-6 z-50 flex justify-center gap-6 pointer-events-auto",children:[T.jsx("button",{onClick:()=>{oe("game"),su("GAME_START")},className:"relative group bg-red-600 border-4 border-white text-white px-6 py-3 shadow-[4px_4px_0_rgba(0,0,0,0.5)] hover:translate-y-1 hover:shadow-[2px_2px_0_rgba(0,0,0,0.5)] active:translate-y-2 active:shadow-none transition-all w-48",children:T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("span",{className:"text-2xl animate-pulse",children:""}),T.jsxs("div",{className:"flex flex-col items-start leading-none",children:[T.jsx("span",{className:"text-[10px] text-yellow-300",children:" "}),T.jsx("span",{className:"text-lg",children:" "})]})]})}),T.jsx("button",{onClick:()=>oe("bouquet"),className:"relative group bg-pink-500 border-4 border-white text-white px-6 py-3 shadow-[4px_4px_0_rgba(0,0,0,0.5)] hover:translate-y-1 hover:shadow-[2px_2px_0_rgba(0,0,0,0.5)] active:translate-y-2 active:shadow-none transition-all w-48",children:T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("span",{className:"text-2xl animate-bounce",children:""}),T.jsxs("div",{className:"flex flex-col items-start leading-none",children:[T.jsx("span",{className:"text-[10px] text-yellow-200",children:" "}),T.jsx("span",{className:"text-lg",children:" "})]})]})})]}),m&&T.jsxs(A4,{title:ze(m),onClose:pe,children:[m==="map"&&T.jsx(ET,{}),m==="gallery"&&T.jsx(bT,{showRarity:!0}),m==="info"&&T.jsx(_4,{}),m==="game"&&T.jsx("div",{className:"flex flex-col items-center justify-center py-4 w-full",children:T.jsx(b4,{selectedCharacter:e})}),m==="story"&&T.jsx(S4,{onClose:pe}),m==="recruit"&&T.jsx(w4,{}),m==="ranking"&&T.jsx(x4,{}),m==="achievement"&&T.jsx(R4,{}),m==="bouquet"&&T.jsx(I4,{})]})]})},Ll=({icon:s,label:e,onClick:n})=>T.jsxs("button",{onClick:n,className:"group relative bg-black/60 border-2 border-white px-3 py-2 flex items-center gap-3 hover:bg-white/20 hover:border-yellow-400 transition-all w-32 shadow-md",children:[T.jsx("span",{className:"text-xl group-hover:scale-110 transition-transform",children:s}),T.jsx("span",{className:"text-xs text-white group-hover:text-yellow-400",children:e})]}),N4=({onSwitchToV1:s})=>{const[e,n]=ae.useState("title"),r=()=>{n("lobby")};return T.jsxs("div",{className:"relative w-full h-screen bg-background overflow-hidden font-body selection:bg-primary/20 selection:text-primary",children:[T.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[500px] h-[500px] bg-primary/20 rounded-full blur-[100px] animate-pulse"}),T.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[600px] h-[600px] bg-secondary/20 rounded-full blur-[120px] animate-pulse delay-1000"}),T.jsx("div",{className:"absolute top-[40%] left-[30%] w-[300px] h-[300px] bg-soft-pink/30 rounded-full blur-[80px] animate-bounce delay-500 duration-[5000ms]"}),T.jsxs("div",{className:"relative w-full h-full",children:[e==="title"&&T.jsx(d4,{onStart:r,onSwitchToV1:s}),e==="lobby"&&T.jsx(C4,{onSwitchToV1:s})]})]})},D4=()=>T.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-background font-body p-4",children:T.jsxs("div",{className:"card max-w-md w-full text-center space-y-8",children:[T.jsxs("div",{className:"space-y-2",children:[T.jsx("h1",{className:"text-4xl text-text font-heading tracking-wider",children:"INVITATION"}),T.jsx("p",{className:"text-xl text-text/80 font-medium",children:" & "})]}),T.jsx("div",{className:"w-12 h-px bg-gray-300 mx-auto"}),T.jsx("p",{className:"text-text/60 tracking-widest",children:"2026. 04. 25. SAT PM 04:50"}),T.jsxs("div",{className:"flex flex-col gap-4",children:[T.jsxs("a",{href:"classic.html",className:"btn-secondary flex items-center justify-center gap-2 group",children:[T.jsx("span",{className:"group-hover:scale-110 transition-transform",children:""}),"  (Classic)"]}),T.jsxs("a",{href:"game.html",className:"btn-primary flex items-center justify-center gap-2 group",children:[T.jsx("span",{className:"group-hover:rotate-12 transition-transform",children:""}),"  (Game Mode)"]})]})]})});function O4(){const[s,e]=ae.useState("selection");return ae.useEffect(()=>{const n=window.location.pathname;n.includes("classic.html")?e("v1"):n.includes("game.html")?e("v2"):new URLSearchParams(window.location.search).get("mode")==="classic"?e("v1"):new URLSearchParams(window.location.search).get("mode")==="game"?e("v2"):e("selection")},[]),T.jsxs(T.Fragment,{children:[s==="selection"&&T.jsx(D4,{}),s==="v1"&&T.jsx(xA,{}),s==="v2"&&T.jsx(N4,{onSwitchToV1:()=>window.location.href="classic.html"}),T.jsx(f4,{})]})}cA.createRoot(document.getElementById("root")).render(T.jsx(ae.StrictMode,{children:T.jsx(O4,{})}));
