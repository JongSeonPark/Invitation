(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();var sm={exports:{}},jl={};var x0;function l1(){if(x0)return jl;x0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:s,type:r,key:f,ref:o!==void 0?o:null,props:c}}return jl.Fragment=e,jl.jsx=n,jl.jsxs=n,jl}var R0;function c1(){return R0||(R0=1,sm.exports=l1()),sm.exports}var b=c1(),rm={exports:{}},Ie={};var I0;function u1(){if(I0)return Ie;I0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),A=Symbol.iterator;function q(x){return x===null||typeof x!="object"?null:(x=A&&x[A]||x["@@iterator"],typeof x=="function"?x:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,ee={};function ae(x,L,ne){this.props=x,this.context=L,this.refs=ee,this.updater=ne||K}ae.prototype.isReactComponent={},ae.prototype.setState=function(x,L){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,L,"setState")},ae.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function ce(){}ce.prototype=ae.prototype;function me(x,L,ne){this.props=x,this.context=L,this.refs=ee,this.updater=ne||K}var Me=me.prototype=new ce;Me.constructor=me,Z(Me,ae.prototype),Me.isPureReactComponent=!0;var qe=Array.isArray;function Ce(){}var I={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function N(x,L,ne){var le=ne.ref;return{$$typeof:s,type:x,key:L,ref:le!==void 0?le:null,props:ne}}function k(x,L){return N(x.type,L,x.props)}function M(x){return typeof x=="object"&&x!==null&&x.$$typeof===s}function O(x){var L={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(ne){return L[ne]})}var R=/\/+/g;function ie(x,L){return typeof x=="object"&&x!==null&&x.key!=null?O(""+x.key):L.toString(36)}function ge(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(Ce,Ce):(x.status="pending",x.then(function(L){x.status==="pending"&&(x.status="fulfilled",x.value=L)},function(L){x.status==="pending"&&(x.status="rejected",x.reason=L)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function P(x,L,ne,le,be){var we=typeof x;(we==="undefined"||we==="boolean")&&(x=null);var Ae=!1;if(x===null)Ae=!0;else switch(we){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(x.$$typeof){case s:case e:Ae=!0;break;case E:return Ae=x._init,P(Ae(x._payload),L,ne,le,be)}}if(Ae)return be=be(x),Ae=le===""?"."+ie(x,0):le,qe(be)?(ne="",Ae!=null&&(ne=Ae.replace(R,"$&/")+"/"),P(be,L,ne,"",function(bt){return bt})):be!=null&&(M(be)&&(be=k(be,ne+(be.key==null||x&&x.key===be.key?"":(""+be.key).replace(R,"$&/")+"/")+Ae)),L.push(be)),1;Ae=0;var Xe=le===""?".":le+":";if(qe(x))for(var ve=0;ve<x.length;ve++)le=x[ve],we=Xe+ie(le,ve),Ae+=P(le,L,ne,we,be);else if(ve=q(x),typeof ve=="function")for(x=ve.call(x),ve=0;!(le=x.next()).done;)le=le.value,we=Xe+ie(le,ve++),Ae+=P(le,L,ne,we,be);else if(we==="object"){if(typeof x.then=="function")return P(ge(x),L,ne,le,be);throw L=String(x),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function W(x,L,ne){if(x==null)return x;var le=[],be=0;return P(x,le,"","",function(we){return L.call(ne,we,be++)}),le}function ue(x){if(x._status===-1){var L=x._result;L=L(),L.then(function(ne){(x._status===0||x._status===-1)&&(x._status=1,x._result=ne)},function(ne){(x._status===0||x._status===-1)&&(x._status=2,x._result=ne)}),x._status===-1&&(x._status=0,x._result=L)}if(x._status===1)return x._result.default;throw x._result}var oe=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},fe={map:W,forEach:function(x,L,ne){W(x,function(){L.apply(this,arguments)},ne)},count:function(x){var L=0;return W(x,function(){L++}),L},toArray:function(x){return W(x,function(L){return L})||[]},only:function(x){if(!M(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return Ie.Activity=w,Ie.Children=fe,Ie.Component=ae,Ie.Fragment=n,Ie.Profiler=o,Ie.PureComponent=me,Ie.StrictMode=r,Ie.Suspense=g,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(x){return I.H.useMemoCache(x)}},Ie.cache=function(x){return function(){return x.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(x,L,ne){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var le=Z({},x.props),be=x.key;if(L!=null)for(we in L.key!==void 0&&(be=""+L.key),L)!C.call(L,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&L.ref===void 0||(le[we]=L[we]);var we=arguments.length-2;if(we===1)le.children=ne;else if(1<we){for(var Ae=Array(we),Xe=0;Xe<we;Xe++)Ae[Xe]=arguments[Xe+2];le.children=Ae}return N(x.type,be,le)},Ie.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:c,_context:x},x},Ie.createElement=function(x,L,ne){var le,be={},we=null;if(L!=null)for(le in L.key!==void 0&&(we=""+L.key),L)C.call(L,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(be[le]=L[le]);var Ae=arguments.length-2;if(Ae===1)be.children=ne;else if(1<Ae){for(var Xe=Array(Ae),ve=0;ve<Ae;ve++)Xe[ve]=arguments[ve+2];be.children=Xe}if(x&&x.defaultProps)for(le in Ae=x.defaultProps,Ae)be[le]===void 0&&(be[le]=Ae[le]);return N(x,we,be)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(x){return{$$typeof:m,render:x}},Ie.isValidElement=M,Ie.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:ue}},Ie.memo=function(x,L){return{$$typeof:y,type:x,compare:L===void 0?null:L}},Ie.startTransition=function(x){var L=I.T,ne={};I.T=ne;try{var le=x(),be=I.S;be!==null&&be(ne,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Ce,oe)}catch(we){oe(we)}finally{L!==null&&ne.types!==null&&(L.types=ne.types),I.T=L}},Ie.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ie.use=function(x){return I.H.use(x)},Ie.useActionState=function(x,L,ne){return I.H.useActionState(x,L,ne)},Ie.useCallback=function(x,L){return I.H.useCallback(x,L)},Ie.useContext=function(x){return I.H.useContext(x)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(x,L){return I.H.useDeferredValue(x,L)},Ie.useEffect=function(x,L){return I.H.useEffect(x,L)},Ie.useEffectEvent=function(x){return I.H.useEffectEvent(x)},Ie.useId=function(){return I.H.useId()},Ie.useImperativeHandle=function(x,L,ne){return I.H.useImperativeHandle(x,L,ne)},Ie.useInsertionEffect=function(x,L){return I.H.useInsertionEffect(x,L)},Ie.useLayoutEffect=function(x,L){return I.H.useLayoutEffect(x,L)},Ie.useMemo=function(x,L){return I.H.useMemo(x,L)},Ie.useOptimistic=function(x,L){return I.H.useOptimistic(x,L)},Ie.useReducer=function(x,L,ne){return I.H.useReducer(x,L,ne)},Ie.useRef=function(x){return I.H.useRef(x)},Ie.useState=function(x){return I.H.useState(x)},Ie.useSyncExternalStore=function(x,L,ne){return I.H.useSyncExternalStore(x,L,ne)},Ie.useTransition=function(){return I.H.useTransition()},Ie.version="19.2.3",Ie}var C0;function Wm(){return C0||(C0=1,rm.exports=u1()),rm.exports}var te=Wm(),am={exports:{}},Ll={},om={exports:{}},lm={};var N0;function h1(){return N0||(N0=1,(function(s){function e(P,W){var ue=P.length;P.push(W);e:for(;0<ue;){var oe=ue-1>>>1,fe=P[oe];if(0<o(fe,W))P[oe]=W,P[ue]=fe,ue=oe;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var W=P[0],ue=P.pop();if(ue!==W){P[0]=ue;e:for(var oe=0,fe=P.length,x=fe>>>1;oe<x;){var L=2*(oe+1)-1,ne=P[L],le=L+1,be=P[le];if(0>o(ne,ue))le<fe&&0>o(be,ne)?(P[oe]=be,P[le]=ue,oe=le):(P[oe]=ne,P[L]=ue,oe=L);else if(le<fe&&0>o(be,ue))P[oe]=be,P[le]=ue,oe=le;else break e}}return W}function o(P,W){var ue=P.sortIndex-W.sortIndex;return ue!==0?ue:P.id-W.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();s.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,w=null,A=3,q=!1,K=!1,Z=!1,ee=!1,ae=typeof setTimeout=="function"?setTimeout:null,ce=typeof clearTimeout=="function"?clearTimeout:null,me=typeof setImmediate<"u"?setImmediate:null;function Me(P){for(var W=n(y);W!==null;){if(W.callback===null)r(y);else if(W.startTime<=P)r(y),W.sortIndex=W.expirationTime,e(g,W);else break;W=n(y)}}function qe(P){if(Z=!1,Me(P),!K)if(n(g)!==null)K=!0,Ce||(Ce=!0,O());else{var W=n(y);W!==null&&ge(qe,W.startTime-P)}}var Ce=!1,I=-1,C=5,N=-1;function k(){return ee?!0:!(s.unstable_now()-N<C)}function M(){if(ee=!1,Ce){var P=s.unstable_now();N=P;var W=!0;try{e:{K=!1,Z&&(Z=!1,ce(I),I=-1),q=!0;var ue=A;try{t:{for(Me(P),w=n(g);w!==null&&!(w.expirationTime>P&&k());){var oe=w.callback;if(typeof oe=="function"){w.callback=null,A=w.priorityLevel;var fe=oe(w.expirationTime<=P);if(P=s.unstable_now(),typeof fe=="function"){w.callback=fe,Me(P),W=!0;break t}w===n(g)&&r(g),Me(P)}else r(g);w=n(g)}if(w!==null)W=!0;else{var x=n(y);x!==null&&ge(qe,x.startTime-P),W=!1}}break e}finally{w=null,A=ue,q=!1}W=void 0}}finally{W?O():Ce=!1}}}var O;if(typeof me=="function")O=function(){me(M)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ie=R.port2;R.port1.onmessage=M,O=function(){ie.postMessage(null)}}else O=function(){ae(M,0)};function ge(P,W){I=ae(function(){P(s.unstable_now())},W)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(P){P.callback=null},s.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<P?Math.floor(1e3/P):5},s.unstable_getCurrentPriorityLevel=function(){return A},s.unstable_next=function(P){switch(A){case 1:case 2:case 3:var W=3;break;default:W=A}var ue=A;A=W;try{return P()}finally{A=ue}},s.unstable_requestPaint=function(){ee=!0},s.unstable_runWithPriority=function(P,W){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var ue=A;A=P;try{return W()}finally{A=ue}},s.unstable_scheduleCallback=function(P,W,ue){var oe=s.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?oe+ue:oe):ue=oe,P){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=ue+fe,P={id:E++,callback:W,priorityLevel:P,startTime:ue,expirationTime:fe,sortIndex:-1},ue>oe?(P.sortIndex=ue,e(y,P),n(g)===null&&P===n(y)&&(Z?(ce(I),I=-1):Z=!0,ge(qe,ue-oe))):(P.sortIndex=fe,e(g,P),K||q||(K=!0,Ce||(Ce=!0,O()))),P},s.unstable_shouldYield=k,s.unstable_wrapCallback=function(P){var W=A;return function(){var ue=A;A=W;try{return P.apply(this,arguments)}finally{A=ue}}}})(lm)),lm}var D0;function f1(){return D0||(D0=1,om.exports=h1()),om.exports}var cm={exports:{}},Zt={};var O0;function d1(){if(O0)return Zt;O0=1;var s=Wm();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:g,containerInfo:y,implementation:E}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Zt.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,E)},Zt.flushSync=function(g){var y=f.T,E=r.p;try{if(f.T=null,r.p=2,g)return g()}finally{f.T=y,r.p=E,r.d.f()}},Zt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},Zt.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Zt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,w=m(E,y.crossOrigin),A=typeof y.integrity=="string"?y.integrity:void 0,q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:q}):E==="script"&&r.d.X(g,{crossOrigin:w,integrity:A,fetchPriority:q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Zt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},Zt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,w=m(E,y.crossOrigin);r.d.L(g,E,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Zt.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},Zt.requestFormReset=function(g){r.d.r(g)},Zt.unstable_batchedUpdates=function(g,y){return g(y)},Zt.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},Zt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Zt.version="19.2.3",Zt}var M0;function Ab(){if(M0)return cm.exports;M0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),cm.exports=d1(),cm.exports}var V0;function m1(){if(V0)return Ll;V0=1;var s=f1(),e=Wm(),n=Ab();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(r(188))}function y(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),t;if(d===l)return g(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var w=Object.assign,A=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),ae=Symbol.for("react.profiler"),ce=Symbol.for("react.consumer"),me=Symbol.for("react.context"),Me=Symbol.for("react.forward_ref"),qe=Symbol.for("react.suspense"),Ce=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function O(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function ie(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case ae:return"Profiler";case ee:return"StrictMode";case qe:return"Suspense";case Ce:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case K:return"Portal";case me:return t.displayName||"Context";case ce:return(t._context.displayName||"Context")+".Consumer";case Me:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:ie(t.type)||"Memo";case C:i=t._payload,t=t._init;try{return ie(t(i))}catch{}}return null}var ge=Array.isArray,P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},oe=[],fe=-1;function x(t){return{current:t}}function L(t){0>fe||(t.current=oe[fe],oe[fe]=null,fe--)}function ne(t,i){fe++,oe[fe]=t.current,t.current=i}var le=x(null),be=x(null),we=x(null),Ae=x(null);function Xe(t,i){switch(ne(we,i),ne(be,t),ne(le,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?X_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=X_(i),t=$_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}L(le),ne(le,t)}function ve(){L(le),L(be),L(we)}function bt(t){t.memoizedState!==null&&ne(Ae,t);var i=le.current,a=$_(i,t.type);i!==a&&(ne(be,t),ne(le,a))}function Jt(t){be.current===t&&(L(le),L(be)),Ae.current===t&&(L(Ae),Ol._currentValue=ue)}var ha,fa;function fi(t){if(ha===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ha=i&&i[1]||"",fa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ha+t+fa}var Oo=!1;function br(t,i){if(!t||Oo)return"";Oo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(G){var H=G}Reflect.construct(t,[],$)}else{try{$.call()}catch(G){H=G}t.call($.prototype)}}else{try{throw Error()}catch(G){H=G}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var D=_.split(`
`),B=T.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===B.length)for(l=D.length-1,h=B.length-1;1<=l&&0<=h&&D[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==B[h]){var Q=`
`+D[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{Oo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?fi(a):""}function Mo(t,i){switch(t.tag){case 26:case 27:case 5:return fi(t.type);case 16:return fi("Lazy");case 13:return t.child!==i&&i!==null?fi("Suspense Fallback"):fi("Suspense");case 19:return fi("SuspenseList");case 0:case 15:return br(t.type,!1);case 11:return br(t.type.render,!1);case 1:return br(t.type,!0);case 31:return fi("Activity");default:return""}}function Vo(t){try{var i="",a=null;do i+=Mo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Tt=Object.prototype.hasOwnProperty,Mt=s.unstable_scheduleCallback,_s=s.unstable_cancelCallback,af=s.unstable_shouldYield,_c=s.unstable_requestPaint,nn=s.unstable_now,Tr=s.unstable_getCurrentPriorityLevel,ko=s.unstable_ImmediatePriority,jo=s.unstable_UserBlockingPriority,vs=s.unstable_NormalPriority,of=s.unstable_LowPriority,vc=s.unstable_IdlePriority,bc=s.log,Tc=s.unstable_setDisableYieldValue,Kn=null,Bt=null;function On(t){if(typeof bc=="function"&&Tc(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(Kn,t)}catch{}}var pt=Math.clz32?Math.clz32:wc,Ec=Math.log,da=Math.LN2;function wc(t){return t>>>=0,t===0?32:31-(Ec(t)/da|0)|0}var di=256,Er=262144,Et=4194304;function mi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function pi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=mi(l):(_&=T,_!==0?h=mi(_):a||(a=T&~t,a!==0&&(h=mi(a))))):(T=l&~d,T!==0?h=mi(T):_!==0?h=mi(_):a||(a=l&~t,a!==0&&(h=mi(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Yn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function lf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sc(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function gi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function wr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function cf(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,D=t.expirationTimes,B=t.hiddenUpdates;for(a=_&~a;0<a;){var Q=31-pt(a),$=1<<Q;T[Q]=0,D[Q]=-1;var H=B[Q];if(H!==null)for(B[Q]=null,Q=0;Q<H.length;Q++){var G=H[Q];G!==null&&(G.lane&=-536870913)}a&=~$}l!==0&&Sr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Sr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-pt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Lo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-pt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Uo(t,i){var a=i&-i;return a=(a&42)!==0?1:Ar(a),(a&(t.suspendedLanes|i))!==0?0:a}function Ar(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Hi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ac(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:v0(t.type))}function Xn(t,i){var a=W.p;try{return W.p=t,i()}finally{W.p=a}}var $n=Math.random().toString(36).slice(2),wt="__reactFiber$"+$n,jt="__reactProps$"+$n,yi="__reactContainer$"+$n,ma="__reactEvents$"+$n,uf="__reactListeners$"+$n,xc="__reactHandles$"+$n,Rc="__reactResources$"+$n,_i="__reactMarker$"+$n;function pa(t){delete t[wt],delete t[jt],delete t[ma],delete t[uf],delete t[xc]}function vi(t){var i=t[wt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[yi]||a[wt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=i0(t);t!==null;){if(a=t[wt])return a;t=i0(t)}return i}t=a,a=t.parentNode}return null}function Mn(t){if(t=t[wt]||t[yi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function _n(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function bi(t){var i=t[Rc];return i||(i=t[Rc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function St(t){t[_i]=!0}var Po=new Set,zo={};function Ti(t,i){Ei(t,i),Ei(t+"Capture",i)}function Ei(t,i){for(zo[t]=i,t=0;t<i.length;t++)Po.add(i[t])}var Bo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qo={},Ho={};function Ic(t){return Tt.call(Ho,t)?!0:Tt.call(qo,t)?!1:Bo.test(t)?Ho[t]=!0:(qo[t]=!0,!1)}function ga(t,i,a){if(Ic(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function vn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function At(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bs(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Fo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function $e(t){if(!t._valueTracker){var i=bs(t)?"checked":"value";t._valueTracker=Fo(t,i,""+t[i])}}function xr(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=bs(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function wi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Rr=/[\n"\\]/g;function un(t){return t.replace(Rr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ya(t,i,a,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Lt(i)):t.value!==""+Lt(i)&&(t.value=""+Lt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Go(t,_,Lt(i)):a!=null?Go(t,_,Lt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Lt(T):t.removeAttribute("name")}function Cc(t,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){$e(t);return}a=a!=null?""+Lt(a):"",i=i!=null?""+Lt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),$e(t)}function Go(t,i,a){i==="number"&&wi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ts(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Lt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Nc(t,i,a){if(i!=null&&(i=""+Lt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Lt(a):""}function Es(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(ge(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Lt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),$e(t)}function hn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Dc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Dc.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Ko(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Qo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Qo(t,d,i[d])}function _a(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ws=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function va(t){return ws.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Jn(){}var Yo=null;function Vn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ss=null,Si=null;function Ir(t){var i=Mn(t);if(i&&(t=i.stateNode)){var a=t[jt]||null;e:switch(t=i.stateNode,i.type){case"input":if(ya(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+un(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[jt]||null;if(!h)throw Error(r(90));ya(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&xr(l)}break e;case"textarea":Nc(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ts(t,!!a.multiple,i,!1)}}}var ba=!1;function As(t,i,a){if(ba)return t(i,a);ba=!0;try{var l=t(i);return l}finally{if(ba=!1,(Ss!==null||Si!==null)&&(Au(),Ss&&(i=Ss,t=Si,Si=Ss=null,Ir(i),t)))for(i=0;i<t.length;i++)Ir(t[i])}}function Zn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[jt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cr=!1;if(kn)try{var We={};Object.defineProperty(We,"passive",{get:function(){Cr=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch{Cr=!1}var Ai=null,Xo=null,Nr=null;function $o(){if(Nr)return Nr;var t,i=Xo,a=i.length,l,h="value"in Ai?Ai.value:Ai.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Nr=h.slice(t,1<l?1-l:void 0)}function Dr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Fi(){return!0}function Wn(){return!1}function qt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Fi:Wn,this.isPropagationStopped=Wn,this}return w(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Fi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Fi)},persist:function(){},isPersistent:Fi}),i}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xi=qt(Gi),xs=w({},Gi,{view:0,detail:0}),Jo=qt(xs),Rs,Ta,Ri,Ea=w({},xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Is,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ri&&(Ri&&t.type==="mousemove"?(Rs=t.screenX-Ri.screenX,Ta=t.screenY-Ri.screenY):Ta=Rs=0,Ri=t),Rs)},movementY:function(t){return"movementY"in t?t.movementY:Ta}}),Zo=qt(Ea),Or=w({},Ea,{dataTransfer:0}),Mc=qt(Or),Vc=w({},xs,{relatedTarget:0}),Mr=qt(Vc),Wo=w({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),kc=qt(Wo),wa=w({},Gi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),jc=qt(wa),Lc=w({},Gi,{data:0}),Ii=qt(Lc),Uc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bc(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=zc[t])?!!i[t]:!1}function Is(){return Bc}var sn=w({},xs,{key:function(t){if(t.key){var i=Uc[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Dr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Pc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Is,charCode:function(t){return t.type==="keypress"?Dr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Dr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qc=qt(sn),Hc=w({},Ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qi=qt(Hc),u=w({},xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Is}),p=qt(u),v=w({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=qt(v),U=w({},Ea,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),F=qt(U),se=w({},Gi,{newState:0,oldState:0}),Ne=qt(se),gt=[9,13,27,32],Ke=kn&&"CompositionEvent"in window,lt=null;kn&&"documentMode"in document&&(lt=document.documentMode);var jn=kn&&"TextEvent"in window&&!lt,Ci=kn&&(!Ke||lt&&8<lt&&11>=lt),ei=" ",ti=!1;function Vr(t,i){switch(t){case"keyup":return gt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Aa=!1;function Ow(t,i){switch(t){case"compositionend":return Sa(i);case"keypress":return i.which!==32?null:(ti=!0,ei);case"textInput":return t=i.data,t===ei&&ti?null:t;default:return null}}function Mw(t,i){if(Aa)return t==="compositionend"||!Ke&&Vr(t,i)?(t=$o(),Nr=Xo=Ai=null,Aa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ci&&i.locale!=="ko"?null:i.data;default:return null}}var Vw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ag(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Vw[t.type]:i==="textarea"}function og(t,i,a,l){Ss?Si?Si.push(l):Si=[l]:Ss=l,i=Ou(i,"onChange"),0<i.length&&(a=new xi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var el=null,tl=null;function kw(t){H_(t,0)}function Fc(t){var i=_n(t);if(xr(i))return t}function lg(t,i){if(t==="change")return i}var cg=!1;if(kn){var hf;if(kn){var ff="oninput"in document;if(!ff){var ug=document.createElement("div");ug.setAttribute("oninput","return;"),ff=typeof ug.oninput=="function"}hf=ff}else hf=!1;cg=hf&&(!document.documentMode||9<document.documentMode)}function hg(){el&&(el.detachEvent("onpropertychange",fg),tl=el=null)}function fg(t){if(t.propertyName==="value"&&Fc(tl)){var i=[];og(i,tl,t,Vn(t)),As(kw,i)}}function jw(t,i,a){t==="focusin"?(hg(),el=i,tl=a,el.attachEvent("onpropertychange",fg)):t==="focusout"&&hg()}function Lw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fc(tl)}function Uw(t,i){if(t==="click")return Fc(i)}function Pw(t,i){if(t==="input"||t==="change")return Fc(i)}function zw(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var bn=typeof Object.is=="function"?Object.is:zw;function nl(t,i){if(bn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Tt.call(i,h)||!bn(t[h],i[h]))return!1}return!0}function dg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mg(t,i){var a=dg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=dg(a)}}function pg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?pg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function gg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=wi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=wi(t.document)}return i}function df(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Bw=kn&&"documentMode"in document&&11>=document.documentMode,xa=null,mf=null,il=null,pf=!1;function yg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;pf||xa==null||xa!==wi(l)||(l=xa,"selectionStart"in l&&df(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),il&&nl(il,l)||(il=l,l=Ou(mf,"onSelect"),0<l.length&&(i=new xi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=xa)))}function kr(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ra={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionrun:kr("Transition","TransitionRun"),transitionstart:kr("Transition","TransitionStart"),transitioncancel:kr("Transition","TransitionCancel"),transitionend:kr("Transition","TransitionEnd")},gf={},_g={};kn&&(_g=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);function jr(t){if(gf[t])return gf[t];if(!Ra[t])return t;var i=Ra[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in _g)return gf[t]=i[a];return t}var vg=jr("animationend"),bg=jr("animationiteration"),Tg=jr("animationstart"),qw=jr("transitionrun"),Hw=jr("transitionstart"),Fw=jr("transitioncancel"),Eg=jr("transitionend"),wg=new Map,yf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yf.push("scrollEnd");function ni(t,i){wg.set(t,i),Ti(i,[t])}var Gc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Ln=[],Ia=0,_f=0;function Qc(){for(var t=Ia,i=_f=Ia=0;i<t;){var a=Ln[i];Ln[i++]=null;var l=Ln[i];Ln[i++]=null;var h=Ln[i];Ln[i++]=null;var d=Ln[i];if(Ln[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Sg(a,h,d)}}function Kc(t,i,a,l){Ln[Ia++]=t,Ln[Ia++]=i,Ln[Ia++]=a,Ln[Ia++]=l,_f|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function vf(t,i,a,l){return Kc(t,i,a,l),Yc(t)}function Lr(t,i){return Kc(t,null,null,i),Yc(t)}function Sg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-pt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Yc(t){if(50<Al)throw Al=0,Id=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ca={};function Gw(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(t,i,a,l){return new Gw(t,i,a,l)}function bf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ki(t,i){var a=t.alternate;return a===null?(a=Tn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Ag(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Xc(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")bf(t)&&(_=1);else if(typeof t=="string")_=$S(t,a,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=Tn(31,a,i,h),t.elementType=N,t.lanes=d,t;case Z:return Ur(a.children,h,d,i);case ee:_=8,h|=24;break;case ae:return t=Tn(12,a,i,h|2),t.elementType=ae,t.lanes=d,t;case qe:return t=Tn(13,a,i,h),t.elementType=qe,t.lanes=d,t;case Ce:return t=Tn(19,a,i,h),t.elementType=Ce,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case me:_=10;break e;case ce:_=9;break e;case Me:_=11;break e;case I:_=14;break e;case C:_=16,l=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return i=Tn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ur(t,i,a,l){return t=Tn(7,t,l,i),t.lanes=a,t}function Tf(t,i,a){return t=Tn(6,t,null,i),t.lanes=a,t}function xg(t){var i=Tn(18,null,null,0);return i.stateNode=t,i}function Ef(t,i,a){return i=Tn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Rg=new WeakMap;function Un(t,i){if(typeof t=="object"&&t!==null){var a=Rg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Vo(i)},Rg.set(t,i),i)}return{value:t,source:i,stack:Vo(i)}}var Na=[],Da=0,$c=null,sl=0,Pn=[],zn=0,Cs=null,Ni=1,Di="";function Yi(t,i){Na[Da++]=sl,Na[Da++]=$c,$c=t,sl=i}function Ig(t,i,a){Pn[zn++]=Ni,Pn[zn++]=Di,Pn[zn++]=Cs,Cs=t;var l=Ni;t=Di;var h=32-pt(l)-1;l&=~(1<<h),a+=1;var d=32-pt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ni=1<<32-pt(i)+h|a<<h|l,Di=d+t}else Ni=1<<d|a<<h|l,Di=t}function wf(t){t.return!==null&&(Yi(t,1),Ig(t,1,0))}function Sf(t){for(;t===$c;)$c=Na[--Da],Na[Da]=null,sl=Na[--Da],Na[Da]=null;for(;t===Cs;)Cs=Pn[--zn],Pn[zn]=null,Di=Pn[--zn],Pn[zn]=null,Ni=Pn[--zn],Pn[zn]=null}function Cg(t,i){Pn[zn++]=Ni,Pn[zn++]=Di,Pn[zn++]=Cs,Ni=i.id,Di=i.overflow,Cs=t}var Ht=null,rt=null,Be=!1,Ns=null,Bn=!1,Af=Error(r(519));function Ds(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rl(Un(i,t)),Af}function Ng(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[wt]=t,i[jt]=l,a){case"dialog":ke("cancel",i),ke("close",i);break;case"iframe":case"object":case"embed":ke("load",i);break;case"video":case"audio":for(a=0;a<Rl.length;a++)ke(Rl[a],i);break;case"source":ke("error",i);break;case"img":case"image":case"link":ke("error",i),ke("load",i);break;case"details":ke("toggle",i);break;case"input":ke("invalid",i),Cc(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ke("invalid",i);break;case"textarea":ke("invalid",i),Es(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||K_(i.textContent,a)?(l.popover!=null&&(ke("beforetoggle",i),ke("toggle",i)),l.onScroll!=null&&ke("scroll",i),l.onScrollEnd!=null&&ke("scrollend",i),l.onClick!=null&&(i.onclick=Jn),i=!0):i=!1,i||Ds(t,!0)}function Dg(t){for(Ht=t.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:Ht=Ht.return}}function Oa(t){if(t!==Ht)return!1;if(!Be)return Dg(t),Be=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Hd(t.type,t.memoizedProps)),a=!a),a&&rt&&Ds(t),Dg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));rt=n0(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));rt=n0(t)}else i===27?(i=rt,Gs(t.type)?(t=Yd,Yd=null,rt=t):rt=i):rt=Ht?Hn(t.stateNode.nextSibling):null;return!0}function Pr(){rt=Ht=null,Be=!1}function xf(){var t=Ns;return t!==null&&(pn===null?pn=t:pn.push.apply(pn,t),Ns=null),t}function rl(t){Ns===null?Ns=[t]:Ns.push(t)}var Rf=x(null),zr=null,Xi=null;function Os(t,i,a){ne(Rf,i._currentValue),i._currentValue=a}function $i(t){t._currentValue=Rf.current,L(Rf)}function If(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Cf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var D=0;D<i.length;D++)if(T.context===i[D]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),If(d.return,a,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),If(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ma(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var T=h.type;bn(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ae.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ol):t=[Ol])}h=h.return}t!==null&&Cf(i,t,a,l),i.flags|=262144}function Jc(t){for(t=t.firstContext;t!==null;){if(!bn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Br(t){zr=t,Xi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return Og(zr,t)}function Zc(t,i){return zr===null&&Br(t),Og(t,i)}function Og(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Xi===null){if(t===null)throw Error(r(308));Xi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Xi=Xi.next=i;return a}var Qw=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Kw=s.unstable_scheduleCallback,Yw=s.unstable_NormalPriority,xt={$$typeof:me,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nf(){return{controller:new Qw,data:new Map,refCount:0}}function al(t){t.refCount--,t.refCount===0&&Kw(Yw,function(){t.controller.abort()})}var ol=null,Df=0,Va=0,ka=null;function Xw(t,i){if(ol===null){var a=ol=[];Df=0,Va=Vd(),ka={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Df++,i.then(Mg,Mg),i}function Mg(){if(--Df===0&&ol!==null){ka!==null&&(ka.status="fulfilled");var t=ol;ol=null,Va=0,ka=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function $w(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Vg=P.S;P.S=function(t,i){y_=nn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Xw(t,i),Vg!==null&&Vg(t,i)};var qr=x(null);function Of(){var t=qr.current;return t!==null?t:st.pooledCache}function Wc(t,i){i===null?ne(qr,qr.current):ne(qr,i.pool)}function kg(){var t=Of();return t===null?null:{parent:xt._currentValue,pool:t}}var ja=Error(r(460)),Mf=Error(r(474)),eu=Error(r(542)),tu={then:function(){}};function jg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Lg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Jn,Jn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Pg(t),t;default:if(typeof i.status=="string")i.then(Jn,Jn);else{if(t=st,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Pg(t),t}throw Fr=i,ja}}function Hr(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Fr=a,ja):a}}var Fr=null;function Ug(){if(Fr===null)throw Error(r(459));var t=Fr;return Fr=null,t}function Pg(t){if(t===ja||t===eu)throw Error(r(483))}var La=null,ll=0;function nu(t){var i=ll;return ll+=1,La===null&&(La=[]),Lg(La,t,i)}function cl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function iu(t,i){throw i.$$typeof===A?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function zg(t){function i(j,V){if(t){var z=j.deletions;z===null?(j.deletions=[V],j.flags|=16):z.push(V)}}function a(j,V){if(!t)return null;for(;V!==null;)i(j,V),V=V.sibling;return null}function l(j){for(var V=new Map;j!==null;)j.key!==null?V.set(j.key,j):V.set(j.index,j),j=j.sibling;return V}function h(j,V){return j=Ki(j,V),j.index=0,j.sibling=null,j}function d(j,V,z){return j.index=z,t?(z=j.alternate,z!==null?(z=z.index,z<V?(j.flags|=67108866,V):z):(j.flags|=67108866,V)):(j.flags|=1048576,V)}function _(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function T(j,V,z,X){return V===null||V.tag!==6?(V=Tf(z,j.mode,X),V.return=j,V):(V=h(V,z),V.return=j,V)}function D(j,V,z,X){var _e=z.type;return _e===Z?Q(j,V,z.props.children,X,z.key):V!==null&&(V.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===C&&Hr(_e)===V.type)?(V=h(V,z.props),cl(V,z),V.return=j,V):(V=Xc(z.type,z.key,z.props,null,j.mode,X),cl(V,z),V.return=j,V)}function B(j,V,z,X){return V===null||V.tag!==4||V.stateNode.containerInfo!==z.containerInfo||V.stateNode.implementation!==z.implementation?(V=Ef(z,j.mode,X),V.return=j,V):(V=h(V,z.children||[]),V.return=j,V)}function Q(j,V,z,X,_e){return V===null||V.tag!==7?(V=Ur(z,j.mode,X,_e),V.return=j,V):(V=h(V,z),V.return=j,V)}function $(j,V,z){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Tf(""+V,j.mode,z),V.return=j,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case q:return z=Xc(V.type,V.key,V.props,null,j.mode,z),cl(z,V),z.return=j,z;case K:return V=Ef(V,j.mode,z),V.return=j,V;case C:return V=Hr(V),$(j,V,z)}if(ge(V)||O(V))return V=Ur(V,j.mode,z,null),V.return=j,V;if(typeof V.then=="function")return $(j,nu(V),z);if(V.$$typeof===me)return $(j,Zc(j,V),z);iu(j,V)}return null}function H(j,V,z,X){var _e=V!==null?V.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return _e!==null?null:T(j,V,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case q:return z.key===_e?D(j,V,z,X):null;case K:return z.key===_e?B(j,V,z,X):null;case C:return z=Hr(z),H(j,V,z,X)}if(ge(z)||O(z))return _e!==null?null:Q(j,V,z,X,null);if(typeof z.then=="function")return H(j,V,nu(z),X);if(z.$$typeof===me)return H(j,V,Zc(j,z),X);iu(j,z)}return null}function G(j,V,z,X,_e){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return j=j.get(z)||null,T(V,j,""+X,_e);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case q:return j=j.get(X.key===null?z:X.key)||null,D(V,j,X,_e);case K:return j=j.get(X.key===null?z:X.key)||null,B(V,j,X,_e);case C:return X=Hr(X),G(j,V,z,X,_e)}if(ge(X)||O(X))return j=j.get(z)||null,Q(V,j,X,_e,null);if(typeof X.then=="function")return G(j,V,z,nu(X),_e);if(X.$$typeof===me)return G(j,V,z,Zc(V,X),_e);iu(V,X)}return null}function de(j,V,z,X){for(var _e=null,Ge=null,pe=V,Oe=V=0,Le=null;pe!==null&&Oe<z.length;Oe++){pe.index>Oe?(Le=pe,pe=null):Le=pe.sibling;var Qe=H(j,pe,z[Oe],X);if(Qe===null){pe===null&&(pe=Le);break}t&&pe&&Qe.alternate===null&&i(j,pe),V=d(Qe,V,Oe),Ge===null?_e=Qe:Ge.sibling=Qe,Ge=Qe,pe=Le}if(Oe===z.length)return a(j,pe),Be&&Yi(j,Oe),_e;if(pe===null){for(;Oe<z.length;Oe++)pe=$(j,z[Oe],X),pe!==null&&(V=d(pe,V,Oe),Ge===null?_e=pe:Ge.sibling=pe,Ge=pe);return Be&&Yi(j,Oe),_e}for(pe=l(pe);Oe<z.length;Oe++)Le=G(pe,j,Oe,z[Oe],X),Le!==null&&(t&&Le.alternate!==null&&pe.delete(Le.key===null?Oe:Le.key),V=d(Le,V,Oe),Ge===null?_e=Le:Ge.sibling=Le,Ge=Le);return t&&pe.forEach(function($s){return i(j,$s)}),Be&&Yi(j,Oe),_e}function Ee(j,V,z,X){if(z==null)throw Error(r(151));for(var _e=null,Ge=null,pe=V,Oe=V=0,Le=null,Qe=z.next();pe!==null&&!Qe.done;Oe++,Qe=z.next()){pe.index>Oe?(Le=pe,pe=null):Le=pe.sibling;var $s=H(j,pe,Qe.value,X);if($s===null){pe===null&&(pe=Le);break}t&&pe&&$s.alternate===null&&i(j,pe),V=d($s,V,Oe),Ge===null?_e=$s:Ge.sibling=$s,Ge=$s,pe=Le}if(Qe.done)return a(j,pe),Be&&Yi(j,Oe),_e;if(pe===null){for(;!Qe.done;Oe++,Qe=z.next())Qe=$(j,Qe.value,X),Qe!==null&&(V=d(Qe,V,Oe),Ge===null?_e=Qe:Ge.sibling=Qe,Ge=Qe);return Be&&Yi(j,Oe),_e}for(pe=l(pe);!Qe.done;Oe++,Qe=z.next())Qe=G(pe,j,Oe,Qe.value,X),Qe!==null&&(t&&Qe.alternate!==null&&pe.delete(Qe.key===null?Oe:Qe.key),V=d(Qe,V,Oe),Ge===null?_e=Qe:Ge.sibling=Qe,Ge=Qe);return t&&pe.forEach(function(o1){return i(j,o1)}),Be&&Yi(j,Oe),_e}function nt(j,V,z,X){if(typeof z=="object"&&z!==null&&z.type===Z&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case q:e:{for(var _e=z.key;V!==null;){if(V.key===_e){if(_e=z.type,_e===Z){if(V.tag===7){a(j,V.sibling),X=h(V,z.props.children),X.return=j,j=X;break e}}else if(V.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===C&&Hr(_e)===V.type){a(j,V.sibling),X=h(V,z.props),cl(X,z),X.return=j,j=X;break e}a(j,V);break}else i(j,V);V=V.sibling}z.type===Z?(X=Ur(z.props.children,j.mode,X,z.key),X.return=j,j=X):(X=Xc(z.type,z.key,z.props,null,j.mode,X),cl(X,z),X.return=j,j=X)}return _(j);case K:e:{for(_e=z.key;V!==null;){if(V.key===_e)if(V.tag===4&&V.stateNode.containerInfo===z.containerInfo&&V.stateNode.implementation===z.implementation){a(j,V.sibling),X=h(V,z.children||[]),X.return=j,j=X;break e}else{a(j,V);break}else i(j,V);V=V.sibling}X=Ef(z,j.mode,X),X.return=j,j=X}return _(j);case C:return z=Hr(z),nt(j,V,z,X)}if(ge(z))return de(j,V,z,X);if(O(z)){if(_e=O(z),typeof _e!="function")throw Error(r(150));return z=_e.call(z),Ee(j,V,z,X)}if(typeof z.then=="function")return nt(j,V,nu(z),X);if(z.$$typeof===me)return nt(j,V,Zc(j,z),X);iu(j,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,V!==null&&V.tag===6?(a(j,V.sibling),X=h(V,z),X.return=j,j=X):(a(j,V),X=Tf(z,j.mode,X),X.return=j,j=X),_(j)):a(j,V)}return function(j,V,z,X){try{ll=0;var _e=nt(j,V,z,X);return La=null,_e}catch(pe){if(pe===ja||pe===eu)throw pe;var Ge=Tn(29,pe,null,j.mode);return Ge.lanes=X,Ge.return=j,Ge}}}var Gr=zg(!0),Bg=zg(!1),Ms=!1;function Vf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Vs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ks(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Yc(t),Sg(t,null,a),i}return Kc(t,l,i,a),Yc(t)}function ul(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Lo(t,a)}}function jf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Lf=!1;function hl(){if(Lf){var t=ka;if(t!==null)throw t}}function fl(t,i,a,l){Lf=!1;var h=t.updateQueue;Ms=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var D=T,B=D.next;D.next=null,_===null?d=B:_.next=B,_=D;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==_&&(T===null?Q.firstBaseUpdate=B:T.next=B,Q.lastBaseUpdate=D))}if(d!==null){var $=h.baseState;_=0,Q=B=D=null,T=d;do{var H=T.lane&-536870913,G=H!==T.lane;if(G?(je&H)===H:(l&H)===H){H!==0&&H===Va&&(Lf=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var de=t,Ee=T;H=i;var nt=a;switch(Ee.tag){case 1:if(de=Ee.payload,typeof de=="function"){$=de.call(nt,$,H);break e}$=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=Ee.payload,H=typeof de=="function"?de.call(nt,$,H):de,H==null)break e;$=w({},$,H);break e;case 2:Ms=!0}}H=T.callback,H!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[H]:G.push(H))}else G={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(B=Q=G,D=$):Q=Q.next=G,_|=H;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;G=T,T=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);Q===null&&(D=$),h.baseState=D,h.firstBaseUpdate=B,h.lastBaseUpdate=Q,d===null&&(h.shared.lanes=0),zs|=_,t.lanes=_,t.memoizedState=$}}function qg(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function Hg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)qg(a[t],i)}var Ua=x(null),su=x(0);function Fg(t,i){t=rs,ne(su,t),ne(Ua,i),rs=t|i.baseLanes}function Uf(){ne(su,rs),ne(Ua,Ua.current)}function Pf(){rs=su.current,L(Ua),L(su)}var En=x(null),qn=null;function js(t){var i=t.alternate;ne(yt,yt.current&1),ne(En,t),qn===null&&(i===null||Ua.current!==null||i.memoizedState!==null)&&(qn=t)}function zf(t){ne(yt,yt.current),ne(En,t),qn===null&&(qn=t)}function Gg(t){t.tag===22?(ne(yt,yt.current),ne(En,t),qn===null&&(qn=t)):Ls()}function Ls(){ne(yt,yt.current),ne(En,En.current)}function wn(t){L(En),qn===t&&(qn=null),L(yt)}var yt=x(0);function ru(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Qd(a)||Kd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ji=0,De=null,et=null,Rt=null,au=!1,Pa=!1,Qr=!1,ou=0,dl=0,za=null,Jw=0;function ft(){throw Error(r(321))}function Bf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!bn(t[a],i[a]))return!1;return!0}function qf(t,i,a,l,h,d){return Ji=d,De=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,P.H=t===null||t.memoizedState===null?Iy:id,Qr=!1,d=a(l,h),Qr=!1,Pa&&(d=Kg(i,a,l,h)),Qg(t),d}function Qg(t){P.H=gl;var i=et!==null&&et.next!==null;if(Ji=0,Rt=et=De=null,au=!1,dl=0,za=null,i)throw Error(r(300));t===null||It||(t=t.dependencies,t!==null&&Jc(t)&&(It=!0))}function Kg(t,i,a,l){De=t;var h=0;do{if(Pa&&(za=null),dl=0,Pa=!1,25<=h)throw Error(r(301));if(h+=1,Rt=et=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}P.H=Cy,d=i(a,l)}while(Pa);return d}function Zw(){var t=P.H,i=t.useState()[0];return i=typeof i.then=="function"?ml(i):i,t=t.useState()[0],(et!==null?et.memoizedState:null)!==t&&(De.flags|=1024),i}function Hf(){var t=ou!==0;return ou=0,t}function Ff(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Gf(t){if(au){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}au=!1}Ji=0,Rt=et=De=null,Pa=!1,dl=ou=0,za=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?De.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function _t(){if(et===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var i=Rt===null?De.memoizedState:Rt.next;if(i!==null)Rt=i,et=t;else{if(t===null)throw De.alternate===null?Error(r(467)):Error(r(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Rt===null?De.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function lu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ml(t){var i=dl;return dl+=1,za===null&&(za=[]),t=Lg(za,t,i),i=De,(Rt===null?i.memoizedState:Rt.next)===null&&(i=i.alternate,P.H=i===null||i.memoizedState===null?Iy:id),t}function cu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ml(t);if(t.$$typeof===me)return Ft(t)}throw Error(r(438,String(t)))}function Qf(t){var i=null,a=De.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=lu(),De.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=k;return i.index++,a}function Zi(t,i){return typeof i=="function"?i(t):i}function uu(t){var i=_t();return Kf(i,et,t)}function Kf(t,i,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=_=null,D=null,B=i,Q=!1;do{var $=B.lane&-536870913;if($!==B.lane?(je&$)===$:(Ji&$)===$){var H=B.revertLane;if(H===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),$===Va&&(Q=!0);else if((Ji&H)===H){B=B.next,H===Va&&(Q=!0);continue}else $={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(T=D=$,_=d):D=D.next=$,De.lanes|=H,zs|=H;$=B.action,Qr&&a(d,$),d=B.hasEagerState?B.eagerState:a(d,$)}else H={lane:$,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(T=D=H,_=d):D=D.next=H,De.lanes|=$,zs|=$;B=B.next}while(B!==null&&B!==i);if(D===null?_=d:D.next=T,!bn(d,t.memoizedState)&&(It=!0,Q&&(a=ka,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Yf(t){var i=_t(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);bn(d,i.memoizedState)||(It=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Yg(t,i,a){var l=De,h=_t(),d=Be;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!bn((et||h).memoizedState,a);if(_&&(h.memoizedState=a,It=!0),h=h.queue,Jf(Jg.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,Ba(9,{destroy:void 0},$g.bind(null,l,h,a,i),null),st===null)throw Error(r(349));d||(Ji&127)!==0||Xg(l,i,a)}return a}function Xg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=De.updateQueue,i===null?(i=lu(),De.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function $g(t,i,a,l){i.value=a,i.getSnapshot=l,Zg(i)&&Wg(t)}function Jg(t,i,a){return a(function(){Zg(i)&&Wg(t)})}function Zg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!bn(t,a)}catch{return!0}}function Wg(t){var i=Lr(t,2);i!==null&&gn(i,t,2)}function Xf(t){var i=rn();if(typeof t=="function"){var a=t;if(t=a(),Qr){On(!0);try{a()}finally{On(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:t},i}function ey(t,i,a,l){return t.baseState=a,Kf(t,et,typeof l=="function"?l:Zi)}function Ww(t,i,a,l,h){if(du(t))throw Error(r(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};P.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,ty(i,d)):(d.next=a.next,i.pending=a.next=d)}}function ty(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=P.T,_={};P.T=_;try{var T=a(h,l),D=P.S;D!==null&&D(_,T),ny(t,i,T)}catch(B){$f(t,i,B)}finally{d!==null&&_.types!==null&&(d.types=_.types),P.T=d}}else try{d=a(h,l),ny(t,i,d)}catch(B){$f(t,i,B)}}function ny(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){iy(t,i,l)},function(l){return $f(t,i,l)}):iy(t,i,a)}function iy(t,i,a){i.status="fulfilled",i.value=a,sy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,ty(t,a)))}function $f(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,sy(i),i=i.next;while(i!==l)}t.action=null}function sy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function ry(t,i){return i}function ay(t,i){if(Be){var a=st.formState;if(a!==null){e:{var l=De;if(Be){if(rt){t:{for(var h=rt,d=Bn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Hn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){rt=Hn(h.nextSibling),l=h.data==="F!";break e}}Ds(l)}l=!1}l&&(i=a[0])}}return a=rn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ry,lastRenderedState:i},a.queue=l,a=Ay.bind(null,De,l),l.dispatch=a,l=Xf(!1),d=nd.bind(null,De,!1,l.queue),l=rn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=Ww.bind(null,De,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function oy(t){var i=_t();return ly(i,et,t)}function ly(t,i,a){if(i=Kf(t,i,ry)[0],t=uu(Zi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ml(i)}catch(_){throw _===ja?eu:_}else l=i;i=_t();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(De.flags|=2048,Ba(9,{destroy:void 0},eS.bind(null,h,a),null)),[l,d,t]}function eS(t,i){t.action=i}function cy(t){var i=_t(),a=et;if(a!==null)return ly(i,a,t);_t(),i=i.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ba(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=De.updateQueue,i===null&&(i=lu(),De.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function uy(){return _t().memoizedState}function hu(t,i,a,l){var h=rn();De.flags|=t,h.memoizedState=Ba(1|i,{destroy:void 0},a,l===void 0?null:l)}function fu(t,i,a,l){var h=_t();l=l===void 0?null:l;var d=h.memoizedState.inst;et!==null&&l!==null&&Bf(l,et.memoizedState.deps)?h.memoizedState=Ba(i,d,a,l):(De.flags|=t,h.memoizedState=Ba(1|i,d,a,l))}function hy(t,i){hu(8390656,8,t,i)}function Jf(t,i){fu(2048,8,t,i)}function tS(t){De.flags|=4;var i=De.updateQueue;if(i===null)i=lu(),De.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function fy(t){var i=_t().memoizedState;return tS({ref:i,nextImpl:t}),function(){if((Ye&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function dy(t,i){return fu(4,2,t,i)}function my(t,i){return fu(4,4,t,i)}function py(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function gy(t,i,a){a=a!=null?a.concat([t]):null,fu(4,4,py.bind(null,i,t),a)}function Zf(){}function yy(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Bf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function _y(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Bf(i,l[1]))return l[0];if(l=t(),Qr){On(!0);try{t()}finally{On(!1)}}return a.memoizedState=[l,i],l}function Wf(t,i,a){return a===void 0||(Ji&1073741824)!==0&&(je&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=v_(),De.lanes|=t,zs|=t,a)}function vy(t,i,a,l){return bn(a,i)?a:Ua.current!==null?(t=Wf(t,a,l),bn(t,i)||(It=!0),t):(Ji&42)===0||(Ji&1073741824)!==0&&(je&261930)===0?(It=!0,t.memoizedState=a):(t=v_(),De.lanes|=t,zs|=t,i)}function by(t,i,a,l,h){var d=W.p;W.p=d!==0&&8>d?d:8;var _=P.T,T={};P.T=T,nd(t,!1,i,a);try{var D=h(),B=P.S;if(B!==null&&B(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Q=$w(D,l);pl(t,i,Q,xn(t))}else pl(t,i,l,xn(t))}catch($){pl(t,i,{then:function(){},status:"rejected",reason:$},xn())}finally{W.p=d,_!==null&&T.types!==null&&(_.types=T.types),P.T=_}}function nS(){}function ed(t,i,a,l){if(t.tag!==5)throw Error(r(476));var h=Ty(t).queue;by(t,h,i,ue,a===null?nS:function(){return Ey(t),a(l)})}function Ty(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:ue},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Ey(t){var i=Ty(t);i.next===null&&(i=t.alternate.memoizedState),pl(t,i.next.queue,{},xn())}function td(){return Ft(Ol)}function wy(){return _t().memoizedState}function Sy(){return _t().memoizedState}function iS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=xn();t=Vs(a);var l=ks(i,t,a);l!==null&&(gn(l,i,a),ul(l,i,a)),i={cache:Nf()},t.payload=i;return}i=i.return}}function sS(t,i,a){var l=xn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},du(t)?xy(i,a):(a=vf(t,i,a,l),a!==null&&(gn(a,t,l),Ry(a,i,l)))}function Ay(t,i,a){var l=xn();pl(t,i,a,l)}function pl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(du(t))xy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,bn(T,_))return Kc(t,i,h,0),st===null&&Qc(),!1}catch{}if(a=vf(t,i,h,l),a!==null)return gn(a,t,l),Ry(a,i,l),!0}return!1}function nd(t,i,a,l){if(l={lane:2,revertLane:Vd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},du(t)){if(i)throw Error(r(479))}else i=vf(t,a,l,2),i!==null&&gn(i,t,2)}function du(t){var i=t.alternate;return t===De||i!==null&&i===De}function xy(t,i){Pa=au=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Ry(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Lo(t,a)}}var gl={readContext:Ft,use:cu,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};gl.useEffectEvent=ft;var Iy={readContext:Ft,use:cu,useCallback:function(t,i){return rn().memoizedState=[t,i===void 0?null:i],t},useContext:Ft,useEffect:hy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,hu(4194308,4,py.bind(null,i,t),a)},useLayoutEffect:function(t,i){return hu(4194308,4,t,i)},useInsertionEffect:function(t,i){hu(4,2,t,i)},useMemo:function(t,i){var a=rn();i=i===void 0?null:i;var l=t();if(Qr){On(!0);try{t()}finally{On(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=rn();if(a!==void 0){var h=a(i);if(Qr){On(!0);try{a(i)}finally{On(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=sS.bind(null,De,t),[l.memoizedState,t]},useRef:function(t){var i=rn();return t={current:t},i.memoizedState=t},useState:function(t){t=Xf(t);var i=t.queue,a=Ay.bind(null,De,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Zf,useDeferredValue:function(t,i){var a=rn();return Wf(a,t,i)},useTransition:function(){var t=Xf(!1);return t=by.bind(null,De,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=De,h=rn();if(Be){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),st===null)throw Error(r(349));(je&127)!==0||Xg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,hy(Jg.bind(null,l,d,t),[t]),l.flags|=2048,Ba(9,{destroy:void 0},$g.bind(null,l,d,a,i),null),a},useId:function(){var t=rn(),i=st.identifierPrefix;if(Be){var a=Di,l=Ni;a=(l&~(1<<32-pt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=ou++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=Jw++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:td,useFormState:ay,useActionState:ay,useOptimistic:function(t){var i=rn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=nd.bind(null,De,!0,a),a.dispatch=i,[t,i]},useMemoCache:Qf,useCacheRefresh:function(){return rn().memoizedState=iS.bind(null,De)},useEffectEvent:function(t){var i=rn(),a={impl:t};return i.memoizedState=a,function(){if((Ye&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},id={readContext:Ft,use:cu,useCallback:yy,useContext:Ft,useEffect:Jf,useImperativeHandle:gy,useInsertionEffect:dy,useLayoutEffect:my,useMemo:_y,useReducer:uu,useRef:uy,useState:function(){return uu(Zi)},useDebugValue:Zf,useDeferredValue:function(t,i){var a=_t();return vy(a,et.memoizedState,t,i)},useTransition:function(){var t=uu(Zi)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:ml(t),i]},useSyncExternalStore:Yg,useId:wy,useHostTransitionStatus:td,useFormState:oy,useActionState:oy,useOptimistic:function(t,i){var a=_t();return ey(a,et,t,i)},useMemoCache:Qf,useCacheRefresh:Sy};id.useEffectEvent=fy;var Cy={readContext:Ft,use:cu,useCallback:yy,useContext:Ft,useEffect:Jf,useImperativeHandle:gy,useInsertionEffect:dy,useLayoutEffect:my,useMemo:_y,useReducer:Yf,useRef:uy,useState:function(){return Yf(Zi)},useDebugValue:Zf,useDeferredValue:function(t,i){var a=_t();return et===null?Wf(a,t,i):vy(a,et.memoizedState,t,i)},useTransition:function(){var t=Yf(Zi)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:ml(t),i]},useSyncExternalStore:Yg,useId:wy,useHostTransitionStatus:td,useFormState:cy,useActionState:cy,useOptimistic:function(t,i){var a=_t();return et!==null?ey(a,et,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Qf,useCacheRefresh:Sy};Cy.useEffectEvent=fy;function sd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:w({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var rd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=xn(),h=Vs(l);h.payload=i,a!=null&&(h.callback=a),i=ks(t,h,l),i!==null&&(gn(i,t,l),ul(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=xn(),h=Vs(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=ks(t,h,l),i!==null&&(gn(i,t,l),ul(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=xn(),l=Vs(a);l.tag=2,i!=null&&(l.callback=i),i=ks(t,l,a),i!==null&&(gn(i,t,a),ul(i,t,a))}};function Ny(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!nl(a,l)||!nl(h,d):!0}function Dy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&rd.enqueueReplaceState(i,i.state,null)}function Kr(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=w({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Oy(t){Gc(t)}function My(t){console.error(t)}function Vy(t){Gc(t)}function mu(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function ky(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ad(t,i,a){return a=Vs(a),a.tag=3,a.payload={element:null},a.callback=function(){mu(t,i)},a}function jy(t){return t=Vs(t),t.tag=3,t}function Ly(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){ky(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){ky(i,a,l),typeof h!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function rS(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ma(i,a,h,!0),a=En.current,a!==null){switch(a.tag){case 31:case 13:return qn===null?xu():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===tu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Dd(t,l,h)),!1;case 22:return a.flags|=65536,l===tu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Dd(t,l,h)),!1}throw Error(r(435,a.tag))}return Dd(t,l,h),xu(),!1}if(Be)return i=En.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Af&&(t=Error(r(422),{cause:l}),rl(Un(t,a)))):(l!==Af&&(i=Error(r(423),{cause:l}),rl(Un(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Un(l,a),h=ad(t.stateNode,l,h),jf(t,h),dt!==4&&(dt=2)),!1;var d=Error(r(520),{cause:l});if(d=Un(d,a),Sl===null?Sl=[d]:Sl.push(d),dt!==4&&(dt=2),i===null)return!0;l=Un(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=ad(a.stateNode,l,t),jf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Bs===null||!Bs.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=jy(h),Ly(h,t,a,l),jf(a,h),!1}a=a.return}while(a!==null);return!1}var od=Error(r(461)),It=!1;function Gt(t,i,a,l){i.child=t===null?Bg(i,null,a,l):Gr(i,t.child,a,l)}function Uy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Br(i),l=qf(t,i,a,_,d,h),T=Hf(),t!==null&&!It?(Ff(t,i,h),Wi(t,i,h)):(Be&&T&&wf(i),i.flags|=1,Gt(t,i,l,h),i.child)}function Py(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!bf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,zy(t,i,d,l,h)):(t=Xc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!pd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:nl,a(_,l)&&t.ref===i.ref)return Wi(t,i,h)}return i.flags|=1,t=Ki(d,l),t.ref=i.ref,t.return=i,i.child=t}function zy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(nl(d,l)&&t.ref===i.ref)if(It=!1,i.pendingProps=l=d,pd(t,h))(t.flags&131072)!==0&&(It=!0);else return i.lanes=t.lanes,Wi(t,i,h)}return ld(t,i,a,l,h)}function By(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return qy(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Wc(i,d!==null?d.cachePool:null),d!==null?Fg(i,d):Uf(),Gg(i);else return l=i.lanes=536870912,qy(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Wc(i,d.cachePool),Fg(i,d),Ls(),i.memoizedState=null):(t!==null&&Wc(i,null),Uf(),Ls());return Gt(t,i,h,a),i.child}function yl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function qy(t,i,a,l,h){var d=Of();return d=d===null?null:{parent:xt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Wc(i,null),Uf(),Gg(i),t!==null&&Ma(t,i,l,!0),i.childLanes=h,null}function pu(t,i){return i=yu({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Hy(t,i,a){return Gr(i,t.child,null,a),t=pu(i,i.pendingProps),t.flags|=2,wn(i),i.memoizedState=null,t}function aS(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Be){if(l.mode==="hidden")return t=pu(i,l),i.lanes=536870912,yl(null,t);if(zf(i),(t=rt)?(t=t0(t,Bn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Cs!==null?{id:Ni,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=xg(t),a.return=i,i.child=a,Ht=i,rt=null)):t=null,t===null)throw Ds(i);return i.lanes=536870912,null}return pu(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(zf(i),h)if(i.flags&256)i.flags&=-257,i=Hy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(It||Ma(t,i,a,!1),h=(a&t.childLanes)!==0,It||h){if(l=st,l!==null&&(_=Uo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Lr(t,_),gn(l,t,_),od;xu(),i=Hy(t,i,a)}else t=d.treeContext,rt=Hn(_.nextSibling),Ht=i,Be=!0,Ns=null,Bn=!1,t!==null&&Cg(i,t),i=pu(i,l),i.flags|=4096;return i}return t=Ki(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function gu(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function ld(t,i,a,l,h){return Br(i),a=qf(t,i,a,l,void 0,h),l=Hf(),t!==null&&!It?(Ff(t,i,h),Wi(t,i,h)):(Be&&l&&wf(i),i.flags|=1,Gt(t,i,a,h),i.child)}function Fy(t,i,a,l,h,d){return Br(i),i.updateQueue=null,a=Kg(i,l,a,h),Qg(t),l=Hf(),t!==null&&!It?(Ff(t,i,d),Wi(t,i,d)):(Be&&l&&wf(i),i.flags|=1,Gt(t,i,a,d),i.child)}function Gy(t,i,a,l,h){if(Br(i),i.stateNode===null){var d=Ca,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ft(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=rd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Vf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ft(_):Ca,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(sd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&rd.enqueueReplaceState(d,d.state,null),fl(i,l,d,h),hl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,D=Kr(a,T);d.props=D;var B=d.context,Q=a.contextType;_=Ca,typeof Q=="object"&&Q!==null&&(_=Ft(Q));var $=a.getDerivedStateFromProps;Q=typeof $=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||B!==_)&&Dy(i,d,l,_),Ms=!1;var H=i.memoizedState;d.state=H,fl(i,l,d,h),hl(),B=i.memoizedState,T||H!==B||Ms?(typeof $=="function"&&(sd(i,a,$,l),B=i.memoizedState),(D=Ms||Ny(i,a,D,l,H,B,_))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,kf(t,i),_=i.memoizedProps,Q=Kr(a,_),d.props=Q,$=i.pendingProps,H=d.context,B=a.contextType,D=Ca,typeof B=="object"&&B!==null&&(D=Ft(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==$||H!==D)&&Dy(i,d,l,D),Ms=!1,H=i.memoizedState,d.state=H,fl(i,l,d,h),hl();var G=i.memoizedState;_!==$||H!==G||Ms||t!==null&&t.dependencies!==null&&Jc(t.dependencies)?(typeof T=="function"&&(sd(i,a,T,l),G=i.memoizedState),(Q=Ms||Ny(i,a,Q,l,H,G,D)||t!==null&&t.dependencies!==null&&Jc(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,D)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=G),d.props=l,d.state=G,d.context=D,l=Q):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,gu(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Gr(i,t.child,null,h),i.child=Gr(i,null,a,h)):Gt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Wi(t,i,h),t}function Qy(t,i,a,l){return Pr(),i.flags|=256,Gt(t,i,a,l),i.child}var cd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ud(t){return{baseLanes:t,cachePool:kg()}}function hd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=An),t}function Ky(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Be){if(h?js(i):Ls(),(t=rt)?(t=t0(t,Bn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Cs!==null?{id:Ni,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=xg(t),a.return=i,i.child=a,Ht=i,rt=null)):t=null,t===null)throw Ds(i);return Kd(t)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Ls(),h=i.mode,T=yu({mode:"hidden",children:T},h),l=Ur(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=ud(a),l.childLanes=hd(t,_,a),i.memoizedState=cd,yl(null,l)):(js(i),fd(i,T))}var D=t.memoizedState;if(D!==null&&(T=D.dehydrated,T!==null)){if(d)i.flags&256?(js(i),i.flags&=-257,i=dd(t,i,a)):i.memoizedState!==null?(Ls(),i.child=t.child,i.flags|=128,i=null):(Ls(),T=l.fallback,h=i.mode,l=yu({mode:"visible",children:l.children},h),T=Ur(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,Gr(i,t.child,null,a),l=i.child,l.memoizedState=ud(a),l.childLanes=hd(t,_,a),i.memoizedState=cd,i=yl(null,l));else if(js(i),Kd(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(r(419)),l.stack="",l.digest=_,rl({value:l,source:null,stack:null}),i=dd(t,i,a)}else if(It||Ma(t,i,a,!1),_=(a&t.childLanes)!==0,It||_){if(_=st,_!==null&&(l=Uo(_,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,Lr(t,l),gn(_,t,l),od;Qd(T)||xu(),i=dd(t,i,a)}else Qd(T)?(i.flags|=192,i.child=t.child,i=null):(t=D.treeContext,rt=Hn(T.nextSibling),Ht=i,Be=!0,Ns=null,Bn=!1,t!==null&&Cg(i,t),i=fd(i,l.children),i.flags|=4096);return i}return h?(Ls(),T=l.fallback,h=i.mode,D=t.child,B=D.sibling,l=Ki(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,B!==null?T=Ki(B,T):(T=Ur(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,yl(null,l),l=i.child,T=t.child.memoizedState,T===null?T=ud(a):(h=T.cachePool,h!==null?(D=xt._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=kg(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=hd(t,_,a),i.memoizedState=cd,yl(t.child,l)):(js(i),a=t.child,t=a.sibling,a=Ki(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function fd(t,i){return i=yu({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function yu(t,i){return t=Tn(22,t,null,i),t.lanes=0,t}function dd(t,i,a){return Gr(i,t.child,null,a),t=fd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Yy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),If(t.return,i,a)}function md(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Xy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=yt.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,ne(yt,_),Gt(t,i,l,a),l=Be?sl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yy(t,a,i);else if(t.tag===19)Yy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&ru(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),md(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&ru(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}md(i,!0,a,null,d,l);break;case"together":md(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Wi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),zs|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ma(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=Ki(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Ki(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function pd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Jc(t)))}function oS(t,i,a){switch(i.tag){case 3:Xe(i,i.stateNode.containerInfo),Os(i,xt,t.memoizedState.cache),Pr();break;case 27:case 5:bt(i);break;case 4:Xe(i,i.stateNode.containerInfo);break;case 10:Os(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,zf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(js(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Ky(t,i,a):(js(i),t=Wi(t,i,a),t!==null?t.sibling:null);js(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ma(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Xy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(yt,yt.current),l)break;return null;case 22:return i.lanes=0,By(t,i,a,i.pendingProps);case 24:Os(i,xt,t.memoizedState.cache)}return Wi(t,i,a)}function $y(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)It=!0;else{if(!pd(t,a)&&(i.flags&128)===0)return It=!1,oS(t,i,a);It=(t.flags&131072)!==0}else It=!1,Be&&(i.flags&1048576)!==0&&Ig(i,sl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Hr(i.elementType),i.type=t,typeof t=="function")bf(t)?(l=Kr(t,l),i.tag=1,i=Gy(null,i,t,l,a)):(i.tag=0,i=ld(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===Me){i.tag=11,i=Uy(null,i,t,l,a);break e}else if(h===I){i.tag=14,i=Py(null,i,t,l,a);break e}}throw i=ie(t)||t,Error(r(306,i,""))}}return i;case 0:return ld(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Kr(l,i.pendingProps),Gy(t,i,l,h,a);case 3:e:{if(Xe(i,i.stateNode.containerInfo),t===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,kf(t,i),fl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Os(i,xt,l),l!==d.cache&&Cf(i,[xt],a,!0),hl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Qy(t,i,l,a);break e}else if(l!==h){h=Un(Error(r(424)),i),rl(h),i=Qy(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,rt=Hn(t.firstChild),Ht=i,Be=!0,Ns=null,Bn=!0,a=Bg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Pr(),l===h){i=Wi(t,i,a);break e}Gt(t,i,l,a)}i=i.child}return i;case 26:return gu(t,i),t===null?(a=o0(i.type,null,i.pendingProps,null))?i.memoizedState=a:Be||(a=i.type,t=i.pendingProps,l=Mu(we.current).createElement(a),l[wt]=i,l[jt]=t,Qt(l,a,t),St(l),i.stateNode=l):i.memoizedState=o0(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return bt(i),t===null&&Be&&(l=i.stateNode=s0(i.type,i.pendingProps,we.current),Ht=i,Bn=!0,h=rt,Gs(i.type)?(Yd=h,rt=Hn(l.firstChild)):rt=h),Gt(t,i,i.pendingProps.children,a),gu(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Be&&((h=l=rt)&&(l=LS(l,i.type,i.pendingProps,Bn),l!==null?(i.stateNode=l,Ht=i,rt=Hn(l.firstChild),Bn=!1,h=!0):h=!1),h||Ds(i)),bt(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Hd(h,d)?l=null:_!==null&&Hd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=qf(t,i,Zw,null,null,a),Ol._currentValue=h),gu(t,i),Gt(t,i,l,a),i.child;case 6:return t===null&&Be&&((t=a=rt)&&(a=US(a,i.pendingProps,Bn),a!==null?(i.stateNode=a,Ht=i,rt=null,t=!0):t=!1),t||Ds(i)),null;case 13:return Ky(t,i,a);case 4:return Xe(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Gr(i,null,l,a):Gt(t,i,l,a),i.child;case 11:return Uy(t,i,i.type,i.pendingProps,a);case 7:return Gt(t,i,i.pendingProps,a),i.child;case 8:return Gt(t,i,i.pendingProps.children,a),i.child;case 12:return Gt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Os(i,i.type,l.value),Gt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Br(i),h=Ft(h),l=l(h),i.flags|=1,Gt(t,i,l,a),i.child;case 14:return Py(t,i,i.type,i.pendingProps,a);case 15:return zy(t,i,i.type,i.pendingProps,a);case 19:return Xy(t,i,a);case 31:return aS(t,i,a);case 22:return By(t,i,a,i.pendingProps);case 24:return Br(i),l=Ft(xt),t===null?(h=Of(),h===null&&(h=st,d=Nf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Vf(i),Os(i,xt,h)):((t.lanes&a)!==0&&(kf(t,i),fl(i,null,null,a),hl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Os(i,xt,l)):(l=d.cache,Os(i,xt,l),l!==h.cache&&Cf(i,[xt],a,!0))),Gt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function es(t){t.flags|=4}function gd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(w_())t.flags|=8192;else throw Fr=tu,Mf}else t.flags&=-16777217}function Jy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!f0(i))if(w_())t.flags|=8192;else throw Fr=tu,Mf}function _u(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Sc():536870912,t.lanes|=i,Ga|=i)}function _l(t,i){if(!Be)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function at(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function lS(t,i,a){var l=i.pendingProps;switch(Sf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(i),null;case 1:return at(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),$i(xt),ve(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Oa(i)?es(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,xf())),at(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(es(i),d!==null?(at(i),Jy(i,d)):(at(i),gd(i,h,null,l,a))):d?d!==t.memoizedState?(es(i),at(i),Jy(i,d)):(at(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&es(i),at(i),gd(i,h,t,l,a)),null;case 27:if(Jt(i),a=we.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&es(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return at(i),null}t=le.current,Oa(i)?Ng(i):(t=s0(h,l,a),i.stateNode=t,es(i))}return at(i),null;case 5:if(Jt(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&es(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return at(i),null}if(d=le.current,Oa(i))Ng(i);else{var _=Mu(we.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[wt]=i,d[jt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Qt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&es(i)}}return at(i),gd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&es(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(t=we.current,Oa(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Ht,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[wt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||K_(t.nodeValue,a)),t||Ds(i,!0)}else t=Mu(t).createTextNode(l),t[wt]=i,i.stateNode=t}return at(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Oa(i),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[wt]=i}else Pr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),t=!1}else a=xf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(wn(i),i):(wn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return at(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Oa(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[wt]=i}else Pr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),h=!1}else h=xf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(wn(i),i):(wn(i),null)}return wn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),_u(i,i.updateQueue),at(i),null);case 4:return ve(),t===null&&Ud(i.stateNode.containerInfo),at(i),null;case 10:return $i(i.type),at(i),null;case 19:if(L(yt),l=i.memoizedState,l===null)return at(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)_l(l,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=ru(t),d!==null){for(i.flags|=128,_l(l,!1),t=d.updateQueue,i.updateQueue=t,_u(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Ag(a,t),a=a.sibling;return ne(yt,yt.current&1|2),Be&&Yi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&nn()>wu&&(i.flags|=128,h=!0,_l(l,!1),i.lanes=4194304)}else{if(!h)if(t=ru(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,_u(i,t),_l(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Be)return at(i),null}else 2*nn()-l.renderingStartTime>wu&&a!==536870912&&(i.flags|=128,h=!0,_l(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=nn(),t.sibling=null,a=yt.current,ne(yt,h?a&1|2:a&1),Be&&Yi(i,l.treeForkCount),t):(at(i),null);case 22:case 23:return wn(i),Pf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(at(i),i.subtreeFlags&6&&(i.flags|=8192)):at(i),a=i.updateQueue,a!==null&&_u(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&L(qr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),$i(xt),at(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function cS(t,i){switch(Sf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return $i(xt),ve(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Jt(i),null;case 31:if(i.memoizedState!==null){if(wn(i),i.alternate===null)throw Error(r(340));Pr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(wn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Pr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return L(yt),null;case 4:return ve(),null;case 10:return $i(i.type),null;case 22:case 23:return wn(i),Pf(),t!==null&&L(qr),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return $i(xt),null;case 25:return null;default:return null}}function Zy(t,i){switch(Sf(i),i.tag){case 3:$i(xt),ve();break;case 26:case 27:case 5:Jt(i);break;case 4:ve();break;case 31:i.memoizedState!==null&&wn(i);break;case 13:wn(i);break;case 19:L(yt);break;case 10:$i(i.type);break;case 22:case 23:wn(i),Pf(),t!==null&&L(qr);break;case 24:$i(xt)}}function vl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Ze(i,i.return,T)}}function Us(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var D=a,B=T;try{B()}catch(Q){Ze(h,D,Q)}}}l=l.next}while(l!==d)}}catch(Q){Ze(i,i.return,Q)}}function Wy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Hg(i,a)}catch(l){Ze(t,t.return,l)}}}function e_(t,i,a){a.props=Kr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(t,i,l)}}function bl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ze(t,i,h)}}function Oi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ze(t,i,h)}else a.current=null}function t_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ze(t,t.return,h)}}function yd(t,i,a){try{var l=t.stateNode;DS(l,t.type,a,i),l[jt]=i}catch(h){Ze(t,t.return,h)}}function n_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Gs(t.type)||t.tag===4}function _d(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||n_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Gs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Jn));else if(l!==4&&(l===27&&Gs(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(vd(t,i,a),t=t.sibling;t!==null;)vd(t,i,a),t=t.sibling}function vu(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Gs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(vu(t,i,a),t=t.sibling;t!==null;)vu(t,i,a),t=t.sibling}function i_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Qt(i,l,a),i[wt]=t,i[jt]=a}catch(d){Ze(t,t.return,d)}}var ts=!1,Ct=!1,bd=!1,s_=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function uS(t,i){if(t=t.containerInfo,Bd=zu,t=gg(t),df(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,D=-1,B=0,Q=0,$=t,H=null;t:for(;;){for(var G;$!==a||h!==0&&$.nodeType!==3||(T=_+h),$!==d||l!==0&&$.nodeType!==3||(D=_+l),$.nodeType===3&&(_+=$.nodeValue.length),(G=$.firstChild)!==null;)H=$,$=G;for(;;){if($===t)break t;if(H===a&&++B===h&&(T=_),H===d&&++Q===l&&(D=_),(G=$.nextSibling)!==null)break;$=H,H=$.parentNode}$=G}a=T===-1||D===-1?null:{start:T,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(qd={focusedElem:t,selectionRange:a},zu=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var de=Kr(a.type,h);t=l.getSnapshotBeforeUpdate(de,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){Ze(a,a.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Gd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Gd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}}function r_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:is(t,a),l&4&&vl(5,a);break;case 1:if(is(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Ze(a,a.return,_)}else{var h=Kr(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ze(a,a.return,_)}}l&64&&Wy(a),l&512&&bl(a,a.return);break;case 3:if(is(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Hg(t,i)}catch(_){Ze(a,a.return,_)}}break;case 27:i===null&&l&4&&i_(a);case 26:case 5:is(t,a),i===null&&l&4&&t_(a),l&512&&bl(a,a.return);break;case 12:is(t,a);break;case 31:is(t,a),l&4&&l_(t,a);break;case 13:is(t,a),l&4&&c_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=vS.bind(null,a),PS(t,a))));break;case 22:if(l=a.memoizedState!==null||ts,!l){i=i!==null&&i.memoizedState!==null||Ct,h=ts;var d=Ct;ts=l,(Ct=i)&&!d?ss(t,a,(a.subtreeFlags&8772)!==0):is(t,a),ts=h,Ct=d}break;case 30:break;default:is(t,a)}}function a_(t){var i=t.alternate;i!==null&&(t.alternate=null,a_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&pa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,fn=!1;function ns(t,i,a){for(a=a.child;a!==null;)o_(t,i,a),a=a.sibling}function o_(t,i,a){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Kn,a)}catch{}switch(a.tag){case 26:Ct||Oi(a,i),ns(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ct||Oi(a,i);var l=ct,h=fn;Gs(a.type)&&(ct=a.stateNode,fn=!1),ns(t,i,a),Cl(a.stateNode),ct=l,fn=h;break;case 5:Ct||Oi(a,i);case 6:if(l=ct,h=fn,ct=null,ns(t,i,a),ct=l,fn=h,ct!==null)if(fn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(d){Ze(a,i,d)}else try{ct.removeChild(a.stateNode)}catch(d){Ze(a,i,d)}break;case 18:ct!==null&&(fn?(t=ct,W_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Wa(t)):W_(ct,a.stateNode));break;case 4:l=ct,h=fn,ct=a.stateNode.containerInfo,fn=!0,ns(t,i,a),ct=l,fn=h;break;case 0:case 11:case 14:case 15:Us(2,a,i),Ct||Us(4,a,i),ns(t,i,a);break;case 1:Ct||(Oi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&e_(a,i,l)),ns(t,i,a);break;case 21:ns(t,i,a);break;case 22:Ct=(l=Ct)||a.memoizedState!==null,ns(t,i,a),Ct=l;break;default:ns(t,i,a)}}function l_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Wa(t)}catch(a){Ze(i,i.return,a)}}}function c_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Wa(t)}catch(a){Ze(i,i.return,a)}}function hS(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new s_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new s_),i;default:throw Error(r(435,t.tag))}}function bu(t,i){var a=hS(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=bS.bind(null,t,l);l.then(h,h)}})}function dn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Gs(T.type)){ct=T.stateNode,fn=!1;break e}break;case 5:ct=T.stateNode,fn=!1;break e;case 3:case 4:ct=T.stateNode.containerInfo,fn=!0;break e}T=T.return}if(ct===null)throw Error(r(160));o_(d,_,h),ct=null,fn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)u_(i,t),i=i.sibling}var ii=null;function u_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:dn(i,t),mn(t),l&4&&(Us(3,t,t.return),vl(3,t),Us(5,t,t.return));break;case 1:dn(i,t),mn(t),l&512&&(Ct||a===null||Oi(a,a.return)),l&64&&ts&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ii;if(dn(i,t),mn(t),l&512&&(Ct||a===null||Oi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[_i]||d[wt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Qt(d,l,a),d[wt]=t,St(d),l=d;break e;case"link":var _=u0("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),Qt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=u0("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=h.createElement(l),Qt(d,l,a),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[wt]=t,St(d),l=d}t.stateNode=l}else h0(h,t.type,t.stateNode);else t.stateNode=c0(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?h0(h,t.type,t.stateNode):c0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&yd(t,t.memoizedProps,a.memoizedProps)}break;case 27:dn(i,t),mn(t),l&512&&(Ct||a===null||Oi(a,a.return)),a!==null&&l&4&&yd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(dn(i,t),mn(t),l&512&&(Ct||a===null||Oi(a,a.return)),t.flags&32){h=t.stateNode;try{hn(h,"")}catch(de){Ze(t,t.return,de)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,yd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(bd=!0);break;case 6:if(dn(i,t),mn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(de){Ze(t,t.return,de)}}break;case 3:if(ju=null,h=ii,ii=Vu(i.containerInfo),dn(i,t),ii=h,mn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Wa(i.containerInfo)}catch(de){Ze(t,t.return,de)}bd&&(bd=!1,h_(t));break;case 4:l=ii,ii=Vu(t.stateNode.containerInfo),dn(i,t),mn(t),ii=l;break;case 12:dn(i,t),mn(t);break;case 31:dn(i,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,bu(t,l)));break;case 13:dn(i,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Eu=nn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,bu(t,l)));break;case 22:h=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,B=ts,Q=Ct;if(ts=B||h,Ct=Q||D,dn(i,t),Ct=Q,ts=B,mn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||D||ts||Ct||Yr(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){D=a=i;try{if(d=D.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=D.stateNode;var $=D.memoizedProps.style,H=$!=null&&$.hasOwnProperty("display")?$.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(de){Ze(D,D.return,de)}}}else if(i.tag===6){if(a===null){D=i;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(de){Ze(D,D.return,de)}}}else if(i.tag===18){if(a===null){D=i;try{var G=D.stateNode;h?e0(G,!0):e0(D.stateNode,!1)}catch(de){Ze(D,D.return,de)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,bu(t,a))));break;case 19:dn(i,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,bu(t,l)));break;case 30:break;case 21:break;default:dn(i,t),mn(t)}}function mn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(n_(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=_d(t);vu(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(hn(_,""),a.flags&=-33);var T=_d(t);vu(t,T,_);break;case 3:case 4:var D=a.stateNode.containerInfo,B=_d(t);vd(t,B,D);break;default:throw Error(r(161))}}catch(Q){Ze(t,t.return,Q)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function h_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;h_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function is(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)r_(t,i.alternate,i),i=i.sibling}function Yr(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Us(4,i,i.return),Yr(i);break;case 1:Oi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&e_(i,i.return,a),Yr(i);break;case 27:Cl(i.stateNode);case 26:case 5:Oi(i,i.return),Yr(i);break;case 22:i.memoizedState===null&&Yr(i);break;case 30:Yr(i);break;default:Yr(i)}t=t.sibling}}function ss(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:ss(h,d,a),vl(4,d);break;case 1:if(ss(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){Ze(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)qg(D[h],T)}catch(B){Ze(l,l.return,B)}}a&&_&64&&Wy(d),bl(d,d.return);break;case 27:i_(d);case 26:case 5:ss(h,d,a),a&&l===null&&_&4&&t_(d),bl(d,d.return);break;case 12:ss(h,d,a);break;case 31:ss(h,d,a),a&&_&4&&l_(h,d);break;case 13:ss(h,d,a),a&&_&4&&c_(h,d);break;case 22:d.memoizedState===null&&ss(h,d,a),bl(d,d.return);break;case 30:break;default:ss(h,d,a)}i=i.sibling}}function Td(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&al(a))}function Ed(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&al(t))}function si(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)f_(t,i,a,l),i=i.sibling}function f_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:si(t,i,a,l),h&2048&&vl(9,i);break;case 1:si(t,i,a,l);break;case 3:si(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&al(t)));break;case 12:if(h&2048){si(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Ze(i,i.return,D)}}else si(t,i,a,l);break;case 31:si(t,i,a,l);break;case 13:si(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?si(t,i,a,l):Tl(t,i):d._visibility&2?si(t,i,a,l):(d._visibility|=2,qa(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Td(_,i);break;case 24:si(t,i,a,l),h&2048&&Ed(i.alternate,i);break;default:si(t,i,a,l)}}function qa(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,T=a,D=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:qa(d,_,T,D,h),vl(8,_);break;case 23:break;case 22:var Q=_.stateNode;_.memoizedState!==null?Q._visibility&2?qa(d,_,T,D,h):Tl(d,_):(Q._visibility|=2,qa(d,_,T,D,h)),h&&B&2048&&Td(_.alternate,_);break;case 24:qa(d,_,T,D,h),h&&B&2048&&Ed(_.alternate,_);break;default:qa(d,_,T,D,h)}i=i.sibling}}function Tl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Tl(a,l),h&2048&&Td(l.alternate,l);break;case 24:Tl(a,l),h&2048&&Ed(l.alternate,l);break;default:Tl(a,l)}i=i.sibling}}var El=8192;function Ha(t,i,a){if(t.subtreeFlags&El)for(t=t.child;t!==null;)d_(t,i,a),t=t.sibling}function d_(t,i,a){switch(t.tag){case 26:Ha(t,i,a),t.flags&El&&t.memoizedState!==null&&JS(a,ii,t.memoizedState,t.memoizedProps);break;case 5:Ha(t,i,a);break;case 3:case 4:var l=ii;ii=Vu(t.stateNode.containerInfo),Ha(t,i,a),ii=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=El,El=16777216,Ha(t,i,a),El=l):Ha(t,i,a));break;default:Ha(t,i,a)}}function m_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function wl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,g_(l,t)}m_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)p_(t),t=t.sibling}function p_(t){switch(t.tag){case 0:case 11:case 15:wl(t),t.flags&2048&&Us(9,t,t.return);break;case 3:wl(t);break;case 12:wl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Tu(t)):wl(t);break;default:wl(t)}}function Tu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,g_(l,t)}m_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Us(8,i,i.return),Tu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Tu(i));break;default:Tu(i)}t=t.sibling}}function g_(t,i){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Us(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:al(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var h=l.sibling,d=l.return;if(a_(l),l===a){Ut=null;break e}if(h!==null){h.return=d,Ut=h;break e}Ut=d}}}var fS={getCacheForType:function(t){var i=Ft(xt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ft(xt).controller.signal}},dS=typeof WeakMap=="function"?WeakMap:Map,Ye=0,st=null,Ve=null,je=0,Je=0,Sn=null,Ps=!1,Fa=!1,wd=!1,rs=0,dt=0,zs=0,Xr=0,Sd=0,An=0,Ga=0,Sl=null,pn=null,Ad=!1,Eu=0,y_=0,wu=1/0,Su=null,Bs=null,Vt=0,qs=null,Qa=null,as=0,xd=0,Rd=null,__=null,Al=0,Id=null;function xn(){return(Ye&2)!==0&&je!==0?je&-je:P.T!==null?Vd():Ac()}function v_(){if(An===0)if((je&536870912)===0||Be){var t=Er;Er<<=1,(Er&3932160)===0&&(Er=262144),An=t}else An=536870912;return t=En.current,t!==null&&(t.flags|=32),An}function gn(t,i,a){(t===st&&(Je===2||Je===9)||t.cancelPendingCommit!==null)&&(Ka(t,0),Hs(t,je,An,!1)),wr(t,a),((Ye&2)===0||t!==st)&&(t===st&&((Ye&2)===0&&(Xr|=a),dt===4&&Hs(t,je,An,!1)),Mi(t))}function b_(t,i,a){if((Ye&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Yn(t,i),h=l?gS(t,i):Nd(t,i,!0),d=l;do{if(h===0){Fa&&!l&&Hs(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!mS(a)){h=Nd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;h=Sl;var D=T.current.memoizedState.isDehydrated;if(D&&(Ka(T,_).flags|=256),_=Nd(T,_,!1),_!==2){if(wd&&!D){T.errorRecoveryDisabledLanes|=d,Xr|=d,h=4;break e}d=pn,pn=h,d!==null&&(pn===null?pn=d:pn.push.apply(pn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ka(t,0),Hs(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Hs(l,i,An,!Ps);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=Eu+300-nn(),10<h)){if(Hs(l,i,An,!Ps),pi(l,0,!0)!==0)break e;as=i,l.timeoutHandle=J_(T_.bind(null,l,a,pn,Su,Ad,i,An,Xr,Ga,Ps,d,"Throttled",-0,0),h);break e}T_(l,a,pn,Su,Ad,i,An,Xr,Ga,Ps,d,null,-0,0)}}break}while(!0);Mi(t)}function T_(t,i,a,l,h,d,_,T,D,B,Q,$,H,G){if(t.timeoutHandle=-1,$=i.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jn},d_(i,d,$);var de=(d&62914560)===d?Eu-nn():(d&4194048)===d?y_-nn():0;if(de=ZS($,de),de!==null){as=d,t.cancelPendingCommit=de(C_.bind(null,t,i,d,a,l,h,_,T,D,Q,$,null,H,G)),Hs(t,d,_,!B);return}}C_(t,i,d,a,l,h,_,T,D)}function mS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!bn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Hs(t,i,a,l){i&=~Sd,i&=~Xr,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-pt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Sr(t,a,i)}function Au(){return(Ye&6)===0?(xl(0),!1):!0}function Cd(){if(Ve!==null){if(Je===0)var t=Ve.return;else t=Ve,Xi=zr=null,Gf(t),La=null,ll=0,t=Ve;for(;t!==null;)Zy(t.alternate,t),t=t.return;Ve=null}}function Ka(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,VS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),as=0,Cd(),st=t,Ve=a=Ki(t.current,null),je=i,Je=0,Sn=null,Ps=!1,Fa=Yn(t,i),wd=!1,Ga=An=Sd=Xr=zs=dt=0,pn=Sl=null,Ad=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-pt(l),d=1<<h;i|=t[h],l&=~d}return rs=i,Qc(),a}function E_(t,i){De=null,P.H=gl,i===ja||i===eu?(i=Ug(),Je=3):i===Mf?(i=Ug(),Je=4):Je=i===od?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Sn=i,Ve===null&&(dt=1,mu(t,Un(i,t.current)))}function w_(){var t=En.current;return t===null?!0:(je&4194048)===je?qn===null:(je&62914560)===je||(je&536870912)!==0?t===qn:!1}function S_(){var t=P.H;return P.H=gl,t===null?gl:t}function A_(){var t=P.A;return P.A=fS,t}function xu(){dt=4,Ps||(je&4194048)!==je&&En.current!==null||(Fa=!0),(zs&134217727)===0&&(Xr&134217727)===0||st===null||Hs(st,je,An,!1)}function Nd(t,i,a){var l=Ye;Ye|=2;var h=S_(),d=A_();(st!==t||je!==i)&&(Su=null,Ka(t,i)),i=!1;var _=dt;e:do try{if(Je!==0&&Ve!==null){var T=Ve,D=Sn;switch(Je){case 8:Cd(),_=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(i=!0);var B=Je;if(Je=0,Sn=null,Ya(t,T,D,B),a&&Fa){_=0;break e}break;default:B=Je,Je=0,Sn=null,Ya(t,T,D,B)}}pS(),_=dt;break}catch(Q){E_(t,Q)}while(!0);return i&&t.shellSuspendCounter++,Xi=zr=null,Ye=l,P.H=h,P.A=d,Ve===null&&(st=null,je=0,Qc()),_}function pS(){for(;Ve!==null;)x_(Ve)}function gS(t,i){var a=Ye;Ye|=2;var l=S_(),h=A_();st!==t||je!==i?(Su=null,wu=nn()+500,Ka(t,i)):Fa=Yn(t,i);e:do try{if(Je!==0&&Ve!==null){i=Ve;var d=Sn;t:switch(Je){case 1:Je=0,Sn=null,Ya(t,i,d,1);break;case 2:case 9:if(jg(d)){Je=0,Sn=null,R_(i);break}i=function(){Je!==2&&Je!==9||st!==t||(Je=7),Mi(t)},d.then(i,i);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:jg(d)?(Je=0,Sn=null,R_(i)):(Je=0,Sn=null,Ya(t,i,d,7));break;case 5:var _=null;switch(Ve.tag){case 26:_=Ve.memoizedState;case 5:case 27:var T=Ve;if(_?f0(_):T.stateNode.complete){Je=0,Sn=null;var D=T.sibling;if(D!==null)Ve=D;else{var B=T.return;B!==null?(Ve=B,Ru(B)):Ve=null}break t}}Je=0,Sn=null,Ya(t,i,d,5);break;case 6:Je=0,Sn=null,Ya(t,i,d,6);break;case 8:Cd(),dt=6;break e;default:throw Error(r(462))}}yS();break}catch(Q){E_(t,Q)}while(!0);return Xi=zr=null,P.H=l,P.A=h,Ye=a,Ve!==null?0:(st=null,je=0,Qc(),dt)}function yS(){for(;Ve!==null&&!af();)x_(Ve)}function x_(t){var i=$y(t.alternate,t,rs);t.memoizedProps=t.pendingProps,i===null?Ru(t):Ve=i}function R_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Fy(a,i,i.pendingProps,i.type,void 0,je);break;case 11:i=Fy(a,i,i.pendingProps,i.type.render,i.ref,je);break;case 5:Gf(i);default:Zy(a,i),i=Ve=Ag(i,rs),i=$y(a,i,rs)}t.memoizedProps=t.pendingProps,i===null?Ru(t):Ve=i}function Ya(t,i,a,l){Xi=zr=null,Gf(i),La=null,ll=0;var h=i.return;try{if(rS(t,h,i,a,je)){dt=1,mu(t,Un(a,t.current)),Ve=null;return}}catch(d){if(h!==null)throw Ve=h,d;dt=1,mu(t,Un(a,t.current)),Ve=null;return}i.flags&32768?(Be||l===1?t=!0:Fa||(je&536870912)!==0?t=!1:(Ps=t=!0,(l===2||l===9||l===3||l===6)&&(l=En.current,l!==null&&l.tag===13&&(l.flags|=16384))),I_(i,t)):Ru(i)}function Ru(t){var i=t;do{if((i.flags&32768)!==0){I_(i,Ps);return}t=i.return;var a=lS(i.alternate,i,rs);if(a!==null){Ve=a;return}if(i=i.sibling,i!==null){Ve=i;return}Ve=i=t}while(i!==null);dt===0&&(dt=5)}function I_(t,i){do{var a=cS(t.alternate,t);if(a!==null){a.flags&=32767,Ve=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=a}while(t!==null);dt=6,Ve=null}function C_(t,i,a,l,h,d,_,T,D){t.cancelPendingCommit=null;do Iu();while(Vt!==0);if((Ye&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=_f,cf(t,a,d,_,T,D),t===st&&(Ve=st=null,je=0),Qa=i,qs=t,as=a,xd=d,Rd=h,__=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,TS(vs,function(){return V_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=P.T,P.T=null,h=W.p,W.p=2,_=Ye,Ye|=4;try{uS(t,i,a)}finally{Ye=_,W.p=h,P.T=l}}Vt=1,N_(),D_(),O_()}}function N_(){if(Vt===1){Vt=0;var t=qs,i=Qa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=P.T,P.T=null;var l=W.p;W.p=2;var h=Ye;Ye|=4;try{u_(i,t);var d=qd,_=gg(t.containerInfo),T=d.focusedElem,D=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&pg(T.ownerDocument.documentElement,T)){if(D!==null&&df(T)){var B=D.start,Q=D.end;if(Q===void 0&&(Q=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(Q,T.value.length);else{var $=T.ownerDocument||document,H=$&&$.defaultView||window;if(H.getSelection){var G=H.getSelection(),de=T.textContent.length,Ee=Math.min(D.start,de),nt=D.end===void 0?Ee:Math.min(D.end,de);!G.extend&&Ee>nt&&(_=nt,nt=Ee,Ee=_);var j=mg(T,Ee),V=mg(T,nt);if(j&&V&&(G.rangeCount!==1||G.anchorNode!==j.node||G.anchorOffset!==j.offset||G.focusNode!==V.node||G.focusOffset!==V.offset)){var z=$.createRange();z.setStart(j.node,j.offset),G.removeAllRanges(),Ee>nt?(G.addRange(z),G.extend(V.node,V.offset)):(z.setEnd(V.node,V.offset),G.addRange(z))}}}}for($=[],G=T;G=G.parentNode;)G.nodeType===1&&$.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<$.length;T++){var X=$[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}zu=!!Bd,qd=Bd=null}finally{Ye=h,W.p=l,P.T=a}}t.current=i,Vt=2}}function D_(){if(Vt===2){Vt=0;var t=qs,i=Qa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=P.T,P.T=null;var l=W.p;W.p=2;var h=Ye;Ye|=4;try{r_(t,i.alternate,i)}finally{Ye=h,W.p=l,P.T=a}}Vt=3}}function O_(){if(Vt===4||Vt===3){Vt=0,_c();var t=qs,i=Qa,a=as,l=__;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Vt=5:(Vt=0,Qa=qs=null,M_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Bs=null),Hi(a),i=i.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Kn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=P.T,h=W.p,W.p=2,P.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{P.T=i,W.p=h}}(as&3)!==0&&Iu(),Mi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Id?Al++:(Al=0,Id=t):Al=0,xl(0)}}function M_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,al(i)))}function Iu(){return N_(),D_(),O_(),V_()}function V_(){if(Vt!==5)return!1;var t=qs,i=xd;xd=0;var a=Hi(as),l=P.T,h=W.p;try{W.p=32>a?32:a,P.T=null,a=Rd,Rd=null;var d=qs,_=as;if(Vt=0,Qa=qs=null,as=0,(Ye&6)!==0)throw Error(r(331));var T=Ye;if(Ye|=4,p_(d.current),f_(d,d.current,_,a),Ye=T,xl(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Kn,d)}catch{}return!0}finally{W.p=h,P.T=l,M_(t,i)}}function k_(t,i,a){i=Un(a,i),i=ad(t.stateNode,i,2),t=ks(t,i,2),t!==null&&(wr(t,2),Mi(t))}function Ze(t,i,a){if(t.tag===3)k_(t,t,a);else for(;i!==null;){if(i.tag===3){k_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Bs===null||!Bs.has(l))){t=Un(a,t),a=jy(2),l=ks(i,a,2),l!==null&&(Ly(a,l,i,t),wr(l,2),Mi(l));break}}i=i.return}}function Dd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new dS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(wd=!0,h.add(a),t=_S.bind(null,t,i,a),i.then(t,t))}function _S(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,st===t&&(je&a)===a&&(dt===4||dt===3&&(je&62914560)===je&&300>nn()-Eu?(Ye&2)===0&&Ka(t,0):Sd|=a,Ga===je&&(Ga=0)),Mi(t)}function j_(t,i){i===0&&(i=Sc()),t=Lr(t,i),t!==null&&(wr(t,i),Mi(t))}function vS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),j_(t,a)}function bS(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),j_(t,a)}function TS(t,i){return Mt(t,i)}var Cu=null,Xa=null,Od=!1,Nu=!1,Md=!1,Fs=0;function Mi(t){t!==Xa&&t.next===null&&(Xa===null?Cu=Xa=t:Xa=Xa.next=t),Nu=!0,Od||(Od=!0,wS())}function xl(t,i){if(!Md&&Nu){Md=!0;do for(var a=!1,l=Cu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-pt(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,z_(l,d))}else d=je,d=pi(l,l===st?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Yn(l,d)||(a=!0,z_(l,d));l=l.next}while(a);Md=!1}}function ES(){L_()}function L_(){Nu=Od=!1;var t=0;Fs!==0&&MS()&&(t=Fs);for(var i=nn(),a=null,l=Cu;l!==null;){var h=l.next,d=U_(l,i);d===0?(l.next=null,a===null?Cu=h:a.next=h,h===null&&(Xa=a)):(a=l,(t!==0||(d&3)!==0)&&(Nu=!0)),l=h}Vt!==0&&Vt!==5||xl(t),Fs!==0&&(Fs=0)}function U_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-pt(d),T=1<<_,D=h[_];D===-1?((T&a)===0||(T&l)!==0)&&(h[_]=lf(T,i)):D<=i&&(t.expiredLanes|=T),d&=~T}if(i=st,a=je,a=pi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Je===2||Je===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&_s(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Yn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&_s(l),Hi(a)){case 2:case 8:a=jo;break;case 32:a=vs;break;case 268435456:a=vc;break;default:a=vs}return l=P_.bind(null,t),a=Mt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&_s(l),t.callbackPriority=2,t.callbackNode=null,2}function P_(t,i){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Iu()&&t.callbackNode!==a)return null;var l=je;return l=pi(t,t===st?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(b_(t,l,i),U_(t,nn()),t.callbackNode!=null&&t.callbackNode===a?P_.bind(null,t):null)}function z_(t,i){if(Iu())return null;b_(t,i,!0)}function wS(){kS(function(){(Ye&6)!==0?Mt(ko,ES):L_()})}function Vd(){if(Fs===0){var t=Va;t===0&&(t=di,di<<=1,(di&261888)===0&&(di=256)),Fs=t}return Fs}function B_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:va(""+t)}function q_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function SS(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=B_((h[jt]||null).action),_=l.submitter;_&&(i=(i=_[jt]||null)?B_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new xi("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Fs!==0){var D=_?q_(h,_):new FormData(h);ed(a,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(T.preventDefault(),D=_?q_(h,_):new FormData(h),ed(a,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var kd=0;kd<yf.length;kd++){var jd=yf[kd],AS=jd.toLowerCase(),xS=jd[0].toUpperCase()+jd.slice(1);ni(AS,"on"+xS)}ni(vg,"onAnimationEnd"),ni(bg,"onAnimationIteration"),ni(Tg,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(qw,"onTransitionRun"),ni(Hw,"onTransitionStart"),ni(Fw,"onTransitionCancel"),ni(Eg,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function H_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],D=T.instance,B=T.currentTarget;if(T=T.listener,D!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch(Q){Gc(Q)}h.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(T=l[_],D=T.instance,B=T.currentTarget,T=T.listener,D!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch(Q){Gc(Q)}h.currentTarget=null,d=D}}}}function ke(t,i){var a=i[ma];a===void 0&&(a=i[ma]=new Set);var l=t+"__bubble";a.has(l)||(F_(i,t,2,!1),a.add(l))}function Ld(t,i,a){var l=0;i&&(l|=4),F_(a,t,l,i)}var Du="_reactListening"+Math.random().toString(36).slice(2);function Ud(t){if(!t[Du]){t[Du]=!0,Po.forEach(function(a){a!=="selectionchange"&&(RS.has(a)||Ld(a,!1,t),Ld(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Du]||(i[Du]=!0,Ld("selectionchange",!1,i))}}function F_(t,i,a,l){switch(v0(i)){case 2:var h=t1;break;case 8:h=n1;break;default:h=Wd}a=h.bind(null,i,a,t),h=void 0,!Cr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Pd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=vi(T),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue e}T=T.parentNode}}l=l.return}As(function(){var B=d,Q=Vn(a),$=[];e:{var H=wg.get(t);if(H!==void 0){var G=xi,de=t;switch(t){case"keypress":if(Dr(a)===0)break e;case"keydown":case"keyup":G=qc;break;case"focusin":de="focus",G=Mr;break;case"focusout":de="blur",G=Mr;break;case"beforeblur":case"afterblur":G=Mr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Zo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Mc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=p;break;case vg:case bg:case Tg:G=kc;break;case Eg:G=S;break;case"scroll":case"scrollend":G=Jo;break;case"wheel":G=F;break;case"copy":case"cut":case"paste":G=jc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Qi;break;case"toggle":case"beforetoggle":G=Ne}var Ee=(i&4)!==0,nt=!Ee&&(t==="scroll"||t==="scrollend"),j=Ee?H!==null?H+"Capture":null:H;Ee=[];for(var V=B,z;V!==null;){var X=V;if(z=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||z===null||j===null||(X=Zn(V,j),X!=null&&Ee.push(Il(V,X,z))),nt)break;V=V.return}0<Ee.length&&(H=new G(H,de,null,a,Q),$.push({event:H,listeners:Ee}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",H&&a!==Yo&&(de=a.relatedTarget||a.fromElement)&&(vi(de)||de[yi]))break e;if((G||H)&&(H=Q.window===Q?Q:(H=Q.ownerDocument)?H.defaultView||H.parentWindow:window,G?(de=a.relatedTarget||a.toElement,G=B,de=de?vi(de):null,de!==null&&(nt=c(de),Ee=de.tag,de!==nt||Ee!==5&&Ee!==27&&Ee!==6)&&(de=null)):(G=null,de=B),G!==de)){if(Ee=Zo,X="onMouseLeave",j="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=Qi,X="onPointerLeave",j="onPointerEnter",V="pointer"),nt=G==null?H:_n(G),z=de==null?H:_n(de),H=new Ee(X,V+"leave",G,a,Q),H.target=nt,H.relatedTarget=z,X=null,vi(Q)===B&&(Ee=new Ee(j,V+"enter",de,a,Q),Ee.target=z,Ee.relatedTarget=nt,X=Ee),nt=X,G&&de)t:{for(Ee=IS,j=G,V=de,z=0,X=j;X;X=Ee(X))z++;X=0;for(var _e=V;_e;_e=Ee(_e))X++;for(;0<z-X;)j=Ee(j),z--;for(;0<X-z;)V=Ee(V),X--;for(;z--;){if(j===V||V!==null&&j===V.alternate){Ee=j;break t}j=Ee(j),V=Ee(V)}Ee=null}else Ee=null;G!==null&&G_($,H,G,Ee,!1),de!==null&&nt!==null&&G_($,nt,de,Ee,!0)}}e:{if(H=B?_n(B):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var Ge=lg;else if(ag(H))if(cg)Ge=Pw;else{Ge=Lw;var pe=jw}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?B&&_a(B.elementType)&&(Ge=lg):Ge=Uw;if(Ge&&(Ge=Ge(t,B))){og($,Ge,a,Q);break e}pe&&pe(t,H,B),t==="focusout"&&B&&H.type==="number"&&B.memoizedProps.value!=null&&Go(H,"number",H.value)}switch(pe=B?_n(B):window,t){case"focusin":(ag(pe)||pe.contentEditable==="true")&&(xa=pe,mf=B,il=null);break;case"focusout":il=mf=xa=null;break;case"mousedown":pf=!0;break;case"contextmenu":case"mouseup":case"dragend":pf=!1,yg($,a,Q);break;case"selectionchange":if(Bw)break;case"keydown":case"keyup":yg($,a,Q)}var Oe;if(Ke)e:{switch(t){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Aa?Vr(t,a)&&(Le="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Le="onCompositionStart");Le&&(Ci&&a.locale!=="ko"&&(Aa||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Aa&&(Oe=$o()):(Ai=Q,Xo="value"in Ai?Ai.value:Ai.textContent,Aa=!0)),pe=Ou(B,Le),0<pe.length&&(Le=new Ii(Le,t,null,a,Q),$.push({event:Le,listeners:pe}),Oe?Le.data=Oe:(Oe=Sa(a),Oe!==null&&(Le.data=Oe)))),(Oe=jn?Ow(t,a):Mw(t,a))&&(Le=Ou(B,"onBeforeInput"),0<Le.length&&(pe=new Ii("onBeforeInput","beforeinput",null,a,Q),$.push({event:pe,listeners:Le}),pe.data=Oe)),SS($,t,B,a,Q)}H_($,i)})}function Il(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Ou(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Zn(t,a),h!=null&&l.unshift(Il(t,h,d)),h=Zn(t,i),h!=null&&l.push(Il(t,h,d))),t.tag===3)return l;t=t.return}return[]}function IS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function G_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,D=T.alternate,B=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||B===null||(D=B,h?(B=Zn(a,d),B!=null&&_.unshift(Il(a,B,D))):h||(B=Zn(a,d),B!=null&&_.push(Il(a,B,D)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var CS=/\r\n?/g,NS=/\u0000|\uFFFD/g;function Q_(t){return(typeof t=="string"?t:""+t).replace(CS,`
`).replace(NS,"")}function K_(t,i){return i=Q_(i),Q_(t)===i}function tt(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||hn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&hn(t,""+l);break;case"className":vn(t,"class",l);break;case"tabIndex":vn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(t,a,l);break;case"style":Ko(t,l,d);break;case"data":if(i!=="object"){vn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=va(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&tt(t,i,"name",h.name,h,null),tt(t,i,"formEncType",h.formEncType,h,null),tt(t,i,"formMethod",h.formMethod,h,null),tt(t,i,"formTarget",h.formTarget,h,null)):(tt(t,i,"encType",h.encType,h,null),tt(t,i,"method",h.method,h,null),tt(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=va(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Jn);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=va(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":ke("beforetoggle",t),ke("toggle",t),ga(t,"popover",l);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ga(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Oc.get(a)||a,ga(t,a,l))}}function zd(t,i,a,l,h,d){switch(a){case"style":Ko(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?hn(t,l):(typeof l=="number"||typeof l=="bigint")&&hn(t,""+l);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[jt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ga(t,a,l)}}}function Qt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:tt(t,i,d,_,a,null)}}h&&tt(t,i,"srcSet",a.srcSet,a,null),l&&tt(t,i,"src",a.src,a,null);return;case"input":ke("invalid",t);var T=d=_=h=null,D=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":_=Q;break;case"checked":D=Q;break;case"defaultChecked":B=Q;break;case"value":d=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,i));break;default:tt(t,i,l,Q,a,null)}}Cc(t,d,T,D,B,_,h,!1);return;case"select":ke("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:tt(t,i,h,T,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Ts(t,!!l,i,!1):a!=null&&Ts(t,!!l,a,!0);return;case"textarea":ke("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:tt(t,i,_,T,a,null)}Es(t,l,h,d);return;case"option":for(D in a)a.hasOwnProperty(D)&&(l=a[D],l!=null)&&(D==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":tt(t,i,D,l,a,null));return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(l=0;l<Rl.length;l++)ke(Rl[l],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:tt(t,i,B,l,a,null)}return;default:if(_a(i)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&zd(t,i,Q,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&tt(t,i,T,l,a,null))}function DS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,D=null,B=null,Q=null;for(G in a){var $=a[G];if(a.hasOwnProperty(G)&&$!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":D=$;default:l.hasOwnProperty(G)||tt(t,i,G,null,l,$)}}for(var H in l){var G=l[H];if($=a[H],l.hasOwnProperty(H)&&(G!=null||$!=null))switch(H){case"type":d=G;break;case"name":h=G;break;case"checked":B=G;break;case"defaultChecked":Q=G;break;case"value":_=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,i));break;default:G!==$&&tt(t,i,H,G,l,$)}}ya(t,_,T,D,B,Q,d,h);return;case"select":G=_=T=H=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":G=D;default:l.hasOwnProperty(d)||tt(t,i,d,null,l,D)}for(h in l)if(d=l[h],D=a[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":H=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==D&&tt(t,i,h,d,l,D)}i=T,a=_,l=G,H!=null?Ts(t,!!a,H,!1):!!l!=!!a&&(i!=null?Ts(t,!!a,i,!0):Ts(t,!!a,a?[]:"",!1));return;case"textarea":G=H=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:tt(t,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":H=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&tt(t,i,_,h,l,d)}Nc(t,H,G);return;case"option":for(var de in a)H=a[de],a.hasOwnProperty(de)&&H!=null&&!l.hasOwnProperty(de)&&(de==="selected"?t.selected=!1:tt(t,i,de,null,l,H));for(D in l)H=l[D],G=a[D],l.hasOwnProperty(D)&&H!==G&&(H!=null||G!=null)&&(D==="selected"?t.selected=H&&typeof H!="function"&&typeof H!="symbol":tt(t,i,D,H,l,G));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)H=a[Ee],a.hasOwnProperty(Ee)&&H!=null&&!l.hasOwnProperty(Ee)&&tt(t,i,Ee,null,l,H);for(B in l)if(H=l[B],G=a[B],l.hasOwnProperty(B)&&H!==G&&(H!=null||G!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,i));break;default:tt(t,i,B,H,l,G)}return;default:if(_a(i)){for(var nt in a)H=a[nt],a.hasOwnProperty(nt)&&H!==void 0&&!l.hasOwnProperty(nt)&&zd(t,i,nt,void 0,l,H);for(Q in l)H=l[Q],G=a[Q],!l.hasOwnProperty(Q)||H===G||H===void 0&&G===void 0||zd(t,i,Q,H,l,G);return}}for(var j in a)H=a[j],a.hasOwnProperty(j)&&H!=null&&!l.hasOwnProperty(j)&&tt(t,i,j,null,l,H);for($ in l)H=l[$],G=a[$],!l.hasOwnProperty($)||H===G||H==null&&G==null||tt(t,i,$,H,l,G)}function Y_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function OS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&Y_(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var D=a[l],B=D.startTime;if(B>T)break;var Q=D.transferSize,$=D.initiatorType;Q&&Y_($)&&(D=D.responseEnd,_+=Q*(D<T?1:(T-B)/(D-B)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Bd=null,qd=null;function Mu(t){return t.nodeType===9?t:t.ownerDocument}function X_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Hd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Fd=null;function MS(){var t=window.event;return t&&t.type==="popstate"?t===Fd?!1:(Fd=t,!0):(Fd=null,!1)}var J_=typeof setTimeout=="function"?setTimeout:void 0,VS=typeof clearTimeout=="function"?clearTimeout:void 0,Z_=typeof Promise=="function"?Promise:void 0,kS=typeof queueMicrotask=="function"?queueMicrotask:typeof Z_<"u"?function(t){return Z_.resolve(null).then(t).catch(jS)}:J_;function jS(t){setTimeout(function(){throw t})}function Gs(t){return t==="head"}function W_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Wa(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Cl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Cl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[_i]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Cl(t.ownerDocument.body);a=h}while(a);Wa(i)}function e0(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Gd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Gd(a),pa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function LS(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[_i])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Hn(t.nextSibling),t===null)break}return null}function US(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Hn(t.nextSibling),t===null))return null;return t}function t0(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Hn(t.nextSibling),t===null))return null;return t}function Qd(t){return t.data==="$?"||t.data==="$~"}function Kd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function PS(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Hn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Yd=null;function n0(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Hn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function i0(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function s0(t,i,a){switch(i=Mu(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Cl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);pa(t)}var Fn=new Map,r0=new Set;function Vu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var os=W.d;W.d={f:zS,r:BS,D:qS,C:HS,L:FS,m:GS,X:KS,S:QS,M:YS};function zS(){var t=os.f(),i=Au();return t||i}function BS(t){var i=Mn(t);i!==null&&i.tag===5&&i.type==="form"?Ey(i):os.r(t)}var $a=typeof document>"u"?null:document;function a0(t,i,a){var l=$a;if(l&&typeof i=="string"&&i){var h=un(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),r0.has(h)||(r0.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Qt(i,"link",t),St(i),l.head.appendChild(i)))}}function qS(t){os.D(t),a0("dns-prefetch",t,null)}function HS(t,i){os.C(t,i),a0("preconnect",t,i)}function FS(t,i,a){os.L(t,i,a);var l=$a;if(l&&t&&i){var h='link[rel="preload"][as="'+un(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+un(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+un(a.imageSizes)+'"]')):h+='[href="'+un(t)+'"]';var d=h;switch(i){case"style":d=Ja(t);break;case"script":d=Za(t)}Fn.has(d)||(t=w({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Fn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Nl(d))||i==="script"&&l.querySelector(Dl(d))||(i=l.createElement("link"),Qt(i,"link",t),St(i),l.head.appendChild(i)))}}function GS(t,i){os.m(t,i);var a=$a;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+un(l)+'"][href="'+un(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Za(t)}if(!Fn.has(d)&&(t=w({rel:"modulepreload",href:t},i),Fn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Dl(d)))return}l=a.createElement("link"),Qt(l,"link",t),St(l),a.head.appendChild(l)}}}function QS(t,i,a){os.S(t,i,a);var l=$a;if(l&&t){var h=bi(l).hoistableStyles,d=Ja(t);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Nl(d)))T.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Fn.get(d))&&Xd(t,a);var D=_=l.createElement("link");St(D),Qt(D,"link",t),D._p=new Promise(function(B,Q){D.onload=B,D.onerror=Q}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,ku(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function KS(t,i){os.X(t,i);var a=$a;if(a&&t){var l=bi(a).hoistableScripts,h=Za(t),d=l.get(h);d||(d=a.querySelector(Dl(h)),d||(t=w({src:t,async:!0},i),(i=Fn.get(h))&&$d(t,i),d=a.createElement("script"),St(d),Qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function YS(t,i){os.M(t,i);var a=$a;if(a&&t){var l=bi(a).hoistableScripts,h=Za(t),d=l.get(h);d||(d=a.querySelector(Dl(h)),d||(t=w({src:t,async:!0,type:"module"},i),(i=Fn.get(h))&&$d(t,i),d=a.createElement("script"),St(d),Qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function o0(t,i,a,l){var h=(h=we.current)?Vu(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ja(a.href),a=bi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ja(a.href);var d=bi(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Nl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Fn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Fn.set(t,a),d||XS(h,t,a,_.state))),i&&l===null)throw Error(r(528,""));return _}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Za(a),a=bi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ja(t){return'href="'+un(t)+'"'}function Nl(t){return'link[rel="stylesheet"]['+t+"]"}function l0(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function XS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Qt(i,"link",a),St(i),t.head.appendChild(i))}function Za(t){return'[src="'+un(t)+'"]'}function Dl(t){return"script[async]"+t}function c0(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+un(a.href)+'"]');if(l)return i.instance=l,St(l),l;var h=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),St(l),Qt(l,"style",h),ku(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ja(a.href);var d=t.querySelector(Nl(h));if(d)return i.state.loading|=4,i.instance=d,St(d),d;l=l0(a),(h=Fn.get(h))&&Xd(l,h),d=(t.ownerDocument||t).createElement("link"),St(d);var _=d;return _._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),Qt(d,"link",l),i.state.loading|=4,ku(d,a.precedence,t),i.instance=d;case"script":return d=Za(a.src),(h=t.querySelector(Dl(d)))?(i.instance=h,St(h),h):(l=a,(h=Fn.get(d))&&(l=w({},a),$d(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),St(h),Qt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,ku(l,a.precedence,t));return i.instance}function ku(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Xd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function $d(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var ju=null;function u0(t,i,a){if(ju===null){var l=new Map,h=ju=new Map;h.set(a,l)}else h=ju,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[_i]||d[wt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function h0(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function $S(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function f0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function JS(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ja(l.href),d=i.querySelector(Nl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Lu.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,St(d);return}d=i.ownerDocument||i,l=l0(l),(h=Fn.get(h))&&Xd(l,h),d=d.createElement("link"),St(d);var _=d;_._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),Qt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Lu.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Jd=0;function ZS(t,i){return t.stylesheets&&t.count===0&&Pu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Pu(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Jd===0&&(Jd=62500*OS());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Pu(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Jd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Lu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Pu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Uu=null;function Pu(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Uu=new Map,i.forEach(WS,t),Uu=null,Lu.call(t))}function WS(t,i){if(!(i.state.loading&4)){var a=Uu.get(t);if(a)var l=a.get(null);else{a=new Map,Uu.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Lu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Ol={$$typeof:me,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function e1(t,i,a,l,h,d,_,T,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.hiddenUpdates=gi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function d0(t,i,a,l,h,d,_,T,D,B,Q,$){return t=new e1(t,i,a,_,D,B,Q,$,T),i=1,d===!0&&(i|=24),d=Tn(3,null,null,i),t.current=d,d.stateNode=t,i=Nf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Vf(d),t}function m0(t){return t?(t=Ca,t):Ca}function p0(t,i,a,l,h,d){h=m0(h),l.context===null?l.context=h:l.pendingContext=h,l=Vs(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=ks(t,l,i),a!==null&&(gn(a,t,i),ul(a,t,i))}function g0(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Zd(t,i){g0(t,i),(t=t.alternate)&&g0(t,i)}function y0(t){if(t.tag===13||t.tag===31){var i=Lr(t,67108864);i!==null&&gn(i,t,67108864),Zd(t,67108864)}}function _0(t){if(t.tag===13||t.tag===31){var i=xn();i=Ar(i);var a=Lr(t,i);a!==null&&gn(a,t,i),Zd(t,i)}}var zu=!0;function t1(t,i,a,l){var h=P.T;P.T=null;var d=W.p;try{W.p=2,Wd(t,i,a,l)}finally{W.p=d,P.T=h}}function n1(t,i,a,l){var h=P.T;P.T=null;var d=W.p;try{W.p=8,Wd(t,i,a,l)}finally{W.p=d,P.T=h}}function Wd(t,i,a,l){if(zu){var h=em(l);if(h===null)Pd(t,i,l,Bu,a),b0(t,l);else if(s1(h,t,i,a,l))l.stopPropagation();else if(b0(t,l),i&4&&-1<i1.indexOf(t)){for(;h!==null;){var d=Mn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=mi(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var D=1<<31-pt(_);T.entanglements[1]|=D,_&=~D}Mi(d),(Ye&6)===0&&(wu=nn()+500,xl(0))}}break;case 31:case 13:T=Lr(d,2),T!==null&&gn(T,d,2),Au(),Zd(d,2)}if(d=em(l),d===null&&Pd(t,i,l,Bu,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Pd(t,i,l,null,a)}}function em(t){return t=Vn(t),tm(t)}var Bu=null;function tm(t){if(Bu=null,t=vi(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Bu=t,null}function v0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tr()){case ko:return 2;case jo:return 8;case vs:case of:return 32;case vc:return 268435456;default:return 32}default:return 32}}var nm=!1,Qs=null,Ks=null,Ys=null,Ml=new Map,Vl=new Map,Xs=[],i1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function b0(t,i){switch(t){case"focusin":case"focusout":Qs=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":Ys=null;break;case"pointerover":case"pointerout":Ml.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(i.pointerId)}}function kl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Mn(i),i!==null&&y0(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function s1(t,i,a,l,h){switch(i){case"focusin":return Qs=kl(Qs,t,i,a,l,h),!0;case"dragenter":return Ks=kl(Ks,t,i,a,l,h),!0;case"mouseover":return Ys=kl(Ys,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Ml.set(d,kl(Ml.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Vl.set(d,kl(Vl.get(d)||null,t,i,a,l,h)),!0}return!1}function T0(t){var i=vi(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Xn(t.priority,function(){_0(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Xn(t.priority,function(){_0(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qu(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=em(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Yo=l,a.target.dispatchEvent(l),Yo=null}else return i=Mn(a),i!==null&&y0(i),t.blockedOn=a,!1;i.shift()}return!0}function E0(t,i,a){qu(t)&&a.delete(i)}function r1(){nm=!1,Qs!==null&&qu(Qs)&&(Qs=null),Ks!==null&&qu(Ks)&&(Ks=null),Ys!==null&&qu(Ys)&&(Ys=null),Ml.forEach(E0),Vl.forEach(E0)}function Hu(t,i){t.blockedOn===i&&(t.blockedOn=null,nm||(nm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,r1)))}var Fu=null;function w0(t){Fu!==t&&(Fu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Fu===t&&(Fu=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(tm(l||a)===null)continue;break}var d=Mn(a);d!==null&&(t.splice(i,3),i-=3,ed(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Wa(t){function i(D){return Hu(D,t)}Qs!==null&&Hu(Qs,t),Ks!==null&&Hu(Ks,t),Ys!==null&&Hu(Ys,t),Ml.forEach(i),Vl.forEach(i);for(var a=0;a<Xs.length;a++){var l=Xs[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Xs.length&&(a=Xs[0],a.blockedOn===null);)T0(a),a.blockedOn===null&&Xs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[jt]||null;if(typeof d=="function")_||w0(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[jt]||null)T=_.formAction;else if(tm(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),w0(a)}}}function S0(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function im(t){this._internalRoot=t}Gu.prototype.render=im.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=xn();p0(a,l,t,i,null,null)},Gu.prototype.unmount=im.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;p0(t.current,2,null,t,null,null),Au(),i[yi]=null}};function Gu(t){this._internalRoot=t}Gu.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ac();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Xs.length&&i!==0&&i<Xs[a].priority;a++);Xs.splice(a,0,t),a===0&&T0(t)}};var A0=e.version;if(A0!=="19.2.3")throw Error(r(527,A0,"19.2.3"));W.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var a1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qu.isDisabled&&Qu.supportsFiber)try{Kn=Qu.inject(a1),Bt=Qu}catch{}}return Ll.createRoot=function(t,i){if(!o(t))throw Error(r(299));var a=!1,l="",h=Oy,d=My,_=Vy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=d0(t,1,!1,null,null,a,l,null,h,d,_,S0),t[yi]=i.current,Ud(t),new im(i)},Ll.hydrateRoot=function(t,i,a){if(!o(t))throw Error(r(299));var l=!1,h="",d=Oy,_=My,T=Vy,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),i=d0(t,1,!0,i,a??null,l,h,D,d,_,T,S0),i.context=m0(null),a=i.current,l=xn(),l=Ar(l),h=Vs(l),h.callback=null,ks(a,h,l),a=l,i.current.lanes=a,wr(i,a),Mi(i),t[yi]=i.current,Ud(t),new Gu(i)},Ll.version="19.2.3",Ll}var k0;function p1(){if(k0)return am.exports;k0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),am.exports=m1(),am.exports}var g1=p1();const y1="/Invitation/assets/r-15-CMHvZkWT.jpg",_1=()=>{const[s,e]=te.useState(!1);return te.useEffect(()=>{e(!0)},[]),b.jsxs("section",{className:"relative h-screen flex flex-col justify-center items-center text-center bg-white text-white overflow-hidden",children:[b.jsxs("div",{className:"absolute inset-0 z-0",children:[b.jsx("div",{className:"absolute inset-0 bg-black/20 z-10"}),b.jsx("img",{src:y1,alt:"Wedding Background",className:"w-full h-full object-cover"})]}),b.jsxs("div",{className:`relative z-20 p-8 transition-all duration-1000 ease-out transform ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[b.jsx("p",{className:"text-base md:text-lg tracking-[0.2em] mb-4 text-white/90 font-classic",children:"  "}),b.jsxs("h1",{className:"text-5xl md:text-6xl lg:text-7xl mb-8 font-classic font-bold text-white drop-shadow-lg leading-tight",children:[" ",b.jsx("br",{className:"md:hidden"}),b.jsx("span",{className:"text-3xl md:text-4xl lg:text-5xl mx-2 text-soft-pink font-serif italic",children:"&"}),b.jsx("br",{className:"md:hidden"})," "]}),b.jsxs("div",{className:"flex items-center justify-center gap-4 text-white/90 font-classic",children:[b.jsx("div",{className:"h-px w-12 bg-white/60"}),b.jsx("p",{className:"text-xl md:text-2xl tracking-widest font-light",children:"2026 4 25   4 50"}),b.jsx("div",{className:"h-px w-12 bg-white/60"})]})]}),b.jsx("div",{className:"absolute bottom-8 z-20 animate-bounce text-white/80 text-sm tracking-widest font-classic",children:" "})]})},v1=(s,{threshold:e=.1,root:n=null,rootMargin:r="0%"}={})=>{const[o,c]=te.useState(!1);return te.useEffect(()=>{const f=s?.current;if(!f)return;const m=new IntersectionObserver(([g])=>{g.isIntersecting&&(c(!0),m.unobserve(f))},{threshold:e,root:n,rootMargin:r});return m.observe(f),()=>{m.disconnect()}},[s,e,n,r]),o},b1=()=>{const s=te.useRef(null),e=v1(s,{threshold:.3});return b.jsx("section",{className:"py-20 px-4 text-center bg-white",ref:s,children:b.jsxs("div",{className:`transition-all duration-1000 ease-out transform ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[b.jsxs("div",{className:"mb-12",children:[b.jsx("p",{className:"text-primary text-sm tracking-[0.2em] mb-3 opacity-60 font-classic",children:" "}),b.jsx("h2",{className:"text-3xl md:text-4xl text-text font-classic font-bold",children:" "})]}),b.jsxs("div",{className:"font-classic text-xl leading-loose text-text/80 mb-12 space-y-2",children:[b.jsx("p",{children:"    "}),b.jsx("p",{children:"  ."}),b.jsx("p",{children:"  "}),b.jsx("p",{children:"  ."})]}),b.jsxs("div",{className:"flex flex-col items-center gap-4 font-classic text-xl",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("span",{className:"text-base text-primary font-bold tracking-widest",children:""}),b.jsx("strong",{className:"text-text text-2xl font-bold",children:""})]}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("span",{className:"text-base text-primary font-bold tracking-widest",children:""}),b.jsx("strong",{className:"text-text text-2xl font-bold",children:""})]})]})]})})},T1=()=>b.jsx("section",{style:ri.section,children:b.jsxs("div",{style:ri.container,children:[b.jsxs("div",{style:ri.item,children:[b.jsx("h3",{style:ri.label,children:""}),b.jsx("p",{style:ri.value,children:"2026 4 25"}),b.jsx("p",{style:ri.subValue,children:"  4 50"})]}),b.jsx("div",{style:ri.divider}),b.jsxs("div",{style:ri.item,children:[b.jsx("h3",{style:ri.label,children:""}),b.jsx("p",{style:ri.value,children:"   7 "}),b.jsx("p",{style:ri.subValue,children:"   4 140"})]})]})}),ri={section:{padding:"3rem 1.5rem",backgroundColor:"#fff"},container:{backgroundColor:"#fff",padding:"2rem",borderRadius:"2px",boxShadow:"0 5px 15px rgba(0,0,0,0.03)",maxWidth:"400px",margin:"0 auto"},item:{textAlign:"center",marginBottom:"1.5rem"},divider:{width:"1px",height:"40px",backgroundColor:"#ddd",margin:"0 auto 1.5rem"},label:{fontSize:"0.8rem",color:"#aaa",letterSpacing:"0.1em",marginBottom:"0.5rem"},value:{fontSize:"1.3rem",fontFamily:"var(--font-serif)",fontWeight:"700",marginBottom:"0.2rem"},subValue:{fontSize:"0.95rem",color:"#666"}},E1="/Invitation/assets/ssr-01-B4xaqSO9.JPG",w1=Object.freeze(Object.defineProperty({__proto__:null,default:E1},Symbol.toStringTag,{value:"Module"})),S1="/Invitation/assets/ssr-02-1QYa-A_6.JPG",A1=Object.freeze(Object.defineProperty({__proto__:null,default:S1},Symbol.toStringTag,{value:"Module"})),x1="/Invitation/assets/sr-01-Nkos2fhL.jpg",R1=Object.freeze(Object.defineProperty({__proto__:null,default:x1},Symbol.toStringTag,{value:"Module"})),I1="/Invitation/assets/sr-02-B_fI4msP.jpg",C1=Object.freeze(Object.defineProperty({__proto__:null,default:I1},Symbol.toStringTag,{value:"Module"})),N1="/Invitation/assets/sr-03-TsE9Yvyd.jpg",D1=Object.freeze(Object.defineProperty({__proto__:null,default:N1},Symbol.toStringTag,{value:"Module"})),O1="/Invitation/assets/sr-04-BoW-Kdv9.jpg",M1=Object.freeze(Object.defineProperty({__proto__:null,default:O1},Symbol.toStringTag,{value:"Module"})),V1="/Invitation/assets/sr-05-H8F9HfXD.jpg",k1=Object.freeze(Object.defineProperty({__proto__:null,default:V1},Symbol.toStringTag,{value:"Module"})),j1="/Invitation/assets/sr-06-D_ryPiQm.jpg",L1=Object.freeze(Object.defineProperty({__proto__:null,default:j1},Symbol.toStringTag,{value:"Module"})),U1="/Invitation/assets/r-01-tqTTyRFi.jpg",P1=Object.freeze(Object.defineProperty({__proto__:null,default:U1},Symbol.toStringTag,{value:"Module"})),z1="/Invitation/assets/r-02-fqSG2lQg.jpg",B1=Object.freeze(Object.defineProperty({__proto__:null,default:z1},Symbol.toStringTag,{value:"Module"})),q1="/Invitation/assets/r-03-CGYDgkPS.jpg",H1=Object.freeze(Object.defineProperty({__proto__:null,default:q1},Symbol.toStringTag,{value:"Module"})),F1="/Invitation/assets/r-04-oYF5PhvR.jpg",G1=Object.freeze(Object.defineProperty({__proto__:null,default:F1},Symbol.toStringTag,{value:"Module"})),Q1="/Invitation/assets/r-05-1r9ml69j.jpg",K1=Object.freeze(Object.defineProperty({__proto__:null,default:Q1},Symbol.toStringTag,{value:"Module"})),Y1="/Invitation/assets/r-06-CGsovLs7.jpg",X1=Object.freeze(Object.defineProperty({__proto__:null,default:Y1},Symbol.toStringTag,{value:"Module"})),$1="/Invitation/assets/r-07-CUXLEnuu.jpg",J1=Object.freeze(Object.defineProperty({__proto__:null,default:$1},Symbol.toStringTag,{value:"Module"})),Z1="/Invitation/assets/r-08-DnA2EqP1.jpg",W1=Object.freeze(Object.defineProperty({__proto__:null,default:Z1},Symbol.toStringTag,{value:"Module"})),eA="/Invitation/assets/r-09-CYEI5d1p.jpg",tA=Object.freeze(Object.defineProperty({__proto__:null,default:eA},Symbol.toStringTag,{value:"Module"})),nA="/Invitation/assets/r-10-Dn0CQCG_.jpg",iA=Object.freeze(Object.defineProperty({__proto__:null,default:nA},Symbol.toStringTag,{value:"Module"})),sA="/Invitation/assets/r-11-D3eFKwty.jpg",rA=Object.freeze(Object.defineProperty({__proto__:null,default:sA},Symbol.toStringTag,{value:"Module"})),aA="/Invitation/assets/r-12-BY68P3TW.jpg",oA=Object.freeze(Object.defineProperty({__proto__:null,default:aA},Symbol.toStringTag,{value:"Module"})),lA="/Invitation/assets/r-13-CEiRB3GN.jpg",cA=Object.freeze(Object.defineProperty({__proto__:null,default:lA},Symbol.toStringTag,{value:"Module"})),uA="/Invitation/assets/r-14-CrqTQkxo.jpg",hA=Object.freeze(Object.defineProperty({__proto__:null,default:uA},Symbol.toStringTag,{value:"Module"})),fA="/Invitation/assets/r-15-CMHvZkWT.jpg",dA=Object.freeze(Object.defineProperty({__proto__:null,default:fA},Symbol.toStringTag,{value:"Module"})),mA="/Invitation/assets/r-16-eAbJfSS7.jpg",pA=Object.freeze(Object.defineProperty({__proto__:null,default:mA},Symbol.toStringTag,{value:"Module"})),gA="/Invitation/assets/r-17-Lx5q0Lx1.jpg",yA=Object.freeze(Object.defineProperty({__proto__:null,default:gA},Symbol.toStringTag,{value:"Module"})),_A="/Invitation/assets/r-18-CZ-SmRv8.jpg",vA=Object.freeze(Object.defineProperty({__proto__:null,default:_A},Symbol.toStringTag,{value:"Module"})),ep=()=>{const s=Object.assign({"/src/assets/images/SSR/ssr-01.JPG":w1,"/src/assets/images/SSR/ssr-02.JPG":A1}),e=Object.assign({"/src/assets/images/SR/sr-01.jpg":R1,"/src/assets/images/SR/sr-02.jpg":C1,"/src/assets/images/SR/sr-03.jpg":D1,"/src/assets/images/SR/sr-04.jpg":M1,"/src/assets/images/SR/sr-05.jpg":k1,"/src/assets/images/SR/sr-06.jpg":L1}),n=Object.assign({"/src/assets/images/R/r-01.jpg":P1,"/src/assets/images/R/r-02.jpg":B1,"/src/assets/images/R/r-03.jpg":H1,"/src/assets/images/R/r-04.jpg":G1,"/src/assets/images/R/r-05.jpg":K1,"/src/assets/images/R/r-06.jpg":X1,"/src/assets/images/R/r-07.jpg":J1,"/src/assets/images/R/r-08.jpg":W1,"/src/assets/images/R/r-09.jpg":tA,"/src/assets/images/R/r-10.jpg":iA,"/src/assets/images/R/r-11.jpg":rA,"/src/assets/images/R/r-12.jpg":oA,"/src/assets/images/R/r-13.jpg":cA,"/src/assets/images/R/r-14.jpg":hA,"/src/assets/images/R/r-15.jpg":dA,"/src/assets/images/R/r-16.jpg":pA,"/src/assets/images/R/r-17.jpg":yA,"/src/assets/images/R/r-18.jpg":vA}),r=(m,g)=>Object.entries(m).map(([y,E])=>({src:E.default,path:y,rarity:g})),o=r(s,"SSR"),c=r(e,"SR"),f=r(n,"R");return[...o,...c,...f]},j0=ep(),xb=({forceUnlock:s=!1,rarityFilter:e=null,showRarity:n=!1})=>{const[r,o]=te.useState(null),[c,f]=te.useState(0),[m,g]=te.useState(null),[y,E]=te.useState(null),[w,A]=te.useState(!1),[q,K]=te.useState(null),[Z,ee]=te.useState([]);te.useEffect(()=>{const O=()=>{if(!s)try{const R=JSON.parse(localStorage.getItem("wedding_collection_v2")||"[]");ee(R)}catch(R){console.error("Error loading collection:",R),ee([])}};return O(),window.addEventListener("collectionUpdated",O),()=>window.removeEventListener("collectionUpdated",O)},[s]);const ae=j0.filter(O=>!e||O.rarity===e).sort((O,R)=>{const ie={SSR:3,SR:2,R:1},ge=O.rarity.includes("SSR")?"SSR":O.rarity.includes("SR")?"SR":"R",P=R.rarity.includes("SSR")?"SSR":R.rarity.includes("SR")?"SR":"R",W=ie[ge]-ie[P];return W!==0?W:O.path.localeCompare(R.path)}),ce=O=>{O?.stopPropagation(),f(1),o(R=>(R+1)%ae.length)},me=O=>{O?.stopPropagation(),f(-1),o(R=>(R-1+ae.length)%ae.length)},Me=O=>{E(null),g(O.targetTouches[0].clientX)},qe=O=>E(O.targetTouches[0].clientX),Ce=()=>{if(!m||!y)return;const O=m-y,R=O>50,ie=O<-50;R&&ce(),ie&&me()},I=O=>{A(!0),K(O.clientX)},C=O=>{w&&O.preventDefault()},N=O=>{if(!w||q===null)return;const R=q-O.clientX;R>50?ce():R<-50&&me(),A(!1),K(null)},k=()=>{w&&A(!1)},M=O=>{const R=ae.findIndex(ie=>ie.src===O);R!==-1&&(f(0),o(R))};return b.jsxs("section",{id:"gallery",className:"py-20 bg-background relative overflow-hidden",children:[b.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[b.jsx("div",{className:"absolute top-10 right-10 w-64 h-64 bg-primary/5 rounded-full blur-3xl"}),b.jsx("div",{className:"absolute bottom-10 left-10 w-96 h-96 bg-secondary/5 rounded-full blur-3xl"})]}),b.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[b.jsx("h2",{className:"text-3xl md:text-4xl text-primary font-classic font-bold mb-4 text-center animate-fade-in-up",children:" "}),b.jsxs("p",{className:"text-text/60 text-center font-body mb-12 tracking-widest uppercase text-sm animate-fade-in-up delay-100 font-classic",children:["  ",s?"":`(${Z.length}/${j0.length})`]}),b.jsx("div",{className:"grid grid-cols-3 gap-2 md:gap-4 lg:gap-6",children:ae.map((O,R)=>{const ie=s||Z.includes(O.path),ge=O.rarity.includes("SSR")?"SSR":O.rarity.includes("SR")?"SR":"R",P={SSR:"border-yellow-400 ring-2 ring-yellow-400/50 shadow-md",SR:"border-blue-400 ring-1 ring-blue-400/30",R:"border-stone-400"},W={SSR:"bg-yellow-400 text-black border-yellow-200",SR:"bg-blue-500 text-white border-blue-300",R:"bg-stone-500 text-white border-stone-400"},ue={SSR:"",SR:"",R:""};return b.jsxs("div",{className:`
                                    group relative rounded-2xl overflow-hidden shadow-soft-md hover:shadow-soft-xl transition-all duration-500 hover:-translate-y-1 bg-white
                                    ${n&&ie?`border-[3px] ${P[ge]}`:""}
                                `,onClick:()=>ie&&M(O.src),children:[n&&b.jsxs("div",{className:`
                                        absolute top-2 right-2 z-20 px-2 py-0.5 rounded-full border shadow-sm text-[10px] font-bold flex items-center gap-1 backdrop-blur-sm
                                        ${W[ge]}
                                        ${!ie&&"opacity-80 grayscale-[30%]"} 
                                    `,children:[b.jsx("span",{children:ue[ge]}),b.jsx("span",{children:ge})]}),b.jsxs("div",{className:"relative overflow-hidden aspect-square",children:[b.jsx("img",{src:O.src,alt:`Gallery ${R+1}`,className:`w-full h-full object-cover transition-all duration-700 
                                            ${ie?"cursor-pointer hover:scale-110 filter brightness-100":"blur-xl grayscale contrast-125 cursor-not-allowed opacity-50"}
                                        `,loading:"lazy"}),ie&&b.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors duration-300 pointer-events-none"}),!ie&&b.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/10 z-10 backdrop-blur-[2px]",children:[b.jsx("div",{className:"bg-white/90 backdrop-blur-md p-4 rounded-full shadow-lg transform group-hover:scale-110 transition-transform duration-300",children:b.jsx("span",{className:"text-2xl",children:""})}),b.jsx("span",{className:"text-white font-bold tracking-widest mt-2 drop-shadow-md text-xs uppercase bg-black/20 px-3 py-1 rounded-full",children:"Locked"})]})]})]},O.path)})})]}),r!==null&&b.jsxs("div",{className:"fixed inset-0 z-[1001] flex items-center justify-center bg-black/95 backdrop-blur-md p-0 animate-in fade-in duration-200",onClick:()=>o(null),children:[b.jsxs("div",{className:"relative w-full h-full flex items-center justify-center group",onClick:O=>O.stopPropagation(),onTouchStart:Me,onTouchMove:qe,onTouchEnd:Ce,onMouseDown:I,onMouseMove:C,onMouseUp:N,onMouseLeave:k,children:[b.jsx("button",{className:"absolute left-4 z-[1002] p-4 text-white/50 hover:text-white transition-all hover:scale-110 active:scale-95 hidden md:block",onClick:me,children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 drop-shadow-md",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),b.jsx("img",{src:ae[r].src,alt:"Full view",className:`
                                max-w-full max-h-[100vh] object-contain select-none pointer-events-none md:pointer-events-auto
                                ${c===1?"animate-slide-in-right":c===-1?"animate-slide-in-left":""}
                            `,draggable:"false"},r),b.jsx("button",{className:"absolute right-4 z-[1002] p-4 text-white/50 hover:text-white transition-all hover:scale-110 active:scale-95 hidden md:block",onClick:ce,children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 drop-shadow-md",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),b.jsx("button",{className:"absolute top-4 right-4 text-white/80 hover:text-white transition-colors z-[1002] p-2",onClick:()=>o(null),children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 drop-shadow-lg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M6 18L18 6M6 6l12 12"})})}),b.jsxs("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 text-white/80 font-mono text-sm bg-black/50 px-3 py-1 rounded-full backdrop-blur-sm z-[1002]",children:[r+1," / ",ae.length]})]})]})},bA=()=>b.jsxs("section",{className:"py-20 px-4 md:px-6 bg-background text-center relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-4xl h-full max-h-[500px] bg-primary/5 rounded-full blur-[100px] pointer-events-none"}),b.jsxs("div",{className:"relative z-10 w-full max-w-6xl mx-auto",children:[b.jsx("h2",{className:"text-3xl md:text-4xl text-primary font-classic font-bold mb-12 text-center animate-fade-in-up",children:"  "}),b.jsx("div",{className:"w-full aspect-video rounded-3xl overflow-hidden shadow-soft-xl border border-white/50 bg-black/5 animate-fade-in-up delay-100",children:b.jsx("iframe",{className:"w-full h-full",src:"https://www.youtube-nocookie.com/embed/AreIxgzHcIQ",title:"Wedding Video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})})]})]}),Rb=()=>{const s="https://naver.me/x7ndUhZi",e="https://place.map.kakao.com/25447779",n=r=>{window.open(r,"_blank")};return b.jsxs("section",{className:"py-24 px-4 bg-background text-center relative overflow-hidden font-body",children:[b.jsx("div",{className:"mb-12 animate-fade-in-up",children:b.jsx("h2",{className:"text-4xl md:text-5xl text-text font-classic font-bold",children:" "})}),b.jsx("div",{className:"max-w-5xl mx-auto mb-12 animate-fade-in-up delay-100",children:b.jsx("div",{className:"w-full aspect-video md:aspect-[21/9] rounded-xl overflow-hidden shadow-sm border border-black/5 bg-gray-50",children:b.jsx("iframe",{src:"https://maps.google.com/maps?q=%20%20&t=&z=17&ie=UTF8&iwloc=&output=embed",className:"w-full h-full transition-all duration-700",frameBorder:"0",title:"Google Map",loading:"lazy",allowFullScreen:!0})})}),b.jsxs("div",{className:"max-w-lg mx-auto mb-12 space-y-2 animate-fade-in-up delay-200 font-classic",children:[b.jsxs("h3",{className:"text-2xl text-text font-bold tracking-wide",children:["  ",b.jsx("span",{className:"font-normal text-lg ml-2 text-text/60",children:"7 "})]}),b.jsx("p",{className:"text-text/70 text-lg",children:"   4 140"}),b.jsx("div",{className:"w-8 h-[1px] bg-primary/20 mx-auto my-4"}),b.jsx("p",{className:"text-text/50 text-sm tracking-wider",children:"Tel. 031-487-8100"})]}),b.jsxs("div",{className:"flex flex-wrap justify-center gap-4 animate-fade-in-up delay-300",children:[b.jsxs("button",{className:"flex items-center gap-3 px-8 py-3 bg-white border border-gray-200 rounded-full hover:border-[#03C75A] hover:bg-[#03C75A]/5 transition-all group font-classic",onClick:()=>n(s),children:[b.jsx(TA,{}),b.jsx("span",{className:"text-gray-600 group-hover:text-[#03C75A] font-medium transition-colors",children:" "})]}),b.jsxs("button",{className:"flex items-center gap-3 px-8 py-3 bg-white border border-gray-200 rounded-full hover:border-[#FEE500] hover:bg-[#FEE500]/10 transition-all group font-classic",onClick:()=>n(e),children:[b.jsx(EA,{}),b.jsx("span",{className:"text-gray-600 group-hover:text-black font-medium transition-colors",children:" "})]})]})]})},TA=()=>b.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-[#03C75A]",children:b.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.4153 3H21V21H16.4153V10.7417L7.69231 21H3V3H7.69231V13.2519L16.4153 3Z",fill:"currentColor"})}),EA=()=>b.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",className:"text-[#FEE500]",children:b.jsx("path",{d:"M12 3C6.47715 3 2 6.35786 2 10.5C2 13.1679 3.65685 15.5393 6.1875 16.9079L5.4375 19.6579C5.375 19.8766 5.5625 20.0641 5.78125 20.0016L9.625 19.0641C10.375 19.2829 11.1875 19.4079 12 19.4079C17.5228 19.4079 22 16.05 22 11.9079C22 7.76579 17.5228 4.40786 12 4.40786V3Z"})}),wA=()=>{const[s,e]=te.useState(!1),n=te.useRef(null),r=()=>{s?n.current.pause():n.current.play(),e(!s)};return te.useEffect(()=>{if(n.current){n.current.volume=.5;const o=n.current.play();o!==void 0&&o.then(()=>{e(!0)}).catch(c=>{console.log("Auto-play prevented:",c),e(!1)})}},[]),b.jsxs("div",{style:L0.container,children:[b.jsx("audio",{ref:n,src:"/Invitation/bgm.mp3",loop:!0}),b.jsx("button",{onClick:r,style:L0.button,children:s?" ":" "})]})},L0={container:{position:"fixed",top:"20px",right:"20px",zIndex:1e3},button:{background:"rgba(255, 255, 255, 0.8)",border:"1px solid #ddd",borderRadius:"20px",padding:"8px 16px",fontSize:"0.8rem",cursor:"pointer",boxShadow:"0 2px 5px rgba(0,0,0,0.1)",display:"flex",alignItems:"center",gap:"5px",fontFamily:"'Gowun Batang', serif"}},SA=()=>{const[s,e]=te.useState(null),n=[{id:"groom",label:"   ",description:"   .",accounts:[{relation:"",name:"",bank:"",account:"383602-04-101-383"},{relation:"",name:"",bank:"",account:"495-910449-55107"}]},{id:"bride",label:"   ",description:"   .",accounts:[{relation:"",name:"",bank:"",account:"110-106-343360"},{relation:"",name:"",bank:"",account:"110-297-915880"}]}],r=o=>{const c=`${o.bank} ${o.account}`;navigator.clipboard.writeText(c).then(()=>{e(o.account),setTimeout(()=>e(null),2e3)})};return b.jsxs("section",{className:"py-20 px-6 bg-background text-center relative overflow-hidden font-body",children:[b.jsx("h2",{className:"text-3xl md:text-4xl text-primary font-classic font-bold mb-10 text-center animate-fade-in-up",children:"  "}),b.jsx("div",{className:"max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8 animate-fade-in-up delay-100",children:n.map(o=>b.jsxs("div",{className:"bg-white/60 backdrop-blur-md rounded-2xl overflow-hidden shadow-soft-md border border-white/50 flex flex-col h-full",children:[b.jsxs("div",{className:"bg-white/80 p-6 border-b border-primary/10",children:[b.jsx("h3",{className:"font-classic text-xl text-primary font-bold mb-2",children:o.label}),b.jsx("p",{className:"text-sm text-gray-500 font-medium",children:o.description})]}),b.jsx("div",{className:"p-6 space-y-4 flex-1",children:o.accounts.map((c,f)=>b.jsx("div",{className:"flex flex-col items-start gap-2 p-4 rounded-xl bg-white/50 hover:bg-white transition-colors border border-transparent hover:border-primary/20",children:b.jsxs("div",{className:"flex flex-col items-start gap-1 w-full",children:[b.jsxs("div",{className:"flex items-center justify-between w-full",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"text-sm font-bold text-gray-500 w-12 text-left",children:c.relation}),b.jsx("span",{className:"text-base font-bold text-text",children:c.name})]}),b.jsx("button",{onClick:()=>r(c),className:`
                                                    px-3 py-1 rounded-full text-xs font-medium transition-all duration-300
                                                    ${s===c.account?"bg-[#03C75A] text-white shadow-sm":"bg-white border border-gray-200 text-gray-600 hover:border-primary hover:text-primary"}
                                                `,children:s===c.account?"":""})]}),b.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 font-mono w-full text-left pl-0 sm:pl-14 transition-all",children:[c.bank," ",b.jsx("span",{className:"mx-1 text-gray-300",children:"|"})," ",c.account]})]})},f))})]},o.id))})]})},AA=()=>b.jsxs("div",{className:"app-container font-classic",children:[b.jsx(_1,{}),b.jsx(b1,{}),b.jsx(T1,{}),b.jsx(xb,{forceUnlock:!0,rarityFilter:"R"}),b.jsx(bA,{}),b.jsx(SA,{}),b.jsx(wA,{}),b.jsx(Rb,{})]}),xA=()=>{};var U0={};const Ib=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},RA=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[n++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[n++],f=s[n++],m=s[n++],g=((o&7)<<18|(c&63)<<12|(f&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const c=s[n++],f=s[n++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return e.join("")},Cb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const c=s[o],f=o+1<s.length,m=f?s[o+1]:0,g=o+2<s.length,y=g?s[o+2]:0,E=c>>2,w=(c&3)<<4|m>>4;let A=(m&15)<<2|y>>6,q=y&63;g||(q=64,f||(A=64)),r.push(n[E],n[w],n[A],n[q])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Ib(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):RA(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const c=n[s.charAt(o++)],m=o<s.length?n[s.charAt(o)]:0;++o;const y=o<s.length?n[s.charAt(o)]:64;++o;const w=o<s.length?n[s.charAt(o)]:64;if(++o,c==null||m==null||y==null||w==null)throw new IA;const A=c<<2|m>>4;if(r.push(A),y!==64){const q=m<<4&240|y>>2;if(r.push(q),w!==64){const K=y<<6&192|w;r.push(K)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class IA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CA=function(s){const e=Ib(s);return Cb.encodeByteArray(e,!0)},uh=function(s){return CA(s).replace(/\./g,"")},Nb=function(s){try{return Cb.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function NA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const DA=()=>NA().__FIREBASE_DEFAULTS__,OA=()=>{if(typeof process>"u"||typeof U0>"u")return;const s=U0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},MA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Nb(s[1]);return e&&JSON.parse(e)},Mh=()=>{try{return xA()||DA()||OA()||MA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Db=s=>Mh()?.emulatorHosts?.[s],VA=s=>{const e=Db(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ob=()=>Mh()?.config,Mb=s=>Mh()?.[`_${s}`];class kA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Eo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Vb(s){return(await fetch(s,{credentials:"include"})).ok}function jA(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[uh(JSON.stringify(n)),uh(JSON.stringify(f)),""].join(".")}const Hl={};function LA(){const s={prod:[],emulator:[]};for(const e of Object.keys(Hl))Hl[e]?s.emulator.push(e):s.prod.push(e);return s}function UA(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let P0=!1;function kb(s,e){if(typeof window>"u"||typeof document>"u"||!Eo(window.location.host)||Hl[s]===e||Hl[s]||P0)return;Hl[s]=e;function n(A){return`__firebase__banner__${A}`}const r="__firebase__banner",c=LA().prod.length>0;function f(){const A=document.getElementById(r);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,q){A.setAttribute("width","24"),A.setAttribute("id",q),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function y(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{P0=!0,f()},A}function E(A,q){A.setAttribute("id",q),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function w(){const A=UA(r),q=n("text"),K=document.getElementById(q)||document.createElement("span"),Z=n("learnmore"),ee=document.getElementById(Z)||document.createElement("a"),ae=n("preprendIcon"),ce=document.getElementById(ae)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const me=A.element;m(me),E(ee,Z);const Me=y();g(ce,ae),me.append(ce,K,ee,Me),document.body.appendChild(me)}c?(K.innerText="Preview backend disconnected.",ce.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ce.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function zA(){const s=Mh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jb(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function qA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HA(){const s=tn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function FA(){return!zA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Lb(){try{return typeof indexedDB=="object"}catch{return!1}}function Ub(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}function GA(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const QA="FirebaseError";class hi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=QA,Object.setPrototypeOf(this,hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oa.prototype.create)}}class oa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],f=c?KA(c,r):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new hi(o,m,r)}}function KA(s,e){return s.replace(YA,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const YA=/\{\$([^}]+)}/g;function XA(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function hs(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const c=s[o],f=e[o];if(z0(c)&&z0(f)){if(!hs(c,f))return!1}else if(c!==f)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function z0(s){return s!==null&&typeof s=="object"}function oc(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function $A(s,e){const n=new JA(s,e);return n.subscribe.bind(n)}class JA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ZA(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=um),o.error===void 0&&(o.error=um),o.complete===void 0&&(o.complete=um);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZA(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function um(){}const WA=1e3,ex=2,tx=14400*1e3,nx=.5;function B0(s,e=WA,n=ex){const r=e*Math.pow(n,s),o=Math.round(nx*r*(Math.random()-.5)*2);return Math.min(tx,r+o)}function mt(s){return s&&s._delegate?s._delegate:s}class ci{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const $r="[DEFAULT]";class ix{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new kA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rx(e))try{this.getOrInitializeService({instanceIdentifier:$r})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=$r){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$r){return this.instances.has(e)}getOptions(e=$r){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[c,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);r===m&&f.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sx(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$r){return this.component?this.component.multipleInstances?e:$r:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sx(s){return s===$r?void 0:s}function rx(s){return s.instantiationMode==="EAGER"}class ax{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ix(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ue;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ue||(Ue={}));const ox={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},lx=Ue.INFO,cx={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},ux=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=cx[e];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vh{constructor(e){this.name=e,this._logLevel=lx,this._logHandler=ux,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ox[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const hx=(s,e)=>e.some(n=>s instanceof n);let q0,H0;function fx(){return q0||(q0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dx(){return H0||(H0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Pb=new WeakMap,xm=new WeakMap,zb=new WeakMap,hm=new WeakMap,tp=new WeakMap;function mx(s){const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",f)},c=()=>{n(sr(s.result)),o()},f=()=>{r(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&Pb.set(n,s)}).catch(()=>{}),tp.set(e,s),e}function px(s){if(xm.has(s))return;const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",f),s.removeEventListener("abort",f)},c=()=>{n(),o()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",f),s.addEventListener("abort",f)});xm.set(s,e)}let Rm={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return xm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||zb.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sr(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function gx(s){Rm=s(Rm)}function yx(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(fm(this),e,...n);return zb.set(r,e.sort?e.sort():[e]),sr(r)}:dx().includes(s)?function(...e){return s.apply(fm(this),e),sr(Pb.get(this))}:function(...e){return sr(s.apply(fm(this),e))}}function _x(s){return typeof s=="function"?yx(s):(s instanceof IDBTransaction&&px(s),hx(s,fx())?new Proxy(s,Rm):s)}function sr(s){if(s instanceof IDBRequest)return mx(s);if(hm.has(s))return hm.get(s);const e=_x(s);return e!==s&&(hm.set(s,e),tp.set(e,s)),e}const fm=s=>tp.get(s);function Bb(s,e,{blocked:n,upgrade:r,blocking:o,terminated:c}={}){const f=indexedDB.open(s,e),m=sr(f);return r&&f.addEventListener("upgradeneeded",g=>{r(sr(f.result),g.oldVersion,g.newVersion,sr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const vx=["get","getKey","getAll","getAllKeys","count"],bx=["put","add","delete","clear"],dm=new Map;function F0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(dm.get(e))return dm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=bx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||vx.includes(n)))return;const c=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return dm.set(e,c),c}gx(s=>({...s,get:(e,n,r)=>F0(e,n)||s.get(e,n,r),has:(e,n)=>!!F0(e,n)||s.has(e,n)}));class Tx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Ex(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Ex(s){return s.getComponent()?.type==="VERSION"}const Im="@firebase/app",G0="0.14.7";const fs=new Vh("@firebase/app"),wx="@firebase/app-compat",Sx="@firebase/analytics-compat",Ax="@firebase/analytics",xx="@firebase/app-check-compat",Rx="@firebase/app-check",Ix="@firebase/auth",Cx="@firebase/auth-compat",Nx="@firebase/database",Dx="@firebase/data-connect",Ox="@firebase/database-compat",Mx="@firebase/functions",Vx="@firebase/functions-compat",kx="@firebase/installations",jx="@firebase/installations-compat",Lx="@firebase/messaging",Ux="@firebase/messaging-compat",Px="@firebase/performance",zx="@firebase/performance-compat",Bx="@firebase/remote-config",qx="@firebase/remote-config-compat",Hx="@firebase/storage",Fx="@firebase/storage-compat",Gx="@firebase/firestore",Qx="@firebase/ai",Kx="@firebase/firestore-compat",Yx="firebase",Xx="12.8.0";const Cm="[DEFAULT]",$x={[Im]:"fire-core",[wx]:"fire-core-compat",[Ax]:"fire-analytics",[Sx]:"fire-analytics-compat",[Rx]:"fire-app-check",[xx]:"fire-app-check-compat",[Ix]:"fire-auth",[Cx]:"fire-auth-compat",[Nx]:"fire-rtdb",[Dx]:"fire-data-connect",[Ox]:"fire-rtdb-compat",[Mx]:"fire-fn",[Vx]:"fire-fn-compat",[kx]:"fire-iid",[jx]:"fire-iid-compat",[Lx]:"fire-fcm",[Ux]:"fire-fcm-compat",[Px]:"fire-perf",[zx]:"fire-perf-compat",[Bx]:"fire-rc",[qx]:"fire-rc-compat",[Hx]:"fire-gcs",[Fx]:"fire-gcs-compat",[Gx]:"fire-fst",[Kx]:"fire-fst-compat",[Qx]:"fire-vertex","fire-js":"fire-js",[Yx]:"fire-js-all"};const hh=new Map,Jx=new Map,Nm=new Map;function Q0(s,e){try{s.container.addComponent(e)}catch(n){fs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function zi(s){const e=s.name;if(Nm.has(e))return fs.debug(`There were multiple attempts to register component ${e}.`),!1;Nm.set(e,s);for(const n of hh.values())Q0(n,s);for(const n of Jx.values())Q0(n,s);return!0}function la(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function ai(s){return s==null?!1:s.settings!==void 0}const Zx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rr=new oa("app","Firebase",Zx);class Wx{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ci("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rr.create("app-deleted",{appName:this._name})}}const wo=Xx;function qb(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:Cm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw rr.create("bad-app-name",{appName:String(o)});if(n||(n=Ob()),!n)throw rr.create("no-options");const c=hh.get(o);if(c){if(hs(n,c.options)&&hs(r,c.config))return c;throw rr.create("duplicate-app",{appName:o})}const f=new ax(o);for(const g of Nm.values())f.addComponent(g);const m=new Wx(n,r,f);return hh.set(o,m),m}function np(s=Cm){const e=hh.get(s);if(!e&&s===Cm&&Ob())return qb();if(!e)throw rr.create("no-app",{appName:s});return e}function Gn(s,e,n){let r=$x[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const f=[`Unable to register library "${r}" with version "${e}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fs.warn(f.join(" "));return}zi(new ci(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const eR="firebase-heartbeat-database",tR=1,$l="firebase-heartbeat-store";let mm=null;function Hb(){return mm||(mm=Bb(eR,tR,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore($l)}catch(n){console.warn(n)}}}}).catch(s=>{throw rr.create("idb-open",{originalErrorMessage:s.message})})),mm}async function nR(s){try{const n=(await Hb()).transaction($l),r=await n.objectStore($l).get(Fb(s));return await n.done,r}catch(e){if(e instanceof hi)fs.warn(e.message);else{const n=rr.create("idb-get",{originalErrorMessage:e?.message});fs.warn(n.message)}}}async function K0(s,e){try{const r=(await Hb()).transaction($l,"readwrite");await r.objectStore($l).put(e,Fb(s)),await r.done}catch(n){if(n instanceof hi)fs.warn(n.message);else{const r=rr.create("idb-set",{originalErrorMessage:n?.message});fs.warn(r.message)}}}function Fb(s){return`${s.name}!${s.options.appId}`}const iR=1024,sR=30;class rR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new oR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Y0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>sR){const o=lR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){fs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Y0(),{heartbeatsToSend:n,unsentEntries:r}=aR(this._heartbeatsCache.heartbeats),o=uh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return fs.warn(e),""}}}function Y0(){return new Date().toISOString().substring(0,10)}function aR(s,e=iR){const n=[];let r=s.slice();for(const o of s){const c=n.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),X0(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),X0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class oR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Lb()?Ub().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return K0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return K0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function X0(s){return uh(JSON.stringify({version:2,heartbeats:s})).length}function lR(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}function cR(s){zi(new ci("platform-logger",e=>new Tx(e),"PRIVATE")),zi(new ci("heartbeat",e=>new rR(e),"PRIVATE")),Gn(Im,G0,s),Gn(Im,G0,"esm2020"),Gn("fire-js","")}cR("");var uR="firebase",hR="12.8.0";Gn(uR,hR,"app");const Gb="@firebase/installations",ip="0.6.19";const Qb=1e4,Kb=`w:${ip}`,Yb="FIS_v2",fR="https://firebaseinstallations.googleapis.com/v1",dR=3600*1e3,mR="installations",pR="Installations";const gR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},na=new oa(mR,pR,gR);function Xb(s){return s instanceof hi&&s.code.includes("request-failed")}function $b({projectId:s}){return`${fR}/projects/${s}/installations`}function Jb(s){return{token:s.token,requestStatus:2,expiresIn:_R(s.expiresIn),creationTime:Date.now()}}async function Zb(s,e){const r=(await e.json()).error;return na.create("request-failed",{requestName:s,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Wb({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function yR(s,{refreshToken:e}){const n=Wb(s);return n.append("Authorization",vR(e)),n}async function eT(s){const e=await s();return e.status>=500&&e.status<600?s():e}function _R(s){return Number(s.replace("s","000"))}function vR(s){return`${Yb} ${s}`}async function bR({appConfig:s,heartbeatServiceProvider:e},{fid:n}){const r=$b(s),o=Wb(s),c=e.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={fid:n,authVersion:Yb,appId:s.appId,sdkVersion:Kb},m={method:"POST",headers:o,body:JSON.stringify(f)},g=await eT(()=>fetch(r,m));if(g.ok){const y=await g.json();return{fid:y.fid||n,registrationStatus:2,refreshToken:y.refreshToken,authToken:Jb(y.authToken)}}else throw await Zb("Create Installation",g)}function tT(s){return new Promise(e=>{setTimeout(e,s)})}function TR(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}const ER=/^[cdef][\w-]{21}$/,Dm="";function wR(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const n=SR(s);return ER.test(n)?n:Dm}catch{return Dm}}function SR(s){return TR(s).substr(0,22)}function kh(s){return`${s.appName}!${s.appId}`}const nT=new Map;function iT(s,e){const n=kh(s);sT(n,e),AR(n,e)}function sT(s,e){const n=nT.get(s);if(n)for(const r of n)r(e)}function AR(s,e){const n=xR();n&&n.postMessage({key:s,fid:e}),RR()}let Jr=null;function xR(){return!Jr&&"BroadcastChannel"in self&&(Jr=new BroadcastChannel("[Firebase] FID Change"),Jr.onmessage=s=>{sT(s.data.key,s.data.fid)}),Jr}function RR(){nT.size===0&&Jr&&(Jr.close(),Jr=null)}const IR="firebase-installations-database",CR=1,ia="firebase-installations-store";let pm=null;function sp(){return pm||(pm=Bb(IR,CR,{upgrade:(s,e)=>{e===0&&s.createObjectStore(ia)}})),pm}async function fh(s,e){const n=kh(s),o=(await sp()).transaction(ia,"readwrite"),c=o.objectStore(ia),f=await c.get(n);return await c.put(e,n),await o.done,(!f||f.fid!==e.fid)&&iT(s,e.fid),e}async function rT(s){const e=kh(s),r=(await sp()).transaction(ia,"readwrite");await r.objectStore(ia).delete(e),await r.done}async function jh(s,e){const n=kh(s),o=(await sp()).transaction(ia,"readwrite"),c=o.objectStore(ia),f=await c.get(n),m=e(f);return m===void 0?await c.delete(n):await c.put(m,n),await o.done,m&&(!f||f.fid!==m.fid)&&iT(s,m.fid),m}async function rp(s){let e;const n=await jh(s.appConfig,r=>{const o=NR(r),c=DR(s,o);return e=c.registrationPromise,c.installationEntry});return n.fid===Dm?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function NR(s){const e=s||{fid:wR(),registrationStatus:0};return aT(e)}function DR(s,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(na.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=OR(s,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:MR(s)}:{installationEntry:e}}async function OR(s,e){try{const n=await bR(s,e);return fh(s.appConfig,n)}catch(n){throw Xb(n)&&n.customData.serverCode===409?await rT(s.appConfig):await fh(s.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function MR(s){let e=await $0(s.appConfig);for(;e.registrationStatus===1;)await tT(100),e=await $0(s.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await rp(s);return r||n}return e}function $0(s){return jh(s,e=>{if(!e)throw na.create("installation-not-found");return aT(e)})}function aT(s){return VR(s)?{fid:s.fid,registrationStatus:0}:s}function VR(s){return s.registrationStatus===1&&s.registrationTime+Qb<Date.now()}async function kR({appConfig:s,heartbeatServiceProvider:e},n){const r=jR(s,n),o=yR(s,n),c=e.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={installation:{sdkVersion:Kb,appId:s.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},g=await eT(()=>fetch(r,m));if(g.ok){const y=await g.json();return Jb(y)}else throw await Zb("Generate Auth Token",g)}function jR(s,{fid:e}){return`${$b(s)}/${e}/authTokens:generate`}async function ap(s,e=!1){let n;const r=await jh(s.appConfig,c=>{if(!oT(c))throw na.create("not-registered");const f=c.authToken;if(!e&&PR(f))return c;if(f.requestStatus===1)return n=LR(s,e),c;{if(!navigator.onLine)throw na.create("app-offline");const m=BR(c);return n=UR(s,m),m}});return n?await n:r.authToken}async function LR(s,e){let n=await J0(s.appConfig);for(;n.authToken.requestStatus===1;)await tT(100),n=await J0(s.appConfig);const r=n.authToken;return r.requestStatus===0?ap(s,e):r}function J0(s){return jh(s,e=>{if(!oT(e))throw na.create("not-registered");const n=e.authToken;return qR(n)?{...e,authToken:{requestStatus:0}}:e})}async function UR(s,e){try{const n=await kR(s,e),r={...e,authToken:n};return await fh(s.appConfig,r),n}catch(n){if(Xb(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await rT(s.appConfig);else{const r={...e,authToken:{requestStatus:0}};await fh(s.appConfig,r)}throw n}}function oT(s){return s!==void 0&&s.registrationStatus===2}function PR(s){return s.requestStatus===2&&!zR(s)}function zR(s){const e=Date.now();return e<s.creationTime||s.creationTime+s.expiresIn<e+dR}function BR(s){const e={requestStatus:1,requestTime:Date.now()};return{...s,authToken:e}}function qR(s){return s.requestStatus===1&&s.requestTime+Qb<Date.now()}async function HR(s){const e=s,{installationEntry:n,registrationPromise:r}=await rp(e);return r?r.catch(console.error):ap(e).catch(console.error),n.fid}async function FR(s,e=!1){const n=s;return await GR(n),(await ap(n,e)).token}async function GR(s){const{registrationPromise:e}=await rp(s);e&&await e}function QR(s){if(!s||!s.options)throw gm("App Configuration");if(!s.name)throw gm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!s.options[n])throw gm(n);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function gm(s){return na.create("missing-app-config-values",{valueName:s})}const lT="installations",KR="installations-internal",YR=s=>{const e=s.getProvider("app").getImmediate(),n=QR(e),r=la(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},XR=s=>{const e=s.getProvider("app").getImmediate(),n=la(e,lT).getImmediate();return{getId:()=>HR(n),getToken:o=>FR(n,o)}};function $R(){zi(new ci(lT,YR,"PUBLIC")),zi(new ci(KR,XR,"PRIVATE"))}$R();Gn(Gb,ip);Gn(Gb,ip,"esm2020");const dh="analytics",JR="firebase_id",ZR="origin",WR=60*1e3,eI="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",op="https://www.googletagmanager.com/gtag/js";const cn=new Vh("@firebase/analytics");const tI={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Cn=new oa("analytics","Analytics",tI);function nI(s){if(!s.startsWith(op)){const e=Cn.create("invalid-gtag-resource",{gtagURL:s});return cn.warn(e.message),""}return s}function cT(s){return Promise.all(s.map(e=>e.catch(n=>n)))}function iI(s,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(s,e)),n}function sI(s,e){const n=iI("firebase-js-sdk-policy",{createScriptURL:nI}),r=document.createElement("script"),o=`${op}?l=${s}&id=${e}`;r.src=n?n?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function rI(s){let e=[];return Array.isArray(window[s])?e=window[s]:window[s]=e,e}async function aI(s,e,n,r,o,c){const f=r[o];try{if(f)await e[f];else{const g=(await cT(n)).find(y=>y.measurementId===o);g&&await e[g.appId]}}catch(m){cn.error(m)}s("config",o,c)}async function oI(s,e,n,r,o){try{let c=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await cT(n);for(const g of f){const y=m.find(w=>w.measurementId===g),E=y&&e[y.appId];if(E)c.push(E);else{c=[];break}}}c.length===0&&(c=Object.values(e)),await Promise.all(c),s("event",r,o||{})}catch(c){cn.error(c)}}function lI(s,e,n,r){async function o(c,...f){try{if(c==="event"){const[m,g]=f;await oI(s,e,n,m,g)}else if(c==="config"){const[m,g]=f;await aI(s,e,n,r,m,g)}else if(c==="consent"){const[m,g]=f;s("consent",m,g)}else if(c==="get"){const[m,g,y]=f;s("get",m,g,y)}else if(c==="set"){const[m]=f;s("set",m)}else s(c,...f)}catch(m){cn.error(m)}}return o}function cI(s,e,n,r,o){let c=function(...f){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(c=window[o]),window[o]=lI(c,s,e,n),{gtagCore:c,wrappedGtag:window[o]}}function uI(s){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(op)&&n.src.includes(s))return n;return null}const hI=30,fI=1e3;class dI{constructor(e={},n=fI){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const uT=new dI;function mI(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function pI(s){const{appId:e,apiKey:n}=s,r={method:"GET",headers:mI(n)},o=eI.replace("{app-id}",e),c=await fetch(o,r);if(c.status!==200&&c.status!==304){let f="";try{const m=await c.json();m.error?.message&&(f=m.error.message)}catch{}throw Cn.create("config-fetch-failed",{httpStatus:c.status,responseMessage:f})}return c.json()}async function gI(s,e=uT,n){const{appId:r,apiKey:o,measurementId:c}=s.options;if(!r)throw Cn.create("no-app-id");if(!o){if(c)return{measurementId:c,appId:r};throw Cn.create("no-api-key")}const f=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new vI;return setTimeout(async()=>{m.abort()},WR),hT({appId:r,apiKey:o,measurementId:c},f,m,e)}async function hT(s,{throttleEndTimeMillis:e,backoffCount:n},r,o=uT){const{appId:c,measurementId:f}=s;try{await yI(r,e)}catch(m){if(f)return cn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:c,measurementId:f};throw m}try{const m=await pI(s);return o.deleteThrottleMetadata(c),m}catch(m){const g=m;if(!_I(g)){if(o.deleteThrottleMetadata(c),f)return cn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:c,measurementId:f};throw m}const y=Number(g?.customData?.httpStatus)===503?B0(n,o.intervalMillis,hI):B0(n,o.intervalMillis),E={throttleEndTimeMillis:Date.now()+y,backoffCount:n+1};return o.setThrottleMetadata(c,E),cn.debug(`Calling attemptFetch again in ${y} millis`),hT(s,E,r,o)}}function yI(s,e){return new Promise((n,r)=>{const o=Math.max(e-Date.now(),0),c=setTimeout(n,o);s.addEventListener(()=>{clearTimeout(c),r(Cn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function _I(s){if(!(s instanceof hi)||!s.customData)return!1;const e=Number(s.customData.httpStatus);return e===429||e===500||e===503||e===504}class vI{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function bI(s,e,n,r,o){if(o&&o.global){s("event",n,r);return}else{const c=await e,f={...r,send_to:c};s("event",n,f)}}async function TI(s,e,n,r){if(r&&r.global){const o={};for(const c of Object.keys(n))o[`user_properties.${c}`]=n[c];return s("set",o),Promise.resolve()}else{const o=await e;s("config",o,{update:!0,user_properties:n})}}async function EI(){if(Lb())try{await Ub()}catch(s){return cn.warn(Cn.create("indexeddb-unavailable",{errorInfo:s?.toString()}).message),!1}else return cn.warn(Cn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function wI(s,e,n,r,o,c,f){const m=gI(s);m.then(A=>{n[A.measurementId]=A.appId,s.options.measurementId&&A.measurementId!==s.options.measurementId&&cn.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${A.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(A=>cn.error(A)),e.push(m);const g=EI().then(A=>{if(A)return r.getId()}),[y,E]=await Promise.all([m,g]);uI(c)||sI(c,y.measurementId),o("js",new Date);const w=f?.config??{};return w[ZR]="firebase",w.update=!0,E!=null&&(w[JR]=E),o("config",y.measurementId,w),y.measurementId}class SI{constructor(e){this.app=e}_delete(){return delete oo[this.app.options.appId],Promise.resolve()}}let oo={},Z0=[];const W0={};let ym="dataLayer",AI="gtag",ev,lp,tv=!1;function xI(){const s=[];if(jb()&&s.push("This is a browser extension environment."),GA()||s.push("Cookies are not available."),s.length>0){const e=s.map((r,o)=>`(${o+1}) ${r}`).join(" "),n=Cn.create("invalid-analytics-context",{errorInfo:e});cn.warn(n.message)}}function RI(s,e,n){xI();const r=s.options.appId;if(!r)throw Cn.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)cn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Cn.create("no-api-key");if(oo[r]!=null)throw Cn.create("already-exists",{id:r});if(!tv){rI(ym);const{wrappedGtag:c,gtagCore:f}=cI(oo,Z0,W0,ym,AI);lp=c,ev=f,tv=!0}return oo[r]=wI(s,Z0,W0,e,ev,ym,n),new SI(s)}function II(s=np()){s=mt(s);const e=la(s,dh);return e.isInitialized()?e.getImmediate():CI(s)}function CI(s,e={}){const n=la(s,dh);if(n.isInitialized()){const o=n.getImmediate();if(hs(e,n.getOptions()))return o;throw Cn.create("already-initialized")}return n.initialize({options:e})}function NI(s,e,n){s=mt(s),TI(lp,oo[s.app.options.appId],e,n).catch(r=>cn.error(r))}function DI(s,e,n,r){s=mt(s),bI(lp,oo[s.app.options.appId],e,n,r).catch(o=>cn.error(o))}const nv="@firebase/analytics",iv="0.10.19";function OI(){zi(new ci(dh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return RI(r,o,n)},"PUBLIC")),zi(new ci("analytics-internal",s,"PRIVATE")),Gn(nv,iv),Gn(nv,iv,"esm2020");function s(e){try{const n=e.getProvider(dh).getImmediate();return{logEvent:(r,o,c)=>DI(n,r,o,c),setUserProperties:(r,o)=>NI(n,r,o)}}catch(n){throw Cn.create("interop-component-reg-failed",{reason:n})}}}OI();var sv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ar,fT;(function(){var s;function e(I,C){function N(){}N.prototype=C.prototype,I.F=C.prototype,I.prototype=new N,I.prototype.constructor=I,I.D=function(k,M,O){for(var R=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)R[ie-2]=arguments[ie];return C.prototype[M].apply(k,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,C,N){N||(N=0);const k=Array(16);if(typeof C=="string")for(var M=0;M<16;++M)k[M]=C.charCodeAt(N++)|C.charCodeAt(N++)<<8|C.charCodeAt(N++)<<16|C.charCodeAt(N++)<<24;else for(M=0;M<16;++M)k[M]=C[N++]|C[N++]<<8|C[N++]<<16|C[N++]<<24;C=I.g[0],N=I.g[1],M=I.g[2];let O=I.g[3],R;R=C+(O^N&(M^O))+k[0]+3614090360&4294967295,C=N+(R<<7&4294967295|R>>>25),R=O+(M^C&(N^M))+k[1]+3905402710&4294967295,O=C+(R<<12&4294967295|R>>>20),R=M+(N^O&(C^N))+k[2]+606105819&4294967295,M=O+(R<<17&4294967295|R>>>15),R=N+(C^M&(O^C))+k[3]+3250441966&4294967295,N=M+(R<<22&4294967295|R>>>10),R=C+(O^N&(M^O))+k[4]+4118548399&4294967295,C=N+(R<<7&4294967295|R>>>25),R=O+(M^C&(N^M))+k[5]+1200080426&4294967295,O=C+(R<<12&4294967295|R>>>20),R=M+(N^O&(C^N))+k[6]+2821735955&4294967295,M=O+(R<<17&4294967295|R>>>15),R=N+(C^M&(O^C))+k[7]+4249261313&4294967295,N=M+(R<<22&4294967295|R>>>10),R=C+(O^N&(M^O))+k[8]+1770035416&4294967295,C=N+(R<<7&4294967295|R>>>25),R=O+(M^C&(N^M))+k[9]+2336552879&4294967295,O=C+(R<<12&4294967295|R>>>20),R=M+(N^O&(C^N))+k[10]+4294925233&4294967295,M=O+(R<<17&4294967295|R>>>15),R=N+(C^M&(O^C))+k[11]+2304563134&4294967295,N=M+(R<<22&4294967295|R>>>10),R=C+(O^N&(M^O))+k[12]+1804603682&4294967295,C=N+(R<<7&4294967295|R>>>25),R=O+(M^C&(N^M))+k[13]+4254626195&4294967295,O=C+(R<<12&4294967295|R>>>20),R=M+(N^O&(C^N))+k[14]+2792965006&4294967295,M=O+(R<<17&4294967295|R>>>15),R=N+(C^M&(O^C))+k[15]+1236535329&4294967295,N=M+(R<<22&4294967295|R>>>10),R=C+(M^O&(N^M))+k[1]+4129170786&4294967295,C=N+(R<<5&4294967295|R>>>27),R=O+(N^M&(C^N))+k[6]+3225465664&4294967295,O=C+(R<<9&4294967295|R>>>23),R=M+(C^N&(O^C))+k[11]+643717713&4294967295,M=O+(R<<14&4294967295|R>>>18),R=N+(O^C&(M^O))+k[0]+3921069994&4294967295,N=M+(R<<20&4294967295|R>>>12),R=C+(M^O&(N^M))+k[5]+3593408605&4294967295,C=N+(R<<5&4294967295|R>>>27),R=O+(N^M&(C^N))+k[10]+38016083&4294967295,O=C+(R<<9&4294967295|R>>>23),R=M+(C^N&(O^C))+k[15]+3634488961&4294967295,M=O+(R<<14&4294967295|R>>>18),R=N+(O^C&(M^O))+k[4]+3889429448&4294967295,N=M+(R<<20&4294967295|R>>>12),R=C+(M^O&(N^M))+k[9]+568446438&4294967295,C=N+(R<<5&4294967295|R>>>27),R=O+(N^M&(C^N))+k[14]+3275163606&4294967295,O=C+(R<<9&4294967295|R>>>23),R=M+(C^N&(O^C))+k[3]+4107603335&4294967295,M=O+(R<<14&4294967295|R>>>18),R=N+(O^C&(M^O))+k[8]+1163531501&4294967295,N=M+(R<<20&4294967295|R>>>12),R=C+(M^O&(N^M))+k[13]+2850285829&4294967295,C=N+(R<<5&4294967295|R>>>27),R=O+(N^M&(C^N))+k[2]+4243563512&4294967295,O=C+(R<<9&4294967295|R>>>23),R=M+(C^N&(O^C))+k[7]+1735328473&4294967295,M=O+(R<<14&4294967295|R>>>18),R=N+(O^C&(M^O))+k[12]+2368359562&4294967295,N=M+(R<<20&4294967295|R>>>12),R=C+(N^M^O)+k[5]+4294588738&4294967295,C=N+(R<<4&4294967295|R>>>28),R=O+(C^N^M)+k[8]+2272392833&4294967295,O=C+(R<<11&4294967295|R>>>21),R=M+(O^C^N)+k[11]+1839030562&4294967295,M=O+(R<<16&4294967295|R>>>16),R=N+(M^O^C)+k[14]+4259657740&4294967295,N=M+(R<<23&4294967295|R>>>9),R=C+(N^M^O)+k[1]+2763975236&4294967295,C=N+(R<<4&4294967295|R>>>28),R=O+(C^N^M)+k[4]+1272893353&4294967295,O=C+(R<<11&4294967295|R>>>21),R=M+(O^C^N)+k[7]+4139469664&4294967295,M=O+(R<<16&4294967295|R>>>16),R=N+(M^O^C)+k[10]+3200236656&4294967295,N=M+(R<<23&4294967295|R>>>9),R=C+(N^M^O)+k[13]+681279174&4294967295,C=N+(R<<4&4294967295|R>>>28),R=O+(C^N^M)+k[0]+3936430074&4294967295,O=C+(R<<11&4294967295|R>>>21),R=M+(O^C^N)+k[3]+3572445317&4294967295,M=O+(R<<16&4294967295|R>>>16),R=N+(M^O^C)+k[6]+76029189&4294967295,N=M+(R<<23&4294967295|R>>>9),R=C+(N^M^O)+k[9]+3654602809&4294967295,C=N+(R<<4&4294967295|R>>>28),R=O+(C^N^M)+k[12]+3873151461&4294967295,O=C+(R<<11&4294967295|R>>>21),R=M+(O^C^N)+k[15]+530742520&4294967295,M=O+(R<<16&4294967295|R>>>16),R=N+(M^O^C)+k[2]+3299628645&4294967295,N=M+(R<<23&4294967295|R>>>9),R=C+(M^(N|~O))+k[0]+4096336452&4294967295,C=N+(R<<6&4294967295|R>>>26),R=O+(N^(C|~M))+k[7]+1126891415&4294967295,O=C+(R<<10&4294967295|R>>>22),R=M+(C^(O|~N))+k[14]+2878612391&4294967295,M=O+(R<<15&4294967295|R>>>17),R=N+(O^(M|~C))+k[5]+4237533241&4294967295,N=M+(R<<21&4294967295|R>>>11),R=C+(M^(N|~O))+k[12]+1700485571&4294967295,C=N+(R<<6&4294967295|R>>>26),R=O+(N^(C|~M))+k[3]+2399980690&4294967295,O=C+(R<<10&4294967295|R>>>22),R=M+(C^(O|~N))+k[10]+4293915773&4294967295,M=O+(R<<15&4294967295|R>>>17),R=N+(O^(M|~C))+k[1]+2240044497&4294967295,N=M+(R<<21&4294967295|R>>>11),R=C+(M^(N|~O))+k[8]+1873313359&4294967295,C=N+(R<<6&4294967295|R>>>26),R=O+(N^(C|~M))+k[15]+4264355552&4294967295,O=C+(R<<10&4294967295|R>>>22),R=M+(C^(O|~N))+k[6]+2734768916&4294967295,M=O+(R<<15&4294967295|R>>>17),R=N+(O^(M|~C))+k[13]+1309151649&4294967295,N=M+(R<<21&4294967295|R>>>11),R=C+(M^(N|~O))+k[4]+4149444226&4294967295,C=N+(R<<6&4294967295|R>>>26),R=O+(N^(C|~M))+k[11]+3174756917&4294967295,O=C+(R<<10&4294967295|R>>>22),R=M+(C^(O|~N))+k[2]+718787259&4294967295,M=O+(R<<15&4294967295|R>>>17),R=N+(O^(M|~C))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+C&4294967295,I.g[1]=I.g[1]+(M+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+M&4294967295,I.g[3]=I.g[3]+O&4294967295}r.prototype.v=function(I,C){C===void 0&&(C=I.length);const N=C-this.blockSize,k=this.C;let M=this.h,O=0;for(;O<C;){if(M==0)for(;O<=N;)o(this,I,O),O+=this.blockSize;if(typeof I=="string"){for(;O<C;)if(k[M++]=I.charCodeAt(O++),M==this.blockSize){o(this,k),M=0;break}}else for(;O<C;)if(k[M++]=I[O++],M==this.blockSize){o(this,k),M=0;break}}this.h=M,this.o+=C},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var C=1;C<I.length-8;++C)I[C]=0;C=this.o*8;for(var N=I.length-8;N<I.length;++N)I[N]=C&255,C/=256;for(this.v(I),I=Array(16),C=0,N=0;N<4;++N)for(let k=0;k<32;k+=8)I[C++]=this.g[N]>>>k&255;return I};function c(I,C){var N=m;return Object.prototype.hasOwnProperty.call(N,I)?N[I]:N[I]=C(I)}function f(I,C){this.h=C;const N=[];let k=!0;for(let M=I.length-1;M>=0;M--){const O=I[M]|0;k&&O==C||(N[M]=O,k=!1)}this.g=N}var m={};function g(I){return-128<=I&&I<128?c(I,function(C){return new f([C|0],C<0?-1:0)}):new f([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return w;if(I<0)return ee(y(-I));const C=[];let N=1;for(let k=0;I>=N;k++)C[k]=I/N|0,N*=4294967296;return new f(C,0)}function E(I,C){if(I.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(I.charAt(0)=="-")return ee(E(I.substring(1),C));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=y(Math.pow(C,8));let k=w;for(let O=0;O<I.length;O+=8){var M=Math.min(8,I.length-O);const R=parseInt(I.substring(O,O+M),C);M<8?(M=y(Math.pow(C,M)),k=k.j(M).add(y(R))):(k=k.j(N),k=k.add(y(R)))}return k}var w=g(0),A=g(1),q=g(16777216);s=f.prototype,s.m=function(){if(Z(this))return-ee(this).m();let I=0,C=1;for(let N=0;N<this.g.length;N++){const k=this.i(N);I+=(k>=0?k:4294967296+k)*C,C*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(K(this))return"0";if(Z(this))return"-"+ee(this).toString(I);const C=y(Math.pow(I,6));var N=this;let k="";for(;;){const M=Me(N,C).g;N=ae(N,M.j(C));let O=((N.g.length>0?N.g[0]:N.h)>>>0).toString(I);if(N=M,K(N))return O+k;for(;O.length<6;)O="0"+O;k=O+k}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function K(I){if(I.h!=0)return!1;for(let C=0;C<I.g.length;C++)if(I.g[C]!=0)return!1;return!0}function Z(I){return I.h==-1}s.l=function(I){return I=ae(this,I),Z(I)?-1:K(I)?0:1};function ee(I){const C=I.g.length,N=[];for(let k=0;k<C;k++)N[k]=~I.g[k];return new f(N,~I.h).add(A)}s.abs=function(){return Z(this)?ee(this):this},s.add=function(I){const C=Math.max(this.g.length,I.g.length),N=[];let k=0;for(let M=0;M<=C;M++){let O=k+(this.i(M)&65535)+(I.i(M)&65535),R=(O>>>16)+(this.i(M)>>>16)+(I.i(M)>>>16);k=R>>>16,O&=65535,R&=65535,N[M]=R<<16|O}return new f(N,N[N.length-1]&-2147483648?-1:0)};function ae(I,C){return I.add(ee(C))}s.j=function(I){if(K(this)||K(I))return w;if(Z(this))return Z(I)?ee(this).j(ee(I)):ee(ee(this).j(I));if(Z(I))return ee(this.j(ee(I)));if(this.l(q)<0&&I.l(q)<0)return y(this.m()*I.m());const C=this.g.length+I.g.length,N=[];for(var k=0;k<2*C;k++)N[k]=0;for(k=0;k<this.g.length;k++)for(let M=0;M<I.g.length;M++){const O=this.i(k)>>>16,R=this.i(k)&65535,ie=I.i(M)>>>16,ge=I.i(M)&65535;N[2*k+2*M]+=R*ge,ce(N,2*k+2*M),N[2*k+2*M+1]+=O*ge,ce(N,2*k+2*M+1),N[2*k+2*M+1]+=R*ie,ce(N,2*k+2*M+1),N[2*k+2*M+2]+=O*ie,ce(N,2*k+2*M+2)}for(I=0;I<C;I++)N[I]=N[2*I+1]<<16|N[2*I];for(I=C;I<2*C;I++)N[I]=0;return new f(N,0)};function ce(I,C){for(;(I[C]&65535)!=I[C];)I[C+1]+=I[C]>>>16,I[C]&=65535,C++}function me(I,C){this.g=I,this.h=C}function Me(I,C){if(K(C))throw Error("division by zero");if(K(I))return new me(w,w);if(Z(I))return C=Me(ee(I),C),new me(ee(C.g),ee(C.h));if(Z(C))return C=Me(I,ee(C)),new me(ee(C.g),C.h);if(I.g.length>30){if(Z(I)||Z(C))throw Error("slowDivide_ only works with positive integers.");for(var N=A,k=C;k.l(I)<=0;)N=qe(N),k=qe(k);var M=Ce(N,1),O=Ce(k,1);for(k=Ce(k,2),N=Ce(N,2);!K(k);){var R=O.add(k);R.l(I)<=0&&(M=M.add(N),O=R),k=Ce(k,1),N=Ce(N,1)}return C=ae(I,M.j(C)),new me(M,C)}for(M=w;I.l(C)>=0;){for(N=Math.max(1,Math.floor(I.m()/C.m())),k=Math.ceil(Math.log(N)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),O=y(N),R=O.j(C);Z(R)||R.l(I)>0;)N-=k,O=y(N),R=O.j(C);K(O)&&(O=A),M=M.add(O),I=ae(I,R)}return new me(M,I)}s.B=function(I){return Me(this,I).h},s.and=function(I){const C=Math.max(this.g.length,I.g.length),N=[];for(let k=0;k<C;k++)N[k]=this.i(k)&I.i(k);return new f(N,this.h&I.h)},s.or=function(I){const C=Math.max(this.g.length,I.g.length),N=[];for(let k=0;k<C;k++)N[k]=this.i(k)|I.i(k);return new f(N,this.h|I.h)},s.xor=function(I){const C=Math.max(this.g.length,I.g.length),N=[];for(let k=0;k<C;k++)N[k]=this.i(k)^I.i(k);return new f(N,this.h^I.h)};function qe(I){const C=I.g.length+1,N=[];for(let k=0;k<C;k++)N[k]=I.i(k)<<1|I.i(k-1)>>>31;return new f(N,I.h)}function Ce(I,C){const N=C>>5;C%=32;const k=I.g.length-N,M=[];for(let O=0;O<k;O++)M[O]=C>0?I.i(O+N)>>>C|I.i(O+N+1)<<32-C:I.i(O+N);return new f(M,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,fT=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,ar=f}).apply(typeof sv<"u"?sv:typeof self<"u"?self:typeof window<"u"?window:{});var Ku=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var dT,Pl,mT,eh,Om,pT,gT,yT;(function(){var s,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ku=="object"&&Ku];for(var p=0;p<u.length;++p){var v=u[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function o(u,p){if(p)e:{var v=r;u=u.split(".");for(var S=0;S<u.length-1;S++){var U=u[S];if(!(U in v))break e;v=v[U]}u=u[u.length-1],S=v[u],p=p(S),p!=S&&p!=null&&e(v,u,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(p){var v=[],S;for(S in p)Object.prototype.hasOwnProperty.call(p,S)&&v.push([S,p[S]]);return v}});var c=c||{},f=this||self;function m(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function g(u,p,v){return u.call.apply(u.bind,arguments)}function y(u,p,v){return y=g,y.apply(null,arguments)}function E(u,p){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function w(u,p){function v(){}v.prototype=p.prototype,u.Z=p.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(S,U,F){for(var se=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)se[Ne-2]=arguments[Ne];return p.prototype[U].apply(S,se)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function q(u){const p=u.length;if(p>0){const v=Array(p);for(let S=0;S<p;S++)v[S]=u[S];return v}return[]}function K(u,p){for(let S=1;S<arguments.length;S++){const U=arguments[S];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const F=U.length||0;u.length=v+F;for(let se=0;se<F;se++)u[v+se]=U[se]}else u.push(U)}}class Z{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function ee(u){f.setTimeout(()=>{throw u},0)}function ae(){var u=I;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class ce{constructor(){this.h=this.g=null}add(p,v){const S=me.get();S.set(p,v),this.h?this.h.next=S:this.g=S,this.h=S}}var me=new Z(()=>new Me,u=>u.reset());class Me{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let qe,Ce=!1,I=new ce,C=()=>{const u=Promise.resolve(void 0);qe=()=>{u.then(N)}};function N(){for(var u;u=ae();){try{u.h.call(u.g)}catch(v){ee(v)}var p=me;p.j(u),p.h<100&&(p.h++,u.next=p.g,p.g=u)}Ce=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};f.addEventListener("test",v,p),f.removeEventListener("test",v,p)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ie(u,p){M.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,p)}w(ie,M),ie.prototype.init=function(u,p){const v=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget,p||(v=="mouseover"?p=u.fromElement:v=="mouseout"&&(p=u.toElement)),this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ge="closure_listenable_"+(Math.random()*1e6|0),P=0;function W(u,p,v,S,U){this.listener=u,this.proxy=null,this.src=p,this.type=v,this.capture=!!S,this.ha=U,this.key=++P,this.da=this.fa=!1}function ue(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function oe(u,p,v){for(const S in u)p.call(v,u[S],S,u)}function fe(u,p){for(const v in u)p.call(void 0,u[v],v,u)}function x(u){const p={};for(const v in u)p[v]=u[v];return p}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(u,p){let v,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(v in S)u[v]=S[v];for(let F=0;F<L.length;F++)v=L[F],Object.prototype.hasOwnProperty.call(S,v)&&(u[v]=S[v])}}function le(u){this.src=u,this.g={},this.h=0}le.prototype.add=function(u,p,v,S,U){const F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);const se=we(u,p,S,U);return se>-1?(p=u[se],v||(p.fa=!1)):(p=new W(p,this.src,F,!!S,U),p.fa=v,u.push(p)),p};function be(u,p){const v=p.type;if(v in u.g){var S=u.g[v],U=Array.prototype.indexOf.call(S,p,void 0),F;(F=U>=0)&&Array.prototype.splice.call(S,U,1),F&&(ue(p),u.g[v].length==0&&(delete u.g[v],u.h--))}}function we(u,p,v,S){for(let U=0;U<u.length;++U){const F=u[U];if(!F.da&&F.listener==p&&F.capture==!!v&&F.ha==S)return U}return-1}var Ae="closure_lm_"+(Math.random()*1e6|0),Xe={};function ve(u,p,v,S,U){if(Array.isArray(p)){for(let F=0;F<p.length;F++)ve(u,p[F],v,S,U);return null}return v=Vo(v),u&&u[ge]?u.J(p,v,m(S)?!!S.capture:!1,U):bt(u,p,v,!1,S,U)}function bt(u,p,v,S,U,F){if(!p)throw Error("Invalid event type");const se=m(U)?!!U.capture:!!U;let Ne=br(u);if(Ne||(u[Ae]=Ne=new le(u)),v=Ne.add(p,v,S,se,F),v.proxy)return v;if(S=Jt(),v.proxy=S,S.src=u,S.listener=v,u.addEventListener)O||(U=se),U===void 0&&(U=!1),u.addEventListener(p.toString(),S,U);else if(u.attachEvent)u.attachEvent(fi(p.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Jt(){function u(v){return p.call(u.src,u.listener,v)}const p=Oo;return u}function ha(u,p,v,S,U){if(Array.isArray(p))for(var F=0;F<p.length;F++)ha(u,p[F],v,S,U);else S=m(S)?!!S.capture:!!S,v=Vo(v),u&&u[ge]?(u=u.i,F=String(p).toString(),F in u.g&&(p=u.g[F],v=we(p,v,S,U),v>-1&&(ue(p[v]),Array.prototype.splice.call(p,v,1),p.length==0&&(delete u.g[F],u.h--)))):u&&(u=br(u))&&(p=u.g[p.toString()],u=-1,p&&(u=we(p,v,S,U)),(v=u>-1?p[u]:null)&&fa(v))}function fa(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[ge])be(p.i,u);else{var v=u.type,S=u.proxy;p.removeEventListener?p.removeEventListener(v,S,u.capture):p.detachEvent?p.detachEvent(fi(v),S):p.addListener&&p.removeListener&&p.removeListener(S),(v=br(p))?(be(v,u),v.h==0&&(v.src=null,p[Ae]=null)):ue(u)}}}function fi(u){return u in Xe?Xe[u]:Xe[u]="on"+u}function Oo(u,p){if(u.da)u=!0;else{p=new ie(p,this);const v=u.listener,S=u.ha||u.src;u.fa&&fa(u),u=v.call(S,p)}return u}function br(u){return u=u[Ae],u instanceof le?u:null}var Mo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Vo(u){return typeof u=="function"?u:(u[Mo]||(u[Mo]=function(p){return u.handleEvent(p)}),u[Mo])}function Tt(){k.call(this),this.i=new le(this),this.M=this,this.G=null}w(Tt,k),Tt.prototype[ge]=!0,Tt.prototype.removeEventListener=function(u,p,v,S){ha(this,u,p,v,S)};function Mt(u,p){var v,S=u.G;if(S)for(v=[];S;S=S.G)v.push(S);if(u=u.M,S=p.type||p,typeof p=="string")p=new M(p,u);else if(p instanceof M)p.target=p.target||u;else{var U=p;p=new M(S,u),ne(p,U)}U=!0;let F,se;if(v)for(se=v.length-1;se>=0;se--)F=p.g=v[se],U=_s(F,S,!0,p)&&U;if(F=p.g=u,U=_s(F,S,!0,p)&&U,U=_s(F,S,!1,p)&&U,v)for(se=0;se<v.length;se++)F=p.g=v[se],U=_s(F,S,!1,p)&&U}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var u=this.i;for(const p in u.g){const v=u.g[p];for(let S=0;S<v.length;S++)ue(v[S]);delete u.g[p],u.h--}}this.G=null},Tt.prototype.J=function(u,p,v,S){return this.i.add(String(u),p,!1,v,S)},Tt.prototype.K=function(u,p,v,S){return this.i.add(String(u),p,!0,v,S)};function _s(u,p,v,S){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();let U=!0;for(let F=0;F<p.length;++F){const se=p[F];if(se&&!se.da&&se.capture==v){const Ne=se.listener,gt=se.ha||se.src;se.fa&&be(u.i,se),U=Ne.call(gt,S)!==!1&&U}}return U&&!S.defaultPrevented}function af(u,p){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(u,p||0)}function _c(u){u.g=af(()=>{u.g=null,u.i&&(u.i=!1,_c(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class nn extends k{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:_c(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tr(u){k.call(this),this.h=u,this.g={}}w(Tr,k);var ko=[];function jo(u){oe(u.g,function(p,v){this.g.hasOwnProperty(v)&&fa(p)},u),u.g={}}Tr.prototype.N=function(){Tr.Z.N.call(this),jo(this)},Tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vs=f.JSON.stringify,of=f.JSON.parse,vc=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function bc(){}function Tc(){}var Kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bt(){M.call(this,"d")}w(Bt,M);function On(){M.call(this,"c")}w(On,M);var pt={},Ec=null;function da(){return Ec=Ec||new Tt}pt.Ia="serverreachability";function wc(u){M.call(this,pt.Ia,u)}w(wc,M);function di(u){const p=da();Mt(p,new wc(p))}pt.STAT_EVENT="statevent";function Er(u,p){M.call(this,pt.STAT_EVENT,u),this.stat=p}w(Er,M);function Et(u){const p=da();Mt(p,new Er(p,u))}pt.Ja="timingevent";function mi(u,p){M.call(this,pt.Ja,u),this.size=p}w(mi,M);function pi(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},p)}function Yn(){this.g=!0}Yn.prototype.ua=function(){this.g=!1};function lf(u,p,v,S,U,F){u.info(function(){if(u.g)if(F){var se="",Ne=F.split("&");for(let Ke=0;Ke<Ne.length;Ke++){var gt=Ne[Ke].split("=");if(gt.length>1){const lt=gt[0];gt=gt[1];const jn=lt.split("_");se=jn.length>=2&&jn[1]=="type"?se+(lt+"="+gt+"&"):se+(lt+"=redacted&")}}}else se=null;else se=F;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+p+`
`+v+`
`+se})}function Sc(u,p,v,S,U,F,se){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+p+`
`+v+`
`+F+" "+se})}function gi(u,p,v,S){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+cf(u,v)+(S?" "+S:"")})}function wr(u,p){u.info(function(){return"TIMEOUT: "+p})}Yn.prototype.info=function(){};function cf(u,p){if(!u.g)return p;if(!p)return null;try{const F=JSON.parse(p);if(F){for(u=0;u<F.length;u++)if(Array.isArray(F[u])){var v=F[u];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var U=S[0];if(U!="noop"&&U!="stop"&&U!="close")for(let se=1;se<S.length;se++)S[se]=""}}}}return vs(F)}catch{return p}}var Sr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Lo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Uo;function Ar(){}w(Ar,bc),Ar.prototype.g=function(){return new XMLHttpRequest},Uo=new Ar;function Hi(u){return encodeURIComponent(String(u))}function Ac(u){var p=1;u=u.split(":");const v=[];for(;p>0&&u.length;)v.push(u.shift()),p--;return u.length&&v.push(u.join(":")),v}function Xn(u,p,v,S){this.j=u,this.i=p,this.l=v,this.S=S||1,this.V=new Tr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $n}function $n(){this.i=null,this.g="",this.h=!1}var wt={},jt={};function yi(u,p,v){u.M=1,u.A=xr(At(p)),u.u=v,u.R=!0,ma(u,null)}function ma(u,p){u.F=Date.now(),_i(u),u.B=At(u.A);var v=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),_a(v.i,"t",S),u.C=0,v=u.j.L,u.h=new $n,u.g=zc(u.j,v?p:null,!u.u),u.P>0&&(u.O=new nn(y(u.Y,u,u.g),u.P)),p=u.V,v=u.g,S=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(ko[0]=U.toString()),U=ko);for(let F=0;F<U.length;F++){const se=ve(v,U[F],S||p.handleEvent,!1,p.h||p);if(!se)break;p.g[se.key]=se}p=u.J?x(u.J):{},u.u?(u.v||(u.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,p)):(u.v="GET",u.g.ea(u.B,u.v,null,p)),di(),lf(u.i,u.v,u.B,u.l,u.S,u.u)}Xn.prototype.ba=function(u){u=u.target;const p=this.O;p&&Wn(u)==3?p.j():this.Y(u)},Xn.prototype.Y=function(u){try{if(u==this.g)e:{const Ne=Wn(this.g),gt=this.g.ya(),Ke=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||qt(this.g)))){this.K||Ne!=4||gt==7||(gt==8||Ke<=0?di(3):di(2)),vi(this);var p=this.g.ca();this.X=p;var v=uf(this);if(this.o=p==200,Sc(this.i,this.v,this.B,this.l,this.S,Ne,p),this.o){if(this.U&&!this.L){t:{if(this.g){var S,U=this.g;if((S=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(S)){var F=S;break t}}F=null}if(u=F)gi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,bi(this,u);else{this.o=!1,this.m=3,Et(12),_n(this),Mn(this);break e}}if(this.R){u=!0;let lt;for(;!this.K&&this.C<v.length;)if(lt=Rc(this,v),lt==jt){Ne==4&&(this.m=4,Et(14),u=!1),gi(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==wt){this.m=4,Et(15),gi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else gi(this.i,this.l,lt,null),bi(this,lt);if(xc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||v.length!=0||this.h.h||(this.m=1,Et(16),u=!1),this.o=this.o&&u,!u)gi(this.i,this.l,v,"[Invalid Chunked Response]"),_n(this),Mn(this);else if(v.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Wo(se),se.P=!0,Et(11))}}else gi(this.i,this.l,v,null),bi(this,v);Ne==4&&_n(this),this.o&&!this.K&&(Ne==4?jc(this.j,this):(this.o=!1,_i(this)))}else Gi(this.g),p==400&&v.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),_n(this),Mn(this)}}}catch{}};function uf(u){if(!xc(u))return u.g.la();const p=qt(u.g);if(p==="")return"";let v="";const S=p.length,U=Wn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return _n(u),Mn(u),"";u.h.i=new f.TextDecoder}for(let F=0;F<S;F++)u.h.h=!0,v+=u.h.i.decode(p[F],{stream:!(U&&F==S-1)});return p.length=0,u.h.g+=v,u.C=0,u.h.g}function xc(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Rc(u,p){var v=u.C,S=p.indexOf(`
`,v);return S==-1?jt:(v=Number(p.substring(v,S)),isNaN(v)?wt:(S+=1,S+v>p.length?jt:(p=p.slice(S,S+v),u.C=S+v,p)))}Xn.prototype.cancel=function(){this.K=!0,_n(this)};function _i(u){u.T=Date.now()+u.H,pa(u,u.H)}function pa(u,p){if(u.D!=null)throw Error("WatchDog timer not null");u.D=pi(y(u.aa,u),p)}function vi(u){u.D&&(f.clearTimeout(u.D),u.D=null)}Xn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(wr(this.i,this.B),this.M!=2&&(di(),Et(17)),_n(this),this.m=2,Mn(this)):pa(this,this.T-u)};function Mn(u){u.j.I==0||u.K||jc(u.j,u)}function _n(u){vi(u);var p=u.O;p&&typeof p.dispose=="function"&&p.dispose(),u.O=null,jo(u.V),u.g&&(p=u.g,u.g=null,p.abort(),p.dispose())}function bi(u,p){try{var v=u.j;if(v.I!=0&&(v.g==u||Ei(v.h,u))){if(!u.L&&Ei(v.h,u)&&v.I==3){try{var S=v.Ba.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)wa(v),Rs(v);else break e;Mr(v),Et(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=pi(y(v.Va,v),6e3));Ti(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ii(v,11)}else if((u.L||v.g==u)&&wa(v),!R(p))for(U=v.Ba.g.parse(p),p=0;p<U.length;p++){let Ke=U[p];const lt=Ke[0];if(!(lt<=v.K))if(v.K=lt,Ke=Ke[1],v.I==2)if(Ke[0]=="c"){v.M=Ke[1],v.ba=Ke[2];const jn=Ke[3];jn!=null&&(v.ka=jn,v.j.info("VER="+v.ka));const Ci=Ke[4];Ci!=null&&(v.za=Ci,v.j.info("SVER="+v.za));const ei=Ke[5];ei!=null&&typeof ei=="number"&&ei>0&&(S=1.5*ei,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const ti=u.g;if(ti){const Vr=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vr){var F=S.h;F.g||Vr.indexOf("spdy")==-1&&Vr.indexOf("quic")==-1&&Vr.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Bo(F,F.h),F.h=null))}if(S.G){const Sa=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;Sa&&(S.wa=Sa,$e(S.J,S.G,Sa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var se=u;if(S.na=Pc(S,S.L?S.ba:null,S.W),se.L){qo(S.h,se);var Ne=se,gt=S.O;gt&&(Ne.H=gt),Ne.D&&(vi(Ne),_i(Ne)),S.g=se}else Vc(S);v.i.length>0&&Ri(v)}else Ke[0]!="stop"&&Ke[0]!="close"||Ii(v,7);else v.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Ii(v,7):Jo(v):Ke[0]!="noop"&&v.l&&v.l.qa(Ke),v.A=0)}}di(4)}catch{}}var St=class{constructor(u,p){this.g=u,this.map=p}};function Po(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function zo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ti(u){return u.h?1:u.g?u.g.size:0}function Ei(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Bo(u,p){u.g?u.g.add(p):u.h=p}function qo(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Po.prototype.cancel=function(){if(this.i=Ho(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ho(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const v of u.g.values())p=p.concat(v.G);return p}return q(u.i)}var Ic=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ga(u,p){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const S=u[v].indexOf("=");let U,F=null;S>=0?(U=u[v].substring(0,S),F=u[v].substring(S+1)):U=u[v],p(U,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function vn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;u instanceof vn?(this.l=u.l,Lt(this,u.j),this.o=u.o,this.g=u.g,bs(this,u.u),this.h=u.h,Fo(this,Oc(u.i)),this.m=u.m):u&&(p=String(u).match(Ic))?(this.l=!1,Lt(this,p[1]||"",!0),this.o=wi(p[2]||""),this.g=wi(p[3]||"",!0),bs(this,p[4]),this.h=wi(p[5]||"",!0),Fo(this,p[6]||"",!0),this.m=wi(p[7]||"")):(this.l=!1,this.i=new Es(null,this.l))}vn.prototype.toString=function(){const u=[];var p=this.j;p&&u.push(Rr(p,ya,!0),":");var v=this.g;return(v||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Rr(p,ya,!0),"@"),u.push(Hi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Rr(v,v.charAt(0)=="/"?Go:Cc,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Rr(v,Nc)),u.join("")},vn.prototype.resolve=function(u){const p=At(this);let v=!!u.j;v?Lt(p,u.j):v=!!u.o,v?p.o=u.o:v=!!u.g,v?p.g=u.g:v=u.u!=null;var S=u.h;if(v)bs(p,u.u);else if(v=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var U=p.h.lastIndexOf("/");U!=-1&&(S=p.h.slice(0,U+1)+S)}if(U=S,U==".."||U==".")S="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){S=U.lastIndexOf("/",0)==0,U=U.split("/");const F=[];for(let se=0;se<U.length;){const Ne=U[se++];Ne=="."?S&&se==U.length&&F.push(""):Ne==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),S&&se==U.length&&F.push("")):(F.push(Ne),S=!0)}S=F.join("/")}else S=U}return v?p.h=S:v=u.i.toString()!=="",v?Fo(p,Oc(u.i)):v=!!u.m,v&&(p.m=u.m),p};function At(u){return new vn(u)}function Lt(u,p,v){u.j=v?wi(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function bs(u,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);u.u=p}else u.u=null}function Fo(u,p,v){p instanceof Es?(u.i=p,va(u.i,u.l)):(v||(p=Rr(p,Ts)),u.i=new Es(p,u.l))}function $e(u,p,v){u.i.set(p,v)}function xr(u){return $e(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function wi(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Rr(u,p,v){return typeof u=="string"?(u=encodeURI(u).replace(p,un),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function un(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ya=/[#\/\?@]/g,Cc=/[#\?:]/g,Go=/[#\?]/g,Ts=/[#\?@]/g,Nc=/#/g;function Es(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function hn(u){u.g||(u.g=new Map,u.h=0,u.i&&ga(u.i,function(p,v){u.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}s=Es.prototype,s.add=function(u,p){hn(this),this.i=null,u=ws(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(p),this.h+=1,this};function Dc(u,p){hn(u),p=ws(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Qo(u,p){return hn(u),p=ws(u,p),u.g.has(p)}s.forEach=function(u,p){hn(this),this.g.forEach(function(v,S){v.forEach(function(U){u.call(p,U,S,this)},this)},this)};function Ko(u,p){hn(u);let v=[];if(typeof p=="string")Qo(u,p)&&(v=v.concat(u.g.get(ws(u,p))));else for(u=Array.from(u.g.values()),p=0;p<u.length;p++)v=v.concat(u[p]);return v}s.set=function(u,p){return hn(this),this.i=null,u=ws(this,u),Qo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},s.get=function(u,p){return u?(u=Ko(this,u),u.length>0?String(u[0]):p):p};function _a(u,p,v){Dc(u,p),v.length>0&&(u.i=null,u.g.set(ws(u,p),q(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(let S=0;S<p.length;S++){var v=p[S];const U=Hi(v);v=Ko(this,v);for(let F=0;F<v.length;F++){let se=U;v[F]!==""&&(se+="="+Hi(v[F])),u.push(se)}}return this.i=u.join("&")};function Oc(u){const p=new Es;return p.i=u.i,u.g&&(p.g=new Map(u.g),p.h=u.h),p}function ws(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function va(u,p){p&&!u.j&&(hn(u),u.i=null,u.g.forEach(function(v,S){const U=S.toLowerCase();S!=U&&(Dc(this,S),_a(this,U,v))},u)),u.j=p}function Jn(u,p){const v=new Yn;if(f.Image){const S=new Image;S.onload=E(Vn,v,"TestLoadImage: loaded",!0,p,S),S.onerror=E(Vn,v,"TestLoadImage: error",!1,p,S),S.onabort=E(Vn,v,"TestLoadImage: abort",!1,p,S),S.ontimeout=E(Vn,v,"TestLoadImage: timeout",!1,p,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else p(!1)}function Yo(u,p){const v=new Yn,S=new AbortController,U=setTimeout(()=>{S.abort(),Vn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:S.signal}).then(F=>{clearTimeout(U),F.ok?Vn(v,"TestPingServer: ok",!0,p):Vn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(U),Vn(v,"TestPingServer: error",!1,p)})}function Vn(u,p,v,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(v)}catch{}}function Ss(){this.g=new vc}function Si(u){this.i=u.Sb||null,this.h=u.ab||!1}w(Si,bc),Si.prototype.g=function(){return new Ir(this.i,this.h)};function Ir(u,p){Tt.call(this),this.H=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Ir,Tt),s=Ir.prototype,s.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=p,this.readyState=1,Zn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(p.body=u),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,As(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ba(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ba(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?As(this):Zn(this),this.readyState==3&&ba(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,As(this))},s.Na=function(u){this.g&&(this.response=u,As(this))},s.ga=function(){this.g&&As(this)};function As(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Zn(u)}s.setRequestHeader=function(u,p){this.A.append(u,p)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=p.next();return u.join(`\r
`)};function Zn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ir.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function kn(u){let p="";return oe(u,function(v,S){p+=S,p+=":",p+=v,p+=`\r
`}),p}function Cr(u,p,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=kn(v),typeof u=="string"?v!=null&&Hi(v):$e(u,p,v))}function We(u){Tt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(We,Tt);var Ai=/^https?$/i,Xo=["POST","PUT"];s=We.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,p,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Uo.g(),this.g.onreadystatechange=A(y(this.Ca,this));try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(F){Nr(this,F);return}if(u=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)v.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const F of S.keys())v.set(F,S.get(F));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(F=>F.toLowerCase()=="content-type"),U=f.FormData&&u instanceof f.FormData,!(Array.prototype.indexOf.call(Xo,p,void 0)>=0)||S||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,se]of v)this.g.setRequestHeader(F,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(F){Nr(this,F)}};function Nr(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.o=5,$o(u),Fi(u)}function $o(u){u.A||(u.A=!0,Mt(u,"complete"),Mt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Mt(this,"complete"),Mt(this,"abort"),Fi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fi(this,!0)),We.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Dr(this):this.Xa())},s.Xa=function(){Dr(this)};function Dr(u){if(u.h&&typeof c<"u"){if(u.v&&Wn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Mt(u,"readystatechange"),Wn(u)==4){u.h=!1;try{const F=u.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var S;if(S=F===0){let se=String(u.D).match(Ic)[1]||null;!se&&f.self&&f.self.location&&(se=f.self.location.protocol.slice(0,-1)),S=!Ai.test(se?se.toLowerCase():"")}v=S}if(v)Mt(u,"complete"),Mt(u,"success");else{u.o=6;try{var U=Wn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",$o(u)}}finally{Fi(u)}}}}function Fi(u,p){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,p||Mt(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Wn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Wn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),of(p)}};function qt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Gi(u){const p={};u=(u.g&&Wn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(R(u[S]))continue;var v=Ac(u[S]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const F=p[U]||[];p[U]=F,F.push(v)}fe(p,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xi(u,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||p}function xs(u){this.za=0,this.i=[],this.j=new Yn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xi("baseRetryDelayMs",5e3,u),this.Za=xi("retryDelaySeedMs",1e4,u),this.Ta=xi("forwardChannelMaxRetries",2,u),this.va=xi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Po(u&&u.concurrentRequestLimit),this.Ba=new Ss,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=xs.prototype,s.ka=8,s.I=1,s.connect=function(u,p,v,S){Et(0),this.W=u,this.H=p||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Pc(this,null,this.W),Ri(this)};function Jo(u){if(Ta(u),u.I==3){var p=u.V++,v=At(u.J);if($e(v,"SID",u.M),$e(v,"RID",p),$e(v,"TYPE","terminate"),Or(u,v),p=new Xn(u,u.j,p),p.M=2,p.A=xr(At(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=p.A,v=!0),v||(p.g=zc(p.j,null),p.g.ea(p.A)),p.F=Date.now(),_i(p)}Uc(u)}function Rs(u){u.g&&(Wo(u),u.g.cancel(),u.g=null)}function Ta(u){Rs(u),u.v&&(f.clearTimeout(u.v),u.v=null),wa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&f.clearTimeout(u.m),u.m=null)}function Ri(u){if(!zo(u.h)&&!u.m){u.m=!0;var p=u.Ea;qe||C(),Ce||(qe(),Ce=!0),I.add(p,u),u.D=0}}function Ea(u,p){return Ti(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=p.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=pi(y(u.Ea,u,p),Lc(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Xn(this,this.j,u);let F=this.o;if(this.U&&(F?(F=x(F),ne(F,this.U)):F=this.U),this.u!==null||this.R||(U.J=F,F=null),this.S)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(p+=S,p>4096){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=Mc(this,U,p),v=At(this.J),$e(v,"RID",u),$e(v,"CVER",22),this.G&&$e(v,"X-HTTP-Session-Id",this.G),Or(this,v),F&&(this.R?p="headers="+Hi(kn(F))+"&"+p:this.u&&Cr(v,this.u,F)),Bo(this.h,U),this.Ra&&$e(v,"TYPE","init"),this.S?($e(v,"$req",p),$e(v,"SID","null"),U.U=!0,yi(U,v,null)):yi(U,v,p),this.I=2}}else this.I==3&&(u?Zo(this,u):this.i.length==0||zo(this.h)||Zo(this))};function Zo(u,p){var v;p?v=p.l:v=u.V++;const S=At(u.J);$e(S,"SID",u.M),$e(S,"RID",v),$e(S,"AID",u.K),Or(u,S),u.u&&u.o&&Cr(S,u.u,u.o),v=new Xn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),p&&(u.i=p.G.concat(u.i)),p=Mc(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Bo(u.h,v),yi(v,S,p)}function Or(u,p){u.H&&oe(u.H,function(v,S){$e(p,S,v)}),u.l&&oe({},function(v,S){$e(p,S,v)})}function Mc(u,p,v){v=Math.min(u.i.length,v);const S=u.l?y(u.l.Ka,u.l,u):null;e:{var U=u.i;let Ne=-1;for(;;){const gt=["count="+v];Ne==-1?v>0?(Ne=U[0].g,gt.push("ofs="+Ne)):Ne=0:gt.push("ofs="+Ne);let Ke=!0;for(let lt=0;lt<v;lt++){var F=U[lt].g;const jn=U[lt].map;if(F-=Ne,F<0)Ne=Math.max(0,U[lt].g-100),Ke=!1;else try{F="req"+F+"_"||"";try{var se=jn instanceof Map?jn:Object.entries(jn);for(const[Ci,ei]of se){let ti=ei;m(ei)&&(ti=vs(ei)),gt.push(F+Ci+"="+encodeURIComponent(ti))}}catch(Ci){throw gt.push(F+"type="+encodeURIComponent("_badmap")),Ci}}catch{S&&S(jn)}}if(Ke){se=gt.join("&");break e}}se=void 0}return u=u.i.splice(0,v),p.G=u,se}function Vc(u){if(!u.g&&!u.v){u.Y=1;var p=u.Da;qe||C(),Ce||(qe(),Ce=!0),I.add(p,u),u.A=0}}function Mr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=pi(y(u.Da,u),Lc(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,kc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=pi(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),Rs(this),kc(this))};function Wo(u){u.B!=null&&(f.clearTimeout(u.B),u.B=null)}function kc(u){u.g=new Xn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var p=At(u.na);$e(p,"RID","rpc"),$e(p,"SID",u.M),$e(p,"AID",u.K),$e(p,"CI",u.F?"0":"1"),!u.F&&u.ia&&$e(p,"TO",u.ia),$e(p,"TYPE","xmlhttp"),Or(u,p),u.u&&u.o&&Cr(p,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=xr(At(p)),v.u=null,v.R=!0,ma(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Rs(this),Mr(this),Et(19))};function wa(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function jc(u,p){var v=null;if(u.g==p){wa(u),Wo(u),u.g=null;var S=2}else if(Ei(u.h,p))v=p.G,qo(u.h,p),S=1;else return;if(u.I!=0){if(p.o)if(S==1){v=p.u?p.u.length:0,p=Date.now()-p.F;var U=u.D;S=da(),Mt(S,new mi(S,v)),Ri(u)}else Vc(u);else if(U=p.m,U==3||U==0&&p.X>0||!(S==1&&Ea(u,p)||S==2&&Mr(u)))switch(v&&v.length>0&&(p=u.h,p.i=p.i.concat(v)),U){case 1:Ii(u,5);break;case 4:Ii(u,10);break;case 3:Ii(u,6);break;default:Ii(u,2)}}}function Lc(u,p){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*p}function Ii(u,p){if(u.j.info("Error code "+p),p==2){var v=y(u.bb,u),S=u.Ua;const U=!S;S=new vn(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Lt(S,"https"),xr(S),U?Jn(S.toString(),v):Yo(S.toString(),v)}else Et(2);u.I=0,u.l&&u.l.pa(p),Uc(u),Ta(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Uc(u){if(u.I=0,u.ja=[],u.l){const p=Ho(u.h);(p.length!=0||u.i.length!=0)&&(K(u.ja,p),K(u.ja,u.i),u.h.i.length=0,q(u.i),u.i.length=0),u.l.oa()}}function Pc(u,p,v){var S=v instanceof vn?At(v):new vn(v);if(S.g!="")p&&(S.g=p+"."+S.g),bs(S,S.u);else{var U=f.location;S=U.protocol,p=p?p+"."+U.hostname:U.hostname,U=+U.port;const F=new vn(null);S&&Lt(F,S),p&&(F.g=p),U&&bs(F,U),v&&(F.h=v),S=F}return v=u.G,p=u.wa,v&&p&&$e(S,v,p),$e(S,"VER",u.ka),Or(u,S),S}function zc(u,p,v){if(p&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Aa&&!u.ma?new We(new Si({ab:v})):new We(u.ma),p.Fa(u.L),p}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bc(){}s=Bc.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Is(){}Is.prototype.g=function(u,p){return new sn(u,p)};function sn(u,p){Tt.call(this),this.g=new xs(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(u?u["X-WebChannel-Client-Profile"]=p.sa:u={"X-WebChannel-Client-Profile":p.sa}),this.g.U=u,(u=p&&p.Qb)&&!R(u)&&(this.g.u=u),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!R(p)&&(this.g.G=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Qi(this)}w(sn,Tt),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Jo(this.g)},sn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=vs(u),u=v);p.i.push(new St(p.Ya++,u)),p.I==3&&Ri(p)},sn.prototype.N=function(){this.g.l=null,delete this.j,Jo(this.g),delete this.g,sn.Z.N.call(this)};function qc(u){Bt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const v in p){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}w(qc,Bt);function Hc(){On.call(this),this.status=1}w(Hc,On);function Qi(u){this.g=u}w(Qi,Bc),Qi.prototype.ra=function(){Mt(this.g,"a")},Qi.prototype.qa=function(u){Mt(this.g,new qc(u))},Qi.prototype.pa=function(u){Mt(this.g,new Hc)},Qi.prototype.oa=function(){Mt(this.g,"b")},Is.prototype.createWebChannel=Is.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,yT=function(){return new Is},gT=function(){return da()},pT=pt,Om={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Sr.NO_ERROR=0,Sr.TIMEOUT=8,Sr.HTTP_ERROR=6,eh=Sr,Lo.COMPLETE="complete",mT=Lo,Tc.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,Pl=Tc,We.prototype.listenOnce=We.prototype.K,We.prototype.getLastError=We.prototype.Ha,We.prototype.getLastErrorCode=We.prototype.ya,We.prototype.getStatus=We.prototype.ca,We.prototype.getResponseJson=We.prototype.La,We.prototype.getResponseText=We.prototype.la,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Fa,dT=We}).apply(typeof Ku<"u"?Ku:typeof self<"u"?self:typeof window<"u"?window:{});class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");let So="12.8.0";function MI(s){So=s}const sa=new Vh("@firebase/firestore");function to(){return sa.logLevel}function he(s,...e){if(sa.logLevel<=Ue.DEBUG){const n=e.map(cp);sa.debug(`Firestore (${So}): ${s}`,...n)}}function ds(s,...e){if(sa.logLevel<=Ue.ERROR){const n=e.map(cp);sa.error(`Firestore (${So}): ${s}`,...n)}}function mo(s,...e){if(sa.logLevel<=Ue.WARN){const n=e.map(cp);sa.warn(`Firestore (${So}): ${s}`,...n)}}function cp(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function Te(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,_T(s,r,n)}function _T(s,e,n){let r=`FIRESTORE (${So}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ds(r),new Error(r)}function Fe(s,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||_T(e,o,r)}function Re(s,e){return s}const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends hi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ki{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class vT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(en.UNAUTHENTICATED)))}shutdown(){}}class kI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class jI{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let c=new ki;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ki,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ki)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Fe(typeof r.accessToken=="string",31837,{l:r}),new vT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new en(e)}}class LI{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=en.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class UI{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new LI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class rv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ai(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const r=c=>{c.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,he("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new rv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new rv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function zI(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class up{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=zI(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<n&&(r+=e.charAt(o[c]%62))}return r}}function Pe(s,e){return s<e?-1:s>e?1:0}function Mm(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const o=s.charAt(r),c=e.charAt(r);if(o!==c)return _m(o)===_m(c)?Pe(o,c):_m(o)?1:-1}return Pe(s.length,e.length)}const BI=55296,qI=57343;function _m(s){const e=s.charCodeAt(0);return e>=BI&&e<=qI}function po(s,e,n){return s.length===e.length&&s.every(((r,o)=>n(r,e[o])))}const av="__name__";class Vi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Te(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Vi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const c=Vi.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Pe(e.length,n.length)}static compareSegments(e,n){const r=Vi.isNumericId(e),o=Vi.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Vi.extractNumericId(e).compare(Vi.extractNumericId(n)):Mm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ar.fromString(e.substring(4,e.length-2))}}class it extends Vi{construct(e,n,r){return new it(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new re(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new it(n)}static emptyPath(){return new it([])}}const HI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Vi{construct(e,n,r){return new Yt(e,n,r)}static isValidIdentifier(e){return HI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===av}static keyField(){return new Yt([av])}static fromServerFormat(e){const n=[];let r="",o=0;const c=()=>{if(r.length===0)throw new re(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new re(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new re(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(r+=m,o++):(c(),o++)}if(c(),f)throw new re(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(it.fromString(e))}static fromName(e){return new ye(it.fromString(e).popFirst(5))}static empty(){return new ye(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new it(e.slice()))}}function bT(s,e,n){if(!n)throw new re(Y.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function FI(s,e,n,r){if(e===!0&&r===!0)throw new re(Y.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function ov(s){if(!ye.isDocumentKey(s))throw new re(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function lv(s){if(ye.isDocumentKey(s))throw new re(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function TT(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Lh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Te(12329,{type:typeof s})}function Nn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new re(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lh(s);throw new re(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function Ot(s,e){const n={typeString:s};return e&&(n.value=e),n}function lc(s,e){if(!TT(s))throw new re(Y.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const f=s[r];if(o&&typeof f!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&f!==c.value){n=`Expected '${r}' field to equal '${c.value}'`;break}}if(n)throw new re(Y.INVALID_ARGUMENT,n);return!0}const cv=-62135596800,uv=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*uv);return new ot(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new re(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new re(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<cv)throw new re(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/uv}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(lc(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-cv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:Ot("string",ot._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new ot(0,0))}static max(){return new Se(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Jl=-1;function GI(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(r===1e9?new ot(n+1,0):new ot(n,r));return new ur(o,ye.empty(),e)}function QI(s){return new ur(s.readTime,s.key,Jl)}class ur{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ur(Se.min(),ye.empty(),Jl)}static max(){return new ur(Se.max(),ye.empty(),Jl)}}function KI(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(s.documentKey,e.documentKey),n!==0?n:Pe(s.largestBatchId,e.largestBatchId))}const YI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ao(s){if(s.code!==Y.FAILED_PRECONDITION||s.message!==YI)throw s;he("LocalStore","Unexpectedly lost primary lease")}class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):J.reject(n)}static resolve(e){return new J(((n,r)=>{n(e)}))}static reject(e){return new J(((n,r)=>{r(e)}))}static waitFor(e){return new J(((n,r)=>{let o=0,c=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++c,f&&c===o&&n()}),(g=>r(g)))})),f=!0,c===o&&n()}))}static or(e){let n=J.resolve(!1);for(const r of e)n=n.next((o=>o?J.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,c)=>{r.push(n.call(this,o,c))})),this.waitFor(r)}static mapArray(e,n){return new J(((r,o)=>{const c=e.length,f=new Array(c);let m=0;for(let g=0;g<c;g++){const y=g;n(e[y]).next((E=>{f[y]=E,++m,m===c&&r(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new J(((r,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):r()};c()}))}}function $I(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xo(s){return s.name==="IndexedDbTransactionError"}class Uh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Uh.ce=-1;const hp=-1;function cc(s){return s==null}function mh(s){return s===0&&1/s==-1/0}function JI(s){return typeof s=="number"&&Number.isInteger(s)&&!mh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const ET="";function ZI(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=hv(e)),e=WI(s.get(n),e);return hv(e)}function WI(s,e){let n=e;const r=s.length;for(let o=0;o<r;o++){const c=s.charAt(o);switch(c){case"\0":n+="";break;case ET:n+="";break;default:n+=c}}return n}function hv(s){return s+ET+""}function fv(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function _r(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function wT(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class ht{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yu(this.root,e,this.comparator,!0)}}class Yu{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?r(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,r,o,c){this.key=e,this.value=n,this.color=r??Kt.RED,this.left=o??Kt.EMPTY,this.right=c??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,c){return new Kt(e??this.key,n??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,r),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,r,o,c){return this}insert(e,n,r){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new dv(this.data.getIterator())}getIteratorFrom(e){return new dv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class dv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class In{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new In([])}unionWith(e){let n=new kt(Yt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new In(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return po(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class ST extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new ST("Invalid base64 string: "+c):c}})(e);return new $t(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c})(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const e2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hr(s){if(Fe(!!s,39018),typeof s=="string"){let e=0;const n=e2.exec(s);if(Fe(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vt(s.seconds),nanos:vt(s.nanos)}}function vt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function fr(s){return typeof s=="string"?$t.fromBase64String(s):$t.fromUint8Array(s)}const AT="server_timestamp",xT="__type__",RT="__previous_value__",IT="__local_write_time__";function fp(s){return(s?.mapValue?.fields||{})[xT]?.stringValue===AT}function Ph(s){const e=s.mapValue.fields[RT];return fp(e)?Ph(e):e}function Zl(s){const e=hr(s.mapValue.fields[IT].timestampValue);return new ot(e.seconds,e.nanos)}class t2{constructor(e,n,r,o,c,f,m,g,y,E,w){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E,this.apiKey=w}}const ph="(default)";class Wl{constructor(e,n){this.projectId=e,this.database=n||ph}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database===ph}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}function n2(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new re(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(s.options.projectId,e)}const CT="__type__",i2="__max__",Xu={mapValue:{}},NT="__vector__",gh="value";function dr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?fp(s)?4:r2(s)?9007199254740991:s2(s)?10:11:Te(28295,{value:s})}function Bi(s,e){if(s===e)return!0;const n=dr(s);if(n!==dr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Zl(s).isEqual(Zl(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=hr(o.timestampValue),m=hr(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return fr(o.bytesValue).isEqual(fr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return vt(o.geoPointValue.latitude)===vt(c.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return vt(o.integerValue)===vt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=vt(o.doubleValue),m=vt(c.doubleValue);return f===m?mh(f)===mh(m):isNaN(f)&&isNaN(m)}return!1})(s,e);case 9:return po(s.arrayValue.values||[],e.arrayValue.values||[],Bi);case 10:case 11:return(function(o,c){const f=o.mapValue.fields||{},m=c.mapValue.fields||{};if(fv(f)!==fv(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Bi(f[g],m[g])))return!1;return!0})(s,e);default:return Te(52216,{left:s})}}function ec(s,e){return(s.values||[]).find((n=>Bi(n,e)))!==void 0}function go(s,e){if(s===e)return 0;const n=dr(s),r=dr(e);if(n!==r)return Pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(s.booleanValue,e.booleanValue);case 2:return(function(c,f){const m=vt(c.integerValue||c.doubleValue),g=vt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(s,e);case 3:return mv(s.timestampValue,e.timestampValue);case 4:return mv(Zl(s),Zl(e));case 5:return Mm(s.stringValue,e.stringValue);case 6:return(function(c,f){const m=fr(c),g=fr(f);return m.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(c,f){const m=c.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=Pe(m[y],g[y]);if(E!==0)return E}return Pe(m.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,f){const m=Pe(vt(c.latitude),vt(f.latitude));return m!==0?m:Pe(vt(c.longitude),vt(f.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return pv(s.arrayValue,e.arrayValue);case 10:return(function(c,f){const m=c.fields||{},g=f.fields||{},y=m[gh]?.arrayValue,E=g[gh]?.arrayValue,w=Pe(y?.values?.length||0,E?.values?.length||0);return w!==0?w:pv(y,E)})(s.mapValue,e.mapValue);case 11:return(function(c,f){if(c===Xu.mapValue&&f===Xu.mapValue)return 0;if(c===Xu.mapValue)return 1;if(f===Xu.mapValue)return-1;const m=c.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let w=0;w<g.length&&w<E.length;++w){const A=Mm(g[w],E[w]);if(A!==0)return A;const q=go(m[g[w]],y[E[w]]);if(q!==0)return q}return Pe(g.length,E.length)})(s.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function mv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Pe(s,e);const n=hr(s),r=hr(e),o=Pe(n.seconds,r.seconds);return o!==0?o:Pe(n.nanos,r.nanos)}function pv(s,e){const n=s.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const c=go(n[o],r[o]);if(c)return c}return Pe(n.length,r.length)}function yo(s){return Vm(s)}function Vm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=hr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return fr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return ye.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",o=!0;for(const c of n.values||[])o?o=!1:r+=",",r+=Vm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const f of r)c?c=!1:o+=",",o+=`${f}:${Vm(n.fields[f])}`;return o+"}"})(s.mapValue):Te(61005,{value:s})}function th(s){switch(dr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ph(s);return e?16+th(e):16;case 5:return 2*s.stringValue.length;case 6:return fr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+th(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return _r(r.fields,((c,f)=>{o+=c.length+th(f)})),o})(s.mapValue);default:throw Te(13486,{value:s})}}function gv(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function km(s){return!!s&&"integerValue"in s}function dp(s){return!!s&&"arrayValue"in s}function yv(s){return!!s&&"nullValue"in s}function _v(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function nh(s){return!!s&&"mapValue"in s}function s2(s){return(s?.mapValue?.fields||{})[CT]?.stringValue===NT}function Fl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return _r(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Fl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fl(s.arrayValue.values[n]);return e}return{...s}}function r2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===i2}class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!nh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fl(n)}setAll(e){let n=Yt.emptyPath(),r={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,r,o),r={},o=[],n=m.popLast()}f?r[m.lastSegment()]=Fl(f):o.push(m.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,r,o)}delete(e){const n=this.field(e.popLast());nh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];nh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){_r(n,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new on(Fl(this.value))}}function DT(s){const e=[];return _r(s.fields,((n,r)=>{const o=new Yt([n]);if(nh(r)){const c=DT(r.mapValue).fields;if(c.length===0)e.push(o);else for(const f of c)e.push(o.child(f))}else e.push(o)})),new In(e)}class zt{constructor(e,n,r,o,c,f,m){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=c,this.data=f,this.documentState=m}static newInvalidDocument(e){return new zt(e,0,Se.min(),Se.min(),Se.min(),on.empty(),0)}static newFoundDocument(e,n,r,o){return new zt(e,1,n,Se.min(),r,o,0)}static newNoDocument(e,n){return new zt(e,2,n,Se.min(),Se.min(),on.empty(),0)}static newUnknownDocument(e,n){return new zt(e,3,n,Se.min(),Se.min(),on.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class yh{constructor(e,n){this.position=e,this.inclusive=n}}function vv(s,e,n){let r=0;for(let o=0;o<s.position.length;o++){const c=e[o],f=s.position[o];if(c.field.isKeyField()?r=ye.comparator(ye.fromName(f.referenceValue),n.key):r=go(f,n.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function bv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Bi(s.position[n],e.position[n]))return!1;return!0}class tc{constructor(e,n="asc"){this.field=e,this.dir=n}}function a2(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class OT{}class Dt extends OT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new l2(e,n,r):n==="array-contains"?new h2(e,r):n==="in"?new f2(e,r):n==="not-in"?new d2(e,r):n==="array-contains-any"?new m2(e,r):new Dt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new c2(e,r):new u2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(go(n,this.value)):n!==null&&dr(this.value)===dr(n)&&this.matchesComparison(go(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ui extends OT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ui(e,n)}matches(e){return MT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function MT(s){return s.op==="and"}function VT(s){return o2(s)&&MT(s)}function o2(s){for(const e of s.filters)if(e instanceof ui)return!1;return!0}function jm(s){if(s instanceof Dt)return s.field.canonicalString()+s.op.toString()+yo(s.value);if(VT(s))return s.filters.map((e=>jm(e))).join(",");{const e=s.filters.map((n=>jm(n))).join(",");return`${s.op}(${e})`}}function kT(s,e){return s instanceof Dt?(function(r,o){return o instanceof Dt&&r.op===o.op&&r.field.isEqual(o.field)&&Bi(r.value,o.value)})(s,e):s instanceof ui?(function(r,o){return o instanceof ui&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,f,m)=>c&&kT(f,o.filters[m])),!0):!1})(s,e):void Te(19439)}function jT(s){return s instanceof Dt?(function(n){return`${n.field.canonicalString()} ${n.op} ${yo(n.value)}`})(s):s instanceof ui?(function(n){return n.op.toString()+" {"+n.getFilters().map(jT).join(" ,")+"}"})(s):"Filter"}class l2 extends Dt{constructor(e,n,r){super(e,n,r),this.key=ye.fromName(r.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class c2 extends Dt{constructor(e,n){super(e,"in",n),this.keys=LT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class u2 extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=LT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function LT(s,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class h2 extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return dp(n)&&ec(n.arrayValue,this.value)}}class f2 extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ec(this.value.arrayValue,n)}}class d2 extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ec(this.value.arrayValue,n)}}class m2 extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!dp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>ec(this.value.arrayValue,r)))}}class p2{constructor(e,n=null,r=[],o=[],c=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=f,this.endAt=m,this.Te=null}}function Tv(s,e=null,n=[],r=[],o=null,c=null,f=null){return new p2(s,e,n,r,o,c,f)}function mp(s){const e=Re(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>jm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),cc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>yo(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>yo(r))).join(",")),e.Te=n}return e.Te}function pp(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!a2(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!kT(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!bv(s.startAt,e.startAt)&&bv(s.endAt,e.endAt)}function Lm(s){return ye.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Ro{constructor(e,n=null,r=[],o=[],c=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function g2(s,e,n,r,o,c,f,m){return new Ro(s,e,n,r,o,c,f,m)}function zh(s){return new Ro(s)}function Ev(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function y2(s){return ye.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function UT(s){return s.collectionGroup!==null}function Gl(s){const e=Re(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new kt(Yt.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new tc(c,r))})),n.has(Yt.keyField().canonicalString())||e.Ie.push(new tc(Yt.keyField(),r))}return e.Ie}function ji(s){const e=Re(s);return e.Ee||(e.Ee=_2(e,Gl(s))),e.Ee}function _2(s,e){if(s.limitType==="F")return Tv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new tc(o.field,c)}));const n=s.endAt?new yh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new yh(s.startAt.position,s.startAt.inclusive):null;return Tv(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function Um(s,e){const n=s.filters.concat([e]);return new Ro(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function v2(s,e){const n=s.explicitOrderBy.concat([e]);return new Ro(s.path,s.collectionGroup,n,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function _h(s,e,n){return new Ro(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function Bh(s,e){return pp(ji(s),ji(e))&&s.limitType===e.limitType}function PT(s){return`${mp(ji(s))}|lt:${s.limitType}`}function no(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>jT(o))).join(", ")}]`),cc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>yo(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>yo(o))).join(",")),`Target(${r})`})(ji(s))}; limitType=${s.limitType})`}function qh(s,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ye.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,o){for(const c of Gl(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(f,m,g){const y=vv(f,m,g);return f.inclusive?y<=0:y<0})(r.startAt,Gl(r),o)||r.endAt&&!(function(f,m,g){const y=vv(f,m,g);return f.inclusive?y>=0:y>0})(r.endAt,Gl(r),o))})(s,e)}function b2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function zT(s){return(e,n)=>{let r=!1;for(const o of Gl(s)){const c=T2(o,e,n);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function T2(s,e,n){const r=s.field.isKeyField()?ye.comparator(e.key,n.key):(function(c,f,m){const g=f.data.field(c),y=m.data.field(c);return g!==null&&y!==null?go(g,y):Te(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Te(19790,{direction:s.dir})}}class ca{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){_r(this.inner,((n,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return wT(this.inner)}size(){return this.innerSize}}const E2=new ht(ye.comparator);function ms(){return E2}const BT=new ht(ye.comparator);function zl(...s){let e=BT;for(const n of s)e=e.insert(n.key,n);return e}function qT(s){let e=BT;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Zr(){return Ql()}function HT(){return Ql()}function Ql(){return new ca((s=>s.toString()),((s,e)=>s.isEqual(e)))}const w2=new ht(ye.comparator),S2=new kt(ye.comparator);function ze(...s){let e=S2;for(const n of s)e=e.add(n);return e}const A2=new kt(Pe);function x2(){return A2}function gp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mh(e)?"-0":e}}function FT(s){return{integerValue:""+s}}function GT(s,e){return JI(e)?FT(e):gp(s,e)}class Hh{constructor(){this._=void 0}}function R2(s,e,n){return s instanceof nc?(function(o,c){const f={fields:{[xT]:{stringValue:AT},[IT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&fp(c)&&(c=Ph(c)),c&&(f.fields[RT]=c),{mapValue:f}})(n,e):s instanceof _o?KT(s,e):s instanceof ic?YT(s,e):(function(o,c){const f=QT(o,c),m=wv(f)+wv(o.Ae);return km(f)&&km(o.Ae)?FT(m):gp(o.serializer,m)})(s,e)}function I2(s,e,n){return s instanceof _o?KT(s,e):s instanceof ic?YT(s,e):n}function QT(s,e){return s instanceof sc?(function(r){return km(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class nc extends Hh{}class _o extends Hh{constructor(e){super(),this.elements=e}}function KT(s,e){const n=XT(e);for(const r of s.elements)n.some((o=>Bi(o,r)))||n.push(r);return{arrayValue:{values:n}}}class ic extends Hh{constructor(e){super(),this.elements=e}}function YT(s,e){let n=XT(e);for(const r of s.elements)n=n.filter((o=>!Bi(o,r)));return{arrayValue:{values:n}}}class sc extends Hh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function wv(s){return vt(s.integerValue||s.doubleValue)}function XT(s){return dp(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class yp{constructor(e,n){this.field=e,this.transform=n}}function C2(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof _o&&o instanceof _o||r instanceof ic&&o instanceof ic?po(r.elements,o.elements,Bi):r instanceof sc&&o instanceof sc?Bi(r.Ae,o.Ae):r instanceof nc&&o instanceof nc})(s.transform,e.transform)}class N2{constructor(e,n){this.version=e,this.transformResults=n}}class ln{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ln}static exists(e){return new ln(void 0,e)}static updateTime(e){return new ln(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ih(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Fh{}function $T(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new _p(s.key,ln.none()):new uc(s.key,s.data,ln.none());{const n=s.data,r=on.empty();let o=new kt(Yt.comparator);for(let c of e.fields)if(!o.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?r.delete(c):r.set(c,f),o=o.add(c)}return new vr(s.key,r,new In(o.toArray()),ln.none())}}function D2(s,e,n){s instanceof uc?(function(o,c,f){const m=o.value.clone(),g=Av(o.fieldTransforms,c,f.transformResults);m.setAll(g),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(s,e,n):s instanceof vr?(function(o,c,f){if(!ih(o.precondition,c))return void c.convertToUnknownDocument(f.version);const m=Av(o.fieldTransforms,c,f.transformResults),g=c.data;g.setAll(JT(o)),g.setAll(m),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(s,e,n):(function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Kl(s,e,n,r){return s instanceof uc?(function(c,f,m,g){if(!ih(c.precondition,f))return m;const y=c.value.clone(),E=xv(c.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(s,e,n,r):s instanceof vr?(function(c,f,m,g){if(!ih(c.precondition,f))return m;const y=xv(c.fieldTransforms,g,f),E=f.data;return E.setAll(JT(c)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(s,e,n,r):(function(c,f,m){return ih(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(s,e,n)}function O2(s,e){let n=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),c=QT(r.transform,o||null);c!=null&&(n===null&&(n=on.empty()),n.set(r.field,c))}return n||null}function Sv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&po(r,o,((c,f)=>C2(c,f)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class uc extends Fh{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class vr extends Fh{constructor(e,n,r,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function JT(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function Av(s,e,n){const r=new Map;Fe(s.length===n.length,32656,{Ve:n.length,de:s.length});for(let o=0;o<n.length;o++){const c=s[o],f=c.transform,m=e.data.field(c.field);r.set(c.field,I2(f,m,n[o]))}return r}function xv(s,e,n){const r=new Map;for(const o of s){const c=o.transform,f=n.data.field(o.field);r.set(o.field,R2(c,f,e))}return r}class _p extends Fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZT extends Fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class M2{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&D2(c,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Kl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Kl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=HT();return this.mutations.forEach((o=>{const c=e.get(o.key),f=c.overlayedDocument;let m=this.applyToLocalView(f,c.mutatedFields);m=n.has(o.key)?null:m;const g=$T(f,m);g!==null&&r.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Se.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ze())}isEqual(e){return this.batchId===e.batchId&&po(this.mutations,e.mutations,((n,r)=>Sv(n,r)))&&po(this.baseMutations,e.baseMutations,((n,r)=>Sv(n,r)))}}class vp{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){Fe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return w2})();const c=e.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,r[f].version);return new vp(e,n,r,o)}}class V2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class k2{constructor(e,n){this.count=e,this.unchangedNames=n}}var Nt,He;function WT(s){switch(s){case Y.OK:return Te(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return Te(15467,{code:s})}}function eE(s){if(s===void 0)return ds("GRPC error has no .code"),Y.UNKNOWN;switch(s){case Nt.OK:return Y.OK;case Nt.CANCELLED:return Y.CANCELLED;case Nt.UNKNOWN:return Y.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return Y.INTERNAL;case Nt.UNAVAILABLE:return Y.UNAVAILABLE;case Nt.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Nt.NOT_FOUND:return Y.NOT_FOUND;case Nt.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Nt.ABORTED:return Y.ABORTED;case Nt.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Nt.DATA_LOSS:return Y.DATA_LOSS;default:return Te(39323,{code:s})}}(He=Nt||(Nt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";function j2(){return new TextEncoder}const L2=new ar([4294967295,4294967295],0);function Rv(s){const e=j2().encode(s),n=new fT;return n.update(e),new Uint8Array(n.digest())}function Iv(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ar([n,r],0),new ar([o,c],0)]}class bp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Bl(`Invalid padding: ${n}`);if(r<0)throw new Bl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Bl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Bl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ar.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(ar.fromNumber(r)));return o.compare(L2)===1&&(o=new ar([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Rv(e),[r,o]=Iv(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(r,o,c);if(!this.we(f))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new bp(c,o,n);return r.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=Rv(e),[r,o]=Iv(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(r,o,c);this.be(f)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Gh{constructor(e,n,r,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,hc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Gh(Se.min(),o,new ht(Pe),ms(),ze())}}class hc{constructor(e,n,r,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new hc(r,n,ze(),ze(),ze())}}class sh{constructor(e,n,r,o){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=o}}class tE{constructor(e,n){this.targetId=e,this.Ce=n}}class nE{constructor(e,n,r=$t.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class Cv{constructor(){this.ve=0,this.Fe=Nv(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),n=ze(),r=ze();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Te(38017,{changeType:c})}})),new hc(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=Nv()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class U2{constructor(e){this.Ge=e,this.ze=new Map,this.je=ms(),this.He=$u(),this.Je=$u(),this.Ze=new ht(Pe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(Lm(c))if(r===0){const f=new ye(c.path);this.et(n,f,zt.newNoDocument(f,Se.min()))}else Fe(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const m=this.ut(e),g=m?this.ct(m,e,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=n;let f,m;try{f=fr(r).toUint8Array()}catch(g){if(g instanceof ST)return mo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new bp(f,o,c)}catch(g){return mo(g instanceof Bl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((c=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,f)=>{const m=this.ot(f);if(m){if(c.current&&Lm(m.target)){const g=new ye(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,zt.newNoDocument(g,e))}c.Be&&(n.set(f,c.ke()),c.Ke())}}));let r=ze();this.Je.forEach(((c,f)=>{let m=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(c))})),this.je.forEach(((c,f)=>f.setReadTime(e)));const o=new Gh(e,n,this.Ze,this.je,r);return this.je=ms(),this.He=$u(),this.Je=$u(),this.Ze=new ht(Pe),o}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new Cv,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new kt(Pe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new kt(Pe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Cv),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function $u(){return new ht(ye.comparator)}function Nv(){return new ht(ye.comparator)}const P2={asc:"ASCENDING",desc:"DESCENDING"},z2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},B2={and:"AND",or:"OR"};class q2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Pm(s,e){return s.useProto3Json||cc(e)?e:{value:e}}function vh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function H2(s,e){return vh(s,e.toTimestamp())}function Dn(s){return Fe(!!s,49232),Se.fromTimestamp((function(n){const r=hr(n);return new ot(r.seconds,r.nanos)})(s))}function Tp(s,e){return zm(s,e).canonicalString()}function zm(s,e){const n=(function(o){return new it(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?n:n.child(e)}function sE(s){const e=it.fromString(s);return Fe(uE(e),10190,{key:e.toString()}),e}function bh(s,e){return Tp(s.databaseId,e.path)}function Yl(s,e){const n=sE(e);if(n.get(1)!==s.databaseId.projectId)throw new re(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new re(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new ye(aE(n))}function rE(s,e){return Tp(s.databaseId,e)}function F2(s){const e=sE(s);return e.length===4?it.emptyPath():aE(e)}function Bm(s){return new it(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function aE(s){return Fe(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Dv(s,e,n){return{name:bh(s,e),fields:n.value.mapValue.fields}}function G2(s,e){return"found"in e?(function(r,o){Fe(!!o.found,43571),o.found.name,o.found.updateTime;const c=Yl(r,o.found.name),f=Dn(o.found.updateTime),m=o.found.createTime?Dn(o.found.createTime):Se.min(),g=new on({mapValue:{fields:o.found.fields}});return zt.newFoundDocument(c,f,m,g)})(s,e):"missing"in e?(function(r,o){Fe(!!o.missing,3894),Fe(!!o.readTime,22933);const c=Yl(r,o.missing),f=Dn(o.readTime);return zt.newNoDocument(c,f)})(s,e):Te(7234,{result:e})}function Q2(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,E){return y.useProto3Json?(Fe(E===void 0||typeof E=="string",58123),$t.fromBase64String(E||"")):(Fe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),$t.fromUint8Array(E||new Uint8Array))})(s,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?Y.UNKNOWN:eE(y.code);return new re(E,y.message||"")})(f);n=new nE(r,o,c,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Yl(s,r.document.name),c=Dn(r.document.updateTime),f=r.document.createTime?Dn(r.document.createTime):Se.min(),m=new on({mapValue:{fields:r.document.fields}}),g=zt.newFoundDocument(o,c,f,m),y=r.targetIds||[],E=r.removedTargetIds||[];n=new sh(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Yl(s,r.document),c=r.readTime?Dn(r.readTime):Se.min(),f=zt.newNoDocument(o,c),m=r.removedTargetIds||[];n=new sh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Yl(s,r.document),c=r.removedTargetIds||[];n=new sh([],c,o,null)}else{if(!("filter"in e))return Te(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,f=new k2(o,c),m=r.targetId;n=new tE(m,f)}}return n}function oE(s,e){let n;if(e instanceof uc)n={update:Dv(s,e.key,e.value)};else if(e instanceof _p)n={delete:bh(s,e.key)};else if(e instanceof vr)n={update:Dv(s,e.key,e.data),updateMask:tC(e.fieldMask)};else{if(!(e instanceof ZT))return Te(16599,{dt:e.type});n={verify:bh(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(c,f){const m=f.transform;if(m instanceof nc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof _o)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ic)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof sc)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Te(20930,{transform:f.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:H2(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Te(27497)})(s,e.precondition)),n}function K2(s,e){return s&&s.length>0?(Fe(e!==void 0,14353),s.map((n=>(function(o,c){let f=o.updateTime?Dn(o.updateTime):Dn(c);return f.isEqual(Se.min())&&(f=Dn(c)),new N2(f,o.transformResults||[])})(n,e)))):[]}function Y2(s,e){return{documents:[rE(s,e.path)]}}function X2(s,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=rE(s,o);const c=(function(y){if(y.length!==0)return cE(ui.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const f=(function(y){if(y.length!==0)return y.map((E=>(function(A){return{field:io(A.field),direction:Z2(A.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Pm(s,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function $2(s){let e=F2(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Fe(r===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];n.where&&(c=(function(w){const A=lE(w);return A instanceof ui&&VT(A)?A.getFilters():[A]})(n.where));let f=[];n.orderBy&&(f=(function(w){return w.map((A=>(function(K){return new tc(so(K.field),(function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(K.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(w){let A;return A=typeof w=="object"?w.value:w,cc(A)?null:A})(n.limit));let g=null;n.startAt&&(g=(function(w){const A=!!w.before,q=w.values||[];return new yh(q,A)})(n.startAt));let y=null;return n.endAt&&(y=(function(w){const A=!w.before,q=w.values||[];return new yh(q,A)})(n.endAt)),g2(e,o,f,c,m,"F",g,y)}function J2(s,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function lE(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=so(n.unaryFilter.field);return Dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=so(n.unaryFilter.field);return Dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=so(n.unaryFilter.field);return Dt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=so(n.unaryFilter.field);return Dt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Dt.create(so(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return ui.create(n.compositeFilter.filters.map((r=>lE(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(n.compositeFilter.op))})(s):Te(30097,{filter:s})}function Z2(s){return P2[s]}function W2(s){return z2[s]}function eC(s){return B2[s]}function io(s){return{fieldPath:s.canonicalString()}}function so(s){return Yt.fromServerFormat(s.fieldPath)}function cE(s){return s instanceof Dt?(function(n){if(n.op==="=="){if(_v(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NAN"}};if(yv(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_v(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NAN"}};if(yv(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(n.field),op:W2(n.op),value:n.value}}})(s):s instanceof ui?(function(n){const r=n.getFilters().map((o=>cE(o)));return r.length===1?r[0]:{compositeFilter:{op:eC(n.op),filters:r}}})(s):Te(54877,{filter:s})}function tC(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function uE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function hE(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class ir{constructor(e,n,r,o,c=Se.min(),f=Se.min(),m=$t.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new ir(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class nC{constructor(e){this.yt=e}}function iC(s){const e=$2({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?_h(e,e.limit,"L"):e}class sC{constructor(){this.Sn=new rC}addToCollectionParentIndex(e,n){return this.Sn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(ur.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(ur.min())}updateCollectionGroup(e,n,r){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class rC{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new kt(it.comparator),c=!o.has(r);return this.index[n]=o.add(r),c}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new kt(it.comparator)).toArray()}}const Ov={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fE=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(fE,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class vo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new vo(0)}static ar(){return new vo(-1)}}const Mv="LruGarbageCollector",aC=1048576;function Vv([s,e],[n,r]){const o=Pe(s,n);return o===0?Pe(e,r):o}class oC{constructor(e){this.Pr=e,this.buffer=new kt(Vv),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Vv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class lC{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){he(Mv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xo(n)?he(Mv,"Ignoring IndexedDB error during garbage collection: ",n):await Ao(n)}await this.Ar(3e5)}))}}class cC{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return J.resolve(Uh.ce);const r=new oC(n);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Ov)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ov):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,o,c,f,m,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(r=w,m=Date.now(),this.removeTargets(e,r,n)))).next((w=>(c=w,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(y=Date.now(),to()<=Ue.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${c} targets in `+(g-m)+`ms
	Removed ${w} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w}))))}}function uC(s,e){return new cC(s,e)}class hC{constructor(){this.changes=new ca((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?J.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class fC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class dC{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&Kl(r.mutation,o,In.empty(),ot.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ze()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ze()){const o=Zr();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((c=>{let f=zl();return c.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const r=Zr();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ze())))}populateOverlays(e,n,r){const o=[];return r.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,r,o){let c=ms();const f=Ql(),m=(function(){return Ql()})();return n.forEach(((g,y)=>{const E=r.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof vr)?c=c.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Kl(E.mutation,y,E.mutation.getFieldMask(),ot.now())):f.set(y.key,In.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new fC(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const r=Ql();let o=new ht(((f,m)=>f-m)),c=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let E=r.get(g)||In.empty();E=m.applyToLocalView(y,E),r.set(g,E);const w=(o.get(m.batchId)||ze()).add(g);o=o.insert(m.batchId,w)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,w=HT();E.forEach((A=>{if(!c.has(A)){const q=$T(n.get(A),r.get(A));q!==null&&w.set(A,q),c=c.add(A)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,w))}return J.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return y2(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):UT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-c.size):J.resolve(Zr());let m=Jl,g=c;return f.next((y=>J.forEach(y,((E,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),c.get(E)?J.resolve():this.remoteDocumentCache.getEntry(e,E).next((A=>{g=g.insert(E,A)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,ze()))).next((E=>({batchId:m,changes:qT(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((r=>{let o=zl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const c=n.collectionGroup;let f=zl();return this.indexManager.getCollectionParents(e,c).next((m=>J.forEach(m,(g=>{const y=(function(w,A){return new Ro(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((E=>{E.forEach(((w,A)=>{f=f.insert(w,A)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,c,o)))).next((f=>{c.forEach(((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,zt.newInvalidDocument(E)))}));let m=zl();return f.forEach(((g,y)=>{const E=c.get(g);E!==void 0&&Kl(E.mutation,y,In.empty(),ot.now()),qh(n,y)&&(m=m.insert(g,y))})),m}))}}class mC{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return J.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Dn(o.createTime)}})(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:iC(o.bundledQuery),readTime:Dn(o.readTime)}})(n)),J.resolve()}}class pC{constructor(){this.overlays=new ht(ye.comparator),this.Lr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Zr();return J.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,c)=>{this.bt(e,n,c)})),J.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),J.resolve()}getOverlaysForCollection(e,n,r){const o=Zr(),c=n.length+1,f=new ye(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>r&&o.set(g.getKey(),g)}return J.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let c=new ht(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let E=c.get(y.largestBatchId);E===null&&(E=Zr(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Zr(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return J.resolve(m)}bt(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new V2(n,r));let c=this.Lr.get(n);c===void 0&&(c=ze(),this.Lr.set(n,c)),this.Lr.set(n,c.add(r.key))}}class gC{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}class Ep{constructor(){this.kr=new kt(Pt.Kr),this.qr=new kt(Pt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Pt(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new Pt(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new ye(new it([])),r=new Pt(n,e),o=new Pt(n,e+1),c=[];return this.qr.forEachInRange([r,o],(f=>{this.Wr(f),c.push(f.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ye(new it([])),r=new Pt(n,e),o=new Pt(n,e+1);let c=ze();return this.qr.forEachInRange([r,o],(f=>{c=c.add(f.key)})),c}containsKey(e){const n=new Pt(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Pt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ye.comparator(e.key,n.key)||Pe(e.Hr,n.Hr)}static Ur(e,n){return Pe(e.Hr,n.Hr)||ye.comparator(e.key,n.key)}}class yC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new kt(Pt.Kr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new M2(c,n,r,o);this.mutationQueue.push(f);for(const m of o)this.Jr=this.Jr.add(new Pt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return J.resolve(f)}lookupMutationBatch(e,n){return J.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.Xr(r),c=o<0?0:o;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?hp:this.Yn-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Pt(n,0),o=new Pt(n,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,o],(f=>{const m=this.Zr(f.Hr);c.push(m)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kt(Pe);return n.forEach((o=>{const c=new Pt(o,0),f=new Pt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,f],(m=>{r=r.add(m.Hr)}))})),J.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let c=r;ye.isDocumentKey(c)||(c=c.child(""));const f=new Pt(new ye(c),0);let m=new kt(Pe);return this.Jr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Hr)),!0)}),f),J.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Fe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return J.forEach(n.mutations,(o=>{const c=new Pt(o.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new Pt(n,0),o=this.Jr.firstAfterOrEqual(r);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class _C{constructor(e){this.ti=e,this.docs=(function(){return new ht(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),c=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return J.resolve(r?r.document.mutableCopy():zt.newInvalidDocument(n))}getEntries(e,n){let r=ms();return n.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():zt.newInvalidDocument(o))})),J.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let c=ms();const f=n.path,m=new ye(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||KI(QI(E),r)<=0||(o.has(E.key)||qh(n,E))&&(c=c.insert(E.key,E.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(e,n,r,o){Te(9500)}ni(e,n){return J.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new vC(this)}getSize(e){return J.resolve(this.size)}}class vC extends hC{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),J.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class bC{constructor(e){this.persistence=e,this.ri=new ca((n=>mp(n)),pp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.ii=0,this.si=new Ep,this.targetCount=0,this.oi=vo._r()}forEachTarget(e,n){return this.ri.forEach(((r,o)=>n(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),J.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new vo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.lr(n),J.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,r){let o=0;const c=[];return this.ri.forEach(((f,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.ri.delete(f),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),J.waitFor(c).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return J.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),J.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((f=>{c.push(o.markPotentiallyOrphaned(e,f))})),J.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return J.resolve(r)}containsKey(e,n){return J.resolve(this.si.containsKey(n))}}class dE{constructor(e,n){this._i={},this.overlays={},this.ai=new Uh(0),this.ui=!1,this.ui=!0,this.ci=new gC,this.referenceDelegate=e(this),this.li=new bC(this),this.indexManager=new sC,this.remoteDocumentCache=(function(o){return new _C(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new nC(n),this.Pi=new mC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new yC(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const o=new TC(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,n){return J.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class TC extends XI{constructor(e){super(),this.currentSequenceNumber=e}}class wp{constructor(e){this.persistence=e,this.Ri=new Ep,this.Ai=null}static Vi(e){return new wp(e)}get di(){if(this.Ai)return this.Ai;throw Te(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),J.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),J.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.di,(r=>{const o=ye.fromPath(r);return this.mi(e,o).next((c=>{c||n.removeEntry(o,Se.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return J.or([()=>J.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Th{constructor(e,n){this.persistence=e,this.fi=new ca((r=>ZI(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=uC(this,n)}static Vi(e,n){return new Th(e,n)}Ti(){}Ii(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return J.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((c=>c?J.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(f=>this.wr(e,f,n).next((m=>{m||(r++,c.removeEntry(f,Se.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),J.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=th(e.data.value)),n}wr(e,n,r){return J.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return J.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Sp{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=o}static Es(e,n){let r=ze(),o=ze();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Sp(e,n.fromCache,r,o)}}class EC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class wC{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return FA()?8:$I(tn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const c={result:null};return this.gs(e,n).next((f=>{c.result=f})).next((()=>{if(!c.result)return this.ps(e,n,o,r).next((f=>{c.result=f}))})).next((()=>{if(c.result)return;const f=new EC;return this.ys(e,n,f).next((m=>{if(c.result=m,this.As)return this.ws(e,n,f,m.size)}))})).next((()=>c.result))}ws(e,n,r,o){return r.documentReadCount<this.Vs?(to()<=Ue.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",no(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(to()<=Ue.DEBUG&&he("QueryEngine","Query:",no(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(to()<=Ue.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",no(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ji(n))):J.resolve())}gs(e,n){if(Ev(n))return J.resolve(null);let r=ji(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=_h(n,null,"F"),r=ji(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const f=ze(...c);return this.fs.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,r).next((g=>{const y=this.bs(n,m);return this.Ss(n,y,f,g.readTime)?this.gs(e,_h(n,null,"F")):this.Ds(e,y,n,g)}))))})))))}ps(e,n,r,o){return Ev(n)||o.isEqual(Se.min())?J.resolve(null):this.fs.getDocuments(e,r).next((c=>{const f=this.bs(n,c);return this.Ss(n,f,r,o)?J.resolve(null):(to()<=Ue.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),no(n)),this.Ds(e,f,n,GI(o,Jl)).next((m=>m)))}))}bs(e,n){let r=new kt(zT(e));return n.forEach(((o,c)=>{qh(e,c)&&(r=r.add(c))})),r}Ss(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,n,r){return to()<=Ue.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",no(n)),this.fs.getDocumentsMatchingQuery(e,n,ur.min(),r)}Ds(e,n,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((c=>(n.forEach((f=>{c=c.insert(f.key,f)})),c)))}}const Ap="LocalStore",SC=3e8;class AC{constructor(e,n,r,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ht(Pe),this.Fs=new ca((c=>mp(c)),pp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dC(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function xC(s,e,n,r){return new AC(s,e,n,r)}async function mE(s,e){const n=Re(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((c=>{const f=[],m=[];let g=ze();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of c){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(r,g).next((y=>({Ns:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function RC(s,e){const n=Re(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,E){const w=y.batch,A=w.keys();let q=J.resolve();return A.forEach((K=>{q=q.next((()=>E.getEntry(g,K))).next((Z=>{const ee=y.docVersions.get(K);Fe(ee!==null,48541),Z.version.compareTo(ee)<0&&(w.applyToRemoteDocument(Z,y),Z.isValidDocument()&&(Z.setReadTime(y.commitVersion),E.addEntry(Z)))}))})),q.next((()=>m.mutationQueue.removeMutationBatch(g,w)))})(n,r,e,c).next((()=>c.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let g=ze();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function pE(s){const e=Re(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function IC(s,e){const n=Re(s),r=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((E,w)=>{const A=o.get(w);if(!A)return;m.push(n.li.removeMatchingKeys(c,E.removedDocuments,w).next((()=>n.li.addMatchingKeys(c,E.addedDocuments,w))));let q=A.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?q=q.withResumeToken($t.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(E.resumeToken,r)),o=o.insert(w,q),(function(Z,ee,ae){return Z.resumeToken.approximateByteSize()===0||ee.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=SC?!0:ae.addedDocuments.size+ae.modifiedDocuments.size+ae.removedDocuments.size>0})(A,q,E)&&m.push(n.li.updateTargetData(c,q))}));let g=ms(),y=ze();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,E))})),m.push(CC(c,f,e.documentUpdates).next((E=>{g=E.Bs,y=E.Ls}))),!r.isEqual(Se.min())){const E=n.li.getLastRemoteSnapshotVersion(c).next((w=>n.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));m.push(E)}return J.waitFor(m).next((()=>f.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(n.vs=o,c)))}function CC(s,e,n){let r=ze(),o=ze();return n.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let f=ms();return n.forEach(((m,g)=>{const y=c.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Se.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):he(Ap,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{Bs:f,Ls:o}}))}function NC(s,e){const n=Re(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=hp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function DC(s,e){const n=Re(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.li.getTargetData(r,e).next((c=>c?(o=c,J.resolve(o)):n.li.allocateTargetId(r).next((f=>(o=new ir(e,f,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function qm(s,e,n){const r=Re(s),o=r.vs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",c,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!xo(f))throw f;he(Ap,`Failed to update sequence numbers for target ${e}: ${f}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function kv(s,e,n){const r=Re(s);let o=Se.min(),c=ze();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,E){const w=Re(g),A=w.Fs.get(E);return A!==void 0?J.resolve(w.vs.get(A)):w.li.getTargetData(y,E)})(r,f,ji(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(f,m.targetId).next((g=>{c=g}))})).next((()=>r.Cs.getDocumentsMatchingQuery(f,e,n?o:Se.min(),n?c:ze()))).next((m=>(OC(r,b2(e),m),{documents:m,ks:c})))))}function OC(s,e,n){let r=s.Ms.get(e)||Se.min();n.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Ms.set(e,r)}class jv{constructor(){this.activeTargetIds=x2()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MC{constructor(){this.vo=new jv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new jv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class VC{Mo(e){}shutdown(){}}const Lv="ConnectivityMonitor";class Uv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){he(Lv,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){he(Lv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ju=null;function Hm(){return Ju===null?Ju=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ju++,"0x"+Ju.toString(16)}const vm="RestConnection",kC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class jC{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===ph?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,n,r,o,c){const f=Hm(),m=this.Qo(e,n.toUriEncodedString());he(vm,`Sending RPC '${e}' ${f}:`,m,r);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,c);const{host:y}=new URL(m),E=Eo(y);return this.zo(e,m,g,r,E).then((w=>(he(vm,`Received RPC '${e}' ${f}: `,w),w)),(w=>{throw mo(vm,`RPC '${e}' ${f} failed with error: `,w,"url: ",m,"request:",r),w}))}jo(e,n,r,o,c,f){return this.Wo(e,n,r,o,c)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+So})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}Qo(e,n){const r=kC[e];let o=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class LC{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Wt="WebChannelConnection",Ul=(s,e,n)=>{s.listen(e,(r=>{try{n(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class lo extends jC{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!lo.c_){const e=gT();Ul(e,pT.STAT_EVENT,(n=>{n.stat===Om.PROXY?he(Wt,"STAT_EVENT: detected buffering proxy"):n.stat===Om.NOPROXY&&he(Wt,"STAT_EVENT: detected no buffering proxy")})),lo.c_=!0}}zo(e,n,r,o,c){const f=Hm();return new Promise(((m,g)=>{const y=new dT;y.setWithCredentials(!0),y.listenOnce(mT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case eh.NO_ERROR:const w=y.getResponseJson();he(Wt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(w)),m(w);break;case eh.TIMEOUT:he(Wt,`RPC '${e}' ${f} timed out`),g(new re(Y.DEADLINE_EXCEEDED,"Request time out"));break;case eh.HTTP_ERROR:const A=y.getStatus();if(he(Wt,`RPC '${e}' ${f} failed with status:`,A,"response text:",y.getResponseText()),A>0){let q=y.getResponseJson();Array.isArray(q)&&(q=q[0]);const K=q?.error;if(K&&K.status&&K.message){const Z=(function(ae){const ce=ae.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(ce)>=0?ce:Y.UNKNOWN})(K.status);g(new re(Z,K.message))}else g(new re(Y.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new re(Y.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{he(Wt,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);he(Wt,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",E,r,15)}))}T_(e,n,r){const o=Hm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const y=c.join("");he(Wt,`Creating RPC '${e}' stream ${o}: ${y}`,m);const E=f.createWebChannel(y,m);this.I_(E);let w=!1,A=!1;const q=new LC({Ho:K=>{A?he(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,K):(w||(he(Wt,`Opening RPC '${e}' stream ${o} transport.`),E.open(),w=!0),he(Wt,`RPC '${e}' stream ${o} sending:`,K),E.send(K))},Jo:()=>E.close()});return Ul(E,Pl.EventType.OPEN,(()=>{A||(he(Wt,`RPC '${e}' stream ${o} transport opened.`),q.i_())})),Ul(E,Pl.EventType.CLOSE,(()=>{A||(A=!0,he(Wt,`RPC '${e}' stream ${o} transport closed`),q.o_(),this.E_(E))})),Ul(E,Pl.EventType.ERROR,(K=>{A||(A=!0,mo(Wt,`RPC '${e}' stream ${o} transport errored. Name:`,K.name,"Message:",K.message),q.o_(new re(Y.UNAVAILABLE,"The operation could not be completed")))})),Ul(E,Pl.EventType.MESSAGE,(K=>{if(!A){const Z=K.data[0];Fe(!!Z,16349);const ee=Z,ae=ee?.error||ee[0]?.error;if(ae){he(Wt,`RPC '${e}' stream ${o} received error:`,ae);const ce=ae.status;let me=(function(Ce){const I=Nt[Ce];if(I!==void 0)return eE(I)})(ce),Me=ae.message;me===void 0&&(me=Y.INTERNAL,Me="Unknown error status: "+ce+" with message "+ae.message),A=!0,q.o_(new re(me,Me)),E.close()}else he(Wt,`RPC '${e}' stream ${o} received:`,Z),q.__(Z)}})),lo.u_(),setTimeout((()=>{q.s_()}),0),q}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return yT()}}function UC(s){return new lo(s)}function bm(){return typeof document<"u"?document:null}function Qh(s){return new q2(s,!0)}lo.c_=!1;class xp{constructor(e,n,r=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Pv="PersistentStream";class gE{constructor(e,n,r,o,c,f,m,g){this.Ci=e,this.b_=r,this.S_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new xp(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(ds(n.toString()),ds("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new re(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(Pv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(he(Pv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class PC extends gE{constructor(e,n,r,o,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,f),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Q2(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Se.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?Dn(f.readTime):Se.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=Bm(this.serializer),n.addTarget=(function(c,f){let m;const g=f.target;if(m=Lm(g)?{documents:Y2(c,g)}:{query:X2(c,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=iE(c,f.resumeToken);const y=Pm(c,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Se.min())>0){m.readTime=vh(c,f.snapshotVersion.toTimestamp());const y=Pm(c,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const r=J2(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=Bm(this.serializer),n.removeTarget=e,this.K_(n)}}class zC extends gE{constructor(e,n,r,o,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,f),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=K2(e.writeResults,e.commitTime),r=Dn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Bm(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>oE(this.serializer,r)))};this.K_(n)}}class BC{}class qC extends BC{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new re(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Wo(e,zm(n,r),o,c,f))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new re(Y.UNKNOWN,c.toString())}))}jo(e,n,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.jo(e,zm(n,r),o,f,m,c))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new re(Y.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function HC(s,e,n,r){return new qC(s,e,n,r)}class FC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ds(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ra="RemoteStore";class GC{constructor(e,n,r,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((f=>{r.enqueueAndForget((async()=>{ua(this)&&(he(ra,"Restarting streams for network reachability change."),await(async function(g){const y=Re(g);y.Ea.add(4),await fc(y),y.Va.set("Unknown"),y.Ea.delete(4),await Kh(y)})(this))}))})),this.Va=new FC(r,o)}}async function Kh(s){if(ua(s))for(const e of s.Ra)await e(!0)}async function fc(s){for(const e of s.Ra)await e(!1)}function yE(s,e){const n=Re(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Np(n)?Cp(n):Io(n).O_()&&Ip(n,e))}function Rp(s,e){const n=Re(s),r=Io(n);n.Ia.delete(e),r.O_()&&_E(n,e),n.Ia.size===0&&(r.O_()?r.L_():ua(n)&&n.Va.set("Unknown"))}function Ip(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Io(s).Z_(e)}function _E(s,e){s.da.$e(e),Io(s).X_(e)}function Cp(s){s.da=new U2({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Io(s).start(),s.Va.ua()}function Np(s){return ua(s)&&!Io(s).x_()&&s.Ia.size>0}function ua(s){return Re(s).Ea.size===0}function vE(s){s.da=void 0}async function QC(s){s.Va.set("Online")}async function KC(s){s.Ia.forEach(((e,n)=>{Ip(s,e)}))}async function YC(s,e){vE(s),Np(s)?(s.Va.ha(e),Cp(s)):s.Va.set("Unknown")}async function XC(s,e,n){if(s.Va.set("Online"),e instanceof nE&&e.state===2&&e.cause)try{await(async function(o,c){const f=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.da.removeTarget(m))})(s,e)}catch(r){he(ra,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Eh(s,r)}else if(e instanceof sh?s.da.Xe(e):e instanceof tE?s.da.st(e):s.da.tt(e),!n.isEqual(Se.min()))try{const r=await pE(s.localStore);n.compareTo(r)>=0&&await(function(c,f){const m=c.da.Tt(f);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=c.Ia.get(y);E&&c.Ia.set(y,E.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,y)=>{const E=c.Ia.get(g);if(!E)return;c.Ia.set(g,E.withResumeToken($t.EMPTY_BYTE_STRING,E.snapshotVersion)),_E(c,g);const w=new ir(E.target,g,y,E.sequenceNumber);Ip(c,w)})),c.remoteSyncer.applyRemoteEvent(m)})(s,n)}catch(r){he(ra,"Failed to raise snapshot:",r),await Eh(s,r)}}async function Eh(s,e,n){if(!xo(e))throw e;s.Ea.add(1),await fc(s),s.Va.set("Offline"),n||(n=()=>pE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{he(ra,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Kh(s)}))}function bE(s,e){return e().catch((n=>Eh(s,n,e)))}async function Yh(s){const e=Re(s),n=mr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:hp;for(;$C(e);)try{const o=await NC(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,JC(e,o)}catch(o){await Eh(e,o)}TE(e)&&EE(e)}function $C(s){return ua(s)&&s.Ta.length<10}function JC(s,e){s.Ta.push(e);const n=mr(s);n.O_()&&n.Y_&&n.ea(e.mutations)}function TE(s){return ua(s)&&!mr(s).x_()&&s.Ta.length>0}function EE(s){mr(s).start()}async function ZC(s){mr(s).ra()}async function WC(s){const e=mr(s);for(const n of s.Ta)e.ea(n.mutations)}async function eN(s,e,n){const r=s.Ta.shift(),o=vp.from(r,e,n);await bE(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Yh(s)}async function tN(s,e){e&&mr(s).Y_&&await(async function(r,o){if((function(f){return WT(f)&&f!==Y.ABORTED})(o.code)){const c=r.Ta.shift();mr(r).B_(),await bE(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Yh(r)}})(s,e),TE(s)&&EE(s)}async function zv(s,e){const n=Re(s);n.asyncQueue.verifyOperationInProgress(),he(ra,"RemoteStore received new credentials");const r=ua(n);n.Ea.add(3),await fc(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Kh(n)}async function nN(s,e){const n=Re(s);e?(n.Ea.delete(2),await Kh(n)):e||(n.Ea.add(2),await fc(n),n.Va.set("Unknown"))}function Io(s){return s.ma||(s.ma=(function(n,r,o){const c=Re(n);return c.sa(),new PC(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:QC.bind(null,s),Yo:KC.bind(null,s),t_:YC.bind(null,s),J_:XC.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),Np(s)?Cp(s):s.Va.set("Unknown")):(await s.ma.stop(),vE(s))}))),s.ma}function mr(s){return s.fa||(s.fa=(function(n,r,o){const c=Re(n);return c.sa(),new zC(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:ZC.bind(null,s),t_:tN.bind(null,s),ta:WC.bind(null,s),na:eN.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Yh(s)):(await s.fa.stop(),s.Ta.length>0&&(he(ra,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Dp{constructor(e,n,r,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,c){const f=Date.now()+r,m=new Dp(e,n,f,o,c);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Op(s,e){if(ds("AsyncQueue",`${e}: ${s}`),xo(s))return new re(Y.UNAVAILABLE,`${e}: ${s}`);throw s}class co{static emptySet(e){return new co(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ye.comparator(n.key,r.key):(n,r)=>ye.comparator(n.key,r.key),this.keyedMap=zl(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof co)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new co;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Bv{constructor(){this.ga=new ht(ye.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class bo{constructor(e,n,r,o,c,f,m,g,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,o,c){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new bo(e,n,co.emptySet(n),f,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class iN{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class sN{constructor(){this.queries=qv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Re(n),c=o.queries;o.queries=qv(),c.forEach(((f,m)=>{for(const g of m.ba)g.onError(r)}))})(this,new re(Y.ABORTED,"Firestore shutting down"))}}function qv(){return new ca((s=>PT(s)),Bh)}async function Mp(s,e){const n=Re(s);let r=3;const o=e.query;let c=n.queries.get(o);c?!c.Sa()&&e.Da()&&(r=2):(c=new iN,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Op(f,`Initialization of query '${no(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,c),c.ba.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&kp(n)}async function Vp(s,e){const n=Re(s),r=e.query;let o=3;const c=n.queries.get(r);if(c){const f=c.ba.indexOf(e);f>=0&&(c.ba.splice(f,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function rN(s,e){const n=Re(s);let r=!1;for(const o of e){const c=o.query,f=n.queries.get(c);if(f){for(const m of f.ba)m.Fa(o)&&(r=!0);f.wa=o}}r&&kp(n)}function aN(s,e,n){const r=Re(s),o=r.queries.get(e);if(o)for(const c of o.ba)c.onError(n);r.queries.delete(e)}function kp(s){s.Ca.forEach((e=>{e.next()}))}var Fm,Hv;(Hv=Fm||(Fm={})).Ma="default",Hv.Cache="cache";class jp{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new bo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Fm.Cache}}class wE{constructor(e){this.key=e}}class SE{constructor(e){this.key=e}}class oN{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ze(),this.mutatedKeys=ze(),this.eu=zT(e),this.tu=new co(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new Bv,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,w)=>{const A=o.get(E),q=qh(this.query,w)?w:null,K=!!A&&this.mutatedKeys.has(A.key),Z=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let ee=!1;A&&q?A.data.isEqual(q.data)?K!==Z&&(r.track({type:3,doc:q}),ee=!0):this.su(A,q)||(r.track({type:2,doc:q}),ee=!0,(g&&this.eu(q,g)>0||y&&this.eu(q,y)<0)&&(m=!0)):!A&&q?(r.track({type:0,doc:q}),ee=!0):A&&!q&&(r.track({type:1,doc:A}),ee=!0,(g||y)&&(m=!0)),ee&&(q?(f=f.add(q),c=Z?c.add(E):c.delete(E)):(f=f.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),c=c.delete(E.key),r.track({type:1,doc:E})}return{tu:f,iu:r,Ss:m,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,w)=>(function(q,K){const Z=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Vt:ee})}};return Z(q)-Z(K)})(E.type,w.type)||this.eu(E.doc,w.doc))),this.ou(r),o=o??!1;const m=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,y=g!==this.Xa;return this.Xa=g,f.length!==0||y?{snapshot:new bo(this.query,e.tu,c,f,e.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Bv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ze(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new SE(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new wE(r))})),n}cu(e){this.Za=e.ks,this.Ya=ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return bo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Lp="SyncEngine";class lN{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class cN{constructor(e){this.key=e,this.hu=!1}}class uN{constructor(e,n,r,o,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ca((m=>PT(m)),Bh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ht(ye.comparator),this.Au=new Map,this.Vu=new Ep,this.du={},this.mu=new Map,this.fu=vo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function hN(s,e,n=!0){const r=NE(s);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await AE(r,e,n,!0),o}async function fN(s,e){const n=NE(s);await AE(n,e,!0,!1)}async function AE(s,e,n,r){const o=await DC(s.localStore,ji(e)),c=o.targetId,f=s.sharedClientState.addLocalQueryTarget(c,n);let m;return r&&(m=await dN(s,e,c,f==="current",o.resumeToken)),s.isPrimaryClient&&n&&yE(s.remoteStore,o),m}async function dN(s,e,n,r,o){s.pu=(w,A,q)=>(async function(Z,ee,ae,ce){let me=ee.view.ru(ae);me.Ss&&(me=await kv(Z.localStore,ee.query,!1).then((({documents:I})=>ee.view.ru(I,me))));const Me=ce&&ce.targetChanges.get(ee.targetId),qe=ce&&ce.targetMismatches.get(ee.targetId)!=null,Ce=ee.view.applyChanges(me,Z.isPrimaryClient,Me,qe);return Gv(Z,ee.targetId,Ce.au),Ce.snapshot})(s,w,A,q);const c=await kv(s.localStore,e,!0),f=new oN(e,c.ks),m=f.ru(c.documents),g=hc.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),y=f.applyChanges(m,s.isPrimaryClient,g);Gv(s,n,y.au);const E=new lN(e,n,f);return s.Tu.set(e,E),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),y.snapshot}async function mN(s,e,n){const r=Re(s),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((f=>!Bh(f,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await qm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Rp(r.remoteStore,o.targetId),Gm(r,o.targetId)})).catch(Ao)):(Gm(r,o.targetId),await qm(r.localStore,o.targetId,!0))}async function pN(s,e){const n=Re(s),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Rp(n.remoteStore,r.targetId))}async function gN(s,e,n){const r=wN(s);try{const o=await(function(f,m){const g=Re(f),y=ot.now(),E=m.reduce(((q,K)=>q.add(K.key)),ze());let w,A;return g.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let K=ms(),Z=ze();return g.xs.getEntries(q,E).next((ee=>{K=ee,K.forEach(((ae,ce)=>{ce.isValidDocument()||(Z=Z.add(ae))}))})).next((()=>g.localDocuments.getOverlayedDocuments(q,K))).next((ee=>{w=ee;const ae=[];for(const ce of m){const me=O2(ce,w.get(ce.key).overlayedDocument);me!=null&&ae.push(new vr(ce.key,me,DT(me.value.mapValue),ln.exists(!0)))}return g.mutationQueue.addMutationBatch(q,y,ae,m)})).next((ee=>{A=ee;const ae=ee.applyToLocalDocumentSet(w,Z);return g.documentOverlayCache.saveOverlays(q,ee.batchId,ae)}))})).then((()=>({batchId:A.batchId,changes:qT(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let y=f.du[f.currentUser.toKey()];y||(y=new ht(Pe)),y=y.insert(m,g),f.du[f.currentUser.toKey()]=y})(r,o.batchId,n),await dc(r,o.changes),await Yh(r.remoteStore)}catch(o){const c=Op(o,"Failed to persist write");n.reject(c)}}async function xE(s,e){const n=Re(s);try{const r=await IC(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const f=n.Au.get(c);f&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Fe(f.hu,14607):o.removedDocuments.size>0&&(Fe(f.hu,42227),f.hu=!1))})),await dc(n,r,e)}catch(r){await Ao(r)}}function Fv(s,e,n){const r=Re(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((c,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=Re(f);g.onlineState=m;let y=!1;g.queries.forEach(((E,w)=>{for(const A of w.ba)A.va(m)&&(y=!0)})),y&&kp(g)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function yN(s,e,n){const r=Re(s);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),c=o&&o.key;if(c){let f=new ht(ye.comparator);f=f.insert(c,zt.newNoDocument(c,Se.min()));const m=ze().add(c),g=new Gh(Se.min(),new Map,new ht(Pe),f,m);await xE(r,g),r.Ru=r.Ru.remove(c),r.Au.delete(e),Up(r)}else await qm(r.localStore,e,!1).then((()=>Gm(r,e,n))).catch(Ao)}async function _N(s,e){const n=Re(s),r=e.batch.batchId;try{const o=await RC(n.localStore,e);IE(n,r,null),RE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await dc(n,o)}catch(o){await Ao(o)}}async function vN(s,e,n){const r=Re(s);try{const o=await(function(f,m){const g=Re(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next((w=>(Fe(w!==null,37113),E=w.keys(),g.mutationQueue.removeMutationBatch(y,w)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>g.localDocuments.getDocuments(y,E)))}))})(r.localStore,e);IE(r,e,n),RE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await dc(r,o)}catch(o){await Ao(o)}}function RE(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function IE(s,e,n){const r=Re(s);let o=r.du[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function Gm(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||CE(s,r)}))}function CE(s,e){s.Eu.delete(e.path.canonicalString());const n=s.Ru.get(e);n!==null&&(Rp(s.remoteStore,n),s.Ru=s.Ru.remove(e),s.Au.delete(n),Up(s))}function Gv(s,e,n){for(const r of n)r instanceof wE?(s.Vu.addReference(r.key,e),bN(s,r)):r instanceof SE?(he(Lp,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||CE(s,r.key)):Te(19791,{wu:r})}function bN(s,e){const n=e.key,r=n.path.canonicalString();s.Ru.get(n)||s.Eu.has(r)||(he(Lp,"New document in limbo: "+n),s.Eu.add(r),Up(s))}function Up(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new ye(it.fromString(e)),r=s.fu.next();s.Au.set(r,new cN(n)),s.Ru=s.Ru.insert(n,r),yE(s.remoteStore,new ir(ji(zh(n.path)),r,"TargetPurposeLimboResolution",Uh.ce))}}async function dc(s,e,n){const r=Re(s),o=[],c=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,g)=>{f.push(r.pu(g,e,n).then((y=>{if((y||n)&&r.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Sp.Es(g.targetId,y);c.push(E)}})))})),await Promise.all(f),r.Pu.J_(o),await(async function(g,y){const E=Re(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>J.forEach(y,(A=>J.forEach(A.Ts,(q=>E.persistence.referenceDelegate.addReference(w,A.targetId,q))).next((()=>J.forEach(A.Is,(q=>E.persistence.referenceDelegate.removeReference(w,A.targetId,q)))))))))}catch(w){if(!xo(w))throw w;he(Ap,"Failed to update sequence numbers: "+w)}for(const w of y){const A=w.targetId;if(!w.fromCache){const q=E.vs.get(A),K=q.snapshotVersion,Z=q.withLastLimboFreeSnapshotVersion(K);E.vs=E.vs.insert(A,Z)}}})(r.localStore,c))}async function TN(s,e){const n=Re(s);if(!n.currentUser.isEqual(e)){he(Lp,"User change. New user:",e.toKey());const r=await mE(n.localStore,e);n.currentUser=e,(function(c,f){c.mu.forEach((m=>{m.forEach((g=>{g.reject(new re(Y.CANCELLED,f))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await dc(n,r.Ns)}}function EN(s,e){const n=Re(s),r=n.Au.get(e);if(r&&r.hu)return ze().add(r.key);{let o=ze();const c=n.Iu.get(e);if(!c)return o;for(const f of c){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function NE(s){const e=Re(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=xE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yN.bind(null,e),e.Pu.J_=rN.bind(null,e.eventManager),e.Pu.yu=aN.bind(null,e.eventManager),e}function wN(s){const e=Re(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_N.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vN.bind(null,e),e}class wh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return xC(this.persistence,new wC,e.initialUser,this.serializer)}Cu(e){return new dE(wp.Vi,this.serializer)}Du(e){return new MC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wh.provider={build:()=>new wh};class SN extends wh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof Th,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new lC(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new dE((r=>Th.Vi(r,n)),this.serializer)}}class Qm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Fv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=TN.bind(null,this.syncEngine),await nN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new sN})()}createDatastore(e){const n=Qh(e.databaseInfo.databaseId),r=UC(e.databaseInfo);return HC(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,c,f,m){return new GC(r,o,c,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>Fv(this.syncEngine,n,0)),(function(){return Uv.v()?new Uv:new VC})())}createSyncEngine(e,n){return(function(o,c,f,m,g,y,E){const w=new uN(o,c,f,m,g,y);return E&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Re(n);he(ra,"RemoteStore shutting down."),r.Ea.add(5),await fc(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Qm.provider={build:()=>new Qm};class Pp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ds("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}let AN=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new re(Y.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(o,c){const f=Re(o),m={documents:c.map((w=>bh(f.serializer,w)))},g=await f.jo("BatchGetDocuments",f.serializer.databaseId,it.emptyPath(),m,c.length),y=new Map;g.forEach((w=>{const A=G2(f.serializer,w);y.set(A.key.toString(),A)}));const E=[];return c.forEach((w=>{const A=y.get(w.toString());Fe(!!A,55234,{key:w}),E.push(A)})),E})(this.datastore,e);return n.forEach((r=>this.recordVersion(r))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new _p(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,r)=>{const o=ye.fromPath(r);this.mutations.push(new ZT(o,this.precondition(o)))})),await(async function(r,o){const c=Re(r),f={writes:o.map((m=>oE(c.serializer,m)))};await c.Wo("Commit",c.serializer.databaseId,it.emptyPath(),f)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Te(50498,{Gu:e.constructor.name});n=Se.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new re(Y.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Se.min())?ln.exists(!1):ln.updateTime(n):ln.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Se.min()))throw new re(Y.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ln.updateTime(n)}return ln.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};class xN{constructor(e,n,r,o,c){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=o,this.deferred=c,this.zu=r.maxAttempts,this.M_=new xp(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const e=new AN(this.datastore),n=this.Ju(e);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((o=>{this.Zu(o)}))))})).catch((r=>{this.Zu(r)}))}))}Ju(e){try{const n=this.updateFunction(e);return!cc(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Zu(e){this.zu>0&&this.Xu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(e)}Xu(e){if(e?.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!WT(n)}return!1}}const pr="FirestoreClient";class RN{constructor(e,n,r,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=up.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async f=>{he(pr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(he(pr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Op(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Tm(s,e){s.asyncQueue.verifyOperationInProgress(),he(pr,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await mE(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Qv(s,e){s.asyncQueue.verifyOperationInProgress();const n=await IN(s);he(pr,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>zv(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>zv(e.remoteStore,o))),s._onlineComponents=e}async function IN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){he(pr,"Using user provided OfflineComponentProvider");try{await Tm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;mo("Error using user provided cache. Falling back to memory cache: "+n),await Tm(s,new wh)}}else he(pr,"Using default OfflineComponentProvider"),await Tm(s,new SN(void 0));return s._offlineComponents}async function zp(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(he(pr,"Using user provided OnlineComponentProvider"),await Qv(s,s._uninitializedComponentsProvider._online)):(he(pr,"Using default OnlineComponentProvider"),await Qv(s,new Qm))),s._onlineComponents}function CN(s){return zp(s).then((e=>e.syncEngine))}function NN(s){return zp(s).then((e=>e.datastore))}async function Sh(s){const e=await zp(s),n=e.eventManager;return n.onListen=hN.bind(null,e.syncEngine),n.onUnlisten=mN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=fN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=pN.bind(null,e.syncEngine),n}function DN(s,e,n,r){const o=new Pp(r),c=new jp(e,o,n);return s.asyncQueue.enqueueAndForget((async()=>Mp(await Sh(s),c))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>Vp(await Sh(s),c)))}}function ON(s,e,n={}){const r=new ki;return s.asyncQueue.enqueueAndForget((async()=>(function(c,f,m,g,y){const E=new Pp({next:A=>{E.Nu(),f.enqueueAndForget((()=>Vp(c,w)));const q=A.docs.has(m);!q&&A.fromCache?y.reject(new re(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&A.fromCache&&g&&g.source==="server"?y.reject(new re(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(A)},error:A=>y.reject(A)}),w=new jp(zh(m.path),E,{includeMetadataChanges:!0,Ka:!0});return Mp(c,w)})(await Sh(s),s.asyncQueue,e,n,r))),r.promise}function MN(s,e,n={}){const r=new ki;return s.asyncQueue.enqueueAndForget((async()=>(function(c,f,m,g,y){const E=new Pp({next:A=>{E.Nu(),f.enqueueAndForget((()=>Vp(c,w))),A.fromCache&&g.source==="server"?y.reject(new re(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(A)},error:A=>y.reject(A)}),w=new jp(m,E,{includeMetadataChanges:!0,Ka:!0});return Mp(c,w)})(await Sh(s),s.asyncQueue,e,n,r))),r.promise}function VN(s,e){const n=new ki;return s.asyncQueue.enqueueAndForget((async()=>gN(await CN(s),e,n))),n.promise}function kN(s,e,n){const r=new ki;return s.asyncQueue.enqueueAndForget((async()=>{const o=await NN(s);new xN(s.asyncQueue,o,n,e,r).ju()})),r.promise}function DE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const jN="ComponentProvider",Kv=new Map;function LN(s,e,n,r,o){return new t2(s,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,DE(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const OE="firestore.googleapis.com",Yv=!0;class Xv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new re(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OE,this.ssl=Yv}else this.host=e.host,this.ssl=e.ssl??Yv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=fE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aC)throw new re(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}FI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DE(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new re(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new re(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new re(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xh{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new re(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new re(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new VI;switch(r.type){case"firstParty":return new UI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new re(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Kv.get(n);r&&(he(jN,"Removing Datastore"),Kv.delete(n),r.terminate())})(this),Promise.resolve()}}function UN(s,e,n,r={}){s=Nn(s,Xh);const o=Eo(e),c=s._getSettings(),f={...c,emulatorOptions:s._getEmulatorOptions()},m=`${e}:${n}`;o&&(Vb(`https://${m}`),kb("Firestore",!0)),c.host!==OE&&c.host!==m&&mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:m,ssl:o,emulatorOptions:r};if(!hs(g,f)&&(s._setSettings(g),r.mockUserToken)){let y,E;if(typeof r.mockUserToken=="string")y=r.mockUserToken,E=en.MOCK_USER;else{y=jA(r.mockUserToken,s._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new re(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new en(w)}s._authCredentials=new kI(new vT(y,E))}}class ys{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ys(this.firestore,e,this._query)}}class ut{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new or(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ut(this.firestore,e,this._key)}toJSON(){return{type:ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(lc(n,ut._jsonSchema))return new ut(e,r||null,new ye(it.fromString(n.referencePath)))}}ut._jsonSchemaVersion="firestore/documentReference/1.0",ut._jsonSchema={type:Ot("string",ut._jsonSchemaVersion),referencePath:Ot("string")};class or extends ys{constructor(e,n,r){super(e,n,zh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ut(this.firestore,null,new ye(e))}withConverter(e){return new or(this.firestore,e,this._path)}}function PN(s,e,...n){if(s=mt(s),bT("collection","path",e),s instanceof Xh){const r=it.fromString(e,...n);return lv(r),new or(s,null,r)}{if(!(s instanceof ut||s instanceof or))throw new re(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(it.fromString(e,...n));return lv(r),new or(s.firestore,null,r)}}function qi(s,e,...n){if(s=mt(s),arguments.length===1&&(e=up.newId()),bT("doc","path",e),s instanceof Xh){const r=it.fromString(e,...n);return ov(r),new ut(s,null,new ye(r))}{if(!(s instanceof ut||s instanceof or))throw new re(Y.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(it.fromString(e,...n));return ov(r),new ut(s.firestore,s instanceof or?s.converter:null,new ye(r))}}const $v="AsyncQueue";class Jv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new xp(this,"async_queue_retry"),this._c=()=>{const r=bm();r&&he($v,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=bm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=bm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ki;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!xo(e))throw e;he($v,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ds("INTERNAL UNHANDLED ERROR: ",Zv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Dp.createAndSchedule(this,e,n,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:Zv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Zv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class gr extends Xh{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new Jv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Jv(e),this._firestoreClient=void 0,await e}}}function zN(s,e){const n=typeof s=="object"?s:np(),r=typeof s=="string"?s:ph,o=la(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=VA("firestore");c&&UN(o,...c)}return o}function mc(s){if(s._terminated)throw new re(Y.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||BN(s),s._firestoreClient}function BN(s){const e=s._freezeSettings(),n=LN(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new RN(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class Rn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rn($t.fromBase64String(e))}catch(n){throw new re(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Rn($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Rn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(lc(e,Rn._jsonSchema))return Rn.fromBase64String(e.bytes)}}Rn._jsonSchemaVersion="firestore/bytes/1.0",Rn._jsonSchema={type:Ot("string",Rn._jsonSchemaVersion),bytes:Ot("string")};class $h{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new re(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Co{constructor(e){this._methodName=e}}class Li{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new re(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new re(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Li._jsonSchemaVersion}}static fromJSON(e){if(lc(e,Li._jsonSchema))return new Li(e.latitude,e.longitude)}}Li._jsonSchemaVersion="firestore/geoPoint/1.0",Li._jsonSchema={type:Ot("string",Li._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};class li{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(lc(e,li._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new li(e.vectorValues);throw new re(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}li._jsonSchemaVersion="firestore/vectorValue/1.0",li._jsonSchema={type:Ot("string",li._jsonSchemaVersion),vectorValues:Ot("object")};const qN=/^__.*__$/;class HN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new vr(e,this.data,this.fieldMask,n,this.fieldTransforms):new uc(e,this.data,n,this.fieldTransforms)}}class ME{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new vr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function VE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{dataSource:s})}}class Jh{constructor(e,n,r,o,c,f){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Jh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Ah(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(VE(this.dataSource)&&qN.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class FN{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Qh(e)}createContext(e,n,r,o=!1){return new Jh({dataSource:e,methodName:n,targetDoc:r,path:Yt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zh(s){const e=s._freezeSettings(),n=Qh(s._databaseId);return new FN(s._databaseId,!!e.ignoreUndefinedProperties,n)}function kE(s,e,n,r,o,c={}){const f=s.createContext(c.merge||c.mergeFields?2:0,e,n,o);Fp("Data must be an object, but it was:",f,r);const m=UE(r,f);let g,y;if(c.merge)g=new In(f.fieldMask),y=f.fieldTransforms;else if(c.mergeFields){const E=[];for(const w of c.mergeFields){const A=To(e,w,n);if(!f.contains(A))throw new re(Y.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);BE(E,A)||E.push(A)}g=new In(E),y=f.fieldTransforms.filter((w=>g.covers(w.field)))}else g=null,y=f.fieldTransforms;return new HN(new on(m),g,y)}class Wh extends Co{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wh}}function GN(s,e,n){return new Jh({dataSource:3,targetDoc:e.settings.targetDoc,methodName:s._methodName,arrayElement:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Bp extends Co{_toFieldTransform(e){return new yp(e.path,new nc)}isEqual(e){return e instanceof Bp}}class qp extends Co{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=GN(this,e,!0),r=this.Ac.map((c=>No(c,n))),o=new _o(r);return new yp(e.path,o)}isEqual(e){return e instanceof qp&&hs(this.Ac,e.Ac)}}class Hp extends Co{constructor(e,n){super(e),this.Vc=n}_toFieldTransform(e){const n=new sc(e.serializer,GT(e.serializer,this.Vc));return new yp(e.path,n)}isEqual(e){return e instanceof Hp&&this.Vc===e.Vc}}function jE(s,e,n,r){const o=s.createContext(1,e,n);Fp("Data must be an object, but it was:",o,r);const c=[],f=on.empty();_r(r,((g,y)=>{const E=zE(e,g,n);y=mt(y);const w=o.childContextForFieldPath(E);if(y instanceof Wh)c.push(E);else{const A=No(y,w);A!=null&&(c.push(E),f.set(E,A))}}));const m=new In(c);return new ME(f,m,o.fieldTransforms)}function LE(s,e,n,r,o,c){const f=s.createContext(1,e,n),m=[To(e,r,n)],g=[o];if(c.length%2!=0)throw new re(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<c.length;A+=2)m.push(To(e,c[A])),g.push(c[A+1]);const y=[],E=on.empty();for(let A=m.length-1;A>=0;--A)if(!BE(y,m[A])){const q=m[A];let K=g[A];K=mt(K);const Z=f.childContextForFieldPath(q);if(K instanceof Wh)y.push(q);else{const ee=No(K,Z);ee!=null&&(y.push(q),E.set(q,ee))}}const w=new In(y);return new ME(E,w,f.fieldTransforms)}function QN(s,e,n,r=!1){return No(n,s.createContext(r?4:3,e))}function No(s,e){if(PE(s=mt(s)))return Fp("Unsupported field value:",e,s),UE(s,e);if(s instanceof Co)return(function(r,o){if(!VE(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const c=[];let f=0;for(const m of r){let g=No(m,o.childContextForArray(f));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),f++}return{arrayValue:{values:c}}})(s,e)}return(function(r,o){if((r=mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return GT(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=ot.fromDate(r);return{timestampValue:vh(o.serializer,c)}}if(r instanceof ot){const c=new ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:vh(o.serializer,c)}}if(r instanceof Li)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Rn)return{bytesValue:iE(o.serializer,r._byteString)};if(r instanceof ut){const c=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(c))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Tp(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof li)return(function(f,m){const g=f instanceof li?f.toArray():f;return{mapValue:{fields:{[CT]:{stringValue:NT},[gh]:{arrayValue:{values:g.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return gp(m.serializer,E)}))}}}}}})(r,o);if(hE(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Lh(r)}`)})(s,e)}function UE(s,e){const n={};return wT(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_r(s,((r,o)=>{const c=No(o,e.childContextForField(r));c!=null&&(n[r]=c)})),{mapValue:{fields:n}}}function PE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ot||s instanceof Li||s instanceof Rn||s instanceof ut||s instanceof Co||s instanceof li||hE(s))}function Fp(s,e,n){if(!PE(n)||!TT(n)){const r=Lh(n);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function To(s,e,n){if((e=mt(e))instanceof $h)return e._internalPath;if(typeof e=="string")return zE(s,e);throw Ah("Field path arguments must be of type string or ",s,!1,void 0,n)}const KN=new RegExp("[~\\*/\\[\\]]");function zE(s,e,n){if(e.search(KN)>=0)throw Ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new $h(...e.split("."))._internalPath}catch{throw Ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Ah(s,e,n,r,o){const c=r&&!r.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(c||f)&&(g+=" (found",c&&(g+=` in field ${r}`),f&&(g+=` in document ${o}`),g+=")"),new re(Y.INVALID_ARGUMENT,m+s+g)}function BE(s,e){return s.some((n=>n.isEqual(e)))}class qE{convertValue(e,n="none"){switch(dr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return _r(e,((o,c)=>{r[o]=this.convertValue(c,n)})),r}convertVectorValue(e){const n=e.fields?.[gh].arrayValue?.values?.map((r=>vt(r.doubleValue)));return new li(n)}convertGeoPoint(e){return new Li(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ph(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Zl(e));default:return null}}convertTimestamp(e){const n=hr(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=it.fromString(e);Fe(uE(r),9688,{name:e});const o=new Wl(r.get(1),r.get(3)),c=new ye(r.popFirst(5));return o.isEqual(n)||ds(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}class ef extends qE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ut(this.firestore,null,n)}}function HE(){return new Bp("serverTimestamp")}function FE(...s){return new qp("arrayUnion",s)}function GE(s){return new Hp("increment",s)}const Wv="@firebase/firestore",eb="4.10.0";function tb(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const c of r)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class xh{constructor(e,n,r,o,c){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new YN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(To("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class YN extends xh{data(){return super.data()}}function QE(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new re(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gp{}class Qp extends Gp{}function XN(s,e,...n){let r=[];e instanceof Gp&&r.push(e),r=r.concat(n),(function(c){const f=c.filter((g=>g instanceof Yp)).length,m=c.filter((g=>g instanceof Kp)).length;if(f>1||f>0&&m>0)throw new re(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class Kp extends Qp{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Kp(e,n,r)}_apply(e){const n=this._parse(e);return KE(e._query,n),new ys(e.firestore,e.converter,Um(e._query,n))}_parse(e){const n=Zh(e.firestore);return(function(c,f,m,g,y,E,w){let A;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new re(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){ib(w,E);const K=[];for(const Z of w)K.push(nb(g,c,Z));A={arrayValue:{values:K}}}else A=nb(g,c,w)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||ib(w,E),A=QN(m,f,w,E==="in"||E==="not-in");return Dt.create(y,E,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Yp extends Gp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Yp(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ui.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let f=o;const m=c.getFlattenedFilters();for(const g of m)KE(f,g),f=Um(f,g)})(e._query,n),new ys(e.firestore,e.converter,Um(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Xp extends Qp{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Xp(e,n)}_apply(e){const n=(function(o,c,f){if(o.startAt!==null)throw new re(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new re(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new tc(c,f)})(e._query,this._field,this._direction);return new ys(e.firestore,e.converter,v2(e._query,n))}}function $N(s,e="asc"){const n=e,r=To("orderBy",s);return Xp._create(r,n)}class $p extends Qp{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new $p(e,n,r)}_apply(e){return new ys(e.firestore,e.converter,_h(e._query,this._limit,this._limitType))}}function JN(s){return $p._create("limit",s,"F")}function nb(s,e,n){if(typeof(n=mt(n))=="string"){if(n==="")throw new re(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!UT(e)&&n.indexOf("/")!==-1)throw new re(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(it.fromString(n));if(!ye.isDocumentKey(r))throw new re(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return gv(s,new ye(r))}if(n instanceof ut)return gv(s,n._key);throw new re(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lh(n)}.`)}function ib(s,e){if(!Array.isArray(s)||s.length===0)throw new re(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function KE(s,e){const n=(function(o,c){for(const f of o)for(const m of f.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new re(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new re(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function YE(s,e,n){let r;return r=s?n&&(n.merge||n.mergeFields)?s.toFirestore(e,n):s.toFirestore(e):e,r}class ZN extends qE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ut(this.firestore,null,n)}}class ro{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lr extends xh{constructor(e,n,r,o,c,f){super(e,n,r,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(To("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new re(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=lr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}lr._jsonSchemaVersion="firestore/documentSnapshot/1.0",lr._jsonSchema={type:Ot("string",lr._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class rh extends lr{data(e={}){return super.data(e)}}class ea{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new ro(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new rh(this._firestore,this._userDataWriter,r.key,r,new ro(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new re(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ro(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const g=new rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ro(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:WN(m.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new re(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ea._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=up.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function WN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:s})}}ea._jsonSchemaVersion="firestore/querySnapshot/1.0",ea._jsonSchema={type:Ot("string",ea._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};const e4={maxAttempts:5};function ql(s,e){if((s=mt(s)).firestore!==e)throw new re(Y.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}class t4{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Zh(e)}get(e){const n=ql(e,this._firestore),r=new ZN(this._firestore);return this._transaction.lookup([n._key]).then((o=>{if(!o||o.length!==1)return Te(24041);const c=o[0];if(c.isFoundDocument())return new xh(this._firestore,r,c.key,c,n.converter);if(c.isNoDocument())return new xh(this._firestore,r,n._key,null,n.converter);throw Te(18433,{doc:c})}))}set(e,n,r){const o=ql(e,this._firestore),c=YE(o.converter,n,r),f=kE(this._dataReader,"Transaction.set",o._key,c,o.converter!==null,r);return this._transaction.set(o._key,f),this}update(e,n,r,...o){const c=ql(e,this._firestore);let f;return f=typeof(n=mt(n))=="string"||n instanceof $h?LE(this._dataReader,"Transaction.update",c._key,n,r,o):jE(this._dataReader,"Transaction.update",c._key,n),this._transaction.update(c._key,f),this}delete(e){const n=ql(e,this._firestore);return this._transaction.delete(n._key),this}}class n4 extends t4{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=ql(e,this._firestore),r=new ef(this._firestore);return super.get(e).then((o=>new lr(this._firestore,r,n._key,o._document,new ro(!1,!1),n.converter)))}}function i4(s,e,n){s=Nn(s,gr);const r={...e4,...n};(function(f){if(f.maxAttempts<1)throw new re(Y.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r);const o=mc(s);return kN(o,(c=>e(new n4(s,c))),r)}function Jp(s){s=Nn(s,ut);const e=Nn(s.firestore,gr),n=mc(e);return ON(n,s._key).then((r=>JE(e,s,r)))}function s4(s){s=Nn(s,ys);const e=Nn(s.firestore,gr),n=mc(e),r=new ef(e);return QE(s._query),MN(n,s._query).then((o=>new ea(e,r,s,o)))}function rc(s,e,n){s=Nn(s,ut);const r=Nn(s.firestore,gr),o=YE(s.converter,e,n),c=Zh(r);return $E(r,[kE(c,"setDoc",s._key,o,s.converter!==null,n).toMutation(s._key,ln.none())])}function XE(s,e,n,...r){s=Nn(s,ut);const o=Nn(s.firestore,gr),c=Zh(o);let f;return f=typeof(e=mt(e))=="string"||e instanceof $h?LE(c,"updateDoc",s._key,e,n,r):jE(c,"updateDoc",s._key,e),$E(o,[f.toMutation(s._key,ln.exists(!0))])}function r4(s,...e){s=mt(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||tb(e[r])||(n=e[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(tb(e[r])){const y=e[r];e[r]=y.next?.bind(y),e[r+1]=y.error?.bind(y),e[r+2]=y.complete?.bind(y)}let c,f,m;if(s instanceof ut)f=Nn(s.firestore,gr),m=zh(s._key.path),c={next:y=>{e[r]&&e[r](JE(f,s,y))},error:e[r+1],complete:e[r+2]};else{const y=Nn(s,ys);f=Nn(y.firestore,gr),m=y._query;const E=new ef(f);c={next:w=>{e[r]&&e[r](new ea(f,E,y,w))},error:e[r+1],complete:e[r+2]},QE(s._query)}const g=mc(f);return DN(g,m,o,c)}function $E(s,e){const n=mc(s);return VN(n,e)}function JE(s,e,n){const r=n.docs.get(e._key),o=new ef(s);return new lr(s,o,e._key,r,new ro(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){MI(wo),zi(new ci("firestore",((r,{instanceIdentifier:o,options:c})=>{const f=r.getProvider("app").getImmediate(),m=new gr(new jI(r.getProvider("auth-internal")),new PI(f,r.getProvider("app-check-internal")),n2(f,o),f);return c={useFetchStreams:n,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),Gn(Wv,eb,e),Gn(Wv,eb,"esm2020")})();function ZE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const a4=ZE,WE=new oa("auth","Firebase",ZE());const Rh=new Vh("@firebase/auth");function o4(s,...e){Rh.logLevel<=Ue.WARN&&Rh.warn(`Auth (${wo}): ${s}`,...e)}function ah(s,...e){Rh.logLevel<=Ue.ERROR&&Rh.error(`Auth (${wo}): ${s}`,...e)}function ps(s,...e){throw Zp(s,...e)}function Ui(s,...e){return Zp(s,...e)}function ew(s,e,n){const r={...a4(),[e]:n};return new oa("auth","Firebase",r).create(e,{appName:s.name})}function cr(s){return ew(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zp(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return WE.create(s,...e)}function xe(s,e,...n){if(!s)throw Zp(e,...n)}function ls(s){const e="INTERNAL ASSERTION FAILED: "+s;throw ah(e),new Error(e)}function gs(s,e){s||ls(e)}function Km(){return typeof self<"u"&&self.location?.href||""}function l4(){return sb()==="http:"||sb()==="https:"}function sb(){return typeof self<"u"&&self.location?.protocol||null}function c4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(l4()||jb()||"connection"in navigator)?navigator.onLine:!0}function u4(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class pc{constructor(e,n){this.shortDelay=e,this.longDelay=n,gs(n>e,"Short delay should be less than long delay!"),this.isMobile=PA()||qA()}get(){return c4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Wp(s,e){gs(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class tw{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ls("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ls("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ls("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const h4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const f4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],d4=new pc(3e4,6e4);function tf(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Do(s,e,n,r,o={}){return nw(s,o,async()=>{let c={},f={};r&&(e==="GET"?f=r:c={body:JSON.stringify(r)});const m=oc({key:s.config.apiKey,...f}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:g,...c};return BA()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&Eo(s.emulatorConfig.host)&&(y.credentials="include"),tw.fetch()(await sw(s,s.config.apiHost,n,m),y)})}async function nw(s,e,n){s._canInitEmulator=!1;const r={...h4,...e};try{const o=new m4(s),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw Zu(s,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const m=c.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zu(s,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Zu(s,"email-already-in-use",f);if(g==="USER_DISABLED")throw Zu(s,"user-disabled",f);const E=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw ew(s,E,y);ps(s,E)}}catch(o){if(o instanceof hi)throw o;ps(s,"network-request-failed",{message:String(o)})}}async function iw(s,e,n,r,o={}){const c=await Do(s,e,n,r,o);return"mfaPendingCredential"in c&&ps(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function sw(s,e,n,r){const o=`${e}${n}?${r}`,c=s,f=c.config.emulator?Wp(s.config,o):`${s.config.apiScheme}://${o}`;return f4.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}class m4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ui(this.auth,"network-request-failed")),d4.get())})}}function Zu(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Ui(s,e,r);return o.customData._tokenResponse=n,o}async function p4(s,e){return Do(s,"POST","/v1/accounts:delete",e)}async function Ih(s,e){return Do(s,"POST","/v1/accounts:lookup",e)}function Xl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function g4(s,e=!1){const n=mt(s),r=await n.getIdToken(e),o=eg(r);xe(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,f=c?.sign_in_provider;return{claims:o,token:r,authTime:Xl(Em(o.auth_time)),issuedAtTime:Xl(Em(o.iat)),expirationTime:Xl(Em(o.exp)),signInProvider:f||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Em(s){return Number(s)*1e3}function eg(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return ah("JWT malformed, contained fewer than 3 sections"),null;try{const o=Nb(n);return o?JSON.parse(o):(ah("Failed to decode base64 JWT payload"),null)}catch(o){return ah("Caught error parsing JWT payload as JSON",o?.toString()),null}}function rb(s){const e=eg(s);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ac(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof hi&&y4(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function y4({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class _4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Ym{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xl(this.lastLoginAt),this.creationTime=Xl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ch(s){const e=s.auth,n=await s.getIdToken(),r=await ac(s,Ih(e,{idToken:n}));xe(r?.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?rw(o.providerUserInfo):[],f=b4(s.providerData,c),m=s.isAnonymous,g=!(s.email&&o.passwordHash)&&!f?.length,y=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Ym(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(s,E)}async function v4(s){const e=mt(s);await Ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function b4(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function rw(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function T4(s,e){const n=await nw(s,{},async()=>{const r=oc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,f=await sw(s,o,"/v1/token",`key=${c}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:r};return s.emulatorConfig&&Eo(s.emulatorConfig.host)&&(g.credentials="include"),tw.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function E4(s,e){return Do(s,"POST","/v2/accounts:revokeToken",tf(s,e))}class uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const n=rb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:c}=await T4(e,n);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:c}=n,f=new uo;return r&&(xe(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),o&&(xe(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),c&&(xe(typeof c=="number","internal-error",{appName:e}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new uo,this.toJSON())}_performRefresh(){return ls("not implemented")}}function Js(s,e){xe(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class oi{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new _4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ym(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ac(this,this.stsTokenManager.getToken(this.auth,e));return xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return g4(this,e)}reload(){return v4(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new oi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ch(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ai(this.auth.app))return Promise.reject(cr(this.auth));const e=await this.getIdToken();return await ac(this,p4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:w,emailVerified:A,isAnonymous:q,providerData:K,stsTokenManager:Z}=n;xe(w&&Z,e,"internal-error");const ee=uo.fromJSON(this.name,Z);xe(typeof w=="string",e,"internal-error"),Js(r,e.name),Js(o,e.name),xe(typeof A=="boolean",e,"internal-error"),xe(typeof q=="boolean",e,"internal-error"),Js(c,e.name),Js(f,e.name),Js(m,e.name),Js(g,e.name),Js(y,e.name),Js(E,e.name);const ae=new oi({uid:w,auth:e,email:o,emailVerified:A,displayName:r,isAnonymous:q,photoURL:f,phoneNumber:c,tenantId:m,stsTokenManager:ee,createdAt:y,lastLoginAt:E});return K&&Array.isArray(K)&&(ae.providerData=K.map(ce=>({...ce}))),g&&(ae._redirectEventId=g),ae}static async _fromIdTokenResponse(e,n,r=!1){const o=new uo;o.updateFromServerResponse(n);const c=new oi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Ch(c),c}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];xe(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?rw(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!c?.length,m=new uo;m.updateFromIdToken(r);const g=new oi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Ym(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(g,y),g}}const ab=new Map;function cs(s){gs(s instanceof Function,"Expected a class definition");let e=ab.get(s);return e?(gs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,ab.set(s,e),e)}class aw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}aw.type="NONE";const ob=aw;function oh(s,e,n){return`firebase:${s}:${e}:${n}`}class ho{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=oh(this.userKey,o.apiKey,c),this.fullPersistenceKey=oh("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ih(this.auth,{idToken:e}).catch(()=>{});return n?oi._fromGetAccountInfoResponse(this.auth,n,e):null}return oi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ho(cs(ob),e,r);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||cs(ob);const f=oh(r,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let w;if(typeof E=="string"){const A=await Ih(e,{idToken:E}).catch(()=>{});if(!A)break;w=await oi._fromGetAccountInfoResponse(e,A,E)}else w=oi._fromJSON(e,E);y!==c&&(m=w),c=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new ho(c,e,r):(c=g[0],m&&await c._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(f)}catch{}})),new ho(c,e,r))}}function lb(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ow(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fw(e))return"Blackberry";if(dw(e))return"Webos";if(lw(e))return"Safari";if((e.includes("chrome/")||cw(e))&&!e.includes("edge/"))return"Chrome";if(hw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function ow(s=tn()){return/firefox\//i.test(s)}function lw(s=tn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cw(s=tn()){return/crios\//i.test(s)}function uw(s=tn()){return/iemobile/i.test(s)}function hw(s=tn()){return/android/i.test(s)}function fw(s=tn()){return/blackberry/i.test(s)}function dw(s=tn()){return/webos/i.test(s)}function tg(s=tn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function w4(s=tn()){return tg(s)&&!!window.navigator?.standalone}function S4(){return HA()&&document.documentMode===10}function mw(s=tn()){return tg(s)||hw(s)||dw(s)||fw(s)||/windows phone/i.test(s)||uw(s)}function pw(s,e=[]){let n;switch(s){case"Browser":n=lb(tn());break;case"Worker":n=`${lb(tn())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${wo}/${r}`}class A4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=c=>new Promise((f,m)=>{try{const g=e(c);f(g)}catch(g){m(g)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function x4(s,e={}){return Do(s,"GET","/v2/passwordPolicy",tf(s,e))}const R4=6;class I4{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??R4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class C4{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cb(this),this.idTokenSubscription=new cb(this),this.beforeStateQueue=new A4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=cs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ho.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ih(this,{idToken:e}),r=await oi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ai(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,f=r?._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===f)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ch(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=u4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ai(this.app))return Promise.reject(cr(this));const n=e?mt(e):null;return n&&xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ai(this.app)?Promise.reject(cr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ai(this.app)?Promise.reject(cr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await x4(this),n=new I4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new oa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await E4(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&cs(e)||this._popupRedirectResolver;xe(n,this,"argument-error"),this.redirectPersistenceManager=await ho.create(this,[cs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(m,this,"internal-error"),m.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,r,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ai(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&o4(`Error while retrieving App Check token: ${e.error}`),e?.token}}function nf(s){return mt(s)}class cb{constructor(e){this.auth=e,this.observer=null,this.addObserver=$A(n=>this.observer=n)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ng={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function N4(s){ng=s}function D4(s){return ng.loadJS(s)}function O4(){return ng.gapiScript}function M4(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function V4(s,e){const n=la(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(hs(c,e??{}))return o;ps(o,"already-initialized")}return n.initialize({options:e})}function k4(s,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(cs);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function j4(s,e,n){const r=nf(s);xe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=gw(e),{host:f,port:m}=L4(e),g=m===null?"":`:${m}`,y={url:`${c}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){xe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),xe(hs(y,r.config.emulator)&&hs(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,Eo(f)?(Vb(`${c}//${f}${g}`),kb("Auth",!0)):U4()}function gw(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function L4(s){const e=gw(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:ub(r.substr(c.length+1))}}else{const[c,f]=r.split(":");return{host:c,port:ub(f)}}}function ub(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function U4(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class yw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ls("not implemented")}_getIdTokenResponse(e){return ls("not implemented")}_linkToIdToken(e,n){return ls("not implemented")}_getReauthenticationResolver(e){return ls("not implemented")}}async function fo(s,e){return iw(s,"POST","/v1/accounts:signInWithIdp",tf(s,e))}const P4="http://localhost";class aa extends yw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ps("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=n;if(!r||!o)return null;const f=new aa(r,o);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return fo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,fo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fo(e,n)}buildRequest(){const e={requestUri:P4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=oc(n)}return e}}class _w{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class gc extends _w{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ws extends gc{constructor(){super("facebook.com")}static credential(e){return aa._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ws.credential(e.oauthAccessToken)}catch{return null}}}Ws.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ws.PROVIDER_ID="facebook.com";class er extends gc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return aa._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return er.credential(n,r)}catch{return null}}}er.GOOGLE_SIGN_IN_METHOD="google.com";er.PROVIDER_ID="google.com";class tr extends gc{constructor(){super("github.com")}static credential(e){return aa._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return tr.credential(e.oauthAccessToken)}catch{return null}}}tr.GITHUB_SIGN_IN_METHOD="github.com";tr.PROVIDER_ID="github.com";class nr extends gc{constructor(){super("twitter.com")}static credential(e,n){return aa._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return nr.credential(n,r)}catch{return null}}}nr.TWITTER_SIGN_IN_METHOD="twitter.com";nr.PROVIDER_ID="twitter.com";async function z4(s,e){return iw(s,"POST","/v1/accounts:signUp",tf(s,e))}class yr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const c=await oi._fromIdTokenResponse(e,r,o),f=hb(r);return new yr({user:c,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=hb(r);return new yr({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function hb(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function B4(s){if(ai(s.app))return Promise.reject(cr(s));const e=nf(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new yr({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await z4(e,{returnSecureToken:!0}),r=await yr._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}class Nh extends hi{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Nh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new Nh(e,n,r,o)}}function vw(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Nh._fromErrorAndOperation(s,c,e,r):c})}async function q4(s,e,n=!1){const r=await ac(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return yr._forOperation(s,"link",r)}async function H4(s,e,n=!1){const{auth:r}=s;if(ai(r.app))return Promise.reject(cr(r));const o="reauthenticate";try{const c=await ac(s,vw(r,o,e,s),n);xe(c.idToken,r,"internal-error");const f=eg(c.idToken);xe(f,r,"internal-error");const{sub:m}=f;return xe(s.uid===m,r,"user-mismatch"),yr._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&ps(r,"user-mismatch"),c}}async function F4(s,e,n=!1){if(ai(s.app))return Promise.reject(cr(s));const r="signIn",o=await vw(s,r,e),c=await yr._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(c.user),c}function G4(s,e,n,r){return mt(s).onIdTokenChanged(e,n,r)}function Q4(s,e,n){return mt(s).beforeAuthStateChanged(e,n)}function K4(s,e,n,r){return mt(s).onAuthStateChanged(e,n,r)}const Dh="__sak";class bw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dh,"1"),this.storage.removeItem(Dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Y4=1e3,X4=10;class Tw extends bw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},c=this.storage.getItem(r);S4()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,X4):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Y4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Tw.type="LOCAL";const $4=Tw;class Ew extends bw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Ew.type="SESSION";const ww=Ew;function J4(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class sf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new sf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:c}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,c)),g=await J4(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sf.receivers=[];function ig(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}class Z4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,f;return new Promise((m,g)=>{const y=ig("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(w){const A=w;if(A.data.eventId===y)switch(A.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(A.data.response);break;default:clearTimeout(E),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Pi(){return window}function W4(s){Pi().location.href=s}function Sw(){return typeof Pi().WorkerGlobalScope<"u"&&typeof Pi().importScripts=="function"}async function eD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tD(){return navigator?.serviceWorker?.controller||null}function nD(){return Sw()?self:null}const Aw="firebaseLocalStorageDb",iD=1,Oh="firebaseLocalStorage",xw="fbase_key";class yc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rf(s,e){return s.transaction([Oh],e?"readwrite":"readonly").objectStore(Oh)}function sD(){const s=indexedDB.deleteDatabase(Aw);return new yc(s).toPromise()}function Xm(){const s=indexedDB.open(Aw,iD);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Oh,{keyPath:xw})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Oh)?e(r):(r.close(),await sD(),e(await Xm()))})})}async function fb(s,e,n){const r=rf(s,!0).put({[xw]:e,value:n});return new yc(r).toPromise()}async function rD(s,e){const n=rf(s,!1).get(e),r=await new yc(n).toPromise();return r===void 0?null:r.value}function db(s,e){const n=rf(s,!0).delete(e);return new yc(n).toPromise()}const aD=800,oD=3;class Rw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>oD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Sw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sf._getInstance(nD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await eD(),!this.activeServiceWorker)return;this.sender=new Z4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xm();return await fb(e,Dh,"1"),await db(e,Dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>fb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>rD(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>db(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=rf(o,!1).getAll();return new yc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Rw.type="LOCAL";const lD=Rw;new pc(3e4,6e4);function cD(s,e){return e?cs(e):(xe(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class sg extends yw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function uD(s){return F4(s.auth,new sg(s),s.bypassAuthState)}function hD(s){const{auth:e,user:n}=s;return xe(n,e,"internal-error"),H4(n,new sg(s),s.bypassAuthState)}async function fD(s){const{auth:e,user:n}=s;return xe(n,e,"internal-error"),q4(n,new sg(s),s.bypassAuthState)}class Iw{constructor(e,n,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:c,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uD;case"linkViaPopup":case"linkViaRedirect":return fD;case"reauthViaPopup":case"reauthViaRedirect":return hD;default:ps(this.auth,"internal-error")}}resolve(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const dD=new pc(2e3,1e4);class ao extends Iw{constructor(e,n,r,o,c){super(e,n,o,c),this.provider=r,this.authWindow=null,this.pollId=null,ao.currentPopupAction&&ao.currentPopupAction.cancel(),ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){gs(this.filter.length===1,"Popup operations only handle one event");const e=ig();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,dD.get())};e()}}ao.currentPopupAction=null;const mD="pendingRedirect",lh=new Map;class pD extends Iw{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=lh.get(this.auth._key());if(!e){try{const r=await gD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}lh.set(this.auth._key(),e)}return this.bypassAuthState||lh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gD(s,e){const n=vD(e),r=_D(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function yD(s,e){lh.set(s._key(),e)}function _D(s){return cs(s._redirectPersistence)}function vD(s){return oh(mD,s.config.apiKey,s.name)}async function bD(s,e,n=!1){if(ai(s.app))return Promise.reject(cr(s));const r=nf(s),o=cD(r,e),f=await new pD(r,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}const TD=600*1e3;class ED{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Cw(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ui(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=TD&&this.cachedEventUids.clear(),this.cachedEventUids.has(mb(e))}saveEventToCache(e){this.cachedEventUids.add(mb(e)),this.lastProcessedEventTime=Date.now()}}function mb(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function Cw({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function wD(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Cw(s);default:return!1}}async function SD(s,e={}){return Do(s,"GET","/v1/projects",e)}const AD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xD=/^https?/;async function RD(s){if(s.config.emulator)return;const{authorizedDomains:e}=await SD(s);for(const n of e)try{if(ID(n))return}catch{}ps(s,"unauthorized-domain")}function ID(s){const e=Km(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!xD.test(n))return!1;if(AD.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const CD=new pc(3e4,6e4);function pb(){const s=Pi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function ND(s){return new Promise((e,n)=>{function r(){pb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pb(),n(Ui(s,"network-request-failed"))},timeout:CD.get()})}if(Pi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Pi().gapi?.load)r();else{const o=M4("iframefcb");return Pi()[o]=()=>{gapi.load?r():n(Ui(s,"network-request-failed"))},D4(`${O4()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw ch=null,e})}let ch=null;function DD(s){return ch=ch||ND(s),ch}const OD=new pc(5e3,15e3),MD="__/auth/iframe",VD="emulator/auth/iframe",kD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LD(s){const e=s.config;xe(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Wp(e,VD):`https://${s.config.authDomain}/${MD}`,r={apiKey:e.apiKey,appName:s.name,v:wo},o=jD.get(s.config.apiHost);o&&(r.eid=o);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${n}?${oc(r).slice(1)}`}async function UD(s){const e=await DD(s),n=Pi().gapi;return xe(n,s,"internal-error"),e.open({where:document.body,url:LD(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kD,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const f=Ui(s,"network-request-failed"),m=Pi().setTimeout(()=>{c(f)},OD.get());function g(){Pi().clearTimeout(m),o(r)}r.ping(g).then(g,()=>{c(f)})}))}const PD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zD=500,BD=600,qD="_blank",HD="http://localhost";class gb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FD(s,e,n,r=zD,o=BD){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const g={...PD,width:r.toString(),height:o.toString(),top:c,left:f},y=tn().toLowerCase();n&&(m=cw(y)?qD:n),ow(y)&&(e=e||HD,g.scrollbars="yes");const E=Object.entries(g).reduce((A,[q,K])=>`${A}${q}=${K},`,"");if(w4(y)&&m!=="_self")return GD(e||"",m),new gb(null);const w=window.open(e||"",m,E);xe(w,s,"popup-blocked");try{w.focus()}catch{}return new gb(w)}function GD(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const QD="__/auth/handler",KD="emulator/auth/handler",YD=encodeURIComponent("fac");async function yb(s,e,n,r,o,c){xe(s.config.authDomain,s,"auth-domain-config-required"),xe(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:wo,eventId:o};if(e instanceof _w){e.setDefaultLanguage(s.languageCode),f.providerId=e.providerId||"",XA(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))f[E]=w}if(e instanceof gc){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(f.scopes=E.join(","))}s.tenantId&&(f.tid=s.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await s._getAppCheckToken(),y=g?`#${YD}=${encodeURIComponent(g)}`:"";return`${XD(s)}?${oc(m).slice(1)}${y}`}function XD({config:s}){return s.emulator?Wp(s,KD):`https://${s.authDomain}/${QD}`}const wm="webStorageSupport";class $D{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ww,this._completeRedirectFn=bD,this._overrideRedirectResult=yD}async _openPopup(e,n,r,o){gs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await yb(e,n,r,Km(),o);return FD(e,c,ig())}async _openRedirect(e,n,r,o){await this._originValidation(e);const c=await yb(e,n,r,Km(),o);return W4(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(gs(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await UD(e),r=new ED(e);return n.register("authEvent",o=>(xe(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wm,{type:wm},o=>{const c=o?.[0]?.[wm];c!==void 0&&n(!!c),ps(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=RD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mw()||lw()||tg()}}const JD=$D;var _b="@firebase/auth",vb="1.12.0";class ZD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function WD(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eO(s){zi(new ci("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=r.options;xe(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:f,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pw(s)},y=new C4(r,o,c,g);return k4(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),zi(new ci("auth-internal",e=>{const n=nf(e.getProvider("auth").getImmediate());return(r=>new ZD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gn(_b,vb,WD(s)),Gn(_b,vb,"esm2020")}const tO=300,nO=Mb("authIdTokenMaxAge")||tO;let bb=null;const iO=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>nO)return;const o=n?.token;bb!==o&&(bb=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function sO(s=np()){const e=la(s,"auth");if(e.isInitialized())return e.getImmediate();const n=V4(s,{popupRedirectResolver:JD,persistence:[lD,$4,ww]}),r=Mb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const f=iO(c.toString());Q4(n,f,()=>f(n.currentUser)),G4(n,m=>f(m))}}const o=Db("auth");return o&&j4(n,`http://${o}`),n}function rO(){return document.getElementsByTagName("head")?.[0]??document}N4({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const c=Ui("internal-error");c.customData=o,n(c)},r.type="text/javascript",r.charset="UTF-8",rO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eO("Browser");const aO={apiKey:"AIzaSyAVpKz8TJcz9Q0CbSj2v_KQyeEs6SsuXsI",authDomain:"invitation-475eb.firebaseapp.com",projectId:"invitation-475eb",storageBucket:"invitation-475eb.firebasestorage.app",messagingSenderId:"1068873981449",appId:"1:1068873981449:web:82210f667d60117585e2d8",measurementId:"G-5YHV8DE43L"},rg=qb(aO);II(rg);const Qn=zN(rg),ta=sO(rg),oO=()=>{const[s,e]=te.useState(null);return te.useEffect(()=>{const n=r=>{const o=r.detail.message,c=Date.now();e({message:o,id:c}),setTimeout(()=>{e(f=>f&&f.id===c?null:f)},3e3)};return window.addEventListener("show-toast",n),()=>window.removeEventListener("show-toast",n)},[]),s?b.jsxs("div",{style:Tb.toast,children:[b.jsx("span",{style:Tb.icon,children:""}),s.message]}):null},Tb={toast:{position:"fixed",top:"20px",left:"50%",transform:"translateX(-50%)",backgroundColor:"rgba(0, 0, 0, 0.9)",color:"#ffd700",padding:"12px 24px",borderRadius:"30px",fontSize:"0.9rem",fontWeight:"bold",zIndex:9999,display:"flex",alignItems:"center",gap:"8px",boxShadow:"0 4px 15px rgba(0,0,0,0.3)",animation:"slideDown 0.3s ease-out",whiteSpace:"nowrap",border:"1px solid #ffd700"},icon:{fontSize:"1.2rem"}},Nw=document.createElement("style");Nw.innerText=`
  @keyframes slideDown {
    from { transform: translate(-50%, -20px); opacity: 0; }
    to { transform: translate(-50%, 0); opacity: 1; }
  }
`;document.head.appendChild(Nw);const Zs={FIRST_STEP:{id:"FIRST_STEP",title:"  ",desc:"   ."},HIGH_SCORE:{id:"HIGH_SCORE",title:" ",desc:"   30  ."},BOUQUET_CATCHER:{id:"BOUQUET_CATCHER",title:" ",desc:"   30  ."},WEDDING_CRASHER:{id:"WEDDING_CRASHER",title:" ",desc:"    5 !"},COLLECTOR_R:{id:"COLLECTOR_R",title:" ",desc:" R  ."},COLLECTOR_MASTER:{id:"COLLECTOR_MASTER",title:" ",desc:"  ! ( 18)"}};let an=null,Sm=!1;const Wr=new Set;try{const s=localStorage.getItem("my_achievements");s&&(an=JSON.parse(s),an.forEach(e=>Wr.add(e)))}catch(s){console.error(s)}const us=async(s,e=null)=>{if(ta.currentUser)try{if(an===null&&!Sm){Sm=!0;try{const o=localStorage.getItem("wedding_nickname");if(!o)throw"No nickname found";const c=qi(Qn,"users",o),f=await Jp(c);f.exists()?an=f.data().achievements||[]:an=[],an.forEach(m=>Wr.add(m)),localStorage.setItem("my_achievements",JSON.stringify(an))}catch(o){console.error("Failed to fetch achievements:",o)}finally{Sm=!1}}const r=async o=>{if(Wr.has(o))return;if(an&&an.includes(o)){Wr.add(o);return}Wr.add(o);const c=Zs[o];window.dispatchEvent(new CustomEvent("achievement-unlocked",{detail:{...c}})),an&&(an.push(o),localStorage.setItem("my_achievements",JSON.stringify(an)));const f=localStorage.getItem("wedding_nickname");if(f){const m=qi(Qn,"users",f);rc(m,{achievements:FE(o)},{merge:!0}).catch(g=>console.error("Achievement save failed:",g))}};switch(s){case"LOGIN":await r(Zs.FIRST_STEP.id);break;case"GAME_SCORE":e>=30&&await r(Zs.HIGH_SCORE.id);break;case"TOUCH_CHARACTER":e&&e.groom>=5&&e.bride>=5&&await r(Zs.WEDDING_CRASHER.id);break;case"BOUQUET_GAME_SCORE":e>=30&&await r(Zs.BOUQUET_CATCHER.id);break;case"CHECK_COLLECTION":if(!e||!Array.isArray(e))return;const o=ep();o.filter(g=>g.rarity==="R").every(g=>e.includes(g.path))&&await r(Zs.COLLECTOR_R.id),o.every(g=>e.includes(g.path))&&await r(Zs.COLLECTOR_MASTER.id);break}}catch(r){console.error("Error checking achievement:",r)}},lO=s=>{an=s||[],Wr.clear(),an.forEach(e=>Wr.add(e)),localStorage.setItem("my_achievements",JSON.stringify(an))},cO=({onStart:s,onSwitchToV1:e})=>{const[n,r]=te.useState(!1),[o,c]=te.useState(""),[f,m]=te.useState(!1),[g,y]=te.useState("  ...");te.useEffect(()=>{r(!0);const A=K4(ta,q=>{});return()=>A()},[]);const E=async()=>{if(!o.trim()){alert(" ! ()");return}m(!0),y("   ...  ! "),[{text:"    ...  ! ",delay:800},{text:"    ... ",delay:1600},{text:`, [${o}] !  .`,delay:2400}].forEach(({text:q,delay:K})=>{setTimeout(()=>y(q),K)}),setTimeout(async()=>{try{let q=ta.currentUser;q||(q=(await B4(ta)).user);const K=o.trim();localStorage.setItem("wedding_nickname",K);const Z=qi(Qn,"users",K),ee=await Jp(Z);let ae=ee.exists()?ee.data():null;const ce=!ae;if(ce){const me={nickname:K,achievements:[],collection:[],diamonds:0,createdAt:new Date,lastLogin:new Date};await rc(Z,me),localStorage.removeItem("wedding_collection_v2"),localStorage.removeItem("my_achievements"),ae=me}else await rc(Z,{lastLogin:new Date},{merge:!0});if(ae){const me=ae.achievements||[];lO(me);const Me=ae.collection||[];localStorage.setItem("wedding_collection_v2",JSON.stringify(Me)),us("CHECK_COLLECTION",Me),window.dispatchEvent(new Event("collectionUpdated"))}us("LOGIN"),s(ce)}catch(q){console.error("Login Failed",q),alert(" .  ."),m(!1)}},3e3)},w=new URL("/Invitation/assets/pixel_castle_bg-JX_UEiKn.png",import.meta.url).href;return b.jsxs("div",{className:"flex flex-col items-center justify-center h-full w-full font-pixel relative overflow-hidden text-white",children:[b.jsx("div",{className:"absolute inset-0 z-0 bg-cover bg-center",style:{backgroundImage:`url(${w})`,imageRendering:"pixelated"},children:b.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-[2px]"})}),b.jsxs("div",{className:`relative z-10 flex flex-col items-center p-8 transition-all duration-700 transform ${n?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[b.jsx("div",{className:"absolute inset-0 border-4 border-white bg-black/60 shadow-lg",style:{clipPath:"polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)"}}),b.jsxs("div",{className:"relative z-20 flex flex-col items-center text-center w-full max-w-md",children:[b.jsxs("div",{className:"mb-10 animate-pulse",children:[b.jsx("p",{className:"text-yellow-400 text-sm tracking-[0.2em] mb-2 uppercase shine",children:"  "}),b.jsxs("h1",{className:"text-5xl md:text-7xl text-white drop-shadow-[4px_4px_0_rgba(0,0,0,1)] leading-tight font-pixel",children:["WEDDING",b.jsx("br",{}),"QUEST"]})]}),b.jsx("div",{className:"w-full flex flex-col gap-4",children:f?b.jsx("div",{className:"w-full border-4 border-white p-6 bg-black/80 text-center",children:b.jsxs("p",{className:"text-green-400 text-lg animate-pulse",children:[">"," ",g," ",b.jsx("span",{className:"animate-blink",children:"_"})]})}):b.jsxs(b.Fragment,{children:[b.jsx("input",{type:"text",placeholder:" ()",value:o,onChange:A=>c(A.target.value),className:"w-full bg-black/50 border-4 border-white text-white p-4 text-center text-xl placeholder:text-gray-500 focus:bg-black/70 focus:outline-none focus:border-yellow-400 transition-colors uppercase font-pixel",maxLength:8,onKeyDown:A=>A.key==="Enter"&&E(),autoFocus:!0}),b.jsx("button",{onClick:E,className:"w-full bg-blue-600 border-b-4 border-r-4 border-blue-800 text-white p-4 text-xl hover:bg-blue-500 hover:translate-y-1 hover:border-b-0 hover:border-r-0 active:translate-y-2 transition-all group relative overflow-hidden",children:b.jsx("span",{className:"relative z-10",children:"  (START)"})})]})}),b.jsx("button",{onClick:e,className:"mt-8 text-xs text-white/50 hover:text-white underline decoration-dashed underline-offset-4",children:"[    ]"})]})]}),b.jsx("div",{className:"absolute inset-0 pointer-events-none z-50 opacity-10",style:{background:"linear-gradient(to bottom, transparent 50%, rgba(0, 0, 0, 0.5) 51%)",backgroundSize:"100% 4px"}})]})},$m="/Invitation/assets/groom_nobg-tvOAzn_6.png",Jm="/Invitation/assets/bride_nobg-CV5a6LWZ.png",Zm=async s=>{const e=localStorage.getItem("wedding_nickname");if(e&&!(s<=0))try{const n=qi(Qn,"users",e);await XE(n,{diamonds:GE(s)}),console.log(`Earned ${s} Diamonds!`)}catch(n){console.error("Error adding diamonds:",n)}},uO=async s=>{const e=localStorage.getItem("wedding_nickname");if(!e)return!1;const n=qi(Qn,"users",e);try{return await i4(Qn,async o=>{const c=await o.get(n);if(!c.exists())throw"User does not exist!";return(c.data().diamonds||0)<s?!1:(o.update(n,{diamonds:GE(-s)}),!0)})}catch(r){return console.error("Transaction failed: ",r),!1}},hO=s=>{const e=localStorage.getItem("wedding_nickname");if(!e)return s(0),()=>{};const n=qi(Qn,"users",e);return r4(n,o=>{o.exists()?s(o.data().diamonds||0):s(0)})},fO="/Invitation/assets/groom-cEf0GPId.jpg",dO="/Invitation/assets/bride-C9xQdNrL.jpg",mO=()=>{const[s,e]=te.useState(null),[n,r]=te.useState(!1),o=[{id:"groom",name:"",type:"[ / ]",stars:"",desc:'"   ,    .  ,  ."',atk:"",def:"",img:fO,bank:"",account:"49591044955107",displayAccount:"495-910449-55107",holder:""},{id:"bride",name:"",type:"[ / ]",stars:"",desc:'"    ,     .    ."',atk:"",def:"",img:dO,bank:"",account:"110297915880",displayAccount:"110-297-915880",holder:""}],c=f=>{const m=`${f.account} ${f.bank}`;navigator.clipboard.writeText(m).then(()=>{r(!0),setTimeout(()=>r(!1),2e3)}).catch(g=>{console.error("Failed to copy: ",g)}),e(f.id)};return b.jsxs("section",{className:"py-24 px-4 bg-background text-center relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-20 left-10 w-40 h-40 bg-primary/10 rounded-full blur-3xl animate-pulse"}),b.jsx("div",{className:"absolute bottom-20 right-10 w-60 h-60 bg-secondary/10 rounded-full blur-3xl animate-pulse delay-700"}),b.jsx("h2",{className:"text-3xl md:text-4xl text-primary font-heading font-medium mb-4 animate-fade-in-up relative z-10",children:"Groom & Bride"}),b.jsx("p",{className:"text-text/60 mb-12 animate-fade-in-up delay-100 font-body relative z-10",children:"   "}),b.jsx("div",{className:"flex flex-col md:flex-row justify-center gap-8 items-stretch max-w-5xl mx-auto relative z-10",children:o.map((f,m)=>b.jsx("div",{className:"relative w-full max-w-md group",children:b.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-[2.5rem] p-8 shadow-soft-lg border border-white/60 hover:shadow-soft-xl hover:-translate-y-2 transition-all duration-500 h-full flex flex-col items-center",children:[b.jsxs("div",{className:"relative w-48 h-48 mb-6",children:[b.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-tr from-primary/20 to-secondary/20 animate-spin-slow blur-md"}),b.jsx("div",{className:"absolute inset-1 rounded-full bg-white p-1 shadow-inner",children:b.jsx("img",{src:f.img,alt:f.name,className:"w-full h-full object-cover rounded-full"})})]}),b.jsx("h3",{className:"text-2xl font-bold text-text mb-2 font-heading",children:f.name}),b.jsx("p",{className:"text-primary font-body text-lg mb-6",children:f.type.replace("[","").replace("]","")}),b.jsx("div",{className:"w-full bg-background/50 rounded-2xl p-6 mb-6 flex-1 border border-primary/5",children:b.jsx("p",{className:"font-body text-text/80 italic leading-relaxed text-lg",children:f.desc.replace(/"/g,"")})}),b.jsxs("button",{onClick:()=>c(f),className:"w-full py-4 bg-white border border-primary/20 rounded-xl shadow-sm hover:shadow-md hover:border-primary/50 transition-all flex flex-col items-center justify-center gap-1 group/btn",children:[b.jsxs("div",{className:"flex items-center gap-2 text-text/60 text-sm group-hover/btn:text-primary transition-colors",children:[b.jsx("span",{children:f.bank}),b.jsx("span",{className:"w-1 h-3 bg-gray-300 rounded-full"}),b.jsx("span",{children:f.holder})]}),b.jsx("span",{className:"font-body font-bold text-lg text-text tracking-wide group-hover/btn:text-primary transition-colors",children:f.displayAccount}),b.jsx("span",{className:"text-xs text-primary/60 font-medium opacity-0 group-hover/btn:opacity-100 transition-opacity -mb-4 absolute bottom-2",children:"Click to Copy"})]})]})},f.id))}),b.jsx("div",{className:`
                    fixed bottom-10 left-1/2 -translate-x-1/2 bg-white/90 backdrop-blur-md text-text px-8 py-4 rounded-full shadow-soft-xl z-[100] whitespace-nowrap transition-all duration-500 border border-white/50
                    ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-8 pointer-events-none"}
                `,children:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("span",{className:"text-primary text-xl",children:""}),b.jsx("span",{className:"font-body font-medium text-lg",children:" "})]})})]})},Eb="/Invitation/assets/groom_sprites-Dcepr75R.png",wb="/Invitation/assets/bride_sprites-CIfQIsBB.png",Xt={audioCtx:null,init(){this.audioCtx||(this.audioCtx=new(window.AudioContext||window.webkitAudioContext))},playTone(s,e,n,r=.1){try{if(this.audioCtx||this.init(),!this.audioCtx)return;this.audioCtx.state==="suspended"&&this.audioCtx.resume().catch(()=>{});const o=this.audioCtx.createOscillator(),c=this.audioCtx.createGain();o.type=e,o.frequency.setValueAtTime(s,this.audioCtx.currentTime),c.gain.setValueAtTime(r,this.audioCtx.currentTime),c.gain.exponentialRampToValueAtTime(.01,this.audioCtx.currentTime+n),o.connect(c),c.connect(this.audioCtx.destination),o.start(),o.stop(this.audioCtx.currentTime+n)}catch(o){console.warn("Audio play failed",o)}},playClick(){this.playTone(800,"sine",.1,.1)},playConfirm(){try{if(this.audioCtx||this.init(),!this.audioCtx)return;this.audioCtx.state==="suspended"&&this.audioCtx.resume().catch(()=>{});const s=this.audioCtx.currentTime,e=this.audioCtx.createOscillator(),n=this.audioCtx.createGain();e.type="sine",e.frequency.setValueAtTime(600,s),e.frequency.exponentialRampToValueAtTime(1200,s+.1),n.gain.setValueAtTime(.1,s),n.gain.exponentialRampToValueAtTime(.01,s+.2),e.connect(n),n.connect(this.audioCtx.destination),e.start(),e.stop(s+.2)}catch(s){console.warn("Audio confirm failed",s)}},playHover(){this.playTone(400,"sine",.05,.05)},playDamage(){this.playTone(150,"sawtooth",.2,.2)},playWin(){try{if(this.audioCtx||this.init(),!this.audioCtx)return;this.audioCtx.state==="suspended"&&this.audioCtx.resume().catch(()=>{});const s=this.audioCtx.currentTime;[523.25,659.25,783.99,1046.5].forEach((e,n)=>{const r=this.audioCtx.createOscillator(),o=this.audioCtx.createGain();r.type="square",r.frequency.setValueAtTime(e,s+n*.1),o.gain.setValueAtTime(.1,s+n*.1),o.gain.exponentialRampToValueAtTime(.01,s+n*.1+.1),r.connect(o),o.connect(this.audioCtx.destination),r.start(s+n*.1),r.stop(s+n*.1+.1)})}catch{}},playJump(){try{if(this.audioCtx||this.init(),!this.audioCtx)return;this.audioCtx.state==="suspended"&&this.audioCtx.resume().catch(()=>{});const s=this.audioCtx.currentTime,e=this.audioCtx.createOscillator(),n=this.audioCtx.createGain();e.type="square",e.frequency.setValueAtTime(150,s),e.frequency.linearRampToValueAtTime(300,s+.1),n.gain.setValueAtTime(.1,s),n.gain.exponentialRampToValueAtTime(.01,s+.1),e.connect(n),n.connect(this.audioCtx.destination),e.start(),e.stop(s+.1)}catch{}}},pO=({selectedCharacter:s="groom"})=>{const e=te.useRef(null),[n,r]=te.useState("START"),[o,c]=te.useState(0),[f,m]=te.useState(0),[g,y]=te.useState("groom"),[E,w]=te.useState(!1),A=te.useRef(null),q=te.useRef(0),K=te.useRef(new Image),Z=te.useRef(new Image),ee=te.useRef(new Image);te.useEffect(()=>{let ie=0;const ge=3,P=()=>{ie++,ie>=ge&&w(!0)},W=new Image;W.src=new URL("/Invitation/assets/pixel_castle_bg-JX_UEiKn.png",import.meta.url).href,W.onload=()=>{ee.current=W,P()};const ue=fe=>new Promise(x=>{const L=new Image;L.crossOrigin="Anonymous",L.src=fe,L.onload=()=>{const ne=document.createElement("canvas");ne.width=L.width,ne.height=L.height;const le=ne.getContext("2d");le.drawImage(L,0,0);const be=le.getImageData(0,0,ne.width,ne.height),we=be.data;for(let Xe=0;Xe<we.length;Xe+=4){const ve=we[Xe],bt=we[Xe+1],Jt=we[Xe+2];ve===255&&bt===0&&Jt===255&&(we[Xe+3]=0)}le.putImageData(be,0,0);const Ae=new Image;Ae.onload=()=>x(Ae),Ae.src=ne.toDataURL()}}),oe=async(fe,x)=>{const L=await ue(x);fe.current=L,P()};oe(K,Eb),oe(Z,wb),oe(K,Eb),oe(Z,wb)},[]);const ae=800,ce=450,me=50,Me=2026,qe=140,Ce=40,I=te.useRef({dino:{x:50,y:0,w:0,h:0,dy:0,grounded:!0},items:[],obstacles:[],clouds:[],particles:[],fireworks:[],frame:0,bgOffset:0,isGameOver:!1,isGameClear:!1,animationId:null}),C=()=>{const ie=qe;let ge=qe;const P=g==="groom"?K.current:Z.current;if(P&&P.complete&&P.width>0){const W=P.width/3,ue=P.height,oe=W/ue;ge=ie*oe}I.current={dino:{x:80,y:ce-me-ie,w:ge,h:ie,dy:0,grounded:!0},items:[],obstacles:[],clouds:[],particles:[],fireworks:[],frame:0,bgOffset:0,isGameOver:!1,isGameClear:!1,animationId:null,speed:6,runTime:0,spawnTimer:0,lastSpawnType:null},c(0),q.current=0,m(0)},N=()=>{if(I.current.dino.grounded){Xt.playJump(),I.current.dino.dy=-15,I.current.dino.grounded=!1;for(let ie=0;ie<5;ie++)I.current.particles.push({x:I.current.dino.x+I.current.dino.w/2,y:I.current.dino.y+I.current.dino.h+Ce,vx:(Math.random()-.5)*5,vy:(Math.random()-.5)*2,life:20,color:"#fff"})}},k=(ie,ge)=>{const P=["#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF"],W=P[Math.floor(Math.random()*P.length)];for(let ue=0;ue<20;ue++){const oe=Math.random()*Math.PI*2,fe=Math.random()*5+2;I.current.fireworks.push({x:ie,y:ge,vx:Math.cos(oe)*fe,vy:Math.sin(oe)*fe,life:60,color:W})}},M=async ie=>{const ge=localStorage.getItem("wedding_nickname");if(ge)try{const P=qi(Qn,"scores",ge);await rc(P,{uid:ta.currentUser?.uid||"anon",displayName:ge,score:ie,timestamp:HE()},{merge:!0})}catch(P){console.error(P)}};te.useEffect(()=>{const ge=e.current.getContext("2d");ge.imageSmoothingEnabled=!1;let P=performance.now();n==="PLAYING"&&(A.current&&clearInterval(A.current),A.current=setInterval(()=>{m(oe=>oe+1)},1e3));const W=oe=>{if(n!=="PLAYING")return;const fe=Math.min((oe-P)/16,2);P=oe;const x=I.current;if(!x.isGameClear&&!x.isGameOver){x.frame++,x.runTime+=fe*16;const L=Math.floor(x.runTime/5e3);x.speed=Math.min(22,6+L*1.5),x.bgOffset+=x.speed*.5*fe,q.current>=Me&&(x.isGameClear=!0,r("CLEAR"),us("GAME_CLEAR"),M(q.current),Zm(q.current),Xt.playWin(),k(ae/2,ce/2),A.current&&clearInterval(A.current)),x.dino.dy+=1.5*fe,x.dino.y+=x.dino.dy*fe,x.dino.y+x.dino.h>ce-me&&(x.dino.y=ce-me-x.dino.h,x.dino.dy=0,x.dino.grounded=!0);const be=Math.max(300,650-L*40);if(x.spawnTimer-=fe*16,x.spawnTimer<=0){x.spawnTimer=be;let ve=Math.random()>.4;if(x.lastSpawnType==="obstacle"&&(ve=!0),ve){const bt=["","","","",""],Jt=bt[Math.floor(Math.random()*bt.length)];x.items.push({x:ae,y:ce-me-60-Math.random()*100,w:50,h:50,type:Jt,vy:Math.sin(x.frame)*.5}),x.lastSpawnType="item"}else{const bt=["",""],Jt=bt[Math.floor(Math.random()*bt.length)];x.obstacles.push({x:ae,y:ce-me-50,w:50,h:50,type:Jt}),x.lastSpawnType="obstacle"}}const we=ve=>{ve.x-=x.speed*fe,ve.vy&&(ve.y+=Math.sin(x.frame*.1)*2*fe)};[...x.items,...x.obstacles].forEach(we),x.items=x.items.filter(ve=>ve.x+ve.w>0&&!ve.collected),x.obstacles=x.obstacles.filter(ve=>ve.x+ve.w>0);const Ae=20,Xe=ve=>x.dino.x+Ae<ve.x+ve.w-Ae&&x.dino.x+x.dino.w-Ae>ve.x+Ae&&x.dino.y+Ae<ve.y+ve.h-Ae&&x.dino.y+x.dino.h-Ae>ve.y+Ae;x.items.forEach(ve=>{if(Xe(ve)){ve.collected=!0,Xt.playConfirm(),c(bt=>{const Jt=bt+1;return q.current=Jt,us("GAME_SCORE",Jt),Jt});for(let bt=0;bt<5;bt++)x.particles.push({x:ve.x,y:ve.y,vx:(Math.random()-.5)*5,vy:(Math.random()-.5)*5,life:30,color:"#FFD700"})}}),x.obstacles.forEach(ve=>{Xe(ve)&&(Xt.playDamage(),x.isGameOver=!0,r("GAME_OVER"),A.current&&clearInterval(A.current),M(q.current),Zm(q.current))})}else x.isGameClear&&(x.frame%30===0&&k(Math.random()*ae,Math.random()*ce/2),A.current&&clearInterval(A.current));x.particles.forEach(L=>{L.x+=L.vx*fe,L.y+=L.vy*fe,L.life-=fe,L.vy+=.1*fe}),x.fireworks.forEach(L=>{L.x+=L.vx*fe,L.y+=L.vy*fe,L.life-=fe,L.vy+=.1*fe}),x.particles=x.particles.filter(L=>L.life>0),x.fireworks=x.fireworks.filter(L=>L.life>0),ue(ge),(n==="PLAYING"||n==="CLEAR")&&(I.current.animationId=requestAnimationFrame(W))},ue=oe=>{const fe=I.current;if(ee.current&&ee.current.complete){const L=-(fe.bgOffset%ee.current.width);oe.drawImage(ee.current,L,0,ee.current.width,ce),oe.drawImage(ee.current,L+ee.current.width,0,ee.current.width,ce)}else oe.fillStyle="#87CEEB",oe.fillRect(0,0,ae,ce);oe.textAlign="center",oe.textBaseline="middle",oe.font='40px "Segoe UI Emoji", "Segoe UI Symbol", "Apple Color Emoji", "Noto Color Emoji", sans-serif',fe.items.forEach(L=>{L.collected||oe.fillText(L.type,L.x+L.w/2,L.y+L.h/2+5)}),fe.obstacles.forEach(L=>{oe.fillText(L.type,L.x+L.w/2,L.y+L.h/2+5)});const x=g==="groom"?K.current:Z.current;if(x&&x.complete&&x.width>0){const L=x.width/3,ne=x.height,le=Math.floor(fe.frame/6)%2+1,be=fe.dino.grounded&&!fe.isGameClear?le:0;oe.drawImage(x,be*L,0,L,ne,fe.dino.x,fe.dino.y+Ce,fe.dino.w,fe.dino.h)}oe.fillStyle="#FFD700",fe.particles.forEach(L=>{L.color==="#FFD700"&&oe.fillRect(L.x,L.y,4,4)}),oe.fillStyle="#FFFFFF",fe.particles.forEach(L=>{(L.color==="#fff"||L.color==="#FFFFFF")&&oe.fillRect(L.x,L.y,4,4)}),fe.fireworks.forEach(L=>{oe.fillStyle=L.color,oe.fillRect(L.x,L.y,3,3)})};return n==="PLAYING"||n==="CLEAR"?(P=performance.now(),I.current.animationId=requestAnimationFrame(W)):ue(ge),()=>{cancelAnimationFrame(I.current.animationId),A.current&&clearInterval(A.current)}},[n,g,E]);const O=ie=>{ie&&ie.cancelable&&ie.preventDefault(),n==="START"||n==="GAME_OVER"||n==="CLEAR"?(Xt.playClick(),C(),r("PLAYING"),us("GAME_START")):N()},R=ie=>{const ge=Math.floor(ie/60),P=ie%60;return`${ge.toString().padStart(2,"0")}:${P.toString().padStart(2,"0")}`};return b.jsxs("div",{onClick:O,onTouchStart:O,className:"relative w-full aspect-[16/9] md:aspect-[2/1] bg-sky-300 border-4 border-black overflow-hidden shadow-[8px_8px_0_rgba(0,0,0,0.5)] font-['Silkscreen'] select-none cursor-pointer touch-none",children:[b.jsx("canvas",{ref:e,width:800,height:450,className:"w-full h-full block",style:{imageRendering:"pixelated"}}),n==="START"&&b.jsxs("div",{className:"absolute inset-0 bg-black/60 flex flex-col items-center justify-center text-white p-4 font-['Silkscreen']",children:[b.jsx("h2",{className:"text-3xl md:text-4xl text-yellow-400 mb-4 animate-bounce drop-shadow-md font-['Silkscreen'] text-center",children:"WEDDING RUN"}),b.jsx("p",{className:"text-xs md:text-sm mb-8 animate-pulse text-gray-300",children:"INSERT COIN TO START"}),b.jsx("div",{className:"border-4 border-white px-6 py-2 bg-blue-600 hover:bg-blue-500 blink text-sm md:text-base",children:"PRESS START"})]}),n==="GAME_OVER"&&b.jsxs("div",{className:"absolute inset-0 bg-black/70 flex flex-col items-center justify-center text-white font-['Silkscreen']",children:[b.jsx("h2",{className:"text-5xl text-red-500 mb-4 drop-shadow-md font-['Silkscreen']",children:"GAME OVER"}),b.jsxs("p",{className:"text-2xl mb-2",children:["SCORE: ",o]}),b.jsxs("p",{className:"text-xl mb-2 text-cyan-400 font-bold animate-pulse",children:[" EARNED: +",o]}),b.jsxs("p",{className:"text-lg text-gray-400 mb-8",children:["TIME: ",R(f)]}),b.jsx("div",{className:"border-4 border-white px-6 py-2 hover:bg-white hover:text-black transition-colors",children:"RETRY ?"})]}),b.jsx("div",{className:"absolute top-4 left-4 z-20",children:b.jsxs("div",{className:"bg-black/50 text-white px-3 py-1 border-2 border-white/50 text-sm flex items-center shadow-md backdrop-blur-sm rounded-md",children:[" ",R(f)]})}),b.jsxs("div",{className:"absolute top-4 right-4 text-2xl text-white drop-shadow-[2px_2px_0_black]",children:["SCORE: ",o]})]})};var Dw=Ab();const Wu=ep(),Am={SSR:.1,SR:.3},gO=()=>{const[s,e]=te.useState([]),[n,r]=te.useState(!1),o=async c=>{if(n||Wu.length===0)return;if(Xt.playClick(),!await uO(c)){alert(` ! ${c} ! `);return}r(!0),e([]),setTimeout(()=>{const m=[];for(let y=0;y<c;y++){const E=Math.random();let w="R";E<Am.SSR?w="SSR":E<Am.SSR+Am.SR&&(w="SR");let A=Wu.filter(Z=>Z.rarity===w);A.length===0&&(w="SR",A=Wu.filter(Z=>Z.rarity===w)),A.length===0&&(w="R",A=Wu.filter(Z=>Z.rarity===w));const q=A[Math.floor(Math.random()*A.length)],K=JSON.parse(localStorage.getItem("wedding_collection_v2")||"[]");K.includes(q.path)||(K.push(q.path),localStorage.setItem("wedding_collection_v2",JSON.stringify(K)),us("CHECK_COLLECTION",K)),m.push({image:q.src,originalPath:q.path,rarity:w==="SSR"?"SSR/":w==="SR"?"SR/":"R/",originalRarity:w})}window.dispatchEvent(new Event("collectionUpdated")),e(m),r(!1),Xt.playConfirm();const g=localStorage.getItem("wedding_nickname");if(g&&m.length>0){const y=qi(Qn,"users",g);m.map(w=>w.image.split("assets/")[1]?`assets/${w.image.split("assets/")[1]}`:w.image);const E=m.map(w=>w.originalPath);XE(y,{collection:FE(...E)}).catch(w=>console.error("Error saving collection to Firestore:",w))}},2e3)};return b.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-background relative overflow-hidden font-body p-4 select-none",children:[b.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[500px] h-[500px] bg-primary/10 rounded-full blur-[100px] animate-pulse pointer-events-none"}),b.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[600px] h-[600px] bg-secondary/10 rounded-full blur-[120px] animate-pulse delay-1000 pointer-events-none"}),s.length===0&&!n&&b.jsxs("div",{className:"z-10 flex flex-col items-center w-full max-w-sm animate-in zoom-in duration-500 font-['Silkscreen']",children:[b.jsxs("div",{className:"mb-4 text-center bg-black/60 backdrop-blur-md border-[6px] border-white px-8 py-6 rounded-2xl shadow-[8px_8px_0_rgba(0,0,0,0.5)]",children:[b.jsx("h2",{className:"text-3xl text-yellow-400 mb-2 drop-shadow-md tracking-wider font-['Silkscreen']",children:"WEDDING PHOTO"}),b.jsx("p",{className:"text-white text-sm",children:"   !"})]}),b.jsx("div",{className:"relative group cursor-pointer mb-8 animate-float",children:b.jsxs("div",{className:"w-48 h-48 bg-gradient-to-tr from-purple-600 to-indigo-400 rounded-full border-[8px] border-white shadow-[0_0_20px_rgba(168,85,247,0.6)] flex items-center justify-center animate-pulse group-hover:scale-105 transition-transform",children:[b.jsx("span",{className:"text-8xl drop-shadow-lg",children:""}),b.jsx("div",{className:"absolute top-4 right-8 w-8 h-8 bg-white/40 rounded-full blur-sm"})]})}),b.jsxs("div",{className:"flex gap-4 w-full justify-center px-4",children:[b.jsxs("button",{onClick:()=>o(1),className:"flex-1 bg-blue-600 border-4 border-white text-white py-4 rounded-xl shadow-[4px_4px_0_black] hover:translate-y-1 hover:shadow-[2px_2px_0_black] active:translate-y-2 active:shadow-none transition-all flex flex-col items-center gap-1",children:[b.jsx("span",{className:"text-xl font-bold",children:"1 "}),b.jsx("div",{className:"bg-black/30 px-3 py-1 rounded-full text-xs flex items-center gap-1",children:" 1"})]}),b.jsxs("button",{onClick:()=>o(10),className:"flex-1 bg-yellow-500 border-4 border-white text-white py-4 rounded-xl shadow-[4px_4px_0_black] hover:translate-y-1 hover:shadow-[2px_2px_0_black] active:translate-y-2 active:shadow-none transition-all flex flex-col items-center gap-1",children:[b.jsx("span",{className:"text-xl font-bold text-black drop-shadow-md",children:"10 "}),b.jsx("div",{className:"bg-black/30 px-3 py-1 rounded-full text-xs flex items-center gap-1 text-white",children:" 10"})]})]})]}),n&&b.jsxs("div",{className:"z-10 flex flex-col items-center justify-center font-['Silkscreen']",children:[b.jsx("div",{className:"text-9xl mb-8 animate-[spin_0.5s_linear_infinite] grayscale brightness-150",children:""}),b.jsx("p",{className:"text-3xl text-white animate-pulse drop-shadow-[4px_4px_0_black]",children:" ..."})]}),s.length>0&&!n&&Dw.createPortal(b.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 font-['Silkscreen'] bg-black/90 backdrop-blur-sm animate-in fade-in duration-300",onClick:()=>e([]),children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-yellow-500/10 to-transparent pointer-events-none animate-pulse"}),b.jsxs("div",{className:"relative z-10 flex flex-col items-center animate-in zoom-in duration-500 w-full max-w-4xl max-h-[90vh] overflow-y-auto",onClick:c=>c.stopPropagation(),children:[b.jsx("h2",{className:"text-4xl text-yellow-400 mb-8 drop-shadow-[0_4px_0_black] animate-bounce text-center",children:s.length>1?" 10   ":"    "}),b.jsx("div",{className:`
                            ${s.length>1?"grid grid-cols-2 md:grid-cols-5 gap-4 p-4":"flex justify-center p-4"}
                        `,children:s.map((c,f)=>b.jsxs("div",{className:`
                                    relative bg-white p-2 rounded-lg shadow-lg border-[4px]
                                    ${c.rarity==="SSR"?"border-yellow-400 ring-4 ring-yellow-400/50":c.rarity==="SR"?"border-purple-400":"border-gray-400"}
                                    flex flex-col items-center transform transition-transform hover:scale-105 duration-200
                                    ${s.length===1?"scale-125 p-4 border-[8px]":""}
                                `,children:[b.jsxs("div",{className:"absolute -top-3 -right-3 z-10",children:[c.rarity==="SSR"&&b.jsx("span",{className:"bg-yellow-400 text-black text-xs font-bold px-2 py-1 rounded-full border-2 border-white shadow-md",children:"SSR"}),c.rarity==="SR"&&b.jsx("span",{className:"bg-purple-500 text-white text-xs font-bold px-2 py-1 rounded-full border-2 border-white shadow-md",children:"SR"}),c.rarity==="R"&&b.jsx("span",{className:"bg-gray-500 text-white text-xs font-bold px-2 py-1 rounded-full border-2 border-white shadow-md",children:"R"})]}),b.jsx("img",{src:c.image,alt:"Result",className:`object-cover bg-gray-900 border-2 border-black
                                            ${s.length>1?"w-24 h-32 md:w-32 md:h-40":"w-64 h-80"}
                                        `}),s.length===1&&b.jsx("div",{className:"mt-4 text-xl text-black font-bold tracking-widest uppercase text-center",children:c.rarity==="SSR"?"  ":" "})]},f))}),b.jsxs("div",{className:"flex gap-4 mt-8 w-full justify-center pb-8",children:[b.jsx("button",{onClick:()=>e([]),className:"px-8 py-3 bg-gray-600 text-white border-4 border-white hover:bg-gray-500 active:scale-95 transition-all shadow-[4px_4px_0_black]",children:""}),b.jsxs("button",{onClick:()=>o(s.length),className:"px-8 py-3 bg-blue-600 text-white border-4 border-white hover:bg-blue-500 active:scale-95 transition-all shadow-[4px_4px_0_black] flex items-center gap-2",children:[b.jsx("span",{children:""}),"  (",s.length,")"]})]})]})]}),document.body)]})},Sb=[{id:1,speaker:"",text:"    !     .",image:"groom"},{id:2,speaker:"",text:"   ?         .",image:"bride"},{id:3,speaker:"",text:" ' '   ' '  !     .",image:"groom"},{id:4,speaker:"",text:"   ''   ,    .",image:"bride"},{id:5,speaker:"",text:"   ' '   !      .",image:"groom"},{id:6,speaker:"",text:"  !     ''   .",image:"bride"},{id:7,speaker:"",text:"' ', ' '      .",image:"groom"},{id:8,speaker:"",text:"          .",image:"bride"},{id:9,speaker:"",text:"      ,        .",image:"groom"},{id:10,speaker:"",text:"    !    !",image:"both"}],yO=({onClose:s})=>{const[e,n]=te.useState(0),[r,o]=te.useState(""),[c,f]=te.useState(!1),m=te.useRef(null),g=Sb[e];te.useEffect(()=>{if(!g)return;o(""),f(!0);const E=g.text;let w=0;const A=30;return m.current&&clearInterval(m.current),m.current=setInterval(()=>{w++,o(E.slice(0,w)),w>=E.length&&(clearInterval(m.current),f(!1))},A),()=>{m.current&&clearInterval(m.current)}},[e]);const y=()=>{Xt.playClick(),c?(m.current&&clearInterval(m.current),o(g.text),f(!1)):e<Sb.length-1?n(E=>E+1):(Xt.playConfirm(),s())};return b.jsxs("div",{className:"w-full h-full relative flex flex-col justify-end overflow-hidden cursor-pointer min-h-[500px] bg-black/40 backdrop-blur-sm select-none",onClick:y,children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-80"}),b.jsx("div",{className:"absolute bottom-32 left-1/2 -translate-x-1/2 h-[85%] flex items-end justify-center transition-transform duration-300 z-0 gap-4",children:g.image==="both"?b.jsxs(b.Fragment,{children:[b.jsx("img",{src:$m,alt:"Groom",className:"h-full object-contain drop-shadow-[0_0_20px_rgba(255,255,255,0.2)]"}),b.jsx("img",{src:Jm,alt:"Bride",className:"h-full object-contain drop-shadow-[0_0_20px_rgba(255,255,255,0.2)]"})]}):b.jsx("img",{src:g.image==="groom"?$m:g.image==="bride"?Jm:"",alt:"Character",className:`h-full object-contain drop-shadow-[0_0_20px_rgba(255,255,255,0.2)] ${!g.image||g.image==="system"?"hidden":""}`},e)}),b.jsxs("div",{className:"relative z-10 mx-2 mb-2 md:m-6 md:mb-8 font-pixel",children:[b.jsx("div",{className:`
                    absolute -top-10 left-0 border-4 border-white border-b-0 px-6 py-2
                    ${g.speaker===""?"bg-blue-600":g.speaker===""?"bg-pink-500":"bg-gray-700"}
                `,children:b.jsx("span",{className:"text-white text-xl tracking-wider uppercase drop-shadow-[2px_2px_0_black]",children:g.speaker})}),b.jsxs("div",{className:"bg-black/90 border-4 border-white p-6 shadow-[8px_8px_0_rgba(0,0,0,0.8)] min-h-[160px] relative",children:[b.jsxs("p",{className:"text-xl md:text-2xl text-white leading-relaxed tracking-wide drop-shadow-md whitespace-pre-wrap",children:[r,c&&b.jsx("span",{className:"animate-blink inline-block ml-1 w-3 h-5 bg-yellow-400 align-middle"})]}),!c&&b.jsx("div",{className:"absolute bottom-4 right-4 animate-bounce",children:b.jsx("div",{className:"w-0 h-0 border-l-[10px] border-l-transparent border-r-[10px] border-r-transparent border-t-[15px] border-t-red-500 drop-shadow-[0_2px_0_white]"})})]})]})]})},_O=({title:s,onClose:e,children:n})=>b.jsxs("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex justify-center items-center p-2 md:p-4 font-pixel select-none",children:[b.jsxs("div",{className:"w-full max-w-3xl max-h-[90vh] bg-white border-4 border-black shadow-[8px_8px_0_rgba(0,0,0,0.5)] flex flex-col overflow-hidden animate-[slideUp_0.3s_steps(4)] relative",children:[b.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b-4 border-black bg-blue-600 text-white",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"animate-pulse",children:""}),b.jsx("span",{className:"text-lg uppercase tracking-wider",children:s})]}),b.jsx("button",{className:"text-white hover:text-yellow-300 transition-colors text-2xl leading-none w-8 h-8 flex items-center justify-center border-2 border-transparent hover:border-white hover:bg-white/10",onClick:e,children:"X"})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-0 scrollbar-hide bg-white relative",children:b.jsx("div",{className:"h-full",children:n})}),b.jsx("div",{className:"h-2 bg-black w-full"})]}),b.jsx("style",{children:`
                @keyframes slideUp {
                    from { transform: translateY(20px); opacity: 0; }
                    to { transform: translateY(0); opacity: 1; }
                }
            `})]}),vO=()=>{const[s,e]=te.useState([]),[n,r]=te.useState(!0),[o,c]=te.useState("run"),f=localStorage.getItem("wedding_nickname");return te.useEffect(()=>{(async()=>{r(!0);try{const y=XN(PN(Qn,o==="run"?"scores":"bouquet_scores"),$N("score","desc"),JN(50)),w=(await s4(y)).docs.map(K=>({id:K.id,...K.data()})),A=new Map;w.forEach(K=>{const Z=K.displayName;(!A.has(Z)||A.get(Z).score<K.score)&&A.set(Z,K)});const q=Array.from(A.values()).sort((K,Z)=>Z.score-K.score).slice(0,10);e(q)}catch(g){console.error("Error fetching rankings: ",g)}finally{r(!1)}})()},[o]),b.jsx("div",{className:"w-full max-w-2xl mx-auto p-1 font-pixel select-none",children:b.jsxs("div",{className:"bg-black/80 backdrop-blur-md border-[6px] border-white rounded-lg p-6 shadow-[8px_8px_0_rgba(0,0,0,0.5)] relative overflow-hidden",children:[b.jsx("div",{className:"absolute inset-0 pointer-events-none bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20"}),b.jsx("div",{className:"text-center mb-6",children:b.jsx("h3",{className:"text-3xl md:text-4xl text-yellow-400 mb-2 drop-shadow-[4px_4px_0_#b91c1c] animate-pulse tracking-wider font-pixel whitespace-nowrap",children:"   "})}),b.jsxs("div",{className:"flex gap-2 mb-0 justify-center relative z-10",children:[b.jsx("button",{onClick:()=>c("run"),className:`flex-1 md:flex-none px-2 md:px-4 py-2 border-t-4 border-x-4 rounded-t-lg transition-all text-xs md:text-sm ${o==="run"?"bg-blue-600 border-white text-white -mb-1 pb-3":"bg-gray-800 border-gray-600 text-gray-400 hover:bg-gray-700 mt-2"}`,children:"  "}),b.jsx("button",{onClick:()=>c("bouquet"),className:`flex-1 md:flex-none px-2 md:px-4 py-2 border-t-4 border-x-4 rounded-t-lg transition-all text-xs md:text-sm ${o==="bouquet"?"bg-pink-600 border-white text-white -mb-1 pb-3":"bg-gray-800 border-gray-600 text-gray-400 hover:bg-gray-700 mt-2"}`,children:"  "})]}),b.jsx("div",{className:"overflow-hidden border-4 border-white bg-black min-h-[300px] relative z-0",children:n?b.jsxs("div",{className:"flex flex-col items-center justify-center p-8 h-[300px] text-white",children:[b.jsx("div",{className:"animate-spin text-4xl mb-4",children:""}),b.jsx("p",{className:"animate-pulse",children:"  ..."})]}):b.jsxs("table",{className:"w-full text-left bg-black text-white",children:[b.jsx("thead",{className:`${o==="run"?"bg-blue-800":"bg-pink-800"} text-yellow-300 border-b-4 border-white`,children:b.jsxs("tr",{children:[b.jsx("th",{className:"p-4 text-center w-16",children:""}),b.jsx("th",{className:"p-4",children:""}),b.jsx("th",{className:"p-4 text-right",children:""})]})}),b.jsxs("tbody",{children:[s.map((m,g)=>{const y=f&&(m.displayName===f||m.id===f),E=w=>w===0?"text-yellow-400 drop-shadow-[0_0_5px_gold]":w===1?"text-gray-300 drop-shadow-[0_0_5px_silver]":w===2?"text-orange-400 drop-shadow-[0_0_5px_orange]":"text-white";return b.jsxs("tr",{className:`
                                                border-b-2 border-white/20
                                                ${y?"bg-white/20 animate-pulse":"hover:bg-white/10"}
                                                ${g<3?"text-lg":""}
                                            `,children:[b.jsxs("td",{className:"p-3 text-center text-2xl",children:[g===0&&"",g===1&&"",g===2&&"",g>2&&b.jsxs("span",{className:"text-gray-500 text-lg",children:["#",g+1]})]}),b.jsx("td",{className:`p-3 ${y?"text-cyan-300":E(g)}`,children:b.jsxs("div",{className:"flex flex-col",children:[b.jsx("span",{className:"truncate max-w-[120px] md:max-w-none block",children:m.displayName}),y&&b.jsx("span",{className:"text-[10px] text-cyan-500",children:""})]})}),b.jsx("td",{className:`p-3 text-right ${g<3?"text-yellow-200":"text-gray-300"}`,children:m.score.toLocaleString()})]},m.id)}),s.length===0&&b.jsx("tr",{children:b.jsx("td",{colSpan:"3",className:"p-8 text-center text-gray-500",children:"  "})})]})]})}),b.jsx("div",{className:"mt-6 text-center text-xs text-gray-500 tracking-widest uppercase animate-pulse",children:"   "})]})})},bO=()=>{const[s,e]=te.useState([]),[n,r]=te.useState(!0);ta.currentUser,te.useEffect(()=>{(async()=>{const f=localStorage.getItem("wedding_nickname");if(!f){r(!1);return}try{const m=qi(Qn,"users",f),g=await Jp(m);g.exists()&&e(g.data().achievements||[])}catch(m){console.error("Error fetching achievements:",m)}finally{r(!1)}})()},[]);const o=Object.values(Zs);return b.jsx("div",{className:"w-full max-w-2xl mx-auto p-1 font-pixel select-none text-white",children:b.jsxs("div",{className:"bg-black/80 backdrop-blur-md border-[6px] border-white rounded-lg p-6 shadow-[8px_8px_0_rgba(0,0,0,0.5)] relative overflow-hidden",children:[b.jsx("div",{className:"absolute inset-0 pointer-events-none bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20"}),b.jsxs("div",{className:"text-center mb-8 relative z-10",children:[b.jsx("h3",{className:"text-3xl md:text-4xl text-yellow-400 mb-2 drop-shadow-[4px_4px_0_#b91c1c] animate-pulse tracking-wider whitespace-nowrap",children:"   "}),b.jsxs("p",{className:"text-gray-400 text-xs md:text-sm tracking-[0.2em] uppercase",children:["Mission Progress: ",s.length," / ",o.length]})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 relative z-10",children:o.map(c=>{const f=s.includes(c.id);return b.jsxs("div",{className:`
                                    relative border-4 p-4 transition-all duration-300 group
                                    ${f?"bg-blue-900/40 border-yellow-400 shadow-[4px_4px_0_rgba(250,204,21,0.5)]":"bg-gray-900/50 border-gray-600 grayscale opacity-60"}
                                `,children:[b.jsxs("div",{className:"flex items-start gap-4",children:[b.jsx("div",{className:`
                                        w-12 h-12 flex items-center justify-center text-3xl border-2 
                                        ${f?"bg-black border-yellow-400":"bg-black border-gray-600"}
                                    `,children:f?"":""}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("div",{className:`
                                            font-bold text-lg mb-1 truncate
                                            ${f?"text-yellow-300":"text-gray-500"}
                                        `,children:c.title}),b.jsx("div",{className:"text-xs text-gray-300 leading-relaxed break-keep",children:c.desc})]})]}),f&&b.jsx("div",{className:"absolute -right-2 -bottom-2 transform rotate-[-12deg] border-2 border-red-500 text-red-500 px-2 py-0.5 text-[10px] font-bold tracking-widest bg-black/80 opacity-80 pointer-events-none",children:"CLEAR"})]},c.id)})}),b.jsx("div",{className:"mt-8 text-center border-t-2 border-white/20 pt-4",children:b.jsx("p",{className:"text-[10px] text-gray-500 animate-pulse",children:"     !"})})]})})},TO="/Invitation/assets/bride_pixel-C767E2zg.png",EO=({src:s,filterColor:e=[255,0,255]})=>{const n=te.useRef(null);return te.useEffect(()=>{const r=n.current;if(!r)return;const o=r.getContext("2d"),c=new Image;c.src=s,c.onload=()=>{r.width=c.width,r.height=c.height,o.drawImage(c,0,0);const f=o.getImageData(0,0,r.width,r.height),m=f.data,[g,y,E]=e;for(let w=0;w<m.length;w+=4){const A=m[w],q=m[w+1],K=m[w+2];A>200&&q<100&&K>200&&A-q>50&&K-q>50&&(m[w+3]=0)}o.putImageData(f,0,0)}},[s]),b.jsx("canvas",{ref:n,className:"w-full h-full object-contain drop-shadow-lg",style:{imageRendering:"pixelated"}})},wO=({onClose:s})=>{const[e,n]=te.useState("start"),[r,o]=te.useState(0),[c,f]=te.useState(0),[m,g]=te.useState(2),[y,E]=te.useState([]),w=te.useRef(null),A=te.useRef(null),q=te.useRef(null),K=te.useRef(0),Z=te.useRef("start"),ee=te.useRef(2),ae=te.useRef([]),ce=te.useRef(0),me=new URL("/Invitation/assets/pixel_castle_bg-JX_UEiKn.png",import.meta.url).href,Me=5,qe=100/Me,Ce=15;te.useEffect(()=>{ee.current=m},[m]);const I=()=>{Xt.playClick(),n("playing"),o(0),f(0),g(2),E([]),K.current=0,ee.current=2,ae.current=[],Z.current="playing",A.current&&clearInterval(A.current),A.current=setInterval(C,800),q.current&&clearInterval(q.current),q.current=setInterval(()=>{f(ie=>ie+1)},1e3),w.current&&cancelAnimationFrame(w.current),w.current=requestAnimationFrame(N)},C=()=>{if(Z.current!=="playing")return;const ie=Date.now()+Math.random(),P=Math.random()>.6?Math.random()>.5?"bomb":"withered":"bouquet",W=Math.floor(Math.random()*Me),ue=W*qe+qe/2-5,oe={id:ie,x:ue,y:-10,type:P,lane:W};ae.current.push(oe)},N=ie=>{if(Z.current!=="playing")return;const ge=ie||performance.now();ce.current||(ce.current=ge);const P=Math.min((ge-ce.current)/16,2);ce.current=ge;const W=(.4+K.current*.05)*P;let ue=!1;if(ae.current=ae.current.filter(oe=>(oe.y+=W,oe.y>75&&oe.y<95&&oe.lane===ee.current?oe.type==="bouquet"?(Xt.playConfirm(),K.current+=1,o(K.current),!1):(Xt.playDamage(),ue=!0,!1):oe.y<105)),ue){M("gameover");return}E([...ae.current]),w.current=requestAnimationFrame(N)},k=async ie=>{const ge=localStorage.getItem("wedding_nickname");if(ge)try{const P=qi(Qn,"bouquet_scores",ge);await rc(P,{uid:ta.currentUser?.uid||"anon",displayName:ge,score:ie,timestamp:HE()},{merge:!0})}catch(P){console.error("Error saving bouquet score:",P)}},M=ie=>{Z.current=ie,n(ie);{const ge=K.current;Zm(Math.floor(ge)),k(ge),us("BOUQUET_GAME_SCORE",ge)}clearInterval(A.current),clearInterval(q.current),cancelAnimationFrame(w.current)};te.useEffect(()=>()=>{clearInterval(A.current),clearInterval(q.current),cancelAnimationFrame(w.current)},[]);const O=ie=>{e==="playing"&&g(ge=>{const P=ge+ie;return Math.max(0,Math.min(Me-1,P))})},R=ie=>{const ge=Math.floor(ie/60),P=ie%60;return`${ge.toString().padStart(2,"0")}:${P.toString().padStart(2,"0")}`};return b.jsxs("div",{className:"relative w-full h-[400px] bg-sky-200 overflow-hidden font-['Silkscreen'] select-none border-4 border-black",children:[b.jsx("div",{className:"absolute inset-0 bg-cover bg-bottom opacity-50",style:{backgroundImage:`url(${me})`,imageRendering:"pixelated"}}),b.jsx("div",{className:"absolute top-4 left-4 z-20 flex gap-2",children:b.jsxs("div",{className:"bg-black/50 text-white px-2 border-2 border-white/50 text-sm flex items-center",children:[" ",R(c)]})}),b.jsxs("div",{className:"absolute top-4 right-4 text-2xl z-20 text-blue-600 drop-shadow-[2px_2px_0_white]",children:["SCORE: ",r]}),e==="start"&&b.jsxs("div",{className:"absolute inset-0 bg-black/70 flex flex-col items-center justify-center text-white z-50 p-4 text-center cursor-pointer font-['Silkscreen']",onClick:I,children:[b.jsx("h2",{className:"text-3xl text-yellow-300 mb-4 animate-bounce drop-shadow-md font-['Silkscreen']",children:" BOUQUET RUSH "}),b.jsx("p",{className:"mb-2 text-lg",children:"Infinite Challenge!"}),b.jsxs("div",{className:"flex gap-4 mb-6 text-2xl",children:[b.jsx("span",{children:" = +1"}),b.jsx("span",{children:"/ = DIE"})]}),b.jsx("button",{className:"bg-blue-600 border-4 border-white px-8 py-4 text-xl hover:scale-105 active:scale-95 transition-transform animate-pulse",children:"TAP TO START"}),b.jsx("p",{className:"mt-4 text-sm text-gray-400",children:"Use Arrows or Tap Sides to Move"})]}),e==="gameover"&&b.jsxs("div",{className:"absolute inset-0 bg-black/80 flex flex-col items-center justify-center text-white z-50 cursor-pointer font-['Silkscreen']",onClick:I,children:[b.jsx("h2",{className:"text-4xl mb-4 text-red-500 drop-shadow-md font-['Silkscreen']",children:" GAME OVER"}),b.jsxs("p",{className:"text-3xl mb-2 text-yellow-300",children:["SCORE: ",r]}),b.jsxs("p",{className:"text-xl mb-2 text-cyan-400 font-bold animate-pulse",children:[" EARNED: +",r]}),b.jsxs("p",{className:"text-xl mb-8 text-gray-300",children:["Time: ",R(c)]}),b.jsx("p",{className:"text-sm text-gray-400 mb-8 animate-pulse",children:"TAP SCREEN TO RETRY"}),b.jsxs("div",{className:"flex gap-4",onClick:ie=>ie.stopPropagation(),children:[b.jsx("button",{onClick:I,className:"bg-white text-black border-4 border-gray-400 px-6 py-2 hover:bg-gray-200",children:"RETRY"}),b.jsx("button",{onClick:s,className:"bg-red-500 text-white border-4 border-red-800 px-6 py-2 hover:bg-red-400",children:"QUIT"})]})]}),y.map(ie=>b.jsx("div",{className:"absolute text-4xl transition-transform",style:{left:`${ie.x}%`,top:`${ie.y}%`,width:"10%"},children:ie.type==="bouquet"?"":ie.type==="bomb"?"":""},ie.id)),b.jsxs("div",{className:"absolute bottom-4 h-24 transition-all duration-100 ease-out",style:{left:`${m*qe+(qe-Ce)/2}%`,width:`${Ce}%`},children:[b.jsx(EO,{src:TO}),b.jsx("div",{className:"absolute bottom-0 w-full text-center text-[10px] text-white/50 backdrop-blur-sm",children:"YOU"})]}),e==="playing"&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"absolute top-0 bottom-0 left-0 w-1/2 z-30 active:bg-white/5",onPointerDown:()=>O(-1)}),b.jsx("div",{className:"absolute top-0 bottom-0 right-0 w-1/2 z-30 active:bg-white/5",onPointerDown:()=>O(1)}),b.jsx("button",{className:"absolute bottom-6 left-4 w-16 h-16 bg-white/40 border-2 border-white rounded-full text-3xl flex items-center justify-center z-40 active:scale-90 transition-transform",onPointerDown:()=>O(-1),children:""}),b.jsx("button",{className:"absolute bottom-6 right-4 w-16 h-16 bg-white/40 border-2 border-white rounded-full text-3xl flex items-center justify-center z-40 active:scale-90 transition-transform",onPointerDown:()=>O(1),children:""})]})]})},SO=()=>{const[s,e]=te.useState([]),[n,r]=te.useState(null),[o,c]=te.useState(!1);return te.useEffect(()=>{const f=m=>{const g=m.detail;e(y=>[...y,g])};return window.addEventListener("achievement-unlocked",f),()=>window.removeEventListener("achievement-unlocked",f)},[]),te.useEffect(()=>{if(!n&&s.length>0){const f=s[0];e(m=>m.slice(1)),r(f),setTimeout(()=>c(!0),100),setTimeout(()=>{c(!1),setTimeout(()=>r(null),500)},4e3)}},[n,s]),n?Dw.createPortal(b.jsx("div",{className:`
            fixed top-8 left-1/2 -translate-x-1/2 z-[10000]
            transition-all duration-500 transform
            ${o?"translate-y-0 opacity-100 scale-100":"-translate-y-full opacity-0 scale-90"}
        `,children:b.jsxs("div",{className:"relative group",children:[b.jsx("div",{className:"absolute inset-0 bg-yellow-400 blur-xl opacity-20 animate-pulse"}),b.jsxs("div",{className:"relative bg-black/90 text-white min-w-[320px] max-w-sm rounded-xl overflow-hidden shadow-[0_0_20px_rgba(255,215,0,0.4)] border-2 border-yellow-500/50",children:[b.jsx("div",{className:"absolute inset-0 border-2 border-white/20 rounded-xl pointer-events-none"}),b.jsxs("div",{className:"flex items-center p-4 gap-4",children:[b.jsxs("div",{className:"relative shrink-0",children:[b.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-yellow-300 to-yellow-600 rounded-full flex items-center justify-center text-2xl shadow-inner border-2 border-white/30 animate-bounce",children:""}),b.jsx("div",{className:"absolute -top-1 -right-1 text-yellow-200 animate-spin-slow",children:""})]}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("div",{className:"text-yellow-400 text-xs font-bold tracking-widest uppercase mb-0.5 animate-pulse",children:"ACHIEVEMENT UNLOCKED!"}),b.jsx("h4",{className:"text-lg font-bold text-white leading-tight font-pixel truncate",children:n.title}),b.jsx("p",{className:"text-white/70 text-xs mt-1 truncate font-pixel",children:n.desc})]})]}),b.jsx("div",{className:"absolute bottom-0 left-0 h-1 bg-gradient-to-r from-yellow-400 to-yellow-200 animate-[width_4s_linear_forwards]",style:{width:"100%"}}),b.jsx("div",{className:"absolute top-0 right-10 w-1 h-1 bg-white rounded-full animate-ping"}),b.jsx("div",{className:"absolute bottom-2 left-4 w-1 h-1 bg-yellow-200 rounded-full animate-ping delay-300"})]})]})}),document.body):null},AO=({onSwitchToV1:s,isNewUser:e})=>{const[n,r]=te.useState("bride"),[o,c]=te.useState(!1),[f,m]=te.useState(""),[g,y]=te.useState(null),[E,w]=te.useState(""),[A,q]=te.useState(!1),[K,Z]=te.useState(0);te.useEffect(()=>{const I=new Date("2026-04-25T16:50:00"),C=()=>{const O=I-new Date,R=Math.ceil(O/(1e3*60*60*24));w(R>0?`D-${R}`:R===0?"D-DAY":`D+${Math.abs(R)}`)};C();const N=setInterval(C,1e3*60),k=hO(M=>{Z(M)});return()=>{clearInterval(N),k()}},[]),te.useEffect(()=>{e&&setTimeout(()=>{ce("story")},1e3)},[e]);const ee=()=>{Xt.playClick(),r(I=>I==="bride"?"groom":"bride")},ae=()=>{Xt.playClick(),q(!0),setTimeout(()=>q(!1),200);const I=n==="bride"?["   !","  ~"," !","   !","  !"]:["  !","  !","  ."," !","   !"],C=I[Math.floor(Math.random()*I.length)];m(C),c(!0);const N="wedding_touch_counts";let k={groom:0,bride:0};try{const M=localStorage.getItem(N);if(M){const O=JSON.parse(M);k.groom=Number(O.groom)||0,k.bride=Number(O.bride)||0}}catch(M){console.error(M)}k[n]=(k[n]||0)+1,localStorage.setItem(N,JSON.stringify(k)),us("TOUCH_CHARACTER",k),setTimeout(()=>c(!1),3e3)},ce=I=>{Xt.playClick(),y(I)},me=()=>{Xt.playClick(),y(null)},Me=()=>{Xt.playClick(),s()},qe=I=>{switch(I){case"map":return" ";case"gallery":return" ";case"recruit":return"  ";case"story":return"";case"ranking":return"";case"achievement":return"";case"info":return" ";case"game":return" ";case"bouquet":return" ";default:return""}},Ce=new URL("/Invitation/assets/pixel_castle_bg-JX_UEiKn.png",import.meta.url).href;return b.jsxs("div",{className:"relative w-full h-full overflow-hidden bg-black font-pixel select-none text-white",children:[b.jsx(SO,{}),b.jsx("div",{className:"absolute inset-0 z-0 bg-cover bg-center",style:{backgroundImage:`url(${Ce})`,imageRendering:"pixelated"},children:b.jsx("div",{className:"absolute inset-0 bg-black/30"})}),b.jsxs("div",{className:"absolute top-0 left-0 right-0 p-4 z-20 flex justify-between items-start pointer-events-none",children:[b.jsxs("div",{className:"pointer-events-auto flex flex-col gap-2",children:[b.jsxs("div",{className:"bg-black/60 border-2 border-white px-3 py-1 flex items-center gap-2 shadow-md w-fit",children:[b.jsx("span",{className:"text-yellow-400",children:""}),b.jsx("span",{className:"text-lg",children:E})]}),b.jsxs("div",{className:"bg-black/60 border-2 border-cyan-400 px-3 py-1 flex items-center gap-2 shadow-md w-fit animate-pulse",children:[b.jsx("span",{className:"text-cyan-400 text-xl",children:""}),b.jsx("span",{className:"text-lg text-cyan-100 font-bold",children:K})]})]}),b.jsxs("div",{className:"pointer-events-auto flex flex-col items-end gap-2",children:[b.jsx("button",{onClick:ee,className:"bg-blue-600 border-b-4 border-r-4 border-blue-800 text-white px-3 py-1 text-xs hover:bg-blue-500 active:border-b-0 active:border-r-0 active:translate-y-1 transition-all",children:" "}),b.jsx("button",{onClick:Me,className:"text-white/60 text-[10px] hover:text-white hover:underline bg-black/40 px-2 py-1",children:"[   ]"})]})]}),b.jsx("div",{className:"absolute inset-0 z-10 flex flex-col items-center justify-end pb-0 pointer-events-none",children:b.jsxs("div",{className:"relative group flex justify-center",children:[b.jsx("img",{src:n==="bride"?Jm:$m,alt:"Character",className:`
                            h-[120vh] w-auto object-contain cursor-pointer pointer-events-auto drop-shadow-[0_0_10px_rgba(255,255,255,0.5)]
                            ${A?"scale-105 brightness-125":"scale-100 hover:scale-[1.02]"}
                            transition-all duration-200
                        `,onClick:ae,style:{imageRendering:"pixelated"}}),o&&b.jsxs("div",{className:"absolute top-[25%] left-[10%] bg-white text-black border-4 border-black px-4 py-2 z-30 min-w-[150px] text-center shadow-lg animate-bounce",children:[b.jsx("p",{className:"text-sm font-bold",children:f}),b.jsx("div",{className:"absolute -right-3 top-1/2 -translate-y-1/2 w-4 h-4 bg-white rotate-45 border-t-4 border-r-4 border-black border-b-0 border-l-0"})]})]})}),b.jsxs("div",{className:"absolute top-1/2 right-4 -translate-y-1/2 flex flex-col gap-3 pointer-events-auto z-40",children:[b.jsx(eo,{icon:"",label:" ",onClick:()=>ce("map")}),b.jsx(eo,{icon:"",label:" ",onClick:()=>ce("gallery")}),b.jsx(eo,{icon:"",label:" ",onClick:()=>ce("recruit")}),b.jsx(eo,{icon:"",label:"",onClick:()=>ce("story")}),b.jsx(eo,{icon:"",label:"",onClick:()=>ce("ranking")}),b.jsx(eo,{icon:"",label:"",onClick:()=>ce("achievement")})]}),b.jsxs("div",{className:"absolute bottom-6 left-6 right-6 z-50 flex justify-center gap-6 pointer-events-auto",children:[b.jsx("button",{onClick:()=>{ce("game"),us("GAME_START")},className:"relative group bg-red-600 border-4 border-white text-white px-6 py-3 shadow-[4px_4px_0_rgba(0,0,0,0.5)] hover:translate-y-1 hover:shadow-[2px_2px_0_rgba(0,0,0,0.5)] active:translate-y-2 active:shadow-none transition-all w-48",children:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("span",{className:"text-2xl animate-pulse",children:""}),b.jsxs("div",{className:"flex flex-col items-start leading-none",children:[b.jsx("span",{className:"text-[10px] text-yellow-300",children:" "}),b.jsx("span",{className:"text-lg",children:" "})]})]})}),b.jsx("button",{onClick:()=>ce("bouquet"),className:"relative group bg-pink-500 border-4 border-white text-white px-6 py-3 shadow-[4px_4px_0_rgba(0,0,0,0.5)] hover:translate-y-1 hover:shadow-[2px_2px_0_rgba(0,0,0,0.5)] active:translate-y-2 active:shadow-none transition-all w-48",children:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("span",{className:"text-2xl animate-bounce",children:""}),b.jsxs("div",{className:"flex flex-col items-start leading-none",children:[b.jsx("span",{className:"text-[10px] text-yellow-200",children:" "}),b.jsx("span",{className:"text-lg",children:" "})]})]})})]}),g&&b.jsxs(_O,{title:qe(g),onClose:me,children:[g==="map"&&b.jsx(Rb,{}),g==="gallery"&&b.jsx(xb,{showRarity:!0}),g==="info"&&b.jsx(mO,{}),g==="game"&&b.jsx("div",{className:"flex flex-col items-center justify-center py-4 w-full",children:b.jsx(pO,{selectedCharacter:n})}),g==="story"&&b.jsx(yO,{onClose:me}),g==="recruit"&&b.jsx(gO,{}),g==="ranking"&&b.jsx(vO,{}),g==="achievement"&&b.jsx(bO,{}),g==="bouquet"&&b.jsx(wO,{})]})]})},eo=({icon:s,label:e,onClick:n})=>b.jsxs("button",{onClick:n,className:"group relative bg-black/60 border-2 border-white px-3 py-2 flex items-center gap-3 hover:bg-white/20 hover:border-yellow-400 transition-all w-32 shadow-md",children:[b.jsx("span",{className:"text-xl group-hover:scale-110 transition-transform",children:s}),b.jsx("span",{className:"text-xs text-white group-hover:text-yellow-400",children:e})]}),xO=({onSwitchToV1:s})=>{const[e,n]=te.useState("title"),[r,o]=te.useState(!1),c=(f=!1)=>{o(f),n("lobby")};return b.jsxs("div",{className:"relative w-full h-screen bg-background overflow-hidden font-body selection:bg-primary/20 selection:text-primary",children:[b.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[500px] h-[500px] bg-primary/20 rounded-full blur-[100px] animate-pulse"}),b.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[600px] h-[600px] bg-secondary/20 rounded-full blur-[120px] animate-pulse delay-1000"}),b.jsx("div",{className:"absolute top-[40%] left-[30%] w-[300px] h-[300px] bg-soft-pink/30 rounded-full blur-[80px] animate-bounce delay-500 duration-[5000ms]"}),b.jsxs("div",{className:"relative w-full h-full",children:[e==="title"&&b.jsx(cO,{onStart:c,onSwitchToV1:s}),e==="lobby"&&b.jsx(AO,{onSwitchToV1:s,isNewUser:r})]})]})},RO=()=>b.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-background font-body p-4",children:b.jsxs("div",{className:"card max-w-md w-full text-center space-y-8",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx("h1",{className:"text-4xl text-text font-heading tracking-wider",children:"INVITATION"}),b.jsx("p",{className:"text-xl text-text/80 font-medium",children:" & "})]}),b.jsx("div",{className:"w-12 h-px bg-gray-300 mx-auto"}),b.jsx("p",{className:"text-text/60 tracking-widest",children:"2026. 04. 25. SAT PM 04:50"}),b.jsxs("div",{className:"flex flex-col gap-4",children:[b.jsxs("a",{href:"classic.html",className:"btn-secondary flex items-center justify-center gap-2 group",children:[b.jsx("span",{className:"group-hover:scale-110 transition-transform",children:""}),"  (Classic)"]}),b.jsxs("a",{href:"game.html",className:"btn-primary flex items-center justify-center gap-2 group",children:[b.jsx("span",{className:"group-hover:rotate-12 transition-transform",children:""}),"  (Game Mode)"]})]})]})});function IO(){const[s,e]=te.useState("selection");return te.useEffect(()=>{const n=window.location.pathname;n.includes("classic.html")?e("v1"):n.includes("game.html")?e("v2"):new URLSearchParams(window.location.search).get("mode")==="classic"?e("v1"):new URLSearchParams(window.location.search).get("mode")==="game"?e("v2"):e("selection")},[]),b.jsxs(b.Fragment,{children:[s==="selection"&&b.jsx(RO,{}),s==="v1"&&b.jsx(AA,{}),s==="v2"&&b.jsx(xO,{onSwitchToV1:()=>window.location.href="classic.html"}),b.jsx(oO,{})]})}g1.createRoot(document.getElementById("root")).render(b.jsx(te.StrictMode,{children:b.jsx(IO,{})}));
