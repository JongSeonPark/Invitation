(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var Xd={exports:{}},Vl={};var dv;function $A(){if(dv)return Vl;dv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var p in l)p!=="key"&&(u[p]=l[p])}else u=l;return l=u.ref,{$$typeof:r,type:s,key:f,ref:l!==void 0?l:null,props:u}}return Vl.Fragment=t,Vl.jsx=n,Vl.jsxs=n,Vl}var mv;function JA(){return mv||(mv=1,Xd.exports=$A()),Xd.exports}var A=JA(),$d={exports:{}},At={};var pv;function ZA(){if(pv)return At;pv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),N=Symbol.iterator;function F(V){return V===null||typeof V!="object"?null:(V=N&&V[N]||V["@@iterator"],typeof V=="function"?V:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,Z={};function ct(V,Y,nt){this.props=V,this.context=Y,this.refs=Z,this.updater=nt||J}ct.prototype.isReactComponent={},ct.prototype.setState=function(V,Y){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Y,"setState")},ct.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function gt(){}gt.prototype=ct.prototype;function ht(V,Y,nt){this.props=V,this.context=Y,this.refs=Z,this.updater=nt||J}var Bt=ht.prototype=new gt;Bt.constructor=ht,W(Bt,ct.prototype),Bt.isPureReactComponent=!0;var rt=Array.isArray;function ft(){}var I={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function x(V,Y,nt){var st=nt.ref;return{$$typeof:r,type:V,key:Y,ref:st!==void 0?st:null,props:nt}}function M(V,Y){return x(V.type,Y,V.props)}function C(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function k(V){var Y={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(nt){return Y[nt]})}var R=/\/+/g;function Et(V,Y){return typeof V=="object"&&V!==null&&V.key!=null?k(""+V.key):Y.toString(36)}function se(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(ft,ft):(V.status="pending",V.then(function(Y){V.status==="pending"&&(V.status="fulfilled",V.value=Y)},function(Y){V.status==="pending"&&(V.status="rejected",V.reason=Y)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function H(V,Y,nt,st,vt){var Rt=typeof V;(Rt==="undefined"||Rt==="boolean")&&(V=null);var Pt=!1;if(V===null)Pt=!0;else switch(Rt){case"bigint":case"string":case"number":Pt=!0;break;case"object":switch(V.$$typeof){case r:case t:Pt=!0;break;case E:return Pt=V._init,H(Pt(V._payload),Y,nt,st,vt)}}if(Pt)return vt=vt(V),Pt=st===""?"."+Et(V,0):st,rt(vt)?(nt="",Pt!=null&&(nt=Pt.replace(R,"$&/")+"/"),H(vt,Y,nt,"",function(gs){return gs})):vt!=null&&(C(vt)&&(vt=M(vt,nt+(vt.key==null||V&&V.key===vt.key?"":(""+vt.key).replace(R,"$&/")+"/")+Pt)),Y.push(vt)),1;Pt=0;var De=st===""?".":st+":";if(rt(V))for(var ae=0;ae<V.length;ae++)st=V[ae],Rt=De+Et(st,ae),Pt+=H(st,Y,nt,Rt,vt);else if(ae=F(V),typeof ae=="function")for(V=ae.call(V),ae=0;!(st=V.next()).done;)st=st.value,Rt=De+Et(st,ae++),Pt+=H(st,Y,nt,Rt,vt);else if(Rt==="object"){if(typeof V.then=="function")return H(se(V),Y,nt,st,vt);throw Y=String(V),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Pt}function et(V,Y,nt){if(V==null)return V;var st=[],vt=0;return H(V,st,"","",function(Rt){return Y.call(nt,Rt,vt++)}),st}function dt(V){if(V._status===-1){var Y=V._result;Y=Y(),Y.then(function(nt){(V._status===0||V._status===-1)&&(V._status=1,V._result=nt)},function(nt){(V._status===0||V._status===-1)&&(V._status=2,V._result=nt)}),V._status===-1&&(V._status=0,V._result=Y)}if(V._status===1)return V._result.default;throw V._result}var Lt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},zt={map:et,forEach:function(V,Y,nt){et(V,function(){Y.apply(this,arguments)},nt)},count:function(V){var Y=0;return et(V,function(){Y++}),Y},toArray:function(V){return et(V,function(Y){return Y})||[]},only:function(V){if(!C(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return At.Activity=S,At.Children=zt,At.Component=ct,At.Fragment=n,At.Profiler=l,At.PureComponent=ht,At.StrictMode=s,At.Suspense=g,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,At.__COMPILER_RUNTIME={__proto__:null,c:function(V){return I.H.useMemoCache(V)}},At.cache=function(V){return function(){return V.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(V,Y,nt){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var st=W({},V.props),vt=V.key;if(Y!=null)for(Rt in Y.key!==void 0&&(vt=""+Y.key),Y)!w.call(Y,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&Y.ref===void 0||(st[Rt]=Y[Rt]);var Rt=arguments.length-2;if(Rt===1)st.children=nt;else if(1<Rt){for(var Pt=Array(Rt),De=0;De<Rt;De++)Pt[De]=arguments[De+2];st.children=Pt}return x(V.type,vt,st)},At.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},At.createElement=function(V,Y,nt){var st,vt={},Rt=null;if(Y!=null)for(st in Y.key!==void 0&&(Rt=""+Y.key),Y)w.call(Y,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(vt[st]=Y[st]);var Pt=arguments.length-2;if(Pt===1)vt.children=nt;else if(1<Pt){for(var De=Array(Pt),ae=0;ae<Pt;ae++)De[ae]=arguments[ae+2];vt.children=De}if(V&&V.defaultProps)for(st in Pt=V.defaultProps,Pt)vt[st]===void 0&&(vt[st]=Pt[st]);return x(V,Rt,vt)},At.createRef=function(){return{current:null}},At.forwardRef=function(V){return{$$typeof:p,render:V}},At.isValidElement=C,At.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:dt}},At.memo=function(V,Y){return{$$typeof:y,type:V,compare:Y===void 0?null:Y}},At.startTransition=function(V){var Y=I.T,nt={};I.T=nt;try{var st=V(),vt=I.S;vt!==null&&vt(nt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(ft,Lt)}catch(Rt){Lt(Rt)}finally{Y!==null&&nt.types!==null&&(Y.types=nt.types),I.T=Y}},At.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},At.use=function(V){return I.H.use(V)},At.useActionState=function(V,Y,nt){return I.H.useActionState(V,Y,nt)},At.useCallback=function(V,Y){return I.H.useCallback(V,Y)},At.useContext=function(V){return I.H.useContext(V)},At.useDebugValue=function(){},At.useDeferredValue=function(V,Y){return I.H.useDeferredValue(V,Y)},At.useEffect=function(V,Y){return I.H.useEffect(V,Y)},At.useEffectEvent=function(V){return I.H.useEffectEvent(V)},At.useId=function(){return I.H.useId()},At.useImperativeHandle=function(V,Y,nt){return I.H.useImperativeHandle(V,Y,nt)},At.useInsertionEffect=function(V,Y){return I.H.useInsertionEffect(V,Y)},At.useLayoutEffect=function(V,Y){return I.H.useLayoutEffect(V,Y)},At.useMemo=function(V,Y){return I.H.useMemo(V,Y)},At.useOptimistic=function(V,Y){return I.H.useOptimistic(V,Y)},At.useReducer=function(V,Y,nt){return I.H.useReducer(V,Y,nt)},At.useRef=function(V){return I.H.useRef(V)},At.useState=function(V){return I.H.useState(V)},At.useSyncExternalStore=function(V,Y,nt){return I.H.useSyncExternalStore(V,Y,nt)},At.useTransition=function(){return I.H.useTransition()},At.version="19.2.3",At}var gv;function Hm(){return gv||(gv=1,$d.exports=ZA()),$d.exports}var ut=Hm(),Jd={exports:{}},kl={},Zd={exports:{}},Wd={};var yv;function WA(){return yv||(yv=1,(function(r){function t(H,et){var dt=H.length;H.push(et);t:for(;0<dt;){var Lt=dt-1>>>1,zt=H[Lt];if(0<l(zt,et))H[Lt]=et,H[dt]=zt,dt=Lt;else break t}}function n(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var et=H[0],dt=H.pop();if(dt!==et){H[0]=dt;t:for(var Lt=0,zt=H.length,V=zt>>>1;Lt<V;){var Y=2*(Lt+1)-1,nt=H[Y],st=Y+1,vt=H[st];if(0>l(nt,dt))st<zt&&0>l(vt,nt)?(H[Lt]=vt,H[st]=dt,Lt=st):(H[Lt]=nt,H[Y]=dt,Lt=Y);else if(st<zt&&0>l(vt,dt))H[Lt]=vt,H[st]=dt,Lt=st;else break t}}return et}function l(H,et){var dt=H.sortIndex-et.sortIndex;return dt!==0?dt:H.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();r.unstable_now=function(){return f.now()-p}}var g=[],y=[],E=1,S=null,N=3,F=!1,J=!1,W=!1,Z=!1,ct=typeof setTimeout=="function"?setTimeout:null,gt=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;function Bt(H){for(var et=n(y);et!==null;){if(et.callback===null)s(y);else if(et.startTime<=H)s(y),et.sortIndex=et.expirationTime,t(g,et);else break;et=n(y)}}function rt(H){if(W=!1,Bt(H),!J)if(n(g)!==null)J=!0,ft||(ft=!0,k());else{var et=n(y);et!==null&&se(rt,et.startTime-H)}}var ft=!1,I=-1,w=5,x=-1;function M(){return Z?!0:!(r.unstable_now()-x<w)}function C(){if(Z=!1,ft){var H=r.unstable_now();x=H;var et=!0;try{t:{J=!1,W&&(W=!1,gt(I),I=-1),F=!0;var dt=N;try{e:{for(Bt(H),S=n(g);S!==null&&!(S.expirationTime>H&&M());){var Lt=S.callback;if(typeof Lt=="function"){S.callback=null,N=S.priorityLevel;var zt=Lt(S.expirationTime<=H);if(H=r.unstable_now(),typeof zt=="function"){S.callback=zt,Bt(H),et=!0;break e}S===n(g)&&s(g),Bt(H)}else s(g);S=n(g)}if(S!==null)et=!0;else{var V=n(y);V!==null&&se(rt,V.startTime-H),et=!1}}break t}finally{S=null,N=dt,F=!1}et=void 0}}finally{et?k():ft=!1}}}var k;if(typeof ht=="function")k=function(){ht(C)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Et=R.port2;R.port1.onmessage=C,k=function(){Et.postMessage(null)}}else k=function(){ct(C,0)};function se(H,et){I=ct(function(){H(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return N},r.unstable_next=function(H){switch(N){case 1:case 2:case 3:var et=3;break;default:et=N}var dt=N;N=et;try{return H()}finally{N=dt}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(H,et){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var dt=N;N=H;try{return et()}finally{N=dt}},r.unstable_scheduleCallback=function(H,et,dt){var Lt=r.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Lt+dt:Lt):dt=Lt,H){case 1:var zt=-1;break;case 2:zt=250;break;case 5:zt=1073741823;break;case 4:zt=1e4;break;default:zt=5e3}return zt=dt+zt,H={id:E++,callback:et,priorityLevel:H,startTime:dt,expirationTime:zt,sortIndex:-1},dt>Lt?(H.sortIndex=dt,t(y,H),n(g)===null&&H===n(y)&&(W?(gt(I),I=-1):W=!0,se(rt,dt-Lt))):(H.sortIndex=zt,t(g,H),J||F||(J=!0,ft||(ft=!0,k()))),H},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(H){var et=N;return function(){var dt=N;N=et;try{return H.apply(this,arguments)}finally{N=dt}}}})(Wd)),Wd}var _v;function tS(){return _v||(_v=1,Zd.exports=WA()),Zd.exports}var tm={exports:{}},$e={};var vv;function eS(){if(vv)return $e;vv=1;var r=Hm();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(g,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:g,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return $e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$e.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,E)},$e.flushSync=function(g){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=E,s.d.f()}},$e.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},$e.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},$e.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,S=p(E,y.crossOrigin),N=typeof y.integrity=="string"?y.integrity:void 0,F=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:N,fetchPriority:F}):E==="script"&&s.d.X(g,{crossOrigin:S,integrity:N,fetchPriority:F,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},$e.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=p(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},$e.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=p(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},$e.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=p(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},$e.requestFormReset=function(g){s.d.r(g)},$e.unstable_batchedUpdates=function(g,y){return g(y)},$e.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},$e.useFormStatus=function(){return f.H.useHostTransitionStatus()},$e.version="19.2.3",$e}var Tv;function lT(){if(Tv)return tm.exports;Tv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),tm.exports=eS(),tm.exports}var Ev;function nS(){if(Ev)return kl;Ev=1;var r=tS(),t=Hm(),n=lT();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(s(188))}function y(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),e;if(d===o)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,o=d;break}if(T===o){_=!0,o=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,o=h;break}if(T===o){_=!0,o=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function E(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=E(e),i!==null)return i;e=e.sibling}return null}var S=Object.assign,N=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),ct=Symbol.for("react.profiler"),gt=Symbol.for("react.consumer"),ht=Symbol.for("react.context"),Bt=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),ft=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=C&&e[C]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function Et(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case ct:return"Profiler";case Z:return"StrictMode";case rt:return"Suspense";case ft:return"SuspenseList";case x:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case ht:return e.displayName||"Context";case gt:return(e._context.displayName||"Context")+".Consumer";case Bt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return i=e.displayName||null,i!==null?i:Et(e.type)||"Memo";case w:i=e._payload,e=e._init;try{return Et(e(i))}catch{}}return null}var se=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},Lt=[],zt=-1;function V(e){return{current:e}}function Y(e){0>zt||(e.current=Lt[zt],Lt[zt]=null,zt--)}function nt(e,i){zt++,Lt[zt]=e.current,e.current=i}var st=V(null),vt=V(null),Rt=V(null),Pt=V(null);function De(e,i){switch(nt(Rt,i),nt(vt,e),nt(st,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?L_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=L_(i),e=U_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(st),nt(st,e)}function ae(){Y(st),Y(vt),Y(Rt)}function gs(e){e.memoizedState!==null&&nt(Pt,e);var i=st.current,a=U_(i,e.type);i!==a&&(nt(vt,e),nt(st,a))}function oa(e){vt.current===e&&(Y(st),Y(vt)),Pt.current===e&&(Y(Pt),Nl._currentValue=dt)}var la,ua;function si(e){if(la===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);la=i&&i[1]||"",ua=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+la+e+ua}var No=!1;function ys(e,i){if(!e||No)return"";No=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var z=q}Reflect.construct(e,[],X)}else{try{X.call()}catch(q){z=q}e.call(X.prototype)}}else{try{throw Error()}catch(q){z=q}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var D=_.split(`
`),j=T.split(`
`);for(h=o=0;o<D.length&&!D[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===D.length||h===j.length)for(o=D.length-1,h=j.length-1;1<=o&&0<=h&&D[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(D[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||D[o]!==j[h]){var G=`
`+D[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{No=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?si(a):""}function Do(e,i){switch(e.tag){case 26:case 27:case 5:return si(e.type);case 16:return si("Lazy");case 13:return e.child!==i&&i!==null?si("Suspense Fallback"):si("Suspense");case 19:return si("SuspenseList");case 0:case 15:return ys(e.type,!1);case 11:return ys(e.type.render,!1);case 1:return ys(e.type,!0);case 31:return si("Activity");default:return""}}function Oo(e){try{var i="",a=null;do i+=Do(e,a),a=e,e=e.return;while(e);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ve=Object.prototype.hasOwnProperty,Oe=r.unstable_scheduleCallback,mr=r.unstable_cancelCallback,$h=r.unstable_shouldYield,du=r.unstable_requestPaint,en=r.unstable_now,_s=r.unstable_getCurrentPriorityLevel,Mo=r.unstable_ImmediatePriority,Vo=r.unstable_UserBlockingPriority,pr=r.unstable_NormalPriority,Jh=r.unstable_LowPriority,mu=r.unstable_IdlePriority,pu=r.log,gu=r.unstable_setDisableYieldValue,Bn=null,Be=null;function In(e){if(typeof pu=="function"&&gu(e),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(Bn,e)}catch{}}var fe=Math.clz32?Math.clz32:_u,yu=Math.log,ca=Math.LN2;function _u(e){return e>>>=0,e===0?32:31-(yu(e)/ca|0)|0}var ai=256,vs=262144,Te=4194304;function oi(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function li(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~d,o!==0?h=oi(o):(_&=T,_!==0?h=oi(_):a||(a=T&~e,a!==0&&(h=oi(a))))):(T=o&~d,T!==0?h=oi(T):_!==0?h=oi(_):a||(a=o&~e,a!==0&&(h=oi(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function qn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Zh(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vu(){var e=Te;return Te<<=1,(Te&62914560)===0&&(Te=4194304),e}function ui(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Ts(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Wh(e,i,a,o,h,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,D=e.expirationTimes,j=e.hiddenUpdates;for(a=_&~a;0<a;){var G=31-fe(a),X=1<<G;T[G]=0,D[G]=-1;var z=j[G];if(z!==null)for(j[G]=null,G=0;G<z.length;G++){var q=z[G];q!==null&&(q.lane&=-536870913)}a&=~X}o!==0&&Es(e,o,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function Es(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-fe(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function ko(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-fe(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function Lo(e,i){var a=i&-i;return a=(a&42)!==0?1:bs(a),(a&(e.suspendedLanes|i))!==0?0:a}function bs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Tu(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:av(e.type))}function Hn(e,i){var a=et.p;try{return et.p=e,i()}finally{et.p=a}}var Fn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+Fn,Le="__reactProps$"+Fn,ci="__reactContainer$"+Fn,ha="__reactEvents$"+Fn,tf="__reactListeners$"+Fn,Eu="__reactHandles$"+Fn,bu="__reactResources$"+Fn,hi="__reactMarker$"+Fn;function fa(e){delete e[Ee],delete e[Le],delete e[ha],delete e[tf],delete e[Eu]}function fi(e){var i=e[Ee];if(i)return i;for(var a=e.parentNode;a;){if(i=a[ci]||a[Ee]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=F_(e);e!==null;){if(a=e[Ee])return a;e=F_(e)}return i}e=a,a=e.parentNode}return null}function Rn(e){if(e=e[Ee]||e[ci]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function pn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function di(e){var i=e[bu];return i||(i=e[bu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function be(e){e[hi]=!0}var Uo=new Set,Po={};function mi(e,i){pi(e,i),pi(e+"Capture",i)}function pi(e,i){for(Po[e]=i,e=0;e<i.length;e++)Uo.add(i[e])}var jo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zo={},Bo={};function Au(e){return ve.call(Bo,e)?!0:ve.call(zo,e)?!1:jo.test(e)?Bo[e]=!0:(zo[e]=!0,!1)}function da(e,i,a){if(Au(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function gn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Ae(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function gr(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function qo(e,i,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,d=o.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Qt(e){if(!e._valueTracker){var i=gr(e)?"checked":"value";e._valueTracker=qo(e,i,""+e[i])}}function As(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=gr(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function gi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ss=/[\n"\\]/g;function an(e){return e.replace(Ss,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ma(e,i,a,o,h,d,_,T){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Ue(i)):e.value!==""+Ue(i)&&(e.value=""+Ue(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?Ho(e,_,Ue(i)):a!=null?Ho(e,_,Ue(a)):o!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Ue(T):e.removeAttribute("name")}function Su(e,i,a,o,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Qt(e);return}a=a!=null?""+Ue(a):"",i=i!=null?""+Ue(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Qt(e)}function Ho(e,i,a){i==="number"&&gi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function yr(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Ue(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function wu(e,i,a){if(i!=null&&(i=""+Ue(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Ue(a):""}function _r(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(se(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Ue(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Qt(e)}function on(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Iu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fo(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||Iu.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Go(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Fo(e,h,o)}else for(var d in i)i.hasOwnProperty(d)&&Fo(e,d,i[d])}function pa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ru=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ga(e){return vr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Gn(){}var Yo=null;function Cn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Tr=null,yi=null;function ws(e){var i=Rn(e);if(i&&(e=i.stateNode)){var a=e[Le]||null;t:switch(e=i.stateNode,i.type){case"input":if(ma(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+an(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[Le]||null;if(!h)throw Error(s(90));ma(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&As(o)}break t;case"textarea":wu(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&yr(e,!!a.multiple,i,!1)}}}var ya=!1;function Er(e,i,a){if(ya)return e(i,a);ya=!0;try{var o=e(i);return o}finally{if(ya=!1,(Tr!==null||yi!==null)&&(Tc(),Tr&&(i=Tr,e=yi,yi=Tr=null,ws(i),e)))for(i=0;i<e.length;i++)ws(e[i])}}function Yn(e,i){var a=e.stateNode;if(a===null)return null;var o=a[Le]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Is=!1;if(xn)try{var $t={};Object.defineProperty($t,"passive",{get:function(){Is=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{Is=!1}var _i=null,Qo=null,Rs=null;function Ko(){if(Rs)return Rs;var e,i=Qo,a=i.length,o,h="value"in _i?_i.value:_i.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(o=1;o<=_&&i[a-o]===h[d-o];o++);return Rs=h.slice(e,1<o?1-o:void 0)}function Cs(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function ji(){return!0}function Qn(){return!1}function qe(e){function i(a,o,h,d,_){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ji:Qn,this.isPropagationStopped=Qn,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ji)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ji)},persist:function(){},isPersistent:ji}),i}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=qe(zi),br=S({},zi,{view:0,detail:0}),Xo=qe(br),Ar,_a,Ti,va=S({},br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ti&&(Ti&&e.type==="mousemove"?(Ar=e.screenX-Ti.screenX,_a=e.screenY-Ti.screenY):_a=Ar=0,Ti=e),Ar)},movementY:function(e){return"movementY"in e?e.movementY:_a}}),$o=qe(va),xs=S({},va,{dataTransfer:0}),Cu=qe(xs),xu=S({},br,{relatedTarget:0}),Ns=qe(xu),Jo=S({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),Nu=qe(Jo),Ta=S({},zi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Du=qe(Ta),Ou=S({},zi,{data:0}),Ei=qe(Ou),Mu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=ku[e])?!!i[e]:!1}function Sr(){return Lu}var nn=S({},br,{key:function(e){if(e.key){var i=Mu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Cs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Vu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sr,charCode:function(e){return e.type==="keypress"?Cs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Cs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Uu=qe(nn),Pu=S({},va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bi=qe(Pu),c=S({},br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sr}),m=qe(c),v=S({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=qe(v),U=S({},va,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=qe(U),tt=S({},zi,{newState:0,oldState:0}),wt=qe(tt),de=[9,13,27,32],Ft=xn&&"CompositionEvent"in window,oe=null;xn&&"documentMode"in document&&(oe=document.documentMode);var Nn=xn&&"TextEvent"in window&&!oe,bi=xn&&(!Ft||oe&&8<oe&&11>=oe),Kn=" ",Xn=!1;function Ds(e,i){switch(e){case"keyup":return de.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ea(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ba=!1;function T1(e,i){switch(e){case"compositionend":return Ea(i);case"keypress":return i.which!==32?null:(Xn=!0,Kn);case"textInput":return e=i.data,e===Kn&&Xn?null:e;default:return null}}function E1(e,i){if(ba)return e==="compositionend"||!Ft&&Ds(e,i)?(e=Ko(),Rs=Qo=_i=null,ba=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return bi&&i.locale!=="ko"?null:i.data;default:return null}}var b1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qp(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!b1[e.type]:i==="textarea"}function Kp(e,i,a,o){Tr?yi?yi.push(o):yi=[o]:Tr=o,i=Rc(i,"onChange"),0<i.length&&(a=new vi("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var Zo=null,Wo=null;function A1(e){N_(e,0)}function ju(e){var i=pn(e);if(As(i))return e}function Xp(e,i){if(e==="change")return i}var $p=!1;if(xn){var ef;if(xn){var nf="oninput"in document;if(!nf){var Jp=document.createElement("div");Jp.setAttribute("oninput","return;"),nf=typeof Jp.oninput=="function"}ef=nf}else ef=!1;$p=ef&&(!document.documentMode||9<document.documentMode)}function Zp(){Zo&&(Zo.detachEvent("onpropertychange",Wp),Wo=Zo=null)}function Wp(e){if(e.propertyName==="value"&&ju(Wo)){var i=[];Kp(i,Wo,e,Cn(e)),Er(A1,i)}}function S1(e,i,a){e==="focusin"?(Zp(),Zo=i,Wo=a,Zo.attachEvent("onpropertychange",Wp)):e==="focusout"&&Zp()}function w1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ju(Wo)}function I1(e,i){if(e==="click")return ju(i)}function R1(e,i){if(e==="input"||e==="change")return ju(i)}function C1(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var yn=typeof Object.is=="function"?Object.is:C1;function tl(e,i){if(yn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!ve.call(i,h)||!yn(e[h],i[h]))return!1}return!0}function tg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function eg(e,i){var a=tg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=tg(a)}}function ng(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?ng(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function ig(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=gi(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=gi(e.document)}return i}function rf(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var x1=xn&&"documentMode"in document&&11>=document.documentMode,Aa=null,sf=null,el=null,af=!1;function rg(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;af||Aa==null||Aa!==gi(o)||(o=Aa,"selectionStart"in o&&rf(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),el&&tl(el,o)||(el=o,o=Rc(sf,"onSelect"),0<o.length&&(i=new vi("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=Aa)))}function Os(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Sa={animationend:Os("Animation","AnimationEnd"),animationiteration:Os("Animation","AnimationIteration"),animationstart:Os("Animation","AnimationStart"),transitionrun:Os("Transition","TransitionRun"),transitionstart:Os("Transition","TransitionStart"),transitioncancel:Os("Transition","TransitionCancel"),transitionend:Os("Transition","TransitionEnd")},of={},sg={};xn&&(sg=document.createElement("div").style,"AnimationEvent"in window||(delete Sa.animationend.animation,delete Sa.animationiteration.animation,delete Sa.animationstart.animation),"TransitionEvent"in window||delete Sa.transitionend.transition);function Ms(e){if(of[e])return of[e];if(!Sa[e])return e;var i=Sa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in sg)return of[e]=i[a];return e}var ag=Ms("animationend"),og=Ms("animationiteration"),lg=Ms("animationstart"),N1=Ms("transitionrun"),D1=Ms("transitionstart"),O1=Ms("transitioncancel"),ug=Ms("transitionend"),cg=new Map,lf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lf.push("scrollEnd");function $n(e,i){cg.set(e,i),mi(i,[e])}var zu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Dn=[],wa=0,uf=0;function Bu(){for(var e=wa,i=uf=wa=0;i<e;){var a=Dn[i];Dn[i++]=null;var o=Dn[i];Dn[i++]=null;var h=Dn[i];Dn[i++]=null;var d=Dn[i];if(Dn[i++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}d!==0&&hg(a,h,d)}}function qu(e,i,a,o){Dn[wa++]=e,Dn[wa++]=i,Dn[wa++]=a,Dn[wa++]=o,uf|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function cf(e,i,a,o){return qu(e,i,a,o),Hu(e)}function Vs(e,i){return qu(e,null,null,i),Hu(e)}function hg(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-fe(a),e=d.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=a|536870912),d):null}function Hu(e){if(50<Al)throw Al=0,vd=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Ia={};function M1(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(e,i,a,o){return new M1(e,i,a,o)}function hf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qi(e,i){var a=e.alternate;return a===null?(a=_n(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function fg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Fu(e,i,a,o,h,d){var _=0;if(o=e,typeof e=="function")hf(e)&&(_=1);else if(typeof e=="string")_=PA(e,a,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case x:return e=_n(31,a,i,h),e.elementType=x,e.lanes=d,e;case W:return ks(a.children,h,d,i);case Z:_=8,h|=24;break;case ct:return e=_n(12,a,i,h|2),e.elementType=ct,e.lanes=d,e;case rt:return e=_n(13,a,i,h),e.elementType=rt,e.lanes=d,e;case ft:return e=_n(19,a,i,h),e.elementType=ft,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ht:_=10;break t;case gt:_=9;break t;case Bt:_=11;break t;case I:_=14;break t;case w:_=16,o=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return i=_n(_,a,i,h),i.elementType=e,i.type=o,i.lanes=d,i}function ks(e,i,a,o){return e=_n(7,e,o,i),e.lanes=a,e}function ff(e,i,a){return e=_n(6,e,null,i),e.lanes=a,e}function dg(e){var i=_n(18,null,null,0);return i.stateNode=e,i}function df(e,i,a){return i=_n(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var mg=new WeakMap;function On(e,i){if(typeof e=="object"&&e!==null){var a=mg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Oo(i)},mg.set(e,i),i)}return{value:e,source:i,stack:Oo(i)}}var Ra=[],Ca=0,Gu=null,nl=0,Mn=[],Vn=0,wr=null,Ai=1,Si="";function Hi(e,i){Ra[Ca++]=nl,Ra[Ca++]=Gu,Gu=e,nl=i}function pg(e,i,a){Mn[Vn++]=Ai,Mn[Vn++]=Si,Mn[Vn++]=wr,wr=e;var o=Ai;e=Si;var h=32-fe(o)-1;o&=~(1<<h),a+=1;var d=32-fe(i)+h;if(30<d){var _=h-h%5;d=(o&(1<<_)-1).toString(32),o>>=_,h-=_,Ai=1<<32-fe(i)+h|a<<h|o,Si=d+e}else Ai=1<<d|a<<h|o,Si=e}function mf(e){e.return!==null&&(Hi(e,1),pg(e,1,0))}function pf(e){for(;e===Gu;)Gu=Ra[--Ca],Ra[Ca]=null,nl=Ra[--Ca],Ra[Ca]=null;for(;e===wr;)wr=Mn[--Vn],Mn[Vn]=null,Si=Mn[--Vn],Mn[Vn]=null,Ai=Mn[--Vn],Mn[Vn]=null}function gg(e,i){Mn[Vn++]=Ai,Mn[Vn++]=Si,Mn[Vn++]=wr,Ai=i.id,Si=i.overflow,wr=e}var He=null,ne=null,Ut=!1,Ir=null,kn=!1,gf=Error(s(519));function Rr(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw il(On(i,e)),gf}function yg(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[Ee]=e,i[Le]=o,a){case"dialog":Nt("cancel",i),Nt("close",i);break;case"iframe":case"object":case"embed":Nt("load",i);break;case"video":case"audio":for(a=0;a<wl.length;a++)Nt(wl[a],i);break;case"source":Nt("error",i);break;case"img":case"image":case"link":Nt("error",i),Nt("load",i);break;case"details":Nt("toggle",i);break;case"input":Nt("invalid",i),Su(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Nt("invalid",i);break;case"textarea":Nt("invalid",i),_r(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||V_(i.textContent,a)?(o.popover!=null&&(Nt("beforetoggle",i),Nt("toggle",i)),o.onScroll!=null&&Nt("scroll",i),o.onScrollEnd!=null&&Nt("scrollend",i),o.onClick!=null&&(i.onclick=Gn),i=!0):i=!1,i||Rr(e,!0)}function _g(e){for(He=e.return;He;)switch(He.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:He=He.return}}function xa(e){if(e!==He)return!1;if(!Ut)return _g(e),Ut=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Vd(e.type,e.memoizedProps)),a=!a),a&&ne&&Rr(e),_g(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ne=H_(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ne=H_(e)}else i===27?(i=ne,Br(e.type)?(e=jd,jd=null,ne=e):ne=i):ne=He?Un(e.stateNode.nextSibling):null;return!0}function Ls(){ne=He=null,Ut=!1}function yf(){var e=Ir;return e!==null&&(hn===null?hn=e:hn.push.apply(hn,e),Ir=null),e}function il(e){Ir===null?Ir=[e]:Ir.push(e)}var _f=V(null),Us=null,Fi=null;function Cr(e,i,a){nt(_f,i._currentValue),i._currentValue=a}function Gi(e){e._currentValue=_f.current,Y(_f)}function vf(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function Tf(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var D=0;D<i.length;D++)if(T.context===i[D]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),vf(d.return,a,e),o||(_=null);break t}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),vf(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Na(e,i,a,o){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;yn(h.pendingProps.value,_.value)||(e!==null?e.push(T):e=[T])}}else if(h===Pt.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Nl):e=[Nl])}h=h.return}e!==null&&Tf(i,e,a,o),i.flags|=262144}function Yu(e){for(e=e.firstContext;e!==null;){if(!yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ps(e){Us=e,Fi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return vg(Us,e)}function Qu(e,i){return Us===null&&Ps(e),vg(e,i)}function vg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Fi===null){if(e===null)throw Error(s(308));Fi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Fi=Fi.next=i;return a}var V1=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},k1=r.unstable_scheduleCallback,L1=r.unstable_NormalPriority,Se={$$typeof:ht,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ef(){return{controller:new V1,data:new Map,refCount:0}}function rl(e){e.refCount--,e.refCount===0&&k1(L1,function(){e.controller.abort()})}var sl=null,bf=0,Da=0,Oa=null;function U1(e,i){if(sl===null){var a=sl=[];bf=0,Da=wd(),Oa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return bf++,i.then(Tg,Tg),i}function Tg(){if(--bf===0&&sl!==null){Oa!==null&&(Oa.status="fulfilled");var e=sl;sl=null,Da=0,Oa=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function P1(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Eg=H.S;H.S=function(e,i){r_=en(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&U1(e,i),Eg!==null&&Eg(e,i)};var js=V(null);function Af(){var e=js.current;return e!==null?e:te.pooledCache}function Ku(e,i){i===null?nt(js,js.current):nt(js,i.pool)}function bg(){var e=Af();return e===null?null:{parent:Se._currentValue,pool:e}}var Ma=Error(s(460)),Sf=Error(s(474)),Xu=Error(s(542)),$u={then:function(){}};function Ag(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Sg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Gn,Gn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Ig(e),e;default:if(typeof i.status=="string")i.then(Gn,Gn);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Ig(e),e}throw Bs=i,Ma}}function zs(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Bs=a,Ma):a}}var Bs=null;function wg(){if(Bs===null)throw Error(s(459));var e=Bs;return Bs=null,e}function Ig(e){if(e===Ma||e===Xu)throw Error(s(483))}var Va=null,al=0;function Ju(e){var i=al;return al+=1,Va===null&&(Va=[]),Sg(Va,e,i)}function ol(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Zu(e,i){throw i.$$typeof===N?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Rg(e){function i(L,O){if(e){var P=L.deletions;P===null?(L.deletions=[O],L.flags|=16):P.push(O)}}function a(L,O){if(!e)return null;for(;O!==null;)i(L,O),O=O.sibling;return null}function o(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function h(L,O){return L=qi(L,O),L.index=0,L.sibling=null,L}function d(L,O,P){return L.index=P,e?(P=L.alternate,P!==null?(P=P.index,P<O?(L.flags|=67108866,O):P):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function _(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function T(L,O,P,Q){return O===null||O.tag!==6?(O=ff(P,L.mode,Q),O.return=L,O):(O=h(O,P),O.return=L,O)}function D(L,O,P,Q){var mt=P.type;return mt===W?G(L,O,P.props.children,Q,P.key):O!==null&&(O.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&zs(mt)===O.type)?(O=h(O,P.props),ol(O,P),O.return=L,O):(O=Fu(P.type,P.key,P.props,null,L.mode,Q),ol(O,P),O.return=L,O)}function j(L,O,P,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=df(P,L.mode,Q),O.return=L,O):(O=h(O,P.children||[]),O.return=L,O)}function G(L,O,P,Q,mt){return O===null||O.tag!==7?(O=ks(P,L.mode,Q,mt),O.return=L,O):(O=h(O,P),O.return=L,O)}function X(L,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=ff(""+O,L.mode,P),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case F:return P=Fu(O.type,O.key,O.props,null,L.mode,P),ol(P,O),P.return=L,P;case J:return O=df(O,L.mode,P),O.return=L,O;case w:return O=zs(O),X(L,O,P)}if(se(O)||k(O))return O=ks(O,L.mode,P,null),O.return=L,O;if(typeof O.then=="function")return X(L,Ju(O),P);if(O.$$typeof===ht)return X(L,Qu(L,O),P);Zu(L,O)}return null}function z(L,O,P,Q){var mt=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return mt!==null?null:T(L,O,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case F:return P.key===mt?D(L,O,P,Q):null;case J:return P.key===mt?j(L,O,P,Q):null;case w:return P=zs(P),z(L,O,P,Q)}if(se(P)||k(P))return mt!==null?null:G(L,O,P,Q,null);if(typeof P.then=="function")return z(L,O,Ju(P),Q);if(P.$$typeof===ht)return z(L,O,Qu(L,P),Q);Zu(L,P)}return null}function q(L,O,P,Q,mt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return L=L.get(P)||null,T(O,L,""+Q,mt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case F:return L=L.get(Q.key===null?P:Q.key)||null,D(O,L,Q,mt);case J:return L=L.get(Q.key===null?P:Q.key)||null,j(O,L,Q,mt);case w:return Q=zs(Q),q(L,O,P,Q,mt)}if(se(Q)||k(Q))return L=L.get(P)||null,G(O,L,Q,mt,null);if(typeof Q.then=="function")return q(L,O,P,Ju(Q),mt);if(Q.$$typeof===ht)return q(L,O,P,Qu(O,Q),mt);Zu(O,Q)}return null}function ot(L,O,P,Q){for(var mt=null,qt=null,lt=O,Ct=O=0,Ot=null;lt!==null&&Ct<P.length;Ct++){lt.index>Ct?(Ot=lt,lt=null):Ot=lt.sibling;var Ht=z(L,lt,P[Ct],Q);if(Ht===null){lt===null&&(lt=Ot);break}e&&lt&&Ht.alternate===null&&i(L,lt),O=d(Ht,O,Ct),qt===null?mt=Ht:qt.sibling=Ht,qt=Ht,lt=Ot}if(Ct===P.length)return a(L,lt),Ut&&Hi(L,Ct),mt;if(lt===null){for(;Ct<P.length;Ct++)lt=X(L,P[Ct],Q),lt!==null&&(O=d(lt,O,Ct),qt===null?mt=lt:qt.sibling=lt,qt=lt);return Ut&&Hi(L,Ct),mt}for(lt=o(lt);Ct<P.length;Ct++)Ot=q(lt,L,Ct,P[Ct],Q),Ot!==null&&(e&&Ot.alternate!==null&&lt.delete(Ot.key===null?Ct:Ot.key),O=d(Ot,O,Ct),qt===null?mt=Ot:qt.sibling=Ot,qt=Ot);return e&&lt.forEach(function(Yr){return i(L,Yr)}),Ut&&Hi(L,Ct),mt}function yt(L,O,P,Q){if(P==null)throw Error(s(151));for(var mt=null,qt=null,lt=O,Ct=O=0,Ot=null,Ht=P.next();lt!==null&&!Ht.done;Ct++,Ht=P.next()){lt.index>Ct?(Ot=lt,lt=null):Ot=lt.sibling;var Yr=z(L,lt,Ht.value,Q);if(Yr===null){lt===null&&(lt=Ot);break}e&&lt&&Yr.alternate===null&&i(L,lt),O=d(Yr,O,Ct),qt===null?mt=Yr:qt.sibling=Yr,qt=Yr,lt=Ot}if(Ht.done)return a(L,lt),Ut&&Hi(L,Ct),mt;if(lt===null){for(;!Ht.done;Ct++,Ht=P.next())Ht=X(L,Ht.value,Q),Ht!==null&&(O=d(Ht,O,Ct),qt===null?mt=Ht:qt.sibling=Ht,qt=Ht);return Ut&&Hi(L,Ct),mt}for(lt=o(lt);!Ht.done;Ct++,Ht=P.next())Ht=q(lt,L,Ct,Ht.value,Q),Ht!==null&&(e&&Ht.alternate!==null&&lt.delete(Ht.key===null?Ct:Ht.key),O=d(Ht,O,Ct),qt===null?mt=Ht:qt.sibling=Ht,qt=Ht);return e&&lt.forEach(function(XA){return i(L,XA)}),Ut&&Hi(L,Ct),mt}function Wt(L,O,P,Q){if(typeof P=="object"&&P!==null&&P.type===W&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case F:t:{for(var mt=P.key;O!==null;){if(O.key===mt){if(mt=P.type,mt===W){if(O.tag===7){a(L,O.sibling),Q=h(O,P.props.children),Q.return=L,L=Q;break t}}else if(O.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&zs(mt)===O.type){a(L,O.sibling),Q=h(O,P.props),ol(Q,P),Q.return=L,L=Q;break t}a(L,O);break}else i(L,O);O=O.sibling}P.type===W?(Q=ks(P.props.children,L.mode,Q,P.key),Q.return=L,L=Q):(Q=Fu(P.type,P.key,P.props,null,L.mode,Q),ol(Q,P),Q.return=L,L=Q)}return _(L);case J:t:{for(mt=P.key;O!==null;){if(O.key===mt)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){a(L,O.sibling),Q=h(O,P.children||[]),Q.return=L,L=Q;break t}else{a(L,O);break}else i(L,O);O=O.sibling}Q=df(P,L.mode,Q),Q.return=L,L=Q}return _(L);case w:return P=zs(P),Wt(L,O,P,Q)}if(se(P))return ot(L,O,P,Q);if(k(P)){if(mt=k(P),typeof mt!="function")throw Error(s(150));return P=mt.call(P),yt(L,O,P,Q)}if(typeof P.then=="function")return Wt(L,O,Ju(P),Q);if(P.$$typeof===ht)return Wt(L,O,Qu(L,P),Q);Zu(L,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(a(L,O.sibling),Q=h(O,P),Q.return=L,L=Q):(a(L,O),Q=ff(P,L.mode,Q),Q.return=L,L=Q),_(L)):a(L,O)}return function(L,O,P,Q){try{al=0;var mt=Wt(L,O,P,Q);return Va=null,mt}catch(lt){if(lt===Ma||lt===Xu)throw lt;var qt=_n(29,lt,null,L.mode);return qt.lanes=Q,qt.return=L,qt}}}var qs=Rg(!0),Cg=Rg(!1),xr=!1;function wf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function If(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Nr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Dr(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Gt&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Hu(e),hg(e,null,a),i}return qu(e,o,i,a),Hu(e)}function ll(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,ko(e,a)}}function Rf(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Cf=!1;function ul(){if(Cf){var e=Oa;if(e!==null)throw e}}function cl(e,i,a,o){Cf=!1;var h=e.updateQueue;xr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var D=T,j=D.next;D.next=null,_===null?d=j:_.next=j,_=D;var G=e.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==_&&(T===null?G.firstBaseUpdate=j:T.next=j,G.lastBaseUpdate=D))}if(d!==null){var X=h.baseState;_=0,G=j=D=null,T=d;do{var z=T.lane&-536870913,q=z!==T.lane;if(q?(Dt&z)===z:(o&z)===z){z!==0&&z===Da&&(Cf=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ot=e,yt=T;z=i;var Wt=a;switch(yt.tag){case 1:if(ot=yt.payload,typeof ot=="function"){X=ot.call(Wt,X,z);break t}X=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=yt.payload,z=typeof ot=="function"?ot.call(Wt,X,z):ot,z==null)break t;X=S({},X,z);break t;case 2:xr=!0}}z=T.callback,z!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(j=G=q,D=X):G=G.next=q,_|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(D=X),h.baseState=D,h.firstBaseUpdate=j,h.lastBaseUpdate=G,d===null&&(h.shared.lanes=0),Lr|=_,e.lanes=_,e.memoizedState=X}}function xg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Ng(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)xg(a[e],i)}var ka=V(null),Wu=V(0);function Dg(e,i){e=tr,nt(Wu,e),nt(ka,i),tr=e|i.baseLanes}function xf(){nt(Wu,tr),nt(ka,ka.current)}function Nf(){tr=Wu.current,Y(ka),Y(Wu)}var vn=V(null),Ln=null;function Or(e){var i=e.alternate;nt(me,me.current&1),nt(vn,e),Ln===null&&(i===null||ka.current!==null||i.memoizedState!==null)&&(Ln=e)}function Df(e){nt(me,me.current),nt(vn,e),Ln===null&&(Ln=e)}function Og(e){e.tag===22?(nt(me,me.current),nt(vn,e),Ln===null&&(Ln=e)):Mr()}function Mr(){nt(me,me.current),nt(vn,vn.current)}function Tn(e){Y(vn),Ln===e&&(Ln=null),Y(me)}var me=V(0);function tc(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ud(a)||Pd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Yi=0,It=null,Jt=null,we=null,ec=!1,La=!1,Hs=!1,nc=0,hl=0,Ua=null,j1=0;function ce(){throw Error(s(321))}function Of(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!yn(e[a],i[a]))return!1;return!0}function Mf(e,i,a,o,h,d){return Yi=d,It=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,H.H=e===null||e.memoizedState===null?py:Kf,Hs=!1,d=a(o,h),Hs=!1,La&&(d=Vg(i,a,o,h)),Mg(e),d}function Mg(e){H.H=ml;var i=Jt!==null&&Jt.next!==null;if(Yi=0,we=Jt=It=null,ec=!1,hl=0,Ua=null,i)throw Error(s(300));e===null||Ie||(e=e.dependencies,e!==null&&Yu(e)&&(Ie=!0))}function Vg(e,i,a,o){It=e;var h=0;do{if(La&&(Ua=null),hl=0,La=!1,25<=h)throw Error(s(301));if(h+=1,we=Jt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}H.H=gy,d=i(a,o)}while(La);return d}function z1(){var e=H.H,i=e.useState()[0];return i=typeof i.then=="function"?fl(i):i,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(It.flags|=1024),i}function Vf(){var e=nc!==0;return nc=0,e}function kf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Lf(e){if(ec){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}ec=!1}Yi=0,we=Jt=It=null,La=!1,hl=nc=0,Ua=null}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?It.memoizedState=we=e:we=we.next=e,we}function pe(){if(Jt===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var i=we===null?It.memoizedState:we.next;if(i!==null)we=i,Jt=e;else{if(e===null)throw It.alternate===null?Error(s(467)):Error(s(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},we===null?It.memoizedState=we=e:we=we.next=e}return we}function ic(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(e){var i=hl;return hl+=1,Ua===null&&(Ua=[]),e=Sg(Ua,e,i),i=It,(we===null?i.memoizedState:we.next)===null&&(i=i.alternate,H.H=i===null||i.memoizedState===null?py:Kf),e}function rc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return fl(e);if(e.$$typeof===ht)return Fe(e)}throw Error(s(438,String(e)))}function Uf(e){var i=null,a=It.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=It.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=ic(),It.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=M;return i.index++,a}function Qi(e,i){return typeof i=="function"?i(e):i}function sc(e){var i=pe();return Pf(i,Jt,e)}function Pf(e,i,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,d=o.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,o.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=_=null,D=null,j=i,G=!1;do{var X=j.lane&-536870913;if(X!==j.lane?(Dt&X)===X:(Yi&X)===X){var z=j.revertLane;if(z===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),X===Da&&(G=!0);else if((Yi&z)===z){j=j.next,z===Da&&(G=!0);continue}else X={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},D===null?(T=D=X,_=d):D=D.next=X,It.lanes|=z,Lr|=z;X=j.action,Hs&&a(d,X),d=j.hasEagerState?j.eagerState:a(d,X)}else z={lane:X,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},D===null?(T=D=z,_=d):D=D.next=z,It.lanes|=X,Lr|=X;j=j.next}while(j!==null&&j!==i);if(D===null?_=d:D.next=T,!yn(d,e.memoizedState)&&(Ie=!0,G&&(a=Oa,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=D,o.lastRenderedState=d}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function jf(e){var i=pe(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);yn(d,i.memoizedState)||(Ie=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,o]}function kg(e,i,a){var o=It,h=pe(),d=Ut;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!yn((Jt||h).memoizedState,a);if(_&&(h.memoizedState=a,Ie=!0),h=h.queue,qf(Pg.bind(null,o,h,e),[e]),h.getSnapshot!==i||_||we!==null&&we.memoizedState.tag&1){if(o.flags|=2048,Pa(9,{destroy:void 0},Ug.bind(null,o,h,a,i),null),te===null)throw Error(s(349));d||(Yi&127)!==0||Lg(o,i,a)}return a}function Lg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=It.updateQueue,i===null?(i=ic(),It.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Ug(e,i,a,o){i.value=a,i.getSnapshot=o,jg(i)&&zg(e)}function Pg(e,i,a){return a(function(){jg(i)&&zg(e)})}function jg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!yn(e,a)}catch{return!0}}function zg(e){var i=Vs(e,2);i!==null&&fn(i,e,2)}function zf(e){var i=rn();if(typeof e=="function"){var a=e;if(e=a(),Hs){In(!0);try{a()}finally{In(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:e},i}function Bg(e,i,a,o){return e.baseState=a,Pf(e,Jt,typeof o=="function"?o:Qi)}function B1(e,i,a,o,h){if(lc(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};H.T!==null?a(!0):d.isTransition=!1,o(d),a=i.pending,a===null?(d.next=i.pending=d,qg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function qg(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var d=H.T,_={};H.T=_;try{var T=a(h,o),D=H.S;D!==null&&D(_,T),Hg(e,i,T)}catch(j){Bf(e,i,j)}finally{d!==null&&_.types!==null&&(d.types=_.types),H.T=d}}else try{d=a(h,o),Hg(e,i,d)}catch(j){Bf(e,i,j)}}function Hg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Fg(e,i,o)},function(o){return Bf(e,i,o)}):Fg(e,i,a)}function Fg(e,i,a){i.status="fulfilled",i.value=a,Gg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,qg(e,a)))}function Bf(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,Gg(i),i=i.next;while(i!==o)}e.action=null}function Gg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Yg(e,i){return i}function Qg(e,i){if(Ut){var a=te.formState;if(a!==null){t:{var o=It;if(Ut){if(ne){e:{for(var h=ne,d=kn;h.nodeType!==8;){if(!d){h=null;break e}if(h=Un(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ne=Un(h.nextSibling),o=h.data==="F!";break t}}Rr(o)}o=!1}o&&(i=a[0])}}return a=rn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yg,lastRenderedState:i},a.queue=o,a=fy.bind(null,It,o),o.dispatch=a,o=zf(!1),d=Qf.bind(null,It,!1,o.queue),o=rn(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=B1.bind(null,It,h,d,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function Kg(e){var i=pe();return Xg(i,Jt,e)}function Xg(e,i,a){if(i=Pf(e,i,Yg)[0],e=sc(Qi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=fl(i)}catch(_){throw _===Ma?Xu:_}else o=i;i=pe();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(It.flags|=2048,Pa(9,{destroy:void 0},q1.bind(null,h,a),null)),[o,d,e]}function q1(e,i){e.action=i}function $g(e){var i=pe(),a=Jt;if(a!==null)return Xg(i,a,e);pe(),i=i.memoizedState,a=pe();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function Pa(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=It.updateQueue,i===null&&(i=ic(),It.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function Jg(){return pe().memoizedState}function ac(e,i,a,o){var h=rn();It.flags|=e,h.memoizedState=Pa(1|i,{destroy:void 0},a,o===void 0?null:o)}function oc(e,i,a,o){var h=pe();o=o===void 0?null:o;var d=h.memoizedState.inst;Jt!==null&&o!==null&&Of(o,Jt.memoizedState.deps)?h.memoizedState=Pa(i,d,a,o):(It.flags|=e,h.memoizedState=Pa(1|i,d,a,o))}function Zg(e,i){ac(8390656,8,e,i)}function qf(e,i){oc(2048,8,e,i)}function H1(e){It.flags|=4;var i=It.updateQueue;if(i===null)i=ic(),It.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function Wg(e){var i=pe().memoizedState;return H1({ref:i,nextImpl:e}),function(){if((Gt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function ty(e,i){return oc(4,2,e,i)}function ey(e,i){return oc(4,4,e,i)}function ny(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function iy(e,i,a){a=a!=null?a.concat([e]):null,oc(4,4,ny.bind(null,i,e),a)}function Hf(){}function ry(e,i){var a=pe();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Of(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function sy(e,i){var a=pe();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Of(i,o[1]))return o[0];if(o=e(),Hs){In(!0);try{e()}finally{In(!1)}}return a.memoizedState=[o,i],o}function Ff(e,i,a){return a===void 0||(Yi&1073741824)!==0&&(Dt&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=a_(),It.lanes|=e,Lr|=e,a)}function ay(e,i,a,o){return yn(a,i)?a:ka.current!==null?(e=Ff(e,a,o),yn(e,i)||(Ie=!0),e):(Yi&42)===0||(Yi&1073741824)!==0&&(Dt&261930)===0?(Ie=!0,e.memoizedState=a):(e=a_(),It.lanes|=e,Lr|=e,i)}function oy(e,i,a,o,h){var d=et.p;et.p=d!==0&&8>d?d:8;var _=H.T,T={};H.T=T,Qf(e,!1,i,a);try{var D=h(),j=H.S;if(j!==null&&j(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var G=P1(D,o);dl(e,i,G,An(e))}else dl(e,i,o,An(e))}catch(X){dl(e,i,{then:function(){},status:"rejected",reason:X},An())}finally{et.p=d,_!==null&&T.types!==null&&(_.types=T.types),H.T=_}}function F1(){}function Gf(e,i,a,o){if(e.tag!==5)throw Error(s(476));var h=ly(e).queue;oy(e,h,i,dt,a===null?F1:function(){return uy(e),a(o)})}function ly(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:dt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function uy(e){var i=ly(e);i.next===null&&(i=e.alternate.memoizedState),dl(e,i.next.queue,{},An())}function Yf(){return Fe(Nl)}function cy(){return pe().memoizedState}function hy(){return pe().memoizedState}function G1(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=An();e=Nr(a);var o=Dr(i,e,a);o!==null&&(fn(o,i,a),ll(o,i,a)),i={cache:Ef()},e.payload=i;return}i=i.return}}function Y1(e,i,a){var o=An();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},lc(e)?dy(i,a):(a=cf(e,i,a,o),a!==null&&(fn(a,e,o),my(a,i,o)))}function fy(e,i,a){var o=An();dl(e,i,a,o)}function dl(e,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(lc(e))dy(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,yn(T,_))return qu(e,i,h,0),te===null&&Bu(),!1}catch{}if(a=cf(e,i,h,o),a!==null)return fn(a,e,o),my(a,i,o),!0}return!1}function Qf(e,i,a,o){if(o={lane:2,revertLane:wd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},lc(e)){if(i)throw Error(s(479))}else i=cf(e,a,o,2),i!==null&&fn(i,e,2)}function lc(e){var i=e.alternate;return e===It||i!==null&&i===It}function dy(e,i){La=ec=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function my(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,ko(e,a)}}var ml={readContext:Fe,use:rc,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};ml.useEffectEvent=ce;var py={readContext:Fe,use:rc,useCallback:function(e,i){return rn().memoizedState=[e,i===void 0?null:i],e},useContext:Fe,useEffect:Zg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,ac(4194308,4,ny.bind(null,i,e),a)},useLayoutEffect:function(e,i){return ac(4194308,4,e,i)},useInsertionEffect:function(e,i){ac(4,2,e,i)},useMemo:function(e,i){var a=rn();i=i===void 0?null:i;var o=e();if(Hs){In(!0);try{e()}finally{In(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=rn();if(a!==void 0){var h=a(i);if(Hs){In(!0);try{a(i)}finally{In(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=Y1.bind(null,It,e),[o.memoizedState,e]},useRef:function(e){var i=rn();return e={current:e},i.memoizedState=e},useState:function(e){e=zf(e);var i=e.queue,a=fy.bind(null,It,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Hf,useDeferredValue:function(e,i){var a=rn();return Ff(a,e,i)},useTransition:function(){var e=zf(!1);return e=oy.bind(null,It,e.queue,!0,!1),rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=It,h=rn();if(Ut){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),te===null)throw Error(s(349));(Dt&127)!==0||Lg(o,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Zg(Pg.bind(null,o,d,e),[e]),o.flags|=2048,Pa(9,{destroy:void 0},Ug.bind(null,o,d,a,i),null),a},useId:function(){var e=rn(),i=te.identifierPrefix;if(Ut){var a=Si,o=Ai;a=(o&~(1<<32-fe(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=nc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=j1++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Yf,useFormState:Qg,useActionState:Qg,useOptimistic:function(e){var i=rn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Qf.bind(null,It,!0,a),a.dispatch=i,[e,i]},useMemoCache:Uf,useCacheRefresh:function(){return rn().memoizedState=G1.bind(null,It)},useEffectEvent:function(e){var i=rn(),a={impl:e};return i.memoizedState=a,function(){if((Gt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Kf={readContext:Fe,use:rc,useCallback:ry,useContext:Fe,useEffect:qf,useImperativeHandle:iy,useInsertionEffect:ty,useLayoutEffect:ey,useMemo:sy,useReducer:sc,useRef:Jg,useState:function(){return sc(Qi)},useDebugValue:Hf,useDeferredValue:function(e,i){var a=pe();return ay(a,Jt.memoizedState,e,i)},useTransition:function(){var e=sc(Qi)[0],i=pe().memoizedState;return[typeof e=="boolean"?e:fl(e),i]},useSyncExternalStore:kg,useId:cy,useHostTransitionStatus:Yf,useFormState:Kg,useActionState:Kg,useOptimistic:function(e,i){var a=pe();return Bg(a,Jt,e,i)},useMemoCache:Uf,useCacheRefresh:hy};Kf.useEffectEvent=Wg;var gy={readContext:Fe,use:rc,useCallback:ry,useContext:Fe,useEffect:qf,useImperativeHandle:iy,useInsertionEffect:ty,useLayoutEffect:ey,useMemo:sy,useReducer:jf,useRef:Jg,useState:function(){return jf(Qi)},useDebugValue:Hf,useDeferredValue:function(e,i){var a=pe();return Jt===null?Ff(a,e,i):ay(a,Jt.memoizedState,e,i)},useTransition:function(){var e=jf(Qi)[0],i=pe().memoizedState;return[typeof e=="boolean"?e:fl(e),i]},useSyncExternalStore:kg,useId:cy,useHostTransitionStatus:Yf,useFormState:$g,useActionState:$g,useOptimistic:function(e,i){var a=pe();return Jt!==null?Bg(a,Jt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Uf,useCacheRefresh:hy};gy.useEffectEvent=Wg;function Xf(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:S({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var $f={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=An(),h=Nr(o);h.payload=i,a!=null&&(h.callback=a),i=Dr(e,h,o),i!==null&&(fn(i,e,o),ll(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=An(),h=Nr(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Dr(e,h,o),i!==null&&(fn(i,e,o),ll(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=An(),o=Nr(a);o.tag=2,i!=null&&(o.callback=i),i=Dr(e,o,a),i!==null&&(fn(i,e,a),ll(i,e,a))}};function yy(e,i,a,o,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,_):i.prototype&&i.prototype.isPureReactComponent?!tl(a,o)||!tl(h,d):!0}function _y(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&$f.enqueueReplaceState(i,i.state,null)}function Fs(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function vy(e){zu(e)}function Ty(e){console.error(e)}function Ey(e){zu(e)}function uc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function by(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Jf(e,i,a){return a=Nr(a),a.tag=3,a.payload={element:null},a.callback=function(){uc(e,i)},a}function Ay(e){return e=Nr(e),e.tag=3,e}function Sy(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;e.payload=function(){return h(d)},e.callback=function(){by(i,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){by(i,a,o),typeof h!="function"&&(Ur===null?Ur=new Set([this]):Ur.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function Q1(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Na(i,a,h,!0),a=vn.current,a!==null){switch(a.tag){case 31:case 13:return Ln===null?Ec():a.alternate===null&&he===0&&(he=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===$u?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),bd(e,o,h)),!1;case 22:return a.flags|=65536,o===$u?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),bd(e,o,h)),!1}throw Error(s(435,a.tag))}return bd(e,o,h),Ec(),!1}if(Ut)return i=vn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==gf&&(e=Error(s(422),{cause:o}),il(On(e,a)))):(o!==gf&&(i=Error(s(423),{cause:o}),il(On(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=On(o,a),h=Jf(e.stateNode,o,h),Rf(e,h),he!==4&&(he=2)),!1;var d=Error(s(520),{cause:o});if(d=On(d,a),bl===null?bl=[d]:bl.push(d),he!==4&&(he=2),i===null)return!0;o=On(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Jf(a.stateNode,o,e),Rf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ur===null||!Ur.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ay(h),Sy(h,e,a,o),Rf(a,h),!1}a=a.return}while(a!==null);return!1}var Zf=Error(s(461)),Ie=!1;function Ge(e,i,a,o){i.child=e===null?Cg(i,null,a,o):qs(i,e.child,a,o)}function wy(e,i,a,o,h){a=a.render;var d=i.ref;if("ref"in o){var _={};for(var T in o)T!=="ref"&&(_[T]=o[T])}else _=o;return Ps(i),o=Mf(e,i,a,_,d,h),T=Vf(),e!==null&&!Ie?(kf(e,i,h),Ki(e,i,h)):(Ut&&T&&mf(i),i.flags|=1,Ge(e,i,o,h),i.child)}function Iy(e,i,a,o,h){if(e===null){var d=a.type;return typeof d=="function"&&!hf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Ry(e,i,d,o,h)):(e=Fu(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!ad(e,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:tl,a(_,o)&&e.ref===i.ref)return Ki(e,i,h)}return i.flags|=1,e=qi(d,o),e.ref=i.ref,e.return=i,i.child=e}function Ry(e,i,a,o,h){if(e!==null){var d=e.memoizedProps;if(tl(d,o)&&e.ref===i.ref)if(Ie=!1,i.pendingProps=o=d,ad(e,h))(e.flags&131072)!==0&&(Ie=!0);else return i.lanes=e.lanes,Ki(e,i,h)}return Wf(e,i,a,o,h)}function Cy(e,i,a,o){var h=o.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(o=i.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~d}else o=0,i.child=null;return xy(e,i,d,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ku(i,d!==null?d.cachePool:null),d!==null?Dg(i,d):xf(),Og(i);else return o=i.lanes=536870912,xy(e,i,d!==null?d.baseLanes|a:a,a,o)}else d!==null?(Ku(i,d.cachePool),Dg(i,d),Mr(),i.memoizedState=null):(e!==null&&Ku(i,null),xf(),Mr());return Ge(e,i,h,a),i.child}function pl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function xy(e,i,a,o,h){var d=Af();return d=d===null?null:{parent:Se._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&Ku(i,null),xf(),Og(i),e!==null&&Na(e,i,o,!0),i.childLanes=h,null}function cc(e,i){return i=fc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function Ny(e,i,a){return qs(i,e.child,null,a),e=cc(i,i.pendingProps),e.flags|=2,Tn(i),i.memoizedState=null,e}function K1(e,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Ut){if(o.mode==="hidden")return e=cc(i,o),i.lanes=536870912,pl(null,e);if(Df(i),(e=ne)?(e=q_(e,kn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:wr!==null?{id:Ai,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=dg(e),a.return=i,i.child=a,He=i,ne=null)):e=null,e===null)throw Rr(i);return i.lanes=536870912,null}return cc(i,o)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(Df(i),h)if(i.flags&256)i.flags&=-257,i=Ny(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(Ie||Na(e,i,a,!1),h=(a&e.childLanes)!==0,Ie||h){if(o=te,o!==null&&(_=Lo(o,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Vs(e,_),fn(o,e,_),Zf;Ec(),i=Ny(e,i,a)}else e=d.treeContext,ne=Un(_.nextSibling),He=i,Ut=!0,Ir=null,kn=!1,e!==null&&gg(i,e),i=cc(i,o),i.flags|=4096;return i}return e=qi(e.child,{mode:o.mode,children:o.children}),e.ref=i.ref,i.child=e,e.return=i,e}function hc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Wf(e,i,a,o,h){return Ps(i),a=Mf(e,i,a,o,void 0,h),o=Vf(),e!==null&&!Ie?(kf(e,i,h),Ki(e,i,h)):(Ut&&o&&mf(i),i.flags|=1,Ge(e,i,a,h),i.child)}function Dy(e,i,a,o,h,d){return Ps(i),i.updateQueue=null,a=Vg(i,o,a,h),Mg(e),o=Vf(),e!==null&&!Ie?(kf(e,i,d),Ki(e,i,d)):(Ut&&o&&mf(i),i.flags|=1,Ge(e,i,a,d),i.child)}function Oy(e,i,a,o,h){if(Ps(i),i.stateNode===null){var d=Ia,_=a.contextType;typeof _=="object"&&_!==null&&(d=Fe(_)),d=new a(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=$f,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},wf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Fe(_):Ia,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Xf(i,a,_,o),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&$f.enqueueReplaceState(d,d.state,null),cl(i,o,d,h),ul(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,D=Fs(a,T);d.props=D;var j=d.context,G=a.contextType;_=Ia,typeof G=="object"&&G!==null&&(_=Fe(G));var X=a.getDerivedStateFromProps;G=typeof X=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||j!==_)&&_y(i,d,o,_),xr=!1;var z=i.memoizedState;d.state=z,cl(i,o,d,h),ul(),j=i.memoizedState,T||z!==j||xr?(typeof X=="function"&&(Xf(i,a,X,o),j=i.memoizedState),(D=xr||yy(i,a,D,o,z,j,_))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=j),d.props=o,d.state=j,d.context=_,o=D):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,If(e,i),_=i.memoizedProps,G=Fs(a,_),d.props=G,X=i.pendingProps,z=d.context,j=a.contextType,D=Ia,typeof j=="object"&&j!==null&&(D=Fe(j)),T=a.getDerivedStateFromProps,(j=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==X||z!==D)&&_y(i,d,o,D),xr=!1,z=i.memoizedState,d.state=z,cl(i,o,d,h),ul();var q=i.memoizedState;_!==X||z!==q||xr||e!==null&&e.dependencies!==null&&Yu(e.dependencies)?(typeof T=="function"&&(Xf(i,a,T,o),q=i.memoizedState),(G=xr||yy(i,a,G,o,z,q,D)||e!==null&&e.dependencies!==null&&Yu(e.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,q,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,q,D)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=q),d.props=o,d.state=q,d.context=D,o=G):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),o=!1)}return d=o,hc(e,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&o?(i.child=qs(i,e.child,null,h),i.child=qs(i,null,a,h)):Ge(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Ki(e,i,h),e}function My(e,i,a,o){return Ls(),i.flags|=256,Ge(e,i,a,o),i.child}var td={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ed(e){return{baseLanes:e,cachePool:bg()}}function nd(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=bn),e}function Vy(e,i,a){var o=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(me.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(Ut){if(h?Or(i):Mr(),(e=ne)?(e=q_(e,kn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:wr!==null?{id:Ai,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=dg(e),a.return=i,i.child=a,He=i,ne=null)):e=null,e===null)throw Rr(i);return Pd(e)?i.lanes=32:i.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(Mr(),h=i.mode,T=fc({mode:"hidden",children:T},h),o=ks(o,h,a,null),T.return=i,o.return=i,T.sibling=o,i.child=T,o=i.child,o.memoizedState=ed(a),o.childLanes=nd(e,_,a),i.memoizedState=td,pl(null,o)):(Or(i),id(i,T))}var D=e.memoizedState;if(D!==null&&(T=D.dehydrated,T!==null)){if(d)i.flags&256?(Or(i),i.flags&=-257,i=rd(e,i,a)):i.memoizedState!==null?(Mr(),i.child=e.child,i.flags|=128,i=null):(Mr(),T=o.fallback,h=i.mode,o=fc({mode:"visible",children:o.children},h),T=ks(T,h,a,null),T.flags|=2,o.return=i,T.return=i,o.sibling=T,i.child=o,qs(i,e.child,null,a),o=i.child,o.memoizedState=ed(a),o.childLanes=nd(e,_,a),i.memoizedState=td,i=pl(null,o));else if(Or(i),Pd(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var j=_.dgst;_=j,o=Error(s(419)),o.stack="",o.digest=_,il({value:o,source:null,stack:null}),i=rd(e,i,a)}else if(Ie||Na(e,i,a,!1),_=(a&e.childLanes)!==0,Ie||_){if(_=te,_!==null&&(o=Lo(_,a),o!==0&&o!==D.retryLane))throw D.retryLane=o,Vs(e,o),fn(_,e,o),Zf;Ud(T)||Ec(),i=rd(e,i,a)}else Ud(T)?(i.flags|=192,i.child=e.child,i=null):(e=D.treeContext,ne=Un(T.nextSibling),He=i,Ut=!0,Ir=null,kn=!1,e!==null&&gg(i,e),i=id(i,o.children),i.flags|=4096);return i}return h?(Mr(),T=o.fallback,h=i.mode,D=e.child,j=D.sibling,o=qi(D,{mode:"hidden",children:o.children}),o.subtreeFlags=D.subtreeFlags&65011712,j!==null?T=qi(j,T):(T=ks(T,h,a,null),T.flags|=2),T.return=i,o.return=i,o.sibling=T,i.child=o,pl(null,o),o=i.child,T=e.child.memoizedState,T===null?T=ed(a):(h=T.cachePool,h!==null?(D=Se._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=bg(),T={baseLanes:T.baseLanes|a,cachePool:h}),o.memoizedState=T,o.childLanes=nd(e,_,a),i.memoizedState=td,pl(e.child,o)):(Or(i),a=e.child,e=a.sibling,a=qi(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function id(e,i){return i=fc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function fc(e,i){return e=_n(22,e,null,i),e.lanes=0,e}function rd(e,i,a){return qs(i,e.child,null,a),e=id(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function ky(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),vf(e.return,i,a)}function sd(e,i,a,o,h,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Ly(e,i,a){var o=i.pendingProps,h=o.revealOrder,d=o.tail;o=o.children;var _=me.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,nt(me,_),Ge(e,i,o,a),o=Ut?nl:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ky(e,a,i);else if(e.tag===19)ky(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&tc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),sd(i,!1,h,a,d,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&tc(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}sd(i,!0,a,null,d,o);break;case"together":sd(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function Ki(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Lr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Na(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=qi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=qi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function ad(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Yu(e)))}function X1(e,i,a){switch(i.tag){case 3:De(i,i.stateNode.containerInfo),Cr(i,Se,e.memoizedState.cache),Ls();break;case 27:case 5:gs(i);break;case 4:De(i,i.stateNode.containerInfo);break;case 10:Cr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Df(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Or(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Vy(e,i,a):(Or(i),e=Ki(e,i,a),e!==null?e.sibling:null);Or(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Na(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Ly(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(me,me.current),o)break;return null;case 22:return i.lanes=0,Cy(e,i,a,i.pendingProps);case 24:Cr(i,Se,e.memoizedState.cache)}return Ki(e,i,a)}function Uy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ie=!0;else{if(!ad(e,a)&&(i.flags&128)===0)return Ie=!1,X1(e,i,a);Ie=(e.flags&131072)!==0}else Ie=!1,Ut&&(i.flags&1048576)!==0&&pg(i,nl,i.index);switch(i.lanes=0,i.tag){case 16:t:{var o=i.pendingProps;if(e=zs(i.elementType),i.type=e,typeof e=="function")hf(e)?(o=Fs(e,o),i.tag=1,i=Oy(null,i,e,o,a)):(i.tag=0,i=Wf(null,i,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===Bt){i.tag=11,i=wy(null,i,e,o,a);break t}else if(h===I){i.tag=14,i=Iy(null,i,e,o,a);break t}}throw i=Et(e)||e,Error(s(306,i,""))}}return i;case 0:return Wf(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=Fs(o,i.pendingProps),Oy(e,i,o,h,a);case 3:t:{if(De(i,i.stateNode.containerInfo),e===null)throw Error(s(387));o=i.pendingProps;var d=i.memoizedState;h=d.element,If(e,i),cl(i,o,null,a);var _=i.memoizedState;if(o=_.cache,Cr(i,Se,o),o!==d.cache&&Tf(i,[Se],a,!0),ul(),o=_.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=My(e,i,o,a);break t}else if(o!==h){h=On(Error(s(424)),i),il(h),i=My(e,i,o,a);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ne=Un(e.firstChild),He=i,Ut=!0,Ir=null,kn=!0,a=Cg(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ls(),o===h){i=Ki(e,i,a);break t}Ge(e,i,o,a)}i=i.child}return i;case 26:return hc(e,i),e===null?(a=K_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ut||(a=i.type,e=i.pendingProps,o=Cc(Rt.current).createElement(a),o[Ee]=i,o[Le]=e,Ye(o,a,e),be(o),i.stateNode=o):i.memoizedState=K_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return gs(i),e===null&&Ut&&(o=i.stateNode=G_(i.type,i.pendingProps,Rt.current),He=i,kn=!0,h=ne,Br(i.type)?(jd=h,ne=Un(o.firstChild)):ne=h),Ge(e,i,i.pendingProps.children,a),hc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Ut&&((h=o=ne)&&(o=wA(o,i.type,i.pendingProps,kn),o!==null?(i.stateNode=o,He=i,ne=Un(o.firstChild),kn=!1,h=!0):h=!1),h||Rr(i)),gs(i),h=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,o=d.children,Vd(h,d)?o=null:_!==null&&Vd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Mf(e,i,z1,null,null,a),Nl._currentValue=h),hc(e,i),Ge(e,i,o,a),i.child;case 6:return e===null&&Ut&&((e=a=ne)&&(a=IA(a,i.pendingProps,kn),a!==null?(i.stateNode=a,He=i,ne=null,e=!0):e=!1),e||Rr(i)),null;case 13:return Vy(e,i,a);case 4:return De(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=qs(i,null,o,a):Ge(e,i,o,a),i.child;case 11:return wy(e,i,i.type,i.pendingProps,a);case 7:return Ge(e,i,i.pendingProps,a),i.child;case 8:return Ge(e,i,i.pendingProps.children,a),i.child;case 12:return Ge(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Cr(i,i.type,o.value),Ge(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Ps(i),h=Fe(h),o=o(h),i.flags|=1,Ge(e,i,o,a),i.child;case 14:return Iy(e,i,i.type,i.pendingProps,a);case 15:return Ry(e,i,i.type,i.pendingProps,a);case 19:return Ly(e,i,a);case 31:return K1(e,i,a);case 22:return Cy(e,i,a,i.pendingProps);case 24:return Ps(i),o=Fe(Se),e===null?(h=Af(),h===null&&(h=te,d=Ef(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:o,cache:h},wf(i),Cr(i,Se,h)):((e.lanes&a)!==0&&(If(e,i),cl(i,null,null,a),ul()),h=e.memoizedState,d=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Cr(i,Se,o)):(o=d.cache,Cr(i,Se,o),o!==h.cache&&Tf(i,[Se],a,!0))),Ge(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Xi(e){e.flags|=4}function od(e,i,a,o,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(c_())e.flags|=8192;else throw Bs=$u,Sf}else e.flags&=-16777217}function Py(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!W_(i))if(c_())e.flags|=8192;else throw Bs=$u,Sf}function dc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?vu():536870912,e.lanes|=i,qa|=i)}function gl(e,i){if(!Ut)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ie(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function $1(e,i,a){var o=i.pendingProps;switch(pf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(i),null;case 1:return ie(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Gi(Se),ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(xa(i)?Xi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,yf())),ie(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?(Xi(i),d!==null?(ie(i),Py(i,d)):(ie(i),od(i,h,null,o,a))):d?d!==e.memoizedState?(Xi(i),ie(i),Py(i,d)):(ie(i),i.flags&=-16777217):(e=e.memoizedProps,e!==o&&Xi(i),ie(i),od(i,h,e,o,a)),null;case 27:if(oa(i),a=Rt.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Xi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return ie(i),null}e=st.current,xa(i)?yg(i):(e=G_(h,o,a),i.stateNode=e,Xi(i))}return ie(i),null;case 5:if(oa(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Xi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return ie(i),null}if(d=st.current,xa(i))yg(i);else{var _=Cc(Rt.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?d.multiple=!0:o.size&&(d.size=o.size);break;default:d=typeof o.is=="string"?_.createElement(h,{is:o.is}):_.createElement(h)}}d[Ee]=i,d[Le]=o;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;t:switch(Ye(d,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Xi(i)}}return ie(i),od(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&Xi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(e=Rt.current,xa(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=He,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ee]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||V_(e.nodeValue,a)),e||Rr(i,!0)}else e=Cc(e).createTextNode(o),e[Ee]=i,i.stateNode=e}return ie(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(o=xa(i),a!==null){if(e===null){if(!o)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Ee]=i}else Ls(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ie(i),e=!1}else a=yf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(Tn(i),i):(Tn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return ie(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=xa(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ee]=i}else Ls(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ie(i),h=!1}else h=yf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Tn(i),i):(Tn(i),null)}return Tn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),dc(i,i.updateQueue),ie(i),null);case 4:return ae(),e===null&&xd(i.stateNode.containerInfo),ie(i),null;case 10:return Gi(i.type),ie(i),null;case 19:if(Y(me),o=i.memoizedState,o===null)return ie(i),null;if(h=(i.flags&128)!==0,d=o.rendering,d===null)if(h)gl(o,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=tc(e),d!==null){for(i.flags|=128,gl(o,!1),e=d.updateQueue,i.updateQueue=e,dc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)fg(a,e),a=a.sibling;return nt(me,me.current&1|2),Ut&&Hi(i,o.treeForkCount),i.child}e=e.sibling}o.tail!==null&&en()>_c&&(i.flags|=128,h=!0,gl(o,!1),i.lanes=4194304)}else{if(!h)if(e=tc(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,dc(i,e),gl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!Ut)return ie(i),null}else 2*en()-o.renderingStartTime>_c&&a!==536870912&&(i.flags|=128,h=!0,gl(o,!1),i.lanes=4194304);o.isBackwards?(d.sibling=i.child,i.child=d):(e=o.last,e!==null?e.sibling=d:i.child=d,o.last=d)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=en(),e.sibling=null,a=me.current,nt(me,h?a&1|2:a&1),Ut&&Hi(i,o.treeForkCount),e):(ie(i),null);case 22:case 23:return Tn(i),Nf(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(ie(i),i.subtreeFlags&6&&(i.flags|=8192)):ie(i),a=i.updateQueue,a!==null&&dc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&Y(js),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Gi(Se),ie(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function J1(e,i){switch(pf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Gi(Se),ae(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return oa(i),null;case 31:if(i.memoizedState!==null){if(Tn(i),i.alternate===null)throw Error(s(340));Ls()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Tn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ls()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return Y(me),null;case 4:return ae(),null;case 10:return Gi(i.type),null;case 22:case 23:return Tn(i),Nf(),e!==null&&Y(js),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Gi(Se),null;case 25:return null;default:return null}}function jy(e,i){switch(pf(i),i.tag){case 3:Gi(Se),ae();break;case 26:case 27:case 5:oa(i);break;case 4:ae();break;case 31:i.memoizedState!==null&&Tn(i);break;case 13:Tn(i);break;case 19:Y(me);break;case 10:Gi(i.type);break;case 22:case 23:Tn(i),Nf(),e!==null&&Y(js);break;case 24:Gi(Se)}}function yl(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var d=a.create,_=a.inst;o=d(),_.destroy=o}a=a.next}while(a!==h)}}catch(T){Xt(i,i.return,T)}}function Vr(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&e)===e){var _=o.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var D=a,j=T;try{j()}catch(G){Xt(h,D,G)}}}o=o.next}while(o!==d)}}catch(G){Xt(i,i.return,G)}}function zy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Ng(i,a)}catch(o){Xt(e,e.return,o)}}}function By(e,i,a){a.props=Fs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Xt(e,i,o)}}function _l(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Xt(e,i,h)}}function wi(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Xt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Xt(e,i,h)}else a.current=null}function qy(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Xt(e,e.return,h)}}function ld(e,i,a){try{var o=e.stateNode;vA(o,e.type,a,i),o[Le]=i}catch(h){Xt(e,e.return,h)}}function Hy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Br(e.type)||e.tag===4}function ud(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Hy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Br(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cd(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Gn));else if(o!==4&&(o===27&&Br(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(cd(e,i,a),e=e.sibling;e!==null;)cd(e,i,a),e=e.sibling}function mc(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&Br(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(mc(e,i,a),e=e.sibling;e!==null;)mc(e,i,a),e=e.sibling}function Fy(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ye(i,o,a),i[Ee]=e,i[Le]=a}catch(d){Xt(e,e.return,d)}}var $i=!1,Re=!1,hd=!1,Gy=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function Z1(e,i){if(e=e.containerInfo,Od=kc,e=ig(e),rf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,T=-1,D=-1,j=0,G=0,X=e,z=null;e:for(;;){for(var q;X!==a||h!==0&&X.nodeType!==3||(T=_+h),X!==d||o!==0&&X.nodeType!==3||(D=_+o),X.nodeType===3&&(_+=X.nodeValue.length),(q=X.firstChild)!==null;)z=X,X=q;for(;;){if(X===e)break e;if(z===a&&++j===h&&(T=_),z===d&&++G===o&&(D=_),(q=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=q}a=T===-1||D===-1?null:{start:T,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Md={focusedElem:e,selectionRange:a},kc=!1,Pe=i;Pe!==null;)if(i=Pe,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Pe=e;else for(;Pe!==null;){switch(i=Pe,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var ot=Fs(a.type,h);e=o.getSnapshotBeforeUpdate(ot,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(yt){Xt(a,a.return,yt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Ld(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ld(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Pe=e;break}Pe=i.return}}function Yy(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Zi(e,a),o&4&&yl(5,a);break;case 1:if(Zi(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){Xt(a,a.return,_)}else{var h=Fs(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Xt(a,a.return,_)}}o&64&&zy(a),o&512&&_l(a,a.return);break;case 3:if(Zi(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Ng(e,i)}catch(_){Xt(a,a.return,_)}}break;case 27:i===null&&o&4&&Fy(a);case 26:case 5:Zi(e,a),i===null&&o&4&&qy(a),o&512&&_l(a,a.return);break;case 12:Zi(e,a);break;case 31:Zi(e,a),o&4&&Xy(e,a);break;case 13:Zi(e,a),o&4&&$y(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=oA.bind(null,a),RA(e,a))));break;case 22:if(o=a.memoizedState!==null||$i,!o){i=i!==null&&i.memoizedState!==null||Re,h=$i;var d=Re;$i=o,(Re=i)&&!d?Wi(e,a,(a.subtreeFlags&8772)!==0):Zi(e,a),$i=h,Re=d}break;case 30:break;default:Zi(e,a)}}function Qy(e){var i=e.alternate;i!==null&&(e.alternate=null,Qy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&fa(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,ln=!1;function Ji(e,i,a){for(a=a.child;a!==null;)Ky(e,i,a),a=a.sibling}function Ky(e,i,a){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(Bn,a)}catch{}switch(a.tag){case 26:Re||wi(a,i),Ji(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Re||wi(a,i);var o=le,h=ln;Br(a.type)&&(le=a.stateNode,ln=!1),Ji(e,i,a),Rl(a.stateNode),le=o,ln=h;break;case 5:Re||wi(a,i);case 6:if(o=le,h=ln,le=null,Ji(e,i,a),le=o,ln=h,le!==null)if(ln)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(d){Xt(a,i,d)}else try{le.removeChild(a.stateNode)}catch(d){Xt(a,i,d)}break;case 18:le!==null&&(ln?(e=le,z_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),$a(e)):z_(le,a.stateNode));break;case 4:o=le,h=ln,le=a.stateNode.containerInfo,ln=!0,Ji(e,i,a),le=o,ln=h;break;case 0:case 11:case 14:case 15:Vr(2,a,i),Re||Vr(4,a,i),Ji(e,i,a);break;case 1:Re||(wi(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&By(a,i,o)),Ji(e,i,a);break;case 21:Ji(e,i,a);break;case 22:Re=(o=Re)||a.memoizedState!==null,Ji(e,i,a),Re=o;break;default:Ji(e,i,a)}}function Xy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{$a(e)}catch(a){Xt(i,i.return,a)}}}function $y(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{$a(e)}catch(a){Xt(i,i.return,a)}}function W1(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Gy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Gy),i;default:throw Error(s(435,e.tag))}}function pc(e,i){var a=W1(e);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=lA.bind(null,e,o);o.then(h,h)}})}function un(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=e,_=i,T=_;t:for(;T!==null;){switch(T.tag){case 27:if(Br(T.type)){le=T.stateNode,ln=!1;break t}break;case 5:le=T.stateNode,ln=!1;break t;case 3:case 4:le=T.stateNode.containerInfo,ln=!0;break t}T=T.return}if(le===null)throw Error(s(160));Ky(d,_,h),le=null,ln=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Jy(i,e),i=i.sibling}var Jn=null;function Jy(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:un(i,e),cn(e),o&4&&(Vr(3,e,e.return),yl(3,e),Vr(5,e,e.return));break;case 1:un(i,e),cn(e),o&512&&(Re||a===null||wi(a,a.return)),o&64&&$i&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Jn;if(un(i,e),cn(e),o&512&&(Re||a===null||wi(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[hi]||d[Ee]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),Ye(d,o,a),d[Ee]=e,be(d),o=d;break t;case"link":var _=J_("link","href",h).get(o+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break e}}d=h.createElement(o),Ye(d,o,a),h.head.appendChild(d);break;case"meta":if(_=J_("meta","content",h).get(o+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break e}}d=h.createElement(o),Ye(d,o,a),h.head.appendChild(d);break;default:throw Error(s(468,o))}d[Ee]=e,be(d),o=d}e.stateNode=o}else Z_(h,e.type,e.stateNode);else e.stateNode=$_(h,o,e.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?Z_(h,e.type,e.stateNode):$_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&ld(e,e.memoizedProps,a.memoizedProps)}break;case 27:un(i,e),cn(e),o&512&&(Re||a===null||wi(a,a.return)),a!==null&&o&4&&ld(e,e.memoizedProps,a.memoizedProps);break;case 5:if(un(i,e),cn(e),o&512&&(Re||a===null||wi(a,a.return)),e.flags&32){h=e.stateNode;try{on(h,"")}catch(ot){Xt(e,e.return,ot)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,ld(e,h,a!==null?a.memoizedProps:h)),o&1024&&(hd=!0);break;case 6:if(un(i,e),cn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(ot){Xt(e,e.return,ot)}}break;case 3:if(Dc=null,h=Jn,Jn=xc(i.containerInfo),un(i,e),Jn=h,cn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{$a(i.containerInfo)}catch(ot){Xt(e,e.return,ot)}hd&&(hd=!1,Zy(e));break;case 4:o=Jn,Jn=xc(e.stateNode.containerInfo),un(i,e),cn(e),Jn=o;break;case 12:un(i,e),cn(e);break;case 31:un(i,e),cn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,pc(e,o)));break;case 13:un(i,e),cn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(yc=en()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,pc(e,o)));break;case 22:h=e.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,j=$i,G=Re;if($i=j||h,Re=G||D,un(i,e),Re=G,$i=j,cn(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||D||$i||Re||Gs(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){D=a=i;try{if(d=D.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=D.stateNode;var X=D.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ot){Xt(D,D.return,ot)}}}else if(i.tag===6){if(a===null){D=i;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(ot){Xt(D,D.return,ot)}}}else if(i.tag===18){if(a===null){D=i;try{var q=D.stateNode;h?B_(q,!0):B_(D.stateNode,!1)}catch(ot){Xt(D,D.return,ot)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,pc(e,a))));break;case 19:un(i,e),cn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,pc(e,o)));break;case 30:break;case 21:break;default:un(i,e),cn(e)}}function cn(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(Hy(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=ud(e);mc(e,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(on(_,""),a.flags&=-33);var T=ud(e);mc(e,T,_);break;case 3:case 4:var D=a.stateNode.containerInfo,j=ud(e);cd(e,j,D);break;default:throw Error(s(161))}}catch(G){Xt(e,e.return,G)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Zy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Zy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Zi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Yy(e,i.alternate,i),i=i.sibling}function Gs(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Vr(4,i,i.return),Gs(i);break;case 1:wi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&By(i,i.return,a),Gs(i);break;case 27:Rl(i.stateNode);case 26:case 5:wi(i,i.return),Gs(i);break;case 22:i.memoizedState===null&&Gs(i);break;case 30:Gs(i);break;default:Gs(i)}e=e.sibling}}function Wi(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Wi(h,d,a),yl(4,d);break;case 1:if(Wi(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Xt(o,o.return,j)}if(o=d,h=o.updateQueue,h!==null){var T=o.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)xg(D[h],T)}catch(j){Xt(o,o.return,j)}}a&&_&64&&zy(d),_l(d,d.return);break;case 27:Fy(d);case 26:case 5:Wi(h,d,a),a&&o===null&&_&4&&qy(d),_l(d,d.return);break;case 12:Wi(h,d,a);break;case 31:Wi(h,d,a),a&&_&4&&Xy(h,d);break;case 13:Wi(h,d,a),a&&_&4&&$y(h,d);break;case 22:d.memoizedState===null&&Wi(h,d,a),_l(d,d.return);break;case 30:break;default:Wi(h,d,a)}i=i.sibling}}function fd(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&rl(a))}function dd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&rl(e))}function Zn(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Wy(e,i,a,o),i=i.sibling}function Wy(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Zn(e,i,a,o),h&2048&&yl(9,i);break;case 1:Zn(e,i,a,o);break;case 3:Zn(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&rl(e)));break;case 12:if(h&2048){Zn(e,i,a,o),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(D){Xt(i,i.return,D)}}else Zn(e,i,a,o);break;case 31:Zn(e,i,a,o);break;case 13:Zn(e,i,a,o);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Zn(e,i,a,o):vl(e,i):d._visibility&2?Zn(e,i,a,o):(d._visibility|=2,ja(e,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&fd(_,i);break;case 24:Zn(e,i,a,o),h&2048&&dd(i.alternate,i);break;default:Zn(e,i,a,o)}}function ja(e,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,_=i,T=a,D=o,j=_.flags;switch(_.tag){case 0:case 11:case 15:ja(d,_,T,D,h),yl(8,_);break;case 23:break;case 22:var G=_.stateNode;_.memoizedState!==null?G._visibility&2?ja(d,_,T,D,h):vl(d,_):(G._visibility|=2,ja(d,_,T,D,h)),h&&j&2048&&fd(_.alternate,_);break;case 24:ja(d,_,T,D,h),h&&j&2048&&dd(_.alternate,_);break;default:ja(d,_,T,D,h)}i=i.sibling}}function vl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:vl(a,o),h&2048&&fd(o.alternate,o);break;case 24:vl(a,o),h&2048&&dd(o.alternate,o);break;default:vl(a,o)}i=i.sibling}}var Tl=8192;function za(e,i,a){if(e.subtreeFlags&Tl)for(e=e.child;e!==null;)t_(e,i,a),e=e.sibling}function t_(e,i,a){switch(e.tag){case 26:za(e,i,a),e.flags&Tl&&e.memoizedState!==null&&jA(a,Jn,e.memoizedState,e.memoizedProps);break;case 5:za(e,i,a);break;case 3:case 4:var o=Jn;Jn=xc(e.stateNode.containerInfo),za(e,i,a),Jn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Tl,Tl=16777216,za(e,i,a),Tl=o):za(e,i,a));break;default:za(e,i,a)}}function e_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function El(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Pe=o,i_(o,e)}e_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)n_(e),e=e.sibling}function n_(e){switch(e.tag){case 0:case 11:case 15:El(e),e.flags&2048&&Vr(9,e,e.return);break;case 3:El(e);break;case 12:El(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,gc(e)):El(e);break;default:El(e)}}function gc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Pe=o,i_(o,e)}e_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Vr(8,i,i.return),gc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,gc(i));break;default:gc(i)}e=e.sibling}}function i_(e,i){for(;Pe!==null;){var a=Pe;switch(a.tag){case 0:case 11:case 15:Vr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:rl(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Pe=o;else t:for(a=e;Pe!==null;){o=Pe;var h=o.sibling,d=o.return;if(Qy(o),o===a){Pe=null;break t}if(h!==null){h.return=d,Pe=h;break t}Pe=d}}}var tA={getCacheForType:function(e){var i=Fe(Se),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return Fe(Se).controller.signal}},eA=typeof WeakMap=="function"?WeakMap:Map,Gt=0,te=null,xt=null,Dt=0,Kt=0,En=null,kr=!1,Ba=!1,md=!1,tr=0,he=0,Lr=0,Ys=0,pd=0,bn=0,qa=0,bl=null,hn=null,gd=!1,yc=0,r_=0,_c=1/0,vc=null,Ur=null,Me=0,Pr=null,Ha=null,er=0,yd=0,_d=null,s_=null,Al=0,vd=null;function An(){return(Gt&2)!==0&&Dt!==0?Dt&-Dt:H.T!==null?wd():Tu()}function a_(){if(bn===0)if((Dt&536870912)===0||Ut){var e=vs;vs<<=1,(vs&3932160)===0&&(vs=262144),bn=e}else bn=536870912;return e=vn.current,e!==null&&(e.flags|=32),bn}function fn(e,i,a){(e===te&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Fa(e,0),jr(e,Dt,bn,!1)),Ts(e,a),((Gt&2)===0||e!==te)&&(e===te&&((Gt&2)===0&&(Ys|=a),he===4&&jr(e,Dt,bn,!1)),Ii(e))}function o_(e,i,a){if((Gt&6)!==0)throw Error(s(327));var o=!a&&(i&127)===0&&(i&e.expiredLanes)===0||qn(e,i),h=o?rA(e,i):Ed(e,i,!0),d=o;do{if(h===0){Ba&&!o&&jr(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!nA(a)){h=Ed(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var T=e;h=bl;var D=T.current.memoizedState.isDehydrated;if(D&&(Fa(T,_).flags|=256),_=Ed(T,_,!1),_!==2){if(md&&!D){T.errorRecoveryDisabledLanes|=d,Ys|=d,h=4;break t}d=hn,hn=h,d!==null&&(hn===null?hn=d:hn.push.apply(hn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Fa(e,0),jr(e,i,0,!0);break}t:{switch(o=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:jr(o,i,bn,!kr);break t;case 2:hn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=yc+300-en(),10<h)){if(jr(o,i,bn,!kr),li(o,0,!0)!==0)break t;er=i,o.timeoutHandle=P_(l_.bind(null,o,a,hn,vc,gd,i,bn,Ys,qa,kr,d,"Throttled",-0,0),h);break t}l_(o,a,hn,vc,gd,i,bn,Ys,qa,kr,d,null,-0,0)}}break}while(!0);Ii(e)}function l_(e,i,a,o,h,d,_,T,D,j,G,X,z,q){if(e.timeoutHandle=-1,X=i.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},t_(i,d,X);var ot=(d&62914560)===d?yc-en():(d&4194048)===d?r_-en():0;if(ot=zA(X,ot),ot!==null){er=d,e.cancelPendingCommit=ot(g_.bind(null,e,i,d,a,o,h,_,T,D,G,X,null,z,q)),jr(e,d,_,!j);return}}g_(e,i,d,a,o,h,_,T,D)}function nA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!yn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function jr(e,i,a,o){i&=~pd,i&=~Ys,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var d=31-fe(h),_=1<<d;o[d]=-1,h&=~_}a!==0&&Es(e,a,i)}function Tc(){return(Gt&6)===0?(Sl(0),!1):!0}function Td(){if(xt!==null){if(Kt===0)var e=xt.return;else e=xt,Fi=Us=null,Lf(e),Va=null,al=0,e=xt;for(;e!==null;)jy(e.alternate,e),e=e.return;xt=null}}function Fa(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,bA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),er=0,Td(),te=e,xt=a=qi(e.current,null),Dt=i,Kt=0,En=null,kr=!1,Ba=qn(e,i),md=!1,qa=bn=pd=Ys=Lr=he=0,hn=bl=null,gd=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-fe(o),d=1<<h;i|=e[h],o&=~d}return tr=i,Bu(),a}function u_(e,i){It=null,H.H=ml,i===Ma||i===Xu?(i=wg(),Kt=3):i===Sf?(i=wg(),Kt=4):Kt=i===Zf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,En=i,xt===null&&(he=1,uc(e,On(i,e.current)))}function c_(){var e=vn.current;return e===null?!0:(Dt&4194048)===Dt?Ln===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?e===Ln:!1}function h_(){var e=H.H;return H.H=ml,e===null?ml:e}function f_(){var e=H.A;return H.A=tA,e}function Ec(){he=4,kr||(Dt&4194048)!==Dt&&vn.current!==null||(Ba=!0),(Lr&134217727)===0&&(Ys&134217727)===0||te===null||jr(te,Dt,bn,!1)}function Ed(e,i,a){var o=Gt;Gt|=2;var h=h_(),d=f_();(te!==e||Dt!==i)&&(vc=null,Fa(e,i)),i=!1;var _=he;t:do try{if(Kt!==0&&xt!==null){var T=xt,D=En;switch(Kt){case 8:Td(),_=6;break t;case 3:case 2:case 9:case 6:vn.current===null&&(i=!0);var j=Kt;if(Kt=0,En=null,Ga(e,T,D,j),a&&Ba){_=0;break t}break;default:j=Kt,Kt=0,En=null,Ga(e,T,D,j)}}iA(),_=he;break}catch(G){u_(e,G)}while(!0);return i&&e.shellSuspendCounter++,Fi=Us=null,Gt=o,H.H=h,H.A=d,xt===null&&(te=null,Dt=0,Bu()),_}function iA(){for(;xt!==null;)d_(xt)}function rA(e,i){var a=Gt;Gt|=2;var o=h_(),h=f_();te!==e||Dt!==i?(vc=null,_c=en()+500,Fa(e,i)):Ba=qn(e,i);t:do try{if(Kt!==0&&xt!==null){i=xt;var d=En;e:switch(Kt){case 1:Kt=0,En=null,Ga(e,i,d,1);break;case 2:case 9:if(Ag(d)){Kt=0,En=null,m_(i);break}i=function(){Kt!==2&&Kt!==9||te!==e||(Kt=7),Ii(e)},d.then(i,i);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Ag(d)?(Kt=0,En=null,m_(i)):(Kt=0,En=null,Ga(e,i,d,7));break;case 5:var _=null;switch(xt.tag){case 26:_=xt.memoizedState;case 5:case 27:var T=xt;if(_?W_(_):T.stateNode.complete){Kt=0,En=null;var D=T.sibling;if(D!==null)xt=D;else{var j=T.return;j!==null?(xt=j,bc(j)):xt=null}break e}}Kt=0,En=null,Ga(e,i,d,5);break;case 6:Kt=0,En=null,Ga(e,i,d,6);break;case 8:Td(),he=6;break t;default:throw Error(s(462))}}sA();break}catch(G){u_(e,G)}while(!0);return Fi=Us=null,H.H=o,H.A=h,Gt=a,xt!==null?0:(te=null,Dt=0,Bu(),he)}function sA(){for(;xt!==null&&!$h();)d_(xt)}function d_(e){var i=Uy(e.alternate,e,tr);e.memoizedProps=e.pendingProps,i===null?bc(e):xt=i}function m_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Dy(a,i,i.pendingProps,i.type,void 0,Dt);break;case 11:i=Dy(a,i,i.pendingProps,i.type.render,i.ref,Dt);break;case 5:Lf(i);default:jy(a,i),i=xt=fg(i,tr),i=Uy(a,i,tr)}e.memoizedProps=e.pendingProps,i===null?bc(e):xt=i}function Ga(e,i,a,o){Fi=Us=null,Lf(i),Va=null,al=0;var h=i.return;try{if(Q1(e,h,i,a,Dt)){he=1,uc(e,On(a,e.current)),xt=null;return}}catch(d){if(h!==null)throw xt=h,d;he=1,uc(e,On(a,e.current)),xt=null;return}i.flags&32768?(Ut||o===1?e=!0:Ba||(Dt&536870912)!==0?e=!1:(kr=e=!0,(o===2||o===9||o===3||o===6)&&(o=vn.current,o!==null&&o.tag===13&&(o.flags|=16384))),p_(i,e)):bc(i)}function bc(e){var i=e;do{if((i.flags&32768)!==0){p_(i,kr);return}e=i.return;var a=$1(i.alternate,i,tr);if(a!==null){xt=a;return}if(i=i.sibling,i!==null){xt=i;return}xt=i=e}while(i!==null);he===0&&(he=5)}function p_(e,i){do{var a=J1(e.alternate,e);if(a!==null){a.flags&=32767,xt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){xt=e;return}xt=e=a}while(e!==null);he=6,xt=null}function g_(e,i,a,o,h,d,_,T,D){e.cancelPendingCommit=null;do Ac();while(Me!==0);if((Gt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=uf,Wh(e,a,d,_,T,D),e===te&&(xt=te=null,Dt=0),Ha=i,Pr=e,er=a,yd=d,_d=h,s_=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,uA(pr,function(){return E_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=et.p,et.p=2,_=Gt,Gt|=4;try{Z1(e,i,a)}finally{Gt=_,et.p=h,H.T=o}}Me=1,y_(),__(),v_()}}function y_(){if(Me===1){Me=0;var e=Pr,i=Ha,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var o=et.p;et.p=2;var h=Gt;Gt|=4;try{Jy(i,e);var d=Md,_=ig(e.containerInfo),T=d.focusedElem,D=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&ng(T.ownerDocument.documentElement,T)){if(D!==null&&rf(T)){var j=D.start,G=D.end;if(G===void 0&&(G=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(G,T.value.length);else{var X=T.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var q=z.getSelection(),ot=T.textContent.length,yt=Math.min(D.start,ot),Wt=D.end===void 0?yt:Math.min(D.end,ot);!q.extend&&yt>Wt&&(_=Wt,Wt=yt,yt=_);var L=eg(T,yt),O=eg(T,Wt);if(L&&O&&(q.rangeCount!==1||q.anchorNode!==L.node||q.anchorOffset!==L.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var P=X.createRange();P.setStart(L.node,L.offset),q.removeAllRanges(),yt>Wt?(q.addRange(P),q.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),q.addRange(P))}}}}for(X=[],q=T;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var Q=X[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}kc=!!Od,Md=Od=null}finally{Gt=h,et.p=o,H.T=a}}e.current=i,Me=2}}function __(){if(Me===2){Me=0;var e=Pr,i=Ha,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var o=et.p;et.p=2;var h=Gt;Gt|=4;try{Yy(e,i.alternate,i)}finally{Gt=h,et.p=o,H.T=a}}Me=3}}function v_(){if(Me===4||Me===3){Me=0,du();var e=Pr,i=Ha,a=er,o=s_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Me=5:(Me=0,Ha=Pr=null,T_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ur=null),Pi(a),i=i.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(Bn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=H.T,h=et.p,et.p=2,H.T=null;try{for(var d=e.onRecoverableError,_=0;_<o.length;_++){var T=o[_];d(T.value,{componentStack:T.stack})}}finally{H.T=i,et.p=h}}(er&3)!==0&&Ac(),Ii(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===vd?Al++:(Al=0,vd=e):Al=0,Sl(0)}}function T_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,rl(i)))}function Ac(){return y_(),__(),v_(),E_()}function E_(){if(Me!==5)return!1;var e=Pr,i=yd;yd=0;var a=Pi(er),o=H.T,h=et.p;try{et.p=32>a?32:a,H.T=null,a=_d,_d=null;var d=Pr,_=er;if(Me=0,Ha=Pr=null,er=0,(Gt&6)!==0)throw Error(s(331));var T=Gt;if(Gt|=4,n_(d.current),Wy(d,d.current,_,a),Gt=T,Sl(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(Bn,d)}catch{}return!0}finally{et.p=h,H.T=o,T_(e,i)}}function b_(e,i,a){i=On(a,i),i=Jf(e.stateNode,i,2),e=Dr(e,i,2),e!==null&&(Ts(e,2),Ii(e))}function Xt(e,i,a){if(e.tag===3)b_(e,e,a);else for(;i!==null;){if(i.tag===3){b_(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ur===null||!Ur.has(o))){e=On(a,e),a=Ay(2),o=Dr(i,a,2),o!==null&&(Sy(a,o,i,e),Ts(o,2),Ii(o));break}}i=i.return}}function bd(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new eA;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(md=!0,h.add(a),e=aA.bind(null,e,i,a),i.then(e,e))}function aA(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,te===e&&(Dt&a)===a&&(he===4||he===3&&(Dt&62914560)===Dt&&300>en()-yc?(Gt&2)===0&&Fa(e,0):pd|=a,qa===Dt&&(qa=0)),Ii(e)}function A_(e,i){i===0&&(i=vu()),e=Vs(e,i),e!==null&&(Ts(e,i),Ii(e))}function oA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),A_(e,a)}function lA(e,i){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),A_(e,a)}function uA(e,i){return Oe(e,i)}var Sc=null,Ya=null,Ad=!1,wc=!1,Sd=!1,zr=0;function Ii(e){e!==Ya&&e.next===null&&(Ya===null?Sc=Ya=e:Ya=Ya.next=e),wc=!0,Ad||(Ad=!0,hA())}function Sl(e,i){if(!Sd&&wc){Sd=!0;do for(var a=!1,o=Sc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var _=o.suspendedLanes,T=o.pingedLanes;d=(1<<31-fe(42|e)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,R_(o,d))}else d=Dt,d=li(o,o===te?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||qn(o,d)||(a=!0,R_(o,d));o=o.next}while(a);Sd=!1}}function cA(){S_()}function S_(){wc=Ad=!1;var e=0;zr!==0&&EA()&&(e=zr);for(var i=en(),a=null,o=Sc;o!==null;){var h=o.next,d=w_(o,i);d===0?(o.next=null,a===null?Sc=h:a.next=h,h===null&&(Ya=a)):(a=o,(e!==0||(d&3)!==0)&&(wc=!0)),o=h}Me!==0&&Me!==5||Sl(e),zr!==0&&(zr=0)}function w_(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-fe(d),T=1<<_,D=h[_];D===-1?((T&a)===0||(T&o)!==0)&&(h[_]=Zh(T,i)):D<=i&&(e.expiredLanes|=T),d&=~T}if(i=te,a=Dt,a=li(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&mr(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||qn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&mr(o),Pi(a)){case 2:case 8:a=Vo;break;case 32:a=pr;break;case 268435456:a=mu;break;default:a=pr}return o=I_.bind(null,e),a=Oe(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&mr(o),e.callbackPriority=2,e.callbackNode=null,2}function I_(e,i){if(Me!==0&&Me!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ac()&&e.callbackNode!==a)return null;var o=Dt;return o=li(e,e===te?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(o_(e,o,i),w_(e,en()),e.callbackNode!=null&&e.callbackNode===a?I_.bind(null,e):null)}function R_(e,i){if(Ac())return null;o_(e,i,!0)}function hA(){AA(function(){(Gt&6)!==0?Oe(Mo,cA):S_()})}function wd(){if(zr===0){var e=Da;e===0&&(e=ai,ai<<=1,(ai&261888)===0&&(ai=256)),zr=e}return zr}function C_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ga(""+e)}function x_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function fA(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var d=C_((h[Le]||null).action),_=o.submitter;_&&(i=(i=_[Le]||null)?C_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new vi("action","action",null,o,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(zr!==0){var D=_?x_(h,_):new FormData(h);Gf(a,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(T.preventDefault(),D=_?x_(h,_):new FormData(h),Gf(a,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var Id=0;Id<lf.length;Id++){var Rd=lf[Id],dA=Rd.toLowerCase(),mA=Rd[0].toUpperCase()+Rd.slice(1);$n(dA,"on"+mA)}$n(ag,"onAnimationEnd"),$n(og,"onAnimationIteration"),$n(lg,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(N1,"onTransitionRun"),$n(D1,"onTransitionStart"),$n(O1,"onTransitionCancel"),$n(ug,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function N_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var d=void 0;if(i)for(var _=o.length-1;0<=_;_--){var T=o[_],D=T.instance,j=T.currentTarget;if(T=T.listener,D!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=j;try{d(h)}catch(G){zu(G)}h.currentTarget=null,d=D}else for(_=0;_<o.length;_++){if(T=o[_],D=T.instance,j=T.currentTarget,T=T.listener,D!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=j;try{d(h)}catch(G){zu(G)}h.currentTarget=null,d=D}}}}function Nt(e,i){var a=i[ha];a===void 0&&(a=i[ha]=new Set);var o=e+"__bubble";a.has(o)||(D_(i,e,2,!1),a.add(o))}function Cd(e,i,a){var o=0;i&&(o|=4),D_(a,e,o,i)}var Ic="_reactListening"+Math.random().toString(36).slice(2);function xd(e){if(!e[Ic]){e[Ic]=!0,Uo.forEach(function(a){a!=="selectionchange"&&(pA.has(a)||Cd(a,!1,e),Cd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Ic]||(i[Ic]=!0,Cd("selectionchange",!1,i))}}function D_(e,i,a,o){switch(av(i)){case 2:var h=HA;break;case 8:h=FA;break;default:h=Fd}a=h.bind(null,i,a,e),h=void 0,!Is||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Nd(e,i,a,o,h){var d=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var T=o.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=o.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=fi(T),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){o=d=_;continue t}T=T.parentNode}}o=o.return}Er(function(){var j=d,G=Cn(a),X=[];t:{var z=cg.get(e);if(z!==void 0){var q=vi,ot=e;switch(e){case"keypress":if(Cs(a)===0)break t;case"keydown":case"keyup":q=Uu;break;case"focusin":ot="focus",q=Ns;break;case"focusout":ot="blur",q=Ns;break;case"beforeblur":case"afterblur":q=Ns;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=$o;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case ag:case og:case lg:q=Nu;break;case ug:q=b;break;case"scroll":case"scrollend":q=Xo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=Du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Bi;break;case"toggle":case"beforetoggle":q=wt}var yt=(i&4)!==0,Wt=!yt&&(e==="scroll"||e==="scrollend"),L=yt?z!==null?z+"Capture":null:z;yt=[];for(var O=j,P;O!==null;){var Q=O;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||L===null||(Q=Yn(O,L),Q!=null&&yt.push(Il(O,Q,P))),Wt)break;O=O.return}0<yt.length&&(z=new q(z,ot,null,a,G),X.push({event:z,listeners:yt}))}}if((i&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",z&&a!==Yo&&(ot=a.relatedTarget||a.fromElement)&&(fi(ot)||ot[ci]))break t;if((q||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,q?(ot=a.relatedTarget||a.toElement,q=j,ot=ot?fi(ot):null,ot!==null&&(Wt=u(ot),yt=ot.tag,ot!==Wt||yt!==5&&yt!==27&&yt!==6)&&(ot=null)):(q=null,ot=j),q!==ot)){if(yt=$o,Q="onMouseLeave",L="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(yt=Bi,Q="onPointerLeave",L="onPointerEnter",O="pointer"),Wt=q==null?z:pn(q),P=ot==null?z:pn(ot),z=new yt(Q,O+"leave",q,a,G),z.target=Wt,z.relatedTarget=P,Q=null,fi(G)===j&&(yt=new yt(L,O+"enter",ot,a,G),yt.target=P,yt.relatedTarget=Wt,Q=yt),Wt=Q,q&&ot)e:{for(yt=gA,L=q,O=ot,P=0,Q=L;Q;Q=yt(Q))P++;Q=0;for(var mt=O;mt;mt=yt(mt))Q++;for(;0<P-Q;)L=yt(L),P--;for(;0<Q-P;)O=yt(O),Q--;for(;P--;){if(L===O||O!==null&&L===O.alternate){yt=L;break e}L=yt(L),O=yt(O)}yt=null}else yt=null;q!==null&&O_(X,z,q,yt,!1),ot!==null&&Wt!==null&&O_(X,Wt,ot,yt,!0)}}t:{if(z=j?pn(j):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var qt=Xp;else if(Qp(z))if($p)qt=R1;else{qt=w1;var lt=S1}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&pa(j.elementType)&&(qt=Xp):qt=I1;if(qt&&(qt=qt(e,j))){Kp(X,qt,a,G);break t}lt&&lt(e,z,j),e==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&Ho(z,"number",z.value)}switch(lt=j?pn(j):window,e){case"focusin":(Qp(lt)||lt.contentEditable==="true")&&(Aa=lt,sf=j,el=null);break;case"focusout":el=sf=Aa=null;break;case"mousedown":af=!0;break;case"contextmenu":case"mouseup":case"dragend":af=!1,rg(X,a,G);break;case"selectionchange":if(x1)break;case"keydown":case"keyup":rg(X,a,G)}var Ct;if(Ft)t:{switch(e){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else ba?Ds(e,a)&&(Ot="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ot="onCompositionStart");Ot&&(bi&&a.locale!=="ko"&&(ba||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&ba&&(Ct=Ko()):(_i=G,Qo="value"in _i?_i.value:_i.textContent,ba=!0)),lt=Rc(j,Ot),0<lt.length&&(Ot=new Ei(Ot,e,null,a,G),X.push({event:Ot,listeners:lt}),Ct?Ot.data=Ct:(Ct=Ea(a),Ct!==null&&(Ot.data=Ct)))),(Ct=Nn?T1(e,a):E1(e,a))&&(Ot=Rc(j,"onBeforeInput"),0<Ot.length&&(lt=new Ei("onBeforeInput","beforeinput",null,a,G),X.push({event:lt,listeners:Ot}),lt.data=Ct)),fA(X,e,j,a,G)}N_(X,i)})}function Il(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Rc(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Yn(e,a),h!=null&&o.unshift(Il(e,h,d)),h=Yn(e,i),h!=null&&o.push(Il(e,h,d))),e.tag===3)return o;e=e.return}return[]}function gA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function O_(e,i,a,o,h){for(var d=i._reactName,_=[];a!==null&&a!==o;){var T=a,D=T.alternate,j=T.stateNode;if(T=T.tag,D!==null&&D===o)break;T!==5&&T!==26&&T!==27||j===null||(D=j,h?(j=Yn(a,d),j!=null&&_.unshift(Il(a,j,D))):h||(j=Yn(a,d),j!=null&&_.push(Il(a,j,D)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var yA=/\r\n?/g,_A=/\u0000|\uFFFD/g;function M_(e){return(typeof e=="string"?e:""+e).replace(yA,`
`).replace(_A,"")}function V_(e,i){return i=M_(i),M_(e)===i}function Zt(e,i,a,o,h,d){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||on(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&on(e,""+o);break;case"className":gn(e,"class",o);break;case"tabIndex":gn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(e,a,o);break;case"style":Go(e,o,d);break;case"data":if(i!=="object"){gn(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ga(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Zt(e,i,"name",h.name,h,null),Zt(e,i,"formEncType",h.formEncType,h,null),Zt(e,i,"formMethod",h.formMethod,h,null),Zt(e,i,"formTarget",h.formTarget,h,null)):(Zt(e,i,"encType",h.encType,h,null),Zt(e,i,"method",h.method,h,null),Zt(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ga(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Gn);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=ga(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),da(e,"popover",o);break;case"xlinkActuate":Ae(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ae(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ae(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ae(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ae(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ae(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":da(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ru.get(a)||a,da(e,a,o))}}function Dd(e,i,a,o,h,d){switch(a){case"style":Go(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?on(e,o):(typeof o=="number"||typeof o=="bigint")&&on(e,""+o);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Po.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Le]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):da(e,a,o)}}}function Ye(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Zt(e,i,d,_,a,null)}}h&&Zt(e,i,"srcSet",a.srcSet,a,null),o&&Zt(e,i,"src",a.src,a,null);return;case"input":Nt("invalid",e);var T=d=_=h=null,D=null,j=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":_=G;break;case"checked":D=G;break;case"defaultChecked":j=G;break;case"value":d=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:Zt(e,i,o,G,a,null)}}Su(e,d,T,D,j,_,h,!1);return;case"select":Nt("invalid",e),o=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":o=T;default:Zt(e,i,h,T,a,null)}i=d,a=_,e.multiple=!!o,i!=null?yr(e,!!o,i,!1):a!=null&&yr(e,!!o,a,!0);return;case"textarea":Nt("invalid",e),d=h=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":o=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Zt(e,i,_,T,a,null)}_r(e,o,h,d);return;case"option":for(D in a)a.hasOwnProperty(D)&&(o=a[D],o!=null)&&(D==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Zt(e,i,D,o,a,null));return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(o=0;o<wl.length;o++)Nt(wl[o],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(o=a[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Zt(e,i,j,o,a,null)}return;default:if(pa(i)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&Dd(e,i,G,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&Zt(e,i,T,o,a,null))}function vA(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,D=null,j=null,G=null;for(q in a){var X=a[q];if(a.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":D=X;default:o.hasOwnProperty(q)||Zt(e,i,q,null,o,X)}}for(var z in o){var q=o[z];if(X=a[z],o.hasOwnProperty(z)&&(q!=null||X!=null))switch(z){case"type":d=q;break;case"name":h=q;break;case"checked":j=q;break;case"defaultChecked":G=q;break;case"value":_=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:q!==X&&Zt(e,i,z,q,o,X)}}ma(e,_,T,D,j,G,d,h);return;case"select":q=_=T=z=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":q=D;default:o.hasOwnProperty(d)||Zt(e,i,d,null,o,D)}for(h in o)if(d=o[h],D=a[h],o.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":z=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==D&&Zt(e,i,h,d,o,D)}i=T,a=_,o=q,z!=null?yr(e,!!a,z,!1):!!o!=!!a&&(i!=null?yr(e,!!a,i,!0):yr(e,!!a,a?[]:"",!1));return;case"textarea":q=z=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Zt(e,i,T,null,o,h)}for(_ in o)if(h=o[_],d=a[_],o.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Zt(e,i,_,h,o,d)}wu(e,z,q);return;case"option":for(var ot in a)z=a[ot],a.hasOwnProperty(ot)&&z!=null&&!o.hasOwnProperty(ot)&&(ot==="selected"?e.selected=!1:Zt(e,i,ot,null,o,z));for(D in o)z=o[D],q=a[D],o.hasOwnProperty(D)&&z!==q&&(z!=null||q!=null)&&(D==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":Zt(e,i,D,z,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)z=a[yt],a.hasOwnProperty(yt)&&z!=null&&!o.hasOwnProperty(yt)&&Zt(e,i,yt,null,o,z);for(j in o)if(z=o[j],q=a[j],o.hasOwnProperty(j)&&z!==q&&(z!=null||q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:Zt(e,i,j,z,o,q)}return;default:if(pa(i)){for(var Wt in a)z=a[Wt],a.hasOwnProperty(Wt)&&z!==void 0&&!o.hasOwnProperty(Wt)&&Dd(e,i,Wt,void 0,o,z);for(G in o)z=o[G],q=a[G],!o.hasOwnProperty(G)||z===q||z===void 0&&q===void 0||Dd(e,i,G,z,o,q);return}}for(var L in a)z=a[L],a.hasOwnProperty(L)&&z!=null&&!o.hasOwnProperty(L)&&Zt(e,i,L,null,o,z);for(X in o)z=o[X],q=a[X],!o.hasOwnProperty(X)||z===q||z==null&&q==null||Zt(e,i,X,z,o,q)}function k_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function TA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&k_(_)){for(_=0,T=h.responseEnd,o+=1;o<a.length;o++){var D=a[o],j=D.startTime;if(j>T)break;var G=D.transferSize,X=D.initiatorType;G&&k_(X)&&(D=D.responseEnd,_+=G*(D<T?1:(T-j)/(D-j)))}if(--o,i+=8*(d+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Od=null,Md=null;function Cc(e){return e.nodeType===9?e:e.ownerDocument}function L_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function U_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Vd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var kd=null;function EA(){var e=window.event;return e&&e.type==="popstate"?e===kd?!1:(kd=e,!0):(kd=null,!1)}var P_=typeof setTimeout=="function"?setTimeout:void 0,bA=typeof clearTimeout=="function"?clearTimeout:void 0,j_=typeof Promise=="function"?Promise:void 0,AA=typeof queueMicrotask=="function"?queueMicrotask:typeof j_<"u"?function(e){return j_.resolve(null).then(e).catch(SA)}:P_;function SA(e){setTimeout(function(){throw e})}function Br(e){return e==="head"}function z_(e,i){var a=i,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),$a(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Rl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Rl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[hi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Rl(e.ownerDocument.body);a=h}while(a);$a(i)}function B_(e,i){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function Ld(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ld(a),fa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function wA(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[hi])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Un(e.nextSibling),e===null)break}return null}function IA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Un(e.nextSibling),e===null))return null;return e}function q_(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Un(e.nextSibling),e===null))return null;return e}function Ud(e){return e.data==="$?"||e.data==="$~"}function Pd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function RA(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Un(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var jd=null;function H_(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return Un(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function F_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function G_(e,i,a){switch(i=Cc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Rl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);fa(e)}var Pn=new Map,Y_=new Set;function xc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var nr=et.d;et.d={f:CA,r:xA,D:NA,C:DA,L:OA,m:MA,X:kA,S:VA,M:LA};function CA(){var e=nr.f(),i=Tc();return e||i}function xA(e){var i=Rn(e);i!==null&&i.tag===5&&i.type==="form"?uy(i):nr.r(e)}var Qa=typeof document>"u"?null:document;function Q_(e,i,a){var o=Qa;if(o&&typeof i=="string"&&i){var h=an(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Y_.has(h)||(Y_.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Ye(i,"link",e),be(i),o.head.appendChild(i)))}}function NA(e){nr.D(e),Q_("dns-prefetch",e,null)}function DA(e,i){nr.C(e,i),Q_("preconnect",e,i)}function OA(e,i,a){nr.L(e,i,a);var o=Qa;if(o&&e&&i){var h='link[rel="preload"][as="'+an(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+an(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+an(a.imageSizes)+'"]')):h+='[href="'+an(e)+'"]';var d=h;switch(i){case"style":d=Ka(e);break;case"script":d=Xa(e)}Pn.has(d)||(e=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Pn.set(d,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(Cl(d))||i==="script"&&o.querySelector(xl(d))||(i=o.createElement("link"),Ye(i,"link",e),be(i),o.head.appendChild(i)))}}function MA(e,i){nr.m(e,i);var a=Qa;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+an(o)+'"][href="'+an(e)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Xa(e)}if(!Pn.has(d)&&(e=S({rel:"modulepreload",href:e},i),Pn.set(d,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(xl(d)))return}o=a.createElement("link"),Ye(o,"link",e),be(o),a.head.appendChild(o)}}}function VA(e,i,a){nr.S(e,i,a);var o=Qa;if(o&&e){var h=di(o).hoistableStyles,d=Ka(e);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=o.querySelector(Cl(d)))T.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Pn.get(d))&&zd(e,a);var D=_=o.createElement("link");be(D),Ye(D,"link",e),D._p=new Promise(function(j,G){D.onload=j,D.onerror=G}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Nc(_,i,o)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function kA(e,i){nr.X(e,i);var a=Qa;if(a&&e){var o=di(a).hoistableScripts,h=Xa(e),d=o.get(h);d||(d=a.querySelector(xl(h)),d||(e=S({src:e,async:!0},i),(i=Pn.get(h))&&Bd(e,i),d=a.createElement("script"),be(d),Ye(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function LA(e,i){nr.M(e,i);var a=Qa;if(a&&e){var o=di(a).hoistableScripts,h=Xa(e),d=o.get(h);d||(d=a.querySelector(xl(h)),d||(e=S({src:e,async:!0,type:"module"},i),(i=Pn.get(h))&&Bd(e,i),d=a.createElement("script"),be(d),Ye(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function K_(e,i,a,o){var h=(h=Rt.current)?xc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ka(a.href),a=di(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ka(a.href);var d=di(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(Cl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),Pn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pn.set(e,a),d||UA(h,e,a,_.state))),i&&o===null)throw Error(s(528,""));return _}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Xa(a),a=di(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ka(e){return'href="'+an(e)+'"'}function Cl(e){return'link[rel="stylesheet"]['+e+"]"}function X_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function UA(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Ye(i,"link",a),be(i),e.head.appendChild(i))}function Xa(e){return'[src="'+an(e)+'"]'}function xl(e){return"script[async]"+e}function $_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+an(a.href)+'"]');if(o)return i.instance=o,be(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),be(o),Ye(o,"style",h),Nc(o,a.precedence,e),i.instance=o;case"stylesheet":h=Ka(a.href);var d=e.querySelector(Cl(h));if(d)return i.state.loading|=4,i.instance=d,be(d),d;o=X_(a),(h=Pn.get(h))&&zd(o,h),d=(e.ownerDocument||e).createElement("link"),be(d);var _=d;return _._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),Ye(d,"link",o),i.state.loading|=4,Nc(d,a.precedence,e),i.instance=d;case"script":return d=Xa(a.src),(h=e.querySelector(xl(d)))?(i.instance=h,be(h),h):(o=a,(h=Pn.get(d))&&(o=S({},a),Bd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),be(h),Ye(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Nc(o,a.precedence,e));return i.instance}function Nc(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,_=0;_<o.length;_++){var T=o[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function zd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Bd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Dc=null;function J_(e,i,a){if(Dc===null){var o=new Map,h=Dc=new Map;h.set(a,o)}else h=Dc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[hi]||d[Ee]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var T=o.get(_);T?T.push(d):o.set(_,[d])}}return o}function Z_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function PA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function W_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function jA(e,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ka(o.href),d=i.querySelector(Cl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Oc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,be(d);return}d=i.ownerDocument||i,o=X_(o),(h=Pn.get(h))&&zd(o,h),d=d.createElement("link"),be(d);var _=d;_._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),Ye(d,"link",o),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Oc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var qd=0;function zA(e,i){return e.stylesheets&&e.count===0&&Vc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&Vc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&qd===0&&(qd=62500*TA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Vc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>qd?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Oc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Mc=null;function Vc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Mc=new Map,i.forEach(BA,e),Mc=null,Oc.call(e))}function BA(e,i){if(!(i.state.loading&4)){var a=Mc.get(e);if(a)var o=a.get(null);else{a=new Map,Mc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||o,d===o&&a.set(null,h),a.set(_,h),this.count++,o=Oc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Nl={$$typeof:ht,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function qA(e,i,a,o,h,d,_,T,D){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function tv(e,i,a,o,h,d,_,T,D,j,G,X){return e=new qA(e,i,a,_,D,j,G,X,T),i=1,d===!0&&(i|=24),d=_n(3,null,null,i),e.current=d,d.stateNode=e,i=Ef(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:i},wf(d),e}function ev(e){return e?(e=Ia,e):Ia}function nv(e,i,a,o,h,d){h=ev(h),o.context===null?o.context=h:o.pendingContext=h,o=Nr(i),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=Dr(e,o,i),a!==null&&(fn(a,e,i),ll(a,e,i))}function iv(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Hd(e,i){iv(e,i),(e=e.alternate)&&iv(e,i)}function rv(e){if(e.tag===13||e.tag===31){var i=Vs(e,67108864);i!==null&&fn(i,e,67108864),Hd(e,67108864)}}function sv(e){if(e.tag===13||e.tag===31){var i=An();i=bs(i);var a=Vs(e,i);a!==null&&fn(a,e,i),Hd(e,i)}}var kc=!0;function HA(e,i,a,o){var h=H.T;H.T=null;var d=et.p;try{et.p=2,Fd(e,i,a,o)}finally{et.p=d,H.T=h}}function FA(e,i,a,o){var h=H.T;H.T=null;var d=et.p;try{et.p=8,Fd(e,i,a,o)}finally{et.p=d,H.T=h}}function Fd(e,i,a,o){if(kc){var h=Gd(o);if(h===null)Nd(e,i,o,Lc,a),ov(e,o);else if(YA(h,e,i,a,o))o.stopPropagation();else if(ov(e,o),i&4&&-1<GA.indexOf(e)){for(;h!==null;){var d=Rn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=oi(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var D=1<<31-fe(_);T.entanglements[1]|=D,_&=~D}Ii(d),(Gt&6)===0&&(_c=en()+500,Sl(0))}}break;case 31:case 13:T=Vs(d,2),T!==null&&fn(T,d,2),Tc(),Hd(d,2)}if(d=Gd(o),d===null&&Nd(e,i,o,Lc,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else Nd(e,i,o,null,a)}}function Gd(e){return e=Cn(e),Yd(e)}var Lc=null;function Yd(e){if(Lc=null,e=fi(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===31){if(e=p(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Lc=e,null}function av(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_s()){case Mo:return 2;case Vo:return 8;case pr:case Jh:return 32;case mu:return 268435456;default:return 32}default:return 32}}var Qd=!1,qr=null,Hr=null,Fr=null,Dl=new Map,Ol=new Map,Gr=[],GA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ov(e,i){switch(e){case"focusin":case"focusout":qr=null;break;case"dragenter":case"dragleave":Hr=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":Dl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(i.pointerId)}}function Ml(e,i,a,o,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Rn(i),i!==null&&rv(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function YA(e,i,a,o,h){switch(i){case"focusin":return qr=Ml(qr,e,i,a,o,h),!0;case"dragenter":return Hr=Ml(Hr,e,i,a,o,h),!0;case"mouseover":return Fr=Ml(Fr,e,i,a,o,h),!0;case"pointerover":var d=h.pointerId;return Dl.set(d,Ml(Dl.get(d)||null,e,i,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,Ol.set(d,Ml(Ol.get(d)||null,e,i,a,o,h)),!0}return!1}function lv(e){var i=fi(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,Hn(e.priority,function(){sv(a)});return}}else if(i===31){if(i=p(a),i!==null){e.blockedOn=i,Hn(e.priority,function(){sv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Uc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Gd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Yo=o,a.target.dispatchEvent(o),Yo=null}else return i=Rn(a),i!==null&&rv(i),e.blockedOn=a,!1;i.shift()}return!0}function uv(e,i,a){Uc(e)&&a.delete(i)}function QA(){Qd=!1,qr!==null&&Uc(qr)&&(qr=null),Hr!==null&&Uc(Hr)&&(Hr=null),Fr!==null&&Uc(Fr)&&(Fr=null),Dl.forEach(uv),Ol.forEach(uv)}function Pc(e,i){e.blockedOn===i&&(e.blockedOn=null,Qd||(Qd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,QA)))}var jc=null;function cv(e){jc!==e&&(jc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){jc===e&&(jc=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(Yd(o||a)===null)continue;break}var d=Rn(a);d!==null&&(e.splice(i,3),i-=3,Gf(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function $a(e){function i(D){return Pc(D,e)}qr!==null&&Pc(qr,e),Hr!==null&&Pc(Hr,e),Fr!==null&&Pc(Fr,e),Dl.forEach(i),Ol.forEach(i);for(var a=0;a<Gr.length;a++){var o=Gr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Gr.length&&(a=Gr[0],a.blockedOn===null);)lv(a),a.blockedOn===null&&Gr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],_=h[Le]||null;if(typeof d=="function")_||cv(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Le]||null)T=_.formAction;else if(Yd(h)!==null)continue}else T=_.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),cv(a)}}}function hv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Kd(e){this._internalRoot=e}zc.prototype.render=Kd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=An();nv(a,o,e,i,null,null)},zc.prototype.unmount=Kd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;nv(e.current,2,null,e,null,null),Tc(),i[ci]=null}};function zc(e){this._internalRoot=e}zc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Tu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Gr.length&&i!==0&&i<Gr[a].priority;a++);Gr.splice(a,0,e),a===0&&lv(e)}};var fv=t.version;if(fv!=="19.2.3")throw Error(s(527,fv,"19.2.3"));et.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(i),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var KA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bc.isDisabled&&Bc.supportsFiber)try{Bn=Bc.inject(KA),Be=Bc}catch{}}return kl.createRoot=function(e,i){if(!l(e))throw Error(s(299));var a=!1,o="",h=vy,d=Ty,_=Ey;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=tv(e,1,!1,null,null,a,o,null,h,d,_,hv),e[ci]=i.current,xd(e),new Kd(i)},kl.hydrateRoot=function(e,i,a){if(!l(e))throw Error(s(299));var o=!1,h="",d=vy,_=Ty,T=Ey,D=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),i=tv(e,1,!0,i,a??null,o,h,D,d,_,T,hv),i.context=ev(null),a=i.current,o=An(),o=bs(o),h=Nr(o),h.callback=null,Dr(a,h,o),a=o,i.current.lanes=a,Ts(i,a),Ii(i),e[ci]=i.current,xd(e),new zc(i)},kl.version="19.2.3",kl}var bv;function iS(){if(bv)return Jd.exports;bv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Jd.exports=nS(),Jd.exports}var rS=iS();const sS=()=>{const[r,t]=ut.useState(!1);return ut.useEffect(()=>{t(!0)},[]),A.jsxs("section",{className:"relative h-screen flex flex-col justify-center items-center text-center bg-white text-white overflow-hidden",children:[A.jsxs("div",{className:"absolute inset-0 z-0",children:[A.jsx("div",{className:"absolute inset-0 bg-black/20 z-10"}),A.jsx("img",{src:"https://images.unsplash.com/photo-1519741497674-611481863552?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80",alt:"Wedding Background",className:"w-full h-full object-cover"})]}),A.jsxs("div",{className:`relative z-20 p-8 transition-all duration-1000 ease-out transform ${r?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[A.jsx("p",{className:"text-sm md:text-base tracking-[0.2em] mb-4 uppercase text-white/90",children:"We Are Getting Married"}),A.jsxs("h1",{className:"text-6xl md:text-7xl lg:text-8xl mb-6 font-heading text-white drop-shadow-lg",children:["JongSeon ",A.jsx("br",{className:"md:hidden"}),A.jsx("span",{className:"text-4xl md:text-5xl lg:text-6xl mx-2 text-soft-pink font-serif italic",children:"&"}),A.jsx("br",{className:"md:hidden"})," Jisu"]}),A.jsxs("div",{className:"flex items-center justify-center gap-4 text-white/90",children:[A.jsx("div",{className:"h-px w-12 bg-white/60"}),A.jsx("p",{className:"text-lg md:text-xl tracking-widest font-light",children:"2026. 04. 25. SAT"}),A.jsx("div",{className:"h-px w-12 bg-white/60"})]})]}),A.jsx("div",{className:"absolute bottom-8 z-20 animate-bounce text-white/80 text-sm tracking-widest",children:"SCROLL DOWN"})]})},aS=(r,{threshold:t=.1,root:n=null,rootMargin:s="0%"}={})=>{const[l,u]=ut.useState(!1);return ut.useEffect(()=>{const f=r?.current;if(!f)return;const p=new IntersectionObserver(([g])=>{g.isIntersecting&&(u(!0),p.unobserve(f))},{threshold:t,root:n,rootMargin:s});return p.observe(f),()=>{p.disconnect()}},[r,t,n,s]),l},oS=()=>{const r=ut.useRef(null),t=aS(r,{threshold:.3});return A.jsx("section",{className:"py-20 px-4 text-center bg-white",ref:r,children:A.jsxs("div",{className:`transition-all duration-1000 ease-out transform ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[A.jsx("h2",{className:"text-sm text-primary tracking-[0.3em] font-medium mb-12 uppercase",children:"Invitation"}),A.jsxs("div",{className:"font-body text-xl leading-loose text-gray-600 mb-12 space-y-2",children:[A.jsx("p",{children:"   "}),A.jsx("p",{children:"    "}),A.jsx("p",{children:" ."}),A.jsx("br",{}),A.jsx("p",{children:"    "}),A.jsx("p",{children:"  "}),A.jsx("p",{children:"  ."})]}),A.jsxs("div",{className:"flex flex-col items-center gap-4 font-body text-xl",children:[A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("span",{className:"text-base text-gray-400",children:""}),A.jsx("strong",{className:"text-text text-2xl font-medium",children:""})]}),A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("span",{className:"text-base text-gray-400",children:""}),A.jsx("strong",{className:"text-text text-2xl font-medium",children:""})]})]})]})})},lS=()=>A.jsx("section",{style:Wn.section,children:A.jsxs("div",{style:Wn.container,children:[A.jsxs("div",{style:Wn.item,children:[A.jsx("h3",{style:Wn.label,children:"DATE"}),A.jsx("p",{style:Wn.value,children:"2026. 04. 25"}),A.jsx("p",{style:Wn.subValue,children:"SATURDAY 04:50 PM"})]}),A.jsx("div",{style:Wn.divider}),A.jsxs("div",{style:Wn.item,children:[A.jsx("h3",{style:Wn.label,children:"LOCATION"}),A.jsx("p",{style:Wn.value,children:"  "}),A.jsx("p",{style:Wn.subValue,children:"   4 140"})]})]})}),Wn={section:{padding:"3rem 1.5rem",backgroundColor:"#fff"},container:{backgroundColor:"#fff",padding:"2rem",borderRadius:"2px",boxShadow:"0 5px 15px rgba(0,0,0,0.03)",maxWidth:"400px",margin:"0 auto"},item:{textAlign:"center",marginBottom:"1.5rem"},divider:{width:"1px",height:"40px",backgroundColor:"#ddd",margin:"0 auto 1.5rem"},label:{fontSize:"0.8rem",color:"#aaa",letterSpacing:"0.1em",marginBottom:"0.5rem"},value:{fontSize:"1.3rem",fontFamily:"var(--font-serif)",fontWeight:"700",marginBottom:"0.2rem"},subValue:{fontSize:"0.95rem",color:"#666"}},uS="/Invitation/assets/gallery1-C7q5Nxgj.jpg",uT=Object.freeze(Object.defineProperty({__proto__:null,default:uS},Symbol.toStringTag,{value:"Module"})),cS="/Invitation/assets/gallery2-AWOh7shC.jpg",cT=Object.freeze(Object.defineProperty({__proto__:null,default:cS},Symbol.toStringTag,{value:"Module"})),hS="/Invitation/assets/gallery3-DBbQTIVG.jpg",hT=Object.freeze(Object.defineProperty({__proto__:null,default:hS},Symbol.toStringTag,{value:"Module"})),fS=Object.assign({"../assets/images/gallery1.jpg":uT,"../assets/images/gallery2.jpg":cT,"../assets/images/gallery3.jpg":hT}),qc=Object.values(fS).map(r=>r.default),fT=({forceUnlock:r=!1})=>{const[t,n]=ut.useState(null),s=ut.useRef(null);if(qc.length===0)return null;ut.useEffect(()=>{const f=s.current;if(f){const p=g=>{g.deltaY!==0&&(g.preventDefault(),f.scrollLeft+=g.deltaY)};return f.addEventListener("wheel",p),()=>f.removeEventListener("wheel",p)}},[]);const[l,u]=ut.useState([]);return ut.useEffect(()=>{if(r)return;const f=()=>{const p=JSON.parse(localStorage.getItem("wedding_collection")||"[]");u(p)};return f(),window.addEventListener("storage",f),window.addEventListener("collectionUpdated",f),()=>{window.removeEventListener("storage",f),window.removeEventListener("collectionUpdated",f)}},[r]),ut.useEffect(()=>{if(r)return;const f=JSON.parse(localStorage.getItem("wedding_collection")||"[]");u(f)},[qc,r]),A.jsxs("section",{id:"gallery",className:"py-20 bg-white text-center overflow-hidden",children:[A.jsxs("h2",{className:"text-sm text-primary tracking-[0.2em] font-bold mb-8 uppercase",children:["GALLERY ",r?"":`(${l.length}/${qc.length})`]}),A.jsx("div",{ref:s,className:"flex overflow-x-auto snap-x snap-mandatory gap-4 px-8 pb-8 scrollbar-hide",children:qc.map((f,p)=>{const g=r||l.includes(p);return A.jsxs("div",{className:"relative flex-none w-[85vw] md:w-[600px] snap-center rounded-xl overflow-hidden shadow-soft-md transition-transform hover:scale-[1.02] duration-300",onClick:()=>g&&n(f),children:[A.jsx("div",{className:"w-full aspect-[3/4] md:aspect-[16/9]",children:A.jsx("img",{src:f,alt:`Gallery ${p+1}`,className:`w-full h-full object-cover transition-all duration-500 ${g?"cursor-pointer hover:brightness-110":"blur-xl grayscale cursor-not-allowed"}`})}),!g&&A.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/40 text-white z-10 backdrop-blur-sm",children:[A.jsx("span",{className:"text-4xl mb-2",children:""}),A.jsx("span",{className:"text-sm font-medium tracking-wider",children:"LOCKED"})]})]},p)})}),t&&A.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/95 backdrop-blur-md p-4 animate-in fade-in duration-200",onClick:()=>n(null),children:[A.jsx("img",{src:t,alt:"Full view",className:"max-w-full max-h-[90vh] object-contain rounded-lg shadow-2xl"}),A.jsx("button",{className:"absolute top-4 right-4 text-white hover:text-gray-300 transition-colors",children:A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})},dS=()=>A.jsxs("section",{className:"py-20 px-6 bg-white text-center",children:[A.jsx("h2",{className:"text-sm text-primary tracking-[0.2em] font-bold mb-10 uppercase",children:"VIDEO"}),A.jsx("div",{className:"max-w-4xl mx-auto w-full aspect-video rounded-xl overflow-hidden shadow-soft-xl bg-black",children:A.jsx("iframe",{className:"w-full h-full",src:"https://www.youtube.com/embed/2Vv-BfVoq4g",title:"Wedding Video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})})]}),dT=()=>{const r="https://naver.me/x7ndUhZi",t="https://place.map.kakao.com/25447779",n=s=>{window.open(s,"_blank")};return A.jsxs("section",{className:"py-20 px-6 bg-white text-center",children:[A.jsx("h2",{className:"text-sm text-cta tracking-[0.2em] font-bold mb-8 uppercase",children:"Location"}),A.jsx("div",{className:"max-w-4xl mx-auto mb-10 rounded-xl overflow-hidden shadow-soft-md border border-gray-100",children:A.jsx("iframe",{src:"https://maps.google.com/maps?q=%20%20&t=&z=17&ie=UTF8&iwloc=&output=embed",className:"w-full h-[400px]",frameBorder:"0",title:"Google Map",loading:"lazy",allowFullScreen:!0})}),A.jsxs("div",{className:"mb-10 space-y-2",children:[A.jsx("strong",{className:"block text-2xl md:text-3xl text-text font-serif mb-2",children:"   7 "}),A.jsx("p",{className:"text-gray-600 font-body text-lg",children:"   4 140"}),A.jsx("p",{className:"text-gray-500 font-body",children:"Tel. 031-487-8100"})]}),A.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[A.jsxs("button",{className:"flex items-center gap-2 px-6 py-3 bg-[#03C75A] text-white rounded-full font-medium shadow-sm hover:shadow-md hover:-translate-y-0.5 transition-all text-sm md:text-base",onClick:()=>n(r),children:[A.jsx(mS,{}),"  "]}),A.jsxs("button",{className:"flex items-center gap-2 px-6 py-3 bg-[#FEE500] text-black rounded-full font-medium shadow-sm hover:shadow-md hover:-translate-y-0.5 transition-all text-sm md:text-base",onClick:()=>n(t),children:[A.jsx(pS,{}),"  "]})]})]})},mS=()=>A.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:A.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.4153 3H21V21H16.4153V10.7417L7.69231 21H3V3H7.69231V13.2519L16.4153 3Z",fill:"currentColor"})}),pS=()=>A.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:A.jsx("path",{d:"M12 3C6.47715 3 2 6.35786 2 10.5C2 13.1679 3.65685 15.5393 6.1875 16.9079L5.4375 19.6579C5.375 19.8766 5.5625 20.0641 5.78125 20.0016L9.625 19.0641C10.375 19.2829 11.1875 19.4079 12 19.4079C17.5228 19.4079 22 16.05 22 11.9079C22 7.76579 17.5228 4.40786 12 4.40786V3Z"})}),gS="/Invitation/assets/groom_sprites-C9FWbZGX.png",yS="/Invitation/assets/bride_sprites-CIfQIsBB.png",_S=()=>{};var Av={};const mT=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},vS=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[n++];t[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[n++],f=r[n++],p=r[n++],g=((l&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(g>>10)),t[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return t.join("")},pT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const u=r[l],f=l+1<r.length,p=f?r[l+1]:0,g=l+2<r.length,y=g?r[l+2]:0,E=u>>2,S=(u&3)<<4|p>>4;let N=(p&15)<<2|y>>6,F=y&63;g||(F=64,f||(N=64)),s.push(n[E],n[S],n[N],n[F])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(mT(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):vS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const u=n[r.charAt(l++)],p=l<r.length?n[r.charAt(l)]:0;++l;const y=l<r.length?n[r.charAt(l)]:64;++l;const S=l<r.length?n[r.charAt(l)]:64;if(++l,u==null||p==null||y==null||S==null)throw new TS;const N=u<<2|p>>4;if(s.push(N),y!==64){const F=p<<4&240|y>>2;if(s.push(F),S!==64){const J=y<<6&192|S;s.push(J)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class TS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ES=function(r){const t=mT(r);return pT.encodeByteArray(t,!0)},ah=function(r){return ES(r).replace(/\./g,"")},gT=function(r){try{return pT.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function bS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const AS=()=>bS().__FIREBASE_DEFAULTS__,SS=()=>{if(typeof process>"u"||typeof Av>"u")return;const r=Av.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},wS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&gT(r[1]);return t&&JSON.parse(t)},Rh=()=>{try{return _S()||AS()||SS()||wS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},yT=r=>Rh()?.emulatorHosts?.[r],IS=r=>{const t=yT(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},_T=()=>Rh()?.config,vT=r=>Rh()?.[`_${r}`];class RS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function Eo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function TT(r){return(await fetch(r,{credentials:"include"})).ok}function CS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[ah(JSON.stringify(n)),ah(JSON.stringify(f)),""].join(".")}const Bl={};function xS(){const r={prod:[],emulator:[]};for(const t of Object.keys(Bl))Bl[t]?r.emulator.push(t):r.prod.push(t);return r}function NS(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let Sv=!1;function ET(r,t){if(typeof window>"u"||typeof document>"u"||!Eo(window.location.host)||Bl[r]===t||Bl[r]||Sv)return;Bl[r]=t;function n(N){return`__firebase__banner__${N}`}const s="__firebase__banner",u=xS().prod.length>0;function f(){const N=document.getElementById(s);N&&N.remove()}function p(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function g(N,F){N.setAttribute("width","24"),N.setAttribute("id",F),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function y(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{Sv=!0,f()},N}function E(N,F){N.setAttribute("id",F),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function S(){const N=NS(s),F=n("text"),J=document.getElementById(F)||document.createElement("span"),W=n("learnmore"),Z=document.getElementById(W)||document.createElement("a"),ct=n("preprendIcon"),gt=document.getElementById(ct)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const ht=N.element;p(ht),E(Z,W);const Bt=y();g(gt,ct),ht.append(gt,J,Z,Bt),document.body.appendChild(ht)}u?(J.innerText="Preview backend disconnected.",gt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(gt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function OS(){const r=Rh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bT(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function VS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kS(){const r=tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function LS(){return!OS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AT(){try{return typeof indexedDB=="object"}catch{return!1}}function ST(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(n){t(n)}})}function US(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const PS="FirebaseError";class ri extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=PS,Object.setPrototypeOf(this,ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ia.prototype.create)}}class ia{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},l=`${this.service}/${t}`,u=this.errors[t],f=u?jS(u,s):"Error",p=`${this.serviceName}: ${f} (${l}).`;return new ri(l,p,s)}}function jS(r,t){return r.replace(zS,(n,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const zS=/\{\$([^}]+)}/g;function BS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function or(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const l of n){if(!s.includes(l))return!1;const u=r[l],f=t[l];if(wv(u)&&wv(f)){if(!or(u,f))return!1}else if(u!==f)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function wv(r){return r!==null&&typeof r=="object"}function nu(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function qS(r,t){const n=new HS(r,t);return n.subscribe.bind(n)}class HS{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let l;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");FS(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:s},l.next===void 0&&(l.next=em),l.error===void 0&&(l.error=em),l.complete===void 0&&(l.complete=em);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FS(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function em(){}const GS=1e3,YS=2,QS=14400*1e3,KS=.5;function Iv(r,t=GS,n=YS){const s=t*Math.pow(n,r),l=Math.round(KS*s*(Math.random()-.5)*2);return Math.min(QS,s+l)}function ze(r){return r&&r._delegate?r._delegate:r}class ni{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Qs="[DEFAULT]";class XS{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new RS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(JS(t))try{this.getOrInitializeService({instanceIdentifier:Qs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(t=Qs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Qs){return this.instances.has(t)}getOptions(t=Qs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&f.resolve(l)}return l}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const u=this.instances.get(s);return u&&t(u,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:$S(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Qs){return this.component?this.component.multipleInstances?t:Qs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $S(r){return r===Qs?void 0:r}function JS(r){return r.instantiationMode==="EAGER"}class ZS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new XS(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Mt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Mt||(Mt={}));const WS={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},tw=Mt.INFO,ew={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},nw=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=ew[t];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Ch{constructor(t){this.name=t,this._logLevel=tw,this._logHandler=nw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?WS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const iw=(r,t)=>t.some(n=>r instanceof n);let Rv,Cv;function rw(){return Rv||(Rv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sw(){return Cv||(Cv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wT=new WeakMap,_m=new WeakMap,IT=new WeakMap,nm=new WeakMap,Fm=new WeakMap;function aw(r){const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(is(r.result)),l()},f=()=>{s(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&wT.set(n,r)}).catch(()=>{}),Fm.set(t,r),t}function ow(r){if(_m.has(r))return;const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),l()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});_m.set(r,t)}let vm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return _m.get(r);if(t==="objectStoreNames")return r.objectStoreNames||IT.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return is(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function lw(r){vm=r(vm)}function uw(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(im(this),t,...n);return IT.set(s,t.sort?t.sort():[t]),is(s)}:sw().includes(r)?function(...t){return r.apply(im(this),t),is(wT.get(this))}:function(...t){return is(r.apply(im(this),t))}}function cw(r){return typeof r=="function"?uw(r):(r instanceof IDBTransaction&&ow(r),iw(r,rw())?new Proxy(r,vm):r)}function is(r){if(r instanceof IDBRequest)return aw(r);if(nm.has(r))return nm.get(r);const t=cw(r);return t!==r&&(nm.set(r,t),Fm.set(t,r)),t}const im=r=>Fm.get(r);function RT(r,t,{blocked:n,upgrade:s,blocking:l,terminated:u}={}){const f=indexedDB.open(r,t),p=is(f);return s&&f.addEventListener("upgradeneeded",g=>{s(is(f.result),g.oldVersion,g.newVersion,is(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const hw=["get","getKey","getAll","getAllKeys","count"],fw=["put","add","delete","clear"],rm=new Map;function xv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(rm.get(t))return rm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,l=fw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||hw.includes(n)))return;const u=async function(f,...p){const g=this.transaction(f,l?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),l&&g.done]))[0]};return rm.set(t,u),u}lw(r=>({...r,get:(t,n,s)=>xv(t,n)||r.get(t,n,s),has:(t,n)=>!!xv(t,n)||r.has(t,n)}));class dw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function mw(r){return r.getComponent()?.type==="VERSION"}const Tm="@firebase/app",Nv="0.14.7";const lr=new Ch("@firebase/app"),pw="@firebase/app-compat",gw="@firebase/analytics-compat",yw="@firebase/analytics",_w="@firebase/app-check-compat",vw="@firebase/app-check",Tw="@firebase/auth",Ew="@firebase/auth-compat",bw="@firebase/database",Aw="@firebase/data-connect",Sw="@firebase/database-compat",ww="@firebase/functions",Iw="@firebase/functions-compat",Rw="@firebase/installations",Cw="@firebase/installations-compat",xw="@firebase/messaging",Nw="@firebase/messaging-compat",Dw="@firebase/performance",Ow="@firebase/performance-compat",Mw="@firebase/remote-config",Vw="@firebase/remote-config-compat",kw="@firebase/storage",Lw="@firebase/storage-compat",Uw="@firebase/firestore",Pw="@firebase/ai",jw="@firebase/firestore-compat",zw="firebase",Bw="12.8.0";const Em="[DEFAULT]",qw={[Tm]:"fire-core",[pw]:"fire-core-compat",[yw]:"fire-analytics",[gw]:"fire-analytics-compat",[vw]:"fire-app-check",[_w]:"fire-app-check-compat",[Tw]:"fire-auth",[Ew]:"fire-auth-compat",[bw]:"fire-rtdb",[Aw]:"fire-data-connect",[Sw]:"fire-rtdb-compat",[ww]:"fire-fn",[Iw]:"fire-fn-compat",[Rw]:"fire-iid",[Cw]:"fire-iid-compat",[xw]:"fire-fcm",[Nw]:"fire-fcm-compat",[Dw]:"fire-perf",[Ow]:"fire-perf-compat",[Mw]:"fire-rc",[Vw]:"fire-rc-compat",[kw]:"fire-gcs",[Lw]:"fire-gcs-compat",[Uw]:"fire-fst",[jw]:"fire-fst-compat",[Pw]:"fire-vertex","fire-js":"fire-js",[zw]:"fire-js-all"};const oh=new Map,Hw=new Map,bm=new Map;function Dv(r,t){try{r.container.addComponent(t)}catch(n){lr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Li(r){const t=r.name;if(bm.has(t))return lr.debug(`There were multiple attempts to register component ${t}.`),!1;bm.set(t,r);for(const n of oh.values())Dv(n,r);for(const n of Hw.values())Dv(n,r);return!0}function ra(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function xi(r){return r==null?!1:r.settings!==void 0}const Fw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rs=new ia("app","Firebase",Fw);class Gw{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ni("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw rs.create("app-deleted",{appName:this._name})}}const bo=Bw;function CT(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:Em,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw rs.create("bad-app-name",{appName:String(l)});if(n||(n=_T()),!n)throw rs.create("no-options");const u=oh.get(l);if(u){if(or(n,u.options)&&or(s,u.config))return u;throw rs.create("duplicate-app",{appName:l})}const f=new ZS(l);for(const g of bm.values())f.addComponent(g);const p=new Gw(n,s,f);return oh.set(l,p),p}function Gm(r=Em){const t=oh.get(r);if(!t&&r===Em&&_T())return CT();if(!t)throw rs.create("no-app",{appName:r});return t}function zn(r,t,n){let s=qw[r]??r;n&&(s+=`-${n}`);const l=s.match(/\s|\//),u=t.match(/\s|\//);if(l||u){const f=[`Unable to register library "${s}" with version "${t}":`];l&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),lr.warn(f.join(" "));return}Li(new ni(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const Yw="firebase-heartbeat-database",Qw=1,Ql="firebase-heartbeat-store";let sm=null;function xT(){return sm||(sm=RT(Yw,Qw,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Ql)}catch(n){console.warn(n)}}}}).catch(r=>{throw rs.create("idb-open",{originalErrorMessage:r.message})})),sm}async function Kw(r){try{const n=(await xT()).transaction(Ql),s=await n.objectStore(Ql).get(NT(r));return await n.done,s}catch(t){if(t instanceof ri)lr.warn(t.message);else{const n=rs.create("idb-get",{originalErrorMessage:t?.message});lr.warn(n.message)}}}async function Ov(r,t){try{const s=(await xT()).transaction(Ql,"readwrite");await s.objectStore(Ql).put(t,NT(r)),await s.done}catch(n){if(n instanceof ri)lr.warn(n.message);else{const s=rs.create("idb-set",{originalErrorMessage:n?.message});lr.warn(s.message)}}}function NT(r){return`${r.name}!${r.options.appId}`}const Xw=1024,$w=30;class Jw{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ww(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Mv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>$w){const l=tI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){lr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Mv(),{heartbeatsToSend:n,unsentEntries:s}=Zw(this._heartbeatsCache.heartbeats),l=ah(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return lr.warn(t),""}}}function Mv(){return new Date().toISOString().substring(0,10)}function Zw(r,t=Xw){const n=[];let s=r.slice();for(const l of r){const u=n.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),Vv(n)>t){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Vv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Ww{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AT()?ST().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Kw(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Ov(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Ov(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Vv(r){return ah(JSON.stringify({version:2,heartbeats:r})).length}function tI(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}function eI(r){Li(new ni("platform-logger",t=>new dw(t),"PRIVATE")),Li(new ni("heartbeat",t=>new Jw(t),"PRIVATE")),zn(Tm,Nv,r),zn(Tm,Nv,"esm2020"),zn("fire-js","")}eI("");var nI="firebase",iI="12.8.0";zn(nI,iI,"app");const DT="@firebase/installations",Ym="0.6.19";const OT=1e4,MT=`w:${Ym}`,VT="FIS_v2",rI="https://firebaseinstallations.googleapis.com/v1",sI=3600*1e3,aI="installations",oI="Installations";const lI={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Zs=new ia(aI,oI,lI);function kT(r){return r instanceof ri&&r.code.includes("request-failed")}function LT({projectId:r}){return`${rI}/projects/${r}/installations`}function UT(r){return{token:r.token,requestStatus:2,expiresIn:cI(r.expiresIn),creationTime:Date.now()}}async function PT(r,t){const s=(await t.json()).error;return Zs.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function jT({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function uI(r,{refreshToken:t}){const n=jT(r);return n.append("Authorization",hI(t)),n}async function zT(r){const t=await r();return t.status>=500&&t.status<600?r():t}function cI(r){return Number(r.replace("s","000"))}function hI(r){return`${VT} ${r}`}async function fI({appConfig:r,heartbeatServiceProvider:t},{fid:n}){const s=LT(r),l=jT(r),u=t.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&l.append("x-firebase-client",y)}const f={fid:n,authVersion:VT,appId:r.appId,sdkVersion:MT},p={method:"POST",headers:l,body:JSON.stringify(f)},g=await zT(()=>fetch(s,p));if(g.ok){const y=await g.json();return{fid:y.fid||n,registrationStatus:2,refreshToken:y.refreshToken,authToken:UT(y.authToken)}}else throw await PT("Create Installation",g)}function BT(r){return new Promise(t=>{setTimeout(t,r)})}function dI(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}const mI=/^[cdef][\w-]{21}$/,Am="";function pI(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const n=gI(r);return mI.test(n)?n:Am}catch{return Am}}function gI(r){return dI(r).substr(0,22)}function xh(r){return`${r.appName}!${r.appId}`}const qT=new Map;function HT(r,t){const n=xh(r);FT(n,t),yI(n,t)}function FT(r,t){const n=qT.get(r);if(n)for(const s of n)s(t)}function yI(r,t){const n=_I();n&&n.postMessage({key:r,fid:t}),vI()}let Ks=null;function _I(){return!Ks&&"BroadcastChannel"in self&&(Ks=new BroadcastChannel("[Firebase] FID Change"),Ks.onmessage=r=>{FT(r.data.key,r.data.fid)}),Ks}function vI(){qT.size===0&&Ks&&(Ks.close(),Ks=null)}const TI="firebase-installations-database",EI=1,Ws="firebase-installations-store";let am=null;function Qm(){return am||(am=RT(TI,EI,{upgrade:(r,t)=>{t===0&&r.createObjectStore(Ws)}})),am}async function lh(r,t){const n=xh(r),l=(await Qm()).transaction(Ws,"readwrite"),u=l.objectStore(Ws),f=await u.get(n);return await u.put(t,n),await l.done,(!f||f.fid!==t.fid)&&HT(r,t.fid),t}async function GT(r){const t=xh(r),s=(await Qm()).transaction(Ws,"readwrite");await s.objectStore(Ws).delete(t),await s.done}async function Nh(r,t){const n=xh(r),l=(await Qm()).transaction(Ws,"readwrite"),u=l.objectStore(Ws),f=await u.get(n),p=t(f);return p===void 0?await u.delete(n):await u.put(p,n),await l.done,p&&(!f||f.fid!==p.fid)&&HT(r,p.fid),p}async function Km(r){let t;const n=await Nh(r.appConfig,s=>{const l=bI(s),u=AI(r,l);return t=u.registrationPromise,u.installationEntry});return n.fid===Am?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function bI(r){const t=r||{fid:pI(),registrationStatus:0};return YT(t)}function AI(r,t){if(t.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(Zs.create("app-offline"));return{installationEntry:t,registrationPromise:l}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},s=SI(r,n);return{installationEntry:n,registrationPromise:s}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:wI(r)}:{installationEntry:t}}async function SI(r,t){try{const n=await fI(r,t);return lh(r.appConfig,n)}catch(n){throw kT(n)&&n.customData.serverCode===409?await GT(r.appConfig):await lh(r.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function wI(r){let t=await kv(r.appConfig);for(;t.registrationStatus===1;)await BT(100),t=await kv(r.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await Km(r);return s||n}return t}function kv(r){return Nh(r,t=>{if(!t)throw Zs.create("installation-not-found");return YT(t)})}function YT(r){return II(r)?{fid:r.fid,registrationStatus:0}:r}function II(r){return r.registrationStatus===1&&r.registrationTime+OT<Date.now()}async function RI({appConfig:r,heartbeatServiceProvider:t},n){const s=CI(r,n),l=uI(r,n),u=t.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&l.append("x-firebase-client",y)}const f={installation:{sdkVersion:MT,appId:r.appId}},p={method:"POST",headers:l,body:JSON.stringify(f)},g=await zT(()=>fetch(s,p));if(g.ok){const y=await g.json();return UT(y)}else throw await PT("Generate Auth Token",g)}function CI(r,{fid:t}){return`${LT(r)}/${t}/authTokens:generate`}async function Xm(r,t=!1){let n;const s=await Nh(r.appConfig,u=>{if(!QT(u))throw Zs.create("not-registered");const f=u.authToken;if(!t&&DI(f))return u;if(f.requestStatus===1)return n=xI(r,t),u;{if(!navigator.onLine)throw Zs.create("app-offline");const p=MI(u);return n=NI(r,p),p}});return n?await n:s.authToken}async function xI(r,t){let n=await Lv(r.appConfig);for(;n.authToken.requestStatus===1;)await BT(100),n=await Lv(r.appConfig);const s=n.authToken;return s.requestStatus===0?Xm(r,t):s}function Lv(r){return Nh(r,t=>{if(!QT(t))throw Zs.create("not-registered");const n=t.authToken;return VI(n)?{...t,authToken:{requestStatus:0}}:t})}async function NI(r,t){try{const n=await RI(r,t),s={...t,authToken:n};return await lh(r.appConfig,s),n}catch(n){if(kT(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await GT(r.appConfig);else{const s={...t,authToken:{requestStatus:0}};await lh(r.appConfig,s)}throw n}}function QT(r){return r!==void 0&&r.registrationStatus===2}function DI(r){return r.requestStatus===2&&!OI(r)}function OI(r){const t=Date.now();return t<r.creationTime||r.creationTime+r.expiresIn<t+sI}function MI(r){const t={requestStatus:1,requestTime:Date.now()};return{...r,authToken:t}}function VI(r){return r.requestStatus===1&&r.requestTime+OT<Date.now()}async function kI(r){const t=r,{installationEntry:n,registrationPromise:s}=await Km(t);return s?s.catch(console.error):Xm(t).catch(console.error),n.fid}async function LI(r,t=!1){const n=r;return await UI(n),(await Xm(n,t)).token}async function UI(r){const{registrationPromise:t}=await Km(r);t&&await t}function PI(r){if(!r||!r.options)throw om("App Configuration");if(!r.name)throw om("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!r.options[n])throw om(n);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function om(r){return Zs.create("missing-app-config-values",{valueName:r})}const KT="installations",jI="installations-internal",zI=r=>{const t=r.getProvider("app").getImmediate(),n=PI(t),s=ra(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},BI=r=>{const t=r.getProvider("app").getImmediate(),n=ra(t,KT).getImmediate();return{getId:()=>kI(n),getToken:l=>LI(n,l)}};function qI(){Li(new ni(KT,zI,"PUBLIC")),Li(new ni(jI,BI,"PRIVATE"))}qI();zn(DT,Ym);zn(DT,Ym,"esm2020");const uh="analytics",HI="firebase_id",FI="origin",GI=60*1e3,YI="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$m="https://www.googletagmanager.com/gtag/js";const sn=new Ch("@firebase/analytics");const QI={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},wn=new ia("analytics","Analytics",QI);function KI(r){if(!r.startsWith($m)){const t=wn.create("invalid-gtag-resource",{gtagURL:r});return sn.warn(t.message),""}return r}function XT(r){return Promise.all(r.map(t=>t.catch(n=>n)))}function XI(r,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(r,t)),n}function $I(r,t){const n=XI("firebase-js-sdk-policy",{createScriptURL:KI}),s=document.createElement("script"),l=`${$m}?l=${r}&id=${t}`;s.src=n?n?.createScriptURL(l):l,s.async=!0,document.head.appendChild(s)}function JI(r){let t=[];return Array.isArray(window[r])?t=window[r]:window[r]=t,t}async function ZI(r,t,n,s,l,u){const f=s[l];try{if(f)await t[f];else{const g=(await XT(n)).find(y=>y.measurementId===l);g&&await t[g.appId]}}catch(p){sn.error(p)}r("config",l,u)}async function WI(r,t,n,s,l){try{let u=[];if(l&&l.send_to){let f=l.send_to;Array.isArray(f)||(f=[f]);const p=await XT(n);for(const g of f){const y=p.find(S=>S.measurementId===g),E=y&&t[y.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),r("event",s,l||{})}catch(u){sn.error(u)}}function tR(r,t,n,s){async function l(u,...f){try{if(u==="event"){const[p,g]=f;await WI(r,t,n,p,g)}else if(u==="config"){const[p,g]=f;await ZI(r,t,n,s,p,g)}else if(u==="consent"){const[p,g]=f;r("consent",p,g)}else if(u==="get"){const[p,g,y]=f;r("get",p,g,y)}else if(u==="set"){const[p]=f;r("set",p)}else r(u,...f)}catch(p){sn.error(p)}}return l}function eR(r,t,n,s,l){let u=function(...f){window[s].push(arguments)};return window[l]&&typeof window[l]=="function"&&(u=window[l]),window[l]=tR(u,r,t,n),{gtagCore:u,wrappedGtag:window[l]}}function nR(r){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes($m)&&n.src.includes(r))return n;return null}const iR=30,rR=1e3;class sR{constructor(t={},n=rR){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const $T=new sR;function aR(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function oR(r){const{appId:t,apiKey:n}=r,s={method:"GET",headers:aR(n)},l=YI.replace("{app-id}",t),u=await fetch(l,s);if(u.status!==200&&u.status!==304){let f="";try{const p=await u.json();p.error?.message&&(f=p.error.message)}catch{}throw wn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:f})}return u.json()}async function lR(r,t=$T,n){const{appId:s,apiKey:l,measurementId:u}=r.options;if(!s)throw wn.create("no-app-id");if(!l){if(u)return{measurementId:u,appId:s};throw wn.create("no-api-key")}const f=t.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new hR;return setTimeout(async()=>{p.abort()},GI),JT({appId:s,apiKey:l,measurementId:u},f,p,t)}async function JT(r,{throttleEndTimeMillis:t,backoffCount:n},s,l=$T){const{appId:u,measurementId:f}=r;try{await uR(s,t)}catch(p){if(f)return sn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:u,measurementId:f};throw p}try{const p=await oR(r);return l.deleteThrottleMetadata(u),p}catch(p){const g=p;if(!cR(g)){if(l.deleteThrottleMetadata(u),f)return sn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:u,measurementId:f};throw p}const y=Number(g?.customData?.httpStatus)===503?Iv(n,l.intervalMillis,iR):Iv(n,l.intervalMillis),E={throttleEndTimeMillis:Date.now()+y,backoffCount:n+1};return l.setThrottleMetadata(u,E),sn.debug(`Calling attemptFetch again in ${y} millis`),JT(r,E,s,l)}}function uR(r,t){return new Promise((n,s)=>{const l=Math.max(t-Date.now(),0),u=setTimeout(n,l);r.addEventListener(()=>{clearTimeout(u),s(wn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function cR(r){if(!(r instanceof ri)||!r.customData)return!1;const t=Number(r.customData.httpStatus);return t===429||t===500||t===503||t===504}class hR{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function fR(r,t,n,s,l){if(l&&l.global){r("event",n,s);return}else{const u=await t,f={...s,send_to:u};r("event",n,f)}}async function dR(r,t,n,s){if(s&&s.global){const l={};for(const u of Object.keys(n))l[`user_properties.${u}`]=n[u];return r("set",l),Promise.resolve()}else{const l=await t;r("config",l,{update:!0,user_properties:n})}}async function mR(){if(AT())try{await ST()}catch(r){return sn.warn(wn.create("indexeddb-unavailable",{errorInfo:r?.toString()}).message),!1}else return sn.warn(wn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function pR(r,t,n,s,l,u,f){const p=lR(r);p.then(N=>{n[N.measurementId]=N.appId,r.options.measurementId&&N.measurementId!==r.options.measurementId&&sn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${N.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(N=>sn.error(N)),t.push(p);const g=mR().then(N=>{if(N)return s.getId()}),[y,E]=await Promise.all([p,g]);nR(u)||$I(u,y.measurementId),l("js",new Date);const S=f?.config??{};return S[FI]="firebase",S.update=!0,E!=null&&(S[HI]=E),l("config",y.measurementId,S),y.measurementId}class gR{constructor(t){this.app=t}_delete(){return delete ro[this.app.options.appId],Promise.resolve()}}let ro={},Uv=[];const Pv={};let lm="dataLayer",yR="gtag",jv,Jm,zv=!1;function _R(){const r=[];if(bT()&&r.push("This is a browser extension environment."),US()||r.push("Cookies are not available."),r.length>0){const t=r.map((s,l)=>`(${l+1}) ${s}`).join(" "),n=wn.create("invalid-analytics-context",{errorInfo:t});sn.warn(n.message)}}function vR(r,t,n){_R();const s=r.options.appId;if(!s)throw wn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)sn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw wn.create("no-api-key");if(ro[s]!=null)throw wn.create("already-exists",{id:s});if(!zv){JI(lm);const{wrappedGtag:u,gtagCore:f}=eR(ro,Uv,Pv,lm,yR);Jm=u,jv=f,zv=!0}return ro[s]=pR(r,Uv,Pv,t,jv,lm,n),new gR(r)}function TR(r=Gm()){r=ze(r);const t=ra(r,uh);return t.isInitialized()?t.getImmediate():ER(r)}function ER(r,t={}){const n=ra(r,uh);if(n.isInitialized()){const l=n.getImmediate();if(or(t,n.getOptions()))return l;throw wn.create("already-initialized")}return n.initialize({options:t})}function bR(r,t,n){r=ze(r),dR(Jm,ro[r.app.options.appId],t,n).catch(s=>sn.error(s))}function AR(r,t,n,s){r=ze(r),fR(Jm,ro[r.app.options.appId],t,n,s).catch(l=>sn.error(l))}const Bv="@firebase/analytics",qv="0.10.19";function SR(){Li(new ni(uh,(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("installations-internal").getImmediate();return vR(s,l,n)},"PUBLIC")),Li(new ni("analytics-internal",r,"PRIVATE")),zn(Bv,qv),zn(Bv,qv,"esm2020");function r(t){try{const n=t.getProvider(uh).getImmediate();return{logEvent:(s,l,u)=>AR(n,s,l,u),setUserProperties:(s,l)=>bR(n,s,l)}}catch(n){throw wn.create("interop-component-reg-failed",{reason:n})}}}SR();var Hv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ss,ZT;(function(){var r;function t(I,w){function x(){}x.prototype=w.prototype,I.F=w.prototype,I.prototype=new x,I.prototype.constructor=I,I.D=function(M,C,k){for(var R=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)R[Et-2]=arguments[Et];return w.prototype[C].apply(M,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,w,x){x||(x=0);const M=Array(16);if(typeof w=="string")for(var C=0;C<16;++C)M[C]=w.charCodeAt(x++)|w.charCodeAt(x++)<<8|w.charCodeAt(x++)<<16|w.charCodeAt(x++)<<24;else for(C=0;C<16;++C)M[C]=w[x++]|w[x++]<<8|w[x++]<<16|w[x++]<<24;w=I.g[0],x=I.g[1],C=I.g[2];let k=I.g[3],R;R=w+(k^x&(C^k))+M[0]+3614090360&4294967295,w=x+(R<<7&4294967295|R>>>25),R=k+(C^w&(x^C))+M[1]+3905402710&4294967295,k=w+(R<<12&4294967295|R>>>20),R=C+(x^k&(w^x))+M[2]+606105819&4294967295,C=k+(R<<17&4294967295|R>>>15),R=x+(w^C&(k^w))+M[3]+3250441966&4294967295,x=C+(R<<22&4294967295|R>>>10),R=w+(k^x&(C^k))+M[4]+4118548399&4294967295,w=x+(R<<7&4294967295|R>>>25),R=k+(C^w&(x^C))+M[5]+1200080426&4294967295,k=w+(R<<12&4294967295|R>>>20),R=C+(x^k&(w^x))+M[6]+2821735955&4294967295,C=k+(R<<17&4294967295|R>>>15),R=x+(w^C&(k^w))+M[7]+4249261313&4294967295,x=C+(R<<22&4294967295|R>>>10),R=w+(k^x&(C^k))+M[8]+1770035416&4294967295,w=x+(R<<7&4294967295|R>>>25),R=k+(C^w&(x^C))+M[9]+2336552879&4294967295,k=w+(R<<12&4294967295|R>>>20),R=C+(x^k&(w^x))+M[10]+4294925233&4294967295,C=k+(R<<17&4294967295|R>>>15),R=x+(w^C&(k^w))+M[11]+2304563134&4294967295,x=C+(R<<22&4294967295|R>>>10),R=w+(k^x&(C^k))+M[12]+1804603682&4294967295,w=x+(R<<7&4294967295|R>>>25),R=k+(C^w&(x^C))+M[13]+4254626195&4294967295,k=w+(R<<12&4294967295|R>>>20),R=C+(x^k&(w^x))+M[14]+2792965006&4294967295,C=k+(R<<17&4294967295|R>>>15),R=x+(w^C&(k^w))+M[15]+1236535329&4294967295,x=C+(R<<22&4294967295|R>>>10),R=w+(C^k&(x^C))+M[1]+4129170786&4294967295,w=x+(R<<5&4294967295|R>>>27),R=k+(x^C&(w^x))+M[6]+3225465664&4294967295,k=w+(R<<9&4294967295|R>>>23),R=C+(w^x&(k^w))+M[11]+643717713&4294967295,C=k+(R<<14&4294967295|R>>>18),R=x+(k^w&(C^k))+M[0]+3921069994&4294967295,x=C+(R<<20&4294967295|R>>>12),R=w+(C^k&(x^C))+M[5]+3593408605&4294967295,w=x+(R<<5&4294967295|R>>>27),R=k+(x^C&(w^x))+M[10]+38016083&4294967295,k=w+(R<<9&4294967295|R>>>23),R=C+(w^x&(k^w))+M[15]+3634488961&4294967295,C=k+(R<<14&4294967295|R>>>18),R=x+(k^w&(C^k))+M[4]+3889429448&4294967295,x=C+(R<<20&4294967295|R>>>12),R=w+(C^k&(x^C))+M[9]+568446438&4294967295,w=x+(R<<5&4294967295|R>>>27),R=k+(x^C&(w^x))+M[14]+3275163606&4294967295,k=w+(R<<9&4294967295|R>>>23),R=C+(w^x&(k^w))+M[3]+4107603335&4294967295,C=k+(R<<14&4294967295|R>>>18),R=x+(k^w&(C^k))+M[8]+1163531501&4294967295,x=C+(R<<20&4294967295|R>>>12),R=w+(C^k&(x^C))+M[13]+2850285829&4294967295,w=x+(R<<5&4294967295|R>>>27),R=k+(x^C&(w^x))+M[2]+4243563512&4294967295,k=w+(R<<9&4294967295|R>>>23),R=C+(w^x&(k^w))+M[7]+1735328473&4294967295,C=k+(R<<14&4294967295|R>>>18),R=x+(k^w&(C^k))+M[12]+2368359562&4294967295,x=C+(R<<20&4294967295|R>>>12),R=w+(x^C^k)+M[5]+4294588738&4294967295,w=x+(R<<4&4294967295|R>>>28),R=k+(w^x^C)+M[8]+2272392833&4294967295,k=w+(R<<11&4294967295|R>>>21),R=C+(k^w^x)+M[11]+1839030562&4294967295,C=k+(R<<16&4294967295|R>>>16),R=x+(C^k^w)+M[14]+4259657740&4294967295,x=C+(R<<23&4294967295|R>>>9),R=w+(x^C^k)+M[1]+2763975236&4294967295,w=x+(R<<4&4294967295|R>>>28),R=k+(w^x^C)+M[4]+1272893353&4294967295,k=w+(R<<11&4294967295|R>>>21),R=C+(k^w^x)+M[7]+4139469664&4294967295,C=k+(R<<16&4294967295|R>>>16),R=x+(C^k^w)+M[10]+3200236656&4294967295,x=C+(R<<23&4294967295|R>>>9),R=w+(x^C^k)+M[13]+681279174&4294967295,w=x+(R<<4&4294967295|R>>>28),R=k+(w^x^C)+M[0]+3936430074&4294967295,k=w+(R<<11&4294967295|R>>>21),R=C+(k^w^x)+M[3]+3572445317&4294967295,C=k+(R<<16&4294967295|R>>>16),R=x+(C^k^w)+M[6]+76029189&4294967295,x=C+(R<<23&4294967295|R>>>9),R=w+(x^C^k)+M[9]+3654602809&4294967295,w=x+(R<<4&4294967295|R>>>28),R=k+(w^x^C)+M[12]+3873151461&4294967295,k=w+(R<<11&4294967295|R>>>21),R=C+(k^w^x)+M[15]+530742520&4294967295,C=k+(R<<16&4294967295|R>>>16),R=x+(C^k^w)+M[2]+3299628645&4294967295,x=C+(R<<23&4294967295|R>>>9),R=w+(C^(x|~k))+M[0]+4096336452&4294967295,w=x+(R<<6&4294967295|R>>>26),R=k+(x^(w|~C))+M[7]+1126891415&4294967295,k=w+(R<<10&4294967295|R>>>22),R=C+(w^(k|~x))+M[14]+2878612391&4294967295,C=k+(R<<15&4294967295|R>>>17),R=x+(k^(C|~w))+M[5]+4237533241&4294967295,x=C+(R<<21&4294967295|R>>>11),R=w+(C^(x|~k))+M[12]+1700485571&4294967295,w=x+(R<<6&4294967295|R>>>26),R=k+(x^(w|~C))+M[3]+2399980690&4294967295,k=w+(R<<10&4294967295|R>>>22),R=C+(w^(k|~x))+M[10]+4293915773&4294967295,C=k+(R<<15&4294967295|R>>>17),R=x+(k^(C|~w))+M[1]+2240044497&4294967295,x=C+(R<<21&4294967295|R>>>11),R=w+(C^(x|~k))+M[8]+1873313359&4294967295,w=x+(R<<6&4294967295|R>>>26),R=k+(x^(w|~C))+M[15]+4264355552&4294967295,k=w+(R<<10&4294967295|R>>>22),R=C+(w^(k|~x))+M[6]+2734768916&4294967295,C=k+(R<<15&4294967295|R>>>17),R=x+(k^(C|~w))+M[13]+1309151649&4294967295,x=C+(R<<21&4294967295|R>>>11),R=w+(C^(x|~k))+M[4]+4149444226&4294967295,w=x+(R<<6&4294967295|R>>>26),R=k+(x^(w|~C))+M[11]+3174756917&4294967295,k=w+(R<<10&4294967295|R>>>22),R=C+(w^(k|~x))+M[2]+718787259&4294967295,C=k+(R<<15&4294967295|R>>>17),R=x+(k^(C|~w))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(C+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+C&4294967295,I.g[3]=I.g[3]+k&4294967295}s.prototype.v=function(I,w){w===void 0&&(w=I.length);const x=w-this.blockSize,M=this.C;let C=this.h,k=0;for(;k<w;){if(C==0)for(;k<=x;)l(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<w;)if(M[C++]=I.charCodeAt(k++),C==this.blockSize){l(this,M),C=0;break}}else for(;k<w;)if(M[C++]=I[k++],C==this.blockSize){l(this,M),C=0;break}}this.h=C,this.o+=w},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;w=this.o*8;for(var x=I.length-8;x<I.length;++x)I[x]=w&255,w/=256;for(this.v(I),I=Array(16),w=0,x=0;x<4;++x)for(let M=0;M<32;M+=8)I[w++]=this.g[x]>>>M&255;return I};function u(I,w){var x=p;return Object.prototype.hasOwnProperty.call(x,I)?x[I]:x[I]=w(I)}function f(I,w){this.h=w;const x=[];let M=!0;for(let C=I.length-1;C>=0;C--){const k=I[C]|0;M&&k==w||(x[C]=k,M=!1)}this.g=x}var p={};function g(I){return-128<=I&&I<128?u(I,function(w){return new f([w|0],w<0?-1:0)}):new f([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return Z(y(-I));const w=[];let x=1;for(let M=0;I>=x;M++)w[M]=I/x|0,x*=4294967296;return new f(w,0)}function E(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return Z(E(I.substring(1),w));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=y(Math.pow(w,8));let M=S;for(let k=0;k<I.length;k+=8){var C=Math.min(8,I.length-k);const R=parseInt(I.substring(k,k+C),w);C<8?(C=y(Math.pow(w,C)),M=M.j(C).add(y(R))):(M=M.j(x),M=M.add(y(R)))}return M}var S=g(0),N=g(1),F=g(16777216);r=f.prototype,r.m=function(){if(W(this))return-Z(this).m();let I=0,w=1;for(let x=0;x<this.g.length;x++){const M=this.i(x);I+=(M>=0?M:4294967296+M)*w,w*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(J(this))return"0";if(W(this))return"-"+Z(this).toString(I);const w=y(Math.pow(I,6));var x=this;let M="";for(;;){const C=Bt(x,w).g;x=ct(x,C.j(w));let k=((x.g.length>0?x.g[0]:x.h)>>>0).toString(I);if(x=C,J(x))return k+M;for(;k.length<6;)k="0"+k;M=k+M}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function J(I){if(I.h!=0)return!1;for(let w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function W(I){return I.h==-1}r.l=function(I){return I=ct(this,I),W(I)?-1:J(I)?0:1};function Z(I){const w=I.g.length,x=[];for(let M=0;M<w;M++)x[M]=~I.g[M];return new f(x,~I.h).add(N)}r.abs=function(){return W(this)?Z(this):this},r.add=function(I){const w=Math.max(this.g.length,I.g.length),x=[];let M=0;for(let C=0;C<=w;C++){let k=M+(this.i(C)&65535)+(I.i(C)&65535),R=(k>>>16)+(this.i(C)>>>16)+(I.i(C)>>>16);M=R>>>16,k&=65535,R&=65535,x[C]=R<<16|k}return new f(x,x[x.length-1]&-2147483648?-1:0)};function ct(I,w){return I.add(Z(w))}r.j=function(I){if(J(this)||J(I))return S;if(W(this))return W(I)?Z(this).j(Z(I)):Z(Z(this).j(I));if(W(I))return Z(this.j(Z(I)));if(this.l(F)<0&&I.l(F)<0)return y(this.m()*I.m());const w=this.g.length+I.g.length,x=[];for(var M=0;M<2*w;M++)x[M]=0;for(M=0;M<this.g.length;M++)for(let C=0;C<I.g.length;C++){const k=this.i(M)>>>16,R=this.i(M)&65535,Et=I.i(C)>>>16,se=I.i(C)&65535;x[2*M+2*C]+=R*se,gt(x,2*M+2*C),x[2*M+2*C+1]+=k*se,gt(x,2*M+2*C+1),x[2*M+2*C+1]+=R*Et,gt(x,2*M+2*C+1),x[2*M+2*C+2]+=k*Et,gt(x,2*M+2*C+2)}for(I=0;I<w;I++)x[I]=x[2*I+1]<<16|x[2*I];for(I=w;I<2*w;I++)x[I]=0;return new f(x,0)};function gt(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function ht(I,w){this.g=I,this.h=w}function Bt(I,w){if(J(w))throw Error("division by zero");if(J(I))return new ht(S,S);if(W(I))return w=Bt(Z(I),w),new ht(Z(w.g),Z(w.h));if(W(w))return w=Bt(I,Z(w)),new ht(Z(w.g),w.h);if(I.g.length>30){if(W(I)||W(w))throw Error("slowDivide_ only works with positive integers.");for(var x=N,M=w;M.l(I)<=0;)x=rt(x),M=rt(M);var C=ft(x,1),k=ft(M,1);for(M=ft(M,2),x=ft(x,2);!J(M);){var R=k.add(M);R.l(I)<=0&&(C=C.add(x),k=R),M=ft(M,1),x=ft(x,1)}return w=ct(I,C.j(w)),new ht(C,w)}for(C=S;I.l(w)>=0;){for(x=Math.max(1,Math.floor(I.m()/w.m())),M=Math.ceil(Math.log(x)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),k=y(x),R=k.j(w);W(R)||R.l(I)>0;)x-=M,k=y(x),R=k.j(w);J(k)&&(k=N),C=C.add(k),I=ct(I,R)}return new ht(C,I)}r.B=function(I){return Bt(this,I).h},r.and=function(I){const w=Math.max(this.g.length,I.g.length),x=[];for(let M=0;M<w;M++)x[M]=this.i(M)&I.i(M);return new f(x,this.h&I.h)},r.or=function(I){const w=Math.max(this.g.length,I.g.length),x=[];for(let M=0;M<w;M++)x[M]=this.i(M)|I.i(M);return new f(x,this.h|I.h)},r.xor=function(I){const w=Math.max(this.g.length,I.g.length),x=[];for(let M=0;M<w;M++)x[M]=this.i(M)^I.i(M);return new f(x,this.h^I.h)};function rt(I){const w=I.g.length+1,x=[];for(let M=0;M<w;M++)x[M]=I.i(M)<<1|I.i(M-1)>>>31;return new f(x,I.h)}function ft(I,w){const x=w>>5;w%=32;const M=I.g.length-x,C=[];for(let k=0;k<M;k++)C[k]=w>0?I.i(k+x)>>>w|I.i(k+x+1)<<32-w:I.i(k+x);return new f(C,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,ZT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,ss=f}).apply(typeof Hv<"u"?Hv:typeof self<"u"?self:typeof window<"u"?window:{});var Hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var WT,Ul,tE,Xc,Sm,eE,nE,iE;(function(){var r,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hc=="object"&&Hc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function l(c,m){if(m)t:{var v=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var U=c[b];if(!(U in v))break t;v=v[U]}c=c[c.length-1],b=v[c],m=m(b),m!=b&&m!=null&&t(v,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var u=u||{},f=this||self;function p(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function g(c,m,v){return c.call.apply(c.bind,arguments)}function y(c,m,v){return y=g,y.apply(null,arguments)}function E(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function S(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(b,U,B){for(var tt=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)tt[wt-2]=arguments[wt];return m.prototype[U].apply(b,tt)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function F(c){const m=c.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=c[b];return v}return[]}function J(c,m){for(let b=1;b<arguments.length;b++){const U=arguments[b];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=c.length||0;const B=U.length||0;c.length=v+B;for(let tt=0;tt<B;tt++)c[v+tt]=U[tt]}else c.push(U)}}class W{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(c){f.setTimeout(()=>{throw c},0)}function ct(){var c=I;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class gt{constructor(){this.h=this.g=null}add(m,v){const b=ht.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var ht=new W(()=>new Bt,c=>c.reset());class Bt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let rt,ft=!1,I=new gt,w=()=>{const c=Promise.resolve(void 0);rt=()=>{c.then(x)}};function x(){for(var c;c=ct();){try{c.h.call(c.g)}catch(v){Z(v)}var m=ht;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}ft=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,m),f.removeEventListener("test",v,m)}catch{}return c})();function R(c){return/^[\s\xa0]*$/.test(c)}function Et(c,m){C.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}S(Et,C),Et.prototype.init=function(c,m){const v=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Et.Z.h.call(this)},Et.prototype.h=function(){Et.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var se="closure_listenable_"+(Math.random()*1e6|0),H=0;function et(c,m,v,b,U){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=U,this.key=++H,this.da=this.fa=!1}function dt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Lt(c,m,v){for(const b in c)m.call(v,c[b],b,c)}function zt(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function V(c){const m={};for(const v in c)m[v]=c[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(c,m){let v,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(v in b)c[v]=b[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(b,v)&&(c[v]=b[v])}}function st(c){this.src=c,this.g={},this.h=0}st.prototype.add=function(c,m,v,b,U){const B=c.toString();c=this.g[B],c||(c=this.g[B]=[],this.h++);const tt=Rt(c,m,b,U);return tt>-1?(m=c[tt],v||(m.fa=!1)):(m=new et(m,this.src,B,!!b,U),m.fa=v,c.push(m)),m};function vt(c,m){const v=m.type;if(v in c.g){var b=c.g[v],U=Array.prototype.indexOf.call(b,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(b,U,1),B&&(dt(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Rt(c,m,v,b){for(let U=0;U<c.length;++U){const B=c[U];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==b)return U}return-1}var Pt="closure_lm_"+(Math.random()*1e6|0),De={};function ae(c,m,v,b,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ae(c,m[B],v,b,U);return null}return v=Oo(v),c&&c[se]?c.J(m,v,p(b)?!!b.capture:!1,U):gs(c,m,v,!1,b,U)}function gs(c,m,v,b,U,B){if(!m)throw Error("Invalid event type");const tt=p(U)?!!U.capture:!!U;let wt=ys(c);if(wt||(c[Pt]=wt=new st(c)),v=wt.add(m,v,b,tt,B),v.proxy)return v;if(b=oa(),v.proxy=b,b.src=c,b.listener=v,c.addEventListener)k||(U=tt),U===void 0&&(U=!1),c.addEventListener(m.toString(),b,U);else if(c.attachEvent)c.attachEvent(si(m.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function oa(){function c(v){return m.call(c.src,c.listener,v)}const m=No;return c}function la(c,m,v,b,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)la(c,m[B],v,b,U);else b=p(b)?!!b.capture:!!b,v=Oo(v),c&&c[se]?(c=c.i,B=String(m).toString(),B in c.g&&(m=c.g[B],v=Rt(m,v,b,U),v>-1&&(dt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[B],c.h--)))):c&&(c=ys(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Rt(m,v,b,U)),(v=c>-1?m[c]:null)&&ua(v))}function ua(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[se])vt(m.i,c);else{var v=c.type,b=c.proxy;m.removeEventListener?m.removeEventListener(v,b,c.capture):m.detachEvent?m.detachEvent(si(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=ys(m))?(vt(v,c),v.h==0&&(v.src=null,m[Pt]=null)):dt(c)}}}function si(c){return c in De?De[c]:De[c]="on"+c}function No(c,m){if(c.da)c=!0;else{m=new Et(m,this);const v=c.listener,b=c.ha||c.src;c.fa&&ua(c),c=v.call(b,m)}return c}function ys(c){return c=c[Pt],c instanceof st?c:null}var Do="__closure_events_fn_"+(Math.random()*1e9>>>0);function Oo(c){return typeof c=="function"?c:(c[Do]||(c[Do]=function(m){return c.handleEvent(m)}),c[Do])}function ve(){M.call(this),this.i=new st(this),this.M=this,this.G=null}S(ve,M),ve.prototype[se]=!0,ve.prototype.removeEventListener=function(c,m,v,b){la(this,c,m,v,b)};function Oe(c,m){var v,b=c.G;if(b)for(v=[];b;b=b.G)v.push(b);if(c=c.M,b=m.type||m,typeof m=="string")m=new C(m,c);else if(m instanceof C)m.target=m.target||c;else{var U=m;m=new C(b,c),nt(m,U)}U=!0;let B,tt;if(v)for(tt=v.length-1;tt>=0;tt--)B=m.g=v[tt],U=mr(B,b,!0,m)&&U;if(B=m.g=c,U=mr(B,b,!0,m)&&U,U=mr(B,b,!1,m)&&U,v)for(tt=0;tt<v.length;tt++)B=m.g=v[tt],U=mr(B,b,!1,m)&&U}ve.prototype.N=function(){if(ve.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let b=0;b<v.length;b++)dt(v[b]);delete c.g[m],c.h--}}this.G=null},ve.prototype.J=function(c,m,v,b){return this.i.add(String(c),m,!1,v,b)},ve.prototype.K=function(c,m,v,b){return this.i.add(String(c),m,!0,v,b)};function mr(c,m,v,b){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==v){const wt=tt.listener,de=tt.ha||tt.src;tt.fa&&vt(c.i,tt),U=wt.call(de,b)!==!1&&U}}return U&&!b.defaultPrevented}function $h(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:f.setTimeout(c,m||0)}function du(c){c.g=$h(()=>{c.g=null,c.i&&(c.i=!1,du(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class en extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:du(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _s(c){M.call(this),this.h=c,this.g={}}S(_s,M);var Mo=[];function Vo(c){Lt(c.g,function(m,v){this.g.hasOwnProperty(v)&&ua(m)},c),c.g={}}_s.prototype.N=function(){_s.Z.N.call(this),Vo(this)},_s.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pr=f.JSON.stringify,Jh=f.JSON.parse,mu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function pu(){}function gu(){}var Bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Be(){C.call(this,"d")}S(Be,C);function In(){C.call(this,"c")}S(In,C);var fe={},yu=null;function ca(){return yu=yu||new ve}fe.Ia="serverreachability";function _u(c){C.call(this,fe.Ia,c)}S(_u,C);function ai(c){const m=ca();Oe(m,new _u(m))}fe.STAT_EVENT="statevent";function vs(c,m){C.call(this,fe.STAT_EVENT,c),this.stat=m}S(vs,C);function Te(c){const m=ca();Oe(m,new vs(m,c))}fe.Ja="timingevent";function oi(c,m){C.call(this,fe.Ja,c),this.size=m}S(oi,C);function li(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},m)}function qn(){this.g=!0}qn.prototype.ua=function(){this.g=!1};function Zh(c,m,v,b,U,B){c.info(function(){if(c.g)if(B){var tt="",wt=B.split("&");for(let Ft=0;Ft<wt.length;Ft++){var de=wt[Ft].split("=");if(de.length>1){const oe=de[0];de=de[1];const Nn=oe.split("_");tt=Nn.length>=2&&Nn[1]=="type"?tt+(oe+"="+de+"&"):tt+(oe+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+m+`
`+v+`
`+tt})}function vu(c,m,v,b,U,B,tt){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+m+`
`+v+`
`+B+" "+tt})}function ui(c,m,v,b){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Wh(c,v)+(b?" "+b:"")})}function Ts(c,m){c.info(function(){return"TIMEOUT: "+m})}qn.prototype.info=function(){};function Wh(c,m){if(!c.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(c=0;c<B.length;c++)if(Array.isArray(B[c])){var v=B[c];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var U=b[0];if(U!="noop"&&U!="stop"&&U!="close")for(let tt=1;tt<b.length;tt++)b[tt]=""}}}}return pr(B)}catch{return m}}var Es={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ko={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Lo;function bs(){}S(bs,pu),bs.prototype.g=function(){return new XMLHttpRequest},Lo=new bs;function Pi(c){return encodeURIComponent(String(c))}function Tu(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function Hn(c,m,v,b){this.j=c,this.i=m,this.l=v,this.S=b||1,this.V=new _s(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fn}function Fn(){this.i=null,this.g="",this.h=!1}var Ee={},Le={};function ci(c,m,v){c.M=1,c.A=As(Ae(m)),c.u=v,c.R=!0,ha(c,null)}function ha(c,m){c.F=Date.now(),hi(c),c.B=Ae(c.A);var v=c.B,b=c.S;Array.isArray(b)||(b=[String(b)]),pa(v.i,"t",b),c.C=0,v=c.j.L,c.h=new Fn,c.g=ku(c.j,v?m:null,!c.u),c.P>0&&(c.O=new en(y(c.Y,c,c.g),c.P)),m=c.V,v=c.g,b=c.ba;var U="readystatechange";Array.isArray(U)||(U&&(Mo[0]=U.toString()),U=Mo);for(let B=0;B<U.length;B++){const tt=ae(v,U[B],b||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),ai(),Zh(c.i,c.v,c.B,c.l,c.S,c.u)}Hn.prototype.ba=function(c){c=c.target;const m=this.O;m&&Qn(c)==3?m.j():this.Y(c)},Hn.prototype.Y=function(c){try{if(c==this.g)t:{const wt=Qn(this.g),de=this.g.ya(),Ft=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||qe(this.g)))){this.K||wt!=4||de==7||(de==8||Ft<=0?ai(3):ai(2)),fi(this);var m=this.g.ca();this.X=m;var v=tf(this);if(this.o=m==200,vu(this.i,this.v,this.B,this.l,this.S,wt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,U=this.g;if((b=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(b)){var B=b;break e}}B=null}if(c=B)ui(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,di(this,c);else{this.o=!1,this.m=3,Te(12),pn(this),Rn(this);break t}}if(this.R){c=!0;let oe;for(;!this.K&&this.C<v.length;)if(oe=bu(this,v),oe==Le){wt==4&&(this.m=4,Te(14),c=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==Ee){this.m=4,Te(15),ui(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ui(this.i,this.l,oe,null),di(this,oe);if(Eu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||v.length!=0||this.h.h||(this.m=1,Te(16),c=!1),this.o=this.o&&c,!c)ui(this.i,this.l,v,"[Invalid Chunked Response]"),pn(this),Rn(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Jo(tt),tt.P=!0,Te(11))}}else ui(this.i,this.l,v,null),di(this,v);wt==4&&pn(this),this.o&&!this.K&&(wt==4?Du(this.j,this):(this.o=!1,hi(this)))}else zi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Te(12)):(this.m=0,Te(13)),pn(this),Rn(this)}}}catch{}};function tf(c){if(!Eu(c))return c.g.la();const m=qe(c.g);if(m==="")return"";let v="";const b=m.length,U=Qn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return pn(c),Rn(c),"";c.h.i=new f.TextDecoder}for(let B=0;B<b;B++)c.h.h=!0,v+=c.h.i.decode(m[B],{stream:!(U&&B==b-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function Eu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function bu(c,m){var v=c.C,b=m.indexOf(`
`,v);return b==-1?Le:(v=Number(m.substring(v,b)),isNaN(v)?Ee:(b+=1,b+v>m.length?Le:(m=m.slice(b,b+v),c.C=b+v,m)))}Hn.prototype.cancel=function(){this.K=!0,pn(this)};function hi(c){c.T=Date.now()+c.H,fa(c,c.H)}function fa(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=li(y(c.aa,c),m)}function fi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Hn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ts(this.i,this.B),this.M!=2&&(ai(),Te(17)),pn(this),this.m=2,Rn(this)):fa(this,this.T-c)};function Rn(c){c.j.I==0||c.K||Du(c.j,c)}function pn(c){fi(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,Vo(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function di(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||pi(v.h,c))){if(!c.L&&pi(v.h,c)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Ta(v),Ar(v);else break t;Ns(v),Te(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=li(y(v.Va,v),6e3));mi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ei(v,11)}else if((c.L||v.g==c)&&Ta(v),!R(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Ft=U[m];const oe=Ft[0];if(!(oe<=v.K))if(v.K=oe,Ft=Ft[1],v.I==2)if(Ft[0]=="c"){v.M=Ft[1],v.ba=Ft[2];const Nn=Ft[3];Nn!=null&&(v.ka=Nn,v.j.info("VER="+v.ka));const bi=Ft[4];bi!=null&&(v.za=bi,v.j.info("SVER="+v.za));const Kn=Ft[5];Kn!=null&&typeof Kn=="number"&&Kn>0&&(b=1.5*Kn,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Xn=c.g;if(Xn){const Ds=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ds){var B=b.h;B.g||Ds.indexOf("spdy")==-1&&Ds.indexOf("quic")==-1&&Ds.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(jo(B,B.h),B.h=null))}if(b.G){const Ea=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ea&&(b.wa=Ea,Qt(b.J,b.G,Ea))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var tt=c;if(b.na=Vu(b,b.L?b.ba:null,b.W),tt.L){zo(b.h,tt);var wt=tt,de=b.O;de&&(wt.H=de),wt.D&&(fi(wt),hi(wt)),b.g=tt}else xu(b);v.i.length>0&&Ti(v)}else Ft[0]!="stop"&&Ft[0]!="close"||Ei(v,7);else v.I==3&&(Ft[0]=="stop"||Ft[0]=="close"?Ft[0]=="stop"?Ei(v,7):Xo(v):Ft[0]!="noop"&&v.l&&v.l.qa(Ft),v.A=0)}}ai(4)}catch{}}var be=class{constructor(c,m){this.g=c,this.map=m}};function Uo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Po(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function mi(c){return c.h?1:c.g?c.g.size:0}function pi(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function jo(c,m){c.g?c.g.add(m):c.h=m}function zo(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Uo.prototype.cancel=function(){if(this.i=Bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Bo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return F(c.i)}var Au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function da(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const b=c[v].indexOf("=");let U,B=null;b>=0?(U=c[v].substring(0,b),B=c[v].substring(b+1)):U=c[v],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function gn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof gn?(this.l=c.l,Ue(this,c.j),this.o=c.o,this.g=c.g,gr(this,c.u),this.h=c.h,qo(this,Ru(c.i)),this.m=c.m):c&&(m=String(c).match(Au))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=gi(m[2]||""),this.g=gi(m[3]||"",!0),gr(this,m[4]),this.h=gi(m[5]||"",!0),qo(this,m[6]||"",!0),this.m=gi(m[7]||"")):(this.l=!1,this.i=new _r(null,this.l))}gn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(Ss(m,ma,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Ss(m,ma,!0),"@"),c.push(Pi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ss(v,v.charAt(0)=="/"?Ho:Su,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ss(v,wu)),c.join("")},gn.prototype.resolve=function(c){const m=Ae(this);let v=!!c.j;v?Ue(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var b=c.h;if(v)gr(m,c.u);else if(v=!!c.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var U=m.h.lastIndexOf("/");U!=-1&&(b=m.h.slice(0,U+1)+b)}if(U=b,U==".."||U==".")b="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){b=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let tt=0;tt<U.length;){const wt=U[tt++];wt=="."?b&&tt==U.length&&B.push(""):wt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&tt==U.length&&B.push("")):(B.push(wt),b=!0)}b=B.join("/")}else b=U}return v?m.h=b:v=c.i.toString()!=="",v?qo(m,Ru(c.i)):v=!!c.m,v&&(m.m=c.m),m};function Ae(c){return new gn(c)}function Ue(c,m,v){c.j=v?gi(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function gr(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function qo(c,m,v){m instanceof _r?(c.i=m,ga(c.i,c.l)):(v||(m=Ss(m,yr)),c.i=new _r(m,c.l))}function Qt(c,m,v){c.i.set(m,v)}function As(c){return Qt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function gi(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ss(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,an),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function an(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ma=/[#\/\?@]/g,Su=/[#\?:]/g,Ho=/[#\?]/g,yr=/[#\?@]/g,wu=/#/g;function _r(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function on(c){c.g||(c.g=new Map,c.h=0,c.i&&da(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=_r.prototype,r.add=function(c,m){on(this),this.i=null,c=vr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function Iu(c,m){on(c),m=vr(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Fo(c,m){return on(c),m=vr(c,m),c.g.has(m)}r.forEach=function(c,m){on(this),this.g.forEach(function(v,b){v.forEach(function(U){c.call(m,U,b,this)},this)},this)};function Go(c,m){on(c);let v=[];if(typeof m=="string")Fo(c,m)&&(v=v.concat(c.g.get(vr(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}r.set=function(c,m){return on(this),this.i=null,c=vr(this,c),Fo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},r.get=function(c,m){return c?(c=Go(this,c),c.length>0?String(c[0]):m):m};function pa(c,m,v){Iu(c,m),v.length>0&&(c.i=null,c.g.set(vr(c,m),F(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const U=Pi(v);v=Go(this,v);for(let B=0;B<v.length;B++){let tt=U;v[B]!==""&&(tt+="="+Pi(v[B])),c.push(tt)}}return this.i=c.join("&")};function Ru(c){const m=new _r;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function vr(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function ga(c,m){m&&!c.j&&(on(c),c.i=null,c.g.forEach(function(v,b){const U=b.toLowerCase();b!=U&&(Iu(this,b),pa(this,U,v))},c)),c.j=m}function Gn(c,m){const v=new qn;if(f.Image){const b=new Image;b.onload=E(Cn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=E(Cn,v,"TestLoadImage: error",!1,m,b),b.onabort=E(Cn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=E(Cn,v,"TestLoadImage: timeout",!1,m,b),f.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else m(!1)}function Yo(c,m){const v=new qn,b=new AbortController,U=setTimeout(()=>{b.abort(),Cn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:b.signal}).then(B=>{clearTimeout(U),B.ok?Cn(v,"TestPingServer: ok",!0,m):Cn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Cn(v,"TestPingServer: error",!1,m)})}function Cn(c,m,v,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(v)}catch{}}function Tr(){this.g=new mu}function yi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(yi,pu),yi.prototype.g=function(){return new ws(this.i,this.h)};function ws(c,m){ve.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(ws,ve),r=ws.prototype,r.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Yn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||f).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Er(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ya(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ya(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Er(this):Yn(this),this.readyState==3&&ya(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Er(this))},r.Na=function(c){this.g&&(this.response=c,Er(this))},r.ga=function(){this.g&&Er(this)};function Er(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Yn(c)}r.setRequestHeader=function(c,m){this.A.append(c,m)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Yn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ws.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function xn(c){let m="";return Lt(c,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Is(c,m,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=xn(v),typeof c=="string"?v!=null&&Pi(v):Qt(c,m,v))}function $t(c){ve.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S($t,ve);var _i=/^https?$/i,Qo=["POST","PUT"];r=$t.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Lo.g(),this.g.onreadystatechange=N(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(B){Rs(this,B);return}if(c=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)v.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())v.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),U=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Qo,m,void 0)>=0)||b||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of v)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(B){Rs(this,B)}};function Rs(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,Ko(c),ji(c)}function Ko(c){c.A||(c.A=!0,Oe(c,"complete"),Oe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Oe(this,"complete"),Oe(this,"abort"),ji(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ji(this,!0)),$t.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Cs(this):this.Xa())},r.Xa=function(){Cs(this)};function Cs(c){if(c.h&&typeof u<"u"){if(c.v&&Qn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Oe(c,"readystatechange"),Qn(c)==4){c.h=!1;try{const B=c.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var b;if(b=B===0){let tt=String(c.D).match(Au)[1]||null;!tt&&f.self&&f.self.location&&(tt=f.self.location.protocol.slice(0,-1)),b=!_i.test(tt?tt.toLowerCase():"")}v=b}if(v)Oe(c,"complete"),Oe(c,"success");else{c.o=6;try{var U=Qn(c)>2?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.ca()+"]",Ko(c)}}finally{ji(c)}}}}function ji(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||Oe(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Qn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Qn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Jh(m)}};function qe(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function zi(c){const m={};c=(c.g&&Qn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(R(c[b]))continue;var v=Tu(c[b]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[U]||[];m[U]=B,B.push(v)}zt(m,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function br(c){this.za=0,this.i=[],this.j=new qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vi("baseRetryDelayMs",5e3,c),this.Za=vi("retryDelaySeedMs",1e4,c),this.Ta=vi("forwardChannelMaxRetries",2,c),this.va=vi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Uo(c&&c.concurrentRequestLimit),this.Ba=new Tr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=br.prototype,r.ka=8,r.I=1,r.connect=function(c,m,v,b){Te(0),this.W=c,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Vu(this,null,this.W),Ti(this)};function Xo(c){if(_a(c),c.I==3){var m=c.V++,v=Ae(c.J);if(Qt(v,"SID",c.M),Qt(v,"RID",m),Qt(v,"TYPE","terminate"),xs(c,v),m=new Hn(c,c.j,m),m.M=2,m.A=As(Ae(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=m.A,v=!0),v||(m.g=ku(m.j,null),m.g.ea(m.A)),m.F=Date.now(),hi(m)}Mu(c)}function Ar(c){c.g&&(Jo(c),c.g.cancel(),c.g=null)}function _a(c){Ar(c),c.v&&(f.clearTimeout(c.v),c.v=null),Ta(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Ti(c){if(!Po(c.h)&&!c.m){c.m=!0;var m=c.Ea;rt||w(),ft||(rt(),ft=!0),I.add(m,c),c.D=0}}function va(c,m){return mi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=li(y(c.Ea,c,m),Ou(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const U=new Hn(this,this.j,c);let B=this.o;if(this.U&&(B?(B=V(B),nt(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Cu(this,U,m),v=Ae(this.J),Qt(v,"RID",c),Qt(v,"CVER",22),this.G&&Qt(v,"X-HTTP-Session-Id",this.G),xs(this,v),B&&(this.R?m="headers="+Pi(xn(B))+"&"+m:this.u&&Is(v,this.u,B)),jo(this.h,U),this.Ra&&Qt(v,"TYPE","init"),this.S?(Qt(v,"$req",m),Qt(v,"SID","null"),U.U=!0,ci(U,v,null)):ci(U,v,m),this.I=2}}else this.I==3&&(c?$o(this,c):this.i.length==0||Po(this.h)||$o(this))};function $o(c,m){var v;m?v=m.l:v=c.V++;const b=Ae(c.J);Qt(b,"SID",c.M),Qt(b,"RID",v),Qt(b,"AID",c.K),xs(c,b),c.u&&c.o&&Is(b,c.u,c.o),v=new Hn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=Cu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),jo(c.h,v),ci(v,b,m)}function xs(c,m){c.H&&Lt(c.H,function(v,b){Qt(m,b,v)}),c.l&&Lt({},function(v,b){Qt(m,b,v)})}function Cu(c,m,v){v=Math.min(c.i.length,v);const b=c.l?y(c.l.Ka,c.l,c):null;t:{var U=c.i;let wt=-1;for(;;){const de=["count="+v];wt==-1?v>0?(wt=U[0].g,de.push("ofs="+wt)):wt=0:de.push("ofs="+wt);let Ft=!0;for(let oe=0;oe<v;oe++){var B=U[oe].g;const Nn=U[oe].map;if(B-=wt,B<0)wt=Math.max(0,U[oe].g-100),Ft=!1;else try{B="req"+B+"_"||"";try{var tt=Nn instanceof Map?Nn:Object.entries(Nn);for(const[bi,Kn]of tt){let Xn=Kn;p(Kn)&&(Xn=pr(Kn)),de.push(B+bi+"="+encodeURIComponent(Xn))}}catch(bi){throw de.push(B+"type="+encodeURIComponent("_badmap")),bi}}catch{b&&b(Nn)}}if(Ft){tt=de.join("&");break t}}tt=void 0}return c=c.i.splice(0,v),m.G=c,tt}function xu(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;rt||w(),ft||(rt(),ft=!0),I.add(m,c),c.A=0}}function Ns(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=li(y(c.Da,c),Ou(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Nu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=li(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Te(10),Ar(this),Nu(this))};function Jo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Nu(c){c.g=new Hn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=Ae(c.na);Qt(m,"RID","rpc"),Qt(m,"SID",c.M),Qt(m,"AID",c.K),Qt(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qt(m,"TO",c.ia),Qt(m,"TYPE","xmlhttp"),xs(c,m),c.u&&c.o&&Is(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=As(Ae(m)),v.u=null,v.R=!0,ha(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Ar(this),Ns(this),Te(19))};function Ta(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Du(c,m){var v=null;if(c.g==m){Ta(c),Jo(c),c.g=null;var b=2}else if(pi(c.h,m))v=m.G,zo(c.h,m),b=1;else return;if(c.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=c.D;b=ca(),Oe(b,new oi(b,v)),Ti(c)}else xu(c);else if(U=m.m,U==3||U==0&&m.X>0||!(b==1&&va(c,m)||b==2&&Ns(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),U){case 1:Ei(c,5);break;case 4:Ei(c,10);break;case 3:Ei(c,6);break;default:Ei(c,2)}}}function Ou(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function Ei(c,m){if(c.j.info("Error code "+m),m==2){var v=y(c.bb,c),b=c.Ua;const U=!b;b=new gn(b||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ue(b,"https"),As(b),U?Gn(b.toString(),v):Yo(b.toString(),v)}else Te(2);c.I=0,c.l&&c.l.pa(m),Mu(c),_a(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))};function Mu(c){if(c.I=0,c.ja=[],c.l){const m=Bo(c.h);(m.length!=0||c.i.length!=0)&&(J(c.ja,m),J(c.ja,c.i),c.h.i.length=0,F(c.i),c.i.length=0),c.l.oa()}}function Vu(c,m,v){var b=v instanceof gn?Ae(v):new gn(v);if(b.g!="")m&&(b.g=m+"."+b.g),gr(b,b.u);else{var U=f.location;b=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new gn(null);b&&Ue(B,b),m&&(B.g=m),U&&gr(B,U),v&&(B.h=v),b=B}return v=c.G,m=c.wa,v&&m&&Qt(b,v,m),Qt(b,"VER",c.ka),xs(c,b),b}function ku(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new $t(new yi({ab:v})):new $t(c.ma),m.Fa(c.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lu(){}r=Lu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Sr(){}Sr.prototype.g=function(c,m){return new nn(c,m)};function nn(c,m){ve.call(this),this.g=new br(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!R(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Bi(this)}S(nn,ve),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Xo(this.g)},nn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=pr(c),c=v);m.i.push(new be(m.Ya++,c)),m.I==3&&Ti(m)},nn.prototype.N=function(){this.g.l=null,delete this.j,Xo(this.g),delete this.g,nn.Z.N.call(this)};function Uu(c){Be.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){t:{for(const v in m){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}S(Uu,Be);function Pu(){In.call(this),this.status=1}S(Pu,In);function Bi(c){this.g=c}S(Bi,Lu),Bi.prototype.ra=function(){Oe(this.g,"a")},Bi.prototype.qa=function(c){Oe(this.g,new Uu(c))},Bi.prototype.pa=function(c){Oe(this.g,new Pu)},Bi.prototype.oa=function(){Oe(this.g,"b")},Sr.prototype.createWebChannel=Sr.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,iE=function(){return new Sr},nE=function(){return ca()},eE=fe,Sm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Es.NO_ERROR=0,Es.TIMEOUT=8,Es.HTTP_ERROR=6,Xc=Es,ko.COMPLETE="complete",tE=ko,gu.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",ve.prototype.listen=ve.prototype.J,Ul=gu,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,WT=$t}).apply(typeof Hc<"u"?Hc:typeof self<"u"?self:typeof window<"u"?window:{});class Ze{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");let Ao="12.8.0";function wR(r){Ao=r}const ta=new Ch("@firebase/firestore");function Za(){return ta.logLevel}function at(r,...t){if(ta.logLevel<=Mt.DEBUG){const n=t.map(Zm);ta.debug(`Firestore (${Ao}): ${r}`,...n)}}function ur(r,...t){if(ta.logLevel<=Mt.ERROR){const n=t.map(Zm);ta.error(`Firestore (${Ao}): ${r}`,...n)}}function ho(r,...t){if(ta.logLevel<=Mt.WARN){const n=t.map(Zm);ta.warn(`Firestore (${Ao}): ${r}`,...n)}}function Zm(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function _t(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,rE(r,s,n)}function rE(r,t,n){let s=`FIRESTORE (${Ao}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ur(s),new Error(s)}function Yt(r,t,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||rE(t,l,s)}function St(r,t){return r}const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends ri{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ar{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class sE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class IR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Ze.UNAUTHENTICATED)))}shutdown(){}}class RR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class CR{constructor(t){this.t=t,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Yt(this.o===void 0,42304);let s=this.i;const l=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new ar;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ar,t.enqueueRetryable((()=>l(this.currentUser)))};const f=()=>{const g=u;t.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},p=g=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ar)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Yt(typeof s.accessToken=="string",31837,{l:s}),new sE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new Ze(t)}}class xR{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class NR{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new xR(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Ze.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Fv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DR{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Yt(this.o===void 0,3512);const s=u=>{u.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,at("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const l=u=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Fv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Yt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Fv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function OR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Wm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=OR(40);for(let u=0;u<l.length;++u)s.length<20&&l[u]<n&&(s+=t.charAt(l[u]%62))}return s}}function Vt(r,t){return r<t?-1:r>t?1:0}function wm(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const l=r.charAt(s),u=t.charAt(s);if(l!==u)return um(l)===um(u)?Vt(l,u):um(l)?1:-1}return Vt(r.length,t.length)}const MR=55296,VR=57343;function um(r){const t=r.charCodeAt(0);return t>=MR&&t<=VR}function fo(r,t,n){return r.length===t.length&&r.every(((s,l)=>n(s,t[l])))}const Gv="__name__";class Ci{constructor(t,n,s){n===void 0?n=0:n>t.length&&_t(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&_t(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Ci.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ci?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let l=0;l<s;l++){const u=Ci.compareSegments(t.get(l),n.get(l));if(u!==0)return u}return Vt(t.length,n.length)}static compareSegments(t,n){const s=Ci.isNumericId(t),l=Ci.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?Ci.extractNumericId(t).compare(Ci.extractNumericId(n)):wm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ss.fromString(t.substring(4,t.length-2))}}class ee extends Ci{construct(t,n,s){return new ee(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new it(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((l=>l.length>0)))}return new ee(n)}static emptyPath(){return new ee([])}}const kR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ke extends Ci{construct(t,n,s){return new Ke(t,n,s)}static isValidIdentifier(t){return kR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ke.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Gv}static keyField(){return new Ke([Gv])}static fromServerFormat(t){const n=[];let s="",l=0;const u=()=>{if(s.length===0)throw new it(K.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new it(K.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new it(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=g,l+=2}else p==="`"?(f=!f,l++):p!=="."||f?(s+=p,l++):(u(),l++)}if(u(),f)throw new it(K.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ke(n)}static emptyPath(){return new Ke([])}}class pt{constructor(t){this.path=t}static fromPath(t){return new pt(ee.fromString(t))}static fromName(t){return new pt(ee.fromString(t).popFirst(5))}static empty(){return new pt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ee.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new ee(t.slice()))}}function aE(r,t,n){if(!n)throw new it(K.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function LR(r,t,n,s){if(t===!0&&s===!0)throw new it(K.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Yv(r){if(!pt.isDocumentKey(r))throw new it(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Qv(r){if(pt.isDocumentKey(r))throw new it(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function oE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Dh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":_t(12329,{type:typeof r})}function cr(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new it(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Dh(r);throw new it(K.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}function Ne(r,t){const n={typeString:r};return t&&(n.value=t),n}function iu(r,t){if(!oE(r))throw new it(K.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const l=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(l&&typeof f!==l){n=`JSON field '${s}' must be a ${l}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new it(K.INVALID_ARGUMENT,n);return!0}const Kv=-62135596800,Xv=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*Xv);return new re(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new it(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new it(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Kv)throw new it(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new it(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Xv}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(iu(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Kv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Ne("string",re._jsonSchemaVersion),seconds:Ne("number"),nanoseconds:Ne("number")};class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new re(0,0))}static max(){return new bt(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Kl=-1;function UR(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=bt.fromTimestamp(s===1e9?new re(n+1,0):new re(n,s));return new os(l,pt.empty(),t)}function PR(r){return new os(r.readTime,r.key,Kl)}class os{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new os(bt.min(),pt.empty(),Kl)}static max(){return new os(bt.max(),pt.empty(),Kl)}}function jR(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=pt.comparator(r.documentKey,t.documentKey),n!==0?n:Vt(r.largestBatchId,t.largestBatchId))}const zR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function So(r){if(r.code!==K.FAILED_PRECONDITION||r.message!==zR)throw r;at("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new $(((s,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,l)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):$.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):$.reject(n)}static resolve(t){return new $(((n,s)=>{n(t)}))}static reject(t){return new $(((n,s)=>{s(t)}))}static waitFor(t){return new $(((n,s)=>{let l=0,u=0,f=!1;t.forEach((p=>{++l,p.next((()=>{++u,f&&u===l&&n()}),(g=>s(g)))})),f=!0,u===l&&n()}))}static or(t){let n=$.resolve(!1);for(const s of t)n=n.next((l=>l?$.resolve(l):s()));return n}static forEach(t,n){const s=[];return t.forEach(((l,u)=>{s.push(n.call(this,l,u))})),this.waitFor(s)}static mapArray(t,n){return new $(((s,l)=>{const u=t.length,f=new Array(u);let p=0;for(let g=0;g<u;g++){const y=g;n(t[y]).next((E=>{f[y]=E,++p,p===u&&s(f)}),(E=>l(E)))}}))}static doWhile(t,n){return new $(((s,l)=>{const u=()=>{t()===!0?n().next((()=>{u()}),l):s()};u()}))}}function qR(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wo(r){return r.name==="IndexedDbTransactionError"}class Oh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Oh.ce=-1;const tp=-1;function Mh(r){return r==null}function ch(r){return r===0&&1/r==-1/0}function HR(r){return typeof r=="number"&&Number.isInteger(r)&&!ch(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const lE="";function FR(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=$v(t)),t=GR(r.get(n),t);return $v(t)}function GR(r,t){let n=t;const s=r.length;for(let l=0;l<s;l++){const u=r.charAt(l);switch(u){case"\0":n+="";break;case lE:n+="";break;default:n+=u}}return n}function $v(r){return r+lE+""}function Jv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function ds(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function uE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ue{constructor(t,n){this.comparator=t,this.root=n||Qe.EMPTY}insert(t,n){return new ue(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Fc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Fc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Fc(this.root,t,this.comparator,!0)}}class Fc{constructor(t,n,s,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,n,s,l,u){this.key=t,this.value=n,this.color=s??Qe.RED,this.left=l??Qe.EMPTY,this.right=u??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,l,u){return new Qe(t??this.key,n??this.value,s??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let l=this;const u=s(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,n,s),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return Qe.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,n,s,l,u){return this}insert(t,n,s){return new Qe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ke{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Zv(this.data.getIterator())}getIteratorFrom(t){return new Zv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof ke)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new ke(this.comparator);return n.data=t,n}}class Zv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sn{constructor(t){this.fields=t,t.sort(Ke.comparator)}static empty(){return new Sn([])}unionWith(t){let n=new ke(Ke.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Sn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return fo(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class cE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new cE("Invalid base64 string: "+u):u}})(t);return new Xe(n)}static fromUint8Array(t){const n=(function(l){let u="";for(let f=0;f<l.length;++f)u+=String.fromCharCode(l[f]);return u})(t);return new Xe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Xe.EMPTY_BYTE_STRING=new Xe("");const YR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ls(r){if(Yt(!!r,39018),typeof r=="string"){let t=0;const n=YR.exec(r);if(Yt(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ye(r.seconds),nanos:ye(r.nanos)}}function ye(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function us(r){return typeof r=="string"?Xe.fromBase64String(r):Xe.fromUint8Array(r)}const hE="server_timestamp",fE="__type__",dE="__previous_value__",mE="__local_write_time__";function ep(r){return(r?.mapValue?.fields||{})[fE]?.stringValue===hE}function Vh(r){const t=r.mapValue.fields[dE];return ep(t)?Vh(t):t}function Xl(r){const t=ls(r.mapValue.fields[mE].timestampValue);return new re(t.seconds,t.nanos)}class QR{constructor(t,n,s,l,u,f,p,g,y,E,S){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E,this.apiKey=S}}const hh="(default)";class $l{constructor(t,n){this.projectId=t,this.database=n||hh}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database===hh}isEqual(t){return t instanceof $l&&t.projectId===this.projectId&&t.database===this.database}}function KR(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new it(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(r.options.projectId,t)}const pE="__type__",XR="__max__",Gc={mapValue:{}},gE="__vector__",fh="value";function cs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ep(r)?4:JR(r)?9007199254740991:$R(r)?10:11:_t(28295,{value:r})}function Ui(r,t){if(r===t)return!0;const n=cs(r);if(n!==cs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Xl(r).isEqual(Xl(t));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const f=ls(l.timestampValue),p=ls(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,u){return us(l.bytesValue).isEqual(us(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,u){return ye(l.geoPointValue.latitude)===ye(u.geoPointValue.latitude)&&ye(l.geoPointValue.longitude)===ye(u.geoPointValue.longitude)})(r,t);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return ye(l.integerValue)===ye(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const f=ye(l.doubleValue),p=ye(u.doubleValue);return f===p?ch(f)===ch(p):isNaN(f)&&isNaN(p)}return!1})(r,t);case 9:return fo(r.arrayValue.values||[],t.arrayValue.values||[],Ui);case 10:case 11:return(function(l,u){const f=l.mapValue.fields||{},p=u.mapValue.fields||{};if(Jv(f)!==Jv(p))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(p[g]===void 0||!Ui(f[g],p[g])))return!1;return!0})(r,t);default:return _t(52216,{left:r})}}function Jl(r,t){return(r.values||[]).find((n=>Ui(n,t)))!==void 0}function mo(r,t){if(r===t)return 0;const n=cs(r),s=cs(t);if(n!==s)return Vt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Vt(r.booleanValue,t.booleanValue);case 2:return(function(u,f){const p=ye(u.integerValue||u.doubleValue),g=ye(f.integerValue||f.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(r,t);case 3:return Wv(r.timestampValue,t.timestampValue);case 4:return Wv(Xl(r),Xl(t));case 5:return wm(r.stringValue,t.stringValue);case 6:return(function(u,f){const p=us(u),g=us(f);return p.compareTo(g)})(r.bytesValue,t.bytesValue);case 7:return(function(u,f){const p=u.split("/"),g=f.split("/");for(let y=0;y<p.length&&y<g.length;y++){const E=Vt(p[y],g[y]);if(E!==0)return E}return Vt(p.length,g.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,f){const p=Vt(ye(u.latitude),ye(f.latitude));return p!==0?p:Vt(ye(u.longitude),ye(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return t0(r.arrayValue,t.arrayValue);case 10:return(function(u,f){const p=u.fields||{},g=f.fields||{},y=p[fh]?.arrayValue,E=g[fh]?.arrayValue,S=Vt(y?.values?.length||0,E?.values?.length||0);return S!==0?S:t0(y,E)})(r.mapValue,t.mapValue);case 11:return(function(u,f){if(u===Gc.mapValue&&f===Gc.mapValue)return 0;if(u===Gc.mapValue)return 1;if(f===Gc.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const N=wm(g[S],E[S]);if(N!==0)return N;const F=mo(p[g[S]],y[E[S]]);if(F!==0)return F}return Vt(g.length,E.length)})(r.mapValue,t.mapValue);default:throw _t(23264,{he:n})}}function Wv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Vt(r,t);const n=ls(r),s=ls(t),l=Vt(n.seconds,s.seconds);return l!==0?l:Vt(n.nanos,s.nanos)}function t0(r,t){const n=r.values||[],s=t.values||[];for(let l=0;l<n.length&&l<s.length;++l){const u=mo(n[l],s[l]);if(u)return u}return Vt(n.length,s.length)}function po(r){return Im(r)}function Im(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ls(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return us(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return pt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",l=!0;for(const u of n.values||[])l?l=!1:s+=",",s+=Im(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const f of s)u?u=!1:l+=",",l+=`${f}:${Im(n.fields[f])}`;return l+"}"})(r.mapValue):_t(61005,{value:r})}function $c(r){switch(cs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Vh(r);return t?16+$c(t):16;case 5:return 2*r.stringValue.length;case 6:return us(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,u)=>l+$c(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return ds(s.fields,((u,f)=>{l+=u.length+$c(f)})),l})(r.mapValue);default:throw _t(13486,{value:r})}}function e0(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Rm(r){return!!r&&"integerValue"in r}function np(r){return!!r&&"arrayValue"in r}function n0(r){return!!r&&"nullValue"in r}function i0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Jc(r){return!!r&&"mapValue"in r}function $R(r){return(r?.mapValue?.fields||{})[pE]?.stringValue===gE}function ql(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return ds(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=ql(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ql(r.arrayValue.values[n]);return t}return{...r}}function JR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===XR}class mn{constructor(t){this.value=t}static empty(){return new mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Jc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=ql(n)}setAll(t){let n=Ke.emptyPath(),s={},l=[];t.forEach(((f,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,s,l),s={},l=[],n=p.popLast()}f?s[p.lastSegment()]=ql(f):l.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,l)}delete(t){const n=this.field(t.popLast());Jc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ui(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=n.mapValue.fields[t.get(s)];Jc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,s){ds(n,((l,u)=>t[l]=u));for(const l of s)delete t[l]}clone(){return new mn(ql(this.value))}}function yE(r){const t=[];return ds(r.fields,((n,s)=>{const l=new Ke([n]);if(Jc(s)){const u=yE(s.mapValue).fields;if(u.length===0)t.push(l);else for(const f of u)t.push(l.child(f))}else t.push(l)})),new Sn(t)}class We{constructor(t,n,s,l,u,f,p){this.key=t,this.documentType=n,this.version=s,this.readTime=l,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(t){return new We(t,0,bt.min(),bt.min(),bt.min(),mn.empty(),0)}static newFoundDocument(t,n,s,l){return new We(t,1,n,bt.min(),s,l,0)}static newNoDocument(t,n){return new We(t,2,n,bt.min(),bt.min(),mn.empty(),0)}static newUnknownDocument(t,n){return new We(t,3,n,bt.min(),bt.min(),mn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof We&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new We(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class dh{constructor(t,n){this.position=t,this.inclusive=n}}function r0(r,t,n){let s=0;for(let l=0;l<r.position.length;l++){const u=t[l],f=r.position[l];if(u.field.isKeyField()?s=pt.comparator(pt.fromName(f.referenceValue),n.key):s=mo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function s0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ui(r.position[n],t.position[n]))return!1;return!0}class Zl{constructor(t,n="asc"){this.field=t,this.dir=n}}function ZR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class _E{}class xe extends _E{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new t2(t,n,s):n==="array-contains"?new i2(t,s):n==="in"?new r2(t,s):n==="not-in"?new s2(t,s):n==="array-contains-any"?new a2(t,s):new xe(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new e2(t,s):new n2(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(mo(n,this.value)):n!==null&&cs(this.value)===cs(n)&&this.matchesComparison(mo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends _E{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new ii(t,n)}matches(t){return vE(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function vE(r){return r.op==="and"}function TE(r){return WR(r)&&vE(r)}function WR(r){for(const t of r.filters)if(t instanceof ii)return!1;return!0}function Cm(r){if(r instanceof xe)return r.field.canonicalString()+r.op.toString()+po(r.value);if(TE(r))return r.filters.map((t=>Cm(t))).join(",");{const t=r.filters.map((n=>Cm(n))).join(",");return`${r.op}(${t})`}}function EE(r,t){return r instanceof xe?(function(s,l){return l instanceof xe&&s.op===l.op&&s.field.isEqual(l.field)&&Ui(s.value,l.value)})(r,t):r instanceof ii?(function(s,l){return l instanceof ii&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((u,f,p)=>u&&EE(f,l.filters[p])),!0):!1})(r,t):void _t(19439)}function bE(r){return r instanceof xe?(function(n){return`${n.field.canonicalString()} ${n.op} ${po(n.value)}`})(r):r instanceof ii?(function(n){return n.op.toString()+" {"+n.getFilters().map(bE).join(" ,")+"}"})(r):"Filter"}class t2 extends xe{constructor(t,n,s){super(t,n,s),this.key=pt.fromName(s.referenceValue)}matches(t){const n=pt.comparator(t.key,this.key);return this.matchesComparison(n)}}class e2 extends xe{constructor(t,n){super(t,"in",n),this.keys=AE("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class n2 extends xe{constructor(t,n){super(t,"not-in",n),this.keys=AE("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function AE(r,t){return(t.arrayValue?.values||[]).map((n=>pt.fromName(n.referenceValue)))}class i2 extends xe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return np(n)&&Jl(n.arrayValue,this.value)}}class r2 extends xe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Jl(this.value.arrayValue,n)}}class s2 extends xe{constructor(t,n){super(t,"not-in",n)}matches(t){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Jl(this.value.arrayValue,n)}}class a2 extends xe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!np(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Jl(this.value.arrayValue,s)))}}class o2{constructor(t,n=null,s=[],l=[],u=null,f=null,p=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=u,this.startAt=f,this.endAt=p,this.Te=null}}function a0(r,t=null,n=[],s=[],l=null,u=null,f=null){return new o2(r,t,n,s,l,u,f)}function ip(r){const t=St(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>Cm(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Mh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>po(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>po(s))).join(",")),t.Te=n}return t.Te}function rp(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!ZR(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!EE(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!s0(r.startAt,t.startAt)&&s0(r.endAt,t.endAt)}function xm(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Io{constructor(t,n=null,s=[],l=[],u=null,f="F",p=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function l2(r,t,n,s,l,u,f,p){return new Io(r,t,n,s,l,u,f,p)}function sp(r){return new Io(r)}function o0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function u2(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function SE(r){return r.collectionGroup!==null}function Hl(r){const t=St(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new ke(Ke.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Zl(u,s))})),n.has(Ke.keyField().canonicalString())||t.Ie.push(new Zl(Ke.keyField(),s))}return t.Ie}function Ni(r){const t=St(r);return t.Ee||(t.Ee=c2(t,Hl(r))),t.Ee}function c2(r,t){if(r.limitType==="F")return a0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Zl(l.field,u)}));const n=r.endAt?new dh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new dh(r.startAt.position,r.startAt.inclusive):null;return a0(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Nm(r,t){const n=r.filters.concat([t]);return new Io(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function h2(r,t){const n=r.explicitOrderBy.concat([t]);return new Io(r.path,r.collectionGroup,n,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function mh(r,t,n){return new Io(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function kh(r,t){return rp(Ni(r),Ni(t))&&r.limitType===t.limitType}function wE(r){return`${ip(Ni(r))}|lt:${r.limitType}`}function Wa(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((l=>bE(l))).join(", ")}]`),Mh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((l=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(l))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((l=>po(l))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((l=>po(l))).join(",")),`Target(${s})`})(Ni(r))}; limitType=${r.limitType})`}function Lh(r,t){return t.isFoundDocument()&&(function(s,l){const u=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,l){for(const u of Hl(s))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,l){for(const u of s.filters)if(!u.matches(l))return!1;return!0})(r,t)&&(function(s,l){return!(s.startAt&&!(function(f,p,g){const y=r0(f,p,g);return f.inclusive?y<=0:y<0})(s.startAt,Hl(s),l)||s.endAt&&!(function(f,p,g){const y=r0(f,p,g);return f.inclusive?y>=0:y>0})(s.endAt,Hl(s),l))})(r,t)}function f2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function IE(r){return(t,n)=>{let s=!1;for(const l of Hl(r)){const u=d2(l,t,n);if(u!==0)return u;s=s||l.field.isKeyField()}return 0}}function d2(r,t,n){const s=r.field.isKeyField()?pt.comparator(t.key,n.key):(function(u,f,p){const g=f.data.field(u),y=p.data.field(u);return g!==null&&y!==null?mo(g,y):_t(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return _t(19790,{direction:r.dir})}}class sa{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[l,u]of s)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){ds(this.inner,((n,s)=>{for(const[l,u]of s)t(l,u)}))}isEmpty(){return uE(this.inner)}size(){return this.innerSize}}const m2=new ue(pt.comparator);function hr(){return m2}const RE=new ue(pt.comparator);function Pl(...r){let t=RE;for(const n of r)t=t.insert(n.key,n);return t}function CE(r){let t=RE;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Xs(){return Fl()}function xE(){return Fl()}function Fl(){return new sa((r=>r.toString()),((r,t)=>r.isEqual(t)))}const p2=new ue(pt.comparator),g2=new ke(pt.comparator);function kt(...r){let t=g2;for(const n of r)t=t.add(n);return t}const y2=new ke(Vt);function _2(){return y2}function ap(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ch(t)?"-0":t}}function NE(r){return{integerValue:""+r}}function v2(r,t){return HR(t)?NE(t):ap(r,t)}class Uh{constructor(){this._=void 0}}function T2(r,t,n){return r instanceof Wl?(function(l,u){const f={fields:{[fE]:{stringValue:hE},[mE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&ep(u)&&(u=Vh(u)),u&&(f.fields[dE]=u),{mapValue:f}})(n,t):r instanceof go?OE(r,t):r instanceof tu?ME(r,t):(function(l,u){const f=DE(l,u),p=l0(f)+l0(l.Ae);return Rm(f)&&Rm(l.Ae)?NE(p):ap(l.serializer,p)})(r,t)}function E2(r,t,n){return r instanceof go?OE(r,t):r instanceof tu?ME(r,t):n}function DE(r,t){return r instanceof ph?(function(s){return Rm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class Wl extends Uh{}class go extends Uh{constructor(t){super(),this.elements=t}}function OE(r,t){const n=VE(t);for(const s of r.elements)n.some((l=>Ui(l,s)))||n.push(s);return{arrayValue:{values:n}}}class tu extends Uh{constructor(t){super(),this.elements=t}}function ME(r,t){let n=VE(t);for(const s of r.elements)n=n.filter((l=>!Ui(l,s)));return{arrayValue:{values:n}}}class ph extends Uh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function l0(r){return ye(r.integerValue||r.doubleValue)}function VE(r){return np(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class kE{constructor(t,n){this.field=t,this.transform=n}}function b2(r,t){return r.field.isEqual(t.field)&&(function(s,l){return s instanceof go&&l instanceof go||s instanceof tu&&l instanceof tu?fo(s.elements,l.elements,Ui):s instanceof ph&&l instanceof ph?Ui(s.Ae,l.Ae):s instanceof Wl&&l instanceof Wl})(r.transform,t.transform)}class A2{constructor(t,n){this.version=t,this.transformResults=n}}class Di{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Di}static exists(t){return new Di(void 0,t)}static updateTime(t){return new Di(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Zc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Ph{}function LE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new PE(r.key,Di.none()):new ru(r.key,r.data,Di.none());{const n=r.data,s=mn.empty();let l=new ke(Ke.comparator);for(let u of t.fields)if(!l.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),l=l.add(u)}return new ms(r.key,s,new Sn(l.toArray()),Di.none())}}function S2(r,t,n){r instanceof ru?(function(l,u,f){const p=l.value.clone(),g=c0(l.fieldTransforms,u,f.transformResults);p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,t,n):r instanceof ms?(function(l,u,f){if(!Zc(l.precondition,u))return void u.convertToUnknownDocument(f.version);const p=c0(l.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(UE(l)),g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,t,n):(function(l,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function Gl(r,t,n,s){return r instanceof ru?(function(u,f,p,g){if(!Zc(u.precondition,f))return p;const y=u.value.clone(),E=h0(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,t,n,s):r instanceof ms?(function(u,f,p,g){if(!Zc(u.precondition,f))return p;const y=h0(u.fieldTransforms,g,f),E=f.data;return E.setAll(UE(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,t,n,s):(function(u,f,p){return Zc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(r,t,n)}function w2(r,t){let n=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),u=DE(s.transform,l||null);u!=null&&(n===null&&(n=mn.empty()),n.set(s.field,u))}return n||null}function u0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&fo(s,l,((u,f)=>b2(u,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class ru extends Ph{constructor(t,n,s,l=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ms extends Ph{constructor(t,n,s,l,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function UE(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function c0(r,t,n){const s=new Map;Yt(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let l=0;l<n.length;l++){const u=r[l],f=u.transform,p=t.data.field(u.field);s.set(u.field,E2(f,p,n[l]))}return s}function h0(r,t,n){const s=new Map;for(const l of r){const u=l.transform,f=n.data.field(l.field);s.set(l.field,T2(u,f,t))}return s}class PE extends Ph{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class I2 extends Ph{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class R2{constructor(t,n,s,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&S2(u,t,s[l])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Gl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Gl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=xE();return this.mutations.forEach((l=>{const u=t.get(l.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(l.key)?null:p;const g=LE(f,p);g!==null&&s.set(l.key,g),f.isValidDocument()||f.convertToNoDocument(bt.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),kt())}isEqual(t){return this.batchId===t.batchId&&fo(this.mutations,t.mutations,((n,s)=>u0(n,s)))&&fo(this.baseMutations,t.baseMutations,((n,s)=>u0(n,s)))}}class op{constructor(t,n,s,l){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(t,n,s){Yt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return p2})();const u=t.mutations;for(let f=0;f<u.length;f++)l=l.insert(u[f].key,s[f].version);return new op(t,n,s,l)}}class C2{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class x2{constructor(t,n){this.count=t,this.unchangedNames=n}}var Ce,jt;function N2(r){switch(r){case K.OK:return _t(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return _t(15467,{code:r})}}function jE(r){if(r===void 0)return ur("GRPC error has no .code"),K.UNKNOWN;switch(r){case Ce.OK:return K.OK;case Ce.CANCELLED:return K.CANCELLED;case Ce.UNKNOWN:return K.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return K.INTERNAL;case Ce.UNAVAILABLE:return K.UNAVAILABLE;case Ce.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Ce.NOT_FOUND:return K.NOT_FOUND;case Ce.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Ce.ABORTED:return K.ABORTED;case Ce.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Ce.DATA_LOSS:return K.DATA_LOSS;default:return _t(39323,{code:r})}}(jt=Ce||(Ce={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";function D2(){return new TextEncoder}const O2=new ss([4294967295,4294967295],0);function f0(r){const t=D2().encode(r),n=new ZT;return n.update(t),new Uint8Array(n.digest())}function d0(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new ss([n,s],0),new ss([l,u],0)]}class lp{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new jl(`Invalid padding: ${n}`);if(s<0)throw new jl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new jl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new jl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=ss.fromNumber(this.ge)}ye(t,n,s){let l=t.add(n.multiply(ss.fromNumber(s)));return l.compare(O2)===1&&(l=new ss([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=f0(t),[s,l]=d0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,l,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new lp(u,l,n);return s.forEach((p=>f.insert(p))),f}insert(t){if(this.ge===0)return;const n=f0(t),[s,l]=d0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,l,u);this.be(f)}}be(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class jh{constructor(t,n,s,l,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const l=new Map;return l.set(t,su.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new jh(bt.min(),l,new ue(Vt),hr(),kt())}}class su{constructor(t,n,s,l,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new su(s,n,kt(),kt(),kt())}}class Wc{constructor(t,n,s,l){this.Se=t,this.removedTargetIds=n,this.key=s,this.De=l}}class zE{constructor(t,n){this.targetId=t,this.Ce=n}}class BE{constructor(t,n,s=Xe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=l}}class m0{constructor(){this.ve=0,this.Fe=p0(),this.Me=Xe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=kt(),n=kt(),s=kt();return this.Fe.forEach(((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:_t(38017,{changeType:u})}})),new su(this.Me,this.xe,t,n,s)}Ke(){this.Oe=!1,this.Fe=p0()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class M2{constructor(t){this.Ge=t,this.ze=new Map,this.je=hr(),this.He=Yc(),this.Je=Yc(),this.Ze=new ue(Vt)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(t.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,l)=>{this.rt(l)&&n(l)}))}st(t){const n=t.targetId,s=t.Ce.count,l=this.ot(n);if(l){const u=l.target;if(xm(u))if(s===0){const f=new pt(u.path);this.et(n,f,We.newNoDocument(f,bt.min()))}else Yt(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const p=this.ut(t),g=p?this.ct(p,t,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:u=0}=n;let f,p;try{f=us(s).toUint8Array()}catch(g){if(g instanceof cE)return ho("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new lp(f,l,u)}catch(g){return ho(g instanceof jl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let l=0;return s.forEach((u=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(p)||(this.et(n,u,null),l++)})),l}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const p=this.ot(f);if(p){if(u.current&&xm(p.target)){const g=new pt(p.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,We.newNoDocument(g,t))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let s=kt();this.Je.forEach(((u,f)=>{let p=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const l=new jh(t,n,this.Ze,this.je,s);return this.je=hr(),this.He=Yc(),this.Je=Yc(),this.Ze=new ue(Vt),l}Ye(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,n)?l.qe(n,1):l.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new m0,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new ke(Vt),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new ke(Vt),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||at("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new m0),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Yc(){return new ue(pt.comparator)}function p0(){return new ue(pt.comparator)}const V2={asc:"ASCENDING",desc:"DESCENDING"},k2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},L2={and:"AND",or:"OR"};class U2{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Dm(r,t){return r.useProto3Json||Mh(t)?t:{value:t}}function gh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function qE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function P2(r,t){return gh(r,t.toTimestamp())}function Oi(r){return Yt(!!r,49232),bt.fromTimestamp((function(n){const s=ls(n);return new re(s.seconds,s.nanos)})(r))}function up(r,t){return Om(r,t).canonicalString()}function Om(r,t){const n=(function(l){return new ee(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?n:n.child(t)}function HE(r){const t=ee.fromString(r);return Yt(KE(t),10190,{key:t.toString()}),t}function Mm(r,t){return up(r.databaseId,t.path)}function cm(r,t){const n=HE(t);if(n.get(1)!==r.databaseId.projectId)throw new it(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new it(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new pt(GE(n))}function FE(r,t){return up(r.databaseId,t)}function j2(r){const t=HE(r);return t.length===4?ee.emptyPath():GE(t)}function Vm(r){return new ee(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function GE(r){return Yt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function g0(r,t,n){return{name:Mm(r,t),fields:n.value.mapValue.fields}}function z2(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_t(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Yt(E===void 0||typeof E=="string",58123),Xe.fromBase64String(E||"")):(Yt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Xe.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,p=f&&(function(y){const E=y.code===void 0?K.UNKNOWN:jE(y.code);return new it(E,y.message||"")})(f);n=new BE(s,l,u,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=cm(r,s.document.name),u=Oi(s.document.updateTime),f=s.document.createTime?Oi(s.document.createTime):bt.min(),p=new mn({mapValue:{fields:s.document.fields}}),g=We.newFoundDocument(l,u,f,p),y=s.targetIds||[],E=s.removedTargetIds||[];n=new Wc(y,E,g.key,g)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=cm(r,s.document),u=s.readTime?Oi(s.readTime):bt.min(),f=We.newNoDocument(l,u),p=s.removedTargetIds||[];n=new Wc([],p,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=cm(r,s.document),u=s.removedTargetIds||[];n=new Wc([],u,l,null)}else{if(!("filter"in t))return _t(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:u}=s,f=new x2(l,u),p=s.targetId;n=new zE(p,f)}}return n}function B2(r,t){let n;if(t instanceof ru)n={update:g0(r,t.key,t.value)};else if(t instanceof PE)n={delete:Mm(r,t.key)};else if(t instanceof ms)n={update:g0(r,t.key,t.data),updateMask:$2(t.fieldMask)};else{if(!(t instanceof I2))return _t(16599,{dt:t.type});n={verify:Mm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const p=f.transform;if(p instanceof Wl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof go)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof tu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ph)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw _t(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:P2(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_t(27497)})(r,t.precondition)),n}function q2(r,t){return r&&r.length>0?(Yt(t!==void 0,14353),r.map((n=>(function(l,u){let f=l.updateTime?Oi(l.updateTime):Oi(u);return f.isEqual(bt.min())&&(f=Oi(u)),new A2(f,l.transformResults||[])})(n,t)))):[]}function H2(r,t){return{documents:[FE(r,t.path)]}}function F2(r,t){const n={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=FE(r,l);const u=(function(y){if(y.length!==0)return QE(ii.create(y,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(N){return{field:to(N.field),direction:Q2(N.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const p=Dm(r,t.limit);return p!==null&&(n.structuredQuery.limit=p),t.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:n,parent:l}}function G2(r){let t=j2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Yt(s===1,65062);const E=n.from[0];E.allDescendants?l=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(S){const N=YE(S);return N instanceof ii&&TE(N)?N.getFilters():[N]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((N=>(function(J){return new Zl(eo(J.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(N)))})(n.orderBy));let p=null;n.limit&&(p=(function(S){let N;return N=typeof S=="object"?S.value:S,Mh(N)?null:N})(n.limit));let g=null;n.startAt&&(g=(function(S){const N=!!S.before,F=S.values||[];return new dh(F,N)})(n.startAt));let y=null;return n.endAt&&(y=(function(S){const N=!S.before,F=S.values||[];return new dh(F,N)})(n.endAt)),l2(t,l,f,u,p,"F",g,y)}function Y2(r,t){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:l})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function YE(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=eo(n.unaryFilter.field);return xe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=eo(n.unaryFilter.field);return xe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=eo(n.unaryFilter.field);return xe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=eo(n.unaryFilter.field);return xe.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(r):r.fieldFilter!==void 0?(function(n){return xe.create(eo(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ii.create(n.compositeFilter.filters.map((s=>YE(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(n.compositeFilter.op))})(r):_t(30097,{filter:r})}function Q2(r){return V2[r]}function K2(r){return k2[r]}function X2(r){return L2[r]}function to(r){return{fieldPath:r.canonicalString()}}function eo(r){return Ke.fromServerFormat(r.fieldPath)}function QE(r){return r instanceof xe?(function(n){if(n.op==="=="){if(i0(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NAN"}};if(n0(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(i0(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NAN"}};if(n0(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:to(n.field),op:K2(n.op),value:n.value}}})(r):r instanceof ii?(function(n){const s=n.getFilters().map((l=>QE(l)));return s.length===1?s[0]:{compositeFilter:{op:X2(n.op),filters:s}}})(r):_t(54877,{filter:r})}function $2(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function KE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function XE(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class ns{constructor(t,n,s,l,u=bt.min(),f=bt.min(),p=Xe.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(t){return new ns(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class J2{constructor(t){this.yt=t}}function Z2(r){const t=G2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?mh(t,t.limit,"L"):t}class W2{constructor(){this.Sn=new tC}addToCollectionParentIndex(t,n){return this.Sn.add(n),$.resolve()}getCollectionParents(t,n){return $.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return $.resolve()}deleteFieldIndex(t,n){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,n){return $.resolve()}getDocumentsMatchingTarget(t,n){return $.resolve(null)}getIndexType(t,n){return $.resolve(0)}getFieldIndexes(t,n){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,n){return $.resolve(os.min())}getMinOffsetFromCollectionGroup(t,n){return $.resolve(os.min())}updateCollectionGroup(t,n,s){return $.resolve()}updateIndexEntries(t,n){return $.resolve()}}class tC{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n]||new ke(ee.comparator),u=!l.has(s);return this.index[n]=l.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(t){return(this.index[t]||new ke(ee.comparator)).toArray()}}const y0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$E=41943040;class dn{static withCacheSize(t){return new dn(t,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn($E,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);class yo{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new yo(0)}static ar(){return new yo(-1)}}const _0="LruGarbageCollector",eC=1048576;function v0([r,t],[n,s]){const l=Vt(r,n);return l===0?Vt(t,s):l}class nC{constructor(t){this.Pr=t,this.buffer=new ke(v0),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();v0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class iC{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){at(_0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wo(n)?at(_0,"Ignoring IndexedDB error during garbage collection: ",n):await So(n)}await this.Ar(3e5)}))}}class rC{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return $.resolve(Oh.ce);const s=new nC(n);return this.Vr.forEachTarget(t,(l=>s.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>s.Er(l))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.Vr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(y0)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),y0):this.gr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let s,l,u,f,p,g,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,f=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(s=S,p=Date.now(),this.removeTargets(t,s,n)))).next((S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(t,s)))).next((S=>(y=Date.now(),Za()<=Mt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${l} in `+(p-f)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:S}))))}}function sC(r,t){return new rC(r,t)}class aC{constructor(){this.changes=new sa((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,We.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?$.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class oC{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class lC{constructor(t,n,s,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,n)))).next((l=>(s!==null&&Gl(s.mutation,l,Sn.empty(),re.now()),l)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,kt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=kt()){const l=Xs();return this.populateOverlays(t,l,n).next((()=>this.computeViews(t,n,l,s).next((u=>{let f=Pl();return u.forEach(((p,g)=>{f=f.insert(p,g.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const s=Xs();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,kt())))}populateOverlays(t,n,s){const l=[];return s.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(t,l).next((u=>{u.forEach(((f,p)=>{n.set(f,p)}))}))}computeViews(t,n,s,l){let u=hr();const f=Fl(),p=(function(){return Fl()})();return n.forEach(((g,y)=>{const E=s.get(y.key);l.has(y.key)&&(E===void 0||E.mutation instanceof ms)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Gl(E.mutation,y,E.mutation.getFieldMask(),re.now())):f.set(y.key,Sn.empty())})),this.recalculateAndSaveOverlays(t,u).next((g=>(g.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>p.set(y,new oC(E,f.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,n){const s=Fl();let l=new ue(((f,p)=>f-p)),u=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const p of f)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let E=s.get(g)||Sn.empty();E=p.applyToLocalView(y,E),s.set(g,E);const S=(l.get(p.batchId)||kt()).add(g);l=l.insert(p.batchId,S)}))})).next((()=>{const f=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,E=g.value,S=xE();E.forEach((N=>{if(!u.has(N)){const F=LE(n.get(N),s.get(N));F!==null&&S.set(N,F),u=u.add(N)}})),f.push(this.documentOverlayCache.saveOverlays(t,y,S))}return $.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,l){return u2(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):SE(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,l):this.getDocumentsMatchingCollectionQuery(t,n,s,l)}getNextDocuments(t,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,l).next((u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,l-u.size):$.resolve(Xs());let p=Kl,g=u;return f.next((y=>$.forEach(y,((E,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),u.get(E)?$.resolve():this.remoteDocumentCache.getEntry(t,E).next((N=>{g=g.insert(E,N)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,g,y,kt()))).next((E=>({batchId:p,changes:CE(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new pt(n)).next((s=>{let l=Pl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,l){const u=n.collectionGroup;let f=Pl();return this.indexManager.getCollectionParents(t,u).next((p=>$.forEach(p,(g=>{const y=(function(S,N){return new Io(N,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,l).next((E=>{E.forEach(((S,N)=>{f=f.insert(S,N)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,s,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,l)))).next((f=>{u.forEach(((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,We.newInvalidDocument(E)))}));let p=Pl();return f.forEach(((g,y)=>{const E=u.get(g);E!==void 0&&Gl(E.mutation,y,Sn.empty(),re.now()),Lh(n,y)&&(p=p.insert(g,y))})),p}))}}class uC{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return $.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Oi(l.createTime)}})(n)),$.resolve()}getNamedQuery(t,n){return $.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,(function(l){return{name:l.name,query:Z2(l.bundledQuery),readTime:Oi(l.readTime)}})(n)),$.resolve()}}class cC{constructor(){this.overlays=new ue(pt.comparator),this.Lr=new Map}getOverlay(t,n){return $.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Xs();return $.forEach(n,(l=>this.getOverlay(t,l).next((u=>{u!==null&&s.set(l,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((l,u)=>{this.bt(t,n,u)})),$.resolve()}removeOverlaysForBatchId(t,n,s){const l=this.Lr.get(s);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),$.resolve()}getOverlaysForCollection(t,n,s){const l=Xs(),u=n.length+1,f=new pt(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&l.set(g.getKey(),g)}return $.resolve(l)}getOverlaysForCollectionGroup(t,n,s,l){let u=new ue(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Xs(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const p=Xs(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>p.set(y,E))),!(p.size()>=l)););return $.resolve(p)}bt(t,n,s){const l=this.overlays.get(s.key);if(l!==null){const f=this.Lr.get(l.largestBatchId).delete(s.key);this.Lr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new C2(n,s));let u=this.Lr.get(n);u===void 0&&(u=kt(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class hC{constructor(){this.sessionToken=Xe.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,$.resolve()}}class cp{constructor(){this.kr=new ke(je.Kr),this.qr=new ke(je.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const s=new je(t,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Wr(new je(t,n))}Qr(t,n){t.forEach((s=>this.removeReference(s,n)))}Gr(t){const n=new pt(new ee([])),s=new je(n,t),l=new je(n,t+1),u=[];return this.qr.forEachInRange([s,l],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new pt(new ee([])),s=new je(n,t),l=new je(n,t+1);let u=kt();return this.qr.forEachInRange([s,l],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new je(t,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class je{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return pt.comparator(t.key,n.key)||Vt(t.Hr,n.Hr)}static Ur(t,n){return Vt(t.Hr,n.Hr)||pt.comparator(t.key,n.key)}}class fC{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new ke(je.Kr)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,l){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new R2(u,n,s,l);this.mutationQueue.push(f);for(const p of l)this.Jr=this.Jr.add(new je(p.key,u)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return $.resolve(f)}lookupMutationBatch(t,n){return $.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,l=this.Xr(s),u=l<0?0:l;return $.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?tp:this.Yn-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new je(n,0),l=new je(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,l],(f=>{const p=this.Zr(f.Hr);u.push(p)})),$.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new ke(Vt);return n.forEach((l=>{const u=new je(l,0),f=new je(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(p=>{s=s.add(p.Hr)}))})),$.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,l=s.length+1;let u=s;pt.isDocumentKey(u)||(u=u.child(""));const f=new je(new pt(u),0);let p=new ke(Vt);return this.Jr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===l&&(p=p.add(g.Hr)),!0)}),f),$.resolve(this.Yr(p))}Yr(t){const n=[];return t.forEach((s=>{const l=this.Zr(s);l!==null&&n.push(l)})),n}removeMutationBatch(t,n){Yt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return $.forEach(n.mutations,(l=>{const u=new je(l.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=s}))}nr(t){}containsKey(t,n){const s=new je(n,0),l=this.Jr.firstAfterOrEqual(s);return $.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class dC{constructor(t){this.ti=t,this.docs=(function(){return new ue(pt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,l=this.docs.get(s),u=l?l.size:0,f=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return $.resolve(s?s.document.mutableCopy():We.newInvalidDocument(n))}getEntries(t,n){let s=hr();return n.forEach((l=>{const u=this.docs.get(l);s=s.insert(l,u?u.document.mutableCopy():We.newInvalidDocument(l))})),$.resolve(s)}getDocumentsMatchingQuery(t,n,s,l){let u=hr();const f=n.path,p=new pt(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||jR(PR(E),s)<=0||(l.has(E.key)||Lh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return $.resolve(u)}getAllFromCollectionGroup(t,n,s,l){_t(9500)}ni(t,n){return $.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new mC(this)}getSize(t){return $.resolve(this.size)}}class mC extends aC{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?n.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(s)})),$.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}class pC{constructor(t){this.persistence=t,this.ri=new sa((n=>ip(n)),rp),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.ii=0,this.si=new cp,this.targetCount=0,this.oi=yo._r()}forEachTarget(t,n){return this.ri.forEach(((s,l)=>n(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),$.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new yo(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,$.resolve()}updateTargetData(t,n){return this.lr(n),$.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,n,s){let l=0;const u=[];return this.ri.forEach(((f,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),$.waitFor(u).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,n){const s=this.ri.get(n)||null;return $.resolve(s)}addMatchingKeys(t,n,s){return this.si.$r(n,s),$.resolve()}removeMatchingKeys(t,n,s){this.si.Qr(n,s);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((f=>{u.push(l.markPotentiallyOrphaned(t,f))})),$.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),$.resolve()}getMatchingKeysForTargetId(t,n){const s=this.si.jr(n);return $.resolve(s)}containsKey(t,n){return $.resolve(this.si.containsKey(n))}}class JE{constructor(t,n){this._i={},this.overlays={},this.ai=new Oh(0),this.ui=!1,this.ui=!0,this.ci=new hC,this.referenceDelegate=t(this),this.li=new pC(this),this.indexManager=new W2,this.remoteDocumentCache=(function(l){return new dC(l)})((s=>this.referenceDelegate.hi(s))),this.serializer=new J2(n),this.Pi=new uC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new cC,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this._i[t.toKey()];return s||(s=new fC(n,this.referenceDelegate),this._i[t.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,s){at("MemoryPersistence","Starting transaction:",t);const l=new gC(this.ai.next());return this.referenceDelegate.Ti(),s(l).next((u=>this.referenceDelegate.Ii(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ei(t,n){return $.or(Object.values(this._i).map((s=>()=>s.containsKey(t,n))))}}class gC extends BR{constructor(t){super(),this.currentSequenceNumber=t}}class hp{constructor(t){this.persistence=t,this.Ri=new cp,this.Ai=null}static Vi(t){return new hp(t)}get di(){if(this.Ai)return this.Ai;throw _t(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),$.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),$.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),$.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach((l=>this.di.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((l=>{l.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,(s=>{const l=pt.fromPath(s);return this.mi(t,l).next((u=>{u||n.removeEntry(l,bt.min())}))})).next((()=>(this.Ai=null,n.apply(t))))}updateLimboDocument(t,n){return this.mi(t,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(t){return 0}mi(t,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class yh{constructor(t,n){this.persistence=t,this.fi=new sa((s=>FR(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=sC(this,n)}static Vi(t,n){return new yh(t,n)}Ti(){}Ii(t){return $.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((l=>s+l))))}pr(t){let n=0;return this.mr(t,(s=>{n++})).next((()=>n))}mr(t,n){return $.forEach(this.fi,((s,l)=>this.wr(t,s,l).next((u=>u?$.resolve():n(l)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ni(t,(f=>this.wr(t,f,n).next((p=>{p||(s++,u.removeEntry(f,bt.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),$.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),$.resolve()}removeReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),$.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=$c(t.data.value)),n}wr(t,n,s){return $.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.fi.get(n);return $.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class fp{constructor(t,n,s,l){this.targetId=t,this.fromCache=n,this.Ts=s,this.Is=l}static Es(t,n){let s=kt(),l=kt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new fp(t,n.fromCache,s,l)}}class yC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class _C{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return LS()?8:qR(tn())>0?6:4})()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,l){const u={result:null};return this.gs(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(t,n,l,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new yC;return this.ys(t,n,f).next((p=>{if(u.result=p,this.As)return this.ws(t,n,f,p.size)}))})).next((()=>u.result))}ws(t,n,s,l){return s.documentReadCount<this.Vs?(Za()<=Mt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Wa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(Za()<=Mt.DEBUG&&at("QueryEngine","Query:",Wa(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ds*l?(Za()<=Mt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Wa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ni(n))):$.resolve())}gs(t,n){if(o0(n))return $.resolve(null);let s=Ni(n);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=mh(n,null,"F"),s=Ni(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=kt(...u);return this.fs.getDocuments(t,f).next((p=>this.indexManager.getMinOffset(t,s).next((g=>{const y=this.bs(n,p);return this.Ss(n,y,f,g.readTime)?this.gs(t,mh(n,null,"F")):this.Ds(t,y,n,g)}))))})))))}ps(t,n,s,l){return o0(n)||l.isEqual(bt.min())?$.resolve(null):this.fs.getDocuments(t,s).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,s,l)?$.resolve(null):(Za()<=Mt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Wa(n)),this.Ds(t,f,n,UR(l,Kl)).next((p=>p)))}))}bs(t,n){let s=new ke(IE(t));return n.forEach(((l,u)=>{Lh(t,u)&&(s=s.add(u))})),s}Ss(t,n,s,l){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}ys(t,n,s){return Za()<=Mt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Wa(n)),this.fs.getDocumentsMatchingQuery(t,n,os.min(),s)}Ds(t,n,s,l){return this.fs.getDocumentsMatchingQuery(t,s,l).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const dp="LocalStore",vC=3e8;class TC{constructor(t,n,s,l){this.persistence=t,this.Cs=n,this.serializer=l,this.vs=new ue(Vt),this.Fs=new sa((u=>ip(u)),rp),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(s)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new lC(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.vs)))}}function EC(r,t,n,s){return new TC(r,t,n,s)}async function ZE(r,t){const n=St(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next((u=>(l=u,n.Os(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],p=[];let g=kt();for(const y of l){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){p.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ns:y,removedBatchIds:f,addedBatchIds:p})))}))}))}function bC(r,t){const n=St(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,E){const S=y.batch,N=S.keys();let F=$.resolve();return N.forEach((J=>{F=F.next((()=>E.getEntry(g,J))).next((W=>{const Z=y.docVersions.get(J);Yt(Z!==null,48541),W.version.compareTo(Z)<0&&(S.applyToRemoteDocument(W,y),W.isValidDocument()&&(W.setReadTime(y.commitVersion),E.addEntry(W)))}))})),F.next((()=>p.mutationQueue.removeMutationBatch(g,S)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let g=kt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(t)))).next((()=>n.localDocuments.getDocuments(s,l)))}))}function WE(r){const t=St(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.li.getLastRemoteSnapshotVersion(n)))}function AC(r,t){const n=St(r),s=t.snapshotVersion;let l=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});l=n.vs;const p=[];t.targetChanges.forEach(((E,S)=>{const N=l.get(S);if(!N)return;p.push(n.li.removeMatchingKeys(u,E.removedDocuments,S).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,S))));let F=N.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?F=F.withResumeToken(Xe.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):E.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(E.resumeToken,s)),l=l.insert(S,F),(function(W,Z,ct){return W.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=vC?!0:ct.addedDocuments.size+ct.modifiedDocuments.size+ct.removedDocuments.size>0})(N,F,E)&&p.push(n.li.updateTargetData(u,F))}));let g=hr(),y=kt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),p.push(SC(u,f,t.documentUpdates).next((E=>{g=E.Bs,y=E.Ls}))),!s.isEqual(bt.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((S=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));p.push(E)}return $.waitFor(p).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.vs=l,u)))}function SC(r,t,n){let s=kt(),l=kt();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let f=hr();return n.forEach(((p,g)=>{const y=u.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual(bt.min())?(t.removeEntry(p,g.readTime),f=f.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),f=f.insert(p,g)):at(dp,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{Bs:f,Ls:l}}))}function wC(r,t){const n=St(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=tp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function IC(r,t){const n=St(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return n.li.getTargetData(s,t).next((u=>u?(l=u,$.resolve(l)):n.li.allocateTargetId(s).next((f=>(l=new ns(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=n.vs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(t,s.targetId)),s}))}async function km(r,t,n){const s=St(r),l=s.vs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!wo(f))throw f;at(dp,`Failed to update sequence numbers for target ${t}: ${f}`)}s.vs=s.vs.remove(t),s.Fs.delete(l.target)}function T0(r,t,n){const s=St(r);let l=bt.min(),u=kt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,E){const S=St(g),N=S.Fs.get(E);return N!==void 0?$.resolve(S.vs.get(N)):S.li.getTargetData(y,E)})(s,f,Ni(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(f,p.targetId).next((g=>{u=g}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,t,n?l:bt.min(),n?u:kt()))).next((p=>(RC(s,f2(t),p),{documents:p,ks:u})))))}function RC(r,t,n){let s=r.Ms.get(t)||bt.min();n.forEach(((l,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(t,s)}class E0{constructor(){this.activeTargetIds=_2()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class CC{constructor(){this.vo=new E0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,s){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new E0,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class xC{Mo(t){}shutdown(){}}const b0="ConnectivityMonitor";class A0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){at(b0,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){at(b0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Qc=null;function Lm(){return Qc===null?Qc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qc++,"0x"+Qc.toString(16)}const hm="RestConnection",NC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class DC{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${s}/databases/${l}`,this.$o=this.databaseId.database===hh?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Wo(t,n,s,l,u){const f=Lm(),p=this.Qo(t,n.toUriEncodedString());at(hm,`Sending RPC '${t}' ${f}:`,p,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,l,u);const{host:y}=new URL(p),E=Eo(y);return this.zo(t,p,g,s,E).then((S=>(at(hm,`Received RPC '${t}' ${f}: `,S),S)),(S=>{throw ho(hm,`RPC '${t}' ${f} failed with error: `,S,"url: ",p,"request:",s),S}))}jo(t,n,s,l,u,f){return this.Wo(t,n,s,l,u)}Go(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ao})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>t[u]=l)),s&&s.headers.forEach(((l,u)=>t[u]=l))}Qo(t,n){const s=NC[t];let l=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class OC{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Je="WebChannelConnection",Ll=(r,t,n)=>{r.listen(t,(s=>{try{n(s)}catch(l){setTimeout((()=>{throw l}),0)}}))};class so extends DC{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!so.c_){const t=nE();Ll(t,eE.STAT_EVENT,(n=>{n.stat===Sm.PROXY?at(Je,"STAT_EVENT: detected buffering proxy"):n.stat===Sm.NOPROXY&&at(Je,"STAT_EVENT: detected no buffering proxy")})),so.c_=!0}}zo(t,n,s,l,u){const f=Lm();return new Promise(((p,g)=>{const y=new WT;y.setWithCredentials(!0),y.listenOnce(tE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Xc.NO_ERROR:const S=y.getResponseJson();at(Je,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(S)),p(S);break;case Xc.TIMEOUT:at(Je,`RPC '${t}' ${f} timed out`),g(new it(K.DEADLINE_EXCEEDED,"Request time out"));break;case Xc.HTTP_ERROR:const N=y.getStatus();if(at(Je,`RPC '${t}' ${f} failed with status:`,N,"response text:",y.getResponseText()),N>0){let F=y.getResponseJson();Array.isArray(F)&&(F=F[0]);const J=F?.error;if(J&&J.status&&J.message){const W=(function(ct){const gt=ct.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(gt)>=0?gt:K.UNKNOWN})(J.status);g(new it(W,J.message))}else g(new it(K.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new it(K.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{at(Je,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(l);at(Je,`RPC '${t}' ${f} sending request:`,l),y.send(n,"POST",E,s,15)}))}T_(t,n,s){const l=Lm(),u=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const y=u.join("");at(Je,`Creating RPC '${t}' stream ${l}: ${y}`,p);const E=f.createWebChannel(y,p);this.I_(E);let S=!1,N=!1;const F=new OC({Ho:J=>{N?at(Je,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(S||(at(Je,`Opening RPC '${t}' stream ${l} transport.`),E.open(),S=!0),at(Je,`RPC '${t}' stream ${l} sending:`,J),E.send(J))},Jo:()=>E.close()});return Ll(E,Ul.EventType.OPEN,(()=>{N||(at(Je,`RPC '${t}' stream ${l} transport opened.`),F.i_())})),Ll(E,Ul.EventType.CLOSE,(()=>{N||(N=!0,at(Je,`RPC '${t}' stream ${l} transport closed`),F.o_(),this.E_(E))})),Ll(E,Ul.EventType.ERROR,(J=>{N||(N=!0,ho(Je,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),F.o_(new it(K.UNAVAILABLE,"The operation could not be completed")))})),Ll(E,Ul.EventType.MESSAGE,(J=>{if(!N){const W=J.data[0];Yt(!!W,16349);const Z=W,ct=Z?.error||Z[0]?.error;if(ct){at(Je,`RPC '${t}' stream ${l} received error:`,ct);const gt=ct.status;let ht=(function(ft){const I=Ce[ft];if(I!==void 0)return jE(I)})(gt),Bt=ct.message;ht===void 0&&(ht=K.INTERNAL,Bt="Unknown error status: "+gt+" with message "+ct.message),N=!0,F.o_(new it(ht,Bt)),E.close()}else at(Je,`RPC '${t}' stream ${l} received:`,W),F.__(W)}})),so.u_(),setTimeout((()=>{F.s_()}),0),F}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((n=>n===t))}Go(t,n,s){super.Go(t,n,s),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return iE()}}function MC(r){return new so(r)}function fm(){return typeof document<"u"?document:null}function zh(r){return new U2(r,!0)}so.c_=!1;class tb{constructor(t,n,s=1e3,l=1.5,u=6e4){this.Ci=t,this.timerId=n,this.R_=s,this.A_=l,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-s);l>0&&at("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const S0="PersistentStream";class eb{constructor(t,n,s,l,u,f,p,g){this.Ci=t,this.b_=s,this.S_=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new tb(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(ur(n.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===n&&this.G_(s,l)}),(s=>{t((()=>{const l=new it(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,n){const s=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(S0,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget((()=>this.D_===t?n():(at(S0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class VC extends eb{constructor(t,n,s,l,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=z2(this.serializer,t),s=(function(u){if(!("targetChange"in u))return bt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?bt.min():f.readTime?Oi(f.readTime):bt.min()})(t);return this.listener.J_(n,s)}Z_(t){const n={};n.database=Vm(this.serializer),n.addTarget=(function(u,f){let p;const g=f.target;if(p=xm(g)?{documents:H2(u,g)}:{query:F2(u,g).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=qE(u,f.resumeToken);const y=Dm(u,f.expectedCount);y!==null&&(p.expectedCount=y)}else if(f.snapshotVersion.compareTo(bt.min())>0){p.readTime=gh(u,f.snapshotVersion.toTimestamp());const y=Dm(u,f.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const s=Y2(this.serializer,t);s&&(n.labels=s),this.K_(n)}X_(t){const n={};n.database=Vm(this.serializer),n.removeTarget=t,this.K_(n)}}class kC extends eb{constructor(t,n,s,l,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=q2(t.writeResults,t.commitTime),s=Oi(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=Vm(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>B2(this.serializer,s)))};this.K_(n)}}class LC{}class UC extends LC{constructor(t,n,s,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new it(K.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(t,Om(n,s),l,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new it(K.UNKNOWN,u.toString())}))}jo(t,n,s,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.jo(t,Om(n,s),l,f,p,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new it(K.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function PC(r,t,n,s){return new UC(r,t,n,s)}class jC{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ur(n),this.aa=!1):at("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ea="RemoteStore";class zC{constructor(t,n,s,l,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{s.enqueueAndForget((async()=>{aa(this)&&(at(ea,"Restarting streams for network reachability change."),await(async function(g){const y=St(g);y.Ea.add(4),await au(y),y.Va.set("Unknown"),y.Ea.delete(4),await Bh(y)})(this))}))})),this.Va=new jC(s,l)}}async function Bh(r){if(aa(r))for(const t of r.Ra)await t(!0)}async function au(r){for(const t of r.Ra)await t(!1)}function nb(r,t){const n=St(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),yp(n)?gp(n):Ro(n).O_()&&pp(n,t))}function mp(r,t){const n=St(r),s=Ro(n);n.Ia.delete(t),s.O_()&&ib(n,t),n.Ia.size===0&&(s.O_()?s.L_():aa(n)&&n.Va.set("Unknown"))}function pp(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ro(r).Z_(t)}function ib(r,t){r.da.$e(t),Ro(r).X_(t)}function gp(r){r.da=new M2({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),Ro(r).start(),r.Va.ua()}function yp(r){return aa(r)&&!Ro(r).x_()&&r.Ia.size>0}function aa(r){return St(r).Ea.size===0}function rb(r){r.da=void 0}async function BC(r){r.Va.set("Online")}async function qC(r){r.Ia.forEach(((t,n)=>{pp(r,t)}))}async function HC(r,t){rb(r),yp(r)?(r.Va.ha(t),gp(r)):r.Va.set("Unknown")}async function FC(r,t,n){if(r.Va.set("Online"),t instanceof BE&&t.state===2&&t.cause)try{await(async function(l,u){const f=u.cause;for(const p of u.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,f),l.Ia.delete(p),l.da.removeTarget(p))})(r,t)}catch(s){at(ea,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await _h(r,s)}else if(t instanceof Wc?r.da.Xe(t):t instanceof zE?r.da.st(t):r.da.tt(t),!n.isEqual(bt.min()))try{const s=await WE(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const p=u.da.Tt(f);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(g.resumeToken,f))}})),p.targetMismatches.forEach(((g,y)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(Xe.EMPTY_BYTE_STRING,E.snapshotVersion)),ib(u,g);const S=new ns(E.target,g,y,E.sequenceNumber);pp(u,S)})),u.remoteSyncer.applyRemoteEvent(p)})(r,n)}catch(s){at(ea,"Failed to raise snapshot:",s),await _h(r,s)}}async function _h(r,t,n){if(!wo(t))throw t;r.Ea.add(1),await au(r),r.Va.set("Offline"),n||(n=()=>WE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{at(ea,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Bh(r)}))}function sb(r,t){return t().catch((n=>_h(r,n,t)))}async function qh(r){const t=St(r),n=hs(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:tp;for(;GC(t);)try{const l=await wC(t.localStore,s);if(l===null){t.Ta.length===0&&n.L_();break}s=l.batchId,YC(t,l)}catch(l){await _h(t,l)}ab(t)&&ob(t)}function GC(r){return aa(r)&&r.Ta.length<10}function YC(r,t){r.Ta.push(t);const n=hs(r);n.O_()&&n.Y_&&n.ea(t.mutations)}function ab(r){return aa(r)&&!hs(r).x_()&&r.Ta.length>0}function ob(r){hs(r).start()}async function QC(r){hs(r).ra()}async function KC(r){const t=hs(r);for(const n of r.Ta)t.ea(n.mutations)}async function XC(r,t,n){const s=r.Ta.shift(),l=op.from(s,t,n);await sb(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await qh(r)}async function $C(r,t){t&&hs(r).Y_&&await(async function(s,l){if((function(f){return N2(f)&&f!==K.ABORTED})(l.code)){const u=s.Ta.shift();hs(s).B_(),await sb(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,l))),await qh(s)}})(r,t),ab(r)&&ob(r)}async function w0(r,t){const n=St(r);n.asyncQueue.verifyOperationInProgress(),at(ea,"RemoteStore received new credentials");const s=aa(n);n.Ea.add(3),await au(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Bh(n)}async function JC(r,t){const n=St(r);t?(n.Ea.delete(2),await Bh(n)):t||(n.Ea.add(2),await au(n),n.Va.set("Unknown"))}function Ro(r){return r.ma||(r.ma=(function(n,s,l){const u=St(n);return u.sa(),new VC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Zo:BC.bind(null,r),Yo:qC.bind(null,r),t_:HC.bind(null,r),J_:FC.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),yp(r)?gp(r):r.Va.set("Unknown")):(await r.ma.stop(),rb(r))}))),r.ma}function hs(r){return r.fa||(r.fa=(function(n,s,l){const u=St(n);return u.sa(),new kC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:QC.bind(null,r),t_:$C.bind(null,r),ta:KC.bind(null,r),na:XC.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await qh(r)):(await r.fa.stop(),r.Ta.length>0&&(at(ea,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class _p{constructor(t,n,s,l,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=u,this.deferred=new ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,l,u){const f=Date.now()+s,p=new _p(t,n,f,l,u);return p.start(s),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(K.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vp(r,t){if(ur("AsyncQueue",`${t}: ${r}`),wo(r))return new it(K.UNAVAILABLE,`${t}: ${r}`);throw r}class ao{static emptySet(t){return new ao(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||pt.comparator(n.key,s.key):(n,s)=>pt.comparator(n.key,s.key),this.keyedMap=Pl(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ao)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new ao;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class I0{constructor(){this.ga=new ue(pt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):_t(63341,{Vt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class _o{constructor(t,n,s,l,u,f,p,g,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,l,u){const f=[];return n.forEach((p=>{f.push({type:0,doc:p})})),new _o(t,n,ao.emptySet(n),f,s,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&kh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}class ZC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class WC{constructor(){this.queries=R0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const l=St(n),u=l.queries;l.queries=R0(),u.forEach(((f,p)=>{for(const g of p.ba)g.onError(s)}))})(this,new it(K.ABORTED,"Firestore shutting down"))}}function R0(){return new sa((r=>wE(r)),kh)}async function lb(r,t){const n=St(r);let s=3;const l=t.query;let u=n.queries.get(l);u?!u.Sa()&&t.Da()&&(s=2):(u=new ZC,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const p=vp(f,`Initialization of query '${Wa(t.query)}' failed`);return void t.onError(p)}n.queries.set(l,u),u.ba.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&Tp(n)}async function ub(r,t){const n=St(r),s=t.query;let l=3;const u=n.queries.get(s);if(u){const f=u.ba.indexOf(t);f>=0&&(u.ba.splice(f,1),u.ba.length===0?l=t.Da()?0:1:!u.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function tx(r,t){const n=St(r);let s=!1;for(const l of t){const u=l.query,f=n.queries.get(u);if(f){for(const p of f.ba)p.Fa(l)&&(s=!0);f.wa=l}}s&&Tp(n)}function ex(r,t,n){const s=St(r),l=s.queries.get(t);if(l)for(const u of l.ba)u.onError(n);s.queries.delete(t)}function Tp(r){r.Ca.forEach((t=>{t.next()}))}var Um,C0;(C0=Um||(Um={})).Ma="default",C0.Cache="cache";class cb{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new _o(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=_o.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Um.Cache}}class hb{constructor(t){this.key=t}}class fb{constructor(t){this.key=t}}class nx{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=kt(),this.mutatedKeys=kt(),this.eu=IE(t),this.tu=new ao(this.eu)}get nu(){return this.Za}ru(t,n){const s=n?n.iu:new I0,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((E,S)=>{const N=l.get(E),F=Lh(this.query,S)?S:null,J=!!N&&this.mutatedKeys.has(N.key),W=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let Z=!1;N&&F?N.data.isEqual(F.data)?J!==W&&(s.track({type:3,doc:F}),Z=!0):this.su(N,F)||(s.track({type:2,doc:F}),Z=!0,(g&&this.eu(F,g)>0||y&&this.eu(F,y)<0)&&(p=!0)):!N&&F?(s.track({type:0,doc:F}),Z=!0):N&&!F&&(s.track({type:1,doc:N}),Z=!0,(g||y)&&(p=!0)),Z&&(F?(f=f.add(F),u=W?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Ss:p,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,l){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((E,S)=>(function(F,J){const W=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Vt:Z})}};return W(F)-W(J)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(s),l=l??!1;const p=n&&!l?this._u():[],g=this.Ya.size===0&&this.current&&!l?1:0,y=g!==this.Xa;return this.Xa=g,f.length!==0||y?{snapshot:new _o(this.query,t.tu,u,f,t.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new I0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=kt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return t.forEach((s=>{this.Ya.has(s)||n.push(new fb(s))})),this.Ya.forEach((s=>{t.has(s)||n.push(new hb(s))})),n}cu(t){this.Za=t.ks,this.Ya=kt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return _o.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Ep="SyncEngine";class ix{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class rx{constructor(t){this.key=t,this.hu=!1}}class sx{constructor(t,n,s,l,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new sa((p=>wE(p)),kh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ue(pt.comparator),this.Au=new Map,this.Vu=new cp,this.du={},this.mu=new Map,this.fu=yo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ax(r,t,n=!0){const s=_b(r);let l;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await db(s,t,n,!0),l}async function ox(r,t){const n=_b(r);await db(n,t,!0,!1)}async function db(r,t,n,s){const l=await IC(r.localStore,Ni(t)),u=l.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await lx(r,t,u,f==="current",l.resumeToken)),r.isPrimaryClient&&n&&nb(r.remoteStore,l),p}async function lx(r,t,n,s,l){r.pu=(S,N,F)=>(async function(W,Z,ct,gt){let ht=Z.view.ru(ct);ht.Ss&&(ht=await T0(W.localStore,Z.query,!1).then((({documents:I})=>Z.view.ru(I,ht))));const Bt=gt&&gt.targetChanges.get(Z.targetId),rt=gt&&gt.targetMismatches.get(Z.targetId)!=null,ft=Z.view.applyChanges(ht,W.isPrimaryClient,Bt,rt);return N0(W,Z.targetId,ft.au),ft.snapshot})(r,S,N,F);const u=await T0(r.localStore,t,!0),f=new nx(t,u.ks),p=f.ru(u.documents),g=su.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),y=f.applyChanges(p,r.isPrimaryClient,g);N0(r,n,y.au);const E=new ix(t,n,f);return r.Tu.set(t,E),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),y.snapshot}async function ux(r,t,n){const s=St(r),l=s.Tu.get(t),u=s.Iu.get(l.targetId);if(u.length>1)return s.Iu.set(l.targetId,u.filter((f=>!kh(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await km(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),n&&mp(s.remoteStore,l.targetId),Pm(s,l.targetId)})).catch(So)):(Pm(s,l.targetId),await km(s.localStore,l.targetId,!0))}async function cx(r,t){const n=St(r),s=n.Tu.get(t),l=n.Iu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),mp(n.remoteStore,s.targetId))}async function hx(r,t,n){const s=_x(r);try{const l=await(function(f,p){const g=St(f),y=re.now(),E=p.reduce(((F,J)=>F.add(J.key)),kt());let S,N;return g.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let J=hr(),W=kt();return g.xs.getEntries(F,E).next((Z=>{J=Z,J.forEach(((ct,gt)=>{gt.isValidDocument()||(W=W.add(ct))}))})).next((()=>g.localDocuments.getOverlayedDocuments(F,J))).next((Z=>{S=Z;const ct=[];for(const gt of p){const ht=w2(gt,S.get(gt.key).overlayedDocument);ht!=null&&ct.push(new ms(gt.key,ht,yE(ht.value.mapValue),Di.exists(!0)))}return g.mutationQueue.addMutationBatch(F,y,ct,p)})).next((Z=>{N=Z;const ct=Z.applyToLocalDocumentSet(S,W);return g.documentOverlayCache.saveOverlays(F,Z.batchId,ct)}))})).then((()=>({batchId:N.batchId,changes:CE(S)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(f,p,g){let y=f.du[f.currentUser.toKey()];y||(y=new ue(Vt)),y=y.insert(p,g),f.du[f.currentUser.toKey()]=y})(s,l.batchId,n),await ou(s,l.changes),await qh(s.remoteStore)}catch(l){const u=vp(l,"Failed to persist write");n.reject(u)}}async function mb(r,t){const n=St(r);try{const s=await AC(n.localStore,t);t.targetChanges.forEach(((l,u)=>{const f=n.Au.get(u);f&&(Yt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.hu=!0:l.modifiedDocuments.size>0?Yt(f.hu,14607):l.removedDocuments.size>0&&(Yt(f.hu,42227),f.hu=!1))})),await ou(n,s,t)}catch(s){await So(s)}}function x0(r,t,n){const s=St(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.Tu.forEach(((u,f)=>{const p=f.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(f,p){const g=St(f);g.onlineState=p;let y=!1;g.queries.forEach(((E,S)=>{for(const N of S.ba)N.va(p)&&(y=!0)})),y&&Tp(g)})(s.eventManager,t),l.length&&s.Pu.J_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function fx(r,t,n){const s=St(r);s.sharedClientState.updateQueryState(t,"rejected",n);const l=s.Au.get(t),u=l&&l.key;if(u){let f=new ue(pt.comparator);f=f.insert(u,We.newNoDocument(u,bt.min()));const p=kt().add(u),g=new jh(bt.min(),new Map,new ue(Vt),f,p);await mb(s,g),s.Ru=s.Ru.remove(u),s.Au.delete(t),bp(s)}else await km(s.localStore,t,!1).then((()=>Pm(s,t,n))).catch(So)}async function dx(r,t){const n=St(r),s=t.batch.batchId;try{const l=await bC(n.localStore,t);gb(n,s,null),pb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await ou(n,l)}catch(l){await So(l)}}async function mx(r,t,n){const s=St(r);try{const l=await(function(f,p){const g=St(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return g.mutationQueue.lookupMutationBatch(y,p).next((S=>(Yt(S!==null,37113),E=S.keys(),g.mutationQueue.removeMutationBatch(y,S)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>g.localDocuments.getDocuments(y,E)))}))})(s.localStore,t);gb(s,t,n),pb(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await ou(s,l)}catch(l){await So(l)}}function pb(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function gb(r,t,n){const s=St(r);let l=s.du[s.currentUser.toKey()];if(l){const u=l.get(t);u&&(n?u.reject(n):u.resolve(),l=l.remove(t)),s.du[s.currentUser.toKey()]=l}}function Pm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((s=>{r.Vu.containsKey(s)||yb(r,s)}))}function yb(r,t){r.Eu.delete(t.path.canonicalString());const n=r.Ru.get(t);n!==null&&(mp(r.remoteStore,n),r.Ru=r.Ru.remove(t),r.Au.delete(n),bp(r))}function N0(r,t,n){for(const s of n)s instanceof hb?(r.Vu.addReference(s.key,t),px(r,s)):s instanceof fb?(at(Ep,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,t),r.Vu.containsKey(s.key)||yb(r,s.key)):_t(19791,{wu:s})}function px(r,t){const n=t.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(at(Ep,"New document in limbo: "+n),r.Eu.add(s),bp(r))}function bp(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new pt(ee.fromString(t)),s=r.fu.next();r.Au.set(s,new rx(n)),r.Ru=r.Ru.insert(n,s),nb(r.remoteStore,new ns(Ni(sp(n.path)),s,"TargetPurposeLimboResolution",Oh.ce))}}async function ou(r,t,n){const s=St(r),l=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,g)=>{f.push(s.pu(g,t,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){l.push(y);const E=fp.Es(g.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.J_(l),await(async function(g,y){const E=St(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>$.forEach(y,(N=>$.forEach(N.Ts,(F=>E.persistence.referenceDelegate.addReference(S,N.targetId,F))).next((()=>$.forEach(N.Is,(F=>E.persistence.referenceDelegate.removeReference(S,N.targetId,F)))))))))}catch(S){if(!wo(S))throw S;at(dp,"Failed to update sequence numbers: "+S)}for(const S of y){const N=S.targetId;if(!S.fromCache){const F=E.vs.get(N),J=F.snapshotVersion,W=F.withLastLimboFreeSnapshotVersion(J);E.vs=E.vs.insert(N,W)}}})(s.localStore,u))}async function gx(r,t){const n=St(r);if(!n.currentUser.isEqual(t)){at(Ep,"User change. New user:",t.toKey());const s=await ZE(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new it(K.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await ou(n,s.Ns)}}function yx(r,t){const n=St(r),s=n.Au.get(t);if(s&&s.hu)return kt().add(s.key);{let l=kt();const u=n.Iu.get(t);if(!u)return l;for(const f of u){const p=n.Tu.get(f);l=l.unionWith(p.view.nu)}return l}}function _b(r){const t=St(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=mb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=yx.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=fx.bind(null,t),t.Pu.J_=tx.bind(null,t.eventManager),t.Pu.yu=ex.bind(null,t.eventManager),t}function _x(r){const t=St(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=dx.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=mx.bind(null,t),t}class vh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=zh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return EC(this.persistence,new _C,t.initialUser,this.serializer)}Cu(t){return new JE(hp.Vi,this.serializer)}Du(t){return new CC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vh.provider={build:()=>new vh};class vx extends vh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Yt(this.persistence.referenceDelegate instanceof yh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new iC(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new JE((s=>yh.Vi(s,n)),this.serializer)}}class jm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>x0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=gx.bind(null,this.syncEngine),await JC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new WC})()}createDatastore(t){const n=zh(t.databaseInfo.databaseId),s=MC(t.databaseInfo);return PC(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,l,u,f,p){return new zC(s,l,u,f,p)})(this.localStore,this.datastore,t.asyncQueue,(n=>x0(this.syncEngine,n,0)),(function(){return A0.v()?new A0:new xC})())}createSyncEngine(t,n){return(function(l,u,f,p,g,y,E){const S=new sx(l,u,f,p,g,y);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=St(n);at(ea,"RemoteStore shutting down."),s.Ea.add(5),await au(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}jm.provider={build:()=>new jm};class vb{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ur("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const fs="FirestoreClient";class Tx{constructor(t,n,s,l,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=l,this.user=Ze.UNAUTHENTICATED,this.clientId=Wm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{at(fs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(at(fs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=vp(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function dm(r,t){r.asyncQueue.verifyOperationInProgress(),at(fs,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await ZE(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function D0(r,t){r.asyncQueue.verifyOperationInProgress();const n=await Ex(r);at(fs,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>w0(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>w0(t.remoteStore,l))),r._onlineComponents=t}async function Ex(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){at(fs,"Using user provided OfflineComponentProvider");try{await dm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(l){return l.name==="FirebaseError"?l.code===K.FAILED_PRECONDITION||l.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;ho("Error using user provided cache. Falling back to memory cache: "+n),await dm(r,new vh)}}else at(fs,"Using default OfflineComponentProvider"),await dm(r,new vx(void 0));return r._offlineComponents}async function Tb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(at(fs,"Using user provided OnlineComponentProvider"),await D0(r,r._uninitializedComponentsProvider._online)):(at(fs,"Using default OnlineComponentProvider"),await D0(r,new jm))),r._onlineComponents}function bx(r){return Tb(r).then((t=>t.syncEngine))}async function Eb(r){const t=await Tb(r),n=t.eventManager;return n.onListen=ax.bind(null,t.syncEngine),n.onUnlisten=ux.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=ox.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=cx.bind(null,t.syncEngine),n}function Ax(r,t,n={}){const s=new ar;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,p,g,y){const E=new vb({next:N=>{E.Nu(),f.enqueueAndForget((()=>ub(u,S)));const F=N.docs.has(p);!F&&N.fromCache?y.reject(new it(K.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&N.fromCache&&g&&g.source==="server"?y.reject(new it(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(N)},error:N=>y.reject(N)}),S=new cb(sp(p.path),E,{includeMetadataChanges:!0,Ka:!0});return lb(u,S)})(await Eb(r),r.asyncQueue,t,n,s))),s.promise}function Sx(r,t,n={}){const s=new ar;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,p,g,y){const E=new vb({next:N=>{E.Nu(),f.enqueueAndForget((()=>ub(u,S))),N.fromCache&&g.source==="server"?y.reject(new it(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(N)},error:N=>y.reject(N)}),S=new cb(p,E,{includeMetadataChanges:!0,Ka:!0});return lb(u,S)})(await Eb(r),r.asyncQueue,t,n,s))),s.promise}function wx(r,t){const n=new ar;return r.asyncQueue.enqueueAndForget((async()=>hx(await bx(r),t,n))),n.promise}function bb(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const Ix="ComponentProvider",O0=new Map;function Rx(r,t,n,s,l){return new QR(r,t,n,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,bb(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,s)}const Ab="firestore.googleapis.com",M0=!0;class V0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new it(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ab,this.ssl=M0}else this.host=t.host,this.ssl=t.ssl??M0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=$E;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<eC)throw new it(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}LR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bb(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new it(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new it(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new it(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Hh{constructor(t,n,s,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new V0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new it(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new V0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new IR;switch(s.type){case"firstParty":return new NR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new it(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=O0.get(n);s&&(at(Ix,"Removing Datastore"),O0.delete(n),s.terminate())})(this),Promise.resolve()}}function Cx(r,t,n,s={}){r=cr(r,Hh);const l=Eo(t),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${n}`;l&&(TT(`https://${p}`),ET("Firestore",!0)),u.host!==Ab&&u.host!==p&&ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:l,emulatorOptions:s};if(!or(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Ze.MOCK_USER;else{y=CS(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new it(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Ze(S)}r._authCredentials=new RR(new sE(y,E))}}class ps{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new ps(this.firestore,t,this._query)}}class _e{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new as(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new _e(this.firestore,t,this._key)}toJSON(){return{type:_e._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(iu(n,_e._jsonSchema))return new _e(t,s||null,new pt(ee.fromString(n.referencePath)))}}_e._jsonSchemaVersion="firestore/documentReference/1.0",_e._jsonSchema={type:Ne("string",_e._jsonSchemaVersion),referencePath:Ne("string")};class as extends ps{constructor(t,n,s){super(t,n,sp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new _e(this.firestore,null,new pt(t))}withConverter(t){return new as(this.firestore,t,this._path)}}function xx(r,t,...n){if(r=ze(r),aE("collection","path",t),r instanceof Hh){const s=ee.fromString(t,...n);return Qv(s),new as(r,null,s)}{if(!(r instanceof _e||r instanceof as))throw new it(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(t,...n));return Qv(s),new as(r.firestore,null,s)}}function Ap(r,t,...n){if(r=ze(r),arguments.length===1&&(t=Wm.newId()),aE("doc","path",t),r instanceof Hh){const s=ee.fromString(t,...n);return Yv(s),new _e(r,null,new pt(s))}{if(!(r instanceof _e||r instanceof as))throw new it(K.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(t,...n));return Yv(s),new _e(r.firestore,r instanceof as?r.converter:null,new pt(s))}}const k0="AsyncQueue";class L0{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new tb(this,"async_queue_retry"),this._c=()=>{const s=fm();s&&at(k0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=fm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=fm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ar;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!wo(t))throw t;at(k0,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,ur("INTERNAL UNHANDLED ERROR: ",U0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=_p.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&_t(47125,{Pc:U0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function U0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class lu extends Hh{constructor(t,n,s,l){super(t,n,s,l),this.type="firestore",this._queue=new L0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new L0(t),this._firestoreClient=void 0,await t}}}function Nx(r,t){const n=typeof r=="object"?r:Gm(),s=typeof r=="string"?r:hh,l=ra(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const u=IS("firestore");u&&Cx(l,...u)}return l}function Sp(r){if(r._terminated)throw new it(K.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Dx(r),r._firestoreClient}function Dx(r){const t=r._freezeSettings(),n=Rx(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new Tx(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(r._componentsProvider))}class jn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new jn(Xe.fromBase64String(t))}catch(n){throw new it(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new jn(Xe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(iu(t,jn._jsonSchema))return jn.fromBase64String(t.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:Ne("string",jn._jsonSchemaVersion),bytes:Ne("string")};class wp{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new it(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ke(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class uu{constructor(t){this._methodName=t}}class Mi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new it(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new it(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mi._jsonSchemaVersion}}static fromJSON(t){if(iu(t,Mi._jsonSchema))return new Mi(t.latitude,t.longitude)}}Mi._jsonSchemaVersion="firestore/geoPoint/1.0",Mi._jsonSchema={type:Ne("string",Mi._jsonSchemaVersion),latitude:Ne("number"),longitude:Ne("number")};class ei{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==l[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(iu(t,ei._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new ei(t.vectorValues);throw new it(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ei._jsonSchemaVersion="firestore/vectorValue/1.0",ei._jsonSchema={type:Ne("string",ei._jsonSchemaVersion),vectorValues:Ne("object")};const Ox=/^__.*__$/;class Mx{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new ms(t,this.data,this.fieldMask,n,this.fieldTransforms):new ru(t,this.data,n,this.fieldTransforms)}}class Sb{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new ms(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function wb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{dataSource:r})}}class Fh{constructor(t,n,s,l,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Fh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const n=this.path?.child(t),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(t),s}childContextForFieldPath(t){const n=this.path?.child(t),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Th(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(wb(this.dataSource)&&Ox.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class Vx{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||zh(t)}createContext(t,n,s,l=!1){return new Fh({dataSource:t,methodName:n,targetDoc:s,path:Ke.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ip(r){const t=r._freezeSettings(),n=zh(r._databaseId);return new Vx(r._databaseId,!!t.ignoreUndefinedProperties,n)}function kx(r,t,n,s,l,u={}){const f=r.createContext(u.merge||u.mergeFields?2:0,t,n,l);xp("Data must be an object, but it was:",f,s);const p=Ib(s,f);let g,y;if(u.merge)g=new Sn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const N=vo(t,S,n);if(!f.contains(N))throw new it(K.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);xb(E,N)||E.push(N)}g=new Sn(E),y=f.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,y=f.fieldTransforms;return new Mx(new mn(p),g,y)}class Gh extends uu{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Gh}}function Lx(r,t,n){return new Fh({dataSource:3,targetDoc:t.settings.targetDoc,methodName:r._methodName,arrayElement:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Rp extends uu{_toFieldTransform(t){return new kE(t.path,new Wl)}isEqual(t){return t instanceof Rp}}class Cp extends uu{constructor(t,n){super(t),this.Ac=n}_toFieldTransform(t){const n=Lx(this,t,!0),s=this.Ac.map((u=>Co(u,n))),l=new go(s);return new kE(t.path,l)}isEqual(t){return t instanceof Cp&&or(this.Ac,t.Ac)}}function Ux(r,t,n,s){const l=r.createContext(1,t,n);xp("Data must be an object, but it was:",l,s);const u=[],f=mn.empty();ds(s,((g,y)=>{const E=Cb(t,g,n);y=ze(y);const S=l.childContextForFieldPath(E);if(y instanceof Gh)u.push(E);else{const N=Co(y,S);N!=null&&(u.push(E),f.set(E,N))}}));const p=new Sn(u);return new Sb(f,p,l.fieldTransforms)}function Px(r,t,n,s,l,u){const f=r.createContext(1,t,n),p=[vo(t,s,n)],g=[l];if(u.length%2!=0)throw new it(K.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<u.length;N+=2)p.push(vo(t,u[N])),g.push(u[N+1]);const y=[],E=mn.empty();for(let N=p.length-1;N>=0;--N)if(!xb(y,p[N])){const F=p[N];let J=g[N];J=ze(J);const W=f.childContextForFieldPath(F);if(J instanceof Gh)y.push(F);else{const Z=Co(J,W);Z!=null&&(y.push(F),E.set(F,Z))}}const S=new Sn(y);return new Sb(E,S,f.fieldTransforms)}function jx(r,t,n,s=!1){return Co(n,r.createContext(s?4:3,t))}function Co(r,t){if(Rb(r=ze(r)))return xp("Unsupported field value:",t,r),Ib(r,t);if(r instanceof uu)return(function(s,l){if(!wb(l.dataSource))throw l.createError(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(s,l){const u=[];let f=0;for(const p of s){let g=Co(p,l.childContextForArray(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,t)}return(function(s,l){if((s=ze(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return v2(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=re.fromDate(s);return{timestampValue:gh(l.serializer,u)}}if(s instanceof re){const u=new re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:gh(l.serializer,u)}}if(s instanceof Mi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof jn)return{bytesValue:qE(l.serializer,s._byteString)};if(s instanceof _e){const u=l.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw l.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:up(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof ei)return(function(f,p){const g=f instanceof ei?f.toArray():f;return{mapValue:{fields:{[pE]:{stringValue:gE},[fh]:{arrayValue:{values:g.map((E=>{if(typeof E!="number")throw p.createError("VectorValues must only contain numeric values.");return ap(p.serializer,E)}))}}}}}})(s,l);if(XE(s))return s._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Dh(s)}`)})(r,t)}function Ib(r,t){const n={};return uE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ds(r,((s,l)=>{const u=Co(l,t.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function Rb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof re||r instanceof Mi||r instanceof jn||r instanceof _e||r instanceof uu||r instanceof ei||XE(r))}function xp(r,t,n){if(!Rb(n)||!oE(n)){const s=Dh(n);throw s==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+s)}}function vo(r,t,n){if((t=ze(t))instanceof wp)return t._internalPath;if(typeof t=="string")return Cb(r,t);throw Th("Field path arguments must be of type string or ",r,!1,void 0,n)}const zx=new RegExp("[~\\*/\\[\\]]");function Cb(r,t,n){if(t.search(zx)>=0)throw Th(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new wp(...t.split("."))._internalPath}catch{throw Th(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Th(r,t,n,s,l){const u=s&&!s.isEmpty(),f=l!==void 0;let p=`Function ${t}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${l}`),g+=")"),new it(K.INVALID_ARGUMENT,p+r+g)}function xb(r,t){return r.some((n=>n.isEqual(t)))}class Bx{convertValue(t,n="none"){switch(cs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(us(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return ds(t,((l,u)=>{s[l]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[fh].arrayValue?.values?.map((s=>ye(s.doubleValue)));return new ei(n)}convertGeoPoint(t){return new Mi(ye(t.latitude),ye(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Vh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Xl(t));default:return null}}convertTimestamp(t){const n=ls(t);return new re(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ee.fromString(t);Yt(KE(s),9688,{name:t});const l=new $l(s.get(1),s.get(3)),u=new pt(s.popFirst(5));return l.isEqual(n)||ur(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class Nb extends Bx{constructor(t){super(),this.firestore=t}convertBytes(t){return new jn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new _e(this.firestore,null,n)}}function qx(){return new Rp("serverTimestamp")}function Hx(...r){return new Cp("arrayUnion",r)}const P0="@firebase/firestore",j0="4.10.0";class Db{constructor(t,n,s,l,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new _e(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Fx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const n=this._document.data.field(vo("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Fx extends Db{data(){return super.data()}}function Gx(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new it(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Np{}class Dp extends Np{}function Yx(r,t,...n){let s=[];t instanceof Np&&s.push(t),s=s.concat(n),(function(u){const f=u.filter((g=>g instanceof Mp)).length,p=u.filter((g=>g instanceof Op)).length;if(f>1||f>0&&p>0)throw new it(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class Op extends Dp{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Op(t,n,s)}_apply(t){const n=this._parse(t);return Ob(t._query,n),new ps(t.firestore,t.converter,Nm(t._query,n))}_parse(t){const n=Ip(t.firestore);return(function(u,f,p,g,y,E,S){let N;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new it(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){B0(S,E);const J=[];for(const W of S)J.push(z0(g,u,W));N={arrayValue:{values:J}}}else N=z0(g,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||B0(S,E),N=jx(p,f,S,E==="in"||E==="not-in");return xe.create(y,E,N)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class Mp extends Np{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Mp(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ii.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(l,u){let f=l;const p=u.getFlattenedFilters();for(const g of p)Ob(f,g),f=Nm(f,g)})(t._query,n),new ps(t.firestore,t.converter,Nm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Vp extends Dp{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Vp(t,n)}_apply(t){const n=(function(l,u,f){if(l.startAt!==null)throw new it(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new it(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zl(u,f)})(t._query,this._field,this._direction);return new ps(t.firestore,t.converter,h2(t._query,n))}}function Qx(r,t="asc"){const n=t,s=vo("orderBy",r);return Vp._create(s,n)}class kp extends Dp{constructor(t,n,s){super(),this.type=t,this._limit=n,this._limitType=s}static _create(t,n,s){return new kp(t,n,s)}_apply(t){return new ps(t.firestore,t.converter,mh(t._query,this._limit,this._limitType))}}function Kx(r){return kp._create("limit",r,"F")}function z0(r,t,n){if(typeof(n=ze(n))=="string"){if(n==="")throw new it(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!SE(t)&&n.indexOf("/")!==-1)throw new it(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ee.fromString(n));if(!pt.isDocumentKey(s))throw new it(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return e0(r,new pt(s))}if(n instanceof _e)return e0(r,n._key);throw new it(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dh(n)}.`)}function B0(r,t){if(!Array.isArray(r)||r.length===0)throw new it(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Ob(r,t){const n=(function(l,u){for(const f of l)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new it(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new it(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function Xx(r,t,n){let s;return s=r?r.toFirestore(t):t,s}class zl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class $s extends Db{constructor(t,n,s,l,u,f){super(t,n,s,l,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(vo("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new it(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=$s._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}$s._jsonSchemaVersion="firestore/documentSnapshot/1.0",$s._jsonSchema={type:Ne("string",$s._jsonSchemaVersion),bundleSource:Ne("string","DocumentSnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class th extends $s{data(t={}){return super.data(t)}}class oo{constructor(t,n,s,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new zl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new th(this._firestore,this._userDataWriter,s.key,s,new zl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new it(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map((p=>{const g=new th(l._firestore,l._userDataWriter,p.doc.key,p.doc,new zl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new th(l._firestore,l._userDataWriter,p.doc.key,p.doc,new zl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,E=-1;return p.type!==0&&(y=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),E=f.indexOf(p.doc.key)),{type:$x(p.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new it(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=oo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Wm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function $x(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:r})}}oo._jsonSchemaVersion="firestore/querySnapshot/1.0",oo._jsonSchema={type:Ne("string",oo._jsonSchemaVersion),bundleSource:Ne("string","QuerySnapshot"),bundleName:Ne("string"),bundle:Ne("string")};function Lp(r){r=cr(r,_e);const t=cr(r.firestore,lu),n=Sp(t);return Ax(n,r._key).then((s=>tN(t,r,s)))}function Jx(r){r=cr(r,ps);const t=cr(r.firestore,lu),n=Sp(t),s=new Nb(t);return Gx(r._query),Sx(n,r._query).then((l=>new oo(t,s,r,l)))}function Zx(r,t,n){r=cr(r,_e);const s=cr(r.firestore,lu),l=Xx(r.converter,t),u=Ip(s);return Mb(s,[kx(u,"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,Di.none())])}function Wx(r,t,n,...s){r=cr(r,_e);const l=cr(r.firestore,lu),u=Ip(l);let f;return f=typeof(t=ze(t))=="string"||t instanceof wp?Px(u,"updateDoc",r._key,t,n,s):Ux(u,"updateDoc",r._key,t),Mb(l,[f.toMutation(r._key,Di.exists(!0))])}function Mb(r,t){const n=Sp(r);return wx(n,t)}function tN(r,t,n){const s=n.docs.get(t._key),l=new Nb(r);return new $s(r,l,t._key,s,new zl(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){wR(bo),Li(new ni("firestore",((s,{instanceIdentifier:l,options:u})=>{const f=s.getProvider("app").getImmediate(),p=new lu(new CR(s.getProvider("auth-internal")),new DR(f,s.getProvider("app-check-internal")),KR(f,l),f);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),zn(P0,j0,t),zn(P0,j0,"esm2020")})();function Vb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eN=Vb,kb=new ia("auth","Firebase",Vb());const Eh=new Ch("@firebase/auth");function nN(r,...t){Eh.logLevel<=Mt.WARN&&Eh.warn(`Auth (${bo}): ${r}`,...t)}function eh(r,...t){Eh.logLevel<=Mt.ERROR&&Eh.error(`Auth (${bo}): ${r}`,...t)}function fr(r,...t){throw Up(r,...t)}function Vi(r,...t){return Up(r,...t)}function Lb(r,t,n){const s={...eN(),[t]:n};return new ia("auth","Firebase",s).create(t,{appName:r.name})}function Js(r){return Lb(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Up(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return kb.create(r,...t)}function Tt(r,t,...n){if(!r)throw Up(t,...n)}function rr(r){const t="INTERNAL ASSERTION FAILED: "+r;throw eh(t),new Error(t)}function dr(r,t){r||rr(t)}function zm(){return typeof self<"u"&&self.location?.href||""}function iN(){return q0()==="http:"||q0()==="https:"}function q0(){return typeof self<"u"&&self.location?.protocol||null}function rN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iN()||bT()||"connection"in navigator)?navigator.onLine:!0}function sN(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class cu{constructor(t,n){this.shortDelay=t,this.longDelay=n,dr(n>t,"Short delay should be less than long delay!"),this.isMobile=DS()||VS()}get(){return rN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Pp(r,t){dr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Ub{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const aN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const oN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],lN=new cu(3e4,6e4);function jp(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function xo(r,t,n,s,l={}){return Pb(r,l,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const p=nu({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:g,...u};return MS()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Eo(r.emulatorConfig.host)&&(y.credentials="include"),Ub.fetch()(await jb(r,r.config.apiHost,n,p),y)})}async function Pb(r,t,n){r._canInitEmulator=!1;const s={...aN,...t};try{const l=new cN(r),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Kc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kc(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Kc(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Kc(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Lb(r,E,y);fr(r,E)}}catch(l){if(l instanceof ri)throw l;fr(r,"network-request-failed",{message:String(l)})}}async function uN(r,t,n,s,l={}){const u=await xo(r,t,n,s,l);return"mfaPendingCredential"in u&&fr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function jb(r,t,n,s){const l=`${t}${n}?${s}`,u=r,f=u.config.emulator?Pp(r.config,l):`${r.config.apiScheme}://${l}`;return oN.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class cN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Vi(this.auth,"network-request-failed")),lN.get())})}}function Kc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=Vi(r,t,s);return l.customData._tokenResponse=n,l}async function hN(r,t){return xo(r,"POST","/v1/accounts:delete",t)}async function bh(r,t){return xo(r,"POST","/v1/accounts:lookup",t)}function Yl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function fN(r,t=!1){const n=ze(r),s=await n.getIdToken(t),l=zp(s);Tt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,f=u?.sign_in_provider;return{claims:l,token:s,authTime:Yl(mm(l.auth_time)),issuedAtTime:Yl(mm(l.iat)),expirationTime:Yl(mm(l.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function mm(r){return Number(r)*1e3}function zp(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return eh("JWT malformed, contained fewer than 3 sections"),null;try{const l=gT(n);return l?JSON.parse(l):(eh("Failed to decode base64 JWT payload"),null)}catch(l){return eh("Caught error parsing JWT payload as JSON",l?.toString()),null}}function H0(r){const t=zp(r);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function eu(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof ri&&dN(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function dN({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class mN{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Bm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yl(this.lastLoginAt),this.creationTime=Yl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ah(r){const t=r.auth,n=await r.getIdToken(),s=await eu(r,bh(t,{idToken:n}));Tt(s?.users.length,t,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const u=l.providerUserInfo?.length?zb(l.providerUserInfo):[],f=gN(r.providerData,u),p=r.isAnonymous,g=!(r.email&&l.passwordHash)&&!f?.length,y=p?g:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Bm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function pN(r){const t=ze(r);await Ah(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function gN(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function zb(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function yN(r,t){const n=await Pb(r,{},async()=>{const s=nu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:u}=r.config,f=await jb(r,l,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:s};return r.emulatorConfig&&Eo(r.emulatorConfig.host)&&(g.credentials="include"),Ub.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function _N(r,t){return xo(r,"POST","/v2/accounts:revokeToken",jp(r,t))}class lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):H0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const n=H0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:l,expiresIn:u}=await yN(t,n);this.updateTokensAndExpiration(s,l,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:l,expirationTime:u}=n,f=new lo;return s&&(Tt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),l&&(Tt(typeof l=="string","internal-error",{appName:t}),f.accessToken=l),u&&(Tt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new lo,this.toJSON())}_performRefresh(){return rr("not implemented")}}function Qr(r,t){Tt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ti{constructor({uid:t,auth:n,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new mN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Bm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await eu(this,this.stsTokenManager.getToken(this.auth,t));return Tt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return fN(this,t)}reload(){return pN(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ti({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Ah(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xi(this.auth.app))return Promise.reject(Js(this.auth));const t=await this.getIdToken();return await eu(this,hN(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:S,emailVerified:N,isAnonymous:F,providerData:J,stsTokenManager:W}=n;Tt(S&&W,t,"internal-error");const Z=lo.fromJSON(this.name,W);Tt(typeof S=="string",t,"internal-error"),Qr(s,t.name),Qr(l,t.name),Tt(typeof N=="boolean",t,"internal-error"),Tt(typeof F=="boolean",t,"internal-error"),Qr(u,t.name),Qr(f,t.name),Qr(p,t.name),Qr(g,t.name),Qr(y,t.name),Qr(E,t.name);const ct=new ti({uid:S,auth:t,email:l,emailVerified:N,displayName:s,isAnonymous:F,photoURL:f,phoneNumber:u,tenantId:p,stsTokenManager:Z,createdAt:y,lastLoginAt:E});return J&&Array.isArray(J)&&(ct.providerData=J.map(gt=>({...gt}))),g&&(ct._redirectEventId=g),ct}static async _fromIdTokenResponse(t,n,s=!1){const l=new lo;l.updateFromServerResponse(n);const u=new ti({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Ah(u),u}static async _fromGetAccountInfoResponse(t,n,s){const l=n.users[0];Tt(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?zb(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!u?.length,p=new lo;p.updateFromIdToken(s);const g=new ti({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:f}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new Bm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(g,y),g}}const F0=new Map;function sr(r){dr(r instanceof Function,"Expected a class definition");let t=F0.get(r);return t?(dr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,F0.set(r,t),t)}class Bb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Bb.type="NONE";const G0=Bb;function nh(r,t,n){return`firebase:${r}:${t}:${n}`}class uo{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:l,name:u}=this.auth;this.fullUserKey=nh(this.userKey,l.apiKey,u),this.fullPersistenceKey=nh("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await bh(this.auth,{idToken:t}).catch(()=>{});return n?ti._fromGetAccountInfoResponse(this.auth,n,t):null}return ti._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new uo(sr(G0),t,s);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=l[0]||sr(G0);const f=nh(s,t.config.apiKey,t.name);let p=null;for(const y of n)try{const E=await y._get(f);if(E){let S;if(typeof E=="string"){const N=await bh(t,{idToken:E}).catch(()=>{});if(!N)break;S=await ti._fromGetAccountInfoResponse(t,N,E)}else S=ti._fromJSON(t,E);y!==u&&(p=S),u=y;break}}catch{}const g=l.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new uo(u,t,s):(u=g[0],p&&await u._set(f,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new uo(u,t,s))}}function Y0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Gb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(qb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Qb(t))return"Blackberry";if(Kb(t))return"Webos";if(Hb(t))return"Safari";if((t.includes("chrome/")||Fb(t))&&!t.includes("edge/"))return"Chrome";if(Yb(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function qb(r=tn()){return/firefox\//i.test(r)}function Hb(r=tn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Fb(r=tn()){return/crios\//i.test(r)}function Gb(r=tn()){return/iemobile/i.test(r)}function Yb(r=tn()){return/android/i.test(r)}function Qb(r=tn()){return/blackberry/i.test(r)}function Kb(r=tn()){return/webos/i.test(r)}function Bp(r=tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function vN(r=tn()){return Bp(r)&&!!window.navigator?.standalone}function TN(){return kS()&&document.documentMode===10}function Xb(r=tn()){return Bp(r)||Yb(r)||Kb(r)||Qb(r)||/windows phone/i.test(r)||Gb(r)}function $b(r,t=[]){let n;switch(r){case"Browser":n=Y0(tn());break;case"Worker":n=`${Y0(tn())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${bo}/${s}`}class EN{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,p)=>{try{const g=t(u);f(g)}catch(g){p(g)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function bN(r,t={}){return xo(r,"GET","/v2/passwordPolicy",jp(r,t))}const AN=6;class SN{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??AN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,l,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class wN{constructor(t,n,s,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Q0(this),this.idTokenSubscription=new Q0(this),this.beforeStateQueue=new EN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=sr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await uo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await bh(this,{idToken:t}),s=await ti._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(xi(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,p=await this.tryRedirectSignIn(t);(!u||u===f)&&p?.user&&(s=p.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Ah(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=sN()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(xi(this.app))return Promise.reject(Js(this));const n=t?ze(t):null;return n&&Tt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return xi(this.app)?Promise.reject(Js(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return xi(this.app)?Promise.reject(Js(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(sr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await bN(this),n=new SN(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ia("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await _N(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&sr(t)||this._popupRedirectResolver;Tt(n,this,"argument-error"),this.redirectPersistenceManager=await uo.create(this,[sr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=t.addObserver(n,s,l);return()=>{f=!0,g()}}else{const g=t.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=$b(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(xi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&nN(`Error while retrieving App Check token: ${t.error}`),t?.token}}function qp(r){return ze(r)}class Q0{constructor(t){this.auth=t,this.observer=null,this.addObserver=qS(n=>this.observer=n)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Hp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IN(r){Hp=r}function RN(r){return Hp.loadJS(r)}function CN(){return Hp.gapiScript}function xN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function NN(r,t){const n=ra(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(or(u,t??{}))return l;fr(l,"already-initialized")}return n.initialize({options:t})}function DN(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(sr);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function ON(r,t,n){const s=qp(r);Tt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,u=Jb(t),{host:f,port:p}=MN(t),g=p===null?"":`:${p}`,y={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){Tt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Tt(or(y,s.config.emulator)&&or(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Eo(f)?(TT(`${u}//${f}${g}`),ET("Auth",!0)):VN()}function Jb(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function MN(r){const t=Jb(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const u=l[1];return{host:u,port:K0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:K0(f)}}}function K0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function VN(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Zb{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return rr("not implemented")}_getIdTokenResponse(t){return rr("not implemented")}_linkToIdToken(t,n){return rr("not implemented")}_getReauthenticationResolver(t){return rr("not implemented")}}async function co(r,t){return uN(r,"POST","/v1/accounts:signInWithIdp",jp(r,t))}const kN="http://localhost";class na extends Zb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new na(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):fr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...u}=n;if(!s||!l)return null;const f=new na(s,l);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return co(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,co(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,co(t,n)}buildRequest(){const t={requestUri:kN,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=nu(n)}return t}}class Wb{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class hu extends Wb{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Zr extends hu{constructor(){super("facebook.com")}static credential(t){return na._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Zr.credentialFromTaggedObject(t)}static credentialFromError(t){return Zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Zr.credential(t.oauthAccessToken)}catch{return null}}}Zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zr.PROVIDER_ID="facebook.com";class Wr extends hu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return na._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Wr.credentialFromTaggedObject(t)}static credentialFromError(t){return Wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Wr.credential(n,s)}catch{return null}}}Wr.GOOGLE_SIGN_IN_METHOD="google.com";Wr.PROVIDER_ID="google.com";class ts extends hu{constructor(){super("github.com")}static credential(t){return na._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ts.credentialFromTaggedObject(t)}static credentialFromError(t){return ts.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ts.credential(t.oauthAccessToken)}catch{return null}}}ts.GITHUB_SIGN_IN_METHOD="github.com";ts.PROVIDER_ID="github.com";class es extends hu{constructor(){super("twitter.com")}static credential(t,n){return na._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return es.credentialFromTaggedObject(t)}static credentialFromError(t){return es.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return es.credential(n,s)}catch{return null}}}es.TWITTER_SIGN_IN_METHOD="twitter.com";es.PROVIDER_ID="twitter.com";class To{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,l=!1){const u=await ti._fromIdTokenResponse(t,s,l),f=X0(s);return new To({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const l=X0(s);return new To({user:t,providerId:l,_tokenResponse:s,operationType:n})}}function X0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Sh extends ri{constructor(t,n,s,l){super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Sh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,l){return new Sh(t,n,s,l)}}function t1(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Sh._fromErrorAndOperation(r,u,t,s):u})}async function LN(r,t,n=!1){const s=await eu(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return To._forOperation(r,"link",s)}async function UN(r,t,n=!1){const{auth:s}=r;if(xi(s.app))return Promise.reject(Js(s));const l="reauthenticate";try{const u=await eu(r,t1(s,l,t,r),n);Tt(u.idToken,s,"internal-error");const f=zp(u.idToken);Tt(f,s,"internal-error");const{sub:p}=f;return Tt(r.uid===p,s,"user-mismatch"),To._forOperation(r,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&fr(s,"user-mismatch"),u}}async function PN(r,t,n=!1){if(xi(r.app))return Promise.reject(Js(r));const s="signIn",l=await t1(r,s,t),u=await To._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(u.user),u}function jN(r,t,n,s){return ze(r).onIdTokenChanged(t,n,s)}function zN(r,t,n){return ze(r).beforeAuthStateChanged(t,n)}const wh="__sak";class e1{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wh,"1"),this.storage.removeItem(wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const BN=1e3,qN=10;class n1 extends e1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Xb(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&t(n,l,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,p,g)=>{this.notifyListeners(f,g)});return}const s=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);TN()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,qN):l()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},BN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}n1.type="LOCAL";const HN=n1;class i1 extends e1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}i1.type="SESSION";const r1=i1;function FN(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Yh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const s=new Yh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:l,data:u}=n.data,f=this.handlersMap[l];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const p=Array.from(f).map(async y=>y(n.origin,u)),g=await FN(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:g})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yh.receivers=[];function Fp(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}class GN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,f;return new Promise((p,g)=>{const y=Fp("",20);l.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:l,onMessage(S){const N=S;if(N.data.eventId===y)switch(N.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(N.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function ki(){return window}function YN(r){ki().location.href=r}function s1(){return typeof ki().WorkerGlobalScope<"u"&&typeof ki().importScripts=="function"}async function QN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KN(){return navigator?.serviceWorker?.controller||null}function XN(){return s1()?self:null}const a1="firebaseLocalStorageDb",$N=1,Ih="firebaseLocalStorage",o1="fbase_key";class fu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qh(r,t){return r.transaction([Ih],t?"readwrite":"readonly").objectStore(Ih)}function JN(){const r=indexedDB.deleteDatabase(a1);return new fu(r).toPromise()}function qm(){const r=indexedDB.open(a1,$N);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Ih,{keyPath:o1})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Ih)?t(s):(s.close(),await JN(),t(await qm()))})})}async function $0(r,t,n){const s=Qh(r,!0).put({[o1]:t,value:n});return new fu(s).toPromise()}async function ZN(r,t){const n=Qh(r,!1).get(t),s=await new fu(n).toPromise();return s===void 0?null:s.value}function J0(r,t){const n=Qh(r,!0).delete(t);return new fu(n).toPromise()}const WN=800,tD=3;class l1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>tD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return s1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yh._getInstance(XN()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await QN(),!this.activeServiceWorker)return;this.sender=new GN(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||KN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await qm();return await $0(t,wh,"1"),await J0(t,wh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>$0(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>ZN(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>J0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const u=Qh(l,!1).getAll();return new fu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:u}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}l1.type="LOCAL";const eD=l1;new cu(3e4,6e4);function nD(r,t){return t?sr(t):(Tt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Gp extends Zb{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return co(t,this._buildIdpRequest())}_linkToIdToken(t,n){return co(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return co(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function iD(r){return PN(r.auth,new Gp(r),r.bypassAuthState)}function rD(r){const{auth:t,user:n}=r;return Tt(n,t,"internal-error"),UN(n,new Gp(r),r.bypassAuthState)}async function sD(r){const{auth:t,user:n}=r;return Tt(n,t,"internal-error"),LN(n,new Gp(r),r.bypassAuthState)}class u1{constructor(t,n,s,l,u=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:l,tenantId:u,error:f,type:p}=t;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return iD;case"linkViaPopup":case"linkViaRedirect":return sD;case"reauthViaPopup":case"reauthViaRedirect":return rD;default:fr(this.auth,"internal-error")}}resolve(t){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const aD=new cu(2e3,1e4);class io extends u1{constructor(t,n,s,l,u){super(t,n,l,u),this.provider=s,this.authWindow=null,this.pollId=null,io.currentPopupAction&&io.currentPopupAction.cancel(),io.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){dr(this.filter.length===1,"Popup operations only handle one event");const t=Fp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,io.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,aD.get())};t()}}io.currentPopupAction=null;const oD="pendingRedirect",ih=new Map;class lD extends u1{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=ih.get(this.auth._key());if(!t){try{const s=await uD(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}ih.set(this.auth._key(),t)}return this.bypassAuthState||ih.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uD(r,t){const n=fD(t),s=hD(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function cD(r,t){ih.set(r._key(),t)}function hD(r){return sr(r._redirectPersistence)}function fD(r){return nh(oD,r.config.apiKey,r.name)}async function dD(r,t,n=!1){if(xi(r.app))return Promise.reject(Js(r));const s=qp(r),l=nD(s,t),f=await new lD(s,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}const mD=600*1e3;class pD{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!gD(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!c1(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Vi(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=mD&&this.cachedEventUids.clear(),this.cachedEventUids.has(Z0(t))}saveEventToCache(t){this.cachedEventUids.add(Z0(t)),this.lastProcessedEventTime=Date.now()}}function Z0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function c1({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function gD(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return c1(r);default:return!1}}async function yD(r,t={}){return xo(r,"GET","/v1/projects",t)}const _D=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vD=/^https?/;async function TD(r){if(r.config.emulator)return;const{authorizedDomains:t}=await yD(r);for(const n of t)try{if(ED(n))return}catch{}fr(r,"unauthorized-domain")}function ED(r){const t=zm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!vD.test(n))return!1;if(_D.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const bD=new cu(3e4,6e4);function W0(){const r=ki().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function AD(r){return new Promise((t,n)=>{function s(){W0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{W0(),n(Vi(r,"network-request-failed"))},timeout:bD.get()})}if(ki().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ki().gapi?.load)s();else{const l=xN("iframefcb");return ki()[l]=()=>{gapi.load?s():n(Vi(r,"network-request-failed"))},RN(`${CN()}?onload=${l}`).catch(u=>n(u))}}).catch(t=>{throw rh=null,t})}let rh=null;function SD(r){return rh=rh||AD(r),rh}const wD=new cu(5e3,15e3),ID="__/auth/iframe",RD="emulator/auth/iframe",CD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ND(r){const t=r.config;Tt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Pp(t,RD):`https://${r.config.authDomain}/${ID}`,s={apiKey:t.apiKey,appName:r.name,v:bo},l=xD.get(r.config.apiHost);l&&(s.eid=l);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${nu(s).slice(1)}`}async function DD(r){const t=await SD(r),n=ki().gapi;return Tt(n,r,"internal-error"),t.open({where:document.body,url:ND(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CD,dontclear:!0},s=>new Promise(async(l,u)=>{await s.restyle({setHideOnLeave:!1});const f=Vi(r,"network-request-failed"),p=ki().setTimeout(()=>{u(f)},wD.get());function g(){ki().clearTimeout(p),l(s)}s.ping(g).then(g,()=>{u(f)})}))}const OD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MD=500,VD=600,kD="_blank",LD="http://localhost";class tT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UD(r,t,n,s=MD,l=VD){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const g={...OD,width:s.toString(),height:l.toString(),top:u,left:f},y=tn().toLowerCase();n&&(p=Fb(y)?kD:n),qb(y)&&(t=t||LD,g.scrollbars="yes");const E=Object.entries(g).reduce((N,[F,J])=>`${N}${F}=${J},`,"");if(vN(y)&&p!=="_self")return PD(t||"",p),new tT(null);const S=window.open(t||"",p,E);Tt(S,r,"popup-blocked");try{S.focus()}catch{}return new tT(S)}function PD(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const jD="__/auth/handler",zD="emulator/auth/handler",BD=encodeURIComponent("fac");async function eT(r,t,n,s,l,u){Tt(r.config.authDomain,r,"auth-domain-config-required"),Tt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:bo,eventId:l};if(t instanceof Wb){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",BS(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(t instanceof hu){const E=t.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const p=f;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const g=await r._getAppCheckToken(),y=g?`#${BD}=${encodeURIComponent(g)}`:"";return`${qD(r)}?${nu(p).slice(1)}${y}`}function qD({config:r}){return r.emulator?Pp(r,zD):`https://${r.authDomain}/${jD}`}const pm="webStorageSupport";class HD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=r1,this._completeRedirectFn=dD,this._overrideRedirectResult=cD}async _openPopup(t,n,s,l){dr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await eT(t,n,s,zm(),l);return UD(t,u,Fp())}async _openRedirect(t,n,s,l){await this._originValidation(t);const u=await eT(t,n,s,zm(),l);return YN(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(dr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await DD(t),s=new pD(t);return n.register("authEvent",l=>(Tt(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(pm,{type:pm},l=>{const u=l?.[0]?.[pm];u!==void 0&&n(!!u),fr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=TD(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Xb()||Hb()||Bp()}}const FD=HD;var nT="@firebase/auth",iT="1.12.0";class GD{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function YD(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QD(r){Li(new ni("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=s.options;Tt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$b(r)},y=new wN(s,l,u,g);return DN(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Li(new ni("auth-internal",t=>{const n=qp(t.getProvider("auth").getImmediate());return(s=>new GD(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zn(nT,iT,YD(r)),zn(nT,iT,"esm2020")}const KD=300,XD=vT("authIdTokenMaxAge")||KD;let rT=null;const $D=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>XD)return;const l=n?.token;rT!==l&&(rT=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function JD(r=Gm()){const t=ra(r,"auth");if(t.isInitialized())return t.getImmediate();const n=NN(r,{popupRedirectResolver:FD,persistence:[eD,HN,r1]}),s=vT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=$D(u.toString());zN(n,f,()=>f(n.currentUser)),jN(n,p=>f(p))}}const l=yT("auth");return l&&ON(n,`http://${l}`),n}function ZD(){return document.getElementsByTagName("head")?.[0]??document}IN({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const u=Vi("internal-error");u.customData=l,n(u)},s.type="text/javascript",s.charset="UTF-8",ZD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QD("Browser");const WD={apiKey:"AIzaSyAVpKz8TJcz9Q0CbSj2v_KQyeEs6SsuXsI",authDomain:"invitation-475eb.firebaseapp.com",projectId:"invitation-475eb",storageBucket:"invitation-475eb.firebasestorage.app",messagingSenderId:"1068873981449",appId:"1:1068873981449:web:82210f667d60117585e2d8",measurementId:"G-5YHV8DE43L"},Yp=CT(WD);TR(Yp);const Kh=Nx(Yp),Xh=JD(Yp),tO=r=>{window.dispatchEvent(new CustomEvent("show-toast",{detail:{message:r}}))},eO=()=>{const[r,t]=ut.useState(null);return ut.useEffect(()=>{const n=s=>{const l=s.detail.message,u=Date.now();t({message:l,id:u}),setTimeout(()=>{t(f=>f&&f.id===u?null:f)},3e3)};return window.addEventListener("show-toast",n),()=>window.removeEventListener("show-toast",n)},[]),r?A.jsxs("div",{style:sT.toast,children:[A.jsx("span",{style:sT.icon,children:""}),r.message]}):null},sT={toast:{position:"fixed",top:"20px",left:"50%",transform:"translateX(-50%)",backgroundColor:"rgba(0, 0, 0, 0.9)",color:"#ffd700",padding:"12px 24px",borderRadius:"30px",fontSize:"0.9rem",fontWeight:"bold",zIndex:9999,display:"flex",alignItems:"center",gap:"8px",boxShadow:"0 4px 15px rgba(0,0,0,0.3)",animation:"slideDown 0.3s ease-out",whiteSpace:"nowrap",border:"1px solid #ffd700"},icon:{fontSize:"1.2rem"}},h1=document.createElement("style");h1.innerText=`
  @keyframes slideDown {
    from { transform: translate(-50%, -20px); opacity: 0; }
    to { transform: translate(-50%, 0); opacity: 1; }
  }
`;document.head.appendChild(h1);const no={FIRST_STEP:{id:"FIRST_STEP",title:" ",desc:"  ."},RUNNER:{id:"RUNNER",title:" ",desc:" () ."},HIGH_SCORE:{id:"HIGH_SCORE",title:" ",desc:"  100 !"},WEDDING_CRASHER:{id:"WEDDING_CRASHER",title:" ?",desc:"   10 ."},DATA_COLLECTOR:{id:"DATA_COLLECTOR",title:" ",desc:"    ."}},sh=async(r,t=null)=>{const n=Xh.currentUser;if(n)try{const s=Ap(Kh,"users",n.uid),l=await Lp(s);if(!l.exists())return;const f=l.data().achievements||[],p=async g=>{if(f.includes(g))return;const y=no[g];tO(` : ${y.title}`),await Wx(s,{achievements:Hx(g)})};switch(r){case"LOGIN":await p(no.FIRST_STEP.id);break;case"GAME_START":await p(no.RUNNER.id);break;case"GAME_SCORE":t>=100&&await p(no.HIGH_SCORE.id);break;case"TOUCH_CHARACTER":t&&t.groom>=10&&t.bride>=10&&await p(no.WEDDING_CRASHER.id);break;default:break}}catch(s){console.error("Error checking achievement:",s)}},f1=({selectedCharacter:r="groom"})=>{const t=ut.useRef(null),[n,s]=ut.useState("START"),[l,u]=ut.useState(0),[f,p]=ut.useState(r),[g,y]=ut.useState(0),[E,S]=ut.useState(!1);ut.useEffect(()=>{p(r)},[r]);const N=ut.useRef(new Image),F=ut.useRef(new Image);ut.useEffect(()=>{let rt=0;const ft=2,I=M=>new Promise(C=>{const k=new Image;k.crossOrigin="Anonymous",k.onload=()=>{const R=document.createElement("canvas");R.width=k.width,R.height=k.height;const Et=R.getContext("2d");Et.drawImage(k,0,0);const se=Et.getImageData(0,0,R.width,R.height),H=se.data,et=H[0],dt=H[1],Lt=H[2],zt=30;for(let Y=0;Y<H.length;Y+=4){const nt=H[Y],st=H[Y+1],vt=H[Y+2];Math.abs(nt-et)<zt&&Math.abs(st-dt)<zt&&Math.abs(vt-Lt)<zt&&(H[Y+3]=0)}Et.putImageData(se,0,0);const V=new Image;V.onload=()=>C(V),V.src=R.toDataURL()},k.src=M});(async()=>{const M=async(C,k)=>{const R=await I(k);C.current=R,rt++,rt>=ft&&S(!0)};await Promise.all([M(N,gS),M(F,yS)])})();const x=setTimeout(()=>{rt<ft&&S(!0)},2e3);return()=>clearTimeout(x)},[]);const J=ut.useRef({dino:{x:50,y:150,w:75,h:75,dy:0,grounded:!0},obstacles:[],frame:0,isGameOver:!1,animationId:null}),W=async rt=>{const ft=Xh.currentUser;if(ft)try{const I=Ap(Kh,"scores",ft.uid),w=await Lp(I);let x=!0;if(w.exists()){const M=w.data();M.score>=rt?(x=!1,y(M.score)):y(rt)}else y(rt);x&&(await Zx(I,{uid:ft.uid,displayName:ft.displayName||"Anonymous",score:rt,timestamp:qx()}),console.log("New High Score Saved!"))}catch(I){console.error("Error saving score:",I)}},Z=()=>{const rt=f==="groom"?N.current:F.current;if(rt&&rt.complete&&rt.width>0){const w=rt.width/3-20*2,x=rt.height,M=w/x,C=75,k=C*M;J.current.dino.w=k,J.current.dino.h=C}};ut.useEffect(()=>{E&&Z()},[f,E]);const ct=()=>{const rt=J.current.dino.w,ft=J.current.dino.h;let I=150;t.current&&(I=t.current.height-10-ft),J.current={dino:{x:50,y:I,w:rt,h:ft,dy:0,grounded:!0},obstacles:[],frame:0,isGameOver:!1,animationId:null},Z(),u(0)},gt=()=>{J.current.dino.grounded&&(J.current.dino.dy=-10,J.current.dino.grounded=!1)};ut.useEffect(()=>{const rt=t.current,ft=rt.getContext("2d");let I=performance.now();const w=x=>{if(n!=="PLAYING")return;const M=(x-I)/16;I=x;const C=J.current;C.frame++,C.frame%10===0&&u(Math.floor(C.frame/5)),C.dino.dy+=.6*M,C.dino.y+=C.dino.dy*M;const k=rt.height-10;C.dino.y+C.dino.h>k&&(C.dino.y=k-C.dino.h,C.dino.dy=0,C.dino.grounded=!0),C.frame%(100+Math.floor(Math.random()*50))===0&&C.obstacles.push({x:rt.width,y:rt.height-10-20,w:20,h:20}),C.obstacles.forEach(Et=>Et.x-=5*M),C.obstacles=C.obstacles.filter(Et=>Et.x+Et.w>0);let R=!1;if(C.obstacles.forEach(Et=>{C.dino.x+10<Et.x+Et.w-5&&C.dino.x+C.dino.w-10>Et.x+5&&C.dino.y+5<Et.y+Et.h-5&&C.dino.y+C.dino.h-5>Et.y+5&&(R=!0)}),R){s("GAME_OVER"),C.isGameOver=!0;const Et=Math.floor(C.frame/5);W(Et),sh("GAME_SCORE",Et)}ht(ft,rt,C),C.isGameOver||(C.animationId=requestAnimationFrame(w))};if(n==="PLAYING")I=performance.now(),J.current.animationId=requestAnimationFrame(w);else{const x=rt.height-10;rt.height>0&&J.current.dino.y+J.current.dino.h!==x&&(J.current.dino.y=x-J.current.dino.h),ht(ft,rt,J.current)}return()=>cancelAnimationFrame(J.current.animationId)},[n,f,E]);const ht=(rt,ft,I)=>{rt.clearRect(0,0,ft.width,ft.height),rt.strokeStyle="#555",rt.lineWidth=2,rt.beginPath(),rt.moveTo(0,ft.height-10),rt.lineTo(ft.width,ft.height-10),rt.stroke();const w=f==="groom"?N.current:F.current,x={groom:{stand:{frameIndex:0,y:21},run1:{frameIndex:1,y:22},run2:{frameIndex:2,y:22}},bride:{stand:{frameIndex:0,y:22},run1:{frameIndex:1,y:22},run2:{frameIndex:2,y:22}}},M=x[f]||x.groom;let C=M.stand;if(n==="PLAYING"&&I.dino.grounded&&(C=Math.floor(I.frame/10)%2===0?M.run1:M.run2),w&&w.complete&&w.width>0){const k=w.width/3,R=w.height,Et=20,se=k-Et*2,H=C.frameIndex*k+Et;rt.drawImage(w,H,0,se,R,I.dino.x,I.dino.y+C.y,I.dino.w,I.dino.h)}else rt.fillStyle=f==="groom"?"#000":"#ff0faf",rt.fillRect(I.dino.x,I.dino.y,I.dino.w,I.dino.h);rt.fillStyle="#555",I.obstacles.forEach(k=>{rt.fillRect(k.x,k.y,k.w,k.h)})},Bt=rt=>{n==="START"||n==="GAME_OVER"?(ct(),s("PLAYING"),sh("GAME_START")):gt()};return A.jsxs("section",{className:"py-20 px-4 text-center bg-gray-50 select-none",children:[A.jsx("h2",{className:"text-sm text-primary tracking-[0.2em] font-bold mb-8 uppercase",children:"RUN TO WEDDING"}),A.jsxs("div",{className:"relative inline-block w-full max-w-3xl aspect-[16/10] bg-white rounded-xl shadow-soft-xl overflow-hidden cursor-pointer touch-manipulation border border-gray-200",onClick:Bt,children:[A.jsx("canvas",{ref:t,width:320,height:200,className:"w-full h-full block pixelated",style:{imageRendering:"pixelated"}}),n==="START"&&A.jsxs("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 flex flex-col items-center bg-white/95 px-8 py-6 rounded-xl shadow-lg border border-gray-100 min-w-[240px]",children:[A.jsx("p",{className:"mb-4 font-bold text-gray-800 tracking-wider",children:"TAP TO START"}),A.jsx("button",{className:"bg-cta text-white px-6 py-2 rounded-full font-bold shadow-md hover:scale-105 active:scale-95 transition-transform",onClick:rt=>{rt.stopPropagation(),ct(),s("PLAYING"),sh("GAME_START")},children:"GAME START"})]}),n==="GAME_OVER"&&A.jsxs("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 flex flex-col items-center bg-white/95 px-8 py-6 rounded-xl shadow-lg border border-gray-100 min-w-[240px]",children:[A.jsx("p",{className:"font-black text-xl text-gray-800 mb-2",children:"GAME OVER"}),A.jsxs("p",{className:"text-lg font-mono font-bold text-primary mb-1",children:["Score: ",l]}),A.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["High: ",g>l?g:l]}),A.jsx("p",{className:"text-sm font-medium text-gray-400 animate-pulse",children:"Tap to Retry"})]}),A.jsxs("div",{className:"absolute top-4 right-4 bg-white/80 backdrop-blur px-3 py-1 rounded font-mono font-bold text-lg shadow-sm",children:["Score: ",l]})]})]})},nO=()=>{const[r,t]=ut.useState(!1),n=ut.useRef(null),s=()=>{r?n.current.pause():n.current.play(),t(!r)};return ut.useEffect(()=>{if(n.current){n.current.volume=.5;const l=n.current.play();l!==void 0&&l.then(()=>{t(!0)}).catch(u=>{console.log("Auto-play prevented:",u),t(!1)})}},[]),A.jsxs("div",{style:aT.container,children:[A.jsx("audio",{ref:n,src:"/Invitation/bgm.mp3",loop:!0}),A.jsx("button",{onClick:s,style:aT.button,children:r?" ON":" OFF"})]})},aT={container:{position:"fixed",top:"20px",right:"20px",zIndex:1e3},button:{background:"rgba(255, 255, 255, 0.8)",border:"1px solid #ddd",borderRadius:"20px",padding:"8px 16px",fontSize:"0.8rem",cursor:"pointer",boxShadow:"0 2px 5px rgba(0,0,0,0.1)",display:"flex",alignItems:"center",gap:"5px",fontFamily:"var(--font-serif)"}},iO="/Invitation/assets/groom-cEf0GPId.jpg",rO="/Invitation/assets/bride-C9xQdNrL.jpg",d1=()=>{const[r,t]=ut.useState(null),[n,s]=ut.useState(!1),l=[{id:"groom",name:"",type:"[ / ]",stars:"",desc:'"   ,    .  ,  ."',atk:"",def:"",img:iO,bank:"",account:"49591044955107",displayAccount:"495-910449-55107",holder:""},{id:"bride",name:"",type:"[ / ]",stars:"",desc:'"    ,     .    ."',atk:"",def:"",img:rO,bank:"",account:"110297915880",displayAccount:"110-297-915880",holder:""}],u=g=>{const y=`${g.account} ${g.bank}`;navigator.clipboard.writeText(y).then(()=>{s(!0),setTimeout(()=>s(!1),2e3)}).catch(E=>{console.error("Failed to copy: ",E)}),t(g.id)},f=(g,y,E)=>{if(E)return;const S=document.getElementById(`card-${y}`),N=S.getBoundingClientRect(),F=g.clientX-N.left,J=g.clientY-N.top,W=N.width/2,Z=N.height/2,ct=(J-Z)/Z*-10,gt=(F-W)/W*10;S.style.transform=`perspective(1000px) rotateX(${ct}deg) rotateY(${gt}deg) scale3d(1.05, 1.05, 1.05)`;const ht=S.querySelector(".glare");ht&&(ht.style.background=`radial-gradient(circle at ${F}px ${J}px, rgba(255,255,255,0.4) 0%, rgba(255,255,255,0) 80%)`,ht.style.opacity="1")},p=(g,y)=>{if(y)return;const E=document.getElementById(`card-${g}`);E.style.transform="perspective(1000px) rotateX(0) rotateY(0) scale3d(1, 1, 1)";const S=E.querySelector(".glare");S&&(S.style.opacity="0")};return A.jsxs("section",{className:"py-24 px-4 bg-gray-50 text-center overflow-hidden",children:[A.jsx("h2",{className:"text-sm text-primary tracking-[0.2em] font-bold mb-4 uppercase",children:"CARD BATTLE? NO, LOVE!"}),A.jsx("p",{className:"text-gray-500 mb-12 animate-pulse text-sm",children:"     "}),A.jsx("div",{className:"flex flex-col md:flex-row justify-center gap-8 items-center max-w-5xl mx-auto relative z-10",children:l.map((g,y)=>{const E=r===g.id;return A.jsxs("div",{className:"relative w-full max-w-[320px] group perspective",children:[A.jsxs("div",{id:`card-${y}`,className:`
                                    w-full aspect-[300/440] bg-[#C57038] p-[1.5%] rounded-xl border-4 border-gray-700 shadow-2xl cursor-pointer relative z-20 transition-all duration-300
                                    ${E?"scale-110 -translate-y-4 z-50 brightness-110 shadow-[0_0_30px_rgba(249,115,22,0.6)]":""}
                                    ${r&&!E?"blur-sm scale-95 brightness-50":""}
                                `,onClick:()=>u(g),onMouseMove:S=>f(S,y,E),onMouseLeave:()=>p(y,E),children:[A.jsx("div",{className:"glare absolute inset-0 rounded-lg pointer-events-none z-10 opacity-0 transition-opacity duration-200 mix-blend-overlay"}),A.jsxs("div",{className:"bg-[#A85A32] h-full flex flex-col p-1 border border-[#774E36]",children:[A.jsxs("div",{className:"flex justify-between items-center bg-white border border-black px-2 py-1 mb-1 shadow-inner rounded-sm",children:[A.jsx("span",{className:"font-bold text-black text-lg",children:g.name}),A.jsx("span",{className:"text-xl",children:""})]}),A.jsx("div",{className:"text-right mb-1 text-xs leading-none tracking-tighter text-yellow-300 drop-shadow-md",children:g.stars}),A.jsx("div",{className:"w-full aspect-square bg-white border-2 border-gray-400 shadow-inner mb-2 overflow-hidden relative",children:A.jsx("img",{src:g.img,alt:g.name,className:"w-full h-full object-cover"})}),A.jsxs("div",{className:"flex-1 bg-[#F3EBD8] border-2 border-black p-2 flex flex-col relative overflow-hidden",children:[A.jsx("div",{className:"font-bold border-b border-black mb-1 text-xs inline-block w-full pb-0.5",children:g.type}),A.jsx("p",{className:"flex-1 italic text-[0.7rem] leading-snug text-gray-900 line-clamp-4",children:g.desc}),A.jsxs("div",{className:"border-t border-black pt-1 mt-1 text-right font-mono font-bold text-xs",children:[A.jsxs("span",{children:["ATK/",g.atk]}),A.jsxs("span",{className:"ml-2",children:["DEF/",g.def]})]})]})]})]}),A.jsxs("div",{className:"mt-4 w-full p-4 bg-white rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all cursor-pointer flex flex-col gap-1 items-center z-10 relative",onClick:()=>u(g),children:[A.jsx("span",{className:"font-bold text-cta text-sm",children:g.bank}),A.jsx("span",{className:"font-mono font-bold text-gray-800 text-base",children:g.displayAccount}),A.jsxs("span",{className:"text-xs text-gray-500",children:["(",g.holder,")"]})]})]},g.id)})}),A.jsx("div",{className:`
                    fixed bottom-8 left-1/2 -translate-x-1/2 bg-black/80 text-white px-6 py-3 rounded-full font-bold shadow-xl z-[100] whitespace-nowrap transition-all duration-300
                    ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-4 pointer-events-none"}
                `,children:"  !"}),r&&A.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 backdrop-blur-sm transition-opacity duration-300",onClick:()=>t(null)})]})},sO=()=>A.jsxs("div",{className:"app-container",children:[A.jsx(sS,{}),A.jsx(oS,{}),A.jsx(lS,{}),A.jsx(fT,{forceUnlock:!0}),A.jsx(dS,{}),A.jsx(f1,{}),A.jsx(d1,{}),A.jsx(nO,{}),A.jsx(dT,{})]}),aO=({onStart:r,onSwitchToV1:t})=>{const[n,s]=ut.useState(!1);return ut.useEffect(()=>{s(!0)},[]),A.jsxs("div",{className:"flex flex-col items-center justify-center h-full w-full bg-gradient-to-b from-yellow-300 to-orange-400 p-4",children:[A.jsxs("div",{className:`transform transition-all duration-1000 ${n?"translate-y-0 opacity-100 scale-100":"translate-y-[-50px] opacity-0 scale-90"}`,children:[A.jsxs("h1",{className:"text-6xl md:text-8xl font-black text-white drop-shadow-[0_5px_5px_rgba(0,0,0,0.2)] tracking-tighter mb-2 animate-bounce",children:[A.jsx("span",{className:"inline-block hover:scale-110 transition-transform cursor-pointer text-cyan-500 transform -rotate-6",children:"W"}),A.jsx("span",{className:"inline-block hover:scale-110 transition-transform cursor-pointer text-pink-500 transform rotate-3",children:"E"}),A.jsx("span",{className:"inline-block hover:scale-110 transition-transform cursor-pointer text-yellow-300 transform -rotate-3",children:"D"}),A.jsx("span",{className:"inline-block hover:scale-110 transition-transform cursor-pointer text-green-400 transform rotate-6",children:"D"}),A.jsx("span",{className:"inline-block hover:scale-110 transition-transform cursor-pointer text-purple-400 transform -rotate-2",children:"I"}),A.jsx("span",{className:"inline-block hover:scale-110 transition-transform cursor-pointer text-red-400 transform rotate-4",children:"N"}),A.jsx("span",{className:"inline-block hover:scale-110 transition-transform cursor-pointer text-blue-400 transform -rotate-3",children:"G"})]}),A.jsx("p",{className:"text-white text-xl md:text-2xl font-bold text-center drop-shadow-md bg-black/20 rounded-full px-6 py-2 mx-auto w-fit backdrop-blur-sm",children:"Is Coming!"})]}),A.jsxs("div",{className:"my-8 relative group cursor-pointer",children:[A.jsx("div",{className:"w-32 h-32 bg-white rounded-full border-4 border-black shadow-[8px_8px_0px_0px_rgba(0,0,0,0.2)] flex items-center justify-center text-4xl overflow-hidden transform transition-transform group-hover:scale-110 group-active:scale-95 duration-200",children:""}),A.jsx("div",{className:"absolute -bottom-2 -right-2 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full animate-bounce",children:"TOUCH ME!"})]}),A.jsx("button",{onClick:r,className:"group relative bg-white border-4 border-black px-12 py-4 rounded-2xl shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] active:shadow-none active:translate-x-[8px] active:translate-y-[8px] transition-all duration-100 mb-6",children:A.jsx("span",{className:"block text-2xl font-black text-black group-hover:scale-110 transition-transform",children:"GAME START"})}),A.jsx("button",{onClick:t,className:"text-white/80 font-bold underline hover:text-white transition-colors text-sm",children:"Back to Classic Mode"})]})},m1="/Invitation/assets/groom_nobg-tvOAzn_6.png",p1="/Invitation/assets/bride_nobg-CV5a6LWZ.png",Kr=({title:r,onClose:t,children:n})=>A.jsx("div",{style:Ja.overlay,children:A.jsxs("div",{style:Ja.window,children:[A.jsxs("div",{style:Ja.header,children:[A.jsx("span",{style:Ja.title,children:r}),A.jsx("button",{style:Ja.closeBtn,onClick:t,children:""})]}),A.jsx("div",{style:Ja.content,children:n})]})}),Ja={overlay:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.8)",zIndex:100,display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},window:{width:"100%",maxWidth:"500px",maxHeight:"80vh",backgroundColor:"rgba(20, 24, 36, 0.95)",border:"2px solid #00eaff",borderRadius:"8px",boxShadow:"0 0 20px rgba(0, 234, 255, 0.2)",display:"flex",flexDirection:"column",overflow:"hidden",animation:"slideUp 0.3s ease-out"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 16px",borderBottom:"1px solid #00eaff",backgroundColor:"rgba(0, 234, 255, 0.1)"},title:{color:"#00eaff",fontFamily:'"Rajdhani", sans-serif',fontWeight:"bold",fontSize:"1.2rem",letterSpacing:"1px"},closeBtn:{background:"none",border:"none",color:"#fff",fontSize:"1.2rem",cursor:"pointer"},content:{flex:1,overflowY:"auto",padding:"0",color:"#fff"}},g1=document.createElement("style");g1.innerText+=`
  @keyframes slideUp {
    from { transform: translateY(50px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
  }
`;document.head.appendChild(g1);var oO=lT();const ir={audioCtx:null,init(){this.audioCtx||(this.audioCtx=new(window.AudioContext||window.webkitAudioContext))},playTone(r,t,n,s=.1){try{if(this.audioCtx||this.init(),!this.audioCtx)return;this.audioCtx.state==="suspended"&&this.audioCtx.resume().catch(()=>{});const l=this.audioCtx.createOscillator(),u=this.audioCtx.createGain();l.type=t,l.frequency.setValueAtTime(r,this.audioCtx.currentTime),u.gain.setValueAtTime(s,this.audioCtx.currentTime),u.gain.exponentialRampToValueAtTime(.01,this.audioCtx.currentTime+n),l.connect(u),u.connect(this.audioCtx.destination),l.start(),l.stop(this.audioCtx.currentTime+n)}catch(l){console.warn("Audio play failed",l)}},playClick(){this.playTone(800,"sine",.1,.1)},playConfirm(){try{if(this.audioCtx||this.init(),!this.audioCtx)return;this.audioCtx.state==="suspended"&&this.audioCtx.resume().catch(()=>{});const r=this.audioCtx.currentTime,t=this.audioCtx.createOscillator(),n=this.audioCtx.createGain();t.type="sine",t.frequency.setValueAtTime(600,r),t.frequency.exponentialRampToValueAtTime(1200,r+.1),n.gain.setValueAtTime(.1,r),n.gain.exponentialRampToValueAtTime(.01,r+.2),t.connect(n),n.connect(this.audioCtx.destination),t.start(),t.stop(r+.2)}catch(r){console.warn("Audio confirm failed",r)}},playHover(){this.playTone(400,"sine",.05,.05)}},lO=Object.assign({"../../assets/images/gallery1.jpg":uT,"../../assets/images/gallery2.jpg":cT,"../../assets/images/gallery3.jpg":hT}),gm=Object.values(lO).map(r=>r.default),uO=()=>{const[r,t]=ut.useState(!1),[n,s]=ut.useState(null),[l,u]=ut.useState(null),f=()=>{r||gm.length===0||(ir.playClick(),t(!0),s(null),setTimeout(()=>{const p=Math.floor(Math.random()*gm.length),g=gm[p],y=JSON.parse(localStorage.getItem("wedding_collection")||"[]");y.includes(p)||(y.push(p),localStorage.setItem("wedding_collection",JSON.stringify(y)),window.dispatchEvent(new Event("collectionUpdated")));const E=Math.random(),S=E>.8?"SSR":E>.5?"SR":"R";s(g),u(S),t(!1)},2e3))};return A.jsxs("div",{style:ge.container,children:[!n&&!r&&A.jsxs("div",{style:ge.startScreen,children:[A.jsxs("div",{style:ge.banner,children:[A.jsx("h2",{style:ge.bannerTitle,children:"  (GACHA)"}),A.jsx("p",{style:ge.bannerDesc,children:"  "})]}),A.jsxs("button",{style:ge.recruitBtn,onClick:f,children:[A.jsx("span",{style:{fontSize:"1.2rem"},children:""})," 1 "]}),A.jsx("p",{style:ge.notice,children:"*       ."})]}),r&&A.jsxs("div",{style:ge.animationScreen,children:[A.jsx("div",{style:ge.summonCircle}),A.jsx("p",{style:ge.animText,children:" ..."})]}),n&&!r&&oO.createPortal(A.jsxs("div",{style:ge.fullScreenResult,children:[A.jsx("div",{style:{...ge.glow,borderColor:ym(l)}}),A.jsxs("div",{style:ge.cardFrame,children:[A.jsx("span",{style:{...ge.rarityBadge,backgroundColor:ym(l)},children:l}),A.jsx("img",{src:n,alt:"Gacha Result",style:ge.resultImage}),A.jsx("div",{style:ge.newBadge,children:"!"})]}),A.jsx("h3",{style:{...ge.resultTitle,color:ym(l)},children:l==="SSR"?"   ":l==="SR"?"  ":"  "}),A.jsxs("div",{style:ge.floatingButtonGroup,children:[A.jsx("button",{style:ge.closeBtn,onClick:()=>{ir.playConfirm(),s(null)},children:""}),A.jsx("button",{style:{...ge.closeBtn,...ge.againBtn},onClick:f,children:"  "})]})]}),document.body)]})},ym=r=>{switch(r){case"SSR":return"#FFD700";case"SR":return"#C0C0C0";case"R":return"#CD7F32";default:return"#fff"}},ge={container:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"relative",background:"#111",overflow:"hidden",color:"#fff",fontFamily:'"Rajdhani", sans-serif'},startScreen:{textAlign:"center",width:"100%"},banner:{marginBottom:"40px",animation:"pulse 2s infinite"},bannerTitle:{fontSize:"2rem",background:"linear-gradient(to right, #ff9966, #ff5e62)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",margin:0},bannerDesc:{color:"#888",margin:"5px 0 0"},recruitBtn:{background:"linear-gradient(45deg, #00c6ff, #0072ff)",border:"none",padding:"15px 40px",borderRadius:"30px",color:"#fff",fontSize:"1.2rem",fontWeight:"bold",cursor:"pointer",boxShadow:"0 0 20px rgba(0, 198, 255, 0.5)",display:"flex",alignItems:"center",gap:"10px",margin:"0 auto"},notice:{marginTop:"20px",fontSize:"0.8rem",color:"#555"},animationScreen:{display:"flex",flexDirection:"column",alignItems:"center"},summonCircle:{width:"100px",height:"100px",borderRadius:"50%",border:"5px solid #fff",borderTopColor:"transparent",animation:"spin 0.5s linear infinite",boxShadow:"0 0 30px #fff"},animText:{marginTop:"20px",letterSpacing:"5px",animation:"blink 0.5s infinite"},fullScreenResult:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.95)",zIndex:2e3,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",animation:"popIn 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.27)"},cardFrame:{position:"relative",padding:"15px",backgroundColor:"#fff",borderRadius:"15px",boxShadow:"0 0 50px rgba(255,255,255,0.2)",transform:"rotate(-2deg)"},resultImage:{maxWidth:"90vw",maxHeight:"65vh",display:"block",borderRadius:"5px",objectFit:"contain"},resultTitle:{fontSize:"1.5rem",marginTop:"30px",textShadow:"0 0 10px rgba(0,0,0,0.5)",textAlign:"center"},rarityBadge:{position:"absolute",top:"-15px",left:"-15px",padding:"8px 15px",fontSize:"1.2rem",borderRadius:"5px",fontWeight:"bold",color:"#000",zIndex:10,boxShadow:"0 2px 5px rgba(0,0,0,0.3)"},newBadge:{position:"absolute",bottom:"20px",right:"-15px",background:"#ff0000",color:"#fff",padding:"5px 12px",fontSize:"1rem",fontWeight:"bold",transform:"rotate(5deg)",zIndex:10,boxShadow:"0 2px 5px rgba(0,0,0,0.3)"},closeBtn:{padding:"12px 30px",background:"rgba(255,255,255,0.1)",border:"1px solid #fff",color:"#fff",borderRadius:"30px",cursor:"pointer",fontSize:"1rem",backdropFilter:"blur(5px)"},againBtn:{background:"linear-gradient(45deg, #00c6ff, #0072ff)",border:"none",boxShadow:"0 0 20px rgba(0, 198, 255, 0.6)"},floatingButtonGroup:{display:"flex",gap:"20px",marginTop:"30px"}},y1=document.createElement("style");y1.innerText+=`
  @keyframes spin { to { transform: rotate(360deg); } }
  @keyframes blink { 50% { opacity: 0.5; } }
  @keyframes pulse { 50% { transform: scale(1.05); } }
  @keyframes popIn { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }
`;document.head.appendChild(y1);const oT=[{id:1,speaker:"",text:"!    .",image:"groom",expression:"smile"},{id:2,speaker:"",text:"        !",image:"bride",expression:"happy"},{id:3,speaker:"",text:"    .     ' '.",image:"groom",expression:"serious"},{id:4,speaker:"",text:"  ,   ?",image:"bride",expression:"wink"},{id:5,speaker:"SYSTEM",text:" []  .  !",image:"system",expression:"none"}],cO=({onClose:r})=>{const[t,n]=ut.useState(0),[s,l]=ut.useState(""),[u,f]=ut.useState(!1),p=oT[t];ut.useEffect(()=>{if(!p)return;l(""),f(!0);let y=0;const E=p.text,N=setInterval(()=>{y<E.length?(l(F=>F+E.charAt(y)),y++):(clearInterval(N),f(!1))},50);return()=>clearInterval(N)},[t]);const g=()=>{ir.playClick(),u||(t<oT.length-1?n(y=>y+1):(ir.playConfirm(),r()))};return A.jsxs("div",{style:Xr.container,onClick:g,children:[A.jsxs("div",{style:Xr.spriteParams,children:[p.image==="groom"&&A.jsx("img",{src:m1,style:Xr.sprite,alt:"Groom"}),p.image==="bride"&&A.jsx("img",{src:p1,style:Xr.sprite,alt:"Bride"})]}),A.jsxs("div",{style:Xr.dialogueBox,children:[A.jsx("div",{style:Xr.nameTag,children:p.speaker}),A.jsx("p",{style:Xr.text,children:s}),A.jsx("div",{style:Xr.indicator,children:""})]})]})},Xr={container:{width:"100%",height:"100%",position:"relative",backgroundColor:"rgba(0,0,0,0.8)",display:"flex",flexDirection:"column",justifyContent:"flex-end",overflow:"hidden",cursor:"pointer"},spriteParams:{position:"absolute",bottom:"0",left:"50%",transform:"translateX(-50%)",height:"80%",display:"flex",alignItems:"flex-end"},sprite:{height:"100%",objectFit:"contain",filter:"drop-shadow(0 0 10px rgba(255,255,255,0.2))"},dialogueBox:{position:"relative",height:"150px",backgroundColor:"rgba(0, 0, 0, 0.9)",borderTop:"2px solid #fff",padding:"20px",margin:"0",zIndex:10,display:"flex",flexDirection:"column",boxShadow:"0 -5px 20px rgba(0,0,0,0.5)"},nameTag:{fontSize:"1.2rem",fontWeight:"bold",color:"#f0bc5e",marginBottom:"10px"},text:{fontSize:"1rem",color:"#fff",lineHeight:"1.5"},indicator:{position:"absolute",bottom:"10px",right:"20px",color:"#fff",animation:"bounce 1s infinite"}},_1=document.createElement("style");_1.innerText+=`
  @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(5px); } }
`;document.head.appendChild(_1);const hO=()=>{const[r,t]=ut.useState([]),[n,s]=ut.useState(!0),l=Xh.currentUser;return ut.useEffect(()=>{(async()=>{try{const f=Yx(xx(Kh,"scores"),Qx("score","desc"),Kx(50)),g=(await Jx(f)).docs.map(S=>({id:S.id,...S.data()})),y=new Map;g.forEach(S=>{const N=S.displayName;(!y.has(N)||y.get(N).score<S.score)&&y.set(N,S)});const E=Array.from(y.values()).sort((S,N)=>N.score-S.score).slice(0,10);t(E)}catch(f){console.error("Error fetching rankings: ",f)}finally{s(!1)}})()},[]),n?A.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading..."}):A.jsxs("div",{style:$r.container,children:[A.jsx("h3",{style:$r.header,children:" TOP 10 "}),A.jsxs("table",{style:$r.table,children:[A.jsx("thead",{children:A.jsxs("tr",{children:[A.jsx("th",{children:"#"}),A.jsx("th",{children:"NICNAME"}),A.jsx("th",{children:"SCORE"})]})}),A.jsx("tbody",{children:r.map((u,f)=>{const p=l&&(l.uid===u.id||l.displayName===u.displayName);return A.jsxs("tr",{style:p?$r.myRow:{},children:[A.jsx("td",{style:$r.cell,children:f+1}),A.jsxs("td",{style:$r.cell,children:[u.displayName," ",p&&"()"]}),A.jsx("td",{style:{...$r.cell,fontWeight:"bold"},children:u.score})]},u.id)})})]}),A.jsx("div",{style:$r.footer,children:"*   ."})]})},$r={container:{padding:"10px",color:"#333",fontFamily:'"Rajdhani", sans-serif'},header:{textAlign:"center",marginBottom:"15px",borderBottom:"2px solid #333",paddingBottom:"10px"},table:{width:"100%",borderCollapse:"collapse",fontSize:"0.9rem"},cell:{padding:"8px",borderBottom:"1px solid #ddd",textAlign:"center"},myRow:{backgroundColor:"#fff3cd",fontWeight:"bold"},footer:{marginTop:"20px",fontSize:"0.8rem",color:"#888",textAlign:"center"}},fO=()=>{const[r,t]=ut.useState([]),[n,s]=ut.useState(!0),l=Xh.currentUser;if(ut.useEffect(()=>{(async()=>{if(l)try{const p=Ap(Kh,"users",l.uid),g=await Lp(p);g.exists()&&t(g.data().achievements||[])}catch(p){console.error("Error fetching achievements:",p)}finally{s(!1)}})()},[l]),n)return A.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading..."});const u=Object.values(no);return A.jsxs("div",{style:Ri.container,children:[A.jsx("h3",{style:Ri.header,children:"   (MY ACHIEVEMENTS)"}),A.jsx("div",{style:Ri.grid,children:u.map(f=>{const p=r.includes(f.id);return A.jsxs("div",{style:{...Ri.card,...p?Ri.unlocked:Ri.locked},children:[A.jsx("div",{style:Ri.icon,children:p?"":""}),A.jsxs("div",{style:Ri.info,children:[A.jsx("div",{style:Ri.title,children:f.title}),A.jsx("div",{style:Ri.desc,children:f.desc})]})]},f.id)})})]})},Ri={container:{padding:"10px",color:"#333",fontFamily:'"Rajdhani", sans-serif'},header:{textAlign:"center",marginBottom:"15px",borderBottom:"2px solid #333",paddingBottom:"10px"},grid:{display:"flex",flexDirection:"column",gap:"10px"},card:{display:"flex",alignItems:"center",padding:"10px",borderRadius:"8px",border:"1px solid #ddd",transition:"transform 0.2s"},unlocked:{backgroundColor:"#fffbe6",border:"2px solid #ffd700",boxShadow:"0 2px 5px rgba(255, 215, 0, 0.3)"},locked:{backgroundColor:"#f5f5f5",filter:"grayscale(100%)",opacity:.7},icon:{fontSize:"2rem",marginRight:"15px"},info:{flex:1},title:{fontWeight:"bold",fontSize:"1rem",marginBottom:"3px"},desc:{fontSize:"0.8rem",color:"#666"}},dO=({onSwitchToV1:r})=>{const[t,n]=ut.useState("bride"),[s,l]=ut.useState(!1),[u,f]=ut.useState(""),[p,g]=ut.useState(null),[y,E]=ut.useState(""),[S,N]=ut.useState({groom:0,bride:0});ut.useEffect(()=>{const gt=new Date("2026-04-25T16:50:00"),ht=()=>{const ft=gt-new Date,I=Math.ceil(ft/(1e3*60*60*24));E(I>0?`D-${I}`:I===0?"D-DAY":`D+${Math.abs(I)}`)};ht();const Bt=setInterval(ht,1e3*60);return()=>clearInterval(Bt)},[]);const F=()=>{ir.playClick(),n(gt=>gt==="bride"?"groom":"bride")},J=()=>{ir.playClick();const gt=t==="bride"?["   !","   ?"," ! ."," !","  ."]:["!"," .","  !","  !"," ."],ht=gt[Math.floor(Math.random()*gt.length)];f(ht),l(!0),N(Bt=>{const rt={...Bt};return rt[t]+=1,sh("TOUCH_CHARACTER",rt),rt}),setTimeout(()=>l(!1),3e3)},W=gt=>{ir.playClick(),g(gt)},Z=()=>{ir.playClick(),g(null)},ct=()=>{ir.playClick(),r()};return A.jsxs("div",{style:Ve.container,children:[A.jsx("div",{style:Ve.background}),A.jsxs("div",{style:Ve.characterArea,children:[A.jsx("img",{src:t==="bride"?p1:m1,alt:"Character",style:Ve.characterImage,onClick:J}),s&&A.jsx("div",{style:Ve.speechBubble,children:u})]}),A.jsxs("div",{style:Ve.uiLayer,children:[A.jsxs("div",{style:Ve.topBar,children:[A.jsxs("div",{style:Ve.currency,children:[A.jsx("span",{style:Ve.currencyIcon,children:""}),A.jsx("span",{children:": 999,999"})]}),A.jsxs("div",{style:Ve.currency,children:[A.jsx("span",{style:Ve.currencyIcon,children:""}),A.jsxs("span",{children:[y," (26.04.25)"]})]})]}),A.jsx("button",{style:Ve.switchBtn,onClick:F,children:" "}),A.jsxs("button",{style:Ve.gameBtn,onClick:()=>W("game"),children:[A.jsx("div",{style:Ve.gameIcon,children:""}),A.jsx("span",{children:" "})]}),A.jsxs("div",{style:Ve.rightMenu,children:[A.jsx(Jr,{icon:"",label:"",onClick:()=>W("map")}),A.jsx(Jr,{icon:"",label:"",onClick:()=>W("gallery")}),A.jsx(Jr,{icon:"",label:"",onClick:()=>W("recruit")}),A.jsx(Jr,{icon:"",label:"",onClick:()=>W("story")}),A.jsx(Jr,{icon:"",label:"",onClick:()=>W("ranking")}),A.jsx(Jr,{icon:"",label:"",onClick:()=>W("achievement")}),A.jsx(Jr,{icon:"",label:"",onClick:()=>W("info")}),A.jsx(Jr,{icon:"",label:"",onClick:ct})]}),A.jsx("div",{style:Ve.bottomBanner,children:A.jsx("p",{children:"   ! (WEDDING CAMPAIGN START) "})})]}),p==="map"&&A.jsx(Kr,{title:"  (LOCATION)",onClose:Z,children:A.jsx("div",{style:{background:"#fff"},children:A.jsx(dT,{})})}),p==="gallery"&&A.jsx(Kr,{title:"  (GALLERY)",onClose:Z,children:A.jsx("div",{style:{background:"#fff"},children:A.jsx(fT,{})})}),p==="story"&&A.jsx(Kr,{title:"  (STORY)",onClose:Z,children:A.jsx("div",{style:{height:"500px"},children:A.jsx(cO,{onClose:Z})})}),p==="info"&&A.jsx(Kr,{title:"  (PROFILE)",onClose:Z,children:A.jsx("div",{style:{background:"#fff"},children:A.jsx(d1,{})})}),p==="game"&&A.jsx(Kr,{title:"  (GAME)",onClose:Z,children:A.jsx("div",{style:{background:"#f5f5f5",display:"flex",justifyContent:"center"},children:A.jsx(f1,{selectedCharacter:t})})}),p==="recruit"&&A.jsx(Kr,{title:"  (GACHA)",onClose:Z,children:A.jsx("div",{style:{height:"500px"},children:A.jsx(uO,{})})}),p==="ranking"&&A.jsx(Kr,{title:"  (RANKING)",onClose:Z,children:A.jsx("div",{style:{background:"#fff"},children:A.jsx(hO,{})})}),p==="achievement"&&A.jsx(Kr,{title:"  (ACHIEVEMENTS)",onClose:Z,children:A.jsx("div",{style:{background:"#fff"},children:A.jsx(fO,{})})})]})},Jr=({icon:r,label:t,onClick:n})=>A.jsxs("div",{style:Ve.menuItem,onClick:n,children:[A.jsx("div",{style:Ve.menuIconCircle,children:r}),A.jsx("span",{style:Ve.menuLabel,children:t})]}),Ve={container:{width:"100%",height:"100%",position:"relative",overflow:"hidden",background:"linear-gradient(to bottom, #2b32b2, #1488cc)",fontFamily:'"Rajdhani", sans-serif'},background:{position:"absolute",width:"100%",height:"100%",zIndex:0},characterArea:{position:"absolute",bottom:0,left:0,width:"100%",height:"100%",zIndex:1,display:"flex",justifyContent:"center",alignItems:"flex-end",pointerEvents:"none"},characterImage:{height:"80vh",width:"auto",maxWidth:"none",objectFit:"contain",transform:"scale(1.5)",transformOrigin:"bottom center",filter:"drop-shadow(0 0 10px rgba(0,0,0,0.5))",cursor:"pointer",pointerEvents:"auto"},speechBubble:{position:"absolute",top:"20%",left:"50%",transform:"translateX(-50%)",backgroundColor:"rgba(255, 255, 255, 0.9)",padding:"10px 20px",borderRadius:"20px",border:"2px solid #000",fontSize:"0.9rem",fontWeight:"bold",whiteSpace:"nowrap",zIndex:10,animation:"popIn 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.27)"},uiLayer:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:5,pointerEvents:"none"},topBar:{display:"flex",justifyContent:"space-between",padding:"10px",pointerEvents:"auto"},currency:{backgroundColor:"rgba(0,0,0,0.6)",color:"#fff",padding:"5px 15px",borderRadius:"30px",display:"flex",alignItems:"center",gap:"5px",fontSize:"0.8rem",border:"1px solid #444"},switchBtn:{position:"absolute",top:"60px",left:"10px",padding:"8px 12px",borderRadius:"5px",border:"none",backgroundColor:"rgba(255,255,255,0.2)",color:"#fff",cursor:"pointer",pointerEvents:"auto"},gameBtn:{position:"absolute",top:"120px",left:"10px",display:"flex",alignItems:"center",gap:"5px",padding:"8px 12px",borderRadius:"5px",border:"2px solid #ff4757",backgroundColor:"rgba(255, 71, 87, 0.2)",color:"#ff4757",cursor:"pointer",pointerEvents:"auto",fontWeight:"bold",boxShadow:"0 0 10px rgba(255, 71, 87, 0.3)"},gameIcon:{fontSize:"1.2rem"},rightMenu:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",display:"flex",flexDirection:"column",gap:"20px",pointerEvents:"auto"},menuItem:{display:"flex",flexDirection:"column",alignItems:"center",gap:"2px",cursor:"pointer"},menuIconCircle:{width:"50px",height:"50px",backgroundColor:"rgba(0,0,0,0.7)",borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"1.5rem",border:"2px solid #00eaff",boxShadow:"0 0 10px rgba(0, 234, 255, 0.3)",transition:"transform 0.1s"},menuLabel:{fontSize:"0.6rem",color:"#fff",textShadow:"0 0 3px #000",fontWeight:"bold"},bottomBanner:{position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)",width:"90%",backgroundColor:"rgba(255, 215, 0, 0.8)",padding:"10px",textAlign:"center",borderRadius:"8px",fontWeight:"bold",color:"#333",boxShadow:"0 4px 10px rgba(0,0,0,0.3)",pointerEvents:"auto"}},v1=document.createElement("style");v1.innerText+=`
  @keyframes popIn {
    0% { transform: translateX(-50%) scale(0); }
    100% { transform: translateX(-50%) scale(1); }
  }
`;document.head.appendChild(v1);const mO=({onSwitchToV1:r})=>{const[t,n]=ut.useState("title"),s=()=>{n("lobby")};return A.jsxs("div",{className:"relative w-full h-screen bg-yellow-50 overflow-hidden font-sans",children:[A.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none",style:{backgroundImage:"radial-gradient(#F97316 2px, transparent 2px)",backgroundSize:"30px 30px"}}),A.jsxs("div",{className:"relative w-full h-full",children:[t==="title"&&A.jsx(aO,{onStart:s,onSwitchToV1:r}),t==="lobby"&&A.jsx(dO,{onSwitchToV1:r})]})]})},pO=()=>A.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-background font-body p-4",children:A.jsxs("div",{className:"card max-w-md w-full text-center space-y-8",children:[A.jsxs("div",{className:"space-y-2",children:[A.jsx("h1",{className:"text-4xl text-text font-heading tracking-wider",children:"INVITATION"}),A.jsx("p",{className:"text-xl text-text/80 font-medium",children:" & "})]}),A.jsx("div",{className:"w-12 h-px bg-gray-300 mx-auto"}),A.jsx("p",{className:"text-text/60 tracking-widest",children:"2026. 04. 25. SAT PM 04:50"}),A.jsxs("div",{className:"flex flex-col gap-4",children:[A.jsxs("a",{href:"classic.html",className:"btn-secondary flex items-center justify-center gap-2 group",children:[A.jsx("span",{className:"group-hover:scale-110 transition-transform",children:""}),"  (Classic)"]}),A.jsxs("a",{href:"game.html",className:"btn-primary flex items-center justify-center gap-2 group",children:[A.jsx("span",{className:"group-hover:rotate-12 transition-transform",children:""}),"  (Game Mode)"]})]})]})});function gO(){const[r,t]=ut.useState("selection");return ut.useEffect(()=>{const n=window.location.pathname;n.includes("classic.html")?t("v1"):n.includes("game.html")?t("v2"):new URLSearchParams(window.location.search).get("mode")==="classic"?t("v1"):new URLSearchParams(window.location.search).get("mode")==="game"?t("v2"):t("selection")},[]),A.jsxs(A.Fragment,{children:[r==="selection"&&A.jsx(pO,{}),r==="v1"&&A.jsx(sO,{}),r==="v2"&&A.jsx(mO,{onSwitchToV1:()=>window.location.href="classic.html"}),A.jsx(eO,{})]})}rS.createRoot(document.getElementById("root")).render(A.jsx(ut.StrictMode,{children:A.jsx(gO,{})}));
