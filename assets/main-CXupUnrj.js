(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Qd={exports:{}},Nl={};var ov;function jw(){if(ov)return Nl;ov=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:f,ref:o!==void 0?o:null,props:u}}return Nl.Fragment=t,Nl.jsx=n,Nl.jsxs=n,Nl}var lv;function zw(){return lv||(lv=1,Qd.exports=jw()),Qd.exports}var b=zw(),Yd={exports:{}},wt={};var uv;function Bw(){if(uv)return wt;uv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),R=Symbol.iterator;function F(M){return M===null||typeof M!="object"?null:(M=R&&M[R]||M["@@iterator"],typeof M=="function"?M:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,tt={};function ft(M,Y,it){this.props=M,this.context=Y,this.refs=tt,this.updater=it||W}ft.prototype.isReactComponent={},ft.prototype.setState=function(M,Y){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Y,"setState")},ft.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function bt(){}bt.prototype=ft.prototype;function Tt(M,Y,it){this.props=M,this.context=Y,this.refs=tt,this.updater=it||W}var yt=Tt.prototype=new bt;yt.constructor=Tt,et(yt,ft.prototype),yt.isPureReactComponent=!0;var Yt=Array.isArray;function Nt(){}var N={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function x(M,Y,it){var rt=it.ref;return{$$typeof:s,type:M,key:Y,ref:rt!==void 0?rt:null,props:it}}function V(M,Y){return x(M.type,Y,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function k(M){var Y={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(it){return Y[it]})}var I=/\/+/g;function at(M,Y){return typeof M=="object"&&M!==null&&M.key!=null?k(""+M.key):Y.toString(36)}function dt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Nt,Nt):(M.status="pending",M.then(function(Y){M.status==="pending"&&(M.status="fulfilled",M.value=Y)},function(Y){M.status==="pending"&&(M.status="rejected",M.reason=Y)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function U(M,Y,it,rt,gt){var Rt=typeof M;(Rt==="undefined"||Rt==="boolean")&&(M=null);var zt=!1;if(M===null)zt=!0;else switch(Rt){case"bigint":case"string":case"number":zt=!0;break;case"object":switch(M.$$typeof){case s:case t:zt=!0;break;case E:return zt=M._init,U(zt(M._payload),Y,it,rt,gt)}}if(zt)return gt=gt(M),zt=rt===""?"."+at(M,0):rt,Yt(gt)?(it="",zt!=null&&(it=zt.replace(I,"$&/")+"/"),U(gt,Y,it,"",function(fr){return fr})):gt!=null&&(D(gt)&&(gt=V(gt,it+(gt.key==null||M&&M.key===gt.key?"":(""+gt.key).replace(I,"$&/")+"/")+zt)),Y.push(gt)),1;zt=0;var De=rt===""?".":rt+":";if(Yt(M))for(var ae=0;ae<M.length;ae++)rt=M[ae],Rt=De+at(rt,ae),zt+=U(rt,Y,it,Rt,gt);else if(ae=F(M),typeof ae=="function")for(M=ae.call(M),ae=0;!(rt=M.next()).done;)rt=rt.value,Rt=De+at(rt,ae++),zt+=U(rt,Y,it,Rt,gt);else if(Rt==="object"){if(typeof M.then=="function")return U(dt(M),Y,it,rt,gt);throw Y=String(M),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return zt}function Z(M,Y,it){if(M==null)return M;var rt=[],gt=0;return U(M,rt,"","",function(Rt){return Y.call(it,Rt,gt++)}),rt}function ut(M){if(M._status===-1){var Y=M._result;Y=Y(),Y.then(function(it){(M._status===0||M._status===-1)&&(M._status=1,M._result=it)},function(it){(M._status===0||M._status===-1)&&(M._status=2,M._result=it)}),M._status===-1&&(M._status=0,M._result=Y)}if(M._status===1)return M._result.default;throw M._result}var J=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Dt={map:Z,forEach:function(M,Y,it){Z(M,function(){Y.apply(this,arguments)},it)},count:function(M){var Y=0;return Z(M,function(){Y++}),Y},toArray:function(M){return Z(M,function(Y){return Y})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return wt.Activity=w,wt.Children=Dt,wt.Component=ft,wt.Fragment=n,wt.Profiler=o,wt.PureComponent=Tt,wt.StrictMode=r,wt.Suspense=_,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,wt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return N.H.useMemoCache(M)}},wt.cache=function(M){return function(){return M.apply(null,arguments)}},wt.cacheSignal=function(){return null},wt.cloneElement=function(M,Y,it){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var rt=et({},M.props),gt=M.key;if(Y!=null)for(Rt in Y.key!==void 0&&(gt=""+Y.key),Y)!S.call(Y,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&Y.ref===void 0||(rt[Rt]=Y[Rt]);var Rt=arguments.length-2;if(Rt===1)rt.children=it;else if(1<Rt){for(var zt=Array(Rt),De=0;De<Rt;De++)zt[De]=arguments[De+2];rt.children=zt}return x(M.type,gt,rt)},wt.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},wt.createElement=function(M,Y,it){var rt,gt={},Rt=null;if(Y!=null)for(rt in Y.key!==void 0&&(Rt=""+Y.key),Y)S.call(Y,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(gt[rt]=Y[rt]);var zt=arguments.length-2;if(zt===1)gt.children=it;else if(1<zt){for(var De=Array(zt),ae=0;ae<zt;ae++)De[ae]=arguments[ae+2];gt.children=De}if(M&&M.defaultProps)for(rt in zt=M.defaultProps,zt)gt[rt]===void 0&&(gt[rt]=zt[rt]);return x(M,Rt,gt)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(M){return{$$typeof:p,render:M}},wt.isValidElement=D,wt.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:ut}},wt.memo=function(M,Y){return{$$typeof:y,type:M,compare:Y===void 0?null:Y}},wt.startTransition=function(M){var Y=N.T,it={};N.T=it;try{var rt=M(),gt=N.S;gt!==null&&gt(it,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Nt,J)}catch(Rt){J(Rt)}finally{Y!==null&&it.types!==null&&(Y.types=it.types),N.T=Y}},wt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},wt.use=function(M){return N.H.use(M)},wt.useActionState=function(M,Y,it){return N.H.useActionState(M,Y,it)},wt.useCallback=function(M,Y){return N.H.useCallback(M,Y)},wt.useContext=function(M){return N.H.useContext(M)},wt.useDebugValue=function(){},wt.useDeferredValue=function(M,Y){return N.H.useDeferredValue(M,Y)},wt.useEffect=function(M,Y){return N.H.useEffect(M,Y)},wt.useEffectEvent=function(M){return N.H.useEffectEvent(M)},wt.useId=function(){return N.H.useId()},wt.useImperativeHandle=function(M,Y,it){return N.H.useImperativeHandle(M,Y,it)},wt.useInsertionEffect=function(M,Y){return N.H.useInsertionEffect(M,Y)},wt.useLayoutEffect=function(M,Y){return N.H.useLayoutEffect(M,Y)},wt.useMemo=function(M,Y){return N.H.useMemo(M,Y)},wt.useOptimistic=function(M,Y){return N.H.useOptimistic(M,Y)},wt.useReducer=function(M,Y,it){return N.H.useReducer(M,Y,it)},wt.useRef=function(M){return N.H.useRef(M)},wt.useState=function(M){return N.H.useState(M)},wt.useSyncExternalStore=function(M,Y,it){return N.H.useSyncExternalStore(M,Y,it)},wt.useTransition=function(){return N.H.useTransition()},wt.version="19.2.3",wt}var cv;function zm(){return cv||(cv=1,Yd.exports=Bw()),Yd.exports}var ht=zm(),Kd={exports:{}},Dl={},Xd={exports:{}},$d={};var hv;function qw(){return hv||(hv=1,(function(s){function t(U,Z){var ut=U.length;U.push(Z);t:for(;0<ut;){var J=ut-1>>>1,Dt=U[J];if(0<o(Dt,Z))U[J]=Z,U[ut]=Dt,ut=J;else break t}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var Z=U[0],ut=U.pop();if(ut!==Z){U[0]=ut;t:for(var J=0,Dt=U.length,M=Dt>>>1;J<M;){var Y=2*(J+1)-1,it=U[Y],rt=Y+1,gt=U[rt];if(0>o(it,ut))rt<Dt&&0>o(gt,it)?(U[J]=gt,U[rt]=ut,J=rt):(U[J]=it,U[Y]=ut,J=Y);else if(rt<Dt&&0>o(gt,ut))U[J]=gt,U[rt]=ut,J=rt;else break t}}return Z}function o(U,Z){var ut=U.sortIndex-Z.sortIndex;return ut!==0?ut:U.id-Z.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();s.unstable_now=function(){return f.now()-p}}var _=[],y=[],E=1,w=null,R=3,F=!1,W=!1,et=!1,tt=!1,ft=typeof setTimeout=="function"?setTimeout:null,bt=typeof clearTimeout=="function"?clearTimeout:null,Tt=typeof setImmediate<"u"?setImmediate:null;function yt(U){for(var Z=n(y);Z!==null;){if(Z.callback===null)r(y);else if(Z.startTime<=U)r(y),Z.sortIndex=Z.expirationTime,t(_,Z);else break;Z=n(y)}}function Yt(U){if(et=!1,yt(U),!W)if(n(_)!==null)W=!0,Nt||(Nt=!0,k());else{var Z=n(y);Z!==null&&dt(Yt,Z.startTime-U)}}var Nt=!1,N=-1,S=5,x=-1;function V(){return tt?!0:!(s.unstable_now()-x<S)}function D(){if(tt=!1,Nt){var U=s.unstable_now();x=U;var Z=!0;try{t:{W=!1,et&&(et=!1,bt(N),N=-1),F=!0;var ut=R;try{e:{for(yt(U),w=n(_);w!==null&&!(w.expirationTime>U&&V());){var J=w.callback;if(typeof J=="function"){w.callback=null,R=w.priorityLevel;var Dt=J(w.expirationTime<=U);if(U=s.unstable_now(),typeof Dt=="function"){w.callback=Dt,yt(U),Z=!0;break e}w===n(_)&&r(_),yt(U)}else r(_);w=n(_)}if(w!==null)Z=!0;else{var M=n(y);M!==null&&dt(Yt,M.startTime-U),Z=!1}}break t}finally{w=null,R=ut,F=!1}Z=void 0}}finally{Z?k():Nt=!1}}}var k;if(typeof Tt=="function")k=function(){Tt(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,at=I.port2;I.port1.onmessage=D,k=function(){at.postMessage(null)}}else k=function(){ft(D,0)};function dt(U,Z){N=ft(function(){U(s.unstable_now())},Z)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(U){U.callback=null},s.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<U?Math.floor(1e3/U):5},s.unstable_getCurrentPriorityLevel=function(){return R},s.unstable_next=function(U){switch(R){case 1:case 2:case 3:var Z=3;break;default:Z=R}var ut=R;R=Z;try{return U()}finally{R=ut}},s.unstable_requestPaint=function(){tt=!0},s.unstable_runWithPriority=function(U,Z){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ut=R;R=U;try{return Z()}finally{R=ut}},s.unstable_scheduleCallback=function(U,Z,ut){var J=s.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?J+ut:J):ut=J,U){case 1:var Dt=-1;break;case 2:Dt=250;break;case 5:Dt=1073741823;break;case 4:Dt=1e4;break;default:Dt=5e3}return Dt=ut+Dt,U={id:E++,callback:Z,priorityLevel:U,startTime:ut,expirationTime:Dt,sortIndex:-1},ut>J?(U.sortIndex=ut,t(y,U),n(_)===null&&U===n(y)&&(et?(bt(N),N=-1):et=!0,dt(Yt,ut-J))):(U.sortIndex=Dt,t(_,U),W||F||(W=!0,Nt||(Nt=!0,k()))),U},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(U){var Z=R;return function(){var ut=R;R=Z;try{return U.apply(this,arguments)}finally{R=ut}}}})($d)),$d}var fv;function Hw(){return fv||(fv=1,Xd.exports=qw()),Xd.exports}var Jd={exports:{}},Ke={};var dv;function Fw(){if(dv)return Ke;dv=1;var s=zm();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(_,y,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:_,containerInfo:y,implementation:E}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ke.createPortal=function(_,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(_,y,null,E)},Ke.flushSync=function(_){var y=f.T,E=r.p;try{if(f.T=null,r.p=2,_)return _()}finally{f.T=y,r.p=E,r.d.f()}},Ke.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(_,y))},Ke.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},Ke.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var E=y.as,w=p(E,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,F=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?r.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:R,fetchPriority:F}):E==="script"&&r.d.X(_,{crossOrigin:w,integrity:R,fetchPriority:F,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ke.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=p(y.as,y.crossOrigin);r.d.M(_,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(_)},Ke.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,w=p(E,y.crossOrigin);r.d.L(_,E,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ke.preloadModule=function(_,y){if(typeof _=="string")if(y){var E=p(y.as,y.crossOrigin);r.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(_)},Ke.requestFormReset=function(_){r.d.r(_)},Ke.unstable_batchedUpdates=function(_,y){return _(y)},Ke.useFormState=function(_,y,E){return f.H.useFormState(_,y,E)},Ke.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ke.version="19.2.3",Ke}var mv;function nT(){if(mv)return Jd.exports;mv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Jd.exports=Fw(),Jd.exports}var pv;function Gw(){if(pv)return Dl;pv=1;var s=Hw(),t=zm(),n=nT();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function _(e){if(u(e)!==e)throw Error(r(188))}function y(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(r(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return _(h),e;if(d===l)return _(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=d;else{for(var g=!1,T=h.child;T;){if(T===a){g=!0,a=h,l=d;break}if(T===l){g=!0,l=h,a=d;break}T=T.sibling}if(!g){for(T=d.child;T;){if(T===a){g=!0,a=d,l=h;break}if(T===l){g=!0,l=d,a=h;break}T=T.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:i}function E(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=E(e),i!==null)return i;e=e.sibling}return null}var w=Object.assign,R=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),ft=Symbol.for("react.profiler"),bt=Symbol.for("react.consumer"),Tt=Symbol.for("react.context"),yt=Symbol.for("react.forward_ref"),Yt=Symbol.for("react.suspense"),Nt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function at(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case ft:return"Profiler";case tt:return"StrictMode";case Yt:return"Suspense";case Nt:return"SuspenseList";case x:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case Tt:return e.displayName||"Context";case bt:return(e._context.displayName||"Context")+".Consumer";case yt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return i=e.displayName||null,i!==null?i:at(e.type)||"Memo";case S:i=e._payload,e=e._init;try{return at(e(i))}catch{}}return null}var dt=Array.isArray,U=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},J=[],Dt=-1;function M(e){return{current:e}}function Y(e){0>Dt||(e.current=J[Dt],J[Dt]=null,Dt--)}function it(e,i){Dt++,J[Dt]=e.current,e.current=i}var rt=M(null),gt=M(null),Rt=M(null),zt=M(null);function De(e,i){switch(it(Rt,i),it(gt,e),it(rt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?N_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=N_(i),e=D_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(rt),it(rt,e)}function ae(){Y(rt),Y(gt),Y(Rt)}function fr(e){e.memoizedState!==null&&it(zt,e);var i=rt.current,a=D_(i,e.type);i!==a&&(it(gt,e),it(rt,a))}function sa(e){gt.current===e&&(Y(rt),Y(gt)),zt.current===e&&(Y(zt),xl._currentValue=ut)}var ra,aa;function si(e){if(ra===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ra=i&&i[1]||"",aa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ra+e+aa}var xo=!1;function dr(e,i){if(!e||xo)return"";xo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var B=H}Reflect.construct(e,[],X)}else{try{X.call()}catch(H){B=H}e.call(X.prototype)}}else{try{throw Error()}catch(H){B=H}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),g=d[0],T=d[1];if(g&&T){var C=g.split(`
`),z=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===z.length)for(l=C.length-1,h=z.length-1;1<=l&&0<=h&&C[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==z[h]){var G=`
`+C[l].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=l&&0<=h);break}}}finally{xo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?si(a):""}function Io(e,i){switch(e.tag){case 26:case 27:case 5:return si(e.type);case 16:return si("Lazy");case 13:return e.child!==i&&i!==null?si("Suspense Fallback"):si("Suspense");case 19:return si("SuspenseList");case 0:case 15:return dr(e.type,!1);case 11:return dr(e.type.render,!1);case 1:return dr(e.type,!0);case 31:return si("Activity");default:return""}}function Ro(e){try{var i="",a=null;do i+=Io(e,a),a=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _e=Object.prototype.hasOwnProperty,Oe=s.unstable_scheduleCallback,fs=s.unstable_cancelCallback,Yh=s.unstable_shouldYield,cu=s.unstable_requestPaint,We=s.unstable_now,mr=s.unstable_getCurrentPriorityLevel,Co=s.unstable_ImmediatePriority,No=s.unstable_UserBlockingPriority,ds=s.unstable_NormalPriority,Kh=s.unstable_LowPriority,hu=s.unstable_IdlePriority,fu=s.log,du=s.unstable_setDisableYieldValue,jn=null,je=null;function wn(e){if(typeof fu=="function"&&du(e),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(jn,e)}catch{}}var fe=Math.clz32?Math.clz32:pu,mu=Math.log,oa=Math.LN2;function pu(e){return e>>>=0,e===0?32:31-(mu(e)/oa|0)|0}var ri=256,pr=262144,ve=4194304;function ai(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function oi(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=ai(l):(g&=T,g!==0?h=ai(g):a||(a=T&~e,a!==0&&(h=ai(a))))):(T=l&~d,T!==0?h=ai(T):g!==0?h=ai(g):a||(a=l&~e,a!==0&&(h=ai(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function zn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Xh(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gu(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function li(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function gr(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function $h(e,i,a,l,h,d){var g=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,C=e.expirationTimes,z=e.hiddenUpdates;for(a=g&~a;0<a;){var G=31-fe(a),X=1<<G;T[G]=0,C[G]=-1;var B=z[G];if(B!==null)for(z[G]=null,G=0;G<B.length;G++){var H=B[G];H!==null&&(H.lane&=-536870913)}a&=~X}l!==0&&yr(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(g&~i))}function yr(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-fe(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Do(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-fe(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function Oo(e,i){var a=i&-i;return a=(a&42)!==0?1:_r(a),(a&(e.suspendedLanes|i))!==0?0:a}function _r(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Li(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function yu(){var e=Z.p;return e!==0?e:(e=window.event,e===void 0?32:tv(e.type))}function Bn(e,i){var a=Z.p;try{return Z.p=e,i()}finally{Z.p=a}}var qn=Math.random().toString(36).slice(2),Te="__reactFiber$"+qn,ke="__reactProps$"+qn,ui="__reactContainer$"+qn,la="__reactEvents$"+qn,Jh="__reactListeners$"+qn,_u="__reactHandles$"+qn,vu="__reactResources$"+qn,ci="__reactMarker$"+qn;function ua(e){delete e[Te],delete e[ke],delete e[la],delete e[Jh],delete e[_u]}function hi(e){var i=e[Te];if(i)return i;for(var a=e.parentNode;a;){if(i=a[ui]||a[Te]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=P_(e);e!==null;){if(a=e[Te])return a;e=P_(e)}return i}e=a,a=e.parentNode}return null}function Sn(e){if(e=e[Te]||e[ui]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function dn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function fi(e){var i=e[vu];return i||(i=e[vu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ee(e){e[ci]=!0}var Mo=new Set,Vo={};function di(e,i){mi(e,i),mi(e+"Capture",i)}function mi(e,i){for(Vo[e]=i,e=0;e<i.length;e++)Mo.add(i[e])}var ko=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lo={},Uo={};function Tu(e){return _e.call(Uo,e)?!0:_e.call(Lo,e)?!1:ko.test(e)?Uo[e]=!0:(Lo[e]=!0,!1)}function ca(e,i,a){if(Tu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function mn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function be(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function Le(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ms(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Po(e,i,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,d.call(this,g)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Kt(e){if(!e._valueTracker){var i=ms(e)?"checked":"value";e._valueTracker=Po(e,i,""+e[i])}}function vr(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=ms(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function pi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Tr=/[\n"\\]/g;function sn(e){return e.replace(Tr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ha(e,i,a,l,h,d,g,T){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),i!=null?g==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Le(i)):e.value!==""+Le(i)&&(e.value=""+Le(i)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),i!=null?jo(e,g,Le(i)):a!=null?jo(e,g,Le(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Le(T):e.removeAttribute("name")}function Eu(e,i,a,l,h,d,g,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Kt(e);return}a=a!=null?""+Le(a):"",i=i!=null?""+Le(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Kt(e)}function jo(e,i,a){i==="number"&&pi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ps(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Le(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function bu(e,i,a){if(i!=null&&(i=""+Le(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Le(a):""}function gs(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(dt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Le(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Kt(e)}function rn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Au=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zo(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||Au.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Bo(e,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&zo(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&zo(e,d,i[d])}function fa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ys=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function da(e){return ys.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Hn(){}var qo=null;function xn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _s=null,gi=null;function Er(e){var i=Sn(e);if(i&&(e=i.stateNode)){var a=e[ke]||null;t:switch(e=i.stateNode,i.type){case"input":if(ha(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[ke]||null;if(!h)throw Error(r(90));ha(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&vr(l)}break t;case"textarea":bu(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&ps(e,!!a.multiple,i,!1)}}}var ma=!1;function vs(e,i,a){if(ma)return e(i,a);ma=!0;try{var l=e(i);return l}finally{if(ma=!1,(_s!==null||gi!==null)&&(yc(),_s&&(i=_s,e=gi,gi=_s=null,Er(i),e)))for(i=0;i<e.length;i++)Er(e[i])}}function Fn(e,i){var a=e.stateNode;if(a===null)return null;var l=a[ke]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),br=!1;if(In)try{var Jt={};Object.defineProperty(Jt,"passive",{get:function(){br=!0}}),window.addEventListener("test",Jt,Jt),window.removeEventListener("test",Jt,Jt)}catch{br=!1}var yi=null,Ho=null,Ar=null;function Fo(){if(Ar)return Ar;var e,i=Ho,a=i.length,l,h="value"in yi?yi.value:yi.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var g=a-e;for(l=1;l<=g&&i[a-l]===h[d-l];l++);return Ar=h.slice(e,1<l?1-l:void 0)}function wr(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Ui(){return!0}function Gn(){return!1}function ze(e){function i(a,l,h,d,g){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ui:Gn,this.isPropagationStopped=Gn,this}return w(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),i}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_i=ze(Pi),Ts=w({},Pi,{view:0,detail:0}),Go=ze(Ts),Es,pa,vi,ga=w({},Ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vi&&(vi&&e.type==="mousemove"?(Es=e.screenX-vi.screenX,pa=e.screenY-vi.screenY):pa=Es=0,vi=e),Es)},movementY:function(e){return"movementY"in e?e.movementY:pa}}),Qo=ze(ga),Sr=w({},ga,{dataTransfer:0}),Su=ze(Sr),xu=w({},Ts,{relatedTarget:0}),xr=ze(xu),Yo=w({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),Iu=ze(Yo),ya=w({},Pi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ru=ze(ya),Cu=w({},Pi,{data:0}),Ti=ze(Cu),Nu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Ou[e])?!!i[e]:!1}function bs(){return Mu}var tn=w({},Ts,{key:function(e){if(e.key){var i=Nu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=wr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Du[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bs,charCode:function(e){return e.type==="keypress"?wr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vu=ze(tn),ku=w({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ji=ze(ku),c=w({},Ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bs}),m=ze(c),v=w({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=ze(v),P=w({},ga,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=ze(P),nt=w({},Pi,{newState:0,oldState:0}),xt=ze(nt),de=[9,13,27,32],Ft=In&&"CompositionEvent"in window,oe=null;In&&"documentMode"in document&&(oe=document.documentMode);var Rn=In&&"TextEvent"in window&&!oe,Ei=In&&(!Ft||oe&&8<oe&&11>=oe),Qn=" ",Yn=!1;function Ir(e,i){switch(e){case"keyup":return de.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _a(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var va=!1;function uA(e,i){switch(e){case"compositionend":return _a(i);case"keypress":return i.which!==32?null:(Yn=!0,Qn);case"textInput":return e=i.data,e===Qn&&Yn?null:e;default:return null}}function cA(e,i){if(va)return e==="compositionend"||!Ft&&Ir(e,i)?(e=Fo(),Ar=Ho=yi=null,va=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ei&&i.locale!=="ko"?null:i.data;default:return null}}var hA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bp(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!hA[e.type]:i==="textarea"}function qp(e,i,a,l){_s?gi?gi.push(l):gi=[l]:_s=l,i=wc(i,"onChange"),0<i.length&&(a=new _i("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Ko=null,Xo=null;function fA(e){w_(e,0)}function Lu(e){var i=dn(e);if(vr(i))return e}function Hp(e,i){if(e==="change")return i}var Fp=!1;if(In){var Zh;if(In){var Wh="oninput"in document;if(!Wh){var Gp=document.createElement("div");Gp.setAttribute("oninput","return;"),Wh=typeof Gp.oninput=="function"}Zh=Wh}else Zh=!1;Fp=Zh&&(!document.documentMode||9<document.documentMode)}function Qp(){Ko&&(Ko.detachEvent("onpropertychange",Yp),Xo=Ko=null)}function Yp(e){if(e.propertyName==="value"&&Lu(Xo)){var i=[];qp(i,Xo,e,xn(e)),vs(fA,i)}}function dA(e,i,a){e==="focusin"?(Qp(),Ko=i,Xo=a,Ko.attachEvent("onpropertychange",Yp)):e==="focusout"&&Qp()}function mA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Lu(Xo)}function pA(e,i){if(e==="click")return Lu(i)}function gA(e,i){if(e==="input"||e==="change")return Lu(i)}function yA(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var pn=typeof Object.is=="function"?Object.is:yA;function $o(e,i){if(pn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!_e.call(i,h)||!pn(e[h],i[h]))return!1}return!0}function Kp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xp(e,i){var a=Kp(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Kp(a)}}function $p(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?$p(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Jp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=pi(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=pi(e.document)}return i}function tf(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var _A=In&&"documentMode"in document&&11>=document.documentMode,Ta=null,ef=null,Jo=null,nf=!1;function Zp(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;nf||Ta==null||Ta!==pi(l)||(l=Ta,"selectionStart"in l&&tf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Jo&&$o(Jo,l)||(Jo=l,l=wc(ef,"onSelect"),0<l.length&&(i=new _i("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=Ta)))}function Rr(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Ea={animationend:Rr("Animation","AnimationEnd"),animationiteration:Rr("Animation","AnimationIteration"),animationstart:Rr("Animation","AnimationStart"),transitionrun:Rr("Transition","TransitionRun"),transitionstart:Rr("Transition","TransitionStart"),transitioncancel:Rr("Transition","TransitionCancel"),transitionend:Rr("Transition","TransitionEnd")},sf={},Wp={};In&&(Wp=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function Cr(e){if(sf[e])return sf[e];if(!Ea[e])return e;var i=Ea[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Wp)return sf[e]=i[a];return e}var tg=Cr("animationend"),eg=Cr("animationiteration"),ng=Cr("animationstart"),vA=Cr("transitionrun"),TA=Cr("transitionstart"),EA=Cr("transitioncancel"),ig=Cr("transitionend"),sg=new Map,rf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rf.push("scrollEnd");function Kn(e,i){sg.set(e,i),di(i,[e])}var Uu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Cn=[],ba=0,af=0;function Pu(){for(var e=ba,i=af=ba=0;i<e;){var a=Cn[i];Cn[i++]=null;var l=Cn[i];Cn[i++]=null;var h=Cn[i];Cn[i++]=null;var d=Cn[i];if(Cn[i++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}d!==0&&rg(a,h,d)}}function ju(e,i,a,l){Cn[ba++]=e,Cn[ba++]=i,Cn[ba++]=a,Cn[ba++]=l,af|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function of(e,i,a,l){return ju(e,i,a,l),zu(e)}function Nr(e,i){return ju(e,null,null,i),zu(e)}function rg(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-fe(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function zu(e){if(50<vl)throw vl=0,gd=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Aa={};function bA(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,i,a,l){return new bA(e,i,a,l)}function lf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zi(e,i){var a=e.alternate;return a===null?(a=gn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function ag(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Bu(e,i,a,l,h,d){var g=0;if(l=e,typeof e=="function")lf(e)&&(g=1);else if(typeof e=="string")g=Iw(e,a,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case x:return e=gn(31,a,i,h),e.elementType=x,e.lanes=d,e;case et:return Dr(a.children,h,d,i);case tt:g=8,h|=24;break;case ft:return e=gn(12,a,i,h|2),e.elementType=ft,e.lanes=d,e;case Yt:return e=gn(13,a,i,h),e.elementType=Yt,e.lanes=d,e;case Nt:return e=gn(19,a,i,h),e.elementType=Nt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Tt:g=10;break t;case bt:g=9;break t;case yt:g=11;break t;case N:g=14;break t;case S:g=16,l=null;break t}g=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return i=gn(g,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function Dr(e,i,a,l){return e=gn(7,e,l,i),e.lanes=a,e}function uf(e,i,a){return e=gn(6,e,null,i),e.lanes=a,e}function og(e){var i=gn(18,null,null,0);return i.stateNode=e,i}function cf(e,i,a){return i=gn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var lg=new WeakMap;function Nn(e,i){if(typeof e=="object"&&e!==null){var a=lg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Ro(i)},lg.set(e,i),i)}return{value:e,source:i,stack:Ro(i)}}var wa=[],Sa=0,qu=null,Zo=0,Dn=[],On=0,As=null,bi=1,Ai="";function Bi(e,i){wa[Sa++]=Zo,wa[Sa++]=qu,qu=e,Zo=i}function ug(e,i,a){Dn[On++]=bi,Dn[On++]=Ai,Dn[On++]=As,As=e;var l=bi;e=Ai;var h=32-fe(l)-1;l&=~(1<<h),a+=1;var d=32-fe(i)+h;if(30<d){var g=h-h%5;d=(l&(1<<g)-1).toString(32),l>>=g,h-=g,bi=1<<32-fe(i)+h|a<<h|l,Ai=d+e}else bi=1<<d|a<<h|l,Ai=e}function hf(e){e.return!==null&&(Bi(e,1),ug(e,1,0))}function ff(e){for(;e===qu;)qu=wa[--Sa],wa[Sa]=null,Zo=wa[--Sa],wa[Sa]=null;for(;e===As;)As=Dn[--On],Dn[On]=null,Ai=Dn[--On],Dn[On]=null,bi=Dn[--On],Dn[On]=null}function cg(e,i){Dn[On++]=bi,Dn[On++]=Ai,Dn[On++]=As,bi=i.id,Ai=i.overflow,As=e}var Be=null,ie=null,jt=!1,ws=null,Mn=!1,df=Error(r(519));function Ss(e){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wo(Nn(i,e)),df}function hg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Te]=e,i[ke]=l,a){case"dialog":Mt("cancel",i),Mt("close",i);break;case"iframe":case"object":case"embed":Mt("load",i);break;case"video":case"audio":for(a=0;a<El.length;a++)Mt(El[a],i);break;case"source":Mt("error",i);break;case"img":case"image":case"link":Mt("error",i),Mt("load",i);break;case"details":Mt("toggle",i);break;case"input":Mt("invalid",i),Eu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Mt("invalid",i);break;case"textarea":Mt("invalid",i),gs(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||R_(i.textContent,a)?(l.popover!=null&&(Mt("beforetoggle",i),Mt("toggle",i)),l.onScroll!=null&&Mt("scroll",i),l.onScrollEnd!=null&&Mt("scrollend",i),l.onClick!=null&&(i.onclick=Hn),i=!0):i=!1,i||Ss(e,!0)}function fg(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:Be=Be.return}}function xa(e){if(e!==Be)return!1;if(!jt)return fg(e),jt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Dd(e.type,e.memoizedProps)),a=!a),a&&ie&&Ss(e),fg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ie=U_(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ie=U_(e)}else i===27?(i=ie,js(e.type)?(e=Ld,Ld=null,ie=e):ie=i):ie=Be?kn(e.stateNode.nextSibling):null;return!0}function Or(){ie=Be=null,jt=!1}function mf(){var e=ws;return e!==null&&(un===null?un=e:un.push.apply(un,e),ws=null),e}function Wo(e){ws===null?ws=[e]:ws.push(e)}var pf=M(null),Mr=null,qi=null;function xs(e,i,a){it(pf,i._currentValue),i._currentValue=a}function Hi(e){e._currentValue=pf.current,Y(pf)}function gf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function yf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var g=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var C=0;C<i.length;C++)if(T.context===i[C]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),gf(d.return,a,e),l||(g=null);break t}d=T.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(r(341));g.lanes|=a,d=g.alternate,d!==null&&(d.lanes|=a),gf(g,a,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Ia(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var T=h.type;pn(h.pendingProps.value,g.value)||(e!==null?e.push(T):e=[T])}}else if(h===zt.current){if(g=h.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(xl):e=[xl])}h=h.return}e!==null&&yf(i,e,a,l),i.flags|=262144}function Hu(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Vr(e){Mr=e,qi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return dg(Mr,e)}function Fu(e,i){return Mr===null&&Vr(e),dg(e,i)}function dg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},qi===null){if(e===null)throw Error(r(308));qi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else qi=qi.next=i;return a}var AA=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},wA=s.unstable_scheduleCallback,SA=s.unstable_NormalPriority,Ae={$$typeof:Tt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _f(){return{controller:new AA,data:new Map,refCount:0}}function tl(e){e.refCount--,e.refCount===0&&wA(SA,function(){e.controller.abort()})}var el=null,vf=0,Ra=0,Ca=null;function xA(e,i){if(el===null){var a=el=[];vf=0,Ra=bd(),Ca={status:"pending",value:void 0,then:function(l){a.push(l)}}}return vf++,i.then(mg,mg),i}function mg(){if(--vf===0&&el!==null){Ca!==null&&(Ca.status="fulfilled");var e=el;el=null,Ra=0,Ca=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function IA(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var pg=U.S;U.S=function(e,i){Zy=We(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&xA(e,i),pg!==null&&pg(e,i)};var kr=M(null);function Tf(){var e=kr.current;return e!==null?e:ee.pooledCache}function Gu(e,i){i===null?it(kr,kr.current):it(kr,i.pool)}function gg(){var e=Tf();return e===null?null:{parent:Ae._currentValue,pool:e}}var Na=Error(r(460)),Ef=Error(r(474)),Qu=Error(r(542)),Yu={then:function(){}};function yg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function _g(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Hn,Hn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Tg(e),e;default:if(typeof i.status=="string")i.then(Hn,Hn);else{if(e=ee,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Tg(e),e}throw Ur=i,Na}}function Lr(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ur=a,Na):a}}var Ur=null;function vg(){if(Ur===null)throw Error(r(459));var e=Ur;return Ur=null,e}function Tg(e){if(e===Na||e===Qu)throw Error(r(483))}var Da=null,nl=0;function Ku(e){var i=nl;return nl+=1,Da===null&&(Da=[]),_g(Da,e,i)}function il(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Xu(e,i){throw i.$$typeof===R?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Eg(e){function i(L,O){if(e){var j=L.deletions;j===null?(L.deletions=[O],L.flags|=16):j.push(O)}}function a(L,O){if(!e)return null;for(;O!==null;)i(L,O),O=O.sibling;return null}function l(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function h(L,O){return L=zi(L,O),L.index=0,L.sibling=null,L}function d(L,O,j){return L.index=j,e?(j=L.alternate,j!==null?(j=j.index,j<O?(L.flags|=67108866,O):j):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function g(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function T(L,O,j,Q){return O===null||O.tag!==6?(O=uf(j,L.mode,Q),O.return=L,O):(O=h(O,j),O.return=L,O)}function C(L,O,j,Q){var mt=j.type;return mt===et?G(L,O,j.props.children,Q,j.key):O!==null&&(O.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===S&&Lr(mt)===O.type)?(O=h(O,j.props),il(O,j),O.return=L,O):(O=Bu(j.type,j.key,j.props,null,L.mode,Q),il(O,j),O.return=L,O)}function z(L,O,j,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==j.containerInfo||O.stateNode.implementation!==j.implementation?(O=cf(j,L.mode,Q),O.return=L,O):(O=h(O,j.children||[]),O.return=L,O)}function G(L,O,j,Q,mt){return O===null||O.tag!==7?(O=Dr(j,L.mode,Q,mt),O.return=L,O):(O=h(O,j),O.return=L,O)}function X(L,O,j){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=uf(""+O,L.mode,j),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case F:return j=Bu(O.type,O.key,O.props,null,L.mode,j),il(j,O),j.return=L,j;case W:return O=cf(O,L.mode,j),O.return=L,O;case S:return O=Lr(O),X(L,O,j)}if(dt(O)||k(O))return O=Dr(O,L.mode,j,null),O.return=L,O;if(typeof O.then=="function")return X(L,Ku(O),j);if(O.$$typeof===Tt)return X(L,Fu(L,O),j);Xu(L,O)}return null}function B(L,O,j,Q){var mt=O!==null?O.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return mt!==null?null:T(L,O,""+j,Q);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case F:return j.key===mt?C(L,O,j,Q):null;case W:return j.key===mt?z(L,O,j,Q):null;case S:return j=Lr(j),B(L,O,j,Q)}if(dt(j)||k(j))return mt!==null?null:G(L,O,j,Q,null);if(typeof j.then=="function")return B(L,O,Ku(j),Q);if(j.$$typeof===Tt)return B(L,O,Fu(L,j),Q);Xu(L,j)}return null}function H(L,O,j,Q,mt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return L=L.get(j)||null,T(O,L,""+Q,mt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case F:return L=L.get(Q.key===null?j:Q.key)||null,C(O,L,Q,mt);case W:return L=L.get(Q.key===null?j:Q.key)||null,z(O,L,Q,mt);case S:return Q=Lr(Q),H(L,O,j,Q,mt)}if(dt(Q)||k(Q))return L=L.get(j)||null,G(O,L,Q,mt,null);if(typeof Q.then=="function")return H(L,O,j,Ku(Q),mt);if(Q.$$typeof===Tt)return H(L,O,j,Fu(O,Q),mt);Xu(O,Q)}return null}function lt(L,O,j,Q){for(var mt=null,qt=null,ct=O,Ct=O=0,kt=null;ct!==null&&Ct<j.length;Ct++){ct.index>Ct?(kt=ct,ct=null):kt=ct.sibling;var Ht=B(L,ct,j[Ct],Q);if(Ht===null){ct===null&&(ct=kt);break}e&&ct&&Ht.alternate===null&&i(L,ct),O=d(Ht,O,Ct),qt===null?mt=Ht:qt.sibling=Ht,qt=Ht,ct=kt}if(Ct===j.length)return a(L,ct),jt&&Bi(L,Ct),mt;if(ct===null){for(;Ct<j.length;Ct++)ct=X(L,j[Ct],Q),ct!==null&&(O=d(ct,O,Ct),qt===null?mt=ct:qt.sibling=ct,qt=ct);return jt&&Bi(L,Ct),mt}for(ct=l(ct);Ct<j.length;Ct++)kt=H(ct,L,Ct,j[Ct],Q),kt!==null&&(e&&kt.alternate!==null&&ct.delete(kt.key===null?Ct:kt.key),O=d(kt,O,Ct),qt===null?mt=kt:qt.sibling=kt,qt=kt);return e&&ct.forEach(function(Fs){return i(L,Fs)}),jt&&Bi(L,Ct),mt}function _t(L,O,j,Q){if(j==null)throw Error(r(151));for(var mt=null,qt=null,ct=O,Ct=O=0,kt=null,Ht=j.next();ct!==null&&!Ht.done;Ct++,Ht=j.next()){ct.index>Ct?(kt=ct,ct=null):kt=ct.sibling;var Fs=B(L,ct,Ht.value,Q);if(Fs===null){ct===null&&(ct=kt);break}e&&ct&&Fs.alternate===null&&i(L,ct),O=d(Fs,O,Ct),qt===null?mt=Fs:qt.sibling=Fs,qt=Fs,ct=kt}if(Ht.done)return a(L,ct),jt&&Bi(L,Ct),mt;if(ct===null){for(;!Ht.done;Ct++,Ht=j.next())Ht=X(L,Ht.value,Q),Ht!==null&&(O=d(Ht,O,Ct),qt===null?mt=Ht:qt.sibling=Ht,qt=Ht);return jt&&Bi(L,Ct),mt}for(ct=l(ct);!Ht.done;Ct++,Ht=j.next())Ht=H(ct,L,Ct,Ht.value,Q),Ht!==null&&(e&&Ht.alternate!==null&&ct.delete(Ht.key===null?Ct:Ht.key),O=d(Ht,O,Ct),qt===null?mt=Ht:qt.sibling=Ht,qt=Ht);return e&&ct.forEach(function(Pw){return i(L,Pw)}),jt&&Bi(L,Ct),mt}function te(L,O,j,Q){if(typeof j=="object"&&j!==null&&j.type===et&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case F:t:{for(var mt=j.key;O!==null;){if(O.key===mt){if(mt=j.type,mt===et){if(O.tag===7){a(L,O.sibling),Q=h(O,j.props.children),Q.return=L,L=Q;break t}}else if(O.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===S&&Lr(mt)===O.type){a(L,O.sibling),Q=h(O,j.props),il(Q,j),Q.return=L,L=Q;break t}a(L,O);break}else i(L,O);O=O.sibling}j.type===et?(Q=Dr(j.props.children,L.mode,Q,j.key),Q.return=L,L=Q):(Q=Bu(j.type,j.key,j.props,null,L.mode,Q),il(Q,j),Q.return=L,L=Q)}return g(L);case W:t:{for(mt=j.key;O!==null;){if(O.key===mt)if(O.tag===4&&O.stateNode.containerInfo===j.containerInfo&&O.stateNode.implementation===j.implementation){a(L,O.sibling),Q=h(O,j.children||[]),Q.return=L,L=Q;break t}else{a(L,O);break}else i(L,O);O=O.sibling}Q=cf(j,L.mode,Q),Q.return=L,L=Q}return g(L);case S:return j=Lr(j),te(L,O,j,Q)}if(dt(j))return lt(L,O,j,Q);if(k(j)){if(mt=k(j),typeof mt!="function")throw Error(r(150));return j=mt.call(j),_t(L,O,j,Q)}if(typeof j.then=="function")return te(L,O,Ku(j),Q);if(j.$$typeof===Tt)return te(L,O,Fu(L,j),Q);Xu(L,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,O!==null&&O.tag===6?(a(L,O.sibling),Q=h(O,j),Q.return=L,L=Q):(a(L,O),Q=uf(j,L.mode,Q),Q.return=L,L=Q),g(L)):a(L,O)}return function(L,O,j,Q){try{nl=0;var mt=te(L,O,j,Q);return Da=null,mt}catch(ct){if(ct===Na||ct===Qu)throw ct;var qt=gn(29,ct,null,L.mode);return qt.lanes=Q,qt.return=L,qt}}}var Pr=Eg(!0),bg=Eg(!1),Is=!1;function bf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Af(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Rs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Cs(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=zu(e),rg(e,null,a),i}return ju(e,l,i,a),zu(e)}function sl(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Do(e,a)}}function wf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=g:d=d.next=g,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Sf=!1;function rl(){if(Sf){var e=Ca;if(e!==null)throw e}}function al(e,i,a,l){Sf=!1;var h=e.updateQueue;Is=!1;var d=h.firstBaseUpdate,g=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,z=C.next;C.next=null,g===null?d=z:g.next=z,g=C;var G=e.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==g&&(T===null?G.firstBaseUpdate=z:T.next=z,G.lastBaseUpdate=C))}if(d!==null){var X=h.baseState;g=0,G=z=C=null,T=d;do{var B=T.lane&-536870913,H=B!==T.lane;if(H?(Vt&B)===B:(l&B)===B){B!==0&&B===Ra&&(Sf=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var lt=e,_t=T;B=i;var te=a;switch(_t.tag){case 1:if(lt=_t.payload,typeof lt=="function"){X=lt.call(te,X,B);break t}X=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=_t.payload,B=typeof lt=="function"?lt.call(te,X,B):lt,B==null)break t;X=w({},X,B);break t;case 2:Is=!0}}B=T.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(z=G=H,C=X):G=G.next=H,g|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(C=X),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=G,d===null&&(h.shared.lanes=0),Vs|=g,e.lanes=g,e.memoizedState=X}}function Ag(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function wg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Ag(a[e],i)}var Oa=M(null),$u=M(0);function Sg(e,i){e=Zi,it($u,e),it(Oa,i),Zi=e|i.baseLanes}function xf(){it($u,Zi),it(Oa,Oa.current)}function If(){Zi=$u.current,Y(Oa),Y($u)}var yn=M(null),Vn=null;function Ns(e){var i=e.alternate;it(me,me.current&1),it(yn,e),Vn===null&&(i===null||Oa.current!==null||i.memoizedState!==null)&&(Vn=e)}function Rf(e){it(me,me.current),it(yn,e),Vn===null&&(Vn=e)}function xg(e){e.tag===22?(it(me,me.current),it(yn,e),Vn===null&&(Vn=e)):Ds()}function Ds(){it(me,me.current),it(yn,yn.current)}function _n(e){Y(yn),Vn===e&&(Vn=null),Y(me)}var me=M(0);function Ju(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Vd(a)||kd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Fi=0,It=null,Zt=null,we=null,Zu=!1,Ma=!1,jr=!1,Wu=0,ol=0,Va=null,RA=0;function ce(){throw Error(r(321))}function Cf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!pn(e[a],i[a]))return!1;return!0}function Nf(e,i,a,l,h,d){return Fi=d,It=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,U.H=e===null||e.memoizedState===null?uy:Gf,jr=!1,d=a(l,h),jr=!1,Ma&&(d=Rg(i,a,l,h)),Ig(e),d}function Ig(e){U.H=cl;var i=Zt!==null&&Zt.next!==null;if(Fi=0,we=Zt=It=null,Zu=!1,ol=0,Va=null,i)throw Error(r(300));e===null||Se||(e=e.dependencies,e!==null&&Hu(e)&&(Se=!0))}function Rg(e,i,a,l){It=e;var h=0;do{if(Ma&&(Va=null),ol=0,Ma=!1,25<=h)throw Error(r(301));if(h+=1,we=Zt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}U.H=cy,d=i(a,l)}while(Ma);return d}function CA(){var e=U.H,i=e.useState()[0];return i=typeof i.then=="function"?ll(i):i,e=e.useState()[0],(Zt!==null?Zt.memoizedState:null)!==e&&(It.flags|=1024),i}function Df(){var e=Wu!==0;return Wu=0,e}function Of(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Mf(e){if(Zu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Zu=!1}Fi=0,we=Zt=It=null,Ma=!1,ol=Wu=0,Va=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?It.memoizedState=we=e:we=we.next=e,we}function pe(){if(Zt===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var i=we===null?It.memoizedState:we.next;if(i!==null)we=i,Zt=e;else{if(e===null)throw It.alternate===null?Error(r(467)):Error(r(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},we===null?It.memoizedState=we=e:we=we.next=e}return we}function tc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ll(e){var i=ol;return ol+=1,Va===null&&(Va=[]),e=_g(Va,e,i),i=It,(we===null?i.memoizedState:we.next)===null&&(i=i.alternate,U.H=i===null||i.memoizedState===null?uy:Gf),e}function ec(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ll(e);if(e.$$typeof===Tt)return qe(e)}throw Error(r(438,String(e)))}function Vf(e){var i=null,a=It.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=tc(),It.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=V;return i.index++,a}function Gi(e,i){return typeof i=="function"?i(e):i}function nc(e){var i=pe();return kf(i,Zt,e)}function kf(e,i,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var g=h.next;h.next=d.next,d.next=g}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=g=null,C=null,z=i,G=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(Vt&X)===X:(Fi&X)===X){var B=z.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===Ra&&(G=!0);else if((Fi&B)===B){z=z.next,B===Ra&&(G=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(T=C=X,g=d):C=C.next=X,It.lanes|=B,Vs|=B;X=z.action,jr&&a(d,X),d=z.hasEagerState?z.eagerState:a(d,X)}else B={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(T=C=B,g=d):C=C.next=B,It.lanes|=X,Vs|=X;z=z.next}while(z!==null&&z!==i);if(C===null?g=d:C.next=T,!pn(d,e.memoizedState)&&(Se=!0,G&&(a=Ca,a!==null)))throw a;e.memoizedState=d,e.baseState=g,e.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Lf(e){var i=pe(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do d=e(d,g.action),g=g.next;while(g!==h);pn(d,i.memoizedState)||(Se=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Cg(e,i,a){var l=It,h=pe(),d=jt;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var g=!pn((Zt||h).memoizedState,a);if(g&&(h.memoizedState=a,Se=!0),h=h.queue,jf(Og.bind(null,l,h,e),[e]),h.getSnapshot!==i||g||we!==null&&we.memoizedState.tag&1){if(l.flags|=2048,ka(9,{destroy:void 0},Dg.bind(null,l,h,a,i),null),ee===null)throw Error(r(349));d||(Fi&127)!==0||Ng(l,i,a)}return a}function Ng(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=It.updateQueue,i===null?(i=tc(),It.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Dg(e,i,a,l){i.value=a,i.getSnapshot=l,Mg(i)&&Vg(e)}function Og(e,i,a){return a(function(){Mg(i)&&Vg(e)})}function Mg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!pn(e,a)}catch{return!0}}function Vg(e){var i=Nr(e,2);i!==null&&cn(i,e,2)}function Uf(e){var i=en();if(typeof e=="function"){var a=e;if(e=a(),jr){wn(!0);try{a()}finally{wn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:e},i}function kg(e,i,a,l){return e.baseState=a,kf(e,Zt,typeof l=="function"?l:Gi)}function NA(e,i,a,l,h){if(rc(e))throw Error(r(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){d.listeners.push(g)}};U.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Lg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Lg(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=U.T,g={};U.T=g;try{var T=a(h,l),C=U.S;C!==null&&C(g,T),Ug(e,i,T)}catch(z){Pf(e,i,z)}finally{d!==null&&g.types!==null&&(d.types=g.types),U.T=d}}else try{d=a(h,l),Ug(e,i,d)}catch(z){Pf(e,i,z)}}function Ug(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Pg(e,i,l)},function(l){return Pf(e,i,l)}):Pg(e,i,a)}function Pg(e,i,a){i.status="fulfilled",i.value=a,jg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Lg(e,a)))}function Pf(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,jg(i),i=i.next;while(i!==l)}e.action=null}function jg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function zg(e,i){return i}function Bg(e,i){if(jt){var a=ee.formState;if(a!==null){t:{var l=It;if(jt){if(ie){e:{for(var h=ie,d=Mn;h.nodeType!==8;){if(!d){h=null;break e}if(h=kn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ie=kn(h.nextSibling),l=h.data==="F!";break t}}Ss(l)}l=!1}l&&(i=a[0])}}return a=en(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zg,lastRenderedState:i},a.queue=l,a=ay.bind(null,It,l),l.dispatch=a,l=Uf(!1),d=Ff.bind(null,It,!1,l.queue),l=en(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=NA.bind(null,It,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function qg(e){var i=pe();return Hg(i,Zt,e)}function Hg(e,i,a){if(i=kf(e,i,zg)[0],e=nc(Gi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ll(i)}catch(g){throw g===Na?Qu:g}else l=i;i=pe();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(It.flags|=2048,ka(9,{destroy:void 0},DA.bind(null,h,a),null)),[l,d,e]}function DA(e,i){e.action=i}function Fg(e){var i=pe(),a=Zt;if(a!==null)return Hg(i,a,e);pe(),i=i.memoizedState,a=pe();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function ka(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=It.updateQueue,i===null&&(i=tc(),It.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function Gg(){return pe().memoizedState}function ic(e,i,a,l){var h=en();It.flags|=e,h.memoizedState=ka(1|i,{destroy:void 0},a,l===void 0?null:l)}function sc(e,i,a,l){var h=pe();l=l===void 0?null:l;var d=h.memoizedState.inst;Zt!==null&&l!==null&&Cf(l,Zt.memoizedState.deps)?h.memoizedState=ka(i,d,a,l):(It.flags|=e,h.memoizedState=ka(1|i,d,a,l))}function Qg(e,i){ic(8390656,8,e,i)}function jf(e,i){sc(2048,8,e,i)}function OA(e){It.flags|=4;var i=It.updateQueue;if(i===null)i=tc(),It.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function Yg(e){var i=pe().memoizedState;return OA({ref:i,nextImpl:e}),function(){if((Gt&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Kg(e,i){return sc(4,2,e,i)}function Xg(e,i){return sc(4,4,e,i)}function $g(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Jg(e,i,a){a=a!=null?a.concat([e]):null,sc(4,4,$g.bind(null,i,e),a)}function zf(){}function Zg(e,i){var a=pe();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Cf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function Wg(e,i){var a=pe();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Cf(i,l[1]))return l[0];if(l=e(),jr){wn(!0);try{e()}finally{wn(!1)}}return a.memoizedState=[l,i],l}function Bf(e,i,a){return a===void 0||(Fi&1073741824)!==0&&(Vt&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=t_(),It.lanes|=e,Vs|=e,a)}function ty(e,i,a,l){return pn(a,i)?a:Oa.current!==null?(e=Bf(e,a,l),pn(e,i)||(Se=!0),e):(Fi&42)===0||(Fi&1073741824)!==0&&(Vt&261930)===0?(Se=!0,e.memoizedState=a):(e=t_(),It.lanes|=e,Vs|=e,i)}function ey(e,i,a,l,h){var d=Z.p;Z.p=d!==0&&8>d?d:8;var g=U.T,T={};U.T=T,Ff(e,!1,i,a);try{var C=h(),z=U.S;if(z!==null&&z(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=IA(C,l);ul(e,i,G,En(e))}else ul(e,i,l,En(e))}catch(X){ul(e,i,{then:function(){},status:"rejected",reason:X},En())}finally{Z.p=d,g!==null&&T.types!==null&&(g.types=T.types),U.T=g}}function MA(){}function qf(e,i,a,l){if(e.tag!==5)throw Error(r(476));var h=ny(e).queue;ey(e,h,i,ut,a===null?MA:function(){return iy(e),a(l)})}function ny(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:ut},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function iy(e){var i=ny(e);i.next===null&&(i=e.alternate.memoizedState),ul(e,i.next.queue,{},En())}function Hf(){return qe(xl)}function sy(){return pe().memoizedState}function ry(){return pe().memoizedState}function VA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=En();e=Rs(a);var l=Cs(i,e,a);l!==null&&(cn(l,i,a),sl(l,i,a)),i={cache:_f()},e.payload=i;return}i=i.return}}function kA(e,i,a){var l=En();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},rc(e)?oy(i,a):(a=of(e,i,a,l),a!==null&&(cn(a,e,l),ly(a,i,l)))}function ay(e,i,a){var l=En();ul(e,i,a,l)}function ul(e,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(rc(e))oy(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var g=i.lastRenderedState,T=d(g,a);if(h.hasEagerState=!0,h.eagerState=T,pn(T,g))return ju(e,i,h,0),ee===null&&Pu(),!1}catch{}if(a=of(e,i,h,l),a!==null)return cn(a,e,l),ly(a,i,l),!0}return!1}function Ff(e,i,a,l){if(l={lane:2,revertLane:bd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},rc(e)){if(i)throw Error(r(479))}else i=of(e,a,l,2),i!==null&&cn(i,e,2)}function rc(e){var i=e.alternate;return e===It||i!==null&&i===It}function oy(e,i){Ma=Zu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function ly(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Do(e,a)}}var cl={readContext:qe,use:ec,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};cl.useEffectEvent=ce;var uy={readContext:qe,use:ec,useCallback:function(e,i){return en().memoizedState=[e,i===void 0?null:i],e},useContext:qe,useEffect:Qg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,ic(4194308,4,$g.bind(null,i,e),a)},useLayoutEffect:function(e,i){return ic(4194308,4,e,i)},useInsertionEffect:function(e,i){ic(4,2,e,i)},useMemo:function(e,i){var a=en();i=i===void 0?null:i;var l=e();if(jr){wn(!0);try{e()}finally{wn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=en();if(a!==void 0){var h=a(i);if(jr){wn(!0);try{a(i)}finally{wn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=kA.bind(null,It,e),[l.memoizedState,e]},useRef:function(e){var i=en();return e={current:e},i.memoizedState=e},useState:function(e){e=Uf(e);var i=e.queue,a=ay.bind(null,It,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:zf,useDeferredValue:function(e,i){var a=en();return Bf(a,e,i)},useTransition:function(){var e=Uf(!1);return e=ey.bind(null,It,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=It,h=en();if(jt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),ee===null)throw Error(r(349));(Vt&127)!==0||Ng(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Qg(Og.bind(null,l,d,e),[e]),l.flags|=2048,ka(9,{destroy:void 0},Dg.bind(null,l,d,a,i),null),a},useId:function(){var e=en(),i=ee.identifierPrefix;if(jt){var a=Ai,l=bi;a=(l&~(1<<32-fe(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Wu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=RA++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Hf,useFormState:Bg,useActionState:Bg,useOptimistic:function(e){var i=en();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Ff.bind(null,It,!0,a),a.dispatch=i,[e,i]},useMemoCache:Vf,useCacheRefresh:function(){return en().memoizedState=VA.bind(null,It)},useEffectEvent:function(e){var i=en(),a={impl:e};return i.memoizedState=a,function(){if((Gt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Gf={readContext:qe,use:ec,useCallback:Zg,useContext:qe,useEffect:jf,useImperativeHandle:Jg,useInsertionEffect:Kg,useLayoutEffect:Xg,useMemo:Wg,useReducer:nc,useRef:Gg,useState:function(){return nc(Gi)},useDebugValue:zf,useDeferredValue:function(e,i){var a=pe();return ty(a,Zt.memoizedState,e,i)},useTransition:function(){var e=nc(Gi)[0],i=pe().memoizedState;return[typeof e=="boolean"?e:ll(e),i]},useSyncExternalStore:Cg,useId:sy,useHostTransitionStatus:Hf,useFormState:qg,useActionState:qg,useOptimistic:function(e,i){var a=pe();return kg(a,Zt,e,i)},useMemoCache:Vf,useCacheRefresh:ry};Gf.useEffectEvent=Yg;var cy={readContext:qe,use:ec,useCallback:Zg,useContext:qe,useEffect:jf,useImperativeHandle:Jg,useInsertionEffect:Kg,useLayoutEffect:Xg,useMemo:Wg,useReducer:Lf,useRef:Gg,useState:function(){return Lf(Gi)},useDebugValue:zf,useDeferredValue:function(e,i){var a=pe();return Zt===null?Bf(a,e,i):ty(a,Zt.memoizedState,e,i)},useTransition:function(){var e=Lf(Gi)[0],i=pe().memoizedState;return[typeof e=="boolean"?e:ll(e),i]},useSyncExternalStore:Cg,useId:sy,useHostTransitionStatus:Hf,useFormState:Fg,useActionState:Fg,useOptimistic:function(e,i){var a=pe();return Zt!==null?kg(a,Zt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Vf,useCacheRefresh:ry};cy.useEffectEvent=Yg;function Qf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:w({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Yf={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=En(),h=Rs(l);h.payload=i,a!=null&&(h.callback=a),i=Cs(e,h,l),i!==null&&(cn(i,e,l),sl(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=En(),h=Rs(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Cs(e,h,l),i!==null&&(cn(i,e,l),sl(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=En(),l=Rs(a);l.tag=2,i!=null&&(l.callback=i),i=Cs(e,l,a),i!==null&&(cn(i,e,a),sl(i,e,a))}};function hy(e,i,a,l,h,d,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,g):i.prototype&&i.prototype.isPureReactComponent?!$o(a,l)||!$o(h,d):!0}function fy(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&Yf.enqueueReplaceState(i,i.state,null)}function zr(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=w({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function dy(e){Uu(e)}function my(e){console.error(e)}function py(e){Uu(e)}function ac(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function gy(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Kf(e,i,a){return a=Rs(a),a.tag=3,a.payload={element:null},a.callback=function(){ac(e,i)},a}function yy(e){return e=Rs(e),e.tag=3,e}function _y(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){gy(i,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){gy(i,a,l),typeof h!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function LA(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ia(i,a,h,!0),a=yn.current,a!==null){switch(a.tag){case 31:case 13:return Vn===null?_c():a.alternate===null&&he===0&&(he=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Yu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),vd(e,l,h)),!1;case 22:return a.flags|=65536,l===Yu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),vd(e,l,h)),!1}throw Error(r(435,a.tag))}return vd(e,l,h),_c(),!1}if(jt)return i=yn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==df&&(e=Error(r(422),{cause:l}),Wo(Nn(e,a)))):(l!==df&&(i=Error(r(423),{cause:l}),Wo(Nn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Nn(l,a),h=Kf(e.stateNode,l,h),wf(e,h),he!==4&&(he=2)),!1;var d=Error(r(520),{cause:l});if(d=Nn(d,a),_l===null?_l=[d]:_l.push(d),he!==4&&(he=2),i===null)return!0;l=Nn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Kf(a.stateNode,l,e),wf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ks===null||!ks.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=yy(h),_y(h,e,a,l),wf(a,h),!1}a=a.return}while(a!==null);return!1}var Xf=Error(r(461)),Se=!1;function He(e,i,a,l){i.child=e===null?bg(i,null,a,l):Pr(i,e.child,a,l)}function vy(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var g={};for(var T in l)T!=="ref"&&(g[T]=l[T])}else g=l;return Vr(i),l=Nf(e,i,a,g,d,h),T=Df(),e!==null&&!Se?(Of(e,i,h),Qi(e,i,h)):(jt&&T&&hf(i),i.flags|=1,He(e,i,l,h),i.child)}function Ty(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!lf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Ey(e,i,d,l,h)):(e=Bu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!id(e,h)){var g=d.memoizedProps;if(a=a.compare,a=a!==null?a:$o,a(g,l)&&e.ref===i.ref)return Qi(e,i,h)}return i.flags|=1,e=zi(d,l),e.ref=i.ref,e.return=i,i.child=e}function Ey(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if($o(d,l)&&e.ref===i.ref)if(Se=!1,i.pendingProps=l=d,id(e,h))(e.flags&131072)!==0&&(Se=!0);else return i.lanes=e.lanes,Qi(e,i,h)}return $f(e,i,a,l,h)}function by(e,i,a,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=i.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Ay(e,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Gu(i,d!==null?d.cachePool:null),d!==null?Sg(i,d):xf(),xg(i);else return l=i.lanes=536870912,Ay(e,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Gu(i,d.cachePool),Sg(i,d),Ds(),i.memoizedState=null):(e!==null&&Gu(i,null),xf(),Ds());return He(e,i,h,a),i.child}function hl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Ay(e,i,a,l,h){var d=Tf();return d=d===null?null:{parent:Ae._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&Gu(i,null),xf(),xg(i),e!==null&&Ia(e,i,l,!0),i.childLanes=h,null}function oc(e,i){return i=uc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function wy(e,i,a){return Pr(i,e.child,null,a),e=oc(i,i.pendingProps),e.flags|=2,_n(i),i.memoizedState=null,e}function UA(e,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(jt){if(l.mode==="hidden")return e=oc(i,l),i.lanes=536870912,hl(null,e);if(Rf(i),(e=ie)?(e=L_(e,Mn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:As!==null?{id:bi,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=og(e),a.return=i,i.child=a,Be=i,ie=null)):e=null,e===null)throw Ss(i);return i.lanes=536870912,null}return oc(i,l)}var d=e.memoizedState;if(d!==null){var g=d.dehydrated;if(Rf(i),h)if(i.flags&256)i.flags&=-257,i=wy(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(r(558));else if(Se||Ia(e,i,a,!1),h=(a&e.childLanes)!==0,Se||h){if(l=ee,l!==null&&(g=Oo(l,a),g!==0&&g!==d.retryLane))throw d.retryLane=g,Nr(e,g),cn(l,e,g),Xf;_c(),i=wy(e,i,a)}else e=d.treeContext,ie=kn(g.nextSibling),Be=i,jt=!0,ws=null,Mn=!1,e!==null&&cg(i,e),i=oc(i,l),i.flags|=4096;return i}return e=zi(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function lc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function $f(e,i,a,l,h){return Vr(i),a=Nf(e,i,a,l,void 0,h),l=Df(),e!==null&&!Se?(Of(e,i,h),Qi(e,i,h)):(jt&&l&&hf(i),i.flags|=1,He(e,i,a,h),i.child)}function Sy(e,i,a,l,h,d){return Vr(i),i.updateQueue=null,a=Rg(i,l,a,h),Ig(e),l=Df(),e!==null&&!Se?(Of(e,i,d),Qi(e,i,d)):(jt&&l&&hf(i),i.flags|=1,He(e,i,a,d),i.child)}function xy(e,i,a,l,h){if(Vr(i),i.stateNode===null){var d=Aa,g=a.contextType;typeof g=="object"&&g!==null&&(d=qe(g)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Yf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},bf(i),g=a.contextType,d.context=typeof g=="object"&&g!==null?qe(g):Aa,d.state=i.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Qf(i,a,g,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(g=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),g!==d.state&&Yf.enqueueReplaceState(d,d.state,null),al(i,l,d,h),rl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,C=zr(a,T);d.props=C;var z=d.context,G=a.contextType;g=Aa,typeof G=="object"&&G!==null&&(g=qe(G));var X=a.getDerivedStateFromProps;G=typeof X=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||z!==g)&&fy(i,d,l,g),Is=!1;var B=i.memoizedState;d.state=B,al(i,l,d,h),rl(),z=i.memoizedState,T||B!==z||Is?(typeof X=="function"&&(Qf(i,a,X,l),z=i.memoizedState),(C=Is||hy(i,a,C,l,B,z,g))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=g,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Af(e,i),g=i.memoizedProps,G=zr(a,g),d.props=G,X=i.pendingProps,B=d.context,z=a.contextType,C=Aa,typeof z=="object"&&z!==null&&(C=qe(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==X||B!==C)&&fy(i,d,l,C),Is=!1,B=i.memoizedState,d.state=B,al(i,l,d,h),rl();var H=i.memoizedState;g!==X||B!==H||Is||e!==null&&e.dependencies!==null&&Hu(e.dependencies)?(typeof T=="function"&&(Qf(i,a,T,l),H=i.memoizedState),(G=Is||hy(i,a,G,l,B,H,C)||e!==null&&e.dependencies!==null&&Hu(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=C,l=G):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,lc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Pr(i,e.child,null,h),i.child=Pr(i,null,a,h)):He(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Qi(e,i,h),e}function Iy(e,i,a,l){return Or(),i.flags|=256,He(e,i,a,l),i.child}var Jf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zf(e){return{baseLanes:e,cachePool:gg()}}function Wf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Tn),e}function Ry(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,g;if((g=d)||(g=e!==null&&e.memoizedState===null?!1:(me.current&2)!==0),g&&(h=!0,i.flags&=-129),g=(i.flags&32)!==0,i.flags&=-33,e===null){if(jt){if(h?Ns(i):Ds(),(e=ie)?(e=L_(e,Mn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:As!==null?{id:bi,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=og(e),a.return=i,i.child=a,Be=i,ie=null)):e=null,e===null)throw Ss(i);return kd(e)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Ds(),h=i.mode,T=uc({mode:"hidden",children:T},h),l=Dr(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=Zf(a),l.childLanes=Wf(e,g,a),i.memoizedState=Jf,hl(null,l)):(Ns(i),td(i,T))}var C=e.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(d)i.flags&256?(Ns(i),i.flags&=-257,i=ed(e,i,a)):i.memoizedState!==null?(Ds(),i.child=e.child,i.flags|=128,i=null):(Ds(),T=l.fallback,h=i.mode,l=uc({mode:"visible",children:l.children},h),T=Dr(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,Pr(i,e.child,null,a),l=i.child,l.memoizedState=Zf(a),l.childLanes=Wf(e,g,a),i.memoizedState=Jf,i=hl(null,l));else if(Ns(i),kd(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var z=g.dgst;g=z,l=Error(r(419)),l.stack="",l.digest=g,Wo({value:l,source:null,stack:null}),i=ed(e,i,a)}else if(Se||Ia(e,i,a,!1),g=(a&e.childLanes)!==0,Se||g){if(g=ee,g!==null&&(l=Oo(g,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,Nr(e,l),cn(g,e,l),Xf;Vd(T)||_c(),i=ed(e,i,a)}else Vd(T)?(i.flags|=192,i.child=e.child,i=null):(e=C.treeContext,ie=kn(T.nextSibling),Be=i,jt=!0,ws=null,Mn=!1,e!==null&&cg(i,e),i=td(i,l.children),i.flags|=4096);return i}return h?(Ds(),T=l.fallback,h=i.mode,C=e.child,z=C.sibling,l=zi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,z!==null?T=zi(z,T):(T=Dr(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,hl(null,l),l=i.child,T=e.child.memoizedState,T===null?T=Zf(a):(h=T.cachePool,h!==null?(C=Ae._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=gg(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=Wf(e,g,a),i.memoizedState=Jf,hl(e.child,l)):(Ns(i),a=e.child,e=a.sibling,a=zi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(g=i.deletions,g===null?(i.deletions=[e],i.flags|=16):g.push(e)),i.child=a,i.memoizedState=null,a)}function td(e,i){return i=uc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function uc(e,i){return e=gn(22,e,null,i),e.lanes=0,e}function ed(e,i,a){return Pr(i,e.child,null,a),e=td(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Cy(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),gf(e.return,i,a)}function nd(e,i,a,l,h,d){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=h,g.treeForkCount=d)}function Ny(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var g=me.current,T=(g&2)!==0;if(T?(g=g&1|2,i.flags|=128):g&=1,it(me,g),He(e,i,l,a),l=jt?Zo:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cy(e,a,i);else if(e.tag===19)Cy(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Ju(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),nd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Ju(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}nd(i,!0,a,null,d,l);break;case"together":nd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Qi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Vs|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Ia(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,a=zi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=zi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function id(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Hu(e)))}function PA(e,i,a){switch(i.tag){case 3:De(i,i.stateNode.containerInfo),xs(i,Ae,e.memoizedState.cache),Or();break;case 27:case 5:fr(i);break;case 4:De(i,i.stateNode.containerInfo);break;case 10:xs(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Rf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ns(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Ry(e,i,a):(Ns(i),e=Qi(e,i,a),e!==null?e.sibling:null);Ns(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ia(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Ny(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(me,me.current),l)break;return null;case 22:return i.lanes=0,by(e,i,a,i.pendingProps);case 24:xs(i,Ae,e.memoizedState.cache)}return Qi(e,i,a)}function Dy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Se=!0;else{if(!id(e,a)&&(i.flags&128)===0)return Se=!1,PA(e,i,a);Se=(e.flags&131072)!==0}else Se=!1,jt&&(i.flags&1048576)!==0&&ug(i,Zo,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=Lr(i.elementType),i.type=e,typeof e=="function")lf(e)?(l=zr(e,l),i.tag=1,i=xy(null,i,e,l,a)):(i.tag=0,i=$f(null,i,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===yt){i.tag=11,i=vy(null,i,e,l,a);break t}else if(h===N){i.tag=14,i=Ty(null,i,e,l,a);break t}}throw i=at(e)||e,Error(r(306,i,""))}}return i;case 0:return $f(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=zr(l,i.pendingProps),xy(e,i,l,h,a);case 3:t:{if(De(i,i.stateNode.containerInfo),e===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Af(e,i),al(i,l,null,a);var g=i.memoizedState;if(l=g.cache,xs(i,Ae,l),l!==d.cache&&yf(i,[Ae],a,!0),rl(),l=g.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:g.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Iy(e,i,l,a);break t}else if(l!==h){h=Nn(Error(r(424)),i),Wo(h),i=Iy(e,i,l,a);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ie=kn(e.firstChild),Be=i,jt=!0,ws=null,Mn=!0,a=bg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Or(),l===h){i=Qi(e,i,a);break t}He(e,i,l,a)}i=i.child}return i;case 26:return lc(e,i),e===null?(a=q_(i.type,null,i.pendingProps,null))?i.memoizedState=a:jt||(a=i.type,e=i.pendingProps,l=Sc(Rt.current).createElement(a),l[Te]=i,l[ke]=e,Fe(l,a,e),Ee(l),i.stateNode=l):i.memoizedState=q_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return fr(i),e===null&&jt&&(l=i.stateNode=j_(i.type,i.pendingProps,Rt.current),Be=i,Mn=!0,h=ie,js(i.type)?(Ld=h,ie=kn(l.firstChild)):ie=h),He(e,i,i.pendingProps.children,a),lc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&jt&&((h=l=ie)&&(l=mw(l,i.type,i.pendingProps,Mn),l!==null?(i.stateNode=l,Be=i,ie=kn(l.firstChild),Mn=!1,h=!0):h=!1),h||Ss(i)),fr(i),h=i.type,d=i.pendingProps,g=e!==null?e.memoizedProps:null,l=d.children,Dd(h,d)?l=null:g!==null&&Dd(h,g)&&(i.flags|=32),i.memoizedState!==null&&(h=Nf(e,i,CA,null,null,a),xl._currentValue=h),lc(e,i),He(e,i,l,a),i.child;case 6:return e===null&&jt&&((e=a=ie)&&(a=pw(a,i.pendingProps,Mn),a!==null?(i.stateNode=a,Be=i,ie=null,e=!0):e=!1),e||Ss(i)),null;case 13:return Ry(e,i,a);case 4:return De(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Pr(i,null,l,a):He(e,i,l,a),i.child;case 11:return vy(e,i,i.type,i.pendingProps,a);case 7:return He(e,i,i.pendingProps,a),i.child;case 8:return He(e,i,i.pendingProps.children,a),i.child;case 12:return He(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,xs(i,i.type,l.value),He(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Vr(i),h=qe(h),l=l(h),i.flags|=1,He(e,i,l,a),i.child;case 14:return Ty(e,i,i.type,i.pendingProps,a);case 15:return Ey(e,i,i.type,i.pendingProps,a);case 19:return Ny(e,i,a);case 31:return UA(e,i,a);case 22:return by(e,i,a,i.pendingProps);case 24:return Vr(i),l=qe(Ae),e===null?(h=Tf(),h===null&&(h=ee,d=_f(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},bf(i),xs(i,Ae,h)):((e.lanes&a)!==0&&(Af(e,i),al(i,null,null,a),rl()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),xs(i,Ae,l)):(l=d.cache,xs(i,Ae,l),l!==h.cache&&yf(i,[Ae],a,!0))),He(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Yi(e){e.flags|=4}function sd(e,i,a,l,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(s_())e.flags|=8192;else throw Ur=Yu,Ef}else e.flags&=-16777217}function Oy(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Y_(i))if(s_())e.flags|=8192;else throw Ur=Yu,Ef}function cc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?gu():536870912,e.lanes|=i,ja|=i)}function fl(e,i){if(!jt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function se(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function jA(e,i,a){var l=i.pendingProps;switch(ff(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(i),null;case 1:return se(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Hi(Ae),ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(xa(i)?Yi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,mf())),se(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?(Yi(i),d!==null?(se(i),Oy(i,d)):(se(i),sd(i,h,null,l,a))):d?d!==e.memoizedState?(Yi(i),se(i),Oy(i,d)):(se(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&Yi(i),se(i),sd(i,h,e,l,a)),null;case 27:if(sa(i),a=Rt.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Yi(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return se(i),null}e=rt.current,xa(i)?hg(i):(e=j_(h,l,a),i.stateNode=e,Yi(i))}return se(i),null;case 5:if(sa(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Yi(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return se(i),null}if(d=rt.current,xa(i))hg(i);else{var g=Sc(Rt.current);switch(d){case 1:d=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=g.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}d[Te]=i,d[ke]=l;t:for(g=i.child;g!==null;){if(g.tag===5||g.tag===6)d.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break t;for(;g.sibling===null;){if(g.return===null||g.return===i)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}i.stateNode=d;t:switch(Fe(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Yi(i)}}return se(i),sd(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Yi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(e=Rt.current,xa(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=Be,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Te]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||R_(e.nodeValue,a)),e||Ss(i,!0)}else e=Sc(e).createTextNode(l),e[Te]=i,i.stateNode=e}return se(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(l=xa(i),a!==null){if(e===null){if(!l)throw Error(r(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Te]=i}else Or(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;se(i),e=!1}else a=mf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(_n(i),i):(_n(i),null);if((i.flags&128)!==0)throw Error(r(558))}return se(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=xa(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Te]=i}else Or(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;se(i),h=!1}else h=mf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(_n(i),i):(_n(i),null)}return _n(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),cc(i,i.updateQueue),se(i),null);case 4:return ae(),e===null&&xd(i.stateNode.containerInfo),se(i),null;case 10:return Hi(i.type),se(i),null;case 19:if(Y(me),l=i.memoizedState,l===null)return se(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)fl(l,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Ju(e),d!==null){for(i.flags|=128,fl(l,!1),e=d.updateQueue,i.updateQueue=e,cc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)ag(a,e),a=a.sibling;return it(me,me.current&1|2),jt&&Bi(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&We()>pc&&(i.flags|=128,h=!0,fl(l,!1),i.lanes=4194304)}else{if(!h)if(e=Ju(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,cc(i,e),fl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!jt)return se(i),null}else 2*We()-l.renderingStartTime>pc&&a!==536870912&&(i.flags|=128,h=!0,fl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(e=l.last,e!==null?e.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=We(),e.sibling=null,a=me.current,it(me,h?a&1|2:a&1),jt&&Bi(i,l.treeForkCount),e):(se(i),null);case 22:case 23:return _n(i),If(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(se(i),i.subtreeFlags&6&&(i.flags|=8192)):se(i),a=i.updateQueue,a!==null&&cc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&Y(kr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Hi(Ae),se(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function zA(e,i){switch(ff(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Hi(Ae),ae(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return sa(i),null;case 31:if(i.memoizedState!==null){if(_n(i),i.alternate===null)throw Error(r(340));Or()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(_n(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Or()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return Y(me),null;case 4:return ae(),null;case 10:return Hi(i.type),null;case 22:case 23:return _n(i),If(),e!==null&&Y(kr),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Hi(Ae),null;case 25:return null;default:return null}}function My(e,i){switch(ff(i),i.tag){case 3:Hi(Ae),ae();break;case 26:case 27:case 5:sa(i);break;case 4:ae();break;case 31:i.memoizedState!==null&&_n(i);break;case 13:_n(i);break;case 19:Y(me);break;case 10:Hi(i.type);break;case 22:case 23:_n(i),If(),e!==null&&Y(kr);break;case 24:Hi(Ae)}}function dl(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,g=a.inst;l=d(),g.destroy=l}a=a.next}while(a!==h)}}catch(T){$t(i,i.return,T)}}function Os(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var g=l.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,h=i;var C=a,z=T;try{z()}catch(G){$t(h,C,G)}}}l=l.next}while(l!==d)}}catch(G){$t(i,i.return,G)}}function Vy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{wg(i,a)}catch(l){$t(e,e.return,l)}}}function ky(e,i,a){a.props=zr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){$t(e,i,l)}}function ml(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){$t(e,i,h)}}function wi(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){$t(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$t(e,i,h)}else a.current=null}function Ly(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){$t(e,e.return,h)}}function rd(e,i,a){try{var l=e.stateNode;lw(l,e.type,a,i),l[ke]=i}catch(h){$t(e,e.return,h)}}function Uy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&js(e.type)||e.tag===4}function ad(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Uy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&js(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function od(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Hn));else if(l!==4&&(l===27&&js(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(od(e,i,a),e=e.sibling;e!==null;)od(e,i,a),e=e.sibling}function hc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&js(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(hc(e,i,a),e=e.sibling;e!==null;)hc(e,i,a),e=e.sibling}function Py(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Fe(i,l,a),i[Te]=e,i[ke]=a}catch(d){$t(e,e.return,d)}}var Ki=!1,xe=!1,ld=!1,jy=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function BA(e,i){if(e=e.containerInfo,Cd=Oc,e=Jp(e),tf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var g=0,T=-1,C=-1,z=0,G=0,X=e,B=null;e:for(;;){for(var H;X!==a||h!==0&&X.nodeType!==3||(T=g+h),X!==d||l!==0&&X.nodeType!==3||(C=g+l),X.nodeType===3&&(g+=X.nodeValue.length),(H=X.firstChild)!==null;)B=X,X=H;for(;;){if(X===e)break e;if(B===a&&++z===h&&(T=g),B===d&&++G===l&&(C=g),(H=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=H}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Nd={focusedElem:e,selectionRange:a},Oc=!1,Ue=i;Ue!==null;)if(i=Ue,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Ue=e;else for(;Ue!==null;){switch(i=Ue,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var lt=zr(a.type,h);e=l.getSnapshotBeforeUpdate(lt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(_t){$t(a,a.return,_t)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Md(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Md(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,Ue=e;break}Ue=i.return}}function zy(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:$i(e,a),l&4&&dl(5,a);break;case 1:if($i(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(g){$t(a,a.return,g)}else{var h=zr(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(g){$t(a,a.return,g)}}l&64&&Vy(a),l&512&&ml(a,a.return);break;case 3:if($i(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{wg(e,i)}catch(g){$t(a,a.return,g)}}break;case 27:i===null&&l&4&&Py(a);case 26:case 5:$i(e,a),i===null&&l&4&&Ly(a),l&512&&ml(a,a.return);break;case 12:$i(e,a);break;case 31:$i(e,a),l&4&&Hy(e,a);break;case 13:$i(e,a),l&4&&Fy(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=$A.bind(null,a),gw(e,a))));break;case 22:if(l=a.memoizedState!==null||Ki,!l){i=i!==null&&i.memoizedState!==null||xe,h=Ki;var d=xe;Ki=l,(xe=i)&&!d?Ji(e,a,(a.subtreeFlags&8772)!==0):$i(e,a),Ki=h,xe=d}break;case 30:break;default:$i(e,a)}}function By(e){var i=e.alternate;i!==null&&(e.alternate=null,By(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ua(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,an=!1;function Xi(e,i,a){for(a=a.child;a!==null;)qy(e,i,a),a=a.sibling}function qy(e,i,a){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(jn,a)}catch{}switch(a.tag){case 26:xe||wi(a,i),Xi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:xe||wi(a,i);var l=le,h=an;js(a.type)&&(le=a.stateNode,an=!1),Xi(e,i,a),Al(a.stateNode),le=l,an=h;break;case 5:xe||wi(a,i);case 6:if(l=le,h=an,le=null,Xi(e,i,a),le=l,an=h,le!==null)if(an)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(d){$t(a,i,d)}else try{le.removeChild(a.stateNode)}catch(d){$t(a,i,d)}break;case 18:le!==null&&(an?(e=le,V_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ya(e)):V_(le,a.stateNode));break;case 4:l=le,h=an,le=a.stateNode.containerInfo,an=!0,Xi(e,i,a),le=l,an=h;break;case 0:case 11:case 14:case 15:Os(2,a,i),xe||Os(4,a,i),Xi(e,i,a);break;case 1:xe||(wi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&ky(a,i,l)),Xi(e,i,a);break;case 21:Xi(e,i,a);break;case 22:xe=(l=xe)||a.memoizedState!==null,Xi(e,i,a),xe=l;break;default:Xi(e,i,a)}}function Hy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ya(e)}catch(a){$t(i,i.return,a)}}}function Fy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ya(e)}catch(a){$t(i,i.return,a)}}function qA(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new jy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new jy),i;default:throw Error(r(435,e.tag))}}function fc(e,i){var a=qA(e);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=JA.bind(null,e,l);l.then(h,h)}})}function on(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,g=i,T=g;t:for(;T!==null;){switch(T.tag){case 27:if(js(T.type)){le=T.stateNode,an=!1;break t}break;case 5:le=T.stateNode,an=!1;break t;case 3:case 4:le=T.stateNode.containerInfo,an=!0;break t}T=T.return}if(le===null)throw Error(r(160));qy(d,g,h),le=null,an=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Gy(i,e),i=i.sibling}var Xn=null;function Gy(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(i,e),ln(e),l&4&&(Os(3,e,e.return),dl(3,e),Os(5,e,e.return));break;case 1:on(i,e),ln(e),l&512&&(xe||a===null||wi(a,a.return)),l&64&&Ki&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Xn;if(on(i,e),ln(e),l&512&&(xe||a===null||wi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ci]||d[Te]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Fe(d,l,a),d[Te]=e,Ee(d),l=d;break t;case"link":var g=G_("link","href",h).get(l+(a.href||""));if(g){for(var T=0;T<g.length;T++)if(d=g[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(T,1);break e}}d=h.createElement(l),Fe(d,l,a),h.head.appendChild(d);break;case"meta":if(g=G_("meta","content",h).get(l+(a.content||""))){for(T=0;T<g.length;T++)if(d=g[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(T,1);break e}}d=h.createElement(l),Fe(d,l,a),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[Te]=e,Ee(d),l=d}e.stateNode=l}else Q_(h,e.type,e.stateNode);else e.stateNode=F_(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Q_(h,e.type,e.stateNode):F_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&rd(e,e.memoizedProps,a.memoizedProps)}break;case 27:on(i,e),ln(e),l&512&&(xe||a===null||wi(a,a.return)),a!==null&&l&4&&rd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(on(i,e),ln(e),l&512&&(xe||a===null||wi(a,a.return)),e.flags&32){h=e.stateNode;try{rn(h,"")}catch(lt){$t(e,e.return,lt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,rd(e,h,a!==null?a.memoizedProps:h)),l&1024&&(ld=!0);break;case 6:if(on(i,e),ln(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(lt){$t(e,e.return,lt)}}break;case 3:if(Rc=null,h=Xn,Xn=xc(i.containerInfo),on(i,e),Xn=h,ln(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ya(i.containerInfo)}catch(lt){$t(e,e.return,lt)}ld&&(ld=!1,Qy(e));break;case 4:l=Xn,Xn=xc(e.stateNode.containerInfo),on(i,e),ln(e),Xn=l;break;case 12:on(i,e),ln(e);break;case 31:on(i,e),ln(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,fc(e,l)));break;case 13:on(i,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(mc=We()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,fc(e,l)));break;case 22:h=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,z=Ki,G=xe;if(Ki=z||h,xe=G||C,on(i,e),xe=G,Ki=z,ln(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||Ki||xe||Br(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(d=C.stateNode,h)g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=C.stateNode;var X=C.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(lt){$t(C,C.return,lt)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(lt){$t(C,C.return,lt)}}}else if(i.tag===18){if(a===null){C=i;try{var H=C.stateNode;h?k_(H,!0):k_(C.stateNode,!1)}catch(lt){$t(C,C.return,lt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,fc(e,a))));break;case 19:on(i,e),ln(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,fc(e,l)));break;case 30:break;case 21:break;default:on(i,e),ln(e)}}function ln(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(Uy(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=ad(e);hc(e,d,h);break;case 5:var g=a.stateNode;a.flags&32&&(rn(g,""),a.flags&=-33);var T=ad(e);hc(e,T,g);break;case 3:case 4:var C=a.stateNode.containerInfo,z=ad(e);od(e,z,C);break;default:throw Error(r(161))}}catch(G){$t(e,e.return,G)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Qy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Qy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function $i(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)zy(e,i.alternate,i),i=i.sibling}function Br(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Os(4,i,i.return),Br(i);break;case 1:wi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&ky(i,i.return,a),Br(i);break;case 27:Al(i.stateNode);case 26:case 5:wi(i,i.return),Br(i);break;case 22:i.memoizedState===null&&Br(i);break;case 30:Br(i);break;default:Br(i)}e=e.sibling}}function Ji(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,g=d.flags;switch(d.tag){case 0:case 11:case 15:Ji(h,d,a),dl(4,d);break;case 1:if(Ji(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){$t(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Ag(C[h],T)}catch(z){$t(l,l.return,z)}}a&&g&64&&Vy(d),ml(d,d.return);break;case 27:Py(d);case 26:case 5:Ji(h,d,a),a&&l===null&&g&4&&Ly(d),ml(d,d.return);break;case 12:Ji(h,d,a);break;case 31:Ji(h,d,a),a&&g&4&&Hy(h,d);break;case 13:Ji(h,d,a),a&&g&4&&Fy(h,d);break;case 22:d.memoizedState===null&&Ji(h,d,a),ml(d,d.return);break;case 30:break;default:Ji(h,d,a)}i=i.sibling}}function ud(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&tl(a))}function cd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&tl(e))}function $n(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Yy(e,i,a,l),i=i.sibling}function Yy(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:$n(e,i,a,l),h&2048&&dl(9,i);break;case 1:$n(e,i,a,l);break;case 3:$n(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&tl(e)));break;case 12:if(h&2048){$n(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,g=d.id,T=d.onPostCommit;typeof T=="function"&&T(g,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){$t(i,i.return,C)}}else $n(e,i,a,l);break;case 31:$n(e,i,a,l);break;case 13:$n(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,g=i.alternate,i.memoizedState!==null?d._visibility&2?$n(e,i,a,l):pl(e,i):d._visibility&2?$n(e,i,a,l):(d._visibility|=2,La(e,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&ud(g,i);break;case 24:$n(e,i,a,l),h&2048&&cd(i.alternate,i);break;default:$n(e,i,a,l)}}function La(e,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,g=i,T=a,C=l,z=g.flags;switch(g.tag){case 0:case 11:case 15:La(d,g,T,C,h),dl(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?La(d,g,T,C,h):pl(d,g):(G._visibility|=2,La(d,g,T,C,h)),h&&z&2048&&ud(g.alternate,g);break;case 24:La(d,g,T,C,h),h&&z&2048&&cd(g.alternate,g);break;default:La(d,g,T,C,h)}i=i.sibling}}function pl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:pl(a,l),h&2048&&ud(l.alternate,l);break;case 24:pl(a,l),h&2048&&cd(l.alternate,l);break;default:pl(a,l)}i=i.sibling}}var gl=8192;function Ua(e,i,a){if(e.subtreeFlags&gl)for(e=e.child;e!==null;)Ky(e,i,a),e=e.sibling}function Ky(e,i,a){switch(e.tag){case 26:Ua(e,i,a),e.flags&gl&&e.memoizedState!==null&&Rw(a,Xn,e.memoizedState,e.memoizedProps);break;case 5:Ua(e,i,a);break;case 3:case 4:var l=Xn;Xn=xc(e.stateNode.containerInfo),Ua(e,i,a),Xn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=gl,gl=16777216,Ua(e,i,a),gl=l):Ua(e,i,a));break;default:Ua(e,i,a)}}function Xy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function yl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ue=l,Jy(l,e)}Xy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)$y(e),e=e.sibling}function $y(e){switch(e.tag){case 0:case 11:case 15:yl(e),e.flags&2048&&Os(9,e,e.return);break;case 3:yl(e);break;case 12:yl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,dc(e)):yl(e);break;default:yl(e)}}function dc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ue=l,Jy(l,e)}Xy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Os(8,i,i.return),dc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,dc(i));break;default:dc(i)}e=e.sibling}}function Jy(e,i){for(;Ue!==null;){var a=Ue;switch(a.tag){case 0:case 11:case 15:Os(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:tl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ue=l;else t:for(a=e;Ue!==null;){l=Ue;var h=l.sibling,d=l.return;if(By(l),l===a){Ue=null;break t}if(h!==null){h.return=d,Ue=h;break t}Ue=d}}}var HA={getCacheForType:function(e){var i=qe(Ae),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return qe(Ae).controller.signal}},FA=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ee=null,Ot=null,Vt=0,Xt=0,vn=null,Ms=!1,Pa=!1,hd=!1,Zi=0,he=0,Vs=0,qr=0,fd=0,Tn=0,ja=0,_l=null,un=null,dd=!1,mc=0,Zy=0,pc=1/0,gc=null,ks=null,Me=0,Ls=null,za=null,Wi=0,md=0,pd=null,Wy=null,vl=0,gd=null;function En(){return(Gt&2)!==0&&Vt!==0?Vt&-Vt:U.T!==null?bd():yu()}function t_(){if(Tn===0)if((Vt&536870912)===0||jt){var e=pr;pr<<=1,(pr&3932160)===0&&(pr=262144),Tn=e}else Tn=536870912;return e=yn.current,e!==null&&(e.flags|=32),Tn}function cn(e,i,a){(e===ee&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(Ba(e,0),Us(e,Vt,Tn,!1)),gr(e,a),((Gt&2)===0||e!==ee)&&(e===ee&&((Gt&2)===0&&(qr|=a),he===4&&Us(e,Vt,Tn,!1)),Si(e))}function e_(e,i,a){if((Gt&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&e.expiredLanes)===0||zn(e,i),h=l?YA(e,i):_d(e,i,!0),d=l;do{if(h===0){Pa&&!l&&Us(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!GA(a)){h=_d(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){i=g;t:{var T=e;h=_l;var C=T.current.memoizedState.isDehydrated;if(C&&(Ba(T,g).flags|=256),g=_d(T,g,!1),g!==2){if(hd&&!C){T.errorRecoveryDisabledLanes|=d,qr|=d,h=4;break t}d=un,un=h,d!==null&&(un===null?un=d:un.push.apply(un,d))}h=g}if(d=!1,h!==2)continue}}if(h===1){Ba(e,0),Us(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Us(l,i,Tn,!Ms);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=mc+300-We(),10<h)){if(Us(l,i,Tn,!Ms),oi(l,0,!0)!==0)break t;Wi=i,l.timeoutHandle=O_(n_.bind(null,l,a,un,gc,dd,i,Tn,qr,ja,Ms,d,"Throttled",-0,0),h);break t}n_(l,a,un,gc,dd,i,Tn,qr,ja,Ms,d,null,-0,0)}}break}while(!0);Si(e)}function n_(e,i,a,l,h,d,g,T,C,z,G,X,B,H){if(e.timeoutHandle=-1,X=i.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hn},Ky(i,d,X);var lt=(d&62914560)===d?mc-We():(d&4194048)===d?Zy-We():0;if(lt=Cw(X,lt),lt!==null){Wi=d,e.cancelPendingCommit=lt(c_.bind(null,e,i,d,a,l,h,g,T,C,G,X,null,B,H)),Us(e,d,g,!z);return}}c_(e,i,d,a,l,h,g,T,C)}function GA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!pn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Us(e,i,a,l){i&=~fd,i&=~qr,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-fe(h),g=1<<d;l[d]=-1,h&=~g}a!==0&&yr(e,a,i)}function yc(){return(Gt&6)===0?(Tl(0),!1):!0}function yd(){if(Ot!==null){if(Xt===0)var e=Ot.return;else e=Ot,qi=Mr=null,Mf(e),Da=null,nl=0,e=Ot;for(;e!==null;)My(e.alternate,e),e=e.return;Ot=null}}function Ba(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,hw(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Wi=0,yd(),ee=e,Ot=a=zi(e.current,null),Vt=i,Xt=0,vn=null,Ms=!1,Pa=zn(e,i),hd=!1,ja=Tn=fd=qr=Vs=he=0,un=_l=null,dd=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-fe(l),d=1<<h;i|=e[h],l&=~d}return Zi=i,Pu(),a}function i_(e,i){It=null,U.H=cl,i===Na||i===Qu?(i=vg(),Xt=3):i===Ef?(i=vg(),Xt=4):Xt=i===Xf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,vn=i,Ot===null&&(he=1,ac(e,Nn(i,e.current)))}function s_(){var e=yn.current;return e===null?!0:(Vt&4194048)===Vt?Vn===null:(Vt&62914560)===Vt||(Vt&536870912)!==0?e===Vn:!1}function r_(){var e=U.H;return U.H=cl,e===null?cl:e}function a_(){var e=U.A;return U.A=HA,e}function _c(){he=4,Ms||(Vt&4194048)!==Vt&&yn.current!==null||(Pa=!0),(Vs&134217727)===0&&(qr&134217727)===0||ee===null||Us(ee,Vt,Tn,!1)}function _d(e,i,a){var l=Gt;Gt|=2;var h=r_(),d=a_();(ee!==e||Vt!==i)&&(gc=null,Ba(e,i)),i=!1;var g=he;t:do try{if(Xt!==0&&Ot!==null){var T=Ot,C=vn;switch(Xt){case 8:yd(),g=6;break t;case 3:case 2:case 9:case 6:yn.current===null&&(i=!0);var z=Xt;if(Xt=0,vn=null,qa(e,T,C,z),a&&Pa){g=0;break t}break;default:z=Xt,Xt=0,vn=null,qa(e,T,C,z)}}QA(),g=he;break}catch(G){i_(e,G)}while(!0);return i&&e.shellSuspendCounter++,qi=Mr=null,Gt=l,U.H=h,U.A=d,Ot===null&&(ee=null,Vt=0,Pu()),g}function QA(){for(;Ot!==null;)o_(Ot)}function YA(e,i){var a=Gt;Gt|=2;var l=r_(),h=a_();ee!==e||Vt!==i?(gc=null,pc=We()+500,Ba(e,i)):Pa=zn(e,i);t:do try{if(Xt!==0&&Ot!==null){i=Ot;var d=vn;e:switch(Xt){case 1:Xt=0,vn=null,qa(e,i,d,1);break;case 2:case 9:if(yg(d)){Xt=0,vn=null,l_(i);break}i=function(){Xt!==2&&Xt!==9||ee!==e||(Xt=7),Si(e)},d.then(i,i);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:yg(d)?(Xt=0,vn=null,l_(i)):(Xt=0,vn=null,qa(e,i,d,7));break;case 5:var g=null;switch(Ot.tag){case 26:g=Ot.memoizedState;case 5:case 27:var T=Ot;if(g?Y_(g):T.stateNode.complete){Xt=0,vn=null;var C=T.sibling;if(C!==null)Ot=C;else{var z=T.return;z!==null?(Ot=z,vc(z)):Ot=null}break e}}Xt=0,vn=null,qa(e,i,d,5);break;case 6:Xt=0,vn=null,qa(e,i,d,6);break;case 8:yd(),he=6;break t;default:throw Error(r(462))}}KA();break}catch(G){i_(e,G)}while(!0);return qi=Mr=null,U.H=l,U.A=h,Gt=a,Ot!==null?0:(ee=null,Vt=0,Pu(),he)}function KA(){for(;Ot!==null&&!Yh();)o_(Ot)}function o_(e){var i=Dy(e.alternate,e,Zi);e.memoizedProps=e.pendingProps,i===null?vc(e):Ot=i}function l_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Sy(a,i,i.pendingProps,i.type,void 0,Vt);break;case 11:i=Sy(a,i,i.pendingProps,i.type.render,i.ref,Vt);break;case 5:Mf(i);default:My(a,i),i=Ot=ag(i,Zi),i=Dy(a,i,Zi)}e.memoizedProps=e.pendingProps,i===null?vc(e):Ot=i}function qa(e,i,a,l){qi=Mr=null,Mf(i),Da=null,nl=0;var h=i.return;try{if(LA(e,h,i,a,Vt)){he=1,ac(e,Nn(a,e.current)),Ot=null;return}}catch(d){if(h!==null)throw Ot=h,d;he=1,ac(e,Nn(a,e.current)),Ot=null;return}i.flags&32768?(jt||l===1?e=!0:Pa||(Vt&536870912)!==0?e=!1:(Ms=e=!0,(l===2||l===9||l===3||l===6)&&(l=yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),u_(i,e)):vc(i)}function vc(e){var i=e;do{if((i.flags&32768)!==0){u_(i,Ms);return}e=i.return;var a=jA(i.alternate,i,Zi);if(a!==null){Ot=a;return}if(i=i.sibling,i!==null){Ot=i;return}Ot=i=e}while(i!==null);he===0&&(he=5)}function u_(e,i){do{var a=zA(e.alternate,e);if(a!==null){a.flags&=32767,Ot=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Ot=e;return}Ot=e=a}while(e!==null);he=6,Ot=null}function c_(e,i,a,l,h,d,g,T,C){e.cancelPendingCommit=null;do Tc();while(Me!==0);if((Gt&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=af,$h(e,a,d,g,T,C),e===ee&&(Ot=ee=null,Vt=0),za=i,Ls=e,Wi=a,md=d,pd=h,Wy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,ZA(ds,function(){return p_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=U.T,U.T=null,h=Z.p,Z.p=2,g=Gt,Gt|=4;try{BA(e,i,a)}finally{Gt=g,Z.p=h,U.T=l}}Me=1,h_(),f_(),d_()}}function h_(){if(Me===1){Me=0;var e=Ls,i=za,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=U.T,U.T=null;var l=Z.p;Z.p=2;var h=Gt;Gt|=4;try{Gy(i,e);var d=Nd,g=Jp(e.containerInfo),T=d.focusedElem,C=d.selectionRange;if(g!==T&&T&&T.ownerDocument&&$p(T.ownerDocument.documentElement,T)){if(C!==null&&tf(T)){var z=C.start,G=C.end;if(G===void 0&&(G=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(G,T.value.length);else{var X=T.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var H=B.getSelection(),lt=T.textContent.length,_t=Math.min(C.start,lt),te=C.end===void 0?_t:Math.min(C.end,lt);!H.extend&&_t>te&&(g=te,te=_t,_t=g);var L=Xp(T,_t),O=Xp(T,te);if(L&&O&&(H.rangeCount!==1||H.anchorNode!==L.node||H.anchorOffset!==L.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var j=X.createRange();j.setStart(L.node,L.offset),H.removeAllRanges(),_t>te?(H.addRange(j),H.extend(O.node,O.offset)):(j.setEnd(O.node,O.offset),H.addRange(j))}}}}for(X=[],H=T;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var Q=X[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Oc=!!Cd,Nd=Cd=null}finally{Gt=h,Z.p=l,U.T=a}}e.current=i,Me=2}}function f_(){if(Me===2){Me=0;var e=Ls,i=za,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=U.T,U.T=null;var l=Z.p;Z.p=2;var h=Gt;Gt|=4;try{zy(e,i.alternate,i)}finally{Gt=h,Z.p=l,U.T=a}}Me=3}}function d_(){if(Me===4||Me===3){Me=0,cu();var e=Ls,i=za,a=Wi,l=Wy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Me=5:(Me=0,za=Ls=null,m_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(ks=null),Li(a),i=i.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(jn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=U.T,h=Z.p,Z.p=2,U.T=null;try{for(var d=e.onRecoverableError,g=0;g<l.length;g++){var T=l[g];d(T.value,{componentStack:T.stack})}}finally{U.T=i,Z.p=h}}(Wi&3)!==0&&Tc(),Si(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===gd?vl++:(vl=0,gd=e):vl=0,Tl(0)}}function m_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,tl(i)))}function Tc(){return h_(),f_(),d_(),p_()}function p_(){if(Me!==5)return!1;var e=Ls,i=md;md=0;var a=Li(Wi),l=U.T,h=Z.p;try{Z.p=32>a?32:a,U.T=null,a=pd,pd=null;var d=Ls,g=Wi;if(Me=0,za=Ls=null,Wi=0,(Gt&6)!==0)throw Error(r(331));var T=Gt;if(Gt|=4,$y(d.current),Yy(d,d.current,g,a),Gt=T,Tl(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(jn,d)}catch{}return!0}finally{Z.p=h,U.T=l,m_(e,i)}}function g_(e,i,a){i=Nn(a,i),i=Kf(e.stateNode,i,2),e=Cs(e,i,2),e!==null&&(gr(e,2),Si(e))}function $t(e,i,a){if(e.tag===3)g_(e,e,a);else for(;i!==null;){if(i.tag===3){g_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ks===null||!ks.has(l))){e=Nn(a,e),a=yy(2),l=Cs(i,a,2),l!==null&&(_y(a,l,i,e),gr(l,2),Si(l));break}}i=i.return}}function vd(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new FA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(hd=!0,h.add(a),e=XA.bind(null,e,i,a),i.then(e,e))}function XA(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ee===e&&(Vt&a)===a&&(he===4||he===3&&(Vt&62914560)===Vt&&300>We()-mc?(Gt&2)===0&&Ba(e,0):fd|=a,ja===Vt&&(ja=0)),Si(e)}function y_(e,i){i===0&&(i=gu()),e=Nr(e,i),e!==null&&(gr(e,i),Si(e))}function $A(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),y_(e,a)}function JA(e,i){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),y_(e,a)}function ZA(e,i){return Oe(e,i)}var Ec=null,Ha=null,Td=!1,bc=!1,Ed=!1,Ps=0;function Si(e){e!==Ha&&e.next===null&&(Ha===null?Ec=Ha=e:Ha=Ha.next=e),bc=!0,Td||(Td=!0,tw())}function Tl(e,i){if(!Ed&&bc){Ed=!0;do for(var a=!1,l=Ec;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var g=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-fe(42|e)+1)-1,d&=h&~(g&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,E_(l,d))}else d=Vt,d=oi(l,l===ee?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||zn(l,d)||(a=!0,E_(l,d));l=l.next}while(a);Ed=!1}}function WA(){__()}function __(){bc=Td=!1;var e=0;Ps!==0&&cw()&&(e=Ps);for(var i=We(),a=null,l=Ec;l!==null;){var h=l.next,d=v_(l,i);d===0?(l.next=null,a===null?Ec=h:a.next=h,h===null&&(Ha=a)):(a=l,(e!==0||(d&3)!==0)&&(bc=!0)),l=h}Me!==0&&Me!==5||Tl(e),Ps!==0&&(Ps=0)}function v_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var g=31-fe(d),T=1<<g,C=h[g];C===-1?((T&a)===0||(T&l)!==0)&&(h[g]=Xh(T,i)):C<=i&&(e.expiredLanes|=T),d&=~T}if(i=ee,a=Vt,a=oi(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&fs(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||zn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&fs(l),Li(a)){case 2:case 8:a=No;break;case 32:a=ds;break;case 268435456:a=hu;break;default:a=ds}return l=T_.bind(null,e),a=Oe(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&fs(l),e.callbackPriority=2,e.callbackNode=null,2}function T_(e,i){if(Me!==0&&Me!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Tc()&&e.callbackNode!==a)return null;var l=Vt;return l=oi(e,e===ee?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(e_(e,l,i),v_(e,We()),e.callbackNode!=null&&e.callbackNode===a?T_.bind(null,e):null)}function E_(e,i){if(Tc())return null;e_(e,i,!0)}function tw(){fw(function(){(Gt&6)!==0?Oe(Co,WA):__()})}function bd(){if(Ps===0){var e=Ra;e===0&&(e=ri,ri<<=1,(ri&261888)===0&&(ri=256)),Ps=e}return Ps}function b_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:da(""+e)}function A_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function ew(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=b_((h[ke]||null).action),g=l.submitter;g&&(i=(i=g[ke]||null)?b_(i.formAction):g.getAttribute("formAction"),i!==null&&(d=i,g=null));var T=new _i("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ps!==0){var C=g?A_(h,g):new FormData(h);qf(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=g?A_(h,g):new FormData(h),qf(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Ad=0;Ad<rf.length;Ad++){var wd=rf[Ad],nw=wd.toLowerCase(),iw=wd[0].toUpperCase()+wd.slice(1);Kn(nw,"on"+iw)}Kn(tg,"onAnimationEnd"),Kn(eg,"onAnimationIteration"),Kn(ng,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(vA,"onTransitionRun"),Kn(TA,"onTransitionStart"),Kn(EA,"onTransitionCancel"),Kn(ig,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),di("onBeforeInput",["compositionend","keypress","textInput","paste"]),di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function w_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var g=l.length-1;0<=g;g--){var T=l[g],C=T.instance,z=T.currentTarget;if(T=T.listener,C!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch(G){Uu(G)}h.currentTarget=null,d=C}else for(g=0;g<l.length;g++){if(T=l[g],C=T.instance,z=T.currentTarget,T=T.listener,C!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch(G){Uu(G)}h.currentTarget=null,d=C}}}}function Mt(e,i){var a=i[la];a===void 0&&(a=i[la]=new Set);var l=e+"__bubble";a.has(l)||(S_(i,e,2,!1),a.add(l))}function Sd(e,i,a){var l=0;i&&(l|=4),S_(a,e,l,i)}var Ac="_reactListening"+Math.random().toString(36).slice(2);function xd(e){if(!e[Ac]){e[Ac]=!0,Mo.forEach(function(a){a!=="selectionchange"&&(sw.has(a)||Sd(a,!1,e),Sd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Ac]||(i[Ac]=!0,Sd("selectionchange",!1,i))}}function S_(e,i,a,l){switch(tv(i)){case 2:var h=Ow;break;case 8:h=Mw;break;default:h=Bd}a=h.bind(null,i,a,e),h=void 0,!br||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Id(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var T=l.stateNode.containerInfo;if(T===h)break;if(g===4)for(g=l.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;T!==null;){if(g=hi(T),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){l=d=g;continue t}T=T.parentNode}}l=l.return}vs(function(){var z=d,G=xn(a),X=[];t:{var B=sg.get(e);if(B!==void 0){var H=_i,lt=e;switch(e){case"keypress":if(wr(a)===0)break t;case"keydown":case"keyup":H=Vu;break;case"focusin":lt="focus",H=xr;break;case"focusout":lt="blur",H=xr;break;case"beforeblur":case"afterblur":H=xr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Su;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case tg:case eg:case ng:H=Iu;break;case ig:H=A;break;case"scroll":case"scrollend":H=Go;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Ru;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=ji;break;case"toggle":case"beforetoggle":H=xt}var _t=(i&4)!==0,te=!_t&&(e==="scroll"||e==="scrollend"),L=_t?B!==null?B+"Capture":null:B;_t=[];for(var O=z,j;O!==null;){var Q=O;if(j=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||j===null||L===null||(Q=Fn(O,L),Q!=null&&_t.push(bl(O,Q,j))),te)break;O=O.return}0<_t.length&&(B=new H(B,lt,null,a,G),X.push({event:B,listeners:_t}))}}if((i&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&a!==qo&&(lt=a.relatedTarget||a.fromElement)&&(hi(lt)||lt[ui]))break t;if((H||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,H?(lt=a.relatedTarget||a.toElement,H=z,lt=lt?hi(lt):null,lt!==null&&(te=u(lt),_t=lt.tag,lt!==te||_t!==5&&_t!==27&&_t!==6)&&(lt=null)):(H=null,lt=z),H!==lt)){if(_t=Qo,Q="onMouseLeave",L="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(_t=ji,Q="onPointerLeave",L="onPointerEnter",O="pointer"),te=H==null?B:dn(H),j=lt==null?B:dn(lt),B=new _t(Q,O+"leave",H,a,G),B.target=te,B.relatedTarget=j,Q=null,hi(G)===z&&(_t=new _t(L,O+"enter",lt,a,G),_t.target=j,_t.relatedTarget=te,Q=_t),te=Q,H&&lt)e:{for(_t=rw,L=H,O=lt,j=0,Q=L;Q;Q=_t(Q))j++;Q=0;for(var mt=O;mt;mt=_t(mt))Q++;for(;0<j-Q;)L=_t(L),j--;for(;0<Q-j;)O=_t(O),Q--;for(;j--;){if(L===O||O!==null&&L===O.alternate){_t=L;break e}L=_t(L),O=_t(O)}_t=null}else _t=null;H!==null&&x_(X,B,H,_t,!1),lt!==null&&te!==null&&x_(X,te,lt,_t,!0)}}t:{if(B=z?dn(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var qt=Hp;else if(Bp(B))if(Fp)qt=gA;else{qt=mA;var ct=dA}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&fa(z.elementType)&&(qt=Hp):qt=pA;if(qt&&(qt=qt(e,z))){qp(X,qt,a,G);break t}ct&&ct(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&jo(B,"number",B.value)}switch(ct=z?dn(z):window,e){case"focusin":(Bp(ct)||ct.contentEditable==="true")&&(Ta=ct,ef=z,Jo=null);break;case"focusout":Jo=ef=Ta=null;break;case"mousedown":nf=!0;break;case"contextmenu":case"mouseup":case"dragend":nf=!1,Zp(X,a,G);break;case"selectionchange":if(_A)break;case"keydown":case"keyup":Zp(X,a,G)}var Ct;if(Ft)t:{switch(e){case"compositionstart":var kt="onCompositionStart";break t;case"compositionend":kt="onCompositionEnd";break t;case"compositionupdate":kt="onCompositionUpdate";break t}kt=void 0}else va?Ir(e,a)&&(kt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(kt="onCompositionStart");kt&&(Ei&&a.locale!=="ko"&&(va||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&va&&(Ct=Fo()):(yi=G,Ho="value"in yi?yi.value:yi.textContent,va=!0)),ct=wc(z,kt),0<ct.length&&(kt=new Ti(kt,e,null,a,G),X.push({event:kt,listeners:ct}),Ct?kt.data=Ct:(Ct=_a(a),Ct!==null&&(kt.data=Ct)))),(Ct=Rn?uA(e,a):cA(e,a))&&(kt=wc(z,"onBeforeInput"),0<kt.length&&(ct=new Ti("onBeforeInput","beforeinput",null,a,G),X.push({event:ct,listeners:kt}),ct.data=Ct)),ew(X,e,z,a,G)}w_(X,i)})}function bl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function wc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Fn(e,a),h!=null&&l.unshift(bl(e,h,d)),h=Fn(e,i),h!=null&&l.push(bl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function rw(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function x_(e,i,a,l,h){for(var d=i._reactName,g=[];a!==null&&a!==l;){var T=a,C=T.alternate,z=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||z===null||(C=z,h?(z=Fn(a,d),z!=null&&g.unshift(bl(a,z,C))):h||(z=Fn(a,d),z!=null&&g.push(bl(a,z,C)))),a=a.return}g.length!==0&&e.push({event:i,listeners:g})}var aw=/\r\n?/g,ow=/\u0000|\uFFFD/g;function I_(e){return(typeof e=="string"?e:""+e).replace(aw,`
`).replace(ow,"")}function R_(e,i){return i=I_(i),I_(e)===i}function Wt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||rn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&rn(e,""+l);break;case"className":mn(e,"class",l);break;case"tabIndex":mn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(e,a,l);break;case"style":Bo(e,l,d);break;case"data":if(i!=="object"){mn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=da(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Wt(e,i,"name",h.name,h,null),Wt(e,i,"formEncType",h.formEncType,h,null),Wt(e,i,"formMethod",h.formMethod,h,null),Wt(e,i,"formTarget",h.formTarget,h,null)):(Wt(e,i,"encType",h.encType,h,null),Wt(e,i,"method",h.method,h,null),Wt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=da(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Hn);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=da(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),ca(e,"popover",l);break;case"xlinkActuate":be(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":be(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":be(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":be(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":be(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":be(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":be(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":be(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":be(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ca(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=wu.get(a)||a,ca(e,a,l))}}function Rd(e,i,a,l,h,d){switch(a){case"style":Bo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?rn(e,l):(typeof l=="number"||typeof l=="bigint")&&rn(e,""+l);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[ke]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):ca(e,a,l)}}}function Fe(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var g=a[d];if(g!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Wt(e,i,d,g,a,null)}}h&&Wt(e,i,"srcSet",a.srcSet,a,null),l&&Wt(e,i,"src",a.src,a,null);return;case"input":Mt("invalid",e);var T=d=g=h=null,C=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":h=G;break;case"type":g=G;break;case"checked":C=G;break;case"defaultChecked":z=G;break;case"value":d=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,i));break;default:Wt(e,i,l,G,a,null)}}Eu(e,d,T,C,z,g,h,!1);return;case"select":Mt("invalid",e),l=g=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":g=T;break;case"multiple":l=T;default:Wt(e,i,h,T,a,null)}i=d,a=g,e.multiple=!!l,i!=null?ps(e,!!l,i,!1):a!=null&&ps(e,!!l,a,!0);return;case"textarea":Mt("invalid",e),d=h=l=null;for(g in a)if(a.hasOwnProperty(g)&&(T=a[g],T!=null))switch(g){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:Wt(e,i,g,T,a,null)}gs(e,l,h,d);return;case"option":for(C in a)a.hasOwnProperty(C)&&(l=a[C],l!=null)&&(C==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Wt(e,i,C,l,a,null));return;case"dialog":Mt("beforetoggle",e),Mt("toggle",e),Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(l=0;l<El.length;l++)Mt(El[l],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Wt(e,i,z,l,a,null)}return;default:if(fa(i)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&Rd(e,i,G,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Wt(e,i,T,l,a,null))}function lw(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,g=null,T=null,C=null,z=null,G=null;for(H in a){var X=a[H];if(a.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=X;default:l.hasOwnProperty(H)||Wt(e,i,H,null,l,X)}}for(var B in l){var H=l[B];if(X=a[B],l.hasOwnProperty(B)&&(H!=null||X!=null))switch(B){case"type":d=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":G=H;break;case"value":g=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,i));break;default:H!==X&&Wt(e,i,B,H,l,X)}}ha(e,g,T,C,z,G,d,h);return;case"select":H=g=T=B=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":H=C;default:l.hasOwnProperty(d)||Wt(e,i,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":B=d;break;case"defaultValue":T=d;break;case"multiple":g=d;default:d!==C&&Wt(e,i,h,d,l,C)}i=T,a=g,l=H,B!=null?ps(e,!!a,B,!1):!!l!=!!a&&(i!=null?ps(e,!!a,i,!0):ps(e,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Wt(e,i,T,null,l,h)}for(g in l)if(h=l[g],d=a[g],l.hasOwnProperty(g)&&(h!=null||d!=null))switch(g){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&Wt(e,i,g,h,l,d)}bu(e,B,H);return;case"option":for(var lt in a)B=a[lt],a.hasOwnProperty(lt)&&B!=null&&!l.hasOwnProperty(lt)&&(lt==="selected"?e.selected=!1:Wt(e,i,lt,null,l,B));for(C in l)B=l[C],H=a[C],l.hasOwnProperty(C)&&B!==H&&(B!=null||H!=null)&&(C==="selected"?e.selected=B&&typeof B!="function"&&typeof B!="symbol":Wt(e,i,C,B,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in a)B=a[_t],a.hasOwnProperty(_t)&&B!=null&&!l.hasOwnProperty(_t)&&Wt(e,i,_t,null,l,B);for(z in l)if(B=l[z],H=a[z],l.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,i));break;default:Wt(e,i,z,B,l,H)}return;default:if(fa(i)){for(var te in a)B=a[te],a.hasOwnProperty(te)&&B!==void 0&&!l.hasOwnProperty(te)&&Rd(e,i,te,void 0,l,B);for(G in l)B=l[G],H=a[G],!l.hasOwnProperty(G)||B===H||B===void 0&&H===void 0||Rd(e,i,G,B,l,H);return}}for(var L in a)B=a[L],a.hasOwnProperty(L)&&B!=null&&!l.hasOwnProperty(L)&&Wt(e,i,L,null,l,B);for(X in l)B=l[X],H=a[X],!l.hasOwnProperty(X)||B===H||B==null&&H==null||Wt(e,i,X,B,l,H)}function C_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function uw(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,g=h.initiatorType,T=h.duration;if(d&&T&&C_(g)){for(g=0,T=h.responseEnd,l+=1;l<a.length;l++){var C=a[l],z=C.startTime;if(z>T)break;var G=C.transferSize,X=C.initiatorType;G&&C_(X)&&(C=C.responseEnd,g+=G*(C<T?1:(T-z)/(C-z)))}if(--l,i+=8*(d+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Cd=null,Nd=null;function Sc(e){return e.nodeType===9?e:e.ownerDocument}function N_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function D_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Dd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Od=null;function cw(){var e=window.event;return e&&e.type==="popstate"?e===Od?!1:(Od=e,!0):(Od=null,!1)}var O_=typeof setTimeout=="function"?setTimeout:void 0,hw=typeof clearTimeout=="function"?clearTimeout:void 0,M_=typeof Promise=="function"?Promise:void 0,fw=typeof queueMicrotask=="function"?queueMicrotask:typeof M_<"u"?function(e){return M_.resolve(null).then(e).catch(dw)}:O_;function dw(e){setTimeout(function(){throw e})}function js(e){return e==="head"}function V_(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),Ya(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Al(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Al(a);for(var d=a.firstChild;d;){var g=d.nextSibling,T=d.nodeName;d[ci]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=g}}else a==="body"&&Al(e.ownerDocument.body);a=h}while(a);Ya(i)}function k_(e,i){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Md(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Md(a),ua(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function mw(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ci])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=kn(e.nextSibling),e===null)break}return null}function pw(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=kn(e.nextSibling),e===null))return null;return e}function L_(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=kn(e.nextSibling),e===null))return null;return e}function Vd(e){return e.data==="$?"||e.data==="$~"}function kd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function gw(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function kn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Ld=null;function U_(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return kn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function P_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function j_(e,i,a){switch(i=Sc(a),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Al(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);ua(e)}var Ln=new Map,z_=new Set;function xc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ts=Z.d;Z.d={f:yw,r:_w,D:vw,C:Tw,L:Ew,m:bw,X:ww,S:Aw,M:Sw};function yw(){var e=ts.f(),i=yc();return e||i}function _w(e){var i=Sn(e);i!==null&&i.tag===5&&i.type==="form"?iy(i):ts.r(e)}var Fa=typeof document>"u"?null:document;function B_(e,i,a){var l=Fa;if(l&&typeof i=="string"&&i){var h=sn(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),z_.has(h)||(z_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Fe(i,"link",e),Ee(i),l.head.appendChild(i)))}}function vw(e){ts.D(e),B_("dns-prefetch",e,null)}function Tw(e,i){ts.C(e,i),B_("preconnect",e,i)}function Ew(e,i,a){ts.L(e,i,a);var l=Fa;if(l&&e&&i){var h='link[rel="preload"][as="'+sn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+sn(a.imageSizes)+'"]')):h+='[href="'+sn(e)+'"]';var d=h;switch(i){case"style":d=Ga(e);break;case"script":d=Qa(e)}Ln.has(d)||(e=w({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Ln.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(wl(d))||i==="script"&&l.querySelector(Sl(d))||(i=l.createElement("link"),Fe(i,"link",e),Ee(i),l.head.appendChild(i)))}}function bw(e,i){ts.m(e,i);var a=Fa;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+sn(l)+'"][href="'+sn(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Qa(e)}if(!Ln.has(d)&&(e=w({rel:"modulepreload",href:e},i),Ln.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Sl(d)))return}l=a.createElement("link"),Fe(l,"link",e),Ee(l),a.head.appendChild(l)}}}function Aw(e,i,a){ts.S(e,i,a);var l=Fa;if(l&&e){var h=fi(l).hoistableStyles,d=Ga(e);i=i||"default";var g=h.get(d);if(!g){var T={loading:0,preload:null};if(g=l.querySelector(wl(d)))T.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Ln.get(d))&&Ud(e,a);var C=g=l.createElement("link");Ee(C),Fe(C,"link",e),C._p=new Promise(function(z,G){C.onload=z,C.onerror=G}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ic(g,i,l)}g={type:"stylesheet",instance:g,count:1,state:T},h.set(d,g)}}}function ww(e,i){ts.X(e,i);var a=Fa;if(a&&e){var l=fi(a).hoistableScripts,h=Qa(e),d=l.get(h);d||(d=a.querySelector(Sl(h)),d||(e=w({src:e,async:!0},i),(i=Ln.get(h))&&Pd(e,i),d=a.createElement("script"),Ee(d),Fe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Sw(e,i){ts.M(e,i);var a=Fa;if(a&&e){var l=fi(a).hoistableScripts,h=Qa(e),d=l.get(h);d||(d=a.querySelector(Sl(h)),d||(e=w({src:e,async:!0,type:"module"},i),(i=Ln.get(h))&&Pd(e,i),d=a.createElement("script"),Ee(d),Fe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function q_(e,i,a,l){var h=(h=Rt.current)?xc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ga(a.href),a=fi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ga(a.href);var d=fi(h).hoistableStyles,g=d.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,g),(d=h.querySelector(wl(e)))&&!d._p&&(g.instance=d,g.state.loading=5),Ln.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(e,a),d||xw(h,e,a,g.state))),i&&l===null)throw Error(r(528,""));return g}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Qa(a),a=fi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Ga(e){return'href="'+sn(e)+'"'}function wl(e){return'link[rel="stylesheet"]['+e+"]"}function H_(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function xw(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Fe(i,"link",a),Ee(i),e.head.appendChild(i))}function Qa(e){return'[src="'+sn(e)+'"]'}function Sl(e){return"script[async]"+e}function F_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+sn(a.href)+'"]');if(l)return i.instance=l,Ee(l),l;var h=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ee(l),Fe(l,"style",h),Ic(l,a.precedence,e),i.instance=l;case"stylesheet":h=Ga(a.href);var d=e.querySelector(wl(h));if(d)return i.state.loading|=4,i.instance=d,Ee(d),d;l=H_(a),(h=Ln.get(h))&&Ud(l,h),d=(e.ownerDocument||e).createElement("link"),Ee(d);var g=d;return g._p=new Promise(function(T,C){g.onload=T,g.onerror=C}),Fe(d,"link",l),i.state.loading|=4,Ic(d,a.precedence,e),i.instance=d;case"script":return d=Qa(a.src),(h=e.querySelector(Sl(d)))?(i.instance=h,Ee(h),h):(l=a,(h=Ln.get(d))&&(l=w({},a),Pd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ee(h),Fe(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Ic(l,a.precedence,e));return i.instance}function Ic(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,g=0;g<l.length;g++){var T=l[g];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Ud(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Pd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Rc=null;function G_(e,i,a){if(Rc===null){var l=new Map,h=Rc=new Map;h.set(a,l)}else h=Rc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[ci]||d[Te]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var g=d.getAttribute(i)||"";g=e+g;var T=l.get(g);T?T.push(d):l.set(g,[d])}}return l}function Q_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function Iw(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Y_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Rw(e,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ga(l.href),d=i.querySelector(wl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Cc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,Ee(d);return}d=i.ownerDocument||i,l=H_(l),(h=Ln.get(h))&&Ud(l,h),d=d.createElement("link"),Ee(d);var g=d;g._p=new Promise(function(T,C){g.onload=T,g.onerror=C}),Fe(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Cc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var jd=0;function Cw(e,i){return e.stylesheets&&e.count===0&&Dc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Dc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&jd===0&&(jd=62500*uw());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Dc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>jd?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Cc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Dc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Nc=null;function Dc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Nc=new Map,i.forEach(Nw,e),Nc=null,Cc.call(e))}function Nw(e,i){if(!(i.state.loading&4)){var a=Nc.get(e);if(a)var l=a.get(null);else{a=new Map,Nc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var g=h[d];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}h=i.instance,g=h.getAttribute("data-precedence"),d=a.get(g)||l,d===l&&a.set(null,h),a.set(g,h),this.count++,l=Cc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var xl={$$typeof:Tt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function Dw(e,i,a,l,h,d,g,T,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function K_(e,i,a,l,h,d,g,T,C,z,G,X){return e=new Dw(e,i,a,g,C,z,G,X,T),i=1,d===!0&&(i|=24),d=gn(3,null,null,i),e.current=d,d.stateNode=e,i=_f(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},bf(d),e}function X_(e){return e?(e=Aa,e):Aa}function $_(e,i,a,l,h,d){h=X_(h),l.context===null?l.context=h:l.pendingContext=h,l=Rs(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Cs(e,l,i),a!==null&&(cn(a,e,i),sl(a,e,i))}function J_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function zd(e,i){J_(e,i),(e=e.alternate)&&J_(e,i)}function Z_(e){if(e.tag===13||e.tag===31){var i=Nr(e,67108864);i!==null&&cn(i,e,67108864),zd(e,67108864)}}function W_(e){if(e.tag===13||e.tag===31){var i=En();i=_r(i);var a=Nr(e,i);a!==null&&cn(a,e,i),zd(e,i)}}var Oc=!0;function Ow(e,i,a,l){var h=U.T;U.T=null;var d=Z.p;try{Z.p=2,Bd(e,i,a,l)}finally{Z.p=d,U.T=h}}function Mw(e,i,a,l){var h=U.T;U.T=null;var d=Z.p;try{Z.p=8,Bd(e,i,a,l)}finally{Z.p=d,U.T=h}}function Bd(e,i,a,l){if(Oc){var h=qd(l);if(h===null)Id(e,i,l,Mc,a),ev(e,l);else if(kw(h,e,i,a,l))l.stopPropagation();else if(ev(e,l),i&4&&-1<Vw.indexOf(e)){for(;h!==null;){var d=Sn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var g=ai(d.pendingLanes);if(g!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var C=1<<31-fe(g);T.entanglements[1]|=C,g&=~C}Si(d),(Gt&6)===0&&(pc=We()+500,Tl(0))}}break;case 31:case 13:T=Nr(d,2),T!==null&&cn(T,d,2),yc(),zd(d,2)}if(d=qd(l),d===null&&Id(e,i,l,Mc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Id(e,i,l,null,a)}}function qd(e){return e=xn(e),Hd(e)}var Mc=null;function Hd(e){if(Mc=null,e=hi(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===31){if(e=p(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Mc=e,null}function tv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mr()){case Co:return 2;case No:return 8;case ds:case Kh:return 32;case hu:return 268435456;default:return 32}default:return 32}}var Fd=!1,zs=null,Bs=null,qs=null,Il=new Map,Rl=new Map,Hs=[],Vw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ev(e,i){switch(e){case"focusin":case"focusout":zs=null;break;case"dragenter":case"dragleave":Bs=null;break;case"mouseover":case"mouseout":qs=null;break;case"pointerover":case"pointerout":Il.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(i.pointerId)}}function Cl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Sn(i),i!==null&&Z_(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function kw(e,i,a,l,h){switch(i){case"focusin":return zs=Cl(zs,e,i,a,l,h),!0;case"dragenter":return Bs=Cl(Bs,e,i,a,l,h),!0;case"mouseover":return qs=Cl(qs,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Il.set(d,Cl(Il.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Rl.set(d,Cl(Rl.get(d)||null,e,i,a,l,h)),!0}return!1}function nv(e){var i=hi(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,Bn(e.priority,function(){W_(a)});return}}else if(i===31){if(i=p(a),i!==null){e.blockedOn=i,Bn(e.priority,function(){W_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=qd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);qo=l,a.target.dispatchEvent(l),qo=null}else return i=Sn(a),i!==null&&Z_(i),e.blockedOn=a,!1;i.shift()}return!0}function iv(e,i,a){Vc(e)&&a.delete(i)}function Lw(){Fd=!1,zs!==null&&Vc(zs)&&(zs=null),Bs!==null&&Vc(Bs)&&(Bs=null),qs!==null&&Vc(qs)&&(qs=null),Il.forEach(iv),Rl.forEach(iv)}function kc(e,i){e.blockedOn===i&&(e.blockedOn=null,Fd||(Fd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Lw)))}var Lc=null;function sv(e){Lc!==e&&(Lc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Lc===e&&(Lc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Hd(l||a)===null)continue;break}var d=Sn(a);d!==null&&(e.splice(i,3),i-=3,qf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ya(e){function i(C){return kc(C,e)}zs!==null&&kc(zs,e),Bs!==null&&kc(Bs,e),qs!==null&&kc(qs,e),Il.forEach(i),Rl.forEach(i);for(var a=0;a<Hs.length;a++){var l=Hs[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Hs.length&&(a=Hs[0],a.blockedOn===null);)nv(a),a.blockedOn===null&&Hs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],g=h[ke]||null;if(typeof d=="function")g||sv(a);else if(g){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,g=d[ke]||null)T=g.formAction;else if(Hd(h)!==null)continue}else T=g.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),sv(a)}}}function rv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Gd(e){this._internalRoot=e}Uc.prototype.render=Gd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=En();$_(a,l,e,i,null,null)},Uc.prototype.unmount=Gd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;$_(e.current,2,null,e,null,null),yc(),i[ui]=null}};function Uc(e){this._internalRoot=e}Uc.prototype.unstable_scheduleHydration=function(e){if(e){var i=yu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Hs.length&&i!==0&&i<Hs[a].priority;a++);Hs.splice(a,0,e),a===0&&nv(e)}};var av=t.version;if(av!=="19.2.3")throw Error(r(527,av,"19.2.3"));Z.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(i),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var Uw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{jn=Pc.inject(Uw),je=Pc}catch{}}return Dl.createRoot=function(e,i){if(!o(e))throw Error(r(299));var a=!1,l="",h=dy,d=my,g=py;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),i=K_(e,1,!1,null,null,a,l,null,h,d,g,rv),e[ui]=i.current,xd(e),new Gd(i)},Dl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(r(299));var l=!1,h="",d=dy,g=my,T=py,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),i=K_(e,1,!0,i,a??null,l,h,C,d,g,T,rv),i.context=X_(null),a=i.current,l=En(),l=_r(l),h=Rs(l),h.callback=null,Cs(a,h,l),a=l,i.current.lanes=a,gr(i,a),Si(i),e[ui]=i.current,xd(e),new Uc(i)},Dl.version="19.2.3",Dl}var gv;function Qw(){if(gv)return Kd.exports;gv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Kd.exports=Gw(),Kd.exports}var Yw=Qw();const Kw=()=>{const[s,t]=ht.useState(!1);return ht.useEffect(()=>{t(!0)},[]),b.jsxs("section",{className:"relative h-screen flex flex-col justify-center items-center text-center bg-white text-white overflow-hidden",children:[b.jsxs("div",{className:"absolute inset-0 z-0",children:[b.jsx("div",{className:"absolute inset-0 bg-black/20 z-10"}),b.jsx("img",{src:"https://images.unsplash.com/photo-1519741497674-611481863552?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80",alt:"Wedding Background",className:"w-full h-full object-cover"})]}),b.jsxs("div",{className:`relative z-20 p-8 transition-all duration-1000 ease-out transform ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[b.jsx("p",{className:"text-base md:text-lg tracking-[0.2em] mb-4 text-white/90 font-classic",children:"  "}),b.jsxs("h1",{className:"text-5xl md:text-6xl lg:text-7xl mb-8 font-classic font-bold text-white drop-shadow-lg leading-tight",children:[" ",b.jsx("br",{className:"md:hidden"}),b.jsx("span",{className:"text-3xl md:text-4xl lg:text-5xl mx-2 text-soft-pink font-serif italic",children:"&"}),b.jsx("br",{className:"md:hidden"})," "]}),b.jsxs("div",{className:"flex items-center justify-center gap-4 text-white/90 font-classic",children:[b.jsx("div",{className:"h-px w-12 bg-white/60"}),b.jsx("p",{className:"text-xl md:text-2xl tracking-widest font-light",children:"2026 4 25   4 50"}),b.jsx("div",{className:"h-px w-12 bg-white/60"})]})]}),b.jsx("div",{className:"absolute bottom-8 z-20 animate-bounce text-white/80 text-sm tracking-widest font-classic",children:" "})]})},Xw=(s,{threshold:t=.1,root:n=null,rootMargin:r="0%"}={})=>{const[o,u]=ht.useState(!1);return ht.useEffect(()=>{const f=s?.current;if(!f)return;const p=new IntersectionObserver(([_])=>{_.isIntersecting&&(u(!0),p.unobserve(f))},{threshold:t,root:n,rootMargin:r});return p.observe(f),()=>{p.disconnect()}},[s,t,n,r]),o},$w=()=>{const s=ht.useRef(null),t=Xw(s,{threshold:.3});return b.jsx("section",{className:"py-20 px-4 text-center bg-white",ref:s,children:b.jsxs("div",{className:`transition-all duration-1000 ease-out transform ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[b.jsxs("div",{className:"mb-12",children:[b.jsx("p",{className:"text-primary text-sm tracking-[0.2em] mb-3 opacity-60 font-classic",children:" "}),b.jsx("h2",{className:"text-3xl md:text-4xl text-text font-classic font-bold",children:" "})]}),b.jsxs("div",{className:"font-classic text-xl leading-loose text-text/80 mb-12 space-y-2",children:[b.jsx("p",{children:"   "}),b.jsx("p",{children:"    "}),b.jsx("p",{children:" ."}),b.jsx("br",{}),b.jsx("p",{children:"    "}),b.jsx("p",{children:"  "}),b.jsx("p",{children:"  ."})]}),b.jsxs("div",{className:"flex flex-col items-center gap-4 font-classic text-xl",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("span",{className:"text-base text-primary font-bold tracking-widest",children:""}),b.jsx("strong",{className:"text-text text-2xl font-bold",children:""})]}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("span",{className:"text-base text-primary font-bold tracking-widest",children:""}),b.jsx("strong",{className:"text-text text-2xl font-bold",children:""})]})]})]})})},Jw=()=>b.jsx("section",{style:Jn.section,children:b.jsxs("div",{style:Jn.container,children:[b.jsxs("div",{style:Jn.item,children:[b.jsx("h3",{style:Jn.label,children:""}),b.jsx("p",{style:Jn.value,children:"2026 4 25"}),b.jsx("p",{style:Jn.subValue,children:"  4 50"})]}),b.jsx("div",{style:Jn.divider}),b.jsxs("div",{style:Jn.item,children:[b.jsx("h3",{style:Jn.label,children:""}),b.jsx("p",{style:Jn.value,children:"  "}),b.jsx("p",{style:Jn.subValue,children:"   4 140"})]})]})}),Jn={section:{padding:"3rem 1.5rem",backgroundColor:"#fff"},container:{backgroundColor:"#fff",padding:"2rem",borderRadius:"2px",boxShadow:"0 5px 15px rgba(0,0,0,0.03)",maxWidth:"400px",margin:"0 auto"},item:{textAlign:"center",marginBottom:"1.5rem"},divider:{width:"1px",height:"40px",backgroundColor:"#ddd",margin:"0 auto 1.5rem"},label:{fontSize:"0.8rem",color:"#aaa",letterSpacing:"0.1em",marginBottom:"0.5rem"},value:{fontSize:"1.3rem",fontFamily:"var(--font-serif)",fontWeight:"700",marginBottom:"0.2rem"},subValue:{fontSize:"0.95rem",color:"#666"}},Zw="/Invitation/assets/gallery1-C7q5Nxgj.jpg",iT=Object.freeze(Object.defineProperty({__proto__:null,default:Zw},Symbol.toStringTag,{value:"Module"})),Ww="/Invitation/assets/gallery2-AWOh7shC.jpg",sT=Object.freeze(Object.defineProperty({__proto__:null,default:Ww},Symbol.toStringTag,{value:"Module"})),tS="/Invitation/assets/gallery3-DBbQTIVG.jpg",rT=Object.freeze(Object.defineProperty({__proto__:null,default:tS},Symbol.toStringTag,{value:"Module"})),eS=Object.assign({"../assets/images/gallery1.jpg":iT,"../assets/images/gallery2.jpg":sT,"../assets/images/gallery3.jpg":rT}),jc=Object.values(eS).map(s=>s.default),aT=({forceUnlock:s=!1})=>{const[t,n]=ht.useState(null);if(jc.length===0)return null;const[r,o]=ht.useState([]);return ht.useEffect(()=>{if(s)return;const u=()=>{const f=JSON.parse(localStorage.getItem("wedding_collection")||"[]");o(f)};return u(),window.addEventListener("storage",u),window.addEventListener("collectionUpdated",u),()=>{window.removeEventListener("storage",u),window.removeEventListener("collectionUpdated",u)}},[s]),ht.useEffect(()=>{if(s)return;const u=JSON.parse(localStorage.getItem("wedding_collection")||"[]");o(u)},[jc,s]),b.jsxs("section",{id:"gallery",className:"py-20 bg-background relative overflow-hidden",children:[b.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[b.jsx("div",{className:"absolute top-10 right-10 w-64 h-64 bg-primary/5 rounded-full blur-3xl"}),b.jsx("div",{className:"absolute bottom-10 left-10 w-96 h-96 bg-secondary/5 rounded-full blur-3xl"})]}),b.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[b.jsx("h2",{className:"text-3xl md:text-4xl text-primary font-classic font-bold mb-4 text-center animate-fade-in-up",children:" "}),b.jsxs("p",{className:"text-text/60 text-center font-body mb-12 tracking-widest uppercase text-sm animate-fade-in-up delay-100 font-classic",children:["  ",s?"":`(${r.length}/${jc.length})`]}),b.jsx("div",{className:"columns-1 sm:columns-2 lg:columns-3 gap-6 space-y-6",children:jc.map((u,f)=>{const p=s||r.includes(f);return b.jsx("div",{className:"break-inside-avoid group relative rounded-2xl overflow-hidden shadow-soft-md hover:shadow-soft-xl transition-all duration-500 hover:-translate-y-1 bg-white",onClick:()=>p&&n(u),children:b.jsxs("div",{className:"relative overflow-hidden",children:[b.jsx("img",{src:u,alt:`Gallery ${f+1}`,className:`w-full h-auto object-cover transition-all duration-700 
                                            ${p?"cursor-pointer hover:scale-105 filter brightness-100":"blur-xl grayscale contrast-125 cursor-not-allowed opacity-50"}
                                        `,loading:"lazy"}),p&&b.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors duration-300 pointer-events-none"}),!p&&b.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/10 z-10 backdrop-blur-[2px]",children:[b.jsx("div",{className:"bg-white/90 backdrop-blur-md p-4 rounded-full shadow-lg transform group-hover:scale-110 transition-transform duration-300",children:b.jsx("span",{className:"text-2xl",children:""})}),b.jsx("span",{className:"text-white font-bold tracking-widest mt-2 drop-shadow-md text-xs uppercase bg-black/20 px-3 py-1 rounded-full",children:"Locked"})]})]})},f)})})]}),t&&b.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/95 backdrop-blur-md p-4 animate-in fade-in duration-200",onClick:()=>n(null),children:[b.jsx("img",{src:t,alt:"Full view",className:"max-w-full max-h-[90vh] object-contain rounded-lg shadow-2xl"}),b.jsx("button",{className:"absolute top-4 right-4 text-white hover:text-gray-300 transition-colors",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})},nS=()=>b.jsxs("section",{className:"py-20 px-4 md:px-6 bg-background text-center relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-4xl h-full max-h-[500px] bg-primary/5 rounded-full blur-[100px] pointer-events-none"}),b.jsxs("div",{className:"relative z-10 w-full max-w-6xl mx-auto",children:[b.jsx("h2",{className:"text-3xl md:text-4xl text-primary font-classic font-bold mb-12 text-center animate-fade-in-up",children:" "}),b.jsx("div",{className:"w-full aspect-video rounded-3xl overflow-hidden shadow-soft-xl border border-white/50 bg-black/5 animate-fade-in-up delay-100",children:b.jsx("iframe",{className:"w-full h-full",src:"https://www.youtube-nocookie.com/embed/2Vv-BfVoq4g",title:"Wedding Video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})})]})]}),oT=()=>{const s="https://naver.me/x7ndUhZi",t="https://place.map.kakao.com/25447779",n=r=>{window.open(r,"_blank")};return b.jsxs("section",{className:"py-24 px-4 bg-background text-center relative overflow-hidden font-body",children:[b.jsx("div",{className:"mb-12 animate-fade-in-up",children:b.jsx("h2",{className:"text-4xl md:text-5xl text-text font-classic font-bold",children:" "})}),b.jsx("div",{className:"max-w-5xl mx-auto mb-12 animate-fade-in-up delay-100",children:b.jsx("div",{className:"w-full aspect-video md:aspect-[21/9] rounded-xl overflow-hidden shadow-sm border border-black/5 bg-gray-50",children:b.jsx("iframe",{src:"https://maps.google.com/maps?q=%20%20&t=&z=17&ie=UTF8&iwloc=&output=embed",className:"w-full h-full transition-all duration-700",frameBorder:"0",title:"Google Map",loading:"lazy",allowFullScreen:!0})})}),b.jsxs("div",{className:"max-w-lg mx-auto mb-12 space-y-2 animate-fade-in-up delay-200 font-classic",children:[b.jsxs("h3",{className:"text-2xl text-text font-bold tracking-wide",children:["  ",b.jsx("span",{className:"font-normal text-lg ml-2 text-text/60",children:"7 "})]}),b.jsx("p",{className:"text-text/70 text-lg",children:"   4 140"}),b.jsx("div",{className:"w-8 h-[1px] bg-primary/20 mx-auto my-4"}),b.jsx("p",{className:"text-text/50 text-sm tracking-wider",children:"Tel. 031-487-8100"})]}),b.jsxs("div",{className:"flex flex-wrap justify-center gap-4 animate-fade-in-up delay-300",children:[b.jsxs("button",{className:"flex items-center gap-3 px-8 py-3 bg-white border border-gray-200 rounded-full hover:border-[#03C75A] hover:bg-[#03C75A]/5 transition-all group font-classic",onClick:()=>n(s),children:[b.jsx(iS,{}),b.jsx("span",{className:"text-gray-600 group-hover:text-[#03C75A] font-medium transition-colors",children:" "})]}),b.jsxs("button",{className:"flex items-center gap-3 px-8 py-3 bg-white border border-gray-200 rounded-full hover:border-[#FEE500] hover:bg-[#FEE500]/10 transition-all group font-classic",onClick:()=>n(t),children:[b.jsx(sS,{}),b.jsx("span",{className:"text-gray-600 group-hover:text-black font-medium transition-colors",children:" "})]})]})]})},iS=()=>b.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-[#03C75A]",children:b.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.4153 3H21V21H16.4153V10.7417L7.69231 21H3V3H7.69231V13.2519L16.4153 3Z",fill:"currentColor"})}),sS=()=>b.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",className:"text-[#FEE500]",children:b.jsx("path",{d:"M12 3C6.47715 3 2 6.35786 2 10.5C2 13.1679 3.65685 15.5393 6.1875 16.9079L5.4375 19.6579C5.375 19.8766 5.5625 20.0641 5.78125 20.0016L9.625 19.0641C10.375 19.2829 11.1875 19.4079 12 19.4079C17.5228 19.4079 22 16.05 22 11.9079C22 7.76579 17.5228 4.40786 12 4.40786V3Z"})}),rS=()=>{const[s,t]=ht.useState(!1),n=ht.useRef(null),r=()=>{s?n.current.pause():n.current.play(),t(!s)};return ht.useEffect(()=>{if(n.current){n.current.volume=.5;const o=n.current.play();o!==void 0&&o.then(()=>{t(!0)}).catch(u=>{console.log("Auto-play prevented:",u),t(!1)})}},[]),b.jsxs("div",{style:yv.container,children:[b.jsx("audio",{ref:n,src:"/Invitation/bgm.mp3",loop:!0}),b.jsx("button",{onClick:r,style:yv.button,children:s?" ":" "})]})},yv={container:{position:"fixed",top:"20px",right:"20px",zIndex:1e3},button:{background:"rgba(255, 255, 255, 0.8)",border:"1px solid #ddd",borderRadius:"20px",padding:"8px 16px",fontSize:"0.8rem",cursor:"pointer",boxShadow:"0 2px 5px rgba(0,0,0,0.1)",display:"flex",alignItems:"center",gap:"5px",fontFamily:"'Gowun Batang', serif"}},aS=()=>{const[s,t]=ht.useState(null),n=[{type:"Groom",name:"",bank:"",account:"495-910449-55107",displayAccount:"495-910449-55107"},{type:"Bride",name:"",bank:"",account:"110-297-915880",displayAccount:"110-297-915880"}],r=o=>{navigator.clipboard.writeText(`${o.bank} ${o.account}`).then(()=>{t(o.type),setTimeout(()=>t(null),2e3)})};return b.jsxs("section",{className:"py-20 px-6 bg-background text-center relative overflow-hidden font-body",children:[b.jsx("h2",{className:"text-3xl md:text-4xl text-primary font-classic font-bold mb-10 text-center animate-fade-in-up",children:"  "}),b.jsx("div",{className:"max-w-2xl mx-auto space-y-6 animate-fade-in-up delay-100",children:n.map(o=>b.jsxs("div",{className:"bg-white/60 backdrop-blur-md rounded-2xl p-6 border border-white/50 shadow-soft-md flex flex-col md:flex-row items-center justify-between gap-4 group hover:shadow-soft-lg transition-all hover:bg-white/80",children:[b.jsxs("div",{className:"text-left md:flex-1 w-full md:w-auto text-center md:text-left",children:[b.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2 mb-1",children:[b.jsx("span",{className:"text-base font-bold text-primary tracking-widest font-classic",children:o.type==="Groom"?"":""}),b.jsx("span",{className:"text-lg font-bold text-text",children:o.name})]}),b.jsxs("div",{className:"text-gray-600 font-mono text-sm md:text-base",children:[o.bank," ",b.jsx("span",{className:"text-gray-400 mx-1",children:"|"})," ",o.displayAccount]})]}),b.jsx("button",{onClick:()=>r(o),className:`
                                px-6 py-2 rounded-full font-medium text-sm transition-all duration-300 min-w-[100px] font-classic
                                ${s===o.type?"bg-[#03C75A] text-white shadow-md":"bg-white border border-primary/20 text-text/80 hover:border-primary hover:text-primary"}
                            `,children:s===o.type?"":""})]},o.type))})]})},oS=()=>b.jsxs("div",{className:"app-container font-classic",children:[b.jsx(Kw,{}),b.jsx($w,{}),b.jsx(Jw,{}),b.jsx(aT,{forceUnlock:!0}),b.jsx(nS,{}),b.jsx(aS,{}),b.jsx(rS,{}),b.jsx(oT,{})]}),lS=()=>{};var _v={};const lT=function(s){const t=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},uS=function(s){const t=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[n++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[n++],f=s[n++],p=s[n++],_=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(_>>10)),t[r++]=String.fromCharCode(56320+(_&1023))}else{const u=s[n++],f=s[n++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},uT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],f=o+1<s.length,p=f?s[o+1]:0,_=o+2<s.length,y=_?s[o+2]:0,E=u>>2,w=(u&3)<<4|p>>4;let R=(p&15)<<2|y>>6,F=y&63;_||(F=64,f||(R=64)),r.push(n[E],n[w],n[R],n[F])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(lT(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):uS(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=n[s.charAt(o++)],p=o<s.length?n[s.charAt(o)]:0;++o;const y=o<s.length?n[s.charAt(o)]:64;++o;const w=o<s.length?n[s.charAt(o)]:64;if(++o,u==null||p==null||y==null||w==null)throw new cS;const R=u<<2|p>>4;if(r.push(R),y!==64){const F=p<<4&240|y>>2;if(r.push(F),w!==64){const W=y<<6&192|w;r.push(W)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class cS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hS=function(s){const t=lT(s);return uT.encodeByteArray(t,!0)},nh=function(s){return hS(s).replace(/\./g,"")},cT=function(s){try{return uT.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function fS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const dS=()=>fS().__FIREBASE_DEFAULTS__,mS=()=>{if(typeof process>"u"||typeof _v>"u")return;const s=_v.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},pS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&cT(s[1]);return t&&JSON.parse(t)},Ah=()=>{try{return lS()||dS()||mS()||pS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},hT=s=>Ah()?.emulatorHosts?.[s],gS=s=>{const t=hT(s);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},fT=()=>Ah()?.config,dT=s=>Ah()?.[`_${s}`];class yS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}function _o(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mT(s){return(await fetch(s,{credentials:"include"})).ok}function _S(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[nh(JSON.stringify(n)),nh(JSON.stringify(f)),""].join(".")}const Ul={};function vS(){const s={prod:[],emulator:[]};for(const t of Object.keys(Ul))Ul[t]?s.emulator.push(t):s.prod.push(t);return s}function TS(s){let t=document.getElementById(s),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),n=!0),{created:n,element:t}}let vv=!1;function pT(s,t){if(typeof window>"u"||typeof document>"u"||!_o(window.location.host)||Ul[s]===t||Ul[s]||vv)return;Ul[s]=t;function n(R){return`__firebase__banner__${R}`}const r="__firebase__banner",u=vS().prod.length>0;function f(){const R=document.getElementById(r);R&&R.remove()}function p(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function _(R,F){R.setAttribute("width","24"),R.setAttribute("id",F),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function y(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{vv=!0,f()},R}function E(R,F){R.setAttribute("id",F),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function w(){const R=TS(r),F=n("text"),W=document.getElementById(F)||document.createElement("span"),et=n("learnmore"),tt=document.getElementById(et)||document.createElement("a"),ft=n("preprendIcon"),bt=document.getElementById(ft)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const Tt=R.element;p(Tt),E(tt,et);const yt=y();_(bt,ft),Tt.append(bt,W,tt,yt),document.body.appendChild(Tt)}u?(W.innerText="Preview backend disconnected.",bt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(bt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ES(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function bS(){const s=Ah()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gT(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function wS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SS(){const s=Ze();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function xS(){return!bS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yT(){try{return typeof indexedDB=="object"}catch{return!1}}function _T(){return new Promise((s,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}function IS(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const RS="FirebaseError";class ii extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=RS,Object.setPrototypeOf(this,ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wr.prototype.create)}}class Wr{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?CS(u,r):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new ii(o,p,r)}}function CS(s,t){return s.replace(NS,(n,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const NS=/\{\$([^}]+)}/g;function DS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function rs(s,t){if(s===t)return!0;const n=Object.keys(s),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const u=s[o],f=t[o];if(Tv(u)&&Tv(f)){if(!rs(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function Tv(s){return s!==null&&typeof s=="object"}function Zl(s){const t=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function OS(s,t){const n=new MS(s,t);return n.subscribe.bind(n)}class MS{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let o;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");VS(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:r},o.next===void 0&&(o.next=Zd),o.error===void 0&&(o.error=Zd),o.complete===void 0&&(o.complete=Zd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VS(s,t){if(typeof s!="object"||s===null)return!1;for(const n of t)if(n in s&&typeof s[n]=="function")return!0;return!1}function Zd(){}const kS=1e3,LS=2,US=14400*1e3,PS=.5;function Ev(s,t=kS,n=LS){const r=t*Math.pow(n,s),o=Math.round(PS*r*(Math.random()-.5)*2);return Math.min(US,r+o)}function Ne(s){return s&&s._delegate?s._delegate:s}class ei{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Hr="[DEFAULT]";class jS{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new yS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(BS(t))try{this.getOrInitializeService({instanceIdentifier:Hr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Hr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Hr){return this.instances.has(t)}getOptions(t=Hr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&f.resolve(o)}return o}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:zS(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Hr){return this.component?this.component.multipleInstances?t:Hr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zS(s){return s===Hr?void 0:s}function BS(s){return s.instantiationMode==="EAGER"}class qS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new jS(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Lt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Lt||(Lt={}));const HS={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},FS=Lt.INFO,GS={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},QS=(s,t,...n)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),o=GS[t];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class wh{constructor(t){this.name=t,this._logLevel=FS,this._logHandler=QS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?HS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const YS=(s,t)=>t.some(n=>s instanceof n);let bv,Av;function KS(){return bv||(bv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XS(){return Av||(Av=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vT=new WeakMap,mm=new WeakMap,TT=new WeakMap,Wd=new WeakMap,Bm=new WeakMap;function $S(s){const t=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{n(Js(s.result)),o()},f=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&vT.set(n,s)}).catch(()=>{}),Bm.set(t,s),t}function JS(s){if(mm.has(s))return;const t=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});mm.set(s,t)}let pm={get(s,t,n){if(s instanceof IDBTransaction){if(t==="done")return mm.get(s);if(t==="objectStoreNames")return s.objectStoreNames||TT.get(s);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Js(s[t])},set(s,t,n){return s[t]=n,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function ZS(s){pm=s(pm)}function WS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=s.call(tm(this),t,...n);return TT.set(r,t.sort?t.sort():[t]),Js(r)}:XS().includes(s)?function(...t){return s.apply(tm(this),t),Js(vT.get(this))}:function(...t){return Js(s.apply(tm(this),t))}}function t1(s){return typeof s=="function"?WS(s):(s instanceof IDBTransaction&&JS(s),YS(s,KS())?new Proxy(s,pm):s)}function Js(s){if(s instanceof IDBRequest)return $S(s);if(Wd.has(s))return Wd.get(s);const t=t1(s);return t!==s&&(Wd.set(s,t),Bm.set(t,s)),t}const tm=s=>Bm.get(s);function ET(s,t,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(s,t),p=Js(f);return r&&f.addEventListener("upgradeneeded",_=>{r(Js(f.result),_.oldVersion,_.newVersion,Js(f.transaction),_)}),n&&f.addEventListener("blocked",_=>n(_.oldVersion,_.newVersion,_)),p.then(_=>{u&&_.addEventListener("close",()=>u()),o&&_.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const e1=["get","getKey","getAll","getAllKeys","count"],n1=["put","add","delete","clear"],em=new Map;function wv(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(em.get(t))return em.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=n1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||e1.includes(n)))return;const u=async function(f,...p){const _=this.transaction(f,o?"readwrite":"readonly");let y=_.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&_.done]))[0]};return em.set(t,u),u}ZS(s=>({...s,get:(t,n,r)=>wv(t,n)||s.get(t,n,r),has:(t,n)=>!!wv(t,n)||s.has(t,n)}));class i1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(s1(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function s1(s){return s.getComponent()?.type==="VERSION"}const gm="@firebase/app",Sv="0.14.7";const as=new wh("@firebase/app"),r1="@firebase/app-compat",a1="@firebase/analytics-compat",o1="@firebase/analytics",l1="@firebase/app-check-compat",u1="@firebase/app-check",c1="@firebase/auth",h1="@firebase/auth-compat",f1="@firebase/database",d1="@firebase/data-connect",m1="@firebase/database-compat",p1="@firebase/functions",g1="@firebase/functions-compat",y1="@firebase/installations",_1="@firebase/installations-compat",v1="@firebase/messaging",T1="@firebase/messaging-compat",E1="@firebase/performance",b1="@firebase/performance-compat",A1="@firebase/remote-config",w1="@firebase/remote-config-compat",S1="@firebase/storage",x1="@firebase/storage-compat",I1="@firebase/firestore",R1="@firebase/ai",C1="@firebase/firestore-compat",N1="firebase",D1="12.8.0";const ym="[DEFAULT]",O1={[gm]:"fire-core",[r1]:"fire-core-compat",[o1]:"fire-analytics",[a1]:"fire-analytics-compat",[u1]:"fire-app-check",[l1]:"fire-app-check-compat",[c1]:"fire-auth",[h1]:"fire-auth-compat",[f1]:"fire-rtdb",[d1]:"fire-data-connect",[m1]:"fire-rtdb-compat",[p1]:"fire-fn",[g1]:"fire-fn-compat",[y1]:"fire-iid",[_1]:"fire-iid-compat",[v1]:"fire-fcm",[T1]:"fire-fcm-compat",[E1]:"fire-perf",[b1]:"fire-perf-compat",[A1]:"fire-rc",[w1]:"fire-rc-compat",[S1]:"fire-gcs",[x1]:"fire-gcs-compat",[I1]:"fire-fst",[C1]:"fire-fst-compat",[R1]:"fire-vertex","fire-js":"fire-js",[N1]:"fire-js-all"};const ih=new Map,M1=new Map,_m=new Map;function xv(s,t){try{s.container.addComponent(t)}catch(n){as.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,n)}}function Vi(s){const t=s.name;if(_m.has(t))return as.debug(`There were multiple attempts to register component ${t}.`),!1;_m.set(t,s);for(const n of ih.values())xv(n,s);for(const n of M1.values())xv(n,s);return!0}function ta(s,t){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(t)}function Zn(s){return s==null?!1:s.settings!==void 0}const V1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zs=new Wr("app","Firebase",V1);class k1{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ei("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Zs.create("app-deleted",{appName:this._name})}}const vo=D1;function bT(s,t={}){let n=s;typeof t!="object"&&(t={name:t});const r={name:ym,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw Zs.create("bad-app-name",{appName:String(o)});if(n||(n=fT()),!n)throw Zs.create("no-options");const u=ih.get(o);if(u){if(rs(n,u.options)&&rs(r,u.config))return u;throw Zs.create("duplicate-app",{appName:o})}const f=new qS(o);for(const _ of _m.values())f.addComponent(_);const p=new k1(n,r,f);return ih.set(o,p),p}function qm(s=ym){const t=ih.get(s);if(!t&&s===ym&&fT())return bT();if(!t)throw Zs.create("no-app",{appName:s});return t}function Pn(s,t,n){let r=O1[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${r}" with version "${t}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),as.warn(f.join(" "));return}Vi(new ei(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const L1="firebase-heartbeat-database",U1=1,Hl="firebase-heartbeat-store";let nm=null;function AT(){return nm||(nm=ET(L1,U1,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Hl)}catch(n){console.warn(n)}}}}).catch(s=>{throw Zs.create("idb-open",{originalErrorMessage:s.message})})),nm}async function P1(s){try{const n=(await AT()).transaction(Hl),r=await n.objectStore(Hl).get(wT(s));return await n.done,r}catch(t){if(t instanceof ii)as.warn(t.message);else{const n=Zs.create("idb-get",{originalErrorMessage:t?.message});as.warn(n.message)}}}async function Iv(s,t){try{const r=(await AT()).transaction(Hl,"readwrite");await r.objectStore(Hl).put(t,wT(s)),await r.done}catch(n){if(n instanceof ii)as.warn(n.message);else{const r=Zs.create("idb-set",{originalErrorMessage:n?.message});as.warn(r.message)}}}function wT(s){return`${s.name}!${s.options.appId}`}const j1=1024,z1=30;class B1{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new H1(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Rv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>z1){const o=F1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){as.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Rv(),{heartbeatsToSend:n,unsentEntries:r}=q1(this._heartbeatsCache.heartbeats),o=nh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return as.warn(t),""}}}function Rv(){return new Date().toISOString().substring(0,10)}function q1(s,t=j1){const n=[];let r=s.slice();for(const o of s){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Cv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Cv(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class H1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yT()?_T().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await P1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Iv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Iv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Cv(s){return nh(JSON.stringify({version:2,heartbeats:s})).length}function F1(s){if(s.length===0)return-1;let t=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,t=r);return t}function G1(s){Vi(new ei("platform-logger",t=>new i1(t),"PRIVATE")),Vi(new ei("heartbeat",t=>new B1(t),"PRIVATE")),Pn(gm,Sv,s),Pn(gm,Sv,"esm2020"),Pn("fire-js","")}G1("");var Q1="firebase",Y1="12.8.0";Pn(Q1,Y1,"app");const ST="@firebase/installations",Hm="0.6.19";const xT=1e4,IT=`w:${Hm}`,RT="FIS_v2",K1="https://firebaseinstallations.googleapis.com/v1",X1=3600*1e3,$1="installations",J1="Installations";const Z1={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Kr=new Wr($1,J1,Z1);function CT(s){return s instanceof ii&&s.code.includes("request-failed")}function NT({projectId:s}){return`${K1}/projects/${s}/installations`}function DT(s){return{token:s.token,requestStatus:2,expiresIn:tx(s.expiresIn),creationTime:Date.now()}}async function OT(s,t){const r=(await t.json()).error;return Kr.create("request-failed",{requestName:s,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function MT({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function W1(s,{refreshToken:t}){const n=MT(s);return n.append("Authorization",ex(t)),n}async function VT(s){const t=await s();return t.status>=500&&t.status<600?s():t}function tx(s){return Number(s.replace("s","000"))}function ex(s){return`${RT} ${s}`}async function nx({appConfig:s,heartbeatServiceProvider:t},{fid:n}){const r=NT(s),o=MT(s),u=t.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={fid:n,authVersion:RT,appId:s.appId,sdkVersion:IT},p={method:"POST",headers:o,body:JSON.stringify(f)},_=await VT(()=>fetch(r,p));if(_.ok){const y=await _.json();return{fid:y.fid||n,registrationStatus:2,refreshToken:y.refreshToken,authToken:DT(y.authToken)}}else throw await OT("Create Installation",_)}function kT(s){return new Promise(t=>{setTimeout(t,s)})}function ix(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}const sx=/^[cdef][\w-]{21}$/,vm="";function rx(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const n=ax(s);return sx.test(n)?n:vm}catch{return vm}}function ax(s){return ix(s).substr(0,22)}function Sh(s){return`${s.appName}!${s.appId}`}const LT=new Map;function UT(s,t){const n=Sh(s);PT(n,t),ox(n,t)}function PT(s,t){const n=LT.get(s);if(n)for(const r of n)r(t)}function ox(s,t){const n=lx();n&&n.postMessage({key:s,fid:t}),ux()}let Fr=null;function lx(){return!Fr&&"BroadcastChannel"in self&&(Fr=new BroadcastChannel("[Firebase] FID Change"),Fr.onmessage=s=>{PT(s.data.key,s.data.fid)}),Fr}function ux(){LT.size===0&&Fr&&(Fr.close(),Fr=null)}const cx="firebase-installations-database",hx=1,Xr="firebase-installations-store";let im=null;function Fm(){return im||(im=ET(cx,hx,{upgrade:(s,t)=>{t===0&&s.createObjectStore(Xr)}})),im}async function sh(s,t){const n=Sh(s),o=(await Fm()).transaction(Xr,"readwrite"),u=o.objectStore(Xr),f=await u.get(n);return await u.put(t,n),await o.done,(!f||f.fid!==t.fid)&&UT(s,t.fid),t}async function jT(s){const t=Sh(s),r=(await Fm()).transaction(Xr,"readwrite");await r.objectStore(Xr).delete(t),await r.done}async function xh(s,t){const n=Sh(s),o=(await Fm()).transaction(Xr,"readwrite"),u=o.objectStore(Xr),f=await u.get(n),p=t(f);return p===void 0?await u.delete(n):await u.put(p,n),await o.done,p&&(!f||f.fid!==p.fid)&&UT(s,p.fid),p}async function Gm(s){let t;const n=await xh(s.appConfig,r=>{const o=fx(r),u=dx(s,o);return t=u.registrationPromise,u.installationEntry});return n.fid===vm?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function fx(s){const t=s||{fid:rx(),registrationStatus:0};return zT(t)}function dx(s,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Kr.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=mx(s,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:px(s)}:{installationEntry:t}}async function mx(s,t){try{const n=await nx(s,t);return sh(s.appConfig,n)}catch(n){throw CT(n)&&n.customData.serverCode===409?await jT(s.appConfig):await sh(s.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function px(s){let t=await Nv(s.appConfig);for(;t.registrationStatus===1;)await kT(100),t=await Nv(s.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Gm(s);return r||n}return t}function Nv(s){return xh(s,t=>{if(!t)throw Kr.create("installation-not-found");return zT(t)})}function zT(s){return gx(s)?{fid:s.fid,registrationStatus:0}:s}function gx(s){return s.registrationStatus===1&&s.registrationTime+xT<Date.now()}async function yx({appConfig:s,heartbeatServiceProvider:t},n){const r=_x(s,n),o=W1(s,n),u=t.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={installation:{sdkVersion:IT,appId:s.appId}},p={method:"POST",headers:o,body:JSON.stringify(f)},_=await VT(()=>fetch(r,p));if(_.ok){const y=await _.json();return DT(y)}else throw await OT("Generate Auth Token",_)}function _x(s,{fid:t}){return`${NT(s)}/${t}/authTokens:generate`}async function Qm(s,t=!1){let n;const r=await xh(s.appConfig,u=>{if(!BT(u))throw Kr.create("not-registered");const f=u.authToken;if(!t&&Ex(f))return u;if(f.requestStatus===1)return n=vx(s,t),u;{if(!navigator.onLine)throw Kr.create("app-offline");const p=Ax(u);return n=Tx(s,p),p}});return n?await n:r.authToken}async function vx(s,t){let n=await Dv(s.appConfig);for(;n.authToken.requestStatus===1;)await kT(100),n=await Dv(s.appConfig);const r=n.authToken;return r.requestStatus===0?Qm(s,t):r}function Dv(s){return xh(s,t=>{if(!BT(t))throw Kr.create("not-registered");const n=t.authToken;return wx(n)?{...t,authToken:{requestStatus:0}}:t})}async function Tx(s,t){try{const n=await yx(s,t),r={...t,authToken:n};return await sh(s.appConfig,r),n}catch(n){if(CT(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await jT(s.appConfig);else{const r={...t,authToken:{requestStatus:0}};await sh(s.appConfig,r)}throw n}}function BT(s){return s!==void 0&&s.registrationStatus===2}function Ex(s){return s.requestStatus===2&&!bx(s)}function bx(s){const t=Date.now();return t<s.creationTime||s.creationTime+s.expiresIn<t+X1}function Ax(s){const t={requestStatus:1,requestTime:Date.now()};return{...s,authToken:t}}function wx(s){return s.requestStatus===1&&s.requestTime+xT<Date.now()}async function Sx(s){const t=s,{installationEntry:n,registrationPromise:r}=await Gm(t);return r?r.catch(console.error):Qm(t).catch(console.error),n.fid}async function xx(s,t=!1){const n=s;return await Ix(n),(await Qm(n,t)).token}async function Ix(s){const{registrationPromise:t}=await Gm(s);t&&await t}function Rx(s){if(!s||!s.options)throw sm("App Configuration");if(!s.name)throw sm("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!s.options[n])throw sm(n);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function sm(s){return Kr.create("missing-app-config-values",{valueName:s})}const qT="installations",Cx="installations-internal",Nx=s=>{const t=s.getProvider("app").getImmediate(),n=Rx(t),r=ta(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Dx=s=>{const t=s.getProvider("app").getImmediate(),n=ta(t,qT).getImmediate();return{getId:()=>Sx(n),getToken:o=>xx(n,o)}};function Ox(){Vi(new ei(qT,Nx,"PUBLIC")),Vi(new ei(Cx,Dx,"PRIVATE"))}Ox();Pn(ST,Hm);Pn(ST,Hm,"esm2020");const rh="analytics",Mx="firebase_id",Vx="origin",kx=60*1e3,Lx="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ym="https://www.googletagmanager.com/gtag/js";const nn=new wh("@firebase/analytics");const Ux={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},An=new Wr("analytics","Analytics",Ux);function Px(s){if(!s.startsWith(Ym)){const t=An.create("invalid-gtag-resource",{gtagURL:s});return nn.warn(t.message),""}return s}function HT(s){return Promise.all(s.map(t=>t.catch(n=>n)))}function jx(s,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(s,t)),n}function zx(s,t){const n=jx("firebase-js-sdk-policy",{createScriptURL:Px}),r=document.createElement("script"),o=`${Ym}?l=${s}&id=${t}`;r.src=n?n?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function Bx(s){let t=[];return Array.isArray(window[s])?t=window[s]:window[s]=t,t}async function qx(s,t,n,r,o,u){const f=r[o];try{if(f)await t[f];else{const _=(await HT(n)).find(y=>y.measurementId===o);_&&await t[_.appId]}}catch(p){nn.error(p)}s("config",o,u)}async function Hx(s,t,n,r,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const p=await HT(n);for(const _ of f){const y=p.find(w=>w.measurementId===_),E=y&&t[y.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),s("event",r,o||{})}catch(u){nn.error(u)}}function Fx(s,t,n,r){async function o(u,...f){try{if(u==="event"){const[p,_]=f;await Hx(s,t,n,p,_)}else if(u==="config"){const[p,_]=f;await qx(s,t,n,r,p,_)}else if(u==="consent"){const[p,_]=f;s("consent",p,_)}else if(u==="get"){const[p,_,y]=f;s("get",p,_,y)}else if(u==="set"){const[p]=f;s("set",p)}else s(u,...f)}catch(p){nn.error(p)}}return o}function Gx(s,t,n,r,o){let u=function(...f){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=Fx(u,s,t,n),{gtagCore:u,wrappedGtag:window[o]}}function Qx(s){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Ym)&&n.src.includes(s))return n;return null}const Yx=30,Kx=1e3;class Xx{constructor(t={},n=Kx){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const FT=new Xx;function $x(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function Jx(s){const{appId:t,apiKey:n}=s,r={method:"GET",headers:$x(n)},o=Lx.replace("{app-id}",t),u=await fetch(o,r);if(u.status!==200&&u.status!==304){let f="";try{const p=await u.json();p.error?.message&&(f=p.error.message)}catch{}throw An.create("config-fetch-failed",{httpStatus:u.status,responseMessage:f})}return u.json()}async function Zx(s,t=FT,n){const{appId:r,apiKey:o,measurementId:u}=s.options;if(!r)throw An.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:r};throw An.create("no-api-key")}const f=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new eI;return setTimeout(async()=>{p.abort()},kx),GT({appId:r,apiKey:o,measurementId:u},f,p,t)}async function GT(s,{throttleEndTimeMillis:t,backoffCount:n},r,o=FT){const{appId:u,measurementId:f}=s;try{await Wx(r,t)}catch(p){if(f)return nn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:u,measurementId:f};throw p}try{const p=await Jx(s);return o.deleteThrottleMetadata(u),p}catch(p){const _=p;if(!tI(_)){if(o.deleteThrottleMetadata(u),f)return nn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${_?.message}]`),{appId:u,measurementId:f};throw p}const y=Number(_?.customData?.httpStatus)===503?Ev(n,o.intervalMillis,Yx):Ev(n,o.intervalMillis),E={throttleEndTimeMillis:Date.now()+y,backoffCount:n+1};return o.setThrottleMetadata(u,E),nn.debug(`Calling attemptFetch again in ${y} millis`),GT(s,E,r,o)}}function Wx(s,t){return new Promise((n,r)=>{const o=Math.max(t-Date.now(),0),u=setTimeout(n,o);s.addEventListener(()=>{clearTimeout(u),r(An.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function tI(s){if(!(s instanceof ii)||!s.customData)return!1;const t=Number(s.customData.httpStatus);return t===429||t===500||t===503||t===504}class eI{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function nI(s,t,n,r,o){if(o&&o.global){s("event",n,r);return}else{const u=await t,f={...r,send_to:u};s("event",n,f)}}async function iI(s,t,n,r){if(r&&r.global){const o={};for(const u of Object.keys(n))o[`user_properties.${u}`]=n[u];return s("set",o),Promise.resolve()}else{const o=await t;s("config",o,{update:!0,user_properties:n})}}async function sI(){if(yT())try{await _T()}catch(s){return nn.warn(An.create("indexeddb-unavailable",{errorInfo:s?.toString()}).message),!1}else return nn.warn(An.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function rI(s,t,n,r,o,u,f){const p=Zx(s);p.then(R=>{n[R.measurementId]=R.appId,s.options.measurementId&&R.measurementId!==s.options.measurementId&&nn.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${R.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(R=>nn.error(R)),t.push(p);const _=sI().then(R=>{if(R)return r.getId()}),[y,E]=await Promise.all([p,_]);Qx(u)||zx(u,y.measurementId),o("js",new Date);const w=f?.config??{};return w[Vx]="firebase",w.update=!0,E!=null&&(w[Mx]=E),o("config",y.measurementId,w),y.measurementId}class aI{constructor(t){this.app=t}_delete(){return delete eo[this.app.options.appId],Promise.resolve()}}let eo={},Ov=[];const Mv={};let rm="dataLayer",oI="gtag",Vv,Km,kv=!1;function lI(){const s=[];if(gT()&&s.push("This is a browser extension environment."),IS()||s.push("Cookies are not available."),s.length>0){const t=s.map((r,o)=>`(${o+1}) ${r}`).join(" "),n=An.create("invalid-analytics-context",{errorInfo:t});nn.warn(n.message)}}function uI(s,t,n){lI();const r=s.options.appId;if(!r)throw An.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)nn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw An.create("no-api-key");if(eo[r]!=null)throw An.create("already-exists",{id:r});if(!kv){Bx(rm);const{wrappedGtag:u,gtagCore:f}=Gx(eo,Ov,Mv,rm,oI);Km=u,Vv=f,kv=!0}return eo[r]=rI(s,Ov,Mv,t,Vv,rm,n),new aI(s)}function cI(s=qm()){s=Ne(s);const t=ta(s,rh);return t.isInitialized()?t.getImmediate():hI(s)}function hI(s,t={}){const n=ta(s,rh);if(n.isInitialized()){const o=n.getImmediate();if(rs(t,n.getOptions()))return o;throw An.create("already-initialized")}return n.initialize({options:t})}function fI(s,t,n){s=Ne(s),iI(Km,eo[s.app.options.appId],t,n).catch(r=>nn.error(r))}function dI(s,t,n,r){s=Ne(s),nI(Km,eo[s.app.options.appId],t,n,r).catch(o=>nn.error(o))}const Lv="@firebase/analytics",Uv="0.10.19";function mI(){Vi(new ei(rh,(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return uI(r,o,n)},"PUBLIC")),Vi(new ei("analytics-internal",s,"PRIVATE")),Pn(Lv,Uv),Pn(Lv,Uv,"esm2020");function s(t){try{const n=t.getProvider(rh).getImmediate();return{logEvent:(r,o,u)=>dI(n,r,o,u),setUserProperties:(r,o)=>fI(n,r,o)}}catch(n){throw An.create("interop-component-reg-failed",{reason:n})}}}mI();var Pv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ws,QT;(function(){var s;function t(N,S){function x(){}x.prototype=S.prototype,N.F=S.prototype,N.prototype=new x,N.prototype.constructor=N,N.D=function(V,D,k){for(var I=Array(arguments.length-2),at=2;at<arguments.length;at++)I[at-2]=arguments[at];return S.prototype[D].apply(V,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,S,x){x||(x=0);const V=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)V[D]=S.charCodeAt(x++)|S.charCodeAt(x++)<<8|S.charCodeAt(x++)<<16|S.charCodeAt(x++)<<24;else for(D=0;D<16;++D)V[D]=S[x++]|S[x++]<<8|S[x++]<<16|S[x++]<<24;S=N.g[0],x=N.g[1],D=N.g[2];let k=N.g[3],I;I=S+(k^x&(D^k))+V[0]+3614090360&4294967295,S=x+(I<<7&4294967295|I>>>25),I=k+(D^S&(x^D))+V[1]+3905402710&4294967295,k=S+(I<<12&4294967295|I>>>20),I=D+(x^k&(S^x))+V[2]+606105819&4294967295,D=k+(I<<17&4294967295|I>>>15),I=x+(S^D&(k^S))+V[3]+3250441966&4294967295,x=D+(I<<22&4294967295|I>>>10),I=S+(k^x&(D^k))+V[4]+4118548399&4294967295,S=x+(I<<7&4294967295|I>>>25),I=k+(D^S&(x^D))+V[5]+1200080426&4294967295,k=S+(I<<12&4294967295|I>>>20),I=D+(x^k&(S^x))+V[6]+2821735955&4294967295,D=k+(I<<17&4294967295|I>>>15),I=x+(S^D&(k^S))+V[7]+4249261313&4294967295,x=D+(I<<22&4294967295|I>>>10),I=S+(k^x&(D^k))+V[8]+1770035416&4294967295,S=x+(I<<7&4294967295|I>>>25),I=k+(D^S&(x^D))+V[9]+2336552879&4294967295,k=S+(I<<12&4294967295|I>>>20),I=D+(x^k&(S^x))+V[10]+4294925233&4294967295,D=k+(I<<17&4294967295|I>>>15),I=x+(S^D&(k^S))+V[11]+2304563134&4294967295,x=D+(I<<22&4294967295|I>>>10),I=S+(k^x&(D^k))+V[12]+1804603682&4294967295,S=x+(I<<7&4294967295|I>>>25),I=k+(D^S&(x^D))+V[13]+4254626195&4294967295,k=S+(I<<12&4294967295|I>>>20),I=D+(x^k&(S^x))+V[14]+2792965006&4294967295,D=k+(I<<17&4294967295|I>>>15),I=x+(S^D&(k^S))+V[15]+1236535329&4294967295,x=D+(I<<22&4294967295|I>>>10),I=S+(D^k&(x^D))+V[1]+4129170786&4294967295,S=x+(I<<5&4294967295|I>>>27),I=k+(x^D&(S^x))+V[6]+3225465664&4294967295,k=S+(I<<9&4294967295|I>>>23),I=D+(S^x&(k^S))+V[11]+643717713&4294967295,D=k+(I<<14&4294967295|I>>>18),I=x+(k^S&(D^k))+V[0]+3921069994&4294967295,x=D+(I<<20&4294967295|I>>>12),I=S+(D^k&(x^D))+V[5]+3593408605&4294967295,S=x+(I<<5&4294967295|I>>>27),I=k+(x^D&(S^x))+V[10]+38016083&4294967295,k=S+(I<<9&4294967295|I>>>23),I=D+(S^x&(k^S))+V[15]+3634488961&4294967295,D=k+(I<<14&4294967295|I>>>18),I=x+(k^S&(D^k))+V[4]+3889429448&4294967295,x=D+(I<<20&4294967295|I>>>12),I=S+(D^k&(x^D))+V[9]+568446438&4294967295,S=x+(I<<5&4294967295|I>>>27),I=k+(x^D&(S^x))+V[14]+3275163606&4294967295,k=S+(I<<9&4294967295|I>>>23),I=D+(S^x&(k^S))+V[3]+4107603335&4294967295,D=k+(I<<14&4294967295|I>>>18),I=x+(k^S&(D^k))+V[8]+1163531501&4294967295,x=D+(I<<20&4294967295|I>>>12),I=S+(D^k&(x^D))+V[13]+2850285829&4294967295,S=x+(I<<5&4294967295|I>>>27),I=k+(x^D&(S^x))+V[2]+4243563512&4294967295,k=S+(I<<9&4294967295|I>>>23),I=D+(S^x&(k^S))+V[7]+1735328473&4294967295,D=k+(I<<14&4294967295|I>>>18),I=x+(k^S&(D^k))+V[12]+2368359562&4294967295,x=D+(I<<20&4294967295|I>>>12),I=S+(x^D^k)+V[5]+4294588738&4294967295,S=x+(I<<4&4294967295|I>>>28),I=k+(S^x^D)+V[8]+2272392833&4294967295,k=S+(I<<11&4294967295|I>>>21),I=D+(k^S^x)+V[11]+1839030562&4294967295,D=k+(I<<16&4294967295|I>>>16),I=x+(D^k^S)+V[14]+4259657740&4294967295,x=D+(I<<23&4294967295|I>>>9),I=S+(x^D^k)+V[1]+2763975236&4294967295,S=x+(I<<4&4294967295|I>>>28),I=k+(S^x^D)+V[4]+1272893353&4294967295,k=S+(I<<11&4294967295|I>>>21),I=D+(k^S^x)+V[7]+4139469664&4294967295,D=k+(I<<16&4294967295|I>>>16),I=x+(D^k^S)+V[10]+3200236656&4294967295,x=D+(I<<23&4294967295|I>>>9),I=S+(x^D^k)+V[13]+681279174&4294967295,S=x+(I<<4&4294967295|I>>>28),I=k+(S^x^D)+V[0]+3936430074&4294967295,k=S+(I<<11&4294967295|I>>>21),I=D+(k^S^x)+V[3]+3572445317&4294967295,D=k+(I<<16&4294967295|I>>>16),I=x+(D^k^S)+V[6]+76029189&4294967295,x=D+(I<<23&4294967295|I>>>9),I=S+(x^D^k)+V[9]+3654602809&4294967295,S=x+(I<<4&4294967295|I>>>28),I=k+(S^x^D)+V[12]+3873151461&4294967295,k=S+(I<<11&4294967295|I>>>21),I=D+(k^S^x)+V[15]+530742520&4294967295,D=k+(I<<16&4294967295|I>>>16),I=x+(D^k^S)+V[2]+3299628645&4294967295,x=D+(I<<23&4294967295|I>>>9),I=S+(D^(x|~k))+V[0]+4096336452&4294967295,S=x+(I<<6&4294967295|I>>>26),I=k+(x^(S|~D))+V[7]+1126891415&4294967295,k=S+(I<<10&4294967295|I>>>22),I=D+(S^(k|~x))+V[14]+2878612391&4294967295,D=k+(I<<15&4294967295|I>>>17),I=x+(k^(D|~S))+V[5]+4237533241&4294967295,x=D+(I<<21&4294967295|I>>>11),I=S+(D^(x|~k))+V[12]+1700485571&4294967295,S=x+(I<<6&4294967295|I>>>26),I=k+(x^(S|~D))+V[3]+2399980690&4294967295,k=S+(I<<10&4294967295|I>>>22),I=D+(S^(k|~x))+V[10]+4293915773&4294967295,D=k+(I<<15&4294967295|I>>>17),I=x+(k^(D|~S))+V[1]+2240044497&4294967295,x=D+(I<<21&4294967295|I>>>11),I=S+(D^(x|~k))+V[8]+1873313359&4294967295,S=x+(I<<6&4294967295|I>>>26),I=k+(x^(S|~D))+V[15]+4264355552&4294967295,k=S+(I<<10&4294967295|I>>>22),I=D+(S^(k|~x))+V[6]+2734768916&4294967295,D=k+(I<<15&4294967295|I>>>17),I=x+(k^(D|~S))+V[13]+1309151649&4294967295,x=D+(I<<21&4294967295|I>>>11),I=S+(D^(x|~k))+V[4]+4149444226&4294967295,S=x+(I<<6&4294967295|I>>>26),I=k+(x^(S|~D))+V[11]+3174756917&4294967295,k=S+(I<<10&4294967295|I>>>22),I=D+(S^(k|~x))+V[2]+718787259&4294967295,D=k+(I<<15&4294967295|I>>>17),I=x+(k^(D|~S))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+k&4294967295}r.prototype.v=function(N,S){S===void 0&&(S=N.length);const x=S-this.blockSize,V=this.C;let D=this.h,k=0;for(;k<S;){if(D==0)for(;k<=x;)o(this,N,k),k+=this.blockSize;if(typeof N=="string"){for(;k<S;)if(V[D++]=N.charCodeAt(k++),D==this.blockSize){o(this,V),D=0;break}}else for(;k<S;)if(V[D++]=N[k++],D==this.blockSize){o(this,V),D=0;break}}this.h=D,this.o+=S},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;S=this.o*8;for(var x=N.length-8;x<N.length;++x)N[x]=S&255,S/=256;for(this.v(N),N=Array(16),S=0,x=0;x<4;++x)for(let V=0;V<32;V+=8)N[S++]=this.g[x]>>>V&255;return N};function u(N,S){var x=p;return Object.prototype.hasOwnProperty.call(x,N)?x[N]:x[N]=S(N)}function f(N,S){this.h=S;const x=[];let V=!0;for(let D=N.length-1;D>=0;D--){const k=N[D]|0;V&&k==S||(x[D]=k,V=!1)}this.g=x}var p={};function _(N){return-128<=N&&N<128?u(N,function(S){return new f([S|0],S<0?-1:0)}):new f([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return w;if(N<0)return tt(y(-N));const S=[];let x=1;for(let V=0;N>=x;V++)S[V]=N/x|0,x*=4294967296;return new f(S,0)}function E(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return tt(E(N.substring(1),S));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=y(Math.pow(S,8));let V=w;for(let k=0;k<N.length;k+=8){var D=Math.min(8,N.length-k);const I=parseInt(N.substring(k,k+D),S);D<8?(D=y(Math.pow(S,D)),V=V.j(D).add(y(I))):(V=V.j(x),V=V.add(y(I)))}return V}var w=_(0),R=_(1),F=_(16777216);s=f.prototype,s.m=function(){if(et(this))return-tt(this).m();let N=0,S=1;for(let x=0;x<this.g.length;x++){const V=this.i(x);N+=(V>=0?V:4294967296+V)*S,S*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(W(this))return"0";if(et(this))return"-"+tt(this).toString(N);const S=y(Math.pow(N,6));var x=this;let V="";for(;;){const D=yt(x,S).g;x=ft(x,D.j(S));let k=((x.g.length>0?x.g[0]:x.h)>>>0).toString(N);if(x=D,W(x))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function W(N){if(N.h!=0)return!1;for(let S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function et(N){return N.h==-1}s.l=function(N){return N=ft(this,N),et(N)?-1:W(N)?0:1};function tt(N){const S=N.g.length,x=[];for(let V=0;V<S;V++)x[V]=~N.g[V];return new f(x,~N.h).add(R)}s.abs=function(){return et(this)?tt(this):this},s.add=function(N){const S=Math.max(this.g.length,N.g.length),x=[];let V=0;for(let D=0;D<=S;D++){let k=V+(this.i(D)&65535)+(N.i(D)&65535),I=(k>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);V=I>>>16,k&=65535,I&=65535,x[D]=I<<16|k}return new f(x,x[x.length-1]&-2147483648?-1:0)};function ft(N,S){return N.add(tt(S))}s.j=function(N){if(W(this)||W(N))return w;if(et(this))return et(N)?tt(this).j(tt(N)):tt(tt(this).j(N));if(et(N))return tt(this.j(tt(N)));if(this.l(F)<0&&N.l(F)<0)return y(this.m()*N.m());const S=this.g.length+N.g.length,x=[];for(var V=0;V<2*S;V++)x[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<N.g.length;D++){const k=this.i(V)>>>16,I=this.i(V)&65535,at=N.i(D)>>>16,dt=N.i(D)&65535;x[2*V+2*D]+=I*dt,bt(x,2*V+2*D),x[2*V+2*D+1]+=k*dt,bt(x,2*V+2*D+1),x[2*V+2*D+1]+=I*at,bt(x,2*V+2*D+1),x[2*V+2*D+2]+=k*at,bt(x,2*V+2*D+2)}for(N=0;N<S;N++)x[N]=x[2*N+1]<<16|x[2*N];for(N=S;N<2*S;N++)x[N]=0;return new f(x,0)};function bt(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function Tt(N,S){this.g=N,this.h=S}function yt(N,S){if(W(S))throw Error("division by zero");if(W(N))return new Tt(w,w);if(et(N))return S=yt(tt(N),S),new Tt(tt(S.g),tt(S.h));if(et(S))return S=yt(N,tt(S)),new Tt(tt(S.g),S.h);if(N.g.length>30){if(et(N)||et(S))throw Error("slowDivide_ only works with positive integers.");for(var x=R,V=S;V.l(N)<=0;)x=Yt(x),V=Yt(V);var D=Nt(x,1),k=Nt(V,1);for(V=Nt(V,2),x=Nt(x,2);!W(V);){var I=k.add(V);I.l(N)<=0&&(D=D.add(x),k=I),V=Nt(V,1),x=Nt(x,1)}return S=ft(N,D.j(S)),new Tt(D,S)}for(D=w;N.l(S)>=0;){for(x=Math.max(1,Math.floor(N.m()/S.m())),V=Math.ceil(Math.log(x)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=y(x),I=k.j(S);et(I)||I.l(N)>0;)x-=V,k=y(x),I=k.j(S);W(k)&&(k=R),D=D.add(k),N=ft(N,I)}return new Tt(D,N)}s.B=function(N){return yt(this,N).h},s.and=function(N){const S=Math.max(this.g.length,N.g.length),x=[];for(let V=0;V<S;V++)x[V]=this.i(V)&N.i(V);return new f(x,this.h&N.h)},s.or=function(N){const S=Math.max(this.g.length,N.g.length),x=[];for(let V=0;V<S;V++)x[V]=this.i(V)|N.i(V);return new f(x,this.h|N.h)},s.xor=function(N){const S=Math.max(this.g.length,N.g.length),x=[];for(let V=0;V<S;V++)x[V]=this.i(V)^N.i(V);return new f(x,this.h^N.h)};function Yt(N){const S=N.g.length+1,x=[];for(let V=0;V<S;V++)x[V]=N.i(V)<<1|N.i(V-1)>>>31;return new f(x,N.h)}function Nt(N,S){const x=S>>5;S%=32;const V=N.g.length-x,D=[];for(let k=0;k<V;k++)D[k]=S>0?N.i(k+x)>>>S|N.i(k+x+1)<<32-S:N.i(k+x);return new f(D,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,QT=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Ws=f}).apply(typeof Pv<"u"?Pv:typeof self<"u"?self:typeof window<"u"?window:{});var zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var YT,Ml,KT,Qc,Tm,XT,$T,JT;(function(){var s,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof zc=="object"&&zc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function o(c,m){if(m)t:{var v=r;c=c.split(".");for(var A=0;A<c.length-1;A++){var P=c[A];if(!(P in v))break t;v=v[P]}c=c[c.length-1],A=v[c],m=m(A),m!=A&&m!=null&&t(v,c,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var u=u||{},f=this||self;function p(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function _(c,m,v){return c.call.apply(c.bind,arguments)}function y(c,m,v){return y=_,y.apply(null,arguments)}function E(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function w(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,P,q){for(var nt=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)nt[xt-2]=arguments[xt];return m.prototype[P].apply(A,nt)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function F(c){const m=c.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=c[A];return v}return[]}function W(c,m){for(let A=1;A<arguments.length;A++){const P=arguments[A];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=c.length||0;const q=P.length||0;c.length=v+q;for(let nt=0;nt<q;nt++)c[v+nt]=P[nt]}else c.push(P)}}class et{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function tt(c){f.setTimeout(()=>{throw c},0)}function ft(){var c=N;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class bt{constructor(){this.h=this.g=null}add(m,v){const A=Tt.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var Tt=new et(()=>new yt,c=>c.reset());class yt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Yt,Nt=!1,N=new bt,S=()=>{const c=Promise.resolve(void 0);Yt=()=>{c.then(x)}};function x(){for(var c;c=ft();){try{c.h.call(c.g)}catch(v){tt(v)}var m=Tt;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}Nt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,m),f.removeEventListener("test",v,m)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function at(c,m){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}w(at,D),at.prototype.init=function(c,m){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&at.Z.h.call(this)},at.prototype.h=function(){at.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var dt="closure_listenable_"+(Math.random()*1e6|0),U=0;function Z(c,m,v,A,P){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=P,this.key=++U,this.da=this.fa=!1}function ut(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function J(c,m,v){for(const A in c)m.call(v,c[A],A,c)}function Dt(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function M(c){const m={};for(const v in c)m[v]=c[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(c,m){let v,A;for(let P=1;P<arguments.length;P++){A=arguments[P];for(v in A)c[v]=A[v];for(let q=0;q<Y.length;q++)v=Y[q],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function rt(c){this.src=c,this.g={},this.h=0}rt.prototype.add=function(c,m,v,A,P){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const nt=Rt(c,m,A,P);return nt>-1?(m=c[nt],v||(m.fa=!1)):(m=new Z(m,this.src,q,!!A,P),m.fa=v,c.push(m)),m};function gt(c,m){const v=m.type;if(v in c.g){var A=c.g[v],P=Array.prototype.indexOf.call(A,m,void 0),q;(q=P>=0)&&Array.prototype.splice.call(A,P,1),q&&(ut(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Rt(c,m,v,A){for(let P=0;P<c.length;++P){const q=c[P];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==A)return P}return-1}var zt="closure_lm_"+(Math.random()*1e6|0),De={};function ae(c,m,v,A,P){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ae(c,m[q],v,A,P);return null}return v=Ro(v),c&&c[dt]?c.J(m,v,p(A)?!!A.capture:!1,P):fr(c,m,v,!1,A,P)}function fr(c,m,v,A,P,q){if(!m)throw Error("Invalid event type");const nt=p(P)?!!P.capture:!!P;let xt=dr(c);if(xt||(c[zt]=xt=new rt(c)),v=xt.add(m,v,A,nt,q),v.proxy)return v;if(A=sa(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)k||(P=nt),P===void 0&&(P=!1),c.addEventListener(m.toString(),A,P);else if(c.attachEvent)c.attachEvent(si(m.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function sa(){function c(v){return m.call(c.src,c.listener,v)}const m=xo;return c}function ra(c,m,v,A,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)ra(c,m[q],v,A,P);else A=p(A)?!!A.capture:!!A,v=Ro(v),c&&c[dt]?(c=c.i,q=String(m).toString(),q in c.g&&(m=c.g[q],v=Rt(m,v,A,P),v>-1&&(ut(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[q],c.h--)))):c&&(c=dr(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Rt(m,v,A,P)),(v=c>-1?m[c]:null)&&aa(v))}function aa(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[dt])gt(m.i,c);else{var v=c.type,A=c.proxy;m.removeEventListener?m.removeEventListener(v,A,c.capture):m.detachEvent?m.detachEvent(si(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=dr(m))?(gt(v,c),v.h==0&&(v.src=null,m[zt]=null)):ut(c)}}}function si(c){return c in De?De[c]:De[c]="on"+c}function xo(c,m){if(c.da)c=!0;else{m=new at(m,this);const v=c.listener,A=c.ha||c.src;c.fa&&aa(c),c=v.call(A,m)}return c}function dr(c){return c=c[zt],c instanceof rt?c:null}var Io="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ro(c){return typeof c=="function"?c:(c[Io]||(c[Io]=function(m){return c.handleEvent(m)}),c[Io])}function _e(){V.call(this),this.i=new rt(this),this.M=this,this.G=null}w(_e,V),_e.prototype[dt]=!0,_e.prototype.removeEventListener=function(c,m,v,A){ra(this,c,m,v,A)};function Oe(c,m){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=m.type||m,typeof m=="string")m=new D(m,c);else if(m instanceof D)m.target=m.target||c;else{var P=m;m=new D(A,c),it(m,P)}P=!0;let q,nt;if(v)for(nt=v.length-1;nt>=0;nt--)q=m.g=v[nt],P=fs(q,A,!0,m)&&P;if(q=m.g=c,P=fs(q,A,!0,m)&&P,P=fs(q,A,!1,m)&&P,v)for(nt=0;nt<v.length;nt++)q=m.g=v[nt],P=fs(q,A,!1,m)&&P}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let A=0;A<v.length;A++)ut(v[A]);delete c.g[m],c.h--}}this.G=null},_e.prototype.J=function(c,m,v,A){return this.i.add(String(c),m,!1,v,A)},_e.prototype.K=function(c,m,v,A){return this.i.add(String(c),m,!0,v,A)};function fs(c,m,v,A){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let q=0;q<m.length;++q){const nt=m[q];if(nt&&!nt.da&&nt.capture==v){const xt=nt.listener,de=nt.ha||nt.src;nt.fa&&gt(c.i,nt),P=xt.call(de,A)!==!1&&P}}return P&&!A.defaultPrevented}function Yh(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:f.setTimeout(c,m||0)}function cu(c){c.g=Yh(()=>{c.g=null,c.i&&(c.i=!1,cu(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class We extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:cu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mr(c){V.call(this),this.h=c,this.g={}}w(mr,V);var Co=[];function No(c){J(c.g,function(m,v){this.g.hasOwnProperty(v)&&aa(m)},c),c.g={}}mr.prototype.N=function(){mr.Z.N.call(this),No(this)},mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ds=f.JSON.stringify,Kh=f.JSON.parse,hu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function fu(){}function du(){}var jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function je(){D.call(this,"d")}w(je,D);function wn(){D.call(this,"c")}w(wn,D);var fe={},mu=null;function oa(){return mu=mu||new _e}fe.Ia="serverreachability";function pu(c){D.call(this,fe.Ia,c)}w(pu,D);function ri(c){const m=oa();Oe(m,new pu(m))}fe.STAT_EVENT="statevent";function pr(c,m){D.call(this,fe.STAT_EVENT,c),this.stat=m}w(pr,D);function ve(c){const m=oa();Oe(m,new pr(m,c))}fe.Ja="timingevent";function ai(c,m){D.call(this,fe.Ja,c),this.size=m}w(ai,D);function oi(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},m)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function Xh(c,m,v,A,P,q){c.info(function(){if(c.g)if(q){var nt="",xt=q.split("&");for(let Ft=0;Ft<xt.length;Ft++){var de=xt[Ft].split("=");if(de.length>1){const oe=de[0];de=de[1];const Rn=oe.split("_");nt=Rn.length>=2&&Rn[1]=="type"?nt+(oe+"="+de+"&"):nt+(oe+"=redacted&")}}}else nt=null;else nt=q;return"XMLHTTP REQ ("+A+") [attempt "+P+"]: "+m+`
`+v+`
`+nt})}function gu(c,m,v,A,P,q,nt){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+P+"]: "+m+`
`+v+`
`+q+" "+nt})}function li(c,m,v,A){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+$h(c,v)+(A?" "+A:"")})}function gr(c,m){c.info(function(){return"TIMEOUT: "+m})}zn.prototype.info=function(){};function $h(c,m){if(!c.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var v=q[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var P=A[0];if(P!="noop"&&P!="stop"&&P!="close")for(let nt=1;nt<A.length;nt++)A[nt]=""}}}}return ds(q)}catch{return m}}var yr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Do={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Oo;function _r(){}w(_r,fu),_r.prototype.g=function(){return new XMLHttpRequest},Oo=new _r;function Li(c){return encodeURIComponent(String(c))}function yu(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function Bn(c,m,v,A){this.j=c,this.i=m,this.l=v,this.S=A||1,this.V=new mr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qn}function qn(){this.i=null,this.g="",this.h=!1}var Te={},ke={};function ui(c,m,v){c.M=1,c.A=vr(be(m)),c.u=v,c.R=!0,la(c,null)}function la(c,m){c.F=Date.now(),ci(c),c.B=be(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),fa(v.i,"t",A),c.C=0,v=c.j.L,c.h=new qn,c.g=Ou(c.j,v?m:null,!c.u),c.P>0&&(c.O=new We(y(c.Y,c,c.g),c.P)),m=c.V,v=c.g,A=c.ba;var P="readystatechange";Array.isArray(P)||(P&&(Co[0]=P.toString()),P=Co);for(let q=0;q<P.length;q++){const nt=ae(v,P[q],A||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),ri(),Xh(c.i,c.v,c.B,c.l,c.S,c.u)}Bn.prototype.ba=function(c){c=c.target;const m=this.O;m&&Gn(c)==3?m.j():this.Y(c)},Bn.prototype.Y=function(c){try{if(c==this.g)t:{const xt=Gn(this.g),de=this.g.ya(),Ft=this.g.ca();if(!(xt<3)&&(xt!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||xt!=4||de==7||(de==8||Ft<=0?ri(3):ri(2)),hi(this);var m=this.g.ca();this.X=m;var v=Jh(this);if(this.o=m==200,gu(this.i,this.v,this.B,this.l,this.S,xt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var A,P=this.g;if((A=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var q=A;break e}}q=null}if(c=q)li(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fi(this,c);else{this.o=!1,this.m=3,ve(12),dn(this),Sn(this);break t}}if(this.R){c=!0;let oe;for(;!this.K&&this.C<v.length;)if(oe=vu(this,v),oe==ke){xt==4&&(this.m=4,ve(14),c=!1),li(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==Te){this.m=4,ve(15),li(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else li(this.i,this.l,oe,null),fi(this,oe);if(_u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||v.length!=0||this.h.h||(this.m=1,ve(16),c=!1),this.o=this.o&&c,!c)li(this.i,this.l,v,"[Invalid Chunked Response]"),dn(this),Sn(this);else if(v.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Yo(nt),nt.P=!0,ve(11))}}else li(this.i,this.l,v,null),fi(this,v);xt==4&&dn(this),this.o&&!this.K&&(xt==4?Ru(this.j,this):(this.o=!1,ci(this)))}else Pi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),dn(this),Sn(this)}}}catch{}};function Jh(c){if(!_u(c))return c.g.la();const m=ze(c.g);if(m==="")return"";let v="";const A=m.length,P=Gn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return dn(c),Sn(c),"";c.h.i=new f.TextDecoder}for(let q=0;q<A;q++)c.h.h=!0,v+=c.h.i.decode(m[q],{stream:!(P&&q==A-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function _u(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function vu(c,m){var v=c.C,A=m.indexOf(`
`,v);return A==-1?ke:(v=Number(m.substring(v,A)),isNaN(v)?Te:(A+=1,A+v>m.length?ke:(m=m.slice(A,A+v),c.C=A+v,m)))}Bn.prototype.cancel=function(){this.K=!0,dn(this)};function ci(c){c.T=Date.now()+c.H,ua(c,c.H)}function ua(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=oi(y(c.aa,c),m)}function hi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Bn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(gr(this.i,this.B),this.M!=2&&(ri(),ve(17)),dn(this),this.m=2,Sn(this)):ua(this,this.T-c)};function Sn(c){c.j.I==0||c.K||Ru(c.j,c)}function dn(c){hi(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,No(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function fi(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||mi(v.h,c))){if(!c.L&&mi(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var P=A;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)ya(v),Es(v);else break t;xr(v),ve(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=oi(y(v.Va,v),6e3));di(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ti(v,11)}else if((c.L||v.g==c)&&ya(v),!I(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let Ft=P[m];const oe=Ft[0];if(!(oe<=v.K))if(v.K=oe,Ft=Ft[1],v.I==2)if(Ft[0]=="c"){v.M=Ft[1],v.ba=Ft[2];const Rn=Ft[3];Rn!=null&&(v.ka=Rn,v.j.info("VER="+v.ka));const Ei=Ft[4];Ei!=null&&(v.za=Ei,v.j.info("SVER="+v.za));const Qn=Ft[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(A=1.5*Qn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Yn=c.g;if(Yn){const Ir=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ir){var q=A.h;q.g||Ir.indexOf("spdy")==-1&&Ir.indexOf("quic")==-1&&Ir.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(ko(q,q.h),q.h=null))}if(A.G){const _a=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;_a&&(A.wa=_a,Kt(A.J,A.G,_a))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var nt=c;if(A.na=Du(A,A.L?A.ba:null,A.W),nt.L){Lo(A.h,nt);var xt=nt,de=A.O;de&&(xt.H=de),xt.D&&(hi(xt),ci(xt)),A.g=nt}else xu(A);v.i.length>0&&vi(v)}else Ft[0]!="stop"&&Ft[0]!="close"||Ti(v,7);else v.I==3&&(Ft[0]=="stop"||Ft[0]=="close"?Ft[0]=="stop"?Ti(v,7):Go(v):Ft[0]!="noop"&&v.l&&v.l.qa(Ft),v.A=0)}}ri(4)}catch{}}var Ee=class{constructor(c,m){this.g=c,this.map=m}};function Mo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Vo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function di(c){return c.h?1:c.g?c.g.size:0}function mi(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function ko(c,m){c.g?c.g.add(m):c.h=m}function Lo(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Mo.prototype.cancel=function(){if(this.i=Uo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Uo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return F(c.i)}var Tu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ca(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let P,q=null;A>=0?(P=c[v].substring(0,A),q=c[v].substring(A+1)):P=c[v],m(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function mn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof mn?(this.l=c.l,Le(this,c.j),this.o=c.o,this.g=c.g,ms(this,c.u),this.h=c.h,Po(this,wu(c.i)),this.m=c.m):c&&(m=String(c).match(Tu))?(this.l=!1,Le(this,m[1]||"",!0),this.o=pi(m[2]||""),this.g=pi(m[3]||"",!0),ms(this,m[4]),this.h=pi(m[5]||"",!0),Po(this,m[6]||"",!0),this.m=pi(m[7]||"")):(this.l=!1,this.i=new gs(null,this.l))}mn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(Tr(m,ha,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Tr(m,ha,!0),"@"),c.push(Li(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Tr(v,v.charAt(0)=="/"?jo:Eu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Tr(v,bu)),c.join("")},mn.prototype.resolve=function(c){const m=be(this);let v=!!c.j;v?Le(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var A=c.h;if(v)ms(m,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var P=m.h.lastIndexOf("/");P!=-1&&(A=m.h.slice(0,P+1)+A)}if(P=A,P==".."||P==".")A="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){A=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let nt=0;nt<P.length;){const xt=P[nt++];xt=="."?A&&nt==P.length&&q.push(""):xt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),A&&nt==P.length&&q.push("")):(q.push(xt),A=!0)}A=q.join("/")}else A=P}return v?m.h=A:v=c.i.toString()!=="",v?Po(m,wu(c.i)):v=!!c.m,v&&(m.m=c.m),m};function be(c){return new mn(c)}function Le(c,m,v){c.j=v?pi(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function ms(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function Po(c,m,v){m instanceof gs?(c.i=m,da(c.i,c.l)):(v||(m=Tr(m,ps)),c.i=new gs(m,c.l))}function Kt(c,m,v){c.i.set(m,v)}function vr(c){return Kt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function pi(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Tr(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,sn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function sn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ha=/[#\/\?@]/g,Eu=/[#\?:]/g,jo=/[#\?]/g,ps=/[#\?@]/g,bu=/#/g;function gs(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function rn(c){c.g||(c.g=new Map,c.h=0,c.i&&ca(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=gs.prototype,s.add=function(c,m){rn(this),this.i=null,c=ys(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function Au(c,m){rn(c),m=ys(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function zo(c,m){return rn(c),m=ys(c,m),c.g.has(m)}s.forEach=function(c,m){rn(this),this.g.forEach(function(v,A){v.forEach(function(P){c.call(m,P,A,this)},this)},this)};function Bo(c,m){rn(c);let v=[];if(typeof m=="string")zo(c,m)&&(v=v.concat(c.g.get(ys(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}s.set=function(c,m){return rn(this),this.i=null,c=ys(this,c),zo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},s.get=function(c,m){return c?(c=Bo(this,c),c.length>0?String(c[0]):m):m};function fa(c,m,v){Au(c,m),v.length>0&&(c.i=null,c.g.set(ys(c,m),F(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const P=Li(v);v=Bo(this,v);for(let q=0;q<v.length;q++){let nt=P;v[q]!==""&&(nt+="="+Li(v[q])),c.push(nt)}}return this.i=c.join("&")};function wu(c){const m=new gs;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function ys(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function da(c,m){m&&!c.j&&(rn(c),c.i=null,c.g.forEach(function(v,A){const P=A.toLowerCase();A!=P&&(Au(this,A),fa(this,P,v))},c)),c.j=m}function Hn(c,m){const v=new zn;if(f.Image){const A=new Image;A.onload=E(xn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=E(xn,v,"TestLoadImage: error",!1,m,A),A.onabort=E(xn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=E(xn,v,"TestLoadImage: timeout",!1,m,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else m(!1)}function qo(c,m){const v=new zn,A=new AbortController,P=setTimeout(()=>{A.abort(),xn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:A.signal}).then(q=>{clearTimeout(P),q.ok?xn(v,"TestPingServer: ok",!0,m):xn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),xn(v,"TestPingServer: error",!1,m)})}function xn(c,m,v,A,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),A(v)}catch{}}function _s(){this.g=new hu}function gi(c){this.i=c.Sb||null,this.h=c.ab||!1}w(gi,fu),gi.prototype.g=function(){return new Er(this.i,this.h)};function Er(c,m){_e.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Er,_e),s=Er.prototype,s.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Fn(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||f).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,vs(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ma(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ma(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?vs(this):Fn(this),this.readyState==3&&ma(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,vs(this))},s.Na=function(c){this.g&&(this.response=c,vs(this))},s.ga=function(){this.g&&vs(this)};function vs(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Fn(c)}s.setRequestHeader=function(c,m){this.A.append(c,m)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Fn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Er.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function In(c){let m="";return J(c,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function br(c,m,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=In(v),typeof c=="string"?v!=null&&Li(v):Kt(c,m,v))}function Jt(c){_e.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Jt,_e);var yi=/^https?$/i,Ho=["POST","PUT"];s=Jt.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Oo.g(),this.g.onreadystatechange=R(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(q){Ar(this,q);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var P in A)v.set(P,A[P]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())v.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),P=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Ho,m,void 0)>=0)||A||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,nt]of v)this.g.setRequestHeader(q,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){Ar(this,q)}};function Ar(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,Fo(c),Ui(c)}function Fo(c){c.A||(c.A=!0,Oe(c,"complete"),Oe(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Oe(this,"complete"),Oe(this,"abort"),Ui(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ui(this,!0)),Jt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?wr(this):this.Xa())},s.Xa=function(){wr(this)};function wr(c){if(c.h&&typeof u<"u"){if(c.v&&Gn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Oe(c,"readystatechange"),Gn(c)==4){c.h=!1;try{const q=c.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var A;if(A=q===0){let nt=String(c.D).match(Tu)[1]||null;!nt&&f.self&&f.self.location&&(nt=f.self.location.protocol.slice(0,-1)),A=!yi.test(nt?nt.toLowerCase():"")}v=A}if(v)Oe(c,"complete"),Oe(c,"success");else{c.o=6;try{var P=Gn(c)>2?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.ca()+"]",Fo(c)}}finally{Ui(c)}}}}function Ui(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||Oe(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Gn(c){return c.g?c.g.readyState:0}s.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Kh(m)}};function ze(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Pi(c){const m={};c=(c.g&&Gn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(I(c[A]))continue;var v=yu(c[A]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[P]||[];m[P]=q,q.push(v)}Dt(m,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _i(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function Ts(c){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_i("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_i("baseRetryDelayMs",5e3,c),this.Za=_i("retryDelaySeedMs",1e4,c),this.Ta=_i("forwardChannelMaxRetries",2,c),this.va=_i("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Mo(c&&c.concurrentRequestLimit),this.Ba=new _s,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ts.prototype,s.ka=8,s.I=1,s.connect=function(c,m,v,A){ve(0),this.W=c,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Du(this,null,this.W),vi(this)};function Go(c){if(pa(c),c.I==3){var m=c.V++,v=be(c.J);if(Kt(v,"SID",c.M),Kt(v,"RID",m),Kt(v,"TYPE","terminate"),Sr(c,v),m=new Bn(c,c.j,m),m.M=2,m.A=vr(be(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=m.A,v=!0),v||(m.g=Ou(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ci(m)}Nu(c)}function Es(c){c.g&&(Yo(c),c.g.cancel(),c.g=null)}function pa(c){Es(c),c.v&&(f.clearTimeout(c.v),c.v=null),ya(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function vi(c){if(!Vo(c.h)&&!c.m){c.m=!0;var m=c.Ea;Yt||S(),Nt||(Yt(),Nt=!0),N.add(m,c),c.D=0}}function ga(c,m){return di(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=oi(y(c.Ea,c,m),Cu(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const P=new Bn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=M(q),it(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Su(this,P,m),v=be(this.J),Kt(v,"RID",c),Kt(v,"CVER",22),this.G&&Kt(v,"X-HTTP-Session-Id",this.G),Sr(this,v),q&&(this.R?m="headers="+Li(In(q))+"&"+m:this.u&&br(v,this.u,q)),ko(this.h,P),this.Ra&&Kt(v,"TYPE","init"),this.S?(Kt(v,"$req",m),Kt(v,"SID","null"),P.U=!0,ui(P,v,null)):ui(P,v,m),this.I=2}}else this.I==3&&(c?Qo(this,c):this.i.length==0||Vo(this.h)||Qo(this))};function Qo(c,m){var v;m?v=m.l:v=c.V++;const A=be(c.J);Kt(A,"SID",c.M),Kt(A,"RID",v),Kt(A,"AID",c.K),Sr(c,A),c.u&&c.o&&br(A,c.u,c.o),v=new Bn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=Su(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),ko(c.h,v),ui(v,A,m)}function Sr(c,m){c.H&&J(c.H,function(v,A){Kt(m,A,v)}),c.l&&J({},function(v,A){Kt(m,A,v)})}function Su(c,m,v){v=Math.min(c.i.length,v);const A=c.l?y(c.l.Ka,c.l,c):null;t:{var P=c.i;let xt=-1;for(;;){const de=["count="+v];xt==-1?v>0?(xt=P[0].g,de.push("ofs="+xt)):xt=0:de.push("ofs="+xt);let Ft=!0;for(let oe=0;oe<v;oe++){var q=P[oe].g;const Rn=P[oe].map;if(q-=xt,q<0)xt=Math.max(0,P[oe].g-100),Ft=!1;else try{q="req"+q+"_"||"";try{var nt=Rn instanceof Map?Rn:Object.entries(Rn);for(const[Ei,Qn]of nt){let Yn=Qn;p(Qn)&&(Yn=ds(Qn)),de.push(q+Ei+"="+encodeURIComponent(Yn))}}catch(Ei){throw de.push(q+"type="+encodeURIComponent("_badmap")),Ei}}catch{A&&A(Rn)}}if(Ft){nt=de.join("&");break t}}nt=void 0}return c=c.i.splice(0,v),m.G=c,nt}function xu(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;Yt||S(),Nt||(Yt(),Nt=!0),N.add(m,c),c.A=0}}function xr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=oi(y(c.Da,c),Cu(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,Iu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=oi(y(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),Es(this),Iu(this))};function Yo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Iu(c){c.g=new Bn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=be(c.na);Kt(m,"RID","rpc"),Kt(m,"SID",c.M),Kt(m,"AID",c.K),Kt(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Kt(m,"TO",c.ia),Kt(m,"TYPE","xmlhttp"),Sr(c,m),c.u&&c.o&&br(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=vr(be(m)),v.u=null,v.R=!0,la(v,c)}s.Va=function(){this.C!=null&&(this.C=null,Es(this),xr(this),ve(19))};function ya(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Ru(c,m){var v=null;if(c.g==m){ya(c),Yo(c),c.g=null;var A=2}else if(mi(c.h,m))v=m.G,Lo(c.h,m),A=1;else return;if(c.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=c.D;A=oa(),Oe(A,new ai(A,v)),vi(c)}else xu(c);else if(P=m.m,P==3||P==0&&m.X>0||!(A==1&&ga(c,m)||A==2&&xr(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),P){case 1:Ti(c,5);break;case 4:Ti(c,10);break;case 3:Ti(c,6);break;default:Ti(c,2)}}}function Cu(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function Ti(c,m){if(c.j.info("Error code "+m),m==2){var v=y(c.bb,c),A=c.Ua;const P=!A;A=new mn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Le(A,"https"),vr(A),P?Hn(A.toString(),v):qo(A.toString(),v)}else ve(2);c.I=0,c.l&&c.l.pa(m),Nu(c),pa(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function Nu(c){if(c.I=0,c.ja=[],c.l){const m=Uo(c.h);(m.length!=0||c.i.length!=0)&&(W(c.ja,m),W(c.ja,c.i),c.h.i.length=0,F(c.i),c.i.length=0),c.l.oa()}}function Du(c,m,v){var A=v instanceof mn?be(v):new mn(v);if(A.g!="")m&&(A.g=m+"."+A.g),ms(A,A.u);else{var P=f.location;A=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const q=new mn(null);A&&Le(q,A),m&&(q.g=m),P&&ms(q,P),v&&(q.h=v),A=q}return v=c.G,m=c.wa,v&&m&&Kt(A,v,m),Kt(A,"VER",c.ka),Sr(c,A),A}function Ou(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new Jt(new gi({ab:v})):new Jt(c.ma),m.Fa(c.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mu(){}s=Mu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function bs(){}bs.prototype.g=function(c,m){return new tn(c,m)};function tn(c,m){_e.call(this),this.g=new Ts(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!I(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!I(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new ji(this)}w(tn,_e),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Go(this.g)},tn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=ds(c),c=v);m.i.push(new Ee(m.Ya++,c)),m.I==3&&vi(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,Go(this.g),delete this.g,tn.Z.N.call(this)};function Vu(c){je.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){t:{for(const v in m){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}w(Vu,je);function ku(){wn.call(this),this.status=1}w(ku,wn);function ji(c){this.g=c}w(ji,Mu),ji.prototype.ra=function(){Oe(this.g,"a")},ji.prototype.qa=function(c){Oe(this.g,new Vu(c))},ji.prototype.pa=function(c){Oe(this.g,new ku)},ji.prototype.oa=function(){Oe(this.g,"b")},bs.prototype.createWebChannel=bs.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,JT=function(){return new bs},$T=function(){return oa()},XT=fe,Tm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},yr.NO_ERROR=0,yr.TIMEOUT=8,yr.HTTP_ERROR=6,Qc=yr,Do.COMPLETE="complete",KT=Do,du.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",_e.prototype.listen=_e.prototype.J,Ml=du,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,YT=Jt}).apply(typeof zc<"u"?zc:typeof self<"u"?self:typeof window<"u"?window:{});class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");let To="12.8.0";function pI(s){To=s}const $r=new wh("@firebase/firestore");function Xa(){return $r.logLevel}function ot(s,...t){if($r.logLevel<=Lt.DEBUG){const n=t.map(Xm);$r.debug(`Firestore (${To}): ${s}`,...n)}}function os(s,...t){if($r.logLevel<=Lt.ERROR){const n=t.map(Xm);$r.error(`Firestore (${To}): ${s}`,...n)}}function lo(s,...t){if($r.logLevel<=Lt.WARN){const n=t.map(Xm);$r.warn(`Firestore (${To}): ${s}`,...n)}}function Xm(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function vt(s,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,ZT(s,r,n)}function ZT(s,t,n){let r=`FIRESTORE (${To}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw os(r),new Error(r)}function Qt(s,t,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||ZT(t,o,r)}function St(s,t){return s}const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends ii{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ss{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class WT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class gI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n($e.UNAUTHENTICATED)))}shutdown(){}}class yI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class _I{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Qt(this.o===void 0,42304);let r=this.i;const o=_=>this.i!==r?(r=this.i,n(_)):Promise.resolve();let u=new ss;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ss,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const _=u;t.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},p=_=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ss)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qt(typeof r.accessToken=="string",31837,{l:r}),new WT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class vI{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class TI{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new vI(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class jv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EI{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Qt(this.o===void 0,3512);const r=u=>{u.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ot("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new jv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Qt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new jv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function bI(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class $m{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=bI(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=t.charAt(o[u]%62))}return r}}function Ut(s,t){return s<t?-1:s>t?1:0}function Em(s,t){const n=Math.min(s.length,t.length);for(let r=0;r<n;r++){const o=s.charAt(r),u=t.charAt(r);if(o!==u)return am(o)===am(u)?Ut(o,u):am(o)?1:-1}return Ut(s.length,t.length)}const AI=55296,wI=57343;function am(s){const t=s.charCodeAt(0);return t>=AI&&t<=wI}function uo(s,t,n){return s.length===t.length&&s.every(((r,o)=>n(r,t[o])))}const zv="__name__";class Ii{constructor(t,n,r){n===void 0?n=0:n>t.length&&vt(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&vt(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Ii.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ii?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let o=0;o<r;o++){const u=Ii.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Ut(t.length,n.length)}static compareSegments(t,n){const r=Ii.isNumericId(t),o=Ii.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Ii.extractNumericId(t).compare(Ii.extractNumericId(n)):Em(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ws.fromString(t.substring(4,t.length-2))}}class ne extends Ii{construct(t,n,r){return new ne(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new st(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new ne(n)}static emptyPath(){return new ne([])}}const SI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Ii{construct(t,n,r){return new Qe(t,n,r)}static isValidIdentifier(t){return SI.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zv}static keyField(){return new Qe([zv])}static fromServerFormat(t){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new st(K.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new st(K.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new st(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=_,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(r+=p,o++):(u(),o++)}if(u(),f)throw new st(K.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(n)}static emptyPath(){return new Qe([])}}class pt{constructor(t){this.path=t}static fromPath(t){return new pt(ne.fromString(t))}static fromName(t){return new pt(ne.fromString(t).popFirst(5))}static empty(){return new pt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ne.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new ne(t.slice()))}}function tE(s,t,n){if(!n)throw new st(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function xI(s,t,n,r){if(t===!0&&r===!0)throw new st(K.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function Bv(s){if(!pt.isDocumentKey(s))throw new st(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function qv(s){if(pt.isDocumentKey(s))throw new st(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function eE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Ih(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":vt(12329,{type:typeof s})}function ls(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new st(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ih(s);throw new st(K.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return s}function Ce(s,t){const n={typeString:s};return t&&(n.value=t),n}function Wl(s,t){if(!eE(s))throw new st(K.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const f=s[r];if(o&&typeof f!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new st(K.INVALID_ARGUMENT,n);return!0}const Hv=-62135596800,Fv=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*Fv);return new re(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new st(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new st(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Hv)throw new st(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new st(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Fv}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Wl(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Hv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Ce("string",re._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new re(0,0))}static max(){return new At(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Fl=-1;function II(s,t){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=At.fromTimestamp(r===1e9?new re(n+1,0):new re(n,r));return new nr(o,pt.empty(),t)}function RI(s){return new nr(s.readTime,s.key,Fl)}class nr{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new nr(At.min(),pt.empty(),Fl)}static max(){return new nr(At.max(),pt.empty(),Fl)}}function CI(s,t){let n=s.readTime.compareTo(t.readTime);return n!==0?n:(n=pt.comparator(s.documentKey,t.documentKey),n!==0?n:Ut(s.largestBatchId,t.largestBatchId))}const NI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Eo(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==NI)throw s;ot("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new $(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):$.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):$.reject(n)}static resolve(t){return new $(((n,r)=>{n(t)}))}static reject(t){return new $(((n,r)=>{r(t)}))}static waitFor(t){return new $(((n,r)=>{let o=0,u=0,f=!1;t.forEach((p=>{++o,p.next((()=>{++u,f&&u===o&&n()}),(_=>r(_)))})),f=!0,u===o&&n()}))}static or(t){let n=$.resolve(!1);for(const r of t)n=n.next((o=>o?$.resolve(o):r()));return n}static forEach(t,n){const r=[];return t.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(t,n){return new $(((r,o)=>{const u=t.length,f=new Array(u);let p=0;for(let _=0;_<u;_++){const y=_;n(t[y]).next((E=>{f[y]=E,++p,p===u&&r(f)}),(E=>o(E)))}}))}static doWhile(t,n){return new $(((r,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):r()};u()}))}}function OI(s){const t=s.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bo(s){return s.name==="IndexedDbTransactionError"}class Rh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Rh.ce=-1;const Jm=-1;function Ch(s){return s==null}function ah(s){return s===0&&1/s==-1/0}function MI(s){return typeof s=="number"&&Number.isInteger(s)&&!ah(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const nE="";function VI(s){let t="";for(let n=0;n<s.length;n++)t.length>0&&(t=Gv(t)),t=kI(s.get(n),t);return Gv(t)}function kI(s,t){let n=t;const r=s.length;for(let o=0;o<r;o++){const u=s.charAt(o);switch(u){case"\0":n+="";break;case nE:n+="";break;default:n+=u}}return n}function Gv(s){return s+nE+""}function Qv(s){let t=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t++;return t}function ur(s,t){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t(n,s[n])}function iE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class ue{constructor(t,n){this.comparator=t,this.root=n||Ge.EMPTY}insert(t,n){return new ue(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Bc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Bc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Bc(this.root,t,this.comparator,!0)}}class Bc{constructor(t,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?r(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,n,r,o,u){this.key=t,this.value=n,this.color=r??Ge.RED,this.left=o??Ge.EMPTY,this.right=u??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,o,u){return new Ge(t??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Ge.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,n,r,o,u){return this}insert(t,n,r){return new Ge(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Yv(this.data.getIterator())}getIteratorFrom(t){return new Yv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Ve(this.comparator);return n.data=t,n}}class Yv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class bn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new bn([])}unionWith(t){let n=new Ve(Qe.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new bn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return uo(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}class sE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ye{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new sE("Invalid base64 string: "+u):u}})(t);return new Ye(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new Ye(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const LI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ir(s){if(Qt(!!s,39018),typeof s=="string"){let t=0;const n=LI.exec(s);if(Qt(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ge(s.seconds),nanos:ge(s.nanos)}}function ge(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function sr(s){return typeof s=="string"?Ye.fromBase64String(s):Ye.fromUint8Array(s)}const rE="server_timestamp",aE="__type__",oE="__previous_value__",lE="__local_write_time__";function Zm(s){return(s?.mapValue?.fields||{})[aE]?.stringValue===rE}function Nh(s){const t=s.mapValue.fields[oE];return Zm(t)?Nh(t):t}function Gl(s){const t=ir(s.mapValue.fields[lE].timestampValue);return new re(t.seconds,t.nanos)}class UI{constructor(t,n,r,o,u,f,p,_,y,E,w){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=E,this.apiKey=w}}const oh="(default)";class Ql{constructor(t,n){this.projectId=t,this.database=n||oh}static empty(){return new Ql("","")}get isDefaultDatabase(){return this.database===oh}isEqual(t){return t instanceof Ql&&t.projectId===this.projectId&&t.database===this.database}}function PI(s,t){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new st(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ql(s.options.projectId,t)}const uE="__type__",jI="__max__",qc={mapValue:{}},cE="__vector__",lh="value";function rr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Zm(s)?4:BI(s)?9007199254740991:zI(s)?10:11:vt(28295,{value:s})}function ki(s,t){if(s===t)return!0;const n=rr(s);if(n!==rr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Gl(s).isEqual(Gl(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ir(o.timestampValue),p=ir(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(o,u){return sr(o.bytesValue).isEqual(sr(u.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(o,u){return ge(o.geoPointValue.latitude)===ge(u.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(u.geoPointValue.longitude)})(s,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return ge(o.integerValue)===ge(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ge(o.doubleValue),p=ge(u.doubleValue);return f===p?ah(f)===ah(p):isNaN(f)&&isNaN(p)}return!1})(s,t);case 9:return uo(s.arrayValue.values||[],t.arrayValue.values||[],ki);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(Qv(f)!==Qv(p))return!1;for(const _ in f)if(f.hasOwnProperty(_)&&(p[_]===void 0||!ki(f[_],p[_])))return!1;return!0})(s,t);default:return vt(52216,{left:s})}}function Yl(s,t){return(s.values||[]).find((n=>ki(n,t)))!==void 0}function co(s,t){if(s===t)return 0;const n=rr(s),r=rr(t);if(n!==r)return Ut(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ut(s.booleanValue,t.booleanValue);case 2:return(function(u,f){const p=ge(u.integerValue||u.doubleValue),_=ge(f.integerValue||f.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(s,t);case 3:return Kv(s.timestampValue,t.timestampValue);case 4:return Kv(Gl(s),Gl(t));case 5:return Em(s.stringValue,t.stringValue);case 6:return(function(u,f){const p=sr(u),_=sr(f);return p.compareTo(_)})(s.bytesValue,t.bytesValue);case 7:return(function(u,f){const p=u.split("/"),_=f.split("/");for(let y=0;y<p.length&&y<_.length;y++){const E=Ut(p[y],_[y]);if(E!==0)return E}return Ut(p.length,_.length)})(s.referenceValue,t.referenceValue);case 8:return(function(u,f){const p=Ut(ge(u.latitude),ge(f.latitude));return p!==0?p:Ut(ge(u.longitude),ge(f.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return Xv(s.arrayValue,t.arrayValue);case 10:return(function(u,f){const p=u.fields||{},_=f.fields||{},y=p[lh]?.arrayValue,E=_[lh]?.arrayValue,w=Ut(y?.values?.length||0,E?.values?.length||0);return w!==0?w:Xv(y,E)})(s.mapValue,t.mapValue);case 11:return(function(u,f){if(u===qc.mapValue&&f===qc.mapValue)return 0;if(u===qc.mapValue)return 1;if(f===qc.mapValue)return-1;const p=u.fields||{},_=Object.keys(p),y=f.fields||{},E=Object.keys(y);_.sort(),E.sort();for(let w=0;w<_.length&&w<E.length;++w){const R=Em(_[w],E[w]);if(R!==0)return R;const F=co(p[_[w]],y[E[w]]);if(F!==0)return F}return Ut(_.length,E.length)})(s.mapValue,t.mapValue);default:throw vt(23264,{he:n})}}function Kv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Ut(s,t);const n=ir(s),r=ir(t),o=Ut(n.seconds,r.seconds);return o!==0?o:Ut(n.nanos,r.nanos)}function Xv(s,t){const n=s.values||[],r=t.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=co(n[o],r[o]);if(u)return u}return Ut(n.length,r.length)}function ho(s){return bm(s)}function bm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=ir(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return sr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return pt.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=bm(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of r)u?u=!1:o+=",",o+=`${f}:${bm(n.fields[f])}`;return o+"}"})(s.mapValue):vt(61005,{value:s})}function Yc(s){switch(rr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Nh(s);return t?16+Yc(t):16;case 5:return 2*s.stringValue.length;case 6:return sr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Yc(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return ur(r.fields,((u,f)=>{o+=u.length+Yc(f)})),o})(s.mapValue);default:throw vt(13486,{value:s})}}function $v(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function Am(s){return!!s&&"integerValue"in s}function Wm(s){return!!s&&"arrayValue"in s}function Jv(s){return!!s&&"nullValue"in s}function Zv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Kc(s){return!!s&&"mapValue"in s}function zI(s){return(s?.mapValue?.fields||{})[uE]?.stringValue===cE}function Pl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return ur(s.mapValue.fields,((n,r)=>t.mapValue.fields[n]=Pl(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Pl(s.arrayValue.values[n]);return t}return{...s}}function BI(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===jI}class fn{constructor(t){this.value=t}static empty(){return new fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Kc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Pl(n)}setAll(t){let n=Qe.emptyPath(),r={},o=[];t.forEach(((f,p)=>{if(!n.isImmediateParentOf(p)){const _=this.getFieldsMap(n);this.applyChanges(_,r,o),r={},o=[],n=p.popLast()}f?r[p.lastSegment()]=Pl(f):o.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(t){const n=this.field(t.popLast());Kc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ki(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=n.mapValue.fields[t.get(r)];Kc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,r){ur(n,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new fn(Pl(this.value))}}function hE(s){const t=[];return ur(s.fields,((n,r)=>{const o=new Qe([n]);if(Kc(r)){const u=hE(r.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new bn(t)}class Je{constructor(t,n,r,o,u,f,p){this.key=t,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(t){return new Je(t,0,At.min(),At.min(),At.min(),fn.empty(),0)}static newFoundDocument(t,n,r,o){return new Je(t,1,n,At.min(),r,o,0)}static newNoDocument(t,n){return new Je(t,2,n,At.min(),At.min(),fn.empty(),0)}static newUnknownDocument(t,n){return new Je(t,3,n,At.min(),At.min(),fn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class uh{constructor(t,n){this.position=t,this.inclusive=n}}function Wv(s,t,n){let r=0;for(let o=0;o<s.position.length;o++){const u=t[o],f=s.position[o];if(u.field.isKeyField()?r=pt.comparator(pt.fromName(f.referenceValue),n.key):r=co(f,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function t0(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!ki(s.position[n],t.position[n]))return!1;return!0}class Kl{constructor(t,n="asc"){this.field=t,this.dir=n}}function qI(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class fE{}class Re extends fE{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new FI(t,n,r):n==="array-contains"?new YI(t,r):n==="in"?new KI(t,r):n==="not-in"?new XI(t,r):n==="array-contains-any"?new $I(t,r):new Re(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new GI(t,r):new QI(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(co(n,this.value)):n!==null&&rr(this.value)===rr(n)&&this.matchesComparison(co(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ni extends fE{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new ni(t,n)}matches(t){return dE(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function dE(s){return s.op==="and"}function mE(s){return HI(s)&&dE(s)}function HI(s){for(const t of s.filters)if(t instanceof ni)return!1;return!0}function wm(s){if(s instanceof Re)return s.field.canonicalString()+s.op.toString()+ho(s.value);if(mE(s))return s.filters.map((t=>wm(t))).join(",");{const t=s.filters.map((n=>wm(n))).join(",");return`${s.op}(${t})`}}function pE(s,t){return s instanceof Re?(function(r,o){return o instanceof Re&&r.op===o.op&&r.field.isEqual(o.field)&&ki(r.value,o.value)})(s,t):s instanceof ni?(function(r,o){return o instanceof ni&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,f,p)=>u&&pE(f,o.filters[p])),!0):!1})(s,t):void vt(19439)}function gE(s){return s instanceof Re?(function(n){return`${n.field.canonicalString()} ${n.op} ${ho(n.value)}`})(s):s instanceof ni?(function(n){return n.op.toString()+" {"+n.getFilters().map(gE).join(" ,")+"}"})(s):"Filter"}class FI extends Re{constructor(t,n,r){super(t,n,r),this.key=pt.fromName(r.referenceValue)}matches(t){const n=pt.comparator(t.key,this.key);return this.matchesComparison(n)}}class GI extends Re{constructor(t,n){super(t,"in",n),this.keys=yE("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class QI extends Re{constructor(t,n){super(t,"not-in",n),this.keys=yE("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function yE(s,t){return(t.arrayValue?.values||[]).map((n=>pt.fromName(n.referenceValue)))}class YI extends Re{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Wm(n)&&Yl(n.arrayValue,this.value)}}class KI extends Re{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Yl(this.value.arrayValue,n)}}class XI extends Re{constructor(t,n){super(t,"not-in",n)}matches(t){if(Yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Yl(this.value.arrayValue,n)}}class $I extends Re{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Wm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Yl(this.value.arrayValue,r)))}}class JI{constructor(t,n=null,r=[],o=[],u=null,f=null,p=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.Te=null}}function e0(s,t=null,n=[],r=[],o=null,u=null,f=null){return new JI(s,t,n,r,o,u,f)}function tp(s){const t=St(s);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>wm(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Ch(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>ho(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>ho(r))).join(",")),t.Te=n}return t.Te}function ep(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!qI(s.orderBy[n],t.orderBy[n]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!pE(s.filters[n],t.filters[n]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!t0(s.startAt,t.startAt)&&t0(s.endAt,t.endAt)}function Sm(s){return pt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Ao{constructor(t,n=null,r=[],o=[],u=null,f="F",p=null,_=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function ZI(s,t,n,r,o,u,f,p){return new Ao(s,t,n,r,o,u,f,p)}function np(s){return new Ao(s)}function n0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function WI(s){return pt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function _E(s){return s.collectionGroup!==null}function jl(s){const t=St(s);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new Ve(Qe.comparator);return f.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Kl(u,r))})),n.has(Qe.keyField().canonicalString())||t.Ie.push(new Kl(Qe.keyField(),r))}return t.Ie}function Ri(s){const t=St(s);return t.Ee||(t.Ee=tR(t,jl(s))),t.Ee}function tR(s,t){if(s.limitType==="F")return e0(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Kl(o.field,u)}));const n=s.endAt?new uh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new uh(s.startAt.position,s.startAt.inclusive):null;return e0(s.path,s.collectionGroup,t,s.filters,s.limit,n,r)}}function xm(s,t){const n=s.filters.concat([t]);return new Ao(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function eR(s,t){const n=s.explicitOrderBy.concat([t]);return new Ao(s.path,s.collectionGroup,n,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function ch(s,t,n){return new Ao(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,n,s.startAt,s.endAt)}function Dh(s,t){return ep(Ri(s),Ri(t))&&s.limitType===t.limitType}function vE(s){return`${tp(Ri(s))}|lt:${s.limitType}`}function $a(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>gE(o))).join(", ")}]`),Ch(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>ho(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>ho(o))).join(",")),`Target(${r})`})(Ri(s))}; limitType=${s.limitType})`}function Oh(s,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):pt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,t)&&(function(r,o){for(const u of jl(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(s,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(s,t)&&(function(r,o){return!(r.startAt&&!(function(f,p,_){const y=Wv(f,p,_);return f.inclusive?y<=0:y<0})(r.startAt,jl(r),o)||r.endAt&&!(function(f,p,_){const y=Wv(f,p,_);return f.inclusive?y>=0:y>0})(r.endAt,jl(r),o))})(s,t)}function nR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function TE(s){return(t,n)=>{let r=!1;for(const o of jl(s)){const u=iR(o,t,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function iR(s,t,n){const r=s.field.isKeyField()?pt.comparator(t.key,n.key):(function(u,f,p){const _=f.data.field(u),y=p.data.field(u);return _!==null&&y!==null?co(_,y):vt(42886)})(s.field,t,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return vt(19790,{direction:s.dir})}}class ea{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ur(this.inner,((n,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return iE(this.inner)}size(){return this.innerSize}}const sR=new ue(pt.comparator);function us(){return sR}const EE=new ue(pt.comparator);function Vl(...s){let t=EE;for(const n of s)t=t.insert(n.key,n);return t}function bE(s){let t=EE;return s.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function Gr(){return zl()}function AE(){return zl()}function zl(){return new ea((s=>s.toString()),((s,t)=>s.isEqual(t)))}const rR=new ue(pt.comparator),aR=new Ve(pt.comparator);function Pt(...s){let t=aR;for(const n of s)t=t.add(n);return t}const oR=new Ve(Ut);function lR(){return oR}function ip(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ah(t)?"-0":t}}function wE(s){return{integerValue:""+s}}function uR(s,t){return MI(t)?wE(t):ip(s,t)}class Mh{constructor(){this._=void 0}}function cR(s,t,n){return s instanceof Xl?(function(o,u){const f={fields:{[aE]:{stringValue:rE},[lE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Zm(u)&&(u=Nh(u)),u&&(f.fields[oE]=u),{mapValue:f}})(n,t):s instanceof fo?xE(s,t):s instanceof $l?IE(s,t):(function(o,u){const f=SE(o,u),p=i0(f)+i0(o.Ae);return Am(f)&&Am(o.Ae)?wE(p):ip(o.serializer,p)})(s,t)}function hR(s,t,n){return s instanceof fo?xE(s,t):s instanceof $l?IE(s,t):n}function SE(s,t){return s instanceof hh?(function(r){return Am(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class Xl extends Mh{}class fo extends Mh{constructor(t){super(),this.elements=t}}function xE(s,t){const n=RE(t);for(const r of s.elements)n.some((o=>ki(o,r)))||n.push(r);return{arrayValue:{values:n}}}class $l extends Mh{constructor(t){super(),this.elements=t}}function IE(s,t){let n=RE(t);for(const r of s.elements)n=n.filter((o=>!ki(o,r)));return{arrayValue:{values:n}}}class hh extends Mh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function i0(s){return ge(s.integerValue||s.doubleValue)}function RE(s){return Wm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class CE{constructor(t,n){this.field=t,this.transform=n}}function fR(s,t){return s.field.isEqual(t.field)&&(function(r,o){return r instanceof fo&&o instanceof fo||r instanceof $l&&o instanceof $l?uo(r.elements,o.elements,ki):r instanceof hh&&o instanceof hh?ki(r.Ae,o.Ae):r instanceof Xl&&o instanceof Xl})(s.transform,t.transform)}class dR{constructor(t,n){this.version=t,this.transformResults=n}}class Ci{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Ci}static exists(t){return new Ci(void 0,t)}static updateTime(t){return new Ci(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Xc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Vh{}function NE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new OE(s.key,Ci.none()):new tu(s.key,s.data,Ci.none());{const n=s.data,r=fn.empty();let o=new Ve(Qe.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?r.delete(u):r.set(u,f),o=o.add(u)}return new cr(s.key,r,new bn(o.toArray()),Ci.none())}}function mR(s,t,n){s instanceof tu?(function(o,u,f){const p=o.value.clone(),_=r0(o.fieldTransforms,u,f.transformResults);p.setAll(_),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(s,t,n):s instanceof cr?(function(o,u,f){if(!Xc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=r0(o.fieldTransforms,u,f.transformResults),_=u.data;_.setAll(DE(o)),_.setAll(p),u.convertToFoundDocument(f.version,_).setHasCommittedMutations()})(s,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function Bl(s,t,n,r){return s instanceof tu?(function(u,f,p,_){if(!Xc(u.precondition,f))return p;const y=u.value.clone(),E=a0(u.fieldTransforms,_,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(s,t,n,r):s instanceof cr?(function(u,f,p,_){if(!Xc(u.precondition,f))return p;const y=a0(u.fieldTransforms,_,f),E=f.data;return E.setAll(DE(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((w=>w.field)))})(s,t,n,r):(function(u,f,p){return Xc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(s,t,n)}function pR(s,t){let n=null;for(const r of s.fieldTransforms){const o=t.data.field(r.field),u=SE(r.transform,o||null);u!=null&&(n===null&&(n=fn.empty()),n.set(r.field,u))}return n||null}function s0(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&uo(r,o,((u,f)=>fR(u,f)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class tu extends Vh{constructor(t,n,r,o=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class cr extends Vh{constructor(t,n,r,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function DE(s){const t=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);t.set(n,r)}})),t}function r0(s,t,n){const r=new Map;Qt(s.length===n.length,32656,{Ve:n.length,de:s.length});for(let o=0;o<n.length;o++){const u=s[o],f=u.transform,p=t.data.field(u.field);r.set(u.field,hR(f,p,n[o]))}return r}function a0(s,t,n){const r=new Map;for(const o of s){const u=o.transform,f=n.data.field(o.field);r.set(o.field,cR(u,f,t))}return r}class OE extends Vh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gR extends Vh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class yR{constructor(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&mR(u,t,r[o])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Bl(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Bl(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=AE();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(o.key)?null:p;const _=NE(f,p);_!==null&&r.set(o.key,_),f.isValidDocument()||f.convertToNoDocument(At.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Pt())}isEqual(t){return this.batchId===t.batchId&&uo(this.mutations,t.mutations,((n,r)=>s0(n,r)))&&uo(this.baseMutations,t.baseMutations,((n,r)=>s0(n,r)))}}class sp{constructor(t,n,r,o){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(t,n,r){Qt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return rR})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,r[f].version);return new sp(t,n,r,o)}}class _R{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class vR{constructor(t,n){this.count=t,this.unchangedNames=n}}var Ie,Bt;function TR(s){switch(s){case K.OK:return vt(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return vt(15467,{code:s})}}function ME(s){if(s===void 0)return os("GRPC error has no .code"),K.UNKNOWN;switch(s){case Ie.OK:return K.OK;case Ie.CANCELLED:return K.CANCELLED;case Ie.UNKNOWN:return K.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return K.INTERNAL;case Ie.UNAVAILABLE:return K.UNAVAILABLE;case Ie.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Ie.NOT_FOUND:return K.NOT_FOUND;case Ie.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Ie.ABORTED:return K.ABORTED;case Ie.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Ie.DATA_LOSS:return K.DATA_LOSS;default:return vt(39323,{code:s})}}(Bt=Ie||(Ie={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";function ER(){return new TextEncoder}const bR=new Ws([4294967295,4294967295],0);function o0(s){const t=ER().encode(s),n=new QT;return n.update(t),new Uint8Array(n.digest())}function l0(s){const t=new DataView(s.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Ws([n,r],0),new Ws([o,u],0)]}class rp{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new kl(`Invalid padding: ${n}`);if(r<0)throw new kl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new kl(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new kl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Ws.fromNumber(this.ge)}ye(t,n,r){let o=t.add(n.multiply(Ws.fromNumber(r)));return o.compare(bR)===1&&(o=new Ws([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=o0(t),[r,o]=l0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);if(!this.we(f))return!1}return!0}static create(t,n,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new rp(u,o,n);return r.forEach((p=>f.insert(p))),f}insert(t){if(this.ge===0)return;const n=o0(t),[r,o]=l0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);this.be(f)}}be(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class kh{constructor(t,n,r,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const o=new Map;return o.set(t,eu.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new kh(At.min(),o,new ue(Ut),us(),Pt())}}class eu{constructor(t,n,r,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new eu(r,n,Pt(),Pt(),Pt())}}class $c{constructor(t,n,r,o){this.Se=t,this.removedTargetIds=n,this.key=r,this.De=o}}class VE{constructor(t,n){this.targetId=t,this.Ce=n}}class kE{constructor(t,n,r=Ye.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=o}}class u0{constructor(){this.ve=0,this.Fe=c0(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Pt(),n=Pt(),r=Pt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:vt(38017,{changeType:u})}})),new eu(this.Me,this.xe,t,n,r)}Ke(){this.Oe=!1,this.Fe=c0()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class AR{constructor(t){this.Ge=t,this.ze=new Map,this.je=us(),this.He=Hc(),this.Je=Hc(),this.Ze=new ue(Ut)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(t.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:vt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,r=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Sm(u))if(r===0){const f=new pt(u.path);this.et(n,f,Je.newNoDocument(f,At.min()))}else Qt(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const p=this.ut(t),_=p?this.ct(p,t,f):1;if(_!==0){this.it(n);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let f,p;try{f=sr(r).toUint8Array()}catch(_){if(_ instanceof sE)return lo("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new rp(f,o,u)}catch(_){return lo(_ instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(p)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const p=this.ot(f);if(p){if(u.current&&Sm(p.target)){const _=new pt(p.target.path);this.It(_).has(f)||this.Et(f,_)||this.et(f,_,Je.newNoDocument(_,t))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let r=Pt();this.Je.forEach(((u,f)=>{let p=!0;f.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new kh(t,n,this.Ze,this.je,r);return this.je=us(),this.He=Hc(),this.Je=Hc(),this.Ze=new ue(Ut),o}Ye(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new u0,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new Ve(Ut),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new Ve(Ut),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ot("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new u0),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Hc(){return new ue(pt.comparator)}function c0(){return new ue(pt.comparator)}const wR={asc:"ASCENDING",desc:"DESCENDING"},SR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xR={and:"AND",or:"OR"};class IR{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Im(s,t){return s.useProto3Json||Ch(t)?t:{value:t}}function fh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function LE(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function RR(s,t){return fh(s,t.toTimestamp())}function Ni(s){return Qt(!!s,49232),At.fromTimestamp((function(n){const r=ir(n);return new re(r.seconds,r.nanos)})(s))}function ap(s,t){return Rm(s,t).canonicalString()}function Rm(s,t){const n=(function(o){return new ne(["projects",o.projectId,"databases",o.database])})(s).child("documents");return t===void 0?n:n.child(t)}function UE(s){const t=ne.fromString(s);return Qt(qE(t),10190,{key:t.toString()}),t}function Cm(s,t){return ap(s.databaseId,t.path)}function om(s,t){const n=UE(t);if(n.get(1)!==s.databaseId.projectId)throw new st(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new st(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new pt(jE(n))}function PE(s,t){return ap(s.databaseId,t)}function CR(s){const t=UE(s);return t.length===4?ne.emptyPath():jE(t)}function Nm(s){return new ne(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function jE(s){return Qt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function h0(s,t,n){return{name:Cm(s,t),fields:n.value.mapValue.fields}}function NR(s,t){let n;if("targetChange"in t){t.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:vt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Qt(E===void 0||typeof E=="string",58123),Ye.fromBase64String(E||"")):(Qt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Ye.fromUint8Array(E||new Uint8Array))})(s,t.targetChange.resumeToken),f=t.targetChange.cause,p=f&&(function(y){const E=y.code===void 0?K.UNKNOWN:ME(y.code);return new st(E,y.message||"")})(f);n=new kE(r,o,u,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=om(s,r.document.name),u=Ni(r.document.updateTime),f=r.document.createTime?Ni(r.document.createTime):At.min(),p=new fn({mapValue:{fields:r.document.fields}}),_=Je.newFoundDocument(o,u,f,p),y=r.targetIds||[],E=r.removedTargetIds||[];n=new $c(y,E,_.key,_)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=om(s,r.document),u=r.readTime?Ni(r.readTime):At.min(),f=Je.newNoDocument(o,u),p=r.removedTargetIds||[];n=new $c([],p,f.key,f)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=om(s,r.document),u=r.removedTargetIds||[];n=new $c([],u,o,null)}else{if(!("filter"in t))return vt(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,f=new vR(o,u),p=r.targetId;n=new VE(p,f)}}return n}function DR(s,t){let n;if(t instanceof tu)n={update:h0(s,t.key,t.value)};else if(t instanceof OE)n={delete:Cm(s,t.key)};else if(t instanceof cr)n={update:h0(s,t.key,t.data),updateMask:zR(t.fieldMask)};else{if(!(t instanceof gR))return vt(16599,{dt:t.type});n={verify:Cm(s,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(u,f){const p=f.transform;if(p instanceof Xl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof fo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof $l)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof hh)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw vt(20930,{transform:f.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:RR(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:vt(27497)})(s,t.precondition)),n}function OR(s,t){return s&&s.length>0?(Qt(t!==void 0,14353),s.map((n=>(function(o,u){let f=o.updateTime?Ni(o.updateTime):Ni(u);return f.isEqual(At.min())&&(f=Ni(u)),new dR(f,o.transformResults||[])})(n,t)))):[]}function MR(s,t){return{documents:[PE(s,t.path)]}}function VR(s,t){const n={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=PE(s,o);const u=(function(y){if(y.length!==0)return BE(ni.create(y,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(R){return{field:Ja(R.field),direction:UR(R.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const p=Im(s,t.limit);return p!==null&&(n.structuredQuery.limit=p),t.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:n,parent:o}}function kR(s){let t=CR(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Qt(r===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(w){const R=zE(w);return R instanceof ni&&mE(R)?R.getFilters():[R]})(n.where));let f=[];n.orderBy&&(f=(function(w){return w.map((R=>(function(W){return new Kl(Za(W.field),(function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(R)))})(n.orderBy));let p=null;n.limit&&(p=(function(w){let R;return R=typeof w=="object"?w.value:w,Ch(R)?null:R})(n.limit));let _=null;n.startAt&&(_=(function(w){const R=!!w.before,F=w.values||[];return new uh(F,R)})(n.startAt));let y=null;return n.endAt&&(y=(function(w){const R=!w.before,F=w.values||[];return new uh(F,R)})(n.endAt)),ZI(t,o,f,u,p,"F",_,y)}function LR(s,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function zE(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Za(n.unaryFilter.field);return Re.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Za(n.unaryFilter.field);return Re.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Za(n.unaryFilter.field);return Re.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Za(n.unaryFilter.field);return Re.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Re.create(Za(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return ni.create(n.compositeFilter.filters.map((r=>zE(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(n.compositeFilter.op))})(s):vt(30097,{filter:s})}function UR(s){return wR[s]}function PR(s){return SR[s]}function jR(s){return xR[s]}function Ja(s){return{fieldPath:s.canonicalString()}}function Za(s){return Qe.fromServerFormat(s.fieldPath)}function BE(s){return s instanceof Re?(function(n){if(n.op==="=="){if(Zv(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NAN"}};if(Jv(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Zv(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NOT_NAN"}};if(Jv(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ja(n.field),op:PR(n.op),value:n.value}}})(s):s instanceof ni?(function(n){const r=n.getFilters().map((o=>BE(o)));return r.length===1?r[0]:{compositeFilter:{op:jR(n.op),filters:r}}})(s):vt(54877,{filter:s})}function zR(s){const t=[];return s.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function qE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function HE(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class $s{constructor(t,n,r,o,u=At.min(),f=At.min(),p=Ye.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new $s(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class BR{constructor(t){this.yt=t}}function qR(s){const t=kR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?ch(t,t.limit,"L"):t}class HR{constructor(){this.Sn=new FR}addToCollectionParentIndex(t,n){return this.Sn.add(n),$.resolve()}getCollectionParents(t,n){return $.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return $.resolve()}deleteFieldIndex(t,n){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,n){return $.resolve()}getDocumentsMatchingTarget(t,n){return $.resolve(null)}getIndexType(t,n){return $.resolve(0)}getFieldIndexes(t,n){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,n){return $.resolve(nr.min())}getMinOffsetFromCollectionGroup(t,n){return $.resolve(nr.min())}updateCollectionGroup(t,n,r){return $.resolve()}updateIndexEntries(t,n){return $.resolve()}}class FR{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new Ve(ne.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Ve(ne.comparator)).toArray()}}const f0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},FE=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(FE,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class mo{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new mo(0)}static ar(){return new mo(-1)}}const d0="LruGarbageCollector",GR=1048576;function m0([s,t],[n,r]){const o=Ut(s,n);return o===0?Ut(t,r):o}class QR{constructor(t){this.Pr=t,this.buffer=new Ve(m0),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();m0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class YR{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ot(d0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){bo(n)?ot(d0,"Ignoring IndexedDB error during garbage collection: ",n):await Eo(n)}await this.Ar(3e5)}))}}class KR{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return $.resolve(Rh.ce);const r=new QR(n);return this.Vr.forEachTarget(t,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(t,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.Vr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(f0)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),f0):this.gr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let r,o,u,f,p,_,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(t,o)))).next((w=>(r=w,p=Date.now(),this.removeTargets(t,r,n)))).next((w=>(u=w,_=Date.now(),this.removeOrphanedDocuments(t,r)))).next((w=>(y=Date.now(),Xa()<=Lt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(_-p)+`ms
	Removed ${w} documents in `+(y-_)+`ms
Total Duration: ${y-E}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w}))))}}function XR(s,t){return new KR(s,t)}class $R{constructor(){this.changes=new ea((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class JR{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class ZR{constructor(t,n,r,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(r!==null&&Bl(r.mutation,o,bn.empty(),re.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,Pt()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=Pt()){const o=Gr();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,r).next((u=>{let f=Vl();return u.forEach(((p,_)=>{f=f.insert(p,_.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const r=Gr();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,Pt())))}populateOverlays(t,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,p)=>{n.set(f,p)}))}))}computeViews(t,n,r,o){let u=us();const f=zl(),p=(function(){return zl()})();return n.forEach(((_,y)=>{const E=r.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof cr)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Bl(E.mutation,y,E.mutation.getFieldMask(),re.now())):f.set(y.key,bn.empty())})),this.recalculateAndSaveOverlays(t,u).next((_=>(_.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>p.set(y,new JR(E,f.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,n){const r=zl();let o=new ue(((f,p)=>f-p)),u=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const p of f)p.keys().forEach((_=>{const y=n.get(_);if(y===null)return;let E=r.get(_)||bn.empty();E=p.applyToLocalView(y,E),r.set(_,E);const w=(o.get(p.batchId)||Pt()).add(_);o=o.insert(p.batchId,w)}))})).next((()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,E=_.value,w=AE();E.forEach((R=>{if(!u.has(R)){const F=NE(n.get(R),r.get(R));F!==null&&w.set(R,F),u=u.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(t,y,w))}return $.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,o){return WI(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):_E(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,o):this.getDocumentsMatchingCollectionQuery(t,n,r,o)}getNextDocuments(t,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,o-u.size):$.resolve(Gr());let p=Fl,_=u;return f.next((y=>$.forEach(y,((E,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),u.get(E)?$.resolve():this.remoteDocumentCache.getEntry(t,E).next((R=>{_=_.insert(E,R)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,_,y,Pt()))).next((E=>({batchId:p,changes:bE(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new pt(n)).next((r=>{let o=Vl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,o){const u=n.collectionGroup;let f=Vl();return this.indexManager.getCollectionParents(t,u).next((p=>$.forEach(p,(_=>{const y=(function(w,R){return new Ao(R,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,_.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,r,o).next((E=>{E.forEach(((w,R)=>{f=f.insert(w,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,u,o)))).next((f=>{u.forEach(((_,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Je.newInvalidDocument(E)))}));let p=Vl();return f.forEach(((_,y)=>{const E=u.get(_);E!==void 0&&Bl(E.mutation,y,bn.empty(),re.now()),Oh(n,y)&&(p=p.insert(_,y))})),p}))}}class WR{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return $.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ni(o.createTime)}})(n)),$.resolve()}getNamedQuery(t,n){return $.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:qR(o.bundledQuery),readTime:Ni(o.readTime)}})(n)),$.resolve()}}class t2{constructor(){this.overlays=new ue(pt.comparator),this.Lr=new Map}getOverlay(t,n){return $.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Gr();return $.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((o,u)=>{this.bt(t,n,u)})),$.resolve()}removeOverlaysForBatchId(t,n,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(r)),$.resolve()}getOverlaysForCollection(t,n,r){const o=Gr(),u=n.length+1,f=new pt(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&_.largestBatchId>r&&o.set(_.getKey(),_)}return $.resolve(o)}getOverlaysForCollectionGroup(t,n,r,o){let u=new ue(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let E=u.get(y.largestBatchId);E===null&&(E=Gr(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const p=Gr(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,E)=>p.set(y,E))),!(p.size()>=o)););return $.resolve(p)}bt(t,n,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new _R(n,r));let u=this.Lr.get(n);u===void 0&&(u=Pt(),this.Lr.set(n,u)),this.Lr.set(n,u.add(r.key))}}class e2{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,$.resolve()}}class op{constructor(){this.kr=new Ve(Pe.Kr),this.qr=new Ve(Pe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const r=new Pe(t,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Wr(new Pe(t,n))}Qr(t,n){t.forEach((r=>this.removeReference(r,n)))}Gr(t){const n=new pt(new ne([])),r=new Pe(n,t),o=new Pe(n,t+1),u=[];return this.qr.forEachInRange([r,o],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new pt(new ne([])),r=new Pe(n,t),o=new Pe(n,t+1);let u=Pt();return this.qr.forEachInRange([r,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new Pe(t,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Pe{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return pt.comparator(t.key,n.key)||Ut(t.Hr,n.Hr)}static Ur(t,n){return Ut(t.Hr,n.Hr)||pt.comparator(t.key,n.key)}}class n2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ve(Pe.Kr)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new yR(u,n,r,o);this.mutationQueue.push(f);for(const p of o)this.Jr=this.Jr.add(new Pe(p.key,u)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return $.resolve(f)}lookupMutationBatch(t,n){return $.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,o=this.Xr(r),u=o<0?0:o;return $.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Jm:this.Yn-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Pe(n,0),o=new Pe(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([r,o],(f=>{const p=this.Zr(f.Hr);u.push(p)})),$.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Ve(Ut);return n.forEach((o=>{const u=new Pe(o,0),f=new Pe(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(p=>{r=r.add(p.Hr)}))})),$.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,o=r.length+1;let u=r;pt.isDocumentKey(u)||(u=u.child(""));const f=new Pe(new pt(u),0);let p=new Ve(Ut);return this.Jr.forEachWhile((_=>{const y=_.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(p=p.add(_.Hr)),!0)}),f),$.resolve(this.Yr(p))}Yr(t){const n=[];return t.forEach((r=>{const o=this.Zr(r);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Qt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return $.forEach(n.mutations,(o=>{const u=new Pe(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Jr=r}))}nr(t){}containsKey(t,n){const r=new Pe(n,0),o=this.Jr.firstAfterOrEqual(r);return $.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class i2{constructor(t){this.ti=t,this.docs=(function(){return new ue(pt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():Je.newInvalidDocument(n))}getEntries(t,n){let r=us();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Je.newInvalidDocument(o))})),$.resolve(r)}getDocumentsMatchingQuery(t,n,r,o){let u=us();const f=n.path,p=new pt(f.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:E}}=_.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||CI(RI(E),r)<=0||(o.has(E.key)||Oh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return $.resolve(u)}getAllFromCollectionGroup(t,n,r,o){vt(9500)}ni(t,n){return $.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new s2(this)}getSize(t){return $.resolve(this.size)}}class s2 extends $R{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(t,o)):this.Mr.removeEntry(r)})),$.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}class r2{constructor(t){this.persistence=t,this.ri=new ea((n=>tp(n)),ep),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.ii=0,this.si=new op,this.targetCount=0,this.oi=mo._r()}forEachTarget(t,n){return this.ri.forEach(((r,o)=>n(o))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),$.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new mo(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,$.resolve()}updateTargetData(t,n){return this.lr(n),$.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,n,r){let o=0;const u=[];return this.ri.forEach(((f,p)=>{p.sequenceNumber<=n&&r.get(p.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)})),$.waitFor(u).next((()=>o))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,n){const r=this.ri.get(n)||null;return $.resolve(r)}addMatchingKeys(t,n,r){return this.si.$r(n,r),$.resolve()}removeMatchingKeys(t,n,r){this.si.Qr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),$.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),$.resolve()}getMatchingKeysForTargetId(t,n){const r=this.si.jr(n);return $.resolve(r)}containsKey(t,n){return $.resolve(this.si.containsKey(n))}}class GE{constructor(t,n){this._i={},this.overlays={},this.ai=new Rh(0),this.ui=!1,this.ui=!0,this.ci=new e2,this.referenceDelegate=t(this),this.li=new r2(this),this.indexManager=new HR,this.remoteDocumentCache=(function(o){return new i2(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new BR(n),this.Pi=new WR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new t2,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this._i[t.toKey()];return r||(r=new n2(n,this.referenceDelegate),this._i[t.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,r){ot("MemoryPersistence","Starting transaction:",t);const o=new a2(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(t,n){return $.or(Object.values(this._i).map((r=>()=>r.containsKey(t,n))))}}class a2 extends DI{constructor(t){super(),this.currentSequenceNumber=t}}class lp{constructor(t){this.persistence=t,this.Ri=new op,this.Ai=null}static Vi(t){return new lp(t)}get di(){if(this.Ai)return this.Ai;throw vt(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),$.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),$.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),$.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>r.removeTargetData(t,n)))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,(r=>{const o=pt.fromPath(r);return this.mi(t,o).next((u=>{u||n.removeEntry(o,At.min())}))})).next((()=>(this.Ai=null,n.apply(t))))}updateLimboDocument(t,n){return this.mi(t,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(t){return 0}mi(t,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class dh{constructor(t,n){this.persistence=t,this.fi=new ea((r=>VI(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=XR(this,n)}static Vi(t,n){return new dh(t,n)}Ti(){}Ii(t){return $.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((o=>r+o))))}pr(t){let n=0;return this.mr(t,(r=>{n++})).next((()=>n))}mr(t,n){return $.forEach(this.fi,((r,o)=>this.wr(t,r,o).next((u=>u?$.resolve():n(o)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(t,(f=>this.wr(t,f,n).next((p=>{p||(r++,u.removeEntry(f,At.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),$.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.fi.set(r,t.currentSequenceNumber),$.resolve()}removeReference(t,n,r){return this.fi.set(r,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),$.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Yc(t.data.value)),n}wr(t,n,r){return $.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.fi.get(n);return $.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class up{constructor(t,n,r,o){this.targetId=t,this.fromCache=n,this.Ts=r,this.Is=o}static Es(t,n){let r=Pt(),o=Pt();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new up(t,n.fromCache,r,o)}}class o2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class l2{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return xS()?8:OI(Ze())>0?6:4})()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,o){const u={result:null};return this.gs(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(t,n,o,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new o2;return this.ys(t,n,f).next((p=>{if(u.result=p,this.As)return this.ws(t,n,f,p.size)}))})).next((()=>u.result))}ws(t,n,r,o){return r.documentReadCount<this.Vs?(Xa()<=Lt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",$a(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(Xa()<=Lt.DEBUG&&ot("QueryEngine","Query:",$a(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(Xa()<=Lt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",$a(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ri(n))):$.resolve())}gs(t,n){if(n0(n))return $.resolve(null);let r=Ri(n);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=ch(n,null,"F"),r=Ri(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const f=Pt(...u);return this.fs.getDocuments(t,f).next((p=>this.indexManager.getMinOffset(t,r).next((_=>{const y=this.bs(n,p);return this.Ss(n,y,f,_.readTime)?this.gs(t,ch(n,null,"F")):this.Ds(t,y,n,_)}))))})))))}ps(t,n,r,o){return n0(n)||o.isEqual(At.min())?$.resolve(null):this.fs.getDocuments(t,r).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,r,o)?$.resolve(null):(Xa()<=Lt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),$a(n)),this.Ds(t,f,n,II(o,Fl)).next((p=>p)))}))}bs(t,n){let r=new Ve(TE(t));return n.forEach(((o,u)=>{Oh(t,u)&&(r=r.add(u))})),r}Ss(t,n,r,o){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(t,n,r){return Xa()<=Lt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",$a(n)),this.fs.getDocumentsMatchingQuery(t,n,nr.min(),r)}Ds(t,n,r,o){return this.fs.getDocumentsMatchingQuery(t,r,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const cp="LocalStore",u2=3e8;class c2{constructor(t,n,r,o){this.persistence=t,this.Cs=n,this.serializer=o,this.vs=new ue(Ut),this.Fs=new ea((u=>tp(u)),ep),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(r)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new ZR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.vs)))}}function h2(s,t,n,r){return new c2(s,t,n,r)}async function QE(s,t){const n=St(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Os(t),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],p=[];let _=Pt();for(const y of o){f.push(y.batchId);for(const E of y.mutations)_=_.add(E.key)}for(const y of u){p.push(y.batchId);for(const E of y.mutations)_=_.add(E.key)}return n.localDocuments.getDocuments(r,_).next((y=>({Ns:y,removedBatchIds:f,addedBatchIds:p})))}))}))}function f2(s,t){const n=St(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,E){const w=y.batch,R=w.keys();let F=$.resolve();return R.forEach((W=>{F=F.next((()=>E.getEntry(_,W))).next((et=>{const tt=y.docVersions.get(W);Qt(tt!==null,48541),et.version.compareTo(tt)<0&&(w.applyToRemoteDocument(et,y),et.isValidDocument()&&(et.setReadTime(y.commitVersion),E.addEntry(et)))}))})),F.next((()=>p.mutationQueue.removeMutationBatch(_,w)))})(n,r,t,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let _=Pt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(t)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function YE(s){const t=St(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.li.getLastRemoteSnapshotVersion(n)))}function d2(s,t){const n=St(s),r=t.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const p=[];t.targetChanges.forEach(((E,w)=>{const R=o.get(w);if(!R)return;p.push(n.li.removeMatchingKeys(u,E.removedDocuments,w).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,w))));let F=R.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(w)!==null?F=F.withResumeToken(Ye.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):E.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(E.resumeToken,r)),o=o.insert(w,F),(function(et,tt,ft){return et.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=u2?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0})(R,F,E)&&p.push(n.li.updateTargetData(u,F))}));let _=us(),y=Pt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),p.push(m2(u,f,t.documentUpdates).next((E=>{_=E.Bs,y=E.Ls}))),!r.isEqual(At.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((w=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,r)));p.push(E)}return $.waitFor(p).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,_,y))).next((()=>_))})).then((u=>(n.vs=o,u)))}function m2(s,t,n){let r=Pt(),o=Pt();return n.forEach((u=>r=r.add(u))),t.getEntries(s,r).next((u=>{let f=us();return n.forEach(((p,_)=>{const y=u.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),_.isNoDocument()&&_.version.isEqual(At.min())?(t.removeEntry(p,_.readTime),f=f.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),f=f.insert(p,_)):ot(cp,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{Bs:f,Ls:o}}))}function p2(s,t){const n=St(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Jm),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function g2(s,t){const n=St(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.li.getTargetData(r,t).next((u=>u?(o=u,$.resolve(o)):n.li.allocateTargetId(r).next((f=>(o=new $s(t,f,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(t,r.targetId)),r}))}async function Dm(s,t,n){const r=St(s),o=r.vs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!bo(f))throw f;ot(cp,`Failed to update sequence numbers for target ${t}: ${f}`)}r.vs=r.vs.remove(t),r.Fs.delete(o.target)}function p0(s,t,n){const r=St(s);let o=At.min(),u=Pt();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(_,y,E){const w=St(_),R=w.Fs.get(E);return R!==void 0?$.resolve(w.vs.get(R)):w.li.getTargetData(y,E)})(r,f,Ri(t)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(f,p.targetId).next((_=>{u=_}))})).next((()=>r.Cs.getDocumentsMatchingQuery(f,t,n?o:At.min(),n?u:Pt()))).next((p=>(y2(r,nR(t),p),{documents:p,ks:u})))))}function y2(s,t,n){let r=s.Ms.get(t)||At.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Ms.set(t,r)}class g0{constructor(){this.activeTargetIds=lR()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class _2{constructor(){this.vo=new g0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,r){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new g0,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class v2{Mo(t){}shutdown(){}}const y0="ConnectivityMonitor";class _0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ot(y0,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ot(y0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Fc=null;function Om(){return Fc===null?Fc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Fc++,"0x"+Fc.toString(16)}const lm="RestConnection",T2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class E2{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===oh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(t,n,r,o,u){const f=Om(),p=this.Qo(t,n.toUriEncodedString());ot(lm,`Sending RPC '${t}' ${f}:`,p,r);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,o,u);const{host:y}=new URL(p),E=_o(y);return this.zo(t,p,_,r,E).then((w=>(ot(lm,`Received RPC '${t}' ${f}: `,w),w)),(w=>{throw lo(lm,`RPC '${t}' ${f} failed with error: `,w,"url: ",p,"request:",r),w}))}jo(t,n,r,o,u,f){return this.Wo(t,n,r,o,u)}Go(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+To})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}Qo(t,n){const r=T2[t];let o=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class b2{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Xe="WebChannelConnection",Ol=(s,t,n)=>{s.listen(t,(r=>{try{n(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class no extends E2{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!no.c_){const t=$T();Ol(t,XT.STAT_EVENT,(n=>{n.stat===Tm.PROXY?ot(Xe,"STAT_EVENT: detected buffering proxy"):n.stat===Tm.NOPROXY&&ot(Xe,"STAT_EVENT: detected no buffering proxy")})),no.c_=!0}}zo(t,n,r,o,u){const f=Om();return new Promise(((p,_)=>{const y=new YT;y.setWithCredentials(!0),y.listenOnce(KT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Qc.NO_ERROR:const w=y.getResponseJson();ot(Xe,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(w)),p(w);break;case Qc.TIMEOUT:ot(Xe,`RPC '${t}' ${f} timed out`),_(new st(K.DEADLINE_EXCEEDED,"Request time out"));break;case Qc.HTTP_ERROR:const R=y.getStatus();if(ot(Xe,`RPC '${t}' ${f} failed with status:`,R,"response text:",y.getResponseText()),R>0){let F=y.getResponseJson();Array.isArray(F)&&(F=F[0]);const W=F?.error;if(W&&W.status&&W.message){const et=(function(ft){const bt=ft.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(bt)>=0?bt:K.UNKNOWN})(W.status);_(new st(et,W.message))}else _(new st(K.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new st(K.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:t,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ot(Xe,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(o);ot(Xe,`RPC '${t}' ${f} sending request:`,o),y.send(n,"POST",E,r,15)}))}T_(t,n,r){const o=Om(),u=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const y=u.join("");ot(Xe,`Creating RPC '${t}' stream ${o}: ${y}`,p);const E=f.createWebChannel(y,p);this.I_(E);let w=!1,R=!1;const F=new b2({Ho:W=>{R?ot(Xe,`Not sending because RPC '${t}' stream ${o} is closed:`,W):(w||(ot(Xe,`Opening RPC '${t}' stream ${o} transport.`),E.open(),w=!0),ot(Xe,`RPC '${t}' stream ${o} sending:`,W),E.send(W))},Jo:()=>E.close()});return Ol(E,Ml.EventType.OPEN,(()=>{R||(ot(Xe,`RPC '${t}' stream ${o} transport opened.`),F.i_())})),Ol(E,Ml.EventType.CLOSE,(()=>{R||(R=!0,ot(Xe,`RPC '${t}' stream ${o} transport closed`),F.o_(),this.E_(E))})),Ol(E,Ml.EventType.ERROR,(W=>{R||(R=!0,lo(Xe,`RPC '${t}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),F.o_(new st(K.UNAVAILABLE,"The operation could not be completed")))})),Ol(E,Ml.EventType.MESSAGE,(W=>{if(!R){const et=W.data[0];Qt(!!et,16349);const tt=et,ft=tt?.error||tt[0]?.error;if(ft){ot(Xe,`RPC '${t}' stream ${o} received error:`,ft);const bt=ft.status;let Tt=(function(Nt){const N=Ie[Nt];if(N!==void 0)return ME(N)})(bt),yt=ft.message;Tt===void 0&&(Tt=K.INTERNAL,yt="Unknown error status: "+bt+" with message "+ft.message),R=!0,F.o_(new st(Tt,yt)),E.close()}else ot(Xe,`RPC '${t}' stream ${o} received:`,et),F.__(et)}})),no.u_(),setTimeout((()=>{F.s_()}),0),F}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((n=>n===t))}Go(t,n,r){super.Go(t,n,r),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return JT()}}function A2(s){return new no(s)}function um(){return typeof document<"u"?document:null}function Lh(s){return new IR(s,!0)}no.c_=!1;class KE{constructor(t,n,r=1e3,o=1.5,u=6e4){this.Ci=t,this.timerId=n,this.R_=r,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const v0="PersistentStream";class XE{constructor(t,n,r,o,u,f,p,_){this.Ci=t,this.b_=r,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new KE(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(os(n.toString()),os("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{t((()=>{const o=new st(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,n){const r=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(v0,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget((()=>this.D_===t?n():(ot(v0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class w2 extends XE{constructor(t,n,r,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=NR(this.serializer,t),r=(function(u){if(!("targetChange"in u))return At.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?At.min():f.readTime?Ni(f.readTime):At.min()})(t);return this.listener.J_(n,r)}Z_(t){const n={};n.database=Nm(this.serializer),n.addTarget=(function(u,f){let p;const _=f.target;if(p=Sm(_)?{documents:MR(u,_)}:{query:VR(u,_).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=LE(u,f.resumeToken);const y=Im(u,f.expectedCount);y!==null&&(p.expectedCount=y)}else if(f.snapshotVersion.compareTo(At.min())>0){p.readTime=fh(u,f.snapshotVersion.toTimestamp());const y=Im(u,f.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const r=LR(this.serializer,t);r&&(n.labels=r),this.K_(n)}X_(t){const n={};n.database=Nm(this.serializer),n.removeTarget=t,this.K_(n)}}class S2 extends XE{constructor(t,n,r,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=OR(t.writeResults,t.commitTime),r=Ni(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=Nm(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>DR(this.serializer,r)))};this.K_(n)}}class x2{}class I2 extends x2{constructor(t,n,r,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new st(K.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(t,Rm(n,r),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new st(K.UNKNOWN,u.toString())}))}jo(t,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.jo(t,Rm(n,r),o,f,p,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new st(K.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function R2(s,t,n,r){return new I2(s,t,n,r)}class C2{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(os(n),this.aa=!1):ot("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Jr="RemoteStore";class N2{constructor(t,n,r,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{r.enqueueAndForget((async()=>{na(this)&&(ot(Jr,"Restarting streams for network reachability change."),await(async function(_){const y=St(_);y.Ea.add(4),await nu(y),y.Va.set("Unknown"),y.Ea.delete(4),await Uh(y)})(this))}))})),this.Va=new C2(r,o)}}async function Uh(s){if(na(s))for(const t of s.Ra)await t(!0)}async function nu(s){for(const t of s.Ra)await t(!1)}function $E(s,t){const n=St(s);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),mp(n)?dp(n):wo(n).O_()&&fp(n,t))}function hp(s,t){const n=St(s),r=wo(n);n.Ia.delete(t),r.O_()&&JE(n,t),n.Ia.size===0&&(r.O_()?r.L_():na(n)&&n.Va.set("Unknown"))}function fp(s,t){if(s.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}wo(s).Z_(t)}function JE(s,t){s.da.$e(t),wo(s).X_(t)}function dp(s){s.da=new AR({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),wo(s).start(),s.Va.ua()}function mp(s){return na(s)&&!wo(s).x_()&&s.Ia.size>0}function na(s){return St(s).Ea.size===0}function ZE(s){s.da=void 0}async function D2(s){s.Va.set("Online")}async function O2(s){s.Ia.forEach(((t,n)=>{fp(s,t)}))}async function M2(s,t){ZE(s),mp(s)?(s.Va.ha(t),dp(s)):s.Va.set("Unknown")}async function V2(s,t,n){if(s.Va.set("Online"),t instanceof kE&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ia.delete(p),o.da.removeTarget(p))})(s,t)}catch(r){ot(Jr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await mh(s,r)}else if(t instanceof $c?s.da.Xe(t):t instanceof VE?s.da.st(t):s.da.tt(t),!n.isEqual(At.min()))try{const r=await YE(s.localStore);n.compareTo(r)>=0&&await(function(u,f){const p=u.da.Tt(f);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(_.resumeToken,f))}})),p.targetMismatches.forEach(((_,y)=>{const E=u.Ia.get(_);if(!E)return;u.Ia.set(_,E.withResumeToken(Ye.EMPTY_BYTE_STRING,E.snapshotVersion)),JE(u,_);const w=new $s(E.target,_,y,E.sequenceNumber);fp(u,w)})),u.remoteSyncer.applyRemoteEvent(p)})(s,n)}catch(r){ot(Jr,"Failed to raise snapshot:",r),await mh(s,r)}}async function mh(s,t,n){if(!bo(t))throw t;s.Ea.add(1),await nu(s),s.Va.set("Offline"),n||(n=()=>YE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ot(Jr,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Uh(s)}))}function WE(s,t){return t().catch((n=>mh(s,n,t)))}async function Ph(s){const t=St(s),n=ar(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Jm;for(;k2(t);)try{const o=await p2(t.localStore,r);if(o===null){t.Ta.length===0&&n.L_();break}r=o.batchId,L2(t,o)}catch(o){await mh(t,o)}tb(t)&&eb(t)}function k2(s){return na(s)&&s.Ta.length<10}function L2(s,t){s.Ta.push(t);const n=ar(s);n.O_()&&n.Y_&&n.ea(t.mutations)}function tb(s){return na(s)&&!ar(s).x_()&&s.Ta.length>0}function eb(s){ar(s).start()}async function U2(s){ar(s).ra()}async function P2(s){const t=ar(s);for(const n of s.Ta)t.ea(n.mutations)}async function j2(s,t,n){const r=s.Ta.shift(),o=sp.from(r,t,n);await WE(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Ph(s)}async function z2(s,t){t&&ar(s).Y_&&await(async function(r,o){if((function(f){return TR(f)&&f!==K.ABORTED})(o.code)){const u=r.Ta.shift();ar(r).B_(),await WE(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Ph(r)}})(s,t),tb(s)&&eb(s)}async function T0(s,t){const n=St(s);n.asyncQueue.verifyOperationInProgress(),ot(Jr,"RemoteStore received new credentials");const r=na(n);n.Ea.add(3),await nu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Uh(n)}async function B2(s,t){const n=St(s);t?(n.Ea.delete(2),await Uh(n)):t||(n.Ea.add(2),await nu(n),n.Va.set("Unknown"))}function wo(s){return s.ma||(s.ma=(function(n,r,o){const u=St(n);return u.sa(),new w2(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Zo:D2.bind(null,s),Yo:O2.bind(null,s),t_:M2.bind(null,s),J_:V2.bind(null,s)}),s.Ra.push((async t=>{t?(s.ma.B_(),mp(s)?dp(s):s.Va.set("Unknown")):(await s.ma.stop(),ZE(s))}))),s.ma}function ar(s){return s.fa||(s.fa=(function(n,r,o){const u=St(n);return u.sa(),new S2(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:U2.bind(null,s),t_:z2.bind(null,s),ta:P2.bind(null,s),na:j2.bind(null,s)}),s.Ra.push((async t=>{t?(s.fa.B_(),await Ph(s)):(await s.fa.stop(),s.Ta.length>0&&(ot(Jr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class pp{constructor(t,n,r,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,o,u){const f=Date.now()+r,p=new pp(t,n,f,o,u);return p.start(r),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(K.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gp(s,t){if(os("AsyncQueue",`${t}: ${s}`),bo(s))return new st(K.UNAVAILABLE,`${t}: ${s}`);throw s}class io{static emptySet(t){return new io(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||pt.comparator(n.key,r.key):(n,r)=>pt.comparator(n.key,r.key),this.keyedMap=Vl(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof io)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new io;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}class E0{constructor(){this.ga=new ue(pt.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):vt(63341,{Vt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class po{constructor(t,n,r,o,u,f,p,_,y){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,n,r,o,u){const f=[];return n.forEach((p=>{f.push({type:0,doc:p})})),new po(t,n,io.emptySet(n),f,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Dh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class q2{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class H2{constructor(){this.queries=b0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=St(n),u=o.queries;o.queries=b0(),u.forEach(((f,p)=>{for(const _ of p.ba)_.onError(r)}))})(this,new st(K.ABORTED,"Firestore shutting down"))}}function b0(){return new ea((s=>vE(s)),Dh)}async function nb(s,t){const n=St(s);let r=3;const o=t.query;let u=n.queries.get(o);u?!u.Sa()&&t.Da()&&(r=2):(u=new q2,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const p=gp(f,`Initialization of query '${$a(t.query)}' failed`);return void t.onError(p)}n.queries.set(o,u),u.ba.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&yp(n)}async function ib(s,t){const n=St(s),r=t.query;let o=3;const u=n.queries.get(r);if(u){const f=u.ba.indexOf(t);f>=0&&(u.ba.splice(f,1),u.ba.length===0?o=t.Da()?0:1:!u.Sa()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function F2(s,t){const n=St(s);let r=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const p of f.ba)p.Fa(o)&&(r=!0);f.wa=o}}r&&yp(n)}function G2(s,t,n){const r=St(s),o=r.queries.get(t);if(o)for(const u of o.ba)u.onError(n);r.queries.delete(t)}function yp(s){s.Ca.forEach((t=>{t.next()}))}var Mm,A0;(A0=Mm||(Mm={})).Ma="default",A0.Cache="cache";class sb{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new po(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=po.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Mm.Cache}}class rb{constructor(t){this.key=t}}class ab{constructor(t){this.key=t}}class Q2{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Pt(),this.mutatedKeys=Pt(),this.eu=TE(t),this.tu=new io(this.eu)}get nu(){return this.Za}ru(t,n){const r=n?n.iu:new E0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,p=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,w)=>{const R=o.get(E),F=Oh(this.query,w)?w:null,W=!!R&&this.mutatedKeys.has(R.key),et=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let tt=!1;R&&F?R.data.isEqual(F.data)?W!==et&&(r.track({type:3,doc:F}),tt=!0):this.su(R,F)||(r.track({type:2,doc:F}),tt=!0,(_&&this.eu(F,_)>0||y&&this.eu(F,y)<0)&&(p=!0)):!R&&F?(r.track({type:0,doc:F}),tt=!0):R&&!F&&(r.track({type:1,doc:R}),tt=!0,(_||y)&&(p=!0)),tt&&(F?(f=f.add(F),u=et?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),r.track({type:1,doc:E})}return{tu:f,iu:r,Ss:p,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((E,w)=>(function(F,W){const et=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Vt:tt})}};return et(F)-et(W)})(E.type,w.type)||this.eu(E.doc,w.doc))),this.ou(r),o=o??!1;const p=n&&!o?this._u():[],_=this.Ya.size===0&&this.current&&!o?1:0,y=_!==this.Xa;return this.Xa=_,f.length!==0||y?{snapshot:new po(this.query,t.tu,u,f,t.mutatedKeys,_===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new E0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Pt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return t.forEach((r=>{this.Ya.has(r)||n.push(new ab(r))})),this.Ya.forEach((r=>{t.has(r)||n.push(new rb(r))})),n}cu(t){this.Za=t.ks,this.Ya=Pt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return po.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const _p="SyncEngine";class Y2{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class K2{constructor(t){this.key=t,this.hu=!1}}class X2{constructor(t,n,r,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ea((p=>vE(p)),Dh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ue(pt.comparator),this.Au=new Map,this.Vu=new op,this.du={},this.mu=new Map,this.fu=mo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function $2(s,t,n=!0){const r=fb(s);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await ob(r,t,n,!0),o}async function J2(s,t){const n=fb(s);await ob(n,t,!0,!1)}async function ob(s,t,n,r){const o=await g2(s.localStore,Ri(t)),u=o.targetId,f=s.sharedClientState.addLocalQueryTarget(u,n);let p;return r&&(p=await Z2(s,t,u,f==="current",o.resumeToken)),s.isPrimaryClient&&n&&$E(s.remoteStore,o),p}async function Z2(s,t,n,r,o){s.pu=(w,R,F)=>(async function(et,tt,ft,bt){let Tt=tt.view.ru(ft);Tt.Ss&&(Tt=await p0(et.localStore,tt.query,!1).then((({documents:N})=>tt.view.ru(N,Tt))));const yt=bt&&bt.targetChanges.get(tt.targetId),Yt=bt&&bt.targetMismatches.get(tt.targetId)!=null,Nt=tt.view.applyChanges(Tt,et.isPrimaryClient,yt,Yt);return S0(et,tt.targetId,Nt.au),Nt.snapshot})(s,w,R,F);const u=await p0(s.localStore,t,!0),f=new Q2(t,u.ks),p=f.ru(u.documents),_=eu.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),y=f.applyChanges(p,s.isPrimaryClient,_);S0(s,n,y.au);const E=new Y2(t,n,f);return s.Tu.set(t,E),s.Iu.has(n)?s.Iu.get(n).push(t):s.Iu.set(n,[t]),y.snapshot}async function W2(s,t,n){const r=St(s),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((f=>!Dh(f,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Dm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&hp(r.remoteStore,o.targetId),Vm(r,o.targetId)})).catch(Eo)):(Vm(r,o.targetId),await Dm(r.localStore,o.targetId,!0))}async function tC(s,t){const n=St(s),r=n.Tu.get(t),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),hp(n.remoteStore,r.targetId))}async function eC(s,t,n){const r=lC(s);try{const o=await(function(f,p){const _=St(f),y=re.now(),E=p.reduce(((F,W)=>F.add(W.key)),Pt());let w,R;return _.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let W=us(),et=Pt();return _.xs.getEntries(F,E).next((tt=>{W=tt,W.forEach(((ft,bt)=>{bt.isValidDocument()||(et=et.add(ft))}))})).next((()=>_.localDocuments.getOverlayedDocuments(F,W))).next((tt=>{w=tt;const ft=[];for(const bt of p){const Tt=pR(bt,w.get(bt.key).overlayedDocument);Tt!=null&&ft.push(new cr(bt.key,Tt,hE(Tt.value.mapValue),Ci.exists(!0)))}return _.mutationQueue.addMutationBatch(F,y,ft,p)})).next((tt=>{R=tt;const ft=tt.applyToLocalDocumentSet(w,et);return _.documentOverlayCache.saveOverlays(F,tt.batchId,ft)}))})).then((()=>({batchId:R.batchId,changes:bE(w)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(f,p,_){let y=f.du[f.currentUser.toKey()];y||(y=new ue(Ut)),y=y.insert(p,_),f.du[f.currentUser.toKey()]=y})(r,o.batchId,n),await iu(r,o.changes),await Ph(r.remoteStore)}catch(o){const u=gp(o,"Failed to persist write");n.reject(u)}}async function lb(s,t){const n=St(s);try{const r=await d2(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Qt(f.hu,14607):o.removedDocuments.size>0&&(Qt(f.hu,42227),f.hu=!1))})),await iu(n,r,t)}catch(r){await Eo(r)}}function w0(s,t,n){const r=St(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,f)=>{const p=f.view.va(t);p.snapshot&&o.push(p.snapshot)})),(function(f,p){const _=St(f);_.onlineState=p;let y=!1;_.queries.forEach(((E,w)=>{for(const R of w.ba)R.va(p)&&(y=!0)})),y&&yp(_)})(r.eventManager,t),o.length&&r.Pu.J_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function nC(s,t,n){const r=St(s);r.sharedClientState.updateQueryState(t,"rejected",n);const o=r.Au.get(t),u=o&&o.key;if(u){let f=new ue(pt.comparator);f=f.insert(u,Je.newNoDocument(u,At.min()));const p=Pt().add(u),_=new kh(At.min(),new Map,new ue(Ut),f,p);await lb(r,_),r.Ru=r.Ru.remove(u),r.Au.delete(t),vp(r)}else await Dm(r.localStore,t,!1).then((()=>Vm(r,t,n))).catch(Eo)}async function iC(s,t){const n=St(s),r=t.batch.batchId;try{const o=await f2(n.localStore,t);cb(n,r,null),ub(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await iu(n,o)}catch(o){await Eo(o)}}async function sC(s,t,n){const r=St(s);try{const o=await(function(f,p){const _=St(f);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return _.mutationQueue.lookupMutationBatch(y,p).next((w=>(Qt(w!==null,37113),E=w.keys(),_.mutationQueue.removeMutationBatch(y,w)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,E,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>_.localDocuments.getDocuments(y,E)))}))})(r.localStore,t);cb(r,t,n),ub(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await iu(r,o)}catch(o){await Eo(o)}}function ub(s,t){(s.mu.get(t)||[]).forEach((n=>{n.resolve()})),s.mu.delete(t)}function cb(s,t,n){const r=St(s);let o=r.du[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),r.du[r.currentUser.toKey()]=o}}function Vm(s,t,n=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(t),s.isPrimaryClient&&s.Vu.Gr(t).forEach((r=>{s.Vu.containsKey(r)||hb(s,r)}))}function hb(s,t){s.Eu.delete(t.path.canonicalString());const n=s.Ru.get(t);n!==null&&(hp(s.remoteStore,n),s.Ru=s.Ru.remove(t),s.Au.delete(n),vp(s))}function S0(s,t,n){for(const r of n)r instanceof rb?(s.Vu.addReference(r.key,t),rC(s,r)):r instanceof ab?(ot(_p,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,t),s.Vu.containsKey(r.key)||hb(s,r.key)):vt(19791,{wu:r})}function rC(s,t){const n=t.key,r=n.path.canonicalString();s.Ru.get(n)||s.Eu.has(r)||(ot(_p,"New document in limbo: "+n),s.Eu.add(r),vp(s))}function vp(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const n=new pt(ne.fromString(t)),r=s.fu.next();s.Au.set(r,new K2(n)),s.Ru=s.Ru.insert(n,r),$E(s.remoteStore,new $s(Ri(np(n.path)),r,"TargetPurposeLimboResolution",Rh.ce))}}async function iu(s,t,n){const r=St(s),o=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,_)=>{f.push(r.pu(_,t,n).then((y=>{if((y||n)&&r.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,E?"current":"not-current")}if(y){o.push(y);const E=up.Es(_.targetId,y);u.push(E)}})))})),await Promise.all(f),r.Pu.J_(o),await(async function(_,y){const E=St(_);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>$.forEach(y,(R=>$.forEach(R.Ts,(F=>E.persistence.referenceDelegate.addReference(w,R.targetId,F))).next((()=>$.forEach(R.Is,(F=>E.persistence.referenceDelegate.removeReference(w,R.targetId,F)))))))))}catch(w){if(!bo(w))throw w;ot(cp,"Failed to update sequence numbers: "+w)}for(const w of y){const R=w.targetId;if(!w.fromCache){const F=E.vs.get(R),W=F.snapshotVersion,et=F.withLastLimboFreeSnapshotVersion(W);E.vs=E.vs.insert(R,et)}}})(r.localStore,u))}async function aC(s,t){const n=St(s);if(!n.currentUser.isEqual(t)){ot(_p,"User change. New user:",t.toKey());const r=await QE(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((p=>{p.forEach((_=>{_.reject(new st(K.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await iu(n,r.Ns)}}function oC(s,t){const n=St(s),r=n.Au.get(t);if(r&&r.hu)return Pt().add(r.key);{let o=Pt();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const p=n.Tu.get(f);o=o.unionWith(p.view.nu)}return o}}function fb(s){const t=St(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=lb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=oC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=nC.bind(null,t),t.Pu.J_=F2.bind(null,t.eventManager),t.Pu.yu=G2.bind(null,t.eventManager),t}function lC(s){const t=St(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=iC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=sC.bind(null,t),t}class ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Lh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return h2(this.persistence,new l2,t.initialUser,this.serializer)}Cu(t){return new GE(lp.Vi,this.serializer)}Du(t){return new _2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ph.provider={build:()=>new ph};class uC extends ph{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Qt(this.persistence.referenceDelegate instanceof dh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new YR(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new GE((r=>dh.Vi(r,n)),this.serializer)}}class km{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>w0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=aC.bind(null,this.syncEngine),await B2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new H2})()}createDatastore(t){const n=Lh(t.databaseInfo.databaseId),r=A2(t.databaseInfo);return R2(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,o,u,f,p){return new N2(r,o,u,f,p)})(this.localStore,this.datastore,t.asyncQueue,(n=>w0(this.syncEngine,n,0)),(function(){return _0.v()?new _0:new v2})())}createSyncEngine(t,n){return(function(o,u,f,p,_,y,E){const w=new X2(o,u,f,p,_,y);return E&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=St(n);ot(Jr,"RemoteStore shutting down."),r.Ea.add(5),await nu(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}km.provider={build:()=>new km};class db{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):os("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const or="FirestoreClient";class cC{constructor(t,n,r,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=o,this.user=$e.UNAUTHENTICATED,this.clientId=$m.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{ot(or,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(ot(or,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=gp(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function cm(s,t){s.asyncQueue.verifyOperationInProgress(),ot(or,"Initializing OfflineComponentProvider");const n=s.configuration;await t.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await QE(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function x0(s,t){s.asyncQueue.verifyOperationInProgress();const n=await hC(s);ot(or,"Initializing OnlineComponentProvider"),await t.initialize(n,s.configuration),s.setCredentialChangeListener((r=>T0(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>T0(t.remoteStore,o))),s._onlineComponents=t}async function hC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ot(or,"Using user provided OfflineComponentProvider");try{await cm(s,s._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;lo("Error using user provided cache. Falling back to memory cache: "+n),await cm(s,new ph)}}else ot(or,"Using default OfflineComponentProvider"),await cm(s,new uC(void 0));return s._offlineComponents}async function mb(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ot(or,"Using user provided OnlineComponentProvider"),await x0(s,s._uninitializedComponentsProvider._online)):(ot(or,"Using default OnlineComponentProvider"),await x0(s,new km))),s._onlineComponents}function fC(s){return mb(s).then((t=>t.syncEngine))}async function pb(s){const t=await mb(s),n=t.eventManager;return n.onListen=$2.bind(null,t.syncEngine),n.onUnlisten=W2.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=J2.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=tC.bind(null,t.syncEngine),n}function dC(s,t,n={}){const r=new ss;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,p,_,y){const E=new db({next:R=>{E.Nu(),f.enqueueAndForget((()=>ib(u,w)));const F=R.docs.has(p);!F&&R.fromCache?y.reject(new st(K.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&R.fromCache&&_&&_.source==="server"?y.reject(new st(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(R)},error:R=>y.reject(R)}),w=new sb(np(p.path),E,{includeMetadataChanges:!0,Ka:!0});return nb(u,w)})(await pb(s),s.asyncQueue,t,n,r))),r.promise}function mC(s,t,n={}){const r=new ss;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,p,_,y){const E=new db({next:R=>{E.Nu(),f.enqueueAndForget((()=>ib(u,w))),R.fromCache&&_.source==="server"?y.reject(new st(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(R)},error:R=>y.reject(R)}),w=new sb(p,E,{includeMetadataChanges:!0,Ka:!0});return nb(u,w)})(await pb(s),s.asyncQueue,t,n,r))),r.promise}function pC(s,t){const n=new ss;return s.asyncQueue.enqueueAndForget((async()=>eC(await fC(s),t,n))),n.promise}function gb(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const gC="ComponentProvider",I0=new Map;function yC(s,t,n,r,o){return new UI(s,t,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,gb(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const yb="firestore.googleapis.com",R0=!0;class C0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new st(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yb,this.ssl=R0}else this.host=t.host,this.ssl=t.ssl??R0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=FE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<GR)throw new st(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}xI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gb(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new st(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new st(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new st(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class jh{constructor(t,n,r,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new C0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new st(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new C0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new gI;switch(r.type){case"firstParty":return new TI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new st(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=I0.get(n);r&&(ot(gC,"Removing Datastore"),I0.delete(n),r.terminate())})(this),Promise.resolve()}}function _C(s,t,n,r={}){s=ls(s,jh);const o=_o(t),u=s._getSettings(),f={...u,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${n}`;o&&(mT(`https://${p}`),pT("Firestore",!0)),u.host!==yb&&u.host!==p&&lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...u,host:p,ssl:o,emulatorOptions:r};if(!rs(_,f)&&(s._setSettings(_),r.mockUserToken)){let y,E;if(typeof r.mockUserToken=="string")y=r.mockUserToken,E=$e.MOCK_USER;else{y=_S(r.mockUserToken,s._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new st(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new $e(w)}s._authCredentials=new yI(new WT(y,E))}}class hr{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new hr(this.firestore,t,this._query)}}class ye{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ye(this.firestore,t,this._key)}toJSON(){return{type:ye._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(Wl(n,ye._jsonSchema))return new ye(t,r||null,new pt(ne.fromString(n.referencePath)))}}ye._jsonSchemaVersion="firestore/documentReference/1.0",ye._jsonSchema={type:Ce("string",ye._jsonSchemaVersion),referencePath:Ce("string")};class tr extends hr{constructor(t,n,r){super(t,n,np(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ye(this.firestore,null,new pt(t))}withConverter(t){return new tr(this.firestore,t,this._path)}}function vC(s,t,...n){if(s=Ne(s),tE("collection","path",t),s instanceof jh){const r=ne.fromString(t,...n);return qv(r),new tr(s,null,r)}{if(!(s instanceof ye||s instanceof tr))throw new st(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ne.fromString(t,...n));return qv(r),new tr(s.firestore,null,r)}}function zh(s,t,...n){if(s=Ne(s),arguments.length===1&&(t=$m.newId()),tE("doc","path",t),s instanceof jh){const r=ne.fromString(t,...n);return Bv(r),new ye(s,null,new pt(r))}{if(!(s instanceof ye||s instanceof tr))throw new st(K.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ne.fromString(t,...n));return Bv(r),new ye(s.firestore,s instanceof tr?s.converter:null,new pt(r))}}const N0="AsyncQueue";class D0{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new KE(this,"async_queue_retry"),this._c=()=>{const r=um();r&&ot(N0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=um();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=um();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ss;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!bo(t))throw t;ot(N0,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,os("INTERNAL UNHANDLED ERROR: ",O0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=pp.createAndSchedule(this,t,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&vt(47125,{Pc:O0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function O0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class su extends jh{constructor(t,n,r,o){super(t,n,r,o),this.type="firestore",this._queue=new D0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new D0(t),this._firestoreClient=void 0,await t}}}function TC(s,t){const n=typeof s=="object"?s:qm(),r=typeof s=="string"?s:oh,o=ta(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=gS("firestore");u&&_C(o,...u)}return o}function Tp(s){if(s._terminated)throw new st(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||EC(s),s._firestoreClient}function EC(s){const t=s._freezeSettings(),n=yC(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new cC(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(s._componentsProvider))}class Un{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Un(Ye.fromBase64String(t))}catch(n){throw new st(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Un(Ye.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Wl(t,Un._jsonSchema))return Un.fromBase64String(t.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Ce("string",Un._jsonSchemaVersion),bytes:Ce("string")};class Ep{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new st(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class ru{constructor(t){this._methodName=t}}class Di{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new st(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new st(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Di._jsonSchemaVersion}}static fromJSON(t){if(Wl(t,Di._jsonSchema))return new Di(t.latitude,t.longitude)}}Di._jsonSchemaVersion="firestore/geoPoint/1.0",Di._jsonSchema={type:Ce("string",Di._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};class ti{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ti._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Wl(t,ti._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new ti(t.vectorValues);throw new st(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ti._jsonSchemaVersion="firestore/vectorValue/1.0",ti._jsonSchema={type:Ce("string",ti._jsonSchemaVersion),vectorValues:Ce("object")};const bC=/^__.*__$/;class AC{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new cr(t,this.data,this.fieldMask,n,this.fieldTransforms):new tu(t,this.data,n,this.fieldTransforms)}}class _b{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new cr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function vb(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{dataSource:s})}}class Bh{constructor(t,n,r,o,u,f){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Bh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const n=this.path?.child(t),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(t),r}childContextForFieldPath(t){const n=this.path?.child(t),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return gh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(vb(this.dataSource)&&bC.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class wC{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Lh(t)}createContext(t,n,r,o=!1){return new Bh({dataSource:t,methodName:n,targetDoc:r,path:Qe.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bp(s){const t=s._freezeSettings(),n=Lh(s._databaseId);return new wC(s._databaseId,!!t.ignoreUndefinedProperties,n)}function SC(s,t,n,r,o,u={}){const f=s.createContext(u.merge||u.mergeFields?2:0,t,n,o);Sp("Data must be an object, but it was:",f,r);const p=Tb(r,f);let _,y;if(u.merge)_=new bn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const R=go(t,w,n);if(!f.contains(R))throw new st(K.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);Ab(E,R)||E.push(R)}_=new bn(E),y=f.fieldTransforms.filter((w=>_.covers(w.field)))}else _=null,y=f.fieldTransforms;return new AC(new fn(p),_,y)}class qh extends ru{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof qh}}function xC(s,t,n){return new Bh({dataSource:3,targetDoc:t.settings.targetDoc,methodName:s._methodName,arrayElement:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Ap extends ru{_toFieldTransform(t){return new CE(t.path,new Xl)}isEqual(t){return t instanceof Ap}}class wp extends ru{constructor(t,n){super(t),this.Ac=n}_toFieldTransform(t){const n=xC(this,t,!0),r=this.Ac.map((u=>So(u,n))),o=new fo(r);return new CE(t.path,o)}isEqual(t){return t instanceof wp&&rs(this.Ac,t.Ac)}}function IC(s,t,n,r){const o=s.createContext(1,t,n);Sp("Data must be an object, but it was:",o,r);const u=[],f=fn.empty();ur(r,((_,y)=>{const E=bb(t,_,n);y=Ne(y);const w=o.childContextForFieldPath(E);if(y instanceof qh)u.push(E);else{const R=So(y,w);R!=null&&(u.push(E),f.set(E,R))}}));const p=new bn(u);return new _b(f,p,o.fieldTransforms)}function RC(s,t,n,r,o,u){const f=s.createContext(1,t,n),p=[go(t,r,n)],_=[o];if(u.length%2!=0)throw new st(K.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)p.push(go(t,u[R])),_.push(u[R+1]);const y=[],E=fn.empty();for(let R=p.length-1;R>=0;--R)if(!Ab(y,p[R])){const F=p[R];let W=_[R];W=Ne(W);const et=f.childContextForFieldPath(F);if(W instanceof qh)y.push(F);else{const tt=So(W,et);tt!=null&&(y.push(F),E.set(F,tt))}}const w=new bn(y);return new _b(E,w,f.fieldTransforms)}function CC(s,t,n,r=!1){return So(n,s.createContext(r?4:3,t))}function So(s,t){if(Eb(s=Ne(s)))return Sp("Unsupported field value:",t,s),Tb(s,t);if(s instanceof ru)return(function(r,o){if(!vb(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(r,o){const u=[];let f=0;for(const p of r){let _=So(p,o.childContextForArray(f));_==null&&(_={nullValue:"NULL_VALUE"}),u.push(_),f++}return{arrayValue:{values:u}}})(s,t)}return(function(r,o){if((r=Ne(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return uR(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=re.fromDate(r);return{timestampValue:fh(o.serializer,u)}}if(r instanceof re){const u=new re(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:fh(o.serializer,u)}}if(r instanceof Di)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Un)return{bytesValue:LE(o.serializer,r._byteString)};if(r instanceof ye){const u=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ap(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ti)return(function(f,p){const _=f instanceof ti?f.toArray():f;return{mapValue:{fields:{[uE]:{stringValue:cE},[lh]:{arrayValue:{values:_.map((E=>{if(typeof E!="number")throw p.createError("VectorValues must only contain numeric values.");return ip(p.serializer,E)}))}}}}}})(r,o);if(HE(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Ih(r)}`)})(s,t)}function Tb(s,t){const n={};return iE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ur(s,((r,o)=>{const u=So(o,t.childContextForField(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function Eb(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof re||s instanceof Di||s instanceof Un||s instanceof ye||s instanceof ru||s instanceof ti||HE(s))}function Sp(s,t,n){if(!Eb(n)||!eE(n)){const r=Ih(n);throw r==="an object"?t.createError(s+" a custom object"):t.createError(s+" "+r)}}function go(s,t,n){if((t=Ne(t))instanceof Ep)return t._internalPath;if(typeof t=="string")return bb(s,t);throw gh("Field path arguments must be of type string or ",s,!1,void 0,n)}const NC=new RegExp("[~\\*/\\[\\]]");function bb(s,t,n){if(t.search(NC)>=0)throw gh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Ep(...t.split("."))._internalPath}catch{throw gh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function gh(s,t,n,r,o){const u=r&&!r.isEmpty(),f=o!==void 0;let p=`Function ${t}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(u||f)&&(_+=" (found",u&&(_+=` in field ${r}`),f&&(_+=` in document ${o}`),_+=")"),new st(K.INVALID_ARGUMENT,p+s+_)}function Ab(s,t){return s.some((n=>n.isEqual(t)))}class DC{convertValue(t,n="none"){switch(rr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(sr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return ur(t,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(t){const n=t.fields?.[lh].arrayValue?.values?.map((r=>ge(r.doubleValue)));return new ti(n)}convertGeoPoint(t){return new Di(ge(t.latitude),ge(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Nh(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Gl(t));default:return null}}convertTimestamp(t){const n=ir(t);return new re(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=ne.fromString(t);Qt(qE(r),9688,{name:t});const o=new Ql(r.get(1),r.get(3)),u=new pt(r.popFirst(5));return o.isEqual(n)||os(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class wb extends DC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Un(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new ye(this.firestore,null,n)}}function OC(){return new Ap("serverTimestamp")}function MC(...s){return new wp("arrayUnion",s)}const M0="@firebase/firestore",V0="4.10.0";class Sb{constructor(t,n,r,o,u){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ye(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new VC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const n=this._document.data.field(go("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class VC extends Sb{data(){return super.data()}}function kC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new st(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xp{}class Ip extends xp{}function LC(s,t,...n){let r=[];t instanceof xp&&r.push(t),r=r.concat(n),(function(u){const f=u.filter((_=>_ instanceof Cp)).length,p=u.filter((_=>_ instanceof Rp)).length;if(f>1||f>0&&p>0)throw new st(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class Rp extends Ip{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new Rp(t,n,r)}_apply(t){const n=this._parse(t);return xb(t._query,n),new hr(t.firestore,t.converter,xm(t._query,n))}_parse(t){const n=bp(t.firestore);return(function(u,f,p,_,y,E,w){let R;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new st(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){L0(w,E);const W=[];for(const et of w)W.push(k0(_,u,et));R={arrayValue:{values:W}}}else R=k0(_,u,w)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||L0(w,E),R=CC(p,f,w,E==="in"||E==="not-in");return Re.create(y,E,R)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class Cp extends xp{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Cp(t,n)}_parse(t){const n=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ni.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let f=o;const p=u.getFlattenedFilters();for(const _ of p)xb(f,_),f=xm(f,_)})(t._query,n),new hr(t.firestore,t.converter,xm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Np extends Ip{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Np(t,n)}_apply(t){const n=(function(o,u,f){if(o.startAt!==null)throw new st(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new st(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Kl(u,f)})(t._query,this._field,this._direction);return new hr(t.firestore,t.converter,eR(t._query,n))}}function UC(s,t="asc"){const n=t,r=go("orderBy",s);return Np._create(r,n)}class Dp extends Ip{constructor(t,n,r){super(),this.type=t,this._limit=n,this._limitType=r}static _create(t,n,r){return new Dp(t,n,r)}_apply(t){return new hr(t.firestore,t.converter,ch(t._query,this._limit,this._limitType))}}function PC(s){return Dp._create("limit",s,"F")}function k0(s,t,n){if(typeof(n=Ne(n))=="string"){if(n==="")throw new st(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_E(t)&&n.indexOf("/")!==-1)throw new st(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ne.fromString(n));if(!pt.isDocumentKey(r))throw new st(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $v(s,new pt(r))}if(n instanceof ye)return $v(s,n._key);throw new st(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ih(n)}.`)}function L0(s,t){if(!Array.isArray(s)||s.length===0)throw new st(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function xb(s,t){const n=(function(o,u){for(const f of o)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new st(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new st(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function jC(s,t,n){let r;return r=s?n&&(n.merge||n.mergeFields)?s.toFirestore(t,n):s.toFirestore(t):t,r}class Ll{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Qr extends Sb{constructor(t,n,r,o,u,f){super(t,n,r,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(go("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new st(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Qr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Qr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qr._jsonSchema={type:Ce("string",Qr._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class Jc extends Qr{data(t={}){return super.data(t)}}class so{constructor(t,n,r,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ll(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new Jc(this._firestore,this._userDataWriter,r.key,r,new Ll(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new st(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((p=>{const _=new Jc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ll(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const _=new Jc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ll(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return p.type!==0&&(y=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),E=f.indexOf(p.doc.key)),{type:zC(p.type),doc:_,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new st(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=so._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=$m.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function zC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:s})}}so._jsonSchemaVersion="firestore/querySnapshot/1.0",so._jsonSchema={type:Ce("string",so._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};function Op(s){s=ls(s,ye);const t=ls(s.firestore,su),n=Tp(t);return dC(n,s._key).then((r=>HC(t,s,r)))}function BC(s){s=ls(s,hr);const t=ls(s.firestore,su),n=Tp(t),r=new wb(t);return kC(s._query),mC(n,s._query).then((o=>new so(t,r,s,o)))}function Lm(s,t,n){s=ls(s,ye);const r=ls(s.firestore,su),o=jC(s.converter,t,n),u=bp(r);return Ib(r,[SC(u,"setDoc",s._key,o,s.converter!==null,n).toMutation(s._key,Ci.none())])}function qC(s,t,n,...r){s=ls(s,ye);const o=ls(s.firestore,su),u=bp(o);let f;return f=typeof(t=Ne(t))=="string"||t instanceof Ep?RC(u,"updateDoc",s._key,t,n,r):IC(u,"updateDoc",s._key,t),Ib(o,[f.toMutation(s._key,Ci.exists(!0))])}function Ib(s,t){const n=Tp(s);return pC(n,t)}function HC(s,t,n){const r=n.docs.get(t._key),o=new wb(s);return new Qr(s,o,t._key,r,new Ll(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){pI(vo),Vi(new ei("firestore",((r,{instanceIdentifier:o,options:u})=>{const f=r.getProvider("app").getImmediate(),p=new su(new _I(r.getProvider("auth-internal")),new EI(f,r.getProvider("app-check-internal")),PI(f,o),f);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Pn(M0,V0,t),Pn(M0,V0,"esm2020")})();function Rb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FC=Rb,Cb=new Wr("auth","Firebase",Rb());const yh=new wh("@firebase/auth");function GC(s,...t){yh.logLevel<=Lt.WARN&&yh.warn(`Auth (${vo}): ${s}`,...t)}function Zc(s,...t){yh.logLevel<=Lt.ERROR&&yh.error(`Auth (${vo}): ${s}`,...t)}function cs(s,...t){throw Mp(s,...t)}function Oi(s,...t){return Mp(s,...t)}function Nb(s,t,n){const r={...FC(),[t]:n};return new Wr("auth","Firebase",r).create(t,{appName:s.name})}function er(s){return Nb(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mp(s,...t){if(typeof s!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return Cb.create(s,...t)}function Et(s,t,...n){if(!s)throw Mp(t,...n)}function ns(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Zc(t),new Error(t)}function hs(s,t){s||ns(t)}function Um(){return typeof self<"u"&&self.location?.href||""}function QC(){return U0()==="http:"||U0()==="https:"}function U0(){return typeof self<"u"&&self.location?.protocol||null}function YC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QC()||gT()||"connection"in navigator)?navigator.onLine:!0}function KC(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class au{constructor(t,n){this.shortDelay=t,this.longDelay=n,hs(n>t,"Short delay should be less than long delay!"),this.isMobile=ES()||wS()}get(){return YC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Vp(s,t){hs(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Db{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const XC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const $C=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],JC=new au(3e4,6e4);function Hh(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function ia(s,t,n,r,o={}){return Ob(s,o,async()=>{let u={},f={};r&&(t==="GET"?f=r:u={body:JSON.stringify(r)});const p=Zl({key:s.config.apiKey,...f}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:_,...u};return AS()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&_o(s.emulatorConfig.host)&&(y.credentials="include"),Db.fetch()(await Vb(s,s.config.apiHost,n,p),y)})}async function Ob(s,t,n){s._canInitEmulator=!1;const r={...XC,...t};try{const o=new ZC(s),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Gc(s,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gc(s,"credential-already-in-use",f);if(_==="EMAIL_EXISTS")throw Gc(s,"email-already-in-use",f);if(_==="USER_DISABLED")throw Gc(s,"user-disabled",f);const E=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Nb(s,E,y);cs(s,E)}}catch(o){if(o instanceof ii)throw o;cs(s,"network-request-failed",{message:String(o)})}}async function Mb(s,t,n,r,o={}){const u=await ia(s,t,n,r,o);return"mfaPendingCredential"in u&&cs(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function Vb(s,t,n,r){const o=`${t}${n}?${r}`,u=s,f=u.config.emulator?Vp(s.config,o):`${s.config.apiScheme}://${o}`;return $C.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class ZC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Oi(this.auth,"network-request-failed")),JC.get())})}}function Gc(s,t,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Oi(s,t,r);return o.customData._tokenResponse=n,o}async function WC(s,t){return ia(s,"POST","/v1/accounts:delete",t)}async function _h(s,t){return ia(s,"POST","/v1/accounts:lookup",t)}function ql(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function tN(s,t=!1){const n=Ne(s),r=await n.getIdToken(t),o=kp(r);Et(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:r,authTime:ql(hm(o.auth_time)),issuedAtTime:ql(hm(o.iat)),expirationTime:ql(hm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function hm(s){return Number(s)*1e3}function kp(s){const[t,n,r]=s.split(".");if(t===void 0||n===void 0||r===void 0)return Zc("JWT malformed, contained fewer than 3 sections"),null;try{const o=cT(n);return o?JSON.parse(o):(Zc("Failed to decode base64 JWT payload"),null)}catch(o){return Zc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function P0(s){const t=kp(s);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function yo(s,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof ii&&eN(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function eN({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class nN{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Pm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ql(this.lastLoginAt),this.creationTime=ql(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function vh(s){const t=s.auth,n=await s.getIdToken(),r=await yo(s,_h(t,{idToken:n}));Et(r?.users.length,t,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const u=o.providerUserInfo?.length?kb(o.providerUserInfo):[],f=sN(s.providerData,u),p=s.isAnonymous,_=!(s.email&&o.passwordHash)&&!f?.length,y=p?_:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Pm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(s,E)}async function iN(s){const t=Ne(s);await vh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function sN(s,t){return[...s.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function kb(s){return s.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function rN(s,t){const n=await Ob(s,{},async()=>{const r=Zl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,f=await Vb(s,o,"/v1/token",`key=${u}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:r};return s.emulatorConfig&&_o(s.emulatorConfig.host)&&(_.credentials="include"),Db.fetch()(f,_)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function aN(s,t){return ia(s,"POST","/v2/accounts:revokeToken",Hh(s,t))}class ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):P0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const n=P0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await rN(t,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,f=new ro;return r&&(Et(typeof r=="string","internal-error",{appName:t}),f.refreshToken=r),o&&(Et(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(Et(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ro,this.toJSON())}_performRefresh(){return ns("not implemented")}}function Gs(s,t){Et(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Wn{constructor({uid:t,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new nN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Pm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await yo(this,this.stsTokenManager.getToken(this.auth,t));return Et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return tN(this,t)}reload(){return iN(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Wn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await vh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(er(this.auth));const t=await this.getIdToken();return await yo(this,WC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,p=n.tenantId??void 0,_=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:w,emailVerified:R,isAnonymous:F,providerData:W,stsTokenManager:et}=n;Et(w&&et,t,"internal-error");const tt=ro.fromJSON(this.name,et);Et(typeof w=="string",t,"internal-error"),Gs(r,t.name),Gs(o,t.name),Et(typeof R=="boolean",t,"internal-error"),Et(typeof F=="boolean",t,"internal-error"),Gs(u,t.name),Gs(f,t.name),Gs(p,t.name),Gs(_,t.name),Gs(y,t.name),Gs(E,t.name);const ft=new Wn({uid:w,auth:t,email:o,emailVerified:R,displayName:r,isAnonymous:F,photoURL:f,phoneNumber:u,tenantId:p,stsTokenManager:tt,createdAt:y,lastLoginAt:E});return W&&Array.isArray(W)&&(ft.providerData=W.map(bt=>({...bt}))),_&&(ft._redirectEventId=_),ft}static async _fromIdTokenResponse(t,n,r=!1){const o=new ro;o.updateFromServerResponse(n);const u=new Wn({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await vh(u),u}static async _fromGetAccountInfoResponse(t,n,r){const o=n.users[0];Et(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?kb(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,p=new ro;p.updateFromIdToken(r);const _=new Wn({uid:o.localId,auth:t,stsTokenManager:p,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Pm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(_,y),_}}const j0=new Map;function is(s){hs(s instanceof Function,"Expected a class definition");let t=j0.get(s);return t?(hs(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,j0.set(s,t),t)}class Lb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Lb.type="NONE";const z0=Lb;function Wc(s,t,n){return`firebase:${s}:${t}:${n}`}class ao{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Wc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Wc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await _h(this.auth,{idToken:t}).catch(()=>{});return n?Wn._fromGetAccountInfoResponse(this.auth,n,t):null}return Wn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new ao(is(z0),t,r);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||is(z0);const f=Wc(r,t.config.apiKey,t.name);let p=null;for(const y of n)try{const E=await y._get(f);if(E){let w;if(typeof E=="string"){const R=await _h(t,{idToken:E}).catch(()=>{});if(!R)break;w=await Wn._fromGetAccountInfoResponse(t,R,E)}else w=Wn._fromJSON(t,E);y!==u&&(p=w),u=y;break}}catch{}const _=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!_.length?new ao(u,t,r):(u=_[0],p&&await u._set(f,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new ao(u,t,r))}}function B0(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(zb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ub(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(qb(t))return"Blackberry";if(Hb(t))return"Webos";if(Pb(t))return"Safari";if((t.includes("chrome/")||jb(t))&&!t.includes("edge/"))return"Chrome";if(Bb(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function Ub(s=Ze()){return/firefox\//i.test(s)}function Pb(s=Ze()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function jb(s=Ze()){return/crios\//i.test(s)}function zb(s=Ze()){return/iemobile/i.test(s)}function Bb(s=Ze()){return/android/i.test(s)}function qb(s=Ze()){return/blackberry/i.test(s)}function Hb(s=Ze()){return/webos/i.test(s)}function Lp(s=Ze()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function oN(s=Ze()){return Lp(s)&&!!window.navigator?.standalone}function lN(){return SS()&&document.documentMode===10}function Fb(s=Ze()){return Lp(s)||Bb(s)||Hb(s)||qb(s)||/windows phone/i.test(s)||zb(s)}function Gb(s,t=[]){let n;switch(s){case"Browser":n=B0(Ze());break;case"Worker":n=`${B0(Ze())}-${s}`;break;default:n=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${vo}/${r}`}class uN{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=u=>new Promise((f,p)=>{try{const _=t(u);f(_)}catch(_){p(_)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function cN(s,t={}){return ia(s,"GET","/v2/passwordPolicy",Hh(s,t))}const hN=6;class fN{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??hN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class dN{constructor(t,n,r,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new q0(this),this.idTokenSubscription=new q0(this),this.beforeStateQueue=new uN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Cb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=is(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ao.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await _h(this,{idToken:t}),r=await Wn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Zn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=r?._redirectEventId,p=await this.tryRedirectSignIn(t);(!u||u===f)&&p?.user&&(r=p.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await vh(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=KC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Zn(this.app))return Promise.reject(er(this));const n=t?Ne(t):null;return n&&Et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(er(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Zn(this.app)?Promise.reject(er(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(is(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await cN(this),n=new fN(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Wr("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await aN(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&is(t)||this._popupRedirectResolver;Et(n,this,"argument-error"),this.redirectPersistenceManager=await ao.create(this,[is(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const _=t.addObserver(n,r,o);return()=>{f=!0,_()}}else{const _=t.addObserver(n);return()=>{f=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Gb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&GC(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Fh(s){return Ne(s)}class q0{constructor(t){this.auth=t,this.observer=null,this.addObserver=OS(n=>this.observer=n)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Up={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mN(s){Up=s}function pN(s){return Up.loadJS(s)}function gN(){return Up.gapiScript}function yN(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function _N(s,t){const n=ta(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(rs(u,t??{}))return o;cs(o,"already-initialized")}return n.initialize({options:t})}function vN(s,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(is);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function TN(s,t,n){const r=Fh(s);Et(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=Qb(t),{host:f,port:p}=EN(t),_=p===null?"":`:${p}`,y={url:`${u}//${f}${_}/`},E=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Et(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Et(rs(y,r.config.emulator)&&rs(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,_o(f)?(mT(`${u}//${f}${_}`),pT("Auth",!0)):bN()}function Qb(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function EN(s){const t=Qb(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:H0(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:H0(f)}}}function H0(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function bN(){function s(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Yb{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ns("not implemented")}_getIdTokenResponse(t){return ns("not implemented")}_linkToIdToken(t,n){return ns("not implemented")}_getReauthenticationResolver(t){return ns("not implemented")}}async function oo(s,t){return Mb(s,"POST","/v1/accounts:signInWithIdp",Hh(s,t))}const AN="http://localhost";class Zr extends Yb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Zr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):cs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...u}=n;if(!r||!o)return null;const f=new Zr(r,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return oo(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,oo(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,oo(t,n)}buildRequest(){const t={requestUri:AN,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Zl(n)}return t}}class Kb{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class ou extends Kb{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Qs extends ou{constructor(){super("facebook.com")}static credential(t){return Zr._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Qs.credentialFromTaggedObject(t)}static credentialFromError(t){return Qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Qs.credential(t.oauthAccessToken)}catch{return null}}}Qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qs.PROVIDER_ID="facebook.com";class Ys extends ou{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Zr._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Ys.credentialFromTaggedObject(t)}static credentialFromError(t){return Ys.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Ys.credential(n,r)}catch{return null}}}Ys.GOOGLE_SIGN_IN_METHOD="google.com";Ys.PROVIDER_ID="google.com";class Ks extends ou{constructor(){super("github.com")}static credential(t){return Zr._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ks.credentialFromTaggedObject(t)}static credentialFromError(t){return Ks.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ks.credential(t.oauthAccessToken)}catch{return null}}}Ks.GITHUB_SIGN_IN_METHOD="github.com";Ks.PROVIDER_ID="github.com";class Xs extends ou{constructor(){super("twitter.com")}static credential(t,n){return Zr._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Xs.credentialFromTaggedObject(t)}static credentialFromError(t){return Xs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Xs.credential(n,r)}catch{return null}}}Xs.TWITTER_SIGN_IN_METHOD="twitter.com";Xs.PROVIDER_ID="twitter.com";async function wN(s,t){return Mb(s,"POST","/v1/accounts:signUp",Hh(s,t))}class lr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,o=!1){const u=await Wn._fromIdTokenResponse(t,r,o),f=F0(r);return new lr({user:u,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const o=F0(r);return new lr({user:t,providerId:o,_tokenResponse:r,operationType:n})}}function F0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function SN(s){if(Zn(s.app))return Promise.reject(er(s));const t=Fh(s);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new lr({user:t.currentUser,providerId:null,operationType:"signIn"});const n=await wN(t,{returnSecureToken:!0}),r=await lr._fromIdTokenResponse(t,"signIn",n,!0);return await t._updateCurrentUser(r.user),r}class Th extends ii{constructor(t,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Th.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,o){return new Th(t,n,r,o)}}function Xb(s,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Th._fromErrorAndOperation(s,u,t,r):u})}async function xN(s,t,n=!1){const r=await yo(s,t._linkToIdToken(s.auth,await s.getIdToken()),n);return lr._forOperation(s,"link",r)}async function IN(s,t,n=!1){const{auth:r}=s;if(Zn(r.app))return Promise.reject(er(r));const o="reauthenticate";try{const u=await yo(s,Xb(r,o,t,s),n);Et(u.idToken,r,"internal-error");const f=kp(u.idToken);Et(f,r,"internal-error");const{sub:p}=f;return Et(s.uid===p,r,"user-mismatch"),lr._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&cs(r,"user-mismatch"),u}}async function RN(s,t,n=!1){if(Zn(s.app))return Promise.reject(er(s));const r="signIn",o=await Xb(s,r,t),u=await lr._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(u.user),u}async function CN(s,t){return ia(s,"POST","/v1/accounts:update",t)}async function NN(s,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const r=Ne(s),u={idToken:await r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},f=await yo(r,CN(r.auth,u));r.displayName=f.displayName||null,r.photoURL=f.photoUrl||null;const p=r.providerData.find(({providerId:_})=>_==="password");p&&(p.displayName=r.displayName,p.photoURL=r.photoURL),await r._updateTokensIfNecessary(f)}function DN(s,t,n,r){return Ne(s).onIdTokenChanged(t,n,r)}function ON(s,t,n){return Ne(s).beforeAuthStateChanged(t,n)}function MN(s,t,n,r){return Ne(s).onAuthStateChanged(t,n,r)}const Eh="__sak";class $b{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Eh,"1"),this.storage.removeItem(Eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const VN=1e3,kN=10;class Jb extends $b{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Fb(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&t(n,o,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,p,_)=>{this.notifyListeners(f,_)});return}const r=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);lN()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,kN):o()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},VN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Jb.type="LOCAL";const LN=Jb;class Zb extends $b{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Zb.type="SESSION";const Wb=Zb;function UN(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Gh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const r=new Gh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const p=Array.from(f).map(async y=>y(n.origin,u)),_=await UN(p);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:_})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gh.receivers=[];function Pp(s="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return s+n}class PN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((p,_)=>{const y=Pp("",20);o.port1.start();const E=setTimeout(()=>{_(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(w){const R=w;if(R.data.eventId===y)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(R.data.response);break;default:clearTimeout(E),clearTimeout(u),_(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Mi(){return window}function jN(s){Mi().location.href=s}function tA(){return typeof Mi().WorkerGlobalScope<"u"&&typeof Mi().importScripts=="function"}async function zN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BN(){return navigator?.serviceWorker?.controller||null}function qN(){return tA()?self:null}const eA="firebaseLocalStorageDb",HN=1,bh="firebaseLocalStorage",nA="fbase_key";class lu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qh(s,t){return s.transaction([bh],t?"readwrite":"readonly").objectStore(bh)}function FN(){const s=indexedDB.deleteDatabase(eA);return new lu(s).toPromise()}function jm(){const s=indexedDB.open(eA,HN);return new Promise((t,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(bh,{keyPath:nA})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(bh)?t(r):(r.close(),await FN(),t(await jm()))})})}async function G0(s,t,n){const r=Qh(s,!0).put({[nA]:t,value:n});return new lu(r).toPromise()}async function GN(s,t){const n=Qh(s,!1).get(t),r=await new lu(n).toPromise();return r===void 0?null:r.value}function Q0(s,t){const n=Qh(s,!0).delete(t);return new lu(n).toPromise()}const QN=800,YN=3;class iA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>YN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gh._getInstance(qN()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await zN(),!this.activeServiceWorker)return;this.sender=new PN(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||BN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await jm();return await G0(t,Eh,"1"),await Q0(t,Eh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>G0(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>GN(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Q0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Qh(o,!1).getAll();return new lu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iA.type="LOCAL";const KN=iA;new au(3e4,6e4);function XN(s,t){return t?is(t):(Et(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class jp extends Yb{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return oo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return oo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return oo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function $N(s){return RN(s.auth,new jp(s),s.bypassAuthState)}function JN(s){const{auth:t,user:n}=s;return Et(n,t,"internal-error"),IN(n,new jp(s),s.bypassAuthState)}async function ZN(s){const{auth:t,user:n}=s;return Et(n,t,"internal-error"),xN(n,new jp(s),s.bypassAuthState)}class sA{constructor(t,n,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:f,type:p}=t;if(f){this.reject(f);return}const _={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return $N;case"linkViaPopup":case"linkViaRedirect":return ZN;case"reauthViaPopup":case"reauthViaRedirect":return JN;default:cs(this.auth,"internal-error")}}resolve(t){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const WN=new au(2e3,1e4);class to extends sA{constructor(t,n,r,o,u){super(t,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,to.currentPopupAction&&to.currentPopupAction.cancel(),to.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){hs(this.filter.length===1,"Popup operations only handle one event");const t=Pp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,to.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,WN.get())};t()}}to.currentPopupAction=null;const tD="pendingRedirect",th=new Map;class eD extends sA{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=th.get(this.auth._key());if(!t){try{const r=await nD(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}th.set(this.auth._key(),t)}return this.bypassAuthState||th.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nD(s,t){const n=rD(t),r=sD(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function iD(s,t){th.set(s._key(),t)}function sD(s){return is(s._redirectPersistence)}function rD(s){return Wc(tD,s.config.apiKey,s.name)}async function aD(s,t,n=!1){if(Zn(s.app))return Promise.reject(er(s));const r=Fh(s),o=XN(r,t),f=await new eD(r,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,t)),f}const oD=600*1e3;class lD{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!uD(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!rA(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Oi(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=oD&&this.cachedEventUids.clear(),this.cachedEventUids.has(Y0(t))}saveEventToCache(t){this.cachedEventUids.add(Y0(t)),this.lastProcessedEventTime=Date.now()}}function Y0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function rA({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function uD(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rA(s);default:return!1}}async function cD(s,t={}){return ia(s,"GET","/v1/projects",t)}const hD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fD=/^https?/;async function dD(s){if(s.config.emulator)return;const{authorizedDomains:t}=await cD(s);for(const n of t)try{if(mD(n))return}catch{}cs(s,"unauthorized-domain")}function mD(s){const t=Um(),{protocol:n,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!fD.test(n))return!1;if(hD.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const pD=new au(3e4,6e4);function K0(){const s=Mi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function gD(s){return new Promise((t,n)=>{function r(){K0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{K0(),n(Oi(s,"network-request-failed"))},timeout:pD.get()})}if(Mi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Mi().gapi?.load)r();else{const o=yN("iframefcb");return Mi()[o]=()=>{gapi.load?r():n(Oi(s,"network-request-failed"))},pN(`${gN()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw eh=null,t})}let eh=null;function yD(s){return eh=eh||gD(s),eh}const _D=new au(5e3,15e3),vD="__/auth/iframe",TD="emulator/auth/iframe",ED={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AD(s){const t=s.config;Et(t.authDomain,s,"auth-domain-config-required");const n=t.emulator?Vp(t,TD):`https://${s.config.authDomain}/${vD}`,r={apiKey:t.apiKey,appName:s.name,v:vo},o=bD.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${Zl(r).slice(1)}`}async function wD(s){const t=await yD(s),n=Mi().gapi;return Et(n,s,"internal-error"),t.open({where:document.body,url:AD(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ED,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const f=Oi(s,"network-request-failed"),p=Mi().setTimeout(()=>{u(f)},_D.get());function _(){Mi().clearTimeout(p),o(r)}r.ping(_).then(_,()=>{u(f)})}))}const SD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xD=500,ID=600,RD="_blank",CD="http://localhost";class X0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ND(s,t,n,r=xD,o=ID){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const _={...SD,width:r.toString(),height:o.toString(),top:u,left:f},y=Ze().toLowerCase();n&&(p=jb(y)?RD:n),Ub(y)&&(t=t||CD,_.scrollbars="yes");const E=Object.entries(_).reduce((R,[F,W])=>`${R}${F}=${W},`,"");if(oN(y)&&p!=="_self")return DD(t||"",p),new X0(null);const w=window.open(t||"",p,E);Et(w,s,"popup-blocked");try{w.focus()}catch{}return new X0(w)}function DD(s,t){const n=document.createElement("a");n.href=s,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const OD="__/auth/handler",MD="emulator/auth/handler",VD=encodeURIComponent("fac");async function $0(s,t,n,r,o,u){Et(s.config.authDomain,s,"auth-domain-config-required"),Et(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:vo,eventId:o};if(t instanceof Kb){t.setDefaultLanguage(s.languageCode),f.providerId=t.providerId||"",DS(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,w]of Object.entries({}))f[E]=w}if(t instanceof ou){const E=t.getScopes().filter(w=>w!=="");E.length>0&&(f.scopes=E.join(","))}s.tenantId&&(f.tid=s.tenantId);const p=f;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const _=await s._getAppCheckToken(),y=_?`#${VD}=${encodeURIComponent(_)}`:"";return`${kD(s)}?${Zl(p).slice(1)}${y}`}function kD({config:s}){return s.emulator?Vp(s,MD):`https://${s.authDomain}/${OD}`}const fm="webStorageSupport";class LD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Wb,this._completeRedirectFn=aD,this._overrideRedirectResult=iD}async _openPopup(t,n,r,o){hs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await $0(t,n,r,Um(),o);return ND(t,u,Pp())}async _openRedirect(t,n,r,o){await this._originValidation(t);const u=await $0(t,n,r,Um(),o);return jN(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(hs(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await wD(t),r=new lD(t);return n.register("authEvent",o=>(Et(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(fm,{type:fm},o=>{const u=o?.[0]?.[fm];u!==void 0&&n(!!u),cs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=dD(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Fb()||Pb()||Lp()}}const UD=LD;var J0="@firebase/auth",Z0="1.12.0";class PD{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function jD(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zD(s){Vi(new ei("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=r.options;Et(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:f,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gb(s)},y=new dN(r,o,u,_);return vN(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Vi(new ei("auth-internal",t=>{const n=Fh(t.getProvider("auth").getImmediate());return(r=>new PD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pn(J0,Z0,jD(s)),Pn(J0,Z0,"esm2020")}const BD=300,qD=dT("authIdTokenMaxAge")||BD;let W0=null;const HD=s=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>qD)return;const o=n?.token;W0!==o&&(W0=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function FD(s=qm()){const t=ta(s,"auth");if(t.isInitialized())return t.getImmediate();const n=_N(s,{popupRedirectResolver:UD,persistence:[KN,LN,Wb]}),r=dT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=HD(u.toString());ON(n,f,()=>f(n.currentUser)),DN(n,p=>f(p))}}const o=hT("auth");return o&&TN(n,`http://${o}`),n}function GD(){return document.getElementsByTagName("head")?.[0]??document}mN({loadJS(s){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=o=>{const u=Oi("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",GD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zD("Browser");const QD={apiKey:"AIzaSyAVpKz8TJcz9Q0CbSj2v_KQyeEs6SsuXsI",authDomain:"invitation-475eb.firebaseapp.com",projectId:"invitation-475eb",storageBucket:"invitation-475eb.firebasestorage.app",messagingSenderId:"1068873981449",appId:"1:1068873981449:web:82210f667d60117585e2d8",measurementId:"G-5YHV8DE43L"},zp=bT(QD);cI(zp);const uu=TC(zp),Yr=FD(zp),YD=s=>{window.dispatchEvent(new CustomEvent("show-toast",{detail:{message:s}}))},KD=()=>{const[s,t]=ht.useState(null);return ht.useEffect(()=>{const n=r=>{const o=r.detail.message,u=Date.now();t({message:o,id:u}),setTimeout(()=>{t(f=>f&&f.id===u?null:f)},3e3)};return window.addEventListener("show-toast",n),()=>window.removeEventListener("show-toast",n)},[]),s?b.jsxs("div",{style:tT.toast,children:[b.jsx("span",{style:tT.icon,children:""}),s.message]}):null},tT={toast:{position:"fixed",top:"20px",left:"50%",transform:"translateX(-50%)",backgroundColor:"rgba(0, 0, 0, 0.9)",color:"#ffd700",padding:"12px 24px",borderRadius:"30px",fontSize:"0.9rem",fontWeight:"bold",zIndex:9999,display:"flex",alignItems:"center",gap:"8px",boxShadow:"0 4px 15px rgba(0,0,0,0.3)",animation:"slideDown 0.3s ease-out",whiteSpace:"nowrap",border:"1px solid #ffd700"},icon:{fontSize:"1.2rem"}},aA=document.createElement("style");aA.innerText=`
  @keyframes slideDown {
    from { transform: translate(-50%, -20px); opacity: 0; }
    to { transform: translate(-50%, 0); opacity: 1; }
  }
`;document.head.appendChild(aA);const Wa={FIRST_STEP:{id:"FIRST_STEP",title:" ",desc:"  ."},RUNNER:{id:"RUNNER",title:" ",desc:" () ."},HIGH_SCORE:{id:"HIGH_SCORE",title:" ",desc:"  100 !"},WEDDING_CRASHER:{id:"WEDDING_CRASHER",title:" ?",desc:"   10 ."},DATA_COLLECTOR:{id:"DATA_COLLECTOR",title:" ",desc:"    ."}},Jl=async(s,t=null)=>{const n=Yr.currentUser;if(n)try{const r=zh(uu,"users",n.uid),o=await Op(r);if(!o.exists())return;const f=o.data().achievements||[],p=async _=>{if(f.includes(_))return;const y=Wa[_];YD(` : ${y.title}`),await qC(r,{achievements:MC(_)})};switch(s){case"LOGIN":await p(Wa.FIRST_STEP.id);break;case"GAME_START":await p(Wa.RUNNER.id);break;case"GAME_SCORE":t>=100&&await p(Wa.HIGH_SCORE.id);break;case"TOUCH_CHARACTER":t&&t.groom>=10&&t.bride>=10&&await p(Wa.WEDDING_CRASHER.id);break;default:break}}catch(r){console.error("Error checking achievement:",r)}},XD=({onStart:s,onSwitchToV1:t})=>{const[n,r]=ht.useState(!1),[o,u]=ht.useState(""),[f,p]=ht.useState(!1),[_,y]=ht.useState("  ...");ht.useEffect(()=>{r(!0);const w=MN(Yr,R=>{});return()=>w()},[]);const E=async()=>{if(!o.trim()){alert(" ! ()");return}p(!0),y("   ...  ! "),[{text:"    ...  ! ",delay:800},{text:"    ... ",delay:1600},{text:`, [${o}] !  .`,delay:2400}].forEach(({text:R,delay:F})=>{setTimeout(()=>y(R),F)}),setTimeout(async()=>{try{let R=Yr.currentUser;R||(R=(await SN(Yr)).user),await NN(R,{displayName:o});const F=zh(uu,"users",R.uid);(await Op(F)).exists()?await Lm(F,{nickname:o},{merge:!0}):await Lm(F,{nickname:o,achievements:[],createdAt:new Date}),Jl("LOGIN"),s()}catch(R){console.error("Login Failed",R),alert(" .  ."),p(!1)}},3e3)};return b.jsx("div",{className:"flex flex-col items-center justify-center h-full w-full p-4 font-body relative z-10",children:b.jsxs("div",{className:"bg-white/40 backdrop-blur-md rounded-3xl p-8 md:p-12 shadow-soft-xl border border-white/60 flex flex-col items-center justify-center max-w-lg w-full transition-all duration-700 ease-out transform",style:{opacity:n?1:0,transform:n?"translateY(0)":"translateY(20px)"},children:[b.jsxs("div",{className:"mb-8 text-center",children:[b.jsx("h1",{className:"text-6xl md:text-8xl font-heading text-primary drop-shadow-sm tracking-wide mb-4 animate-fade-in-up",children:"Wedding"}),b.jsx("p",{className:"text-text/80 text-xl font-medium tracking-widest uppercase border-b border-primary/20 pb-2 inline-block",children:"Invitation"})]}),b.jsx("div",{className:"my-6 relative group cursor-pointer",children:b.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-white to-soft-pink rounded-full shadow-soft-md flex items-center justify-center text-4xl overflow-hidden transform transition-all duration-300 group-hover:scale-105 group-hover:shadow-soft-lg border border-white/50",children:""})}),b.jsx("div",{className:"flex flex-col items-center gap-4 w-full",children:f?b.jsx("div",{className:"w-full bg-white/60 px-6 py-6 rounded-xl border border-white/50 animate-pulse text-center",children:b.jsx("p",{className:"text-primary font-medium text-lg",children:_})}):b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"relative w-full group",children:b.jsx("input",{type:"text",placeholder:" ",value:o,onChange:w=>u(w.target.value),className:"w-full h-14 pl-4 pr-4 rounded-xl border border-secondary/30 bg-white/50 text-center text-lg text-text font-medium focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/10 focus:bg-white/80 transition-all duration-300 placeholder:text-gray-400/70",maxLength:8,onKeyDown:w=>w.key==="Enter"&&E(),autoFocus:!0})}),b.jsxs("button",{onClick:E,className:"w-full bg-cta text-white h-14 rounded-xl font-semibold text-lg shadow-soft-md hover:shadow-soft-lg hover:opacity-95 hover:-translate-y-0.5 active:translate-y-0 transition-all duration-200 flex items-center justify-center gap-2 group",children:[b.jsx("span",{children:""}),b.jsx("span",{className:"group-hover:translate-x-1 transition-transform",children:""})]})]})}),b.jsx("button",{onClick:t,className:"mt-8 text-text/60 text-sm hover:text-primary transition-colors border-b border-transparent hover:border-primary/30 pb-0.5",children:"Back to Classic Mode"})]})})},oA="/Invitation/assets/groom_nobg-tvOAzn_6.png",lA="/Invitation/assets/bride_nobg-CV5a6LWZ.png",$D="/Invitation/assets/groom-cEf0GPId.jpg",JD="/Invitation/assets/bride-C9xQdNrL.jpg",ZD=()=>{const[s,t]=ht.useState(null),[n,r]=ht.useState(!1),o=[{id:"groom",name:"",type:"[ / ]",stars:"",desc:'"   ,    .  ,  ."',atk:"",def:"",img:$D,bank:"",account:"49591044955107",displayAccount:"495-910449-55107",holder:""},{id:"bride",name:"",type:"[ / ]",stars:"",desc:'"    ,     .    ."',atk:"",def:"",img:JD,bank:"",account:"110297915880",displayAccount:"110-297-915880",holder:""}],u=f=>{const p=`${f.account} ${f.bank}`;navigator.clipboard.writeText(p).then(()=>{r(!0),setTimeout(()=>r(!1),2e3)}).catch(_=>{console.error("Failed to copy: ",_)}),t(f.id)};return b.jsxs("section",{className:"py-24 px-4 bg-background text-center relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-20 left-10 w-40 h-40 bg-primary/10 rounded-full blur-3xl animate-pulse"}),b.jsx("div",{className:"absolute bottom-20 right-10 w-60 h-60 bg-secondary/10 rounded-full blur-3xl animate-pulse delay-700"}),b.jsx("h2",{className:"text-3xl md:text-4xl text-primary font-heading font-medium mb-4 animate-fade-in-up relative z-10",children:"Groom & Bride"}),b.jsx("p",{className:"text-text/60 mb-12 animate-fade-in-up delay-100 font-body relative z-10",children:"   "}),b.jsx("div",{className:"flex flex-col md:flex-row justify-center gap-8 items-stretch max-w-5xl mx-auto relative z-10",children:o.map((f,p)=>b.jsx("div",{className:"relative w-full max-w-md group",children:b.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-[2.5rem] p-8 shadow-soft-lg border border-white/60 hover:shadow-soft-xl hover:-translate-y-2 transition-all duration-500 h-full flex flex-col items-center",children:[b.jsxs("div",{className:"relative w-48 h-48 mb-6",children:[b.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-tr from-primary/20 to-secondary/20 animate-spin-slow blur-md"}),b.jsx("div",{className:"absolute inset-1 rounded-full bg-white p-1 shadow-inner",children:b.jsx("img",{src:f.img,alt:f.name,className:"w-full h-full object-cover rounded-full"})})]}),b.jsx("h3",{className:"text-2xl font-bold text-text mb-2 font-heading",children:f.name}),b.jsx("p",{className:"text-primary font-body text-lg mb-6",children:f.type.replace("[","").replace("]","")}),b.jsx("div",{className:"w-full bg-background/50 rounded-2xl p-6 mb-6 flex-1 border border-primary/5",children:b.jsx("p",{className:"font-body text-text/80 italic leading-relaxed text-lg",children:f.desc.replace(/"/g,"")})}),b.jsxs("button",{onClick:()=>u(f),className:"w-full py-4 bg-white border border-primary/20 rounded-xl shadow-sm hover:shadow-md hover:border-primary/50 transition-all flex flex-col items-center justify-center gap-1 group/btn",children:[b.jsxs("div",{className:"flex items-center gap-2 text-text/60 text-sm group-hover/btn:text-primary transition-colors",children:[b.jsx("span",{children:f.bank}),b.jsx("span",{className:"w-1 h-3 bg-gray-300 rounded-full"}),b.jsx("span",{children:f.holder})]}),b.jsx("span",{className:"font-body font-bold text-lg text-text tracking-wide group-hover/btn:text-primary transition-colors",children:f.displayAccount}),b.jsx("span",{className:"text-xs text-primary/60 font-medium opacity-0 group-hover/btn:opacity-100 transition-opacity -mb-4 absolute bottom-2",children:"Click to Copy"})]})]})},f.id))}),b.jsx("div",{className:`
                    fixed bottom-10 left-1/2 -translate-x-1/2 bg-white/90 backdrop-blur-md text-text px-8 py-4 rounded-full shadow-soft-xl z-[100] whitespace-nowrap transition-all duration-500 border border-white/50
                    ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-8 pointer-events-none"}
                `,children:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("span",{className:"text-primary text-xl",children:""}),b.jsx("span",{className:"font-body font-medium text-lg",children:" "})]})})]})},WD="/Invitation/assets/groom_sprites-C9FWbZGX.png",t4="/Invitation/assets/bride_sprites-CIfQIsBB.png",e4=({selectedCharacter:s="groom"})=>{const t=ht.useRef(null),[n,r]=ht.useState("START"),[o,u]=ht.useState(0),[f,p]=ht.useState(s),[_,y]=ht.useState(0),[E,w]=ht.useState(!1);ht.useEffect(()=>{p(s)},[s]);const R=ht.useRef(new Image),F=ht.useRef(new Image);ht.useEffect(()=>{let x=0;const V=2,D=I=>new Promise(at=>{const dt=new Image;dt.crossOrigin="Anonymous",dt.onload=()=>{const U=document.createElement("canvas");U.width=dt.width,U.height=dt.height;const Z=U.getContext("2d");Z.drawImage(dt,0,0);const ut=Z.getImageData(0,0,U.width,U.height),J=ut.data,Dt=J[0],M=J[1],Y=J[2],it=30;for(let gt=0;gt<J.length;gt+=4)Math.abs(J[gt]-Dt)<it&&Math.abs(J[gt+1]-M)<it&&Math.abs(J[gt+2]-Y)<it&&(J[gt+3]=0);Z.putImageData(ut,0,0);const rt=new Image;rt.onload=()=>at(rt),rt.src=U.toDataURL()},dt.src=I});(async()=>{const I=async(at,dt)=>{const U=await D(dt);at.current=U,x++,x>=V&&w(!0)};await Promise.all([I(R,WD),I(F,t4)])})()},[]);const W=800,et=400,tt=50,ft=160,bt=40,Tt=()=>({x:50,y:et-tt-ft,w:ft,h:ft,dy:0,grounded:!0,rotation:0}),yt=ht.useRef({dino:Tt(),obstacles:[],clouds:[],particles:[],frame:0,bgOffset:0,isGameOver:!1,animationId:null}),Yt=()=>{const x=ft;let V=ft;const D=f==="groom"?R.current:F.current;if(D&&D.complete&&D.width>0){const k=D.width/3,I=D.height,at=k/I;V=x*at}yt.current={dino:{x:100,y:et-tt-x,w:V,h:x,dy:0,grounded:!0,rotation:0},obstacles:[],clouds:[],particles:[],frame:0,bgOffset:0,isGameOver:!1,animationId:null},u(0);for(let k=0;k<5;k++)yt.current.clouds.push({x:Math.random()*W,y:Math.random()*(et/2),speed:.5+Math.random()*1})},Nt=()=>{if(yt.current.dino.grounded){yt.current.dino.dy=-18,yt.current.dino.grounded=!1;for(let x=0;x<8;x++)yt.current.particles.push({x:yt.current.dino.x+yt.current.dino.w/2,y:yt.current.dino.y+yt.current.dino.h+bt,vx:(Math.random()-.5)*8,vy:(Math.random()-.5)*4,life:25})}},N=async x=>{const V=Yr.currentUser;if(V)try{const D=zh(uu,"scores",V.uid);await Lm(D,{uid:V.uid,displayName:V.displayName||"Guest",score:x,timestamp:OC()},{merge:!0}),x>_&&y(x)}catch(D){console.error(D)}};ht.useEffect(()=>{const V=t.current.getContext("2d");V.imageSmoothingEnabled=!1;let D=performance.now();const k=at=>{if(n!=="PLAYING")return;const dt=Math.min((at-D)/16,2);D=at;const U=yt.current;if(U.frame++,U.bgOffset+=2*dt,U.frame%5===0&&u(Math.floor(U.frame/5)),U.dino.dy+=.8*dt,U.dino.y+=U.dino.dy*dt,U.dino.y+U.dino.h>et-tt&&(U.dino.y=et-tt-U.dino.h,U.dino.dy=0,U.dino.grounded=!0),U.frame%100===0){const J=["","","","",""],Dt=J[Math.floor(Math.random()*J.length)];U.obstacles.push({x:W,y:et-tt-60,w:60,h:60,type:Dt,angle:0})}U.obstacles.forEach(J=>{J.x-=7*dt,J.angle+=.05}),U.obstacles=U.obstacles.filter(J=>J.x+J.w>0),U.clouds.forEach(J=>{J.x-=J.speed*dt,J.x+100<0&&(J.x=W)}),U.particles.forEach(J=>{J.x+=J.vx*dt,J.y+=J.vy*dt,J.life-=dt}),U.particles=U.particles.filter(J=>J.life>0);const Z=20;let ut=!1;U.obstacles.forEach(J=>{U.dino.x+Z<J.x+J.w-Z&&U.dino.x+U.dino.w-Z>J.x+Z&&U.dino.y+Z<J.y+J.h-Z&&U.dino.y+U.dino.h-Z>J.y+Z&&(ut=!0)}),ut&&(r("GAME_OVER"),U.isGameOver=!0,N(Math.floor(U.frame/5)),Jl("GAME_SCORE",Math.floor(U.frame/5))),I(V),U.isGameOver||(U.animationId=requestAnimationFrame(k))},I=at=>{const dt=yt.current,U=at.createLinearGradient(0,0,0,et);U.addColorStop(0,"#60A5FA"),U.addColorStop(1,"#DBEAFE"),at.fillStyle=U,at.fillRect(0,0,W,et),at.fillStyle="rgba(255, 255, 255, 0.6)",dt.clouds.forEach(J=>{at.beginPath(),at.arc(J.x,J.y,30,0,Math.PI*2),at.arc(J.x+25,J.y-10,35,0,Math.PI*2),at.arc(J.x+50,J.y,30,0,Math.PI*2),at.fill()}),at.fillStyle="#991B1B",at.fillRect(0,et-tt,W,tt),at.fillStyle="#B91C1C",at.fillRect(0,et-tt+10,W,tt-20);const Z=f==="groom"?R.current:F.current;if(Z&&Z.complete&&Z.width>0){const J=Z.width/3,Dt=Z.height,M=Math.floor(dt.frame/8)%2+1,Y=dt.dino.grounded?M:0;if(dt.dino.w===ft&&J!==Dt){const it=J/Dt;dt.dino.w=dt.dino.h*it}at.save(),at.drawImage(Z,Y*J,0,J,Dt,dt.dino.x,dt.dino.y+bt,dt.dino.w,dt.dino.h),at.restore()}else at.fillStyle="white",at.fillRect(dt.dino.x,dt.dino.y,dt.dino.w,dt.dino.h);at.font="40px Arial",at.textAlign="center",at.textBaseline="middle",dt.obstacles.forEach(J=>{at.save(),at.translate(J.x+J.w/2,J.y+J.h/2),J.type!==""&&at.rotate(Math.sin(dt.frame*.1)*.2),at.fillText(J.type,0,0),at.restore()}),at.fillStyle="#fff",dt.particles.forEach(J=>{at.globalAlpha=J.life/20,at.beginPath(),at.arc(J.x,J.y,3,0,Math.PI*2),at.fill()}),at.globalAlpha=1;const ut=-(dt.bgOffset%100);at.font="20px Arial";for(let J=0;J<W+100;J+=100)at.fillText("",J+ut,et-10)};return n==="PLAYING"?(D=performance.now(),yt.current.animationId=requestAnimationFrame(k)):I(V),()=>cancelAnimationFrame(yt.current.animationId)},[n,f,E]);const S=x=>{n==="START"||n==="GAME_OVER"?(Yt(),r("PLAYING"),Jl("GAME_START")):Nt()};return b.jsxs("div",{onClick:S,className:"relative w-full max-w-4xl mx-auto aspect-[2/1] bg-white/50 backdrop-blur-md rounded-[2.5rem] overflow-hidden shadow-soft-xl border border-white/60 font-body select-none cursor-pointer group hover:shadow-soft-2xl transition-all duration-500 hover:-translate-y-1",children:[b.jsx("canvas",{ref:t,width:800,height:400,className:"w-full h-full block rounded-[2rem]"}),n==="START"&&b.jsxs("div",{className:"absolute inset-0 bg-background/40 flex flex-col items-center justify-center backdrop-blur-[2px]",children:[b.jsx("h2",{className:"text-5xl md:text-6xl text-primary font-heading mb-4 animate-bounce drop-shadow-sm",children:"Wedding Run"}),b.jsx("p",{className:"text-xl text-text/80 mb-8 font-body tracking-wider",children:"Tap to Jump with Love!"}),b.jsx("div",{className:"bg-primary text-white px-10 py-4 rounded-full font-body font-bold text-xl shadow-soft-lg hover:bg-primary/90 hover:scale-110 transition-transform",children:"START GAME"})]}),n==="GAME_OVER"&&b.jsxs("div",{className:"absolute inset-0 bg-white/80 flex flex-col items-center justify-center backdrop-blur-md animate-in zoom-in duration-300",children:[b.jsx("p",{className:"text-6xl mb-4 animate-bounce",children:""}),b.jsx("h2",{className:"text-4xl text-primary font-heading mb-2",children:"Game Over"}),b.jsxs("div",{className:"bg-background p-6 rounded-2xl border border-white/60 shadow-inner mb-8 text-center min-w-[200px]",children:[b.jsx("p",{className:"text-sm text-text/60 font-bold mb-2 uppercase tracking-widest",children:"Score"}),b.jsx("p",{className:"text-5xl font-heading text-primary",children:o})]}),b.jsx("div",{className:"bg-secondary text-white px-8 py-3 rounded-full font-bold text-lg shadow-soft-md hover:scale-105 transition-transform animate-pulse",children:"TRY AGAIN"})]}),b.jsxs("div",{className:"absolute top-6 right-6 bg-white/80 backdrop-blur-md px-6 py-2 rounded-full border border-white/50 font-heading text-2xl shadow-sm text-primary",children:[o,"m"]})]})};var n4=nT();const es={audioCtx:null,init(){this.audioCtx||(this.audioCtx=new(window.AudioContext||window.webkitAudioContext))},playTone(s,t,n,r=.1){try{if(this.audioCtx||this.init(),!this.audioCtx)return;this.audioCtx.state==="suspended"&&this.audioCtx.resume().catch(()=>{});const o=this.audioCtx.createOscillator(),u=this.audioCtx.createGain();o.type=t,o.frequency.setValueAtTime(s,this.audioCtx.currentTime),u.gain.setValueAtTime(r,this.audioCtx.currentTime),u.gain.exponentialRampToValueAtTime(.01,this.audioCtx.currentTime+n),o.connect(u),u.connect(this.audioCtx.destination),o.start(),o.stop(this.audioCtx.currentTime+n)}catch(o){console.warn("Audio play failed",o)}},playClick(){this.playTone(800,"sine",.1,.1)},playConfirm(){try{if(this.audioCtx||this.init(),!this.audioCtx)return;this.audioCtx.state==="suspended"&&this.audioCtx.resume().catch(()=>{});const s=this.audioCtx.currentTime,t=this.audioCtx.createOscillator(),n=this.audioCtx.createGain();t.type="sine",t.frequency.setValueAtTime(600,s),t.frequency.exponentialRampToValueAtTime(1200,s+.1),n.gain.setValueAtTime(.1,s),n.gain.exponentialRampToValueAtTime(.01,s+.2),t.connect(n),n.connect(this.audioCtx.destination),t.start(),t.stop(s+.2)}catch(s){console.warn("Audio confirm failed",s)}},playHover(){this.playTone(400,"sine",.05,.05)}},i4=Object.assign({"../../assets/images/gallery1.jpg":iT,"../../assets/images/gallery2.jpg":sT,"../../assets/images/gallery3.jpg":rT}),dm=Object.values(i4).map(s=>s.default),s4=()=>{const[s,t]=ht.useState(!1),[n,r]=ht.useState(null),[o,u]=ht.useState(null),f=()=>{s||dm.length===0||(es.playClick(),t(!0),r(null),setTimeout(()=>{const p=Math.floor(Math.random()*dm.length),_=dm[p],y=JSON.parse(localStorage.getItem("wedding_collection")||"[]");y.includes(p)||(y.push(p),localStorage.setItem("wedding_collection",JSON.stringify(y)),window.dispatchEvent(new Event("collectionUpdated")));const E=Math.random(),w=E>.8?"SSR":E>.5?"SR":"R";r(_),u(w),t(!1),es.playConfirm()},2e3))};return b.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-background relative overflow-hidden font-body p-4 select-none",children:[b.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[500px] h-[500px] bg-primary/10 rounded-full blur-[100px] animate-pulse pointer-events-none"}),b.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[600px] h-[600px] bg-secondary/10 rounded-full blur-[120px] animate-pulse delay-1000 pointer-events-none"}),!n&&!s&&b.jsxs("div",{className:"z-10 flex flex-col items-center w-full max-w-sm animate-in zoom-in duration-500",children:[b.jsxs("div",{className:"mb-8 text-center bg-white/50 backdrop-blur-md border border-white/60 px-8 py-6 rounded-[2.5rem] shadow-soft-lg",children:[b.jsx("h2",{className:"text-3xl font-heading text-primary mb-2",children:"Collect Memories"}),b.jsx("p",{className:"text-text/60 font-body text-lg",children:"Discover a special moment"})]}),b.jsxs("button",{onClick:f,className:"group relative w-24 h-24 bg-gradient-to-br from-white to-gray-50 text-primary rounded-full shadow-soft-xl hover:scale-110 active:scale-95 transition-all duration-300 flex items-center justify-center border border-white/60",title:"Open Memory",children:[b.jsx("span",{className:"text-4xl group-hover:rotate-12 transition-transform duration-300",children:""}),b.jsx("div",{className:"absolute inset-0 rounded-full bg-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"})]}),b.jsx("p",{className:"mt-8 text-sm text-text/40 font-body tracking-widest uppercase",children:"Tap camera to collect"})]}),s&&b.jsxs("div",{className:"z-10 flex flex-col items-center justify-center animate-pulse",children:[b.jsx("div",{className:"text-6xl mb-4 animate-[bounce_1s_infinite]",children:""}),b.jsx("p",{className:"text-2xl font-heading text-primary",children:"Developing..."})]}),n&&!s&&n4.createPortal(b.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 font-body",children:[b.jsx("div",{className:"absolute inset-0 bg-white/60 backdrop-blur-xl animate-in fade-in duration-300",onClick:()=>r(null)}),b.jsxs("div",{className:"relative z-10 flex flex-col items-center animate-in zoom-in duration-500",children:[b.jsxs("div",{className:"bg-white p-4 pb-16 rounded shadow-2xl transform rotate-1 border border-gray-100 max-w-[90vw] max-h-[70vh] flex flex-col items-center relative transition-transform hover:rotate-0 duration-300",children:[b.jsx("img",{src:n,alt:"Result",className:"w-[300px] h-[300px] object-cover bg-gray-100 shadow-inner"}),b.jsx("div",{className:"absolute bottom-6 font-handwriting text-2xl text-gray-600 rotate-[-2deg]",children:o==="SSR"?"Unforgettable Moment":"Lovely Day"})]}),b.jsxs("div",{className:"flex gap-4 mt-8",children:[b.jsx("button",{onClick:()=>r(null),className:"px-8 py-3 bg-white/80 backdrop-blur text-text rounded-full font-medium border border-white/60 shadow-soft-md hover:bg-white transition-all",children:"Close"}),b.jsxs("button",{onClick:f,className:"px-8 py-3 bg-primary text-white rounded-full font-medium shadow-soft-lg hover:bg-primary/90 hover:scale-105 transition-all flex items-center gap-2",children:[b.jsx("span",{children:""})," One More"]})]})]})]}),document.body)]})},eT=[{id:1,speaker:"",text:"!    .",image:"groom",expression:"smile"},{id:2,speaker:"",text:"        !",image:"bride",expression:"happy"},{id:3,speaker:"",text:"    .     ' '.",image:"groom",expression:"serious"},{id:4,speaker:"",text:"  ,   ?",image:"bride",expression:"wink"},{id:5,speaker:"SYSTEM",text:" []  .  !",image:"system",expression:"none"}],r4=({onClose:s})=>{const[t,n]=ht.useState(0),[r,o]=ht.useState(""),[u,f]=ht.useState(!1),p=eT[t];ht.useEffect(()=>{if(!p)return;o(""),f(!0);let y=0;const E=p.text,R=setInterval(()=>{y<E.length?(o(F=>F+E.charAt(y)),y++):(clearInterval(R),f(!1))},30);return()=>clearInterval(R)},[t]);const _=()=>{es.playClick(),u?(o(p.text),f(!1)):t<eT.length-1?n(y=>y+1):(es.playConfirm(),s())};return b.jsxs("div",{className:"w-full h-full relative flex flex-col justify-end overflow-hidden cursor-pointer min-h-[500px]",onClick:_,children:[b.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 h-[80%] flex items-end transition-transform duration-300",children:b.jsx("img",{src:p.image==="groom"?oA:lA,alt:"Character",className:"h-full object-contain filter drop-shadow-lg animate-in slide-in-from-bottom-10 fade-in duration-300"},t)}),b.jsxs("div",{className:"relative z-10 m-4 mb-8",children:[b.jsx("div",{className:"absolute -top-7 left-8 bg-[#EF4444] text-white font-['Jua'] px-8 py-2 rounded-t-xl rounded-br-xl border-2 border-black shadow-md transform -skew-x-6 origin-bottom-left z-20",children:b.jsx("span",{className:"text-2xl inline-block transform skew-x-6 drop-shadow-sm",children:p.speaker})}),b.jsxs("div",{className:"bg-white/95 backdrop-blur border-4 border-black rounded-3xl p-8 shadow-xl min-h-[200px] relative",children:[b.jsxs("p",{className:"font-['Gowun+Dodum'] text-xl md:text-2xl text-gray-800 leading-relaxed type-animation",children:[r,b.jsx("span",{className:"animate-pulse inline-block ml-1 font-bold",children:"|"})]}),!u&&b.jsx("div",{className:"absolute bottom-4 right-6 animate-bounce text-orange-500",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:4,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})})]})]})]})},a4=({title:s,onClose:t,children:n})=>b.jsxs("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-50 flex justify-center items-center p-4 selection:bg-primary/20 selection:text-primary",children:[b.jsxs("div",{className:"w-full max-w-lg max-h-[80vh] bg-white/90 backdrop-blur-xl border border-white/60 rounded-2xl shadow-soft-xl flex flex-col overflow-hidden animate-[slideUp_0.4s_cubic-bezier(0.16,1,0.3,1)]",children:[b.jsxs("div",{className:"flex justify-between items-center px-6 py-4 border-b border-primary/10 bg-white/40",children:[b.jsx("span",{className:"text-xl font-heading font-bold text-primary tracking-wide",children:s}),b.jsx("button",{className:"text-text/50 hover:text-cta transition-colors text-2xl leading-none w-8 h-8 flex items-center justify-center rounded-full hover:bg-black/5",onClick:t,children:""})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-0 text-text scrollbar-hide",children:n})]}),b.jsx("style",{children:`
                @keyframes slideUp {
                    from { transform: translateY(20px); opacity: 0; }
                    to { transform: translateY(0); opacity: 1; }
                }
            `})]}),o4=()=>{const[s,t]=ht.useState([]),[n,r]=ht.useState(!0),o=Yr.currentUser;return ht.useEffect(()=>{(async()=>{try{const f=LC(vC(uu,"scores"),UC("score","desc"),PC(50)),_=(await BC(f)).docs.map(w=>({id:w.id,...w.data()})),y=new Map;_.forEach(w=>{const R=w.displayName;(!y.has(R)||y.get(R).score<w.score)&&y.set(R,w)});const E=Array.from(y.values()).sort((w,R)=>R.score-w.score).slice(0,10);t(E)}catch(f){console.error("Error fetching rankings: ",f)}finally{r(!1)}})()},[]),n?b.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading..."}):b.jsxs("div",{className:"w-full max-w-2xl mx-auto p-6 bg-white/50 backdrop-blur-md rounded-3xl shadow-soft-lg border border-white/60 font-body",children:[b.jsx("h3",{className:"text-2xl text-center text-primary font-heading font-medium mb-6",children:"Hall of Fame"}),b.jsx("div",{className:"overflow-hidden rounded-2xl border border-white/50",children:b.jsxs("table",{className:"w-full text-left",children:[b.jsx("thead",{className:"bg-white/60",children:b.jsxs("tr",{children:[b.jsx("th",{className:"p-4 text-sm font-bold text-text/70 uppercase tracking-wider text-center",children:"#"}),b.jsx("th",{className:"p-4 text-sm font-bold text-text/70 uppercase tracking-wider",children:"Agent"}),b.jsx("th",{className:"p-4 text-sm font-bold text-text/70 uppercase tracking-wider text-right",children:"Score"})]})}),b.jsx("tbody",{className:"divide-y divide-white/40",children:s.map((u,f)=>{const p=o&&(o.uid===u.id||o.displayName===u.displayName);return b.jsxs("tr",{className:`
                                        transition-colors hover:bg-white/40
                                        ${p?"bg-primary/10":""}
                                        ${f<3?"font-bold":""}
                                    `,children:[b.jsxs("td",{className:"p-4 text-center",children:[f===0&&"",f===1&&"",f===2&&"",f>2&&f+1]}),b.jsxs("td",{className:`p-4 ${p?"text-primary":"text-text"}`,children:[u.displayName," ",p&&"(You)"]}),b.jsx("td",{className:"p-4 text-right font-mono text-text/80",children:u.score.toLocaleString()})]},u.id)})})]})}),b.jsx("div",{className:"mt-6 text-center text-xs text-text/40 tracking-widest uppercase",children:"* Real-time Updates"})]})},l4=()=>{const[s,t]=ht.useState([]),[n,r]=ht.useState(!0),o=Yr.currentUser;if(ht.useEffect(()=>{(async()=>{if(o)try{const p=zh(uu,"users",o.uid),_=await Op(p);_.exists()&&t(_.data().achievements||[])}catch(p){console.error("Error fetching achievements:",p)}finally{r(!1)}})()},[o]),n)return b.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading..."});const u=Object.values(Wa);return b.jsxs("div",{style:xi.container,children:[b.jsx("h3",{style:xi.header,children:"   (MY ACHIEVEMENTS)"}),b.jsx("div",{style:xi.grid,children:u.map(f=>{const p=s.includes(f.id);return b.jsxs("div",{style:{...xi.card,...p?xi.unlocked:xi.locked},children:[b.jsx("div",{style:xi.icon,children:p?"":""}),b.jsxs("div",{style:xi.info,children:[b.jsx("div",{style:xi.title,children:f.title}),b.jsx("div",{style:xi.desc,children:f.desc})]})]},f.id)})})]})},xi={container:{padding:"10px",color:"#333",fontFamily:'"Rajdhani", sans-serif'},header:{textAlign:"center",marginBottom:"15px",borderBottom:"2px solid #333",paddingBottom:"10px"},grid:{display:"flex",flexDirection:"column",gap:"10px"},card:{display:"flex",alignItems:"center",padding:"10px",borderRadius:"8px",border:"1px solid #ddd",transition:"transform 0.2s"},unlocked:{backgroundColor:"#fffbe6",border:"2px solid #ffd700",boxShadow:"0 2px 5px rgba(255, 215, 0, 0.3)"},locked:{backgroundColor:"#f5f5f5",filter:"grayscale(100%)",opacity:.7},icon:{fontSize:"2rem",marginRight:"15px"},info:{flex:1},title:{fontWeight:"bold",fontSize:"1rem",marginBottom:"3px"},desc:{fontSize:"0.8rem",color:"#666"}},u4=({onSwitchToV1:s})=>{const[t,n]=ht.useState("bride"),[r,o]=ht.useState(!1),[u,f]=ht.useState(""),[p,_]=ht.useState(null),[y,E]=ht.useState(""),[,w]=ht.useState({groom:0,bride:0}),[R,F]=ht.useState(!1);ht.useEffect(()=>{const yt=new Date("2026-04-25T16:50:00"),Yt=()=>{const S=yt-new Date,x=Math.ceil(S/(1e3*60*60*24));E(x>0?`D-${x}`:x===0?"D-DAY":`D+${Math.abs(x)}`)};Yt();const Nt=setInterval(Yt,1e3*60);return()=>clearInterval(Nt)},[]);const W=()=>{es.playClick(),n(yt=>yt==="bride"?"groom":"bride")},et=()=>{es.playClick(),F(!0),setTimeout(()=>F(!1),200);const yt=t==="bride"?["   !","  ~"," !","   !","  !"]:["  !","  !","  ."," !","   !"],Yt=yt[Math.floor(Math.random()*yt.length)];f(Yt),o(!0),w(Nt=>{const N={...Nt};return N[t]+=1,Jl("TOUCH_CHARACTER",N),N}),setTimeout(()=>o(!1),3e3)},tt=yt=>{es.playClick(),_(yt)},ft=()=>{es.playClick(),_(null)},bt=()=>{es.playClick(),s()},Tt=yt=>{switch(yt){case"map":return"Wedding Location";case"gallery":return"Our Gallery";case"recruit":return"Guest Book";case"story":return"Our Story";case"ranking":return"Mini Game Ranking";case"achievement":return"Achievements";case"info":return"Profile";case"game":return"Mini Game";default:return""}};return b.jsxs("div",{className:"relative w-full h-full overflow-hidden bg-background font-body select-none",children:[b.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[500px] h-[500px] bg-primary/10 rounded-full blur-[100px] animate-pulse pointer-events-none"}),b.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[600px] h-[600px] bg-secondary/10 rounded-full blur-[120px] animate-pulse delay-1000 pointer-events-none"}),b.jsxs("div",{className:"absolute inset-0 z-10 flex flex-col items-center justify-end pb-0 pointer-events-none",children:[b.jsx("img",{src:t==="bride"?lA:oA,alt:"Character",className:`
                        h-[80vh] w-auto object-contain transition-all duration-500 ease-out cursor-pointer pointer-events-auto drop-shadow-2xl
                        ${R?"scale-105":"scale-100 hover:scale-[1.02] hover:brightness-105"}
                    `,onClick:et}),r&&b.jsxs("div",{className:"absolute top-[25%] bg-white/80 backdrop-blur-md px-6 py-3 rounded-2xl shadow-soft-lg z-20 animate-fade-in-up border border-white/60",children:[b.jsxs("p",{className:"text-lg font-medium text-text font-body italic",children:['"',u,'"']}),b.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 w-4 h-4 bg-white/80 rotate-45 border-b border-r border-white/60"})]})]}),b.jsxs("div",{className:"absolute inset-0 z-20 pointer-events-none p-6 flex flex-col justify-between",children:[b.jsxs("div",{className:"flex justify-between items-start pointer-events-auto",children:[b.jsx("div",{className:"flex flex-col gap-3",children:b.jsxs("div",{className:"flex items-center gap-3 bg-white/30 backdrop-blur-md border border-white/40 rounded-full px-5 py-2 shadow-soft-sm hover:bg-white/40 transition-colors",children:[b.jsx("span",{className:"text-xl",children:""}),b.jsx("span",{className:"text-lg font-heading font-bold text-primary",children:y})]})}),b.jsxs("button",{onClick:W,className:"flex items-center gap-3 bg-white/30 backdrop-blur-md border border-white/40 px-5 py-2 rounded-full shadow-soft-sm hover:bg-white/50 hover:shadow-soft-md transition-all group",children:[b.jsx("span",{className:"text-sm font-medium text-text group-hover:text-primary transition-colors",children:t==="bride"?"View Groom":"View Bride"}),b.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-primary/20 to-secondary/20 flex items-center justify-center text-primary border border-white/50",children:""})]})]}),b.jsxs("div",{className:"absolute top-1/2 right-6 -translate-y-1/2 flex flex-col gap-4 pointer-events-auto z-40",children:[b.jsx(Ka,{icon:"",label:"Location",onClick:()=>tt("map")}),b.jsx(Ka,{icon:"",label:"Gallery",onClick:()=>tt("gallery")}),b.jsx(Ka,{icon:"",label:"Story",onClick:()=>tt("story"),delay:"100ms"}),b.jsx(Ka,{icon:"",label:"Ranking",onClick:()=>tt("ranking"),delay:"200ms"}),b.jsx(Ka,{icon:"",label:"Mission",onClick:()=>tt("achievement"),delay:"300ms"}),b.jsx(Ka,{icon:"",label:"Guest Book",onClick:()=>tt("recruit"),delay:"400ms"})]}),b.jsxs("div",{className:"flex justify-between items-end w-full pointer-events-auto pb-2 relative z-50",children:[b.jsx("button",{onClick:bt,className:"text-text/50 hover:text-text text-sm underline decoration-transparent hover:decoration-text/30 transition-all font-medium mb-4",children:"Back to Classic"}),b.jsxs("button",{onClick:()=>{tt("game"),Jl("GAME_START")},className:"group relative overflow-hidden bg-cta text-white px-8 py-4 rounded-2xl shadow-soft-lg hover:shadow-soft-xl hover:-translate-y-1 transition-all duration-300",children:[b.jsx("div",{className:"absolute inset-0 bg-white/20 translate-y-full group-hover:translate-y-0 transition-transform duration-300"}),b.jsxs("div",{className:"relative flex items-center gap-4",children:[b.jsx("span",{className:"text-3xl animate-bounce",children:""}),b.jsxs("div",{className:"text-left",children:[b.jsx("p",{className:"text-xs font-semibold text-white/90 tracking-wider uppercase",children:"Mini Game"}),b.jsx("p",{className:"text-2xl font-heading text-white",children:"Start Battle"})]})]})]})]})]}),p&&b.jsxs(a4,{title:Tt(p),onClose:ft,children:[p==="map"&&b.jsx(oT,{}),p==="gallery"&&b.jsx(aT,{}),p==="info"&&b.jsx(ZD,{}),p==="game"&&b.jsx("div",{className:"flex flex-col items-center justify-center py-8 min-h-[400px] w-full",children:b.jsx(e4,{selectedCharacter:t})}),p==="story"&&b.jsx(r4,{onClose:ft}),p==="recruit"&&b.jsx(s4,{}),p==="ranking"&&b.jsx(o4,{}),p==="achievement"&&b.jsx(l4,{})]})]})},Ka=({icon:s,label:t,onClick:n,delay:r="0ms"})=>b.jsxs("button",{onClick:n,className:"group flex flex-col items-center gap-1 transition-all duration-300 hover:scale-110",style:{animationDelay:r},children:[b.jsx("div",{className:"w-12 h-12 rounded-full bg-white/40 backdrop-blur-md border border-white/60 shadow-soft-md flex items-center justify-center text-xl group-hover:bg-white/60 group-hover:border-primary/30 group-hover:shadow-soft-lg transition-all",children:s}),b.jsx("span",{className:"text-[10px] font-bold text-text/70 uppercase tracking-widest bg-white/40 px-2 py-0.5 rounded-full backdrop-blur-sm group-hover:text-primary transition-colors",children:t})]}),c4=({onSwitchToV1:s})=>{const[t,n]=ht.useState("title"),r=()=>{n("lobby")};return b.jsxs("div",{className:"relative w-full h-screen bg-background overflow-hidden font-body selection:bg-primary/20 selection:text-primary",children:[b.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[500px] h-[500px] bg-primary/20 rounded-full blur-[100px] animate-pulse"}),b.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[600px] h-[600px] bg-secondary/20 rounded-full blur-[120px] animate-pulse delay-1000"}),b.jsx("div",{className:"absolute top-[40%] left-[30%] w-[300px] h-[300px] bg-soft-pink/30 rounded-full blur-[80px] animate-bounce delay-500 duration-[5000ms]"}),b.jsxs("div",{className:"relative w-full h-full",children:[t==="title"&&b.jsx(XD,{onStart:r,onSwitchToV1:s}),t==="lobby"&&b.jsx(u4,{onSwitchToV1:s})]})]})},h4=()=>b.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-background font-body p-4",children:b.jsxs("div",{className:"card max-w-md w-full text-center space-y-8",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx("h1",{className:"text-4xl text-text font-heading tracking-wider",children:"INVITATION"}),b.jsx("p",{className:"text-xl text-text/80 font-medium",children:" & "})]}),b.jsx("div",{className:"w-12 h-px bg-gray-300 mx-auto"}),b.jsx("p",{className:"text-text/60 tracking-widest",children:"2026. 04. 25. SAT PM 04:50"}),b.jsxs("div",{className:"flex flex-col gap-4",children:[b.jsxs("a",{href:"classic.html",className:"btn-secondary flex items-center justify-center gap-2 group",children:[b.jsx("span",{className:"group-hover:scale-110 transition-transform",children:""}),"  (Classic)"]}),b.jsxs("a",{href:"game.html",className:"btn-primary flex items-center justify-center gap-2 group",children:[b.jsx("span",{className:"group-hover:rotate-12 transition-transform",children:""}),"  (Game Mode)"]})]})]})});function f4(){const[s,t]=ht.useState("selection");return ht.useEffect(()=>{const n=window.location.pathname;n.includes("classic.html")?t("v1"):n.includes("game.html")?t("v2"):new URLSearchParams(window.location.search).get("mode")==="classic"?t("v1"):new URLSearchParams(window.location.search).get("mode")==="game"?t("v2"):t("selection")},[]),b.jsxs(b.Fragment,{children:[s==="selection"&&b.jsx(h4,{}),s==="v1"&&b.jsx(oS,{}),s==="v2"&&b.jsx(c4,{onSwitchToV1:()=>window.location.href="classic.html"}),b.jsx(KD,{})]})}Yw.createRoot(document.getElementById("root")).render(b.jsx(ht.StrictMode,{children:b.jsx(f4,{})}));
