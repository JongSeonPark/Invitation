(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();var sm={exports:{}},kl={};var A0;function a1(){if(A0)return kl;A0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:s,type:r,key:f,ref:o!==void 0?o:null,props:c}}return kl.Fragment=e,kl.jsx=n,kl.jsxs=n,kl}var x0;function o1(){return x0||(x0=1,sm.exports=a1()),sm.exports}var b=o1(),rm={exports:{}},xe={};var R0;function l1(){if(R0)return xe;R0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),R=Symbol.iterator;function B(O){return O===null||typeof O!="object"?null:(O=R&&O[R]||O["@@iterator"],typeof O=="function"?O:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,te={};function ae(O,j,Q){this.props=O,this.context=j,this.refs=te,this.updater=Q||$}ae.prototype.isReactComponent={},ae.prototype.setState=function(O,j){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,j,"setState")},ae.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function he(){}he.prototype=ae.prototype;function le(O,j,Q){this.props=O,this.context=j,this.refs=te,this.updater=Q||$}var Re=le.prototype=new he;Re.constructor=le,W(Re,ae.prototype),Re.isPureReactComponent=!0;var Ye=Array.isArray;function Ce(){}var I={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function N(O,j,Q){var ne=Q.ref;return{$$typeof:s,type:O,key:j,ref:ne!==void 0?ne:null,props:Q}}function k(O,j){return N(O.type,j,O.props)}function C(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function D(O){var j={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(Q){return j[Q]})}var A=/\/+/g;function Ae(O,j){return typeof O=="object"&&O!==null&&O.key!=null?D(""+O.key):j.toString(36)}function Te(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Ce,Ce):(O.status="pending",O.then(function(j){O.status==="pending"&&(O.status="fulfilled",O.value=j)},function(j){O.status==="pending"&&(O.status="rejected",O.reason=j)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,j,Q,ne,de){var oe=typeof O;(oe==="undefined"||oe==="boolean")&&(O=null);var Ee=!1;if(O===null)Ee=!0;else switch(oe){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(O.$$typeof){case s:case e:Ee=!0;break;case E:return Ee=O._init,H(Ee(O._payload),j,Q,ne,de)}}if(Ee)return de=de(O),Ee=ne===""?"."+Ae(O,0):ne,Ye(de)?(Q="",Ee!=null&&(Q=Ee.replace(A,"$&/")+"/"),H(de,j,Q,"",function(on){return on})):de!=null&&(C(de)&&(de=k(de,Q+(de.key==null||O&&O.key===de.key?"":(""+de.key).replace(A,"$&/")+"/")+Ee)),j.push(de)),1;Ee=0;var Be=ne===""?".":ne+":";if(Ye(O))for(var Ze=0;Ze<O.length;Ze++)ne=O[Ze],oe=Be+Ae(ne,Ze),Ee+=H(ne,j,Q,oe,de);else if(Ze=B(O),typeof Ze=="function")for(O=Ze.call(O),Ze=0;!(ne=O.next()).done;)ne=ne.value,oe=Be+Ae(ne,Ze++),Ee+=H(ne,j,Q,oe,de);else if(oe==="object"){if(typeof O.then=="function")return H(Te(O),j,Q,ne,de);throw j=String(O),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function ee(O,j,Q){if(O==null)return O;var ne=[],de=0;return H(O,ne,"","",function(oe){return j.call(Q,oe,de++)}),ne}function ue(O){if(O._status===-1){var j=O._result;j=j(),j.then(function(Q){(O._status===0||O._status===-1)&&(O._status=1,O._result=Q)},function(Q){(O._status===0||O._status===-1)&&(O._status=2,O._result=Q)}),O._status===-1&&(O._status=0,O._result=j)}if(O._status===1)return O._result.default;throw O._result}var Ie=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},pe={map:ee,forEach:function(O,j,Q){ee(O,function(){j.apply(this,arguments)},Q)},count:function(O){var j=0;return ee(O,function(){j++}),j},toArray:function(O){return ee(O,function(j){return j})||[]},only:function(O){if(!C(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return xe.Activity=S,xe.Children=pe,xe.Component=ae,xe.Fragment=n,xe.Profiler=o,xe.PureComponent=le,xe.StrictMode=r,xe.Suspense=g,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,xe.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},xe.cache=function(O){return function(){return O.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(O,j,Q){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ne=W({},O.props),de=O.key;if(j!=null)for(oe in j.key!==void 0&&(de=""+j.key),j)!x.call(j,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&j.ref===void 0||(ne[oe]=j[oe]);var oe=arguments.length-2;if(oe===1)ne.children=Q;else if(1<oe){for(var Ee=Array(oe),Be=0;Be<oe;Be++)Ee[Be]=arguments[Be+2];ne.children=Ee}return N(O.type,de,ne)},xe.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},xe.createElement=function(O,j,Q){var ne,de={},oe=null;if(j!=null)for(ne in j.key!==void 0&&(oe=""+j.key),j)x.call(j,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(de[ne]=j[ne]);var Ee=arguments.length-2;if(Ee===1)de.children=Q;else if(1<Ee){for(var Be=Array(Ee),Ze=0;Ze<Ee;Ze++)Be[Ze]=arguments[Ze+2];de.children=Be}if(O&&O.defaultProps)for(ne in Ee=O.defaultProps,Ee)de[ne]===void 0&&(de[ne]=Ee[ne]);return N(O,oe,de)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(O){return{$$typeof:m,render:O}},xe.isValidElement=C,xe.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:ue}},xe.memo=function(O,j){return{$$typeof:y,type:O,compare:j===void 0?null:j}},xe.startTransition=function(O){var j=I.T,Q={};I.T=Q;try{var ne=O(),de=I.S;de!==null&&de(Q,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(Ce,Ie)}catch(oe){Ie(oe)}finally{j!==null&&Q.types!==null&&(j.types=Q.types),I.T=j}},xe.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},xe.use=function(O){return I.H.use(O)},xe.useActionState=function(O,j,Q){return I.H.useActionState(O,j,Q)},xe.useCallback=function(O,j){return I.H.useCallback(O,j)},xe.useContext=function(O){return I.H.useContext(O)},xe.useDebugValue=function(){},xe.useDeferredValue=function(O,j){return I.H.useDeferredValue(O,j)},xe.useEffect=function(O,j){return I.H.useEffect(O,j)},xe.useEffectEvent=function(O){return I.H.useEffectEvent(O)},xe.useId=function(){return I.H.useId()},xe.useImperativeHandle=function(O,j,Q){return I.H.useImperativeHandle(O,j,Q)},xe.useInsertionEffect=function(O,j){return I.H.useInsertionEffect(O,j)},xe.useLayoutEffect=function(O,j){return I.H.useLayoutEffect(O,j)},xe.useMemo=function(O,j){return I.H.useMemo(O,j)},xe.useOptimistic=function(O,j){return I.H.useOptimistic(O,j)},xe.useReducer=function(O,j,Q){return I.H.useReducer(O,j,Q)},xe.useRef=function(O){return I.H.useRef(O)},xe.useState=function(O){return I.H.useState(O)},xe.useSyncExternalStore=function(O,j,Q){return I.H.useSyncExternalStore(O,j,Q)},xe.useTransition=function(){return I.H.useTransition()},xe.version="19.2.3",xe}var I0;function Jm(){return I0||(I0=1,rm.exports=l1()),rm.exports}var ie=Jm(),am={exports:{}},jl={},om={exports:{}},lm={};var C0;function c1(){return C0||(C0=1,(function(s){function e(H,ee){var ue=H.length;H.push(ee);e:for(;0<ue;){var Ie=ue-1>>>1,pe=H[Ie];if(0<o(pe,ee))H[Ie]=ee,H[ue]=pe,ue=Ie;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var ee=H[0],ue=H.pop();if(ue!==ee){H[0]=ue;e:for(var Ie=0,pe=H.length,O=pe>>>1;Ie<O;){var j=2*(Ie+1)-1,Q=H[j],ne=j+1,de=H[ne];if(0>o(Q,ue))ne<pe&&0>o(de,Q)?(H[Ie]=de,H[ne]=ue,Ie=ne):(H[Ie]=Q,H[j]=ue,Ie=j);else if(ne<pe&&0>o(de,ue))H[Ie]=de,H[ne]=ue,Ie=ne;else break e}}return ee}function o(H,ee){var ue=H.sortIndex-ee.sortIndex;return ue!==0?ue:H.id-ee.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();s.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,S=null,R=3,B=!1,$=!1,W=!1,te=!1,ae=typeof setTimeout=="function"?setTimeout:null,he=typeof clearTimeout=="function"?clearTimeout:null,le=typeof setImmediate<"u"?setImmediate:null;function Re(H){for(var ee=n(y);ee!==null;){if(ee.callback===null)r(y);else if(ee.startTime<=H)r(y),ee.sortIndex=ee.expirationTime,e(g,ee);else break;ee=n(y)}}function Ye(H){if(W=!1,Re(H),!$)if(n(g)!==null)$=!0,Ce||(Ce=!0,D());else{var ee=n(y);ee!==null&&Te(Ye,ee.startTime-H)}}var Ce=!1,I=-1,x=5,N=-1;function k(){return te?!0:!(s.unstable_now()-N<x)}function C(){if(te=!1,Ce){var H=s.unstable_now();N=H;var ee=!0;try{e:{$=!1,W&&(W=!1,he(I),I=-1),B=!0;var ue=R;try{t:{for(Re(H),S=n(g);S!==null&&!(S.expirationTime>H&&k());){var Ie=S.callback;if(typeof Ie=="function"){S.callback=null,R=S.priorityLevel;var pe=Ie(S.expirationTime<=H);if(H=s.unstable_now(),typeof pe=="function"){S.callback=pe,Re(H),ee=!0;break t}S===n(g)&&r(g),Re(H)}else r(g);S=n(g)}if(S!==null)ee=!0;else{var O=n(y);O!==null&&Te(Ye,O.startTime-H),ee=!1}}break e}finally{S=null,R=ue,B=!1}ee=void 0}}finally{ee?D():Ce=!1}}}var D;if(typeof le=="function")D=function(){le(C)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,Ae=A.port2;A.port1.onmessage=C,D=function(){Ae.postMessage(null)}}else D=function(){ae(C,0)};function Te(H,ee){I=ae(function(){H(s.unstable_now())},ee)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return R},s.unstable_next=function(H){switch(R){case 1:case 2:case 3:var ee=3;break;default:ee=R}var ue=R;R=ee;try{return H()}finally{R=ue}},s.unstable_requestPaint=function(){te=!0},s.unstable_runWithPriority=function(H,ee){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ue=R;R=H;try{return ee()}finally{R=ue}},s.unstable_scheduleCallback=function(H,ee,ue){var Ie=s.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Ie+ue:Ie):ue=Ie,H){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=ue+pe,H={id:E++,callback:ee,priorityLevel:H,startTime:ue,expirationTime:pe,sortIndex:-1},ue>Ie?(H.sortIndex=ue,e(y,H),n(g)===null&&H===n(y)&&(W?(he(I),I=-1):W=!0,Te(Ye,ue-Ie))):(H.sortIndex=pe,e(g,H),$||B||($=!0,Ce||(Ce=!0,D()))),H},s.unstable_shouldYield=k,s.unstable_wrapCallback=function(H){var ee=R;return function(){var ue=R;R=ee;try{return H.apply(this,arguments)}finally{R=ue}}}})(lm)),lm}var N0;function u1(){return N0||(N0=1,om.exports=c1()),om.exports}var cm={exports:{}},$t={};var D0;function h1(){if(D0)return $t;D0=1;var s=Jm();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:y,implementation:E}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,$t.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,E)},$t.flushSync=function(g){var y=f.T,E=r.p;try{if(f.T=null,r.p=2,g)return g()}finally{f.T=y,r.p=E,r.d.f()}},$t.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},$t.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},$t.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,B=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:R,fetchPriority:B}):E==="script"&&r.d.X(g,{crossOrigin:S,integrity:R,fetchPriority:B,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},$t.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},$t.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin);r.d.L(g,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},$t.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},$t.requestFormReset=function(g){r.d.r(g)},$t.unstable_batchedUpdates=function(g,y){return g(y)},$t.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},$t.useFormStatus=function(){return f.H.useHostTransitionStatus()},$t.version="19.2.3",$t}var O0;function Eb(){if(O0)return cm.exports;O0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),cm.exports=h1(),cm.exports}var M0;function f1(){if(M0)return jl;M0=1;var s=u1(),e=Jm(),n=Eb();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(r(188))}function y(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),t;if(d===l)return g(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var S=Object.assign,R=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),ae=Symbol.for("react.profiler"),he=Symbol.for("react.consumer"),le=Symbol.for("react.context"),Re=Symbol.for("react.forward_ref"),Ye=Symbol.for("react.suspense"),Ce=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function D(t){return t===null||typeof t!="object"?null:(t=C&&t[C]||t["@@iterator"],typeof t=="function"?t:null)}var A=Symbol.for("react.client.reference");function Ae(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===A?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case W:return"Fragment";case ae:return"Profiler";case te:return"StrictMode";case Ye:return"Suspense";case Ce:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case $:return"Portal";case le:return t.displayName||"Context";case he:return(t._context.displayName||"Context")+".Consumer";case Re:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:Ae(t.type)||"Memo";case x:i=t._payload,t=t._init;try{return Ae(t(i))}catch{}}return null}var Te=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},Ie=[],pe=-1;function O(t){return{current:t}}function j(t){0>pe||(t.current=Ie[pe],Ie[pe]=null,pe--)}function Q(t,i){pe++,Ie[pe]=t.current,t.current=i}var ne=O(null),de=O(null),oe=O(null),Ee=O(null);function Be(t,i){switch(Q(oe,i),Q(de,t),Q(ne,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Y_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Y_(i),t=X_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}j(ne),Q(ne,t)}function Ze(){j(ne),j(de),j(oe)}function on(t){t.memoizedState!==null&&Q(Ee,t);var i=ne.current,a=X_(i,t.type);i!==a&&(Q(de,t),Q(ne,a))}function ys(t){de.current===t&&(j(ne),j(de)),Ee.current===t&&(j(Ee),Dl._currentValue=ue)}var _s,vs;function ui(t){if(_s===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);_s=i&&i[1]||"",vs=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_s+t+vs}var Do=!1;function Er(t,i){if(!t||Do)return"";Do=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(G){var q=G}Reflect.construct(t,[],J)}else{try{J.call()}catch(G){q=G}t.call(J.prototype)}}else{try{throw Error()}catch(G){q=G}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var M=_.split(`
`),z=T.split(`
`);for(h=l=0;l<M.length&&!M[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===M.length||h===z.length)for(l=M.length-1,h=z.length-1;1<=l&&0<=h&&M[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(M[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||M[l]!==z[h]){var K=`
`+M[l].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=l&&0<=h);break}}}finally{Do=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ui(a):""}function Oo(t,i){switch(t.tag){case 26:case 27:case 5:return ui(t.type);case 16:return ui("Lazy");case 13:return t.child!==i&&i!==null?ui("Suspense Fallback"):ui("Suspense");case 19:return ui("SuspenseList");case 0:case 15:return Er(t.type,!1);case 11:return Er(t.type.render,!1);case 1:return Er(t.type,!0);case 31:return ui("Activity");default:return""}}function Mo(t){try{var i="",a=null;do i+=Oo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var bt=Object.prototype.hasOwnProperty,Ot=s.unstable_scheduleCallback,bs=s.unstable_cancelCallback,af=s.unstable_shouldYield,yc=s.unstable_requestPaint,en=s.unstable_now,wr=s.unstable_getCurrentPriorityLevel,Vo=s.unstable_ImmediatePriority,ko=s.unstable_UserBlockingPriority,Ts=s.unstable_NormalPriority,of=s.unstable_LowPriority,_c=s.unstable_IdlePriority,vc=s.log,bc=s.unstable_setDisableYieldValue,Gn=null,zt=null;function Nn(t){if(typeof vc=="function"&&bc(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(Gn,t)}catch{}}var pt=Math.clz32?Math.clz32:Ec,Tc=Math.log,fa=Math.LN2;function Ec(t){return t>>>=0,t===0?32:31-(Tc(t)/fa|0)|0}var hi=256,Sr=262144,Tt=4194304;function fi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function di(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=fi(l):(_&=T,_!==0?h=fi(_):a||(a=T&~t,a!==0&&(h=fi(a))))):(T=l&~d,T!==0?h=fi(T):_!==0?h=fi(_):a||(a=l&~t,a!==0&&(h=fi(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Qn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function lf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(){var t=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),t}function mi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Ar(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function cf(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,M=t.expirationTimes,z=t.hiddenUpdates;for(a=_&~a;0<a;){var K=31-pt(a),J=1<<K;T[K]=0,M[K]=-1;var q=z[K];if(q!==null)for(z[K]=null,K=0;K<q.length;K++){var G=q[K];G!==null&&(G.lane&=-536870913)}a&=~J}l!==0&&xr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function xr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-pt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function jo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-pt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Lo(t,i){var a=i&-i;return a=(a&42)!==0?1:Rr(a),(a&(t.suspendedLanes|i))!==0?0:a}function Rr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function qi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Sc(){var t=ee.p;return t!==0?t:(t=window.event,t===void 0?32:_0(t.type))}function Kn(t,i){var a=ee.p;try{return ee.p=t,i()}finally{ee.p=a}}var Yn=Math.random().toString(36).slice(2),Et="__reactFiber$"+Yn,kt="__reactProps$"+Yn,pi="__reactContainer$"+Yn,da="__reactEvents$"+Yn,uf="__reactListeners$"+Yn,Ac="__reactHandles$"+Yn,xc="__reactResources$"+Yn,gi="__reactMarker$"+Yn;function ma(t){delete t[Et],delete t[kt],delete t[da],delete t[uf],delete t[Ac]}function yi(t){var i=t[Et];if(i)return i;for(var a=t.parentNode;a;){if(i=a[pi]||a[Et]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=n0(t);t!==null;){if(a=t[Et])return a;t=n0(t)}return i}t=a,a=t.parentNode}return null}function Dn(t){if(t=t[Et]||t[pi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function gn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function _i(t){var i=t[xc];return i||(i=t[xc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function wt(t){t[gi]=!0}var Uo=new Set,Po={};function vi(t,i){bi(t,i),bi(t+"Capture",i)}function bi(t,i){for(Po[t]=i,t=0;t<i.length;t++)Uo.add(i[t])}var zo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bo={},qo={};function Rc(t){return bt.call(qo,t)?!0:bt.call(Bo,t)?!1:zo.test(t)?qo[t]=!0:(Bo[t]=!0,!1)}function pa(t,i,a){if(Rc(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function yn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function St(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Es(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ho(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Xe(t){if(!t._valueTracker){var i=Es(t)?"checked":"value";t._valueTracker=Ho(t,i,""+t[i])}}function Ir(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Es(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ti(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Cr=/[\n"\\]/g;function ln(t){return t.replace(Cr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ga(t,i,a,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+jt(i)):t.value!==""+jt(i)&&(t.value=""+jt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Fo(t,_,jt(i)):a!=null?Fo(t,_,jt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+jt(T):t.removeAttribute("name")}function Ic(t,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Xe(t);return}a=a!=null?""+jt(a):"",i=i!=null?""+jt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Xe(t)}function Fo(t,i,a){i==="number"&&Ti(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ws(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+jt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Cc(t,i,a){if(i!=null&&(i=""+jt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+jt(a):""}function Ss(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(Te(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=jt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Xe(t)}function cn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Nc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Go(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Nc.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Qo(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Go(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Go(t,d,i[d])}function ya(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),As=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _a(t){return As.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Xn(){}var Ko=null;function On(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xs=null,Ei=null;function Nr(t){var i=Dn(t);if(i&&(t=i.stateNode)){var a=t[kt]||null;e:switch(t=i.stateNode,i.type){case"input":if(ga(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ln(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[kt]||null;if(!h)throw Error(r(90));ga(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Ir(l)}break e;case"textarea":Cc(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&ws(t,!!a.multiple,i,!1)}}}var va=!1;function Rs(t,i,a){if(va)return t(i,a);va=!0;try{var l=t(i);return l}finally{if(va=!1,(xs!==null||Ei!==null)&&(Su(),xs&&(i=xs,t=Ei,Ei=xs=null,Nr(i),t)))for(i=0;i<t.length;i++)Nr(t[i])}}function $n(t,i){var a=t.stateNode;if(a===null)return null;var l=a[kt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dr=!1;if(Mn)try{var We={};Object.defineProperty(We,"passive",{get:function(){Dr=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch{Dr=!1}var wi=null,Yo=null,Or=null;function Xo(){if(Or)return Or;var t,i=Yo,a=i.length,l,h="value"in wi?wi.value:wi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Or=h.slice(t,1<l?1-l:void 0)}function Mr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Hi(){return!0}function Jn(){return!1}function Bt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Hi:Jn,this.isPropagationStopped=Jn,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Hi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Hi)},persist:function(){},isPersistent:Hi}),i}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=Bt(Fi),Is=S({},Fi,{view:0,detail:0}),$o=Bt(Is),Cs,ba,Ai,Ta=S({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ns,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ai&&(Ai&&t.type==="mousemove"?(Cs=t.screenX-Ai.screenX,ba=t.screenY-Ai.screenY):ba=Cs=0,Ai=t),Cs)},movementY:function(t){return"movementY"in t?t.movementY:ba}}),Jo=Bt(Ta),Vr=S({},Ta,{dataTransfer:0}),Oc=Bt(Vr),Mc=S({},Is,{relatedTarget:0}),kr=Bt(Mc),Zo=S({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),Vc=Bt(Zo),Ea=S({},Fi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),kc=Bt(Ea),jc=S({},Fi,{data:0}),xi=Bt(jc),Lc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zc(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Pc[t])?!!i[t]:!1}function Ns(){return zc}var tn=S({},Is,{key:function(t){if(t.key){var i=Lc[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Mr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Uc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ns,charCode:function(t){return t.type==="keypress"?Mr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Bc=Bt(tn),qc=S({},Ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gi=Bt(qc),u=S({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ns}),p=Bt(u),v=S({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Bt(v),U=S({},Ta,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),F=Bt(U),se=S({},Fi,{newState:0,oldState:0}),Ne=Bt(se),gt=[9,13,27,32],Qe=Mn&&"CompositionEvent"in window,lt=null;Mn&&"documentMode"in document&&(lt=document.documentMode);var Vn=Mn&&"TextEvent"in window&&!lt,Ri=Mn&&(!Qe||lt&&8<lt&&11>=lt),Zn=" ",Wn=!1;function jr(t,i){switch(t){case"keyup":return gt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sa=!1;function Nw(t,i){switch(t){case"compositionend":return wa(i);case"keypress":return i.which!==32?null:(Wn=!0,Zn);case"textInput":return t=i.data,t===Zn&&Wn?null:t;default:return null}}function Dw(t,i){if(Sa)return t==="compositionend"||!Qe&&jr(t,i)?(t=Xo(),Or=Yo=wi=null,Sa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ri&&i.locale!=="ko"?null:i.data;default:return null}}var Ow={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Ow[t.type]:i==="textarea"}function ag(t,i,a,l){xs?Ei?Ei.push(l):Ei=[l]:xs=l,i=Du(i,"onChange"),0<i.length&&(a=new Si("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Wo=null,el=null;function Mw(t){q_(t,0)}function Hc(t){var i=gn(t);if(Ir(i))return t}function og(t,i){if(t==="change")return i}var lg=!1;if(Mn){var hf;if(Mn){var ff="oninput"in document;if(!ff){var cg=document.createElement("div");cg.setAttribute("oninput","return;"),ff=typeof cg.oninput=="function"}hf=ff}else hf=!1;lg=hf&&(!document.documentMode||9<document.documentMode)}function ug(){Wo&&(Wo.detachEvent("onpropertychange",hg),el=Wo=null)}function hg(t){if(t.propertyName==="value"&&Hc(el)){var i=[];ag(i,el,t,On(t)),Rs(Mw,i)}}function Vw(t,i,a){t==="focusin"?(ug(),Wo=i,el=a,Wo.attachEvent("onpropertychange",hg)):t==="focusout"&&ug()}function kw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hc(el)}function jw(t,i){if(t==="click")return Hc(i)}function Lw(t,i){if(t==="input"||t==="change")return Hc(i)}function Uw(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var _n=typeof Object.is=="function"?Object.is:Uw;function tl(t,i){if(_n(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!bt.call(i,h)||!_n(t[h],i[h]))return!1}return!0}function fg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dg(t,i){var a=fg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=fg(a)}}function mg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?mg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function pg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ti(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ti(t.document)}return i}function df(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Pw=Mn&&"documentMode"in document&&11>=document.documentMode,Aa=null,mf=null,nl=null,pf=!1;function gg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;pf||Aa==null||Aa!==Ti(l)||(l=Aa,"selectionStart"in l&&df(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),nl&&tl(nl,l)||(nl=l,l=Du(mf,"onSelect"),0<l.length&&(i=new Si("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Aa)))}function Lr(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var xa={animationend:Lr("Animation","AnimationEnd"),animationiteration:Lr("Animation","AnimationIteration"),animationstart:Lr("Animation","AnimationStart"),transitionrun:Lr("Transition","TransitionRun"),transitionstart:Lr("Transition","TransitionStart"),transitioncancel:Lr("Transition","TransitionCancel"),transitionend:Lr("Transition","TransitionEnd")},gf={},yg={};Mn&&(yg=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function Ur(t){if(gf[t])return gf[t];if(!xa[t])return t;var i=xa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in yg)return gf[t]=i[a];return t}var _g=Ur("animationend"),vg=Ur("animationiteration"),bg=Ur("animationstart"),zw=Ur("transitionrun"),Bw=Ur("transitionstart"),qw=Ur("transitioncancel"),Tg=Ur("transitionend"),Eg=new Map,yf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yf.push("scrollEnd");function ei(t,i){Eg.set(t,i),vi(i,[t])}var Fc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},kn=[],Ra=0,_f=0;function Gc(){for(var t=Ra,i=_f=Ra=0;i<t;){var a=kn[i];kn[i++]=null;var l=kn[i];kn[i++]=null;var h=kn[i];kn[i++]=null;var d=kn[i];if(kn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&wg(a,h,d)}}function Qc(t,i,a,l){kn[Ra++]=t,kn[Ra++]=i,kn[Ra++]=a,kn[Ra++]=l,_f|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function vf(t,i,a,l){return Qc(t,i,a,l),Kc(t)}function Pr(t,i){return Qc(t,null,null,i),Kc(t)}function wg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-pt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Kc(t){if(50<Sl)throw Sl=0,Id=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ia={};function Hw(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,i,a,l){return new Hw(t,i,a,l)}function bf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qi(t,i){var a=t.alternate;return a===null?(a=vn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Sg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Yc(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")bf(t)&&(_=1);else if(typeof t=="string")_=YS(t,a,ne.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=vn(31,a,i,h),t.elementType=N,t.lanes=d,t;case W:return zr(a.children,h,d,i);case te:_=8,h|=24;break;case ae:return t=vn(12,a,i,h|2),t.elementType=ae,t.lanes=d,t;case Ye:return t=vn(13,a,i,h),t.elementType=Ye,t.lanes=d,t;case Ce:return t=vn(19,a,i,h),t.elementType=Ce,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case le:_=10;break e;case he:_=9;break e;case Re:_=11;break e;case I:_=14;break e;case x:_=16,l=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return i=vn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function zr(t,i,a,l){return t=vn(7,t,l,i),t.lanes=a,t}function Tf(t,i,a){return t=vn(6,t,null,i),t.lanes=a,t}function Ag(t){var i=vn(18,null,null,0);return i.stateNode=t,i}function Ef(t,i,a){return i=vn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var xg=new WeakMap;function jn(t,i){if(typeof t=="object"&&t!==null){var a=xg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Mo(i)},xg.set(t,i),i)}return{value:t,source:i,stack:Mo(i)}}var Ca=[],Na=0,Xc=null,il=0,Ln=[],Un=0,Ds=null,Ii=1,Ci="";function Ki(t,i){Ca[Na++]=il,Ca[Na++]=Xc,Xc=t,il=i}function Rg(t,i,a){Ln[Un++]=Ii,Ln[Un++]=Ci,Ln[Un++]=Ds,Ds=t;var l=Ii;t=Ci;var h=32-pt(l)-1;l&=~(1<<h),a+=1;var d=32-pt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ii=1<<32-pt(i)+h|a<<h|l,Ci=d+t}else Ii=1<<d|a<<h|l,Ci=t}function wf(t){t.return!==null&&(Ki(t,1),Rg(t,1,0))}function Sf(t){for(;t===Xc;)Xc=Ca[--Na],Ca[Na]=null,il=Ca[--Na],Ca[Na]=null;for(;t===Ds;)Ds=Ln[--Un],Ln[Un]=null,Ci=Ln[--Un],Ln[Un]=null,Ii=Ln[--Un],Ln[Un]=null}function Ig(t,i){Ln[Un++]=Ii,Ln[Un++]=Ci,Ln[Un++]=Ds,Ii=i.id,Ci=i.overflow,Ds=t}var qt=null,rt=null,ze=!1,Os=null,Pn=!1,Af=Error(r(519));function Ms(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw sl(jn(i,t)),Af}function Cg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Et]=t,i[kt]=l,a){case"dialog":Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":case"embed":Ve("load",i);break;case"video":case"audio":for(a=0;a<xl.length;a++)Ve(xl[a],i);break;case"source":Ve("error",i);break;case"img":case"image":case"link":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"input":Ve("invalid",i),Ic(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ve("invalid",i);break;case"textarea":Ve("invalid",i),Ss(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Q_(i.textContent,a)?(l.popover!=null&&(Ve("beforetoggle",i),Ve("toggle",i)),l.onScroll!=null&&Ve("scroll",i),l.onScrollEnd!=null&&Ve("scrollend",i),l.onClick!=null&&(i.onclick=Xn),i=!0):i=!1,i||Ms(t,!0)}function Ng(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:Pn=!1;return;case 27:case 3:Pn=!0;return;default:qt=qt.return}}function Da(t){if(t!==qt)return!1;if(!ze)return Ng(t),ze=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Hd(t.type,t.memoizedProps)),a=!a),a&&rt&&Ms(t),Ng(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));rt=t0(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));rt=t0(t)}else i===27?(i=rt,Ks(t.type)?(t=Yd,Yd=null,rt=t):rt=i):rt=qt?Bn(t.stateNode.nextSibling):null;return!0}function Br(){rt=qt=null,ze=!1}function xf(){var t=Os;return t!==null&&(dn===null?dn=t:dn.push.apply(dn,t),Os=null),t}function sl(t){Os===null?Os=[t]:Os.push(t)}var Rf=O(null),qr=null,Yi=null;function Vs(t,i,a){Q(Rf,i._currentValue),i._currentValue=a}function Xi(t){t._currentValue=Rf.current,j(Rf)}function If(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Cf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var M=0;M<i.length;M++)if(T.context===i[M]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),If(d.return,a,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),If(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Oa(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var T=h.type;_n(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ee.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Dl):t=[Dl])}h=h.return}t!==null&&Cf(i,t,a,l),i.flags|=262144}function $c(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Hr(t){qr=t,Yi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return Dg(qr,t)}function Jc(t,i){return qr===null&&Hr(t),Dg(t,i)}function Dg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Yi===null){if(t===null)throw Error(r(308));Yi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Yi=Yi.next=i;return a}var Fw=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Gw=s.unstable_scheduleCallback,Qw=s.unstable_NormalPriority,At={$$typeof:le,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nf(){return{controller:new Fw,data:new Map,refCount:0}}function rl(t){t.refCount--,t.refCount===0&&Gw(Qw,function(){t.controller.abort()})}var al=null,Df=0,Ma=0,Va=null;function Kw(t,i){if(al===null){var a=al=[];Df=0,Ma=Vd(),Va={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Df++,i.then(Og,Og),i}function Og(){if(--Df===0&&al!==null){Va!==null&&(Va.status="fulfilled");var t=al;al=null,Ma=0,Va=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Yw(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Mg=H.S;H.S=function(t,i){g_=en(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Kw(t,i),Mg!==null&&Mg(t,i)};var Fr=O(null);function Of(){var t=Fr.current;return t!==null?t:st.pooledCache}function Zc(t,i){i===null?Q(Fr,Fr.current):Q(Fr,i.pool)}function Vg(){var t=Of();return t===null?null:{parent:At._currentValue,pool:t}}var ka=Error(r(460)),Mf=Error(r(474)),Wc=Error(r(542)),eu={then:function(){}};function kg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function jg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Xn,Xn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ug(t),t;default:if(typeof i.status=="string")i.then(Xn,Xn);else{if(t=st,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ug(t),t}throw Qr=i,ka}}function Gr(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Qr=a,ka):a}}var Qr=null;function Lg(){if(Qr===null)throw Error(r(459));var t=Qr;return Qr=null,t}function Ug(t){if(t===ka||t===Wc)throw Error(r(483))}var ja=null,ol=0;function tu(t){var i=ol;return ol+=1,ja===null&&(ja=[]),jg(ja,t,i)}function ll(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function nu(t,i){throw i.$$typeof===R?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Pg(t){function i(L,V){if(t){var P=L.deletions;P===null?(L.deletions=[V],L.flags|=16):P.push(V)}}function a(L,V){if(!t)return null;for(;V!==null;)i(L,V),V=V.sibling;return null}function l(L){for(var V=new Map;L!==null;)L.key!==null?V.set(L.key,L):V.set(L.index,L),L=L.sibling;return V}function h(L,V){return L=Qi(L,V),L.index=0,L.sibling=null,L}function d(L,V,P){return L.index=P,t?(P=L.alternate,P!==null?(P=P.index,P<V?(L.flags|=67108866,V):P):(L.flags|=67108866,V)):(L.flags|=1048576,V)}function _(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function T(L,V,P,X){return V===null||V.tag!==6?(V=Tf(P,L.mode,X),V.return=L,V):(V=h(V,P),V.return=L,V)}function M(L,V,P,X){var ye=P.type;return ye===W?K(L,V,P.props.children,X,P.key):V!==null&&(V.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===x&&Gr(ye)===V.type)?(V=h(V,P.props),ll(V,P),V.return=L,V):(V=Yc(P.type,P.key,P.props,null,L.mode,X),ll(V,P),V.return=L,V)}function z(L,V,P,X){return V===null||V.tag!==4||V.stateNode.containerInfo!==P.containerInfo||V.stateNode.implementation!==P.implementation?(V=Ef(P,L.mode,X),V.return=L,V):(V=h(V,P.children||[]),V.return=L,V)}function K(L,V,P,X,ye){return V===null||V.tag!==7?(V=zr(P,L.mode,X,ye),V.return=L,V):(V=h(V,P),V.return=L,V)}function J(L,V,P){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Tf(""+V,L.mode,P),V.return=L,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case B:return P=Yc(V.type,V.key,V.props,null,L.mode,P),ll(P,V),P.return=L,P;case $:return V=Ef(V,L.mode,P),V.return=L,V;case x:return V=Gr(V),J(L,V,P)}if(Te(V)||D(V))return V=zr(V,L.mode,P,null),V.return=L,V;if(typeof V.then=="function")return J(L,tu(V),P);if(V.$$typeof===le)return J(L,Jc(L,V),P);nu(L,V)}return null}function q(L,V,P,X){var ye=V!==null?V.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ye!==null?null:T(L,V,""+P,X);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case B:return P.key===ye?M(L,V,P,X):null;case $:return P.key===ye?z(L,V,P,X):null;case x:return P=Gr(P),q(L,V,P,X)}if(Te(P)||D(P))return ye!==null?null:K(L,V,P,X,null);if(typeof P.then=="function")return q(L,V,tu(P),X);if(P.$$typeof===le)return q(L,V,Jc(L,P),X);nu(L,P)}return null}function G(L,V,P,X,ye){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return L=L.get(P)||null,T(V,L,""+X,ye);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case B:return L=L.get(X.key===null?P:X.key)||null,M(V,L,X,ye);case $:return L=L.get(X.key===null?P:X.key)||null,z(V,L,X,ye);case x:return X=Gr(X),G(L,V,P,X,ye)}if(Te(X)||D(X))return L=L.get(P)||null,K(V,L,X,ye,null);if(typeof X.then=="function")return G(L,V,P,tu(X),ye);if(X.$$typeof===le)return G(L,V,P,Jc(V,X),ye);nu(V,X)}return null}function fe(L,V,P,X){for(var ye=null,Fe=null,me=V,Oe=V=0,je=null;me!==null&&Oe<P.length;Oe++){me.index>Oe?(je=me,me=null):je=me.sibling;var Ge=q(L,me,P[Oe],X);if(Ge===null){me===null&&(me=je);break}t&&me&&Ge.alternate===null&&i(L,me),V=d(Ge,V,Oe),Fe===null?ye=Ge:Fe.sibling=Ge,Fe=Ge,me=je}if(Oe===P.length)return a(L,me),ze&&Ki(L,Oe),ye;if(me===null){for(;Oe<P.length;Oe++)me=J(L,P[Oe],X),me!==null&&(V=d(me,V,Oe),Fe===null?ye=me:Fe.sibling=me,Fe=me);return ze&&Ki(L,Oe),ye}for(me=l(me);Oe<P.length;Oe++)je=G(me,L,Oe,P[Oe],X),je!==null&&(t&&je.alternate!==null&&me.delete(je.key===null?Oe:je.key),V=d(je,V,Oe),Fe===null?ye=je:Fe.sibling=je,Fe=je);return t&&me.forEach(function(Zs){return i(L,Zs)}),ze&&Ki(L,Oe),ye}function ve(L,V,P,X){if(P==null)throw Error(r(151));for(var ye=null,Fe=null,me=V,Oe=V=0,je=null,Ge=P.next();me!==null&&!Ge.done;Oe++,Ge=P.next()){me.index>Oe?(je=me,me=null):je=me.sibling;var Zs=q(L,me,Ge.value,X);if(Zs===null){me===null&&(me=je);break}t&&me&&Zs.alternate===null&&i(L,me),V=d(Zs,V,Oe),Fe===null?ye=Zs:Fe.sibling=Zs,Fe=Zs,me=je}if(Ge.done)return a(L,me),ze&&Ki(L,Oe),ye;if(me===null){for(;!Ge.done;Oe++,Ge=P.next())Ge=J(L,Ge.value,X),Ge!==null&&(V=d(Ge,V,Oe),Fe===null?ye=Ge:Fe.sibling=Ge,Fe=Ge);return ze&&Ki(L,Oe),ye}for(me=l(me);!Ge.done;Oe++,Ge=P.next())Ge=G(me,L,Oe,Ge.value,X),Ge!==null&&(t&&Ge.alternate!==null&&me.delete(Ge.key===null?Oe:Ge.key),V=d(Ge,V,Oe),Fe===null?ye=Ge:Fe.sibling=Ge,Fe=Ge);return t&&me.forEach(function(r1){return i(L,r1)}),ze&&Ki(L,Oe),ye}function nt(L,V,P,X){if(typeof P=="object"&&P!==null&&P.type===W&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case B:e:{for(var ye=P.key;V!==null;){if(V.key===ye){if(ye=P.type,ye===W){if(V.tag===7){a(L,V.sibling),X=h(V,P.props.children),X.return=L,L=X;break e}}else if(V.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===x&&Gr(ye)===V.type){a(L,V.sibling),X=h(V,P.props),ll(X,P),X.return=L,L=X;break e}a(L,V);break}else i(L,V);V=V.sibling}P.type===W?(X=zr(P.props.children,L.mode,X,P.key),X.return=L,L=X):(X=Yc(P.type,P.key,P.props,null,L.mode,X),ll(X,P),X.return=L,L=X)}return _(L);case $:e:{for(ye=P.key;V!==null;){if(V.key===ye)if(V.tag===4&&V.stateNode.containerInfo===P.containerInfo&&V.stateNode.implementation===P.implementation){a(L,V.sibling),X=h(V,P.children||[]),X.return=L,L=X;break e}else{a(L,V);break}else i(L,V);V=V.sibling}X=Ef(P,L.mode,X),X.return=L,L=X}return _(L);case x:return P=Gr(P),nt(L,V,P,X)}if(Te(P))return fe(L,V,P,X);if(D(P)){if(ye=D(P),typeof ye!="function")throw Error(r(150));return P=ye.call(P),ve(L,V,P,X)}if(typeof P.then=="function")return nt(L,V,tu(P),X);if(P.$$typeof===le)return nt(L,V,Jc(L,P),X);nu(L,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,V!==null&&V.tag===6?(a(L,V.sibling),X=h(V,P),X.return=L,L=X):(a(L,V),X=Tf(P,L.mode,X),X.return=L,L=X),_(L)):a(L,V)}return function(L,V,P,X){try{ol=0;var ye=nt(L,V,P,X);return ja=null,ye}catch(me){if(me===ka||me===Wc)throw me;var Fe=vn(29,me,null,L.mode);return Fe.lanes=X,Fe.return=L,Fe}}}var Kr=Pg(!0),zg=Pg(!1),ks=!1;function Vf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function js(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ls(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ke&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Kc(t),wg(t,null,a),i}return Qc(t,l,i,a),Kc(t)}function cl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,jo(t,a)}}function jf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Lf=!1;function ul(){if(Lf){var t=Va;if(t!==null)throw t}}function hl(t,i,a,l){Lf=!1;var h=t.updateQueue;ks=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var M=T,z=M.next;M.next=null,_===null?d=z:_.next=z,_=M;var K=t.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==_&&(T===null?K.firstBaseUpdate=z:T.next=z,K.lastBaseUpdate=M))}if(d!==null){var J=h.baseState;_=0,K=z=M=null,T=d;do{var q=T.lane&-536870913,G=q!==T.lane;if(G?(ke&q)===q:(l&q)===q){q!==0&&q===Ma&&(Lf=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var fe=t,ve=T;q=i;var nt=a;switch(ve.tag){case 1:if(fe=ve.payload,typeof fe=="function"){J=fe.call(nt,J,q);break e}J=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=ve.payload,q=typeof fe=="function"?fe.call(nt,J,q):fe,q==null)break e;J=S({},J,q);break e;case 2:ks=!0}}q=T.callback,q!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[q]:G.push(q))}else G={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(z=K=G,M=J):K=K.next=G,_|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;G=T,T=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);K===null&&(M=J),h.baseState=M,h.firstBaseUpdate=z,h.lastBaseUpdate=K,d===null&&(h.shared.lanes=0),qs|=_,t.lanes=_,t.memoizedState=J}}function Bg(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function qg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Bg(a[t],i)}var La=O(null),iu=O(0);function Hg(t,i){t=ss,Q(iu,t),Q(La,i),ss=t|i.baseLanes}function Uf(){Q(iu,ss),Q(La,La.current)}function Pf(){ss=iu.current,j(La),j(iu)}var bn=O(null),zn=null;function Us(t){var i=t.alternate;Q(yt,yt.current&1),Q(bn,t),zn===null&&(i===null||La.current!==null||i.memoizedState!==null)&&(zn=t)}function zf(t){Q(yt,yt.current),Q(bn,t),zn===null&&(zn=t)}function Fg(t){t.tag===22?(Q(yt,yt.current),Q(bn,t),zn===null&&(zn=t)):Ps()}function Ps(){Q(yt,yt.current),Q(bn,bn.current)}function Tn(t){j(bn),zn===t&&(zn=null),j(yt)}var yt=O(0);function su(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Qd(a)||Kd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var $i=0,De=null,et=null,xt=null,ru=!1,Ua=!1,Yr=!1,au=0,fl=0,Pa=null,Xw=0;function ft(){throw Error(r(321))}function Bf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!_n(t[a],i[a]))return!1;return!0}function qf(t,i,a,l,h,d){return $i=d,De=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,H.H=t===null||t.memoizedState===null?Ry:id,Yr=!1,d=a(l,h),Yr=!1,Ua&&(d=Qg(i,a,l,h)),Gg(t),d}function Gg(t){H.H=pl;var i=et!==null&&et.next!==null;if($i=0,xt=et=De=null,ru=!1,fl=0,Pa=null,i)throw Error(r(300));t===null||Rt||(t=t.dependencies,t!==null&&$c(t)&&(Rt=!0))}function Qg(t,i,a,l){De=t;var h=0;do{if(Ua&&(Pa=null),fl=0,Ua=!1,25<=h)throw Error(r(301));if(h+=1,xt=et=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}H.H=Iy,d=i(a,l)}while(Ua);return d}function $w(){var t=H.H,i=t.useState()[0];return i=typeof i.then=="function"?dl(i):i,t=t.useState()[0],(et!==null?et.memoizedState:null)!==t&&(De.flags|=1024),i}function Hf(){var t=au!==0;return au=0,t}function Ff(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Gf(t){if(ru){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ru=!1}$i=0,xt=et=De=null,Ua=!1,fl=au=0,Pa=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?De.memoizedState=xt=t:xt=xt.next=t,xt}function _t(){if(et===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var i=xt===null?De.memoizedState:xt.next;if(i!==null)xt=i,et=t;else{if(t===null)throw De.alternate===null?Error(r(467)):Error(r(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},xt===null?De.memoizedState=xt=t:xt=xt.next=t}return xt}function ou(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dl(t){var i=fl;return fl+=1,Pa===null&&(Pa=[]),t=jg(Pa,t,i),i=De,(xt===null?i.memoizedState:xt.next)===null&&(i=i.alternate,H.H=i===null||i.memoizedState===null?Ry:id),t}function lu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return dl(t);if(t.$$typeof===le)return Ht(t)}throw Error(r(438,String(t)))}function Qf(t){var i=null,a=De.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=ou(),De.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=k;return i.index++,a}function Ji(t,i){return typeof i=="function"?i(t):i}function cu(t){var i=_t();return Kf(i,et,t)}function Kf(t,i,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=_=null,M=null,z=i,K=!1;do{var J=z.lane&-536870913;if(J!==z.lane?(ke&J)===J:($i&J)===J){var q=z.revertLane;if(q===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),J===Ma&&(K=!0);else if(($i&q)===q){z=z.next,q===Ma&&(K=!0);continue}else J={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},M===null?(T=M=J,_=d):M=M.next=J,De.lanes|=q,qs|=q;J=z.action,Yr&&a(d,J),d=z.hasEagerState?z.eagerState:a(d,J)}else q={lane:J,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},M===null?(T=M=q,_=d):M=M.next=q,De.lanes|=J,qs|=J;z=z.next}while(z!==null&&z!==i);if(M===null?_=d:M.next=T,!_n(d,t.memoizedState)&&(Rt=!0,K&&(a=Va,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=M,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Yf(t){var i=_t(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);_n(d,i.memoizedState)||(Rt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Kg(t,i,a){var l=De,h=_t(),d=ze;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!_n((et||h).memoizedState,a);if(_&&(h.memoizedState=a,Rt=!0),h=h.queue,Jf($g.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||xt!==null&&xt.memoizedState.tag&1){if(l.flags|=2048,za(9,{destroy:void 0},Xg.bind(null,l,h,a,i),null),st===null)throw Error(r(349));d||($i&127)!==0||Yg(l,i,a)}return a}function Yg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=De.updateQueue,i===null?(i=ou(),De.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Xg(t,i,a,l){i.value=a,i.getSnapshot=l,Jg(i)&&Zg(t)}function $g(t,i,a){return a(function(){Jg(i)&&Zg(t)})}function Jg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!_n(t,a)}catch{return!0}}function Zg(t){var i=Pr(t,2);i!==null&&mn(i,t,2)}function Xf(t){var i=nn();if(typeof t=="function"){var a=t;if(t=a(),Yr){Nn(!0);try{a()}finally{Nn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:t},i}function Wg(t,i,a,l){return t.baseState=a,Kf(t,et,typeof l=="function"?l:Ji)}function Jw(t,i,a,l,h){if(fu(t))throw Error(r(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};H.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,ey(i,d)):(d.next=a.next,i.pending=a.next=d)}}function ey(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=H.T,_={};H.T=_;try{var T=a(h,l),M=H.S;M!==null&&M(_,T),ty(t,i,T)}catch(z){$f(t,i,z)}finally{d!==null&&_.types!==null&&(d.types=_.types),H.T=d}}else try{d=a(h,l),ty(t,i,d)}catch(z){$f(t,i,z)}}function ty(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ny(t,i,l)},function(l){return $f(t,i,l)}):ny(t,i,a)}function ny(t,i,a){i.status="fulfilled",i.value=a,iy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,ey(t,a)))}function $f(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,iy(i),i=i.next;while(i!==l)}t.action=null}function iy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function sy(t,i){return i}function ry(t,i){if(ze){var a=st.formState;if(a!==null){e:{var l=De;if(ze){if(rt){t:{for(var h=rt,d=Pn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Bn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){rt=Bn(h.nextSibling),l=h.data==="F!";break e}}Ms(l)}l=!1}l&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sy,lastRenderedState:i},a.queue=l,a=Sy.bind(null,De,l),l.dispatch=a,l=Xf(!1),d=nd.bind(null,De,!1,l.queue),l=nn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=Jw.bind(null,De,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function ay(t){var i=_t();return oy(i,et,t)}function oy(t,i,a){if(i=Kf(t,i,sy)[0],t=cu(Ji)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=dl(i)}catch(_){throw _===ka?Wc:_}else l=i;i=_t();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(De.flags|=2048,za(9,{destroy:void 0},Zw.bind(null,h,a),null)),[l,d,t]}function Zw(t,i){t.action=i}function ly(t){var i=_t(),a=et;if(a!==null)return oy(i,a,t);_t(),i=i.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function za(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=De.updateQueue,i===null&&(i=ou(),De.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function cy(){return _t().memoizedState}function uu(t,i,a,l){var h=nn();De.flags|=t,h.memoizedState=za(1|i,{destroy:void 0},a,l===void 0?null:l)}function hu(t,i,a,l){var h=_t();l=l===void 0?null:l;var d=h.memoizedState.inst;et!==null&&l!==null&&Bf(l,et.memoizedState.deps)?h.memoizedState=za(i,d,a,l):(De.flags|=t,h.memoizedState=za(1|i,d,a,l))}function uy(t,i){uu(8390656,8,t,i)}function Jf(t,i){hu(2048,8,t,i)}function Ww(t){De.flags|=4;var i=De.updateQueue;if(i===null)i=ou(),De.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function hy(t){var i=_t().memoizedState;return Ww({ref:i,nextImpl:t}),function(){if((Ke&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function fy(t,i){return hu(4,2,t,i)}function dy(t,i){return hu(4,4,t,i)}function my(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function py(t,i,a){a=a!=null?a.concat([t]):null,hu(4,4,my.bind(null,i,t),a)}function Zf(){}function gy(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Bf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function yy(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Bf(i,l[1]))return l[0];if(l=t(),Yr){Nn(!0);try{t()}finally{Nn(!1)}}return a.memoizedState=[l,i],l}function Wf(t,i,a){return a===void 0||($i&1073741824)!==0&&(ke&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=__(),De.lanes|=t,qs|=t,a)}function _y(t,i,a,l){return _n(a,i)?a:La.current!==null?(t=Wf(t,a,l),_n(t,i)||(Rt=!0),t):($i&42)===0||($i&1073741824)!==0&&(ke&261930)===0?(Rt=!0,t.memoizedState=a):(t=__(),De.lanes|=t,qs|=t,i)}function vy(t,i,a,l,h){var d=ee.p;ee.p=d!==0&&8>d?d:8;var _=H.T,T={};H.T=T,nd(t,!1,i,a);try{var M=h(),z=H.S;if(z!==null&&z(T,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var K=Yw(M,l);ml(t,i,K,Sn(t))}else ml(t,i,l,Sn(t))}catch(J){ml(t,i,{then:function(){},status:"rejected",reason:J},Sn())}finally{ee.p=d,_!==null&&T.types!==null&&(_.types=T.types),H.T=_}}function eS(){}function ed(t,i,a,l){if(t.tag!==5)throw Error(r(476));var h=by(t).queue;vy(t,h,i,ue,a===null?eS:function(){return Ty(t),a(l)})}function by(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:ue},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Ty(t){var i=by(t);i.next===null&&(i=t.alternate.memoizedState),ml(t,i.next.queue,{},Sn())}function td(){return Ht(Dl)}function Ey(){return _t().memoizedState}function wy(){return _t().memoizedState}function tS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Sn();t=js(a);var l=Ls(i,t,a);l!==null&&(mn(l,i,a),cl(l,i,a)),i={cache:Nf()},t.payload=i;return}i=i.return}}function nS(t,i,a){var l=Sn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},fu(t)?Ay(i,a):(a=vf(t,i,a,l),a!==null&&(mn(a,t,l),xy(a,i,l)))}function Sy(t,i,a){var l=Sn();ml(t,i,a,l)}function ml(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(fu(t))Ay(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,_n(T,_))return Qc(t,i,h,0),st===null&&Gc(),!1}catch{}if(a=vf(t,i,h,l),a!==null)return mn(a,t,l),xy(a,i,l),!0}return!1}function nd(t,i,a,l){if(l={lane:2,revertLane:Vd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},fu(t)){if(i)throw Error(r(479))}else i=vf(t,a,l,2),i!==null&&mn(i,t,2)}function fu(t){var i=t.alternate;return t===De||i!==null&&i===De}function Ay(t,i){Ua=ru=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function xy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,jo(t,a)}}var pl={readContext:Ht,use:lu,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};pl.useEffectEvent=ft;var Ry={readContext:Ht,use:lu,useCallback:function(t,i){return nn().memoizedState=[t,i===void 0?null:i],t},useContext:Ht,useEffect:uy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,uu(4194308,4,my.bind(null,i,t),a)},useLayoutEffect:function(t,i){return uu(4194308,4,t,i)},useInsertionEffect:function(t,i){uu(4,2,t,i)},useMemo:function(t,i){var a=nn();i=i===void 0?null:i;var l=t();if(Yr){Nn(!0);try{t()}finally{Nn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=nn();if(a!==void 0){var h=a(i);if(Yr){Nn(!0);try{a(i)}finally{Nn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=nS.bind(null,De,t),[l.memoizedState,t]},useRef:function(t){var i=nn();return t={current:t},i.memoizedState=t},useState:function(t){t=Xf(t);var i=t.queue,a=Sy.bind(null,De,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Zf,useDeferredValue:function(t,i){var a=nn();return Wf(a,t,i)},useTransition:function(){var t=Xf(!1);return t=vy.bind(null,De,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=De,h=nn();if(ze){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),st===null)throw Error(r(349));(ke&127)!==0||Yg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,uy($g.bind(null,l,d,t),[t]),l.flags|=2048,za(9,{destroy:void 0},Xg.bind(null,l,d,a,i),null),a},useId:function(){var t=nn(),i=st.identifierPrefix;if(ze){var a=Ci,l=Ii;a=(l&~(1<<32-pt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=au++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=Xw++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:td,useFormState:ry,useActionState:ry,useOptimistic:function(t){var i=nn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=nd.bind(null,De,!0,a),a.dispatch=i,[t,i]},useMemoCache:Qf,useCacheRefresh:function(){return nn().memoizedState=tS.bind(null,De)},useEffectEvent:function(t){var i=nn(),a={impl:t};return i.memoizedState=a,function(){if((Ke&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},id={readContext:Ht,use:lu,useCallback:gy,useContext:Ht,useEffect:Jf,useImperativeHandle:py,useInsertionEffect:fy,useLayoutEffect:dy,useMemo:yy,useReducer:cu,useRef:cy,useState:function(){return cu(Ji)},useDebugValue:Zf,useDeferredValue:function(t,i){var a=_t();return _y(a,et.memoizedState,t,i)},useTransition:function(){var t=cu(Ji)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:dl(t),i]},useSyncExternalStore:Kg,useId:Ey,useHostTransitionStatus:td,useFormState:ay,useActionState:ay,useOptimistic:function(t,i){var a=_t();return Wg(a,et,t,i)},useMemoCache:Qf,useCacheRefresh:wy};id.useEffectEvent=hy;var Iy={readContext:Ht,use:lu,useCallback:gy,useContext:Ht,useEffect:Jf,useImperativeHandle:py,useInsertionEffect:fy,useLayoutEffect:dy,useMemo:yy,useReducer:Yf,useRef:cy,useState:function(){return Yf(Ji)},useDebugValue:Zf,useDeferredValue:function(t,i){var a=_t();return et===null?Wf(a,t,i):_y(a,et.memoizedState,t,i)},useTransition:function(){var t=Yf(Ji)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:dl(t),i]},useSyncExternalStore:Kg,useId:Ey,useHostTransitionStatus:td,useFormState:ly,useActionState:ly,useOptimistic:function(t,i){var a=_t();return et!==null?Wg(a,et,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Qf,useCacheRefresh:wy};Iy.useEffectEvent=hy;function sd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:S({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var rd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Sn(),h=js(l);h.payload=i,a!=null&&(h.callback=a),i=Ls(t,h,l),i!==null&&(mn(i,t,l),cl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Sn(),h=js(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ls(t,h,l),i!==null&&(mn(i,t,l),cl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Sn(),l=js(a);l.tag=2,i!=null&&(l.callback=i),i=Ls(t,l,a),i!==null&&(mn(i,t,a),cl(i,t,a))}};function Cy(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!tl(a,l)||!tl(h,d):!0}function Ny(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&rd.enqueueReplaceState(i,i.state,null)}function Xr(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Dy(t){Fc(t)}function Oy(t){console.error(t)}function My(t){Fc(t)}function du(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Vy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ad(t,i,a){return a=js(a),a.tag=3,a.payload={element:null},a.callback=function(){du(t,i)},a}function ky(t){return t=js(t),t.tag=3,t}function jy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Vy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Vy(i,a,l),typeof h!="function"&&(Hs===null?Hs=new Set([this]):Hs.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function iS(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Oa(i,a,h,!0),a=bn.current,a!==null){switch(a.tag){case 31:case 13:return zn===null?Au():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===eu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Dd(t,l,h)),!1;case 22:return a.flags|=65536,l===eu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Dd(t,l,h)),!1}throw Error(r(435,a.tag))}return Dd(t,l,h),Au(),!1}if(ze)return i=bn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Af&&(t=Error(r(422),{cause:l}),sl(jn(t,a)))):(l!==Af&&(i=Error(r(423),{cause:l}),sl(jn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=jn(l,a),h=ad(t.stateNode,l,h),jf(t,h),dt!==4&&(dt=2)),!1;var d=Error(r(520),{cause:l});if(d=jn(d,a),wl===null?wl=[d]:wl.push(d),dt!==4&&(dt=2),i===null)return!0;l=jn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=ad(a.stateNode,l,t),jf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Hs===null||!Hs.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ky(h),jy(h,t,a,l),jf(a,h),!1}a=a.return}while(a!==null);return!1}var od=Error(r(461)),Rt=!1;function Ft(t,i,a,l){i.child=t===null?zg(i,null,a,l):Kr(i,t.child,a,l)}function Ly(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Hr(i),l=qf(t,i,a,_,d,h),T=Hf(),t!==null&&!Rt?(Ff(t,i,h),Zi(t,i,h)):(ze&&T&&wf(i),i.flags|=1,Ft(t,i,l,h),i.child)}function Uy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!bf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Py(t,i,d,l,h)):(t=Yc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!pd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:tl,a(_,l)&&t.ref===i.ref)return Zi(t,i,h)}return i.flags|=1,t=Qi(d,l),t.ref=i.ref,t.return=i,i.child=t}function Py(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(tl(d,l)&&t.ref===i.ref)if(Rt=!1,i.pendingProps=l=d,pd(t,h))(t.flags&131072)!==0&&(Rt=!0);else return i.lanes=t.lanes,Zi(t,i,h)}return ld(t,i,a,l,h)}function zy(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return By(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Zc(i,d!==null?d.cachePool:null),d!==null?Hg(i,d):Uf(),Fg(i);else return l=i.lanes=536870912,By(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Zc(i,d.cachePool),Hg(i,d),Ps(),i.memoizedState=null):(t!==null&&Zc(i,null),Uf(),Ps());return Ft(t,i,h,a),i.child}function gl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function By(t,i,a,l,h){var d=Of();return d=d===null?null:{parent:At._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Zc(i,null),Uf(),Fg(i),t!==null&&Oa(t,i,l,!0),i.childLanes=h,null}function mu(t,i){return i=gu({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function qy(t,i,a){return Kr(i,t.child,null,a),t=mu(i,i.pendingProps),t.flags|=2,Tn(i),i.memoizedState=null,t}function sS(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(ze){if(l.mode==="hidden")return t=mu(i,l),i.lanes=536870912,gl(null,t);if(zf(i),(t=rt)?(t=e0(t,Pn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ds!==null?{id:Ii,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},a=Ag(t),a.return=i,i.child=a,qt=i,rt=null)):t=null,t===null)throw Ms(i);return i.lanes=536870912,null}return mu(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(zf(i),h)if(i.flags&256)i.flags&=-257,i=qy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(Rt||Oa(t,i,a,!1),h=(a&t.childLanes)!==0,Rt||h){if(l=st,l!==null&&(_=Lo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Pr(t,_),mn(l,t,_),od;Au(),i=qy(t,i,a)}else t=d.treeContext,rt=Bn(_.nextSibling),qt=i,ze=!0,Os=null,Pn=!1,t!==null&&Ig(i,t),i=mu(i,l),i.flags|=4096;return i}return t=Qi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function pu(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function ld(t,i,a,l,h){return Hr(i),a=qf(t,i,a,l,void 0,h),l=Hf(),t!==null&&!Rt?(Ff(t,i,h),Zi(t,i,h)):(ze&&l&&wf(i),i.flags|=1,Ft(t,i,a,h),i.child)}function Hy(t,i,a,l,h,d){return Hr(i),i.updateQueue=null,a=Qg(i,l,a,h),Gg(t),l=Hf(),t!==null&&!Rt?(Ff(t,i,d),Zi(t,i,d)):(ze&&l&&wf(i),i.flags|=1,Ft(t,i,a,d),i.child)}function Fy(t,i,a,l,h){if(Hr(i),i.stateNode===null){var d=Ia,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ht(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=rd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Vf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ht(_):Ia,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(sd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&rd.enqueueReplaceState(d,d.state,null),hl(i,l,d,h),ul(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,M=Xr(a,T);d.props=M;var z=d.context,K=a.contextType;_=Ia,typeof K=="object"&&K!==null&&(_=Ht(K));var J=a.getDerivedStateFromProps;K=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||z!==_)&&Ny(i,d,l,_),ks=!1;var q=i.memoizedState;d.state=q,hl(i,l,d,h),ul(),z=i.memoizedState,T||q!==z||ks?(typeof J=="function"&&(sd(i,a,J,l),z=i.memoizedState),(M=ks||Cy(i,a,M,l,q,z,_))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=_,l=M):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,kf(t,i),_=i.memoizedProps,K=Xr(a,_),d.props=K,J=i.pendingProps,q=d.context,z=a.contextType,M=Ia,typeof z=="object"&&z!==null&&(M=Ht(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==J||q!==M)&&Ny(i,d,l,M),ks=!1,q=i.memoizedState,d.state=q,hl(i,l,d,h),ul();var G=i.memoizedState;_!==J||q!==G||ks||t!==null&&t.dependencies!==null&&$c(t.dependencies)?(typeof T=="function"&&(sd(i,a,T,l),G=i.memoizedState),(K=ks||Cy(i,a,K,l,q,G,M)||t!==null&&t.dependencies!==null&&$c(t.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,M),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,M)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=G),d.props=l,d.state=G,d.context=M,l=K):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,pu(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Kr(i,t.child,null,h),i.child=Kr(i,null,a,h)):Ft(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Zi(t,i,h),t}function Gy(t,i,a,l){return Br(),i.flags|=256,Ft(t,i,a,l),i.child}var cd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ud(t){return{baseLanes:t,cachePool:Vg()}}function hd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=wn),t}function Qy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(ze){if(h?Us(i):Ps(),(t=rt)?(t=e0(t,Pn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ds!==null?{id:Ii,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},a=Ag(t),a.return=i,i.child=a,qt=i,rt=null)):t=null,t===null)throw Ms(i);return Kd(t)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Ps(),h=i.mode,T=gu({mode:"hidden",children:T},h),l=zr(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=ud(a),l.childLanes=hd(t,_,a),i.memoizedState=cd,gl(null,l)):(Us(i),fd(i,T))}var M=t.memoizedState;if(M!==null&&(T=M.dehydrated,T!==null)){if(d)i.flags&256?(Us(i),i.flags&=-257,i=dd(t,i,a)):i.memoizedState!==null?(Ps(),i.child=t.child,i.flags|=128,i=null):(Ps(),T=l.fallback,h=i.mode,l=gu({mode:"visible",children:l.children},h),T=zr(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,Kr(i,t.child,null,a),l=i.child,l.memoizedState=ud(a),l.childLanes=hd(t,_,a),i.memoizedState=cd,i=gl(null,l));else if(Us(i),Kd(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(r(419)),l.stack="",l.digest=_,sl({value:l,source:null,stack:null}),i=dd(t,i,a)}else if(Rt||Oa(t,i,a,!1),_=(a&t.childLanes)!==0,Rt||_){if(_=st,_!==null&&(l=Lo(_,a),l!==0&&l!==M.retryLane))throw M.retryLane=l,Pr(t,l),mn(_,t,l),od;Qd(T)||Au(),i=dd(t,i,a)}else Qd(T)?(i.flags|=192,i.child=t.child,i=null):(t=M.treeContext,rt=Bn(T.nextSibling),qt=i,ze=!0,Os=null,Pn=!1,t!==null&&Ig(i,t),i=fd(i,l.children),i.flags|=4096);return i}return h?(Ps(),T=l.fallback,h=i.mode,M=t.child,z=M.sibling,l=Qi(M,{mode:"hidden",children:l.children}),l.subtreeFlags=M.subtreeFlags&65011712,z!==null?T=Qi(z,T):(T=zr(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,gl(null,l),l=i.child,T=t.child.memoizedState,T===null?T=ud(a):(h=T.cachePool,h!==null?(M=At._currentValue,h=h.parent!==M?{parent:M,pool:M}:h):h=Vg(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=hd(t,_,a),i.memoizedState=cd,gl(t.child,l)):(Us(i),a=t.child,t=a.sibling,a=Qi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function fd(t,i){return i=gu({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function gu(t,i){return t=vn(22,t,null,i),t.lanes=0,t}function dd(t,i,a){return Kr(i,t.child,null,a),t=fd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Ky(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),If(t.return,i,a)}function md(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Yy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=yt.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,Q(yt,_),Ft(t,i,l,a),l=ze?il:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ky(t,a,i);else if(t.tag===19)Ky(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&su(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),md(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&su(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}md(i,!0,a,null,d,l);break;case"together":md(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Zi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),qs|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Oa(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=Qi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Qi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function pd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&$c(t)))}function rS(t,i,a){switch(i.tag){case 3:Be(i,i.stateNode.containerInfo),Vs(i,At,t.memoizedState.cache),Br();break;case 27:case 5:on(i);break;case 4:Be(i,i.stateNode.containerInfo);break;case 10:Vs(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,zf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Us(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Qy(t,i,a):(Us(i),t=Zi(t,i,a),t!==null?t.sibling:null);Us(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Oa(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Yy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Q(yt,yt.current),l)break;return null;case 22:return i.lanes=0,zy(t,i,a,i.pendingProps);case 24:Vs(i,At,t.memoizedState.cache)}return Zi(t,i,a)}function Xy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Rt=!0;else{if(!pd(t,a)&&(i.flags&128)===0)return Rt=!1,rS(t,i,a);Rt=(t.flags&131072)!==0}else Rt=!1,ze&&(i.flags&1048576)!==0&&Rg(i,il,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Gr(i.elementType),i.type=t,typeof t=="function")bf(t)?(l=Xr(t,l),i.tag=1,i=Fy(null,i,t,l,a)):(i.tag=0,i=ld(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===Re){i.tag=11,i=Ly(null,i,t,l,a);break e}else if(h===I){i.tag=14,i=Uy(null,i,t,l,a);break e}}throw i=Ae(t)||t,Error(r(306,i,""))}}return i;case 0:return ld(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Xr(l,i.pendingProps),Fy(t,i,l,h,a);case 3:e:{if(Be(i,i.stateNode.containerInfo),t===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,kf(t,i),hl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Vs(i,At,l),l!==d.cache&&Cf(i,[At],a,!0),ul(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Gy(t,i,l,a);break e}else if(l!==h){h=jn(Error(r(424)),i),sl(h),i=Gy(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,rt=Bn(t.firstChild),qt=i,ze=!0,Os=null,Pn=!0,a=zg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Br(),l===h){i=Zi(t,i,a);break e}Ft(t,i,l,a)}i=i.child}return i;case 26:return pu(t,i),t===null?(a=a0(i.type,null,i.pendingProps,null))?i.memoizedState=a:ze||(a=i.type,t=i.pendingProps,l=Ou(oe.current).createElement(a),l[Et]=i,l[kt]=t,Gt(l,a,t),wt(l),i.stateNode=l):i.memoizedState=a0(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return on(i),t===null&&ze&&(l=i.stateNode=i0(i.type,i.pendingProps,oe.current),qt=i,Pn=!0,h=rt,Ks(i.type)?(Yd=h,rt=Bn(l.firstChild)):rt=h),Ft(t,i,i.pendingProps.children,a),pu(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ze&&((h=l=rt)&&(l=kS(l,i.type,i.pendingProps,Pn),l!==null?(i.stateNode=l,qt=i,rt=Bn(l.firstChild),Pn=!1,h=!0):h=!1),h||Ms(i)),on(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Hd(h,d)?l=null:_!==null&&Hd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=qf(t,i,$w,null,null,a),Dl._currentValue=h),pu(t,i),Ft(t,i,l,a),i.child;case 6:return t===null&&ze&&((t=a=rt)&&(a=jS(a,i.pendingProps,Pn),a!==null?(i.stateNode=a,qt=i,rt=null,t=!0):t=!1),t||Ms(i)),null;case 13:return Qy(t,i,a);case 4:return Be(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Kr(i,null,l,a):Ft(t,i,l,a),i.child;case 11:return Ly(t,i,i.type,i.pendingProps,a);case 7:return Ft(t,i,i.pendingProps,a),i.child;case 8:return Ft(t,i,i.pendingProps.children,a),i.child;case 12:return Ft(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Vs(i,i.type,l.value),Ft(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Hr(i),h=Ht(h),l=l(h),i.flags|=1,Ft(t,i,l,a),i.child;case 14:return Uy(t,i,i.type,i.pendingProps,a);case 15:return Py(t,i,i.type,i.pendingProps,a);case 19:return Yy(t,i,a);case 31:return sS(t,i,a);case 22:return zy(t,i,a,i.pendingProps);case 24:return Hr(i),l=Ht(At),t===null?(h=Of(),h===null&&(h=st,d=Nf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Vf(i),Vs(i,At,h)):((t.lanes&a)!==0&&(kf(t,i),hl(i,null,null,a),ul()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Vs(i,At,l)):(l=d.cache,Vs(i,At,l),l!==h.cache&&Cf(i,[At],a,!0))),Ft(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Wi(t){t.flags|=4}function gd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(E_())t.flags|=8192;else throw Qr=eu,Mf}else t.flags&=-16777217}function $y(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!h0(i))if(E_())t.flags|=8192;else throw Qr=eu,Mf}function yu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?wc():536870912,t.lanes|=i,Fa|=i)}function yl(t,i){if(!ze)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function at(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function aS(t,i,a){var l=i.pendingProps;switch(Sf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(i),null;case 1:return at(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Xi(At),Ze(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Da(i)?Wi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,xf())),at(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Wi(i),d!==null?(at(i),$y(i,d)):(at(i),gd(i,h,null,l,a))):d?d!==t.memoizedState?(Wi(i),at(i),$y(i,d)):(at(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Wi(i),at(i),gd(i,h,t,l,a)),null;case 27:if(ys(i),a=oe.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Wi(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return at(i),null}t=ne.current,Da(i)?Cg(i):(t=i0(h,l,a),i.stateNode=t,Wi(i))}return at(i),null;case 5:if(ys(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Wi(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return at(i),null}if(d=ne.current,Da(i))Cg(i);else{var _=Ou(oe.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Et]=i,d[kt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Gt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Wi(i)}}return at(i),gd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Wi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(t=oe.current,Da(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=qt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Et]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Q_(t.nodeValue,a)),t||Ms(i,!0)}else t=Ou(t).createTextNode(l),t[Et]=i,i.stateNode=t}return at(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Da(i),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Et]=i}else Br(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),t=!1}else a=xf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Tn(i),i):(Tn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return at(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Da(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Et]=i}else Br(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),h=!1}else h=xf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Tn(i),i):(Tn(i),null)}return Tn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),yu(i,i.updateQueue),at(i),null);case 4:return Ze(),t===null&&Ud(i.stateNode.containerInfo),at(i),null;case 10:return Xi(i.type),at(i),null;case 19:if(j(yt),l=i.memoizedState,l===null)return at(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)yl(l,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=su(t),d!==null){for(i.flags|=128,yl(l,!1),t=d.updateQueue,i.updateQueue=t,yu(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Sg(a,t),a=a.sibling;return Q(yt,yt.current&1|2),ze&&Ki(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&en()>Eu&&(i.flags|=128,h=!0,yl(l,!1),i.lanes=4194304)}else{if(!h)if(t=su(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,yu(i,t),yl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!ze)return at(i),null}else 2*en()-l.renderingStartTime>Eu&&a!==536870912&&(i.flags|=128,h=!0,yl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=en(),t.sibling=null,a=yt.current,Q(yt,h?a&1|2:a&1),ze&&Ki(i,l.treeForkCount),t):(at(i),null);case 22:case 23:return Tn(i),Pf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(at(i),i.subtreeFlags&6&&(i.flags|=8192)):at(i),a=i.updateQueue,a!==null&&yu(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&j(Fr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Xi(At),at(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function oS(t,i){switch(Sf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Xi(At),Ze(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ys(i),null;case 31:if(i.memoizedState!==null){if(Tn(i),i.alternate===null)throw Error(r(340));Br()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Tn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Br()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return j(yt),null;case 4:return Ze(),null;case 10:return Xi(i.type),null;case 22:case 23:return Tn(i),Pf(),t!==null&&j(Fr),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Xi(At),null;case 25:return null;default:return null}}function Jy(t,i){switch(Sf(i),i.tag){case 3:Xi(At),Ze();break;case 26:case 27:case 5:ys(i);break;case 4:Ze();break;case 31:i.memoizedState!==null&&Tn(i);break;case 13:Tn(i);break;case 19:j(yt);break;case 10:Xi(i.type);break;case 22:case 23:Tn(i),Pf(),t!==null&&j(Fr);break;case 24:Xi(At)}}function _l(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Je(i,i.return,T)}}function zs(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var M=a,z=T;try{z()}catch(K){Je(h,M,K)}}}l=l.next}while(l!==d)}}catch(K){Je(i,i.return,K)}}function Zy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{qg(i,a)}catch(l){Je(t,t.return,l)}}}function Wy(t,i,a){a.props=Xr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Je(t,i,l)}}function vl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Je(t,i,h)}}function Ni(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Je(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Je(t,i,h)}else a.current=null}function e_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Je(t,t.return,h)}}function yd(t,i,a){try{var l=t.stateNode;CS(l,t.type,a,i),l[kt]=i}catch(h){Je(t,t.return,h)}}function t_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ks(t.type)||t.tag===4}function _d(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||t_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ks(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Xn));else if(l!==4&&(l===27&&Ks(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(vd(t,i,a),t=t.sibling;t!==null;)vd(t,i,a),t=t.sibling}function _u(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Ks(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(_u(t,i,a),t=t.sibling;t!==null;)_u(t,i,a),t=t.sibling}function n_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Gt(i,l,a),i[Et]=t,i[kt]=a}catch(d){Je(t,t.return,d)}}var es=!1,It=!1,bd=!1,i_=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function lS(t,i){if(t=t.containerInfo,Bd=Pu,t=pg(t),df(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,M=-1,z=0,K=0,J=t,q=null;t:for(;;){for(var G;J!==a||h!==0&&J.nodeType!==3||(T=_+h),J!==d||l!==0&&J.nodeType!==3||(M=_+l),J.nodeType===3&&(_+=J.nodeValue.length),(G=J.firstChild)!==null;)q=J,J=G;for(;;){if(J===t)break t;if(q===a&&++z===h&&(T=_),q===d&&++K===l&&(M=_),(G=J.nextSibling)!==null)break;J=q,q=J.parentNode}J=G}a=T===-1||M===-1?null:{start:T,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(qd={focusedElem:t,selectionRange:a},Pu=!1,Lt=i;Lt!==null;)if(i=Lt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Lt=t;else for(;Lt!==null;){switch(i=Lt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var fe=Xr(a.type,h);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){Je(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Gd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Gd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,Lt=t;break}Lt=i.return}}function s_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ns(t,a),l&4&&_l(5,a);break;case 1:if(ns(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Je(a,a.return,_)}else{var h=Xr(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Je(a,a.return,_)}}l&64&&Zy(a),l&512&&vl(a,a.return);break;case 3:if(ns(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{qg(t,i)}catch(_){Je(a,a.return,_)}}break;case 27:i===null&&l&4&&n_(a);case 26:case 5:ns(t,a),i===null&&l&4&&e_(a),l&512&&vl(a,a.return);break;case 12:ns(t,a);break;case 31:ns(t,a),l&4&&o_(t,a);break;case 13:ns(t,a),l&4&&l_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=yS.bind(null,a),LS(t,a))));break;case 22:if(l=a.memoizedState!==null||es,!l){i=i!==null&&i.memoizedState!==null||It,h=es;var d=It;es=l,(It=i)&&!d?is(t,a,(a.subtreeFlags&8772)!==0):ns(t,a),es=h,It=d}break;case 30:break;default:ns(t,a)}}function r_(t){var i=t.alternate;i!==null&&(t.alternate=null,r_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ma(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,un=!1;function ts(t,i,a){for(a=a.child;a!==null;)a_(t,i,a),a=a.sibling}function a_(t,i,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Gn,a)}catch{}switch(a.tag){case 26:It||Ni(a,i),ts(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:It||Ni(a,i);var l=ct,h=un;Ks(a.type)&&(ct=a.stateNode,un=!1),ts(t,i,a),Il(a.stateNode),ct=l,un=h;break;case 5:It||Ni(a,i);case 6:if(l=ct,h=un,ct=null,ts(t,i,a),ct=l,un=h,ct!==null)if(un)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(d){Je(a,i,d)}else try{ct.removeChild(a.stateNode)}catch(d){Je(a,i,d)}break;case 18:ct!==null&&(un?(t=ct,Z_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Za(t)):Z_(ct,a.stateNode));break;case 4:l=ct,h=un,ct=a.stateNode.containerInfo,un=!0,ts(t,i,a),ct=l,un=h;break;case 0:case 11:case 14:case 15:zs(2,a,i),It||zs(4,a,i),ts(t,i,a);break;case 1:It||(Ni(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Wy(a,i,l)),ts(t,i,a);break;case 21:ts(t,i,a);break;case 22:It=(l=It)||a.memoizedState!==null,ts(t,i,a),It=l;break;default:ts(t,i,a)}}function o_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Za(t)}catch(a){Je(i,i.return,a)}}}function l_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Za(t)}catch(a){Je(i,i.return,a)}}function cS(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new i_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new i_),i;default:throw Error(r(435,t.tag))}}function vu(t,i){var a=cS(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=_S.bind(null,t,l);l.then(h,h)}})}function hn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Ks(T.type)){ct=T.stateNode,un=!1;break e}break;case 5:ct=T.stateNode,un=!1;break e;case 3:case 4:ct=T.stateNode.containerInfo,un=!0;break e}T=T.return}if(ct===null)throw Error(r(160));a_(d,_,h),ct=null,un=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)c_(i,t),i=i.sibling}var ti=null;function c_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:hn(i,t),fn(t),l&4&&(zs(3,t,t.return),_l(3,t),zs(5,t,t.return));break;case 1:hn(i,t),fn(t),l&512&&(It||a===null||Ni(a,a.return)),l&64&&es&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ti;if(hn(i,t),fn(t),l&512&&(It||a===null||Ni(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[gi]||d[Et]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Gt(d,l,a),d[Et]=t,wt(d),l=d;break e;case"link":var _=c0("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=c0("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[Et]=t,wt(d),l=d}t.stateNode=l}else u0(h,t.type,t.stateNode);else t.stateNode=l0(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?u0(h,t.type,t.stateNode):l0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&yd(t,t.memoizedProps,a.memoizedProps)}break;case 27:hn(i,t),fn(t),l&512&&(It||a===null||Ni(a,a.return)),a!==null&&l&4&&yd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(hn(i,t),fn(t),l&512&&(It||a===null||Ni(a,a.return)),t.flags&32){h=t.stateNode;try{cn(h,"")}catch(fe){Je(t,t.return,fe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,yd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(bd=!0);break;case 6:if(hn(i,t),fn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){Je(t,t.return,fe)}}break;case 3:if(ku=null,h=ti,ti=Mu(i.containerInfo),hn(i,t),ti=h,fn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Za(i.containerInfo)}catch(fe){Je(t,t.return,fe)}bd&&(bd=!1,u_(t));break;case 4:l=ti,ti=Mu(t.stateNode.containerInfo),hn(i,t),fn(t),ti=l;break;case 12:hn(i,t),fn(t);break;case 31:hn(i,t),fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vu(t,l)));break;case 13:hn(i,t),fn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Tu=en()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vu(t,l)));break;case 22:h=t.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,z=es,K=It;if(es=z||h,It=K||M,hn(i,t),It=K,es=z,fn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||M||es||It||$r(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){M=a=i;try{if(d=M.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=M.stateNode;var J=M.memoizedProps.style,q=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(fe){Je(M,M.return,fe)}}}else if(i.tag===6){if(a===null){M=i;try{M.stateNode.nodeValue=h?"":M.memoizedProps}catch(fe){Je(M,M.return,fe)}}}else if(i.tag===18){if(a===null){M=i;try{var G=M.stateNode;h?W_(G,!0):W_(M.stateNode,!1)}catch(fe){Je(M,M.return,fe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,vu(t,a))));break;case 19:hn(i,t),fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vu(t,l)));break;case 30:break;case 21:break;default:hn(i,t),fn(t)}}function fn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(t_(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=_d(t);_u(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(cn(_,""),a.flags&=-33);var T=_d(t);_u(t,T,_);break;case 3:case 4:var M=a.stateNode.containerInfo,z=_d(t);vd(t,z,M);break;default:throw Error(r(161))}}catch(K){Je(t,t.return,K)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function u_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;u_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ns(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)s_(t,i.alternate,i),i=i.sibling}function $r(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:zs(4,i,i.return),$r(i);break;case 1:Ni(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Wy(i,i.return,a),$r(i);break;case 27:Il(i.stateNode);case 26:case 5:Ni(i,i.return),$r(i);break;case 22:i.memoizedState===null&&$r(i);break;case 30:$r(i);break;default:$r(i)}t=t.sibling}}function is(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:is(h,d,a),_l(4,d);break;case 1:if(is(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Je(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var M=h.shared.hiddenCallbacks;if(M!==null)for(h.shared.hiddenCallbacks=null,h=0;h<M.length;h++)Bg(M[h],T)}catch(z){Je(l,l.return,z)}}a&&_&64&&Zy(d),vl(d,d.return);break;case 27:n_(d);case 26:case 5:is(h,d,a),a&&l===null&&_&4&&e_(d),vl(d,d.return);break;case 12:is(h,d,a);break;case 31:is(h,d,a),a&&_&4&&o_(h,d);break;case 13:is(h,d,a),a&&_&4&&l_(h,d);break;case 22:d.memoizedState===null&&is(h,d,a),vl(d,d.return);break;case 30:break;default:is(h,d,a)}i=i.sibling}}function Td(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&rl(a))}function Ed(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&rl(t))}function ni(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)h_(t,i,a,l),i=i.sibling}function h_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ni(t,i,a,l),h&2048&&_l(9,i);break;case 1:ni(t,i,a,l);break;case 3:ni(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&rl(t)));break;case 12:if(h&2048){ni(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(M){Je(i,i.return,M)}}else ni(t,i,a,l);break;case 31:ni(t,i,a,l);break;case 13:ni(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ni(t,i,a,l):bl(t,i):d._visibility&2?ni(t,i,a,l):(d._visibility|=2,Ba(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Td(_,i);break;case 24:ni(t,i,a,l),h&2048&&Ed(i.alternate,i);break;default:ni(t,i,a,l)}}function Ba(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,T=a,M=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:Ba(d,_,T,M,h),_l(8,_);break;case 23:break;case 22:var K=_.stateNode;_.memoizedState!==null?K._visibility&2?Ba(d,_,T,M,h):bl(d,_):(K._visibility|=2,Ba(d,_,T,M,h)),h&&z&2048&&Td(_.alternate,_);break;case 24:Ba(d,_,T,M,h),h&&z&2048&&Ed(_.alternate,_);break;default:Ba(d,_,T,M,h)}i=i.sibling}}function bl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:bl(a,l),h&2048&&Td(l.alternate,l);break;case 24:bl(a,l),h&2048&&Ed(l.alternate,l);break;default:bl(a,l)}i=i.sibling}}var Tl=8192;function qa(t,i,a){if(t.subtreeFlags&Tl)for(t=t.child;t!==null;)f_(t,i,a),t=t.sibling}function f_(t,i,a){switch(t.tag){case 26:qa(t,i,a),t.flags&Tl&&t.memoizedState!==null&&XS(a,ti,t.memoizedState,t.memoizedProps);break;case 5:qa(t,i,a);break;case 3:case 4:var l=ti;ti=Mu(t.stateNode.containerInfo),qa(t,i,a),ti=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Tl,Tl=16777216,qa(t,i,a),Tl=l):qa(t,i,a));break;default:qa(t,i,a)}}function d_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function El(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Lt=l,p_(l,t)}d_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)m_(t),t=t.sibling}function m_(t){switch(t.tag){case 0:case 11:case 15:El(t),t.flags&2048&&zs(9,t,t.return);break;case 3:El(t);break;case 12:El(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,bu(t)):El(t);break;default:El(t)}}function bu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Lt=l,p_(l,t)}d_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:zs(8,i,i.return),bu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,bu(i));break;default:bu(i)}t=t.sibling}}function p_(t,i){for(;Lt!==null;){var a=Lt;switch(a.tag){case 0:case 11:case 15:zs(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:rl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Lt=l;else e:for(a=t;Lt!==null;){l=Lt;var h=l.sibling,d=l.return;if(r_(l),l===a){Lt=null;break e}if(h!==null){h.return=d,Lt=h;break e}Lt=d}}}var uS={getCacheForType:function(t){var i=Ht(At),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ht(At).controller.signal}},hS=typeof WeakMap=="function"?WeakMap:Map,Ke=0,st=null,Me=null,ke=0,$e=0,En=null,Bs=!1,Ha=!1,wd=!1,ss=0,dt=0,qs=0,Jr=0,Sd=0,wn=0,Fa=0,wl=null,dn=null,Ad=!1,Tu=0,g_=0,Eu=1/0,wu=null,Hs=null,Mt=0,Fs=null,Ga=null,rs=0,xd=0,Rd=null,y_=null,Sl=0,Id=null;function Sn(){return(Ke&2)!==0&&ke!==0?ke&-ke:H.T!==null?Vd():Sc()}function __(){if(wn===0)if((ke&536870912)===0||ze){var t=Sr;Sr<<=1,(Sr&3932160)===0&&(Sr=262144),wn=t}else wn=536870912;return t=bn.current,t!==null&&(t.flags|=32),wn}function mn(t,i,a){(t===st&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&(Qa(t,0),Gs(t,ke,wn,!1)),Ar(t,a),((Ke&2)===0||t!==st)&&(t===st&&((Ke&2)===0&&(Jr|=a),dt===4&&Gs(t,ke,wn,!1)),Di(t))}function v_(t,i,a){if((Ke&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Qn(t,i),h=l?mS(t,i):Nd(t,i,!0),d=l;do{if(h===0){Ha&&!l&&Gs(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!fS(a)){h=Nd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;h=wl;var M=T.current.memoizedState.isDehydrated;if(M&&(Qa(T,_).flags|=256),_=Nd(T,_,!1),_!==2){if(wd&&!M){T.errorRecoveryDisabledLanes|=d,Jr|=d,h=4;break e}d=dn,dn=h,d!==null&&(dn===null?dn=d:dn.push.apply(dn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Qa(t,0),Gs(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Gs(l,i,wn,!Bs);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=Tu+300-en(),10<h)){if(Gs(l,i,wn,!Bs),di(l,0,!0)!==0)break e;rs=i,l.timeoutHandle=$_(b_.bind(null,l,a,dn,wu,Ad,i,wn,Jr,Fa,Bs,d,"Throttled",-0,0),h);break e}b_(l,a,dn,wu,Ad,i,wn,Jr,Fa,Bs,d,null,-0,0)}}break}while(!0);Di(t)}function b_(t,i,a,l,h,d,_,T,M,z,K,J,q,G){if(t.timeoutHandle=-1,J=i.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xn},f_(i,d,J);var fe=(d&62914560)===d?Tu-en():(d&4194048)===d?g_-en():0;if(fe=$S(J,fe),fe!==null){rs=d,t.cancelPendingCommit=fe(I_.bind(null,t,i,d,a,l,h,_,T,M,K,J,null,q,G)),Gs(t,d,_,!z);return}}I_(t,i,d,a,l,h,_,T,M)}function fS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!_n(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Gs(t,i,a,l){i&=~Sd,i&=~Jr,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-pt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&xr(t,a,i)}function Su(){return(Ke&6)===0?(Al(0),!1):!0}function Cd(){if(Me!==null){if($e===0)var t=Me.return;else t=Me,Yi=qr=null,Gf(t),ja=null,ol=0,t=Me;for(;t!==null;)Jy(t.alternate,t),t=t.return;Me=null}}function Qa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,OS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),rs=0,Cd(),st=t,Me=a=Qi(t.current,null),ke=i,$e=0,En=null,Bs=!1,Ha=Qn(t,i),wd=!1,Fa=wn=Sd=Jr=qs=dt=0,dn=wl=null,Ad=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-pt(l),d=1<<h;i|=t[h],l&=~d}return ss=i,Gc(),a}function T_(t,i){De=null,H.H=pl,i===ka||i===Wc?(i=Lg(),$e=3):i===Mf?(i=Lg(),$e=4):$e=i===od?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,En=i,Me===null&&(dt=1,du(t,jn(i,t.current)))}function E_(){var t=bn.current;return t===null?!0:(ke&4194048)===ke?zn===null:(ke&62914560)===ke||(ke&536870912)!==0?t===zn:!1}function w_(){var t=H.H;return H.H=pl,t===null?pl:t}function S_(){var t=H.A;return H.A=uS,t}function Au(){dt=4,Bs||(ke&4194048)!==ke&&bn.current!==null||(Ha=!0),(qs&134217727)===0&&(Jr&134217727)===0||st===null||Gs(st,ke,wn,!1)}function Nd(t,i,a){var l=Ke;Ke|=2;var h=w_(),d=S_();(st!==t||ke!==i)&&(wu=null,Qa(t,i)),i=!1;var _=dt;e:do try{if($e!==0&&Me!==null){var T=Me,M=En;switch($e){case 8:Cd(),_=6;break e;case 3:case 2:case 9:case 6:bn.current===null&&(i=!0);var z=$e;if($e=0,En=null,Ka(t,T,M,z),a&&Ha){_=0;break e}break;default:z=$e,$e=0,En=null,Ka(t,T,M,z)}}dS(),_=dt;break}catch(K){T_(t,K)}while(!0);return i&&t.shellSuspendCounter++,Yi=qr=null,Ke=l,H.H=h,H.A=d,Me===null&&(st=null,ke=0,Gc()),_}function dS(){for(;Me!==null;)A_(Me)}function mS(t,i){var a=Ke;Ke|=2;var l=w_(),h=S_();st!==t||ke!==i?(wu=null,Eu=en()+500,Qa(t,i)):Ha=Qn(t,i);e:do try{if($e!==0&&Me!==null){i=Me;var d=En;t:switch($e){case 1:$e=0,En=null,Ka(t,i,d,1);break;case 2:case 9:if(kg(d)){$e=0,En=null,x_(i);break}i=function(){$e!==2&&$e!==9||st!==t||($e=7),Di(t)},d.then(i,i);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:kg(d)?($e=0,En=null,x_(i)):($e=0,En=null,Ka(t,i,d,7));break;case 5:var _=null;switch(Me.tag){case 26:_=Me.memoizedState;case 5:case 27:var T=Me;if(_?h0(_):T.stateNode.complete){$e=0,En=null;var M=T.sibling;if(M!==null)Me=M;else{var z=T.return;z!==null?(Me=z,xu(z)):Me=null}break t}}$e=0,En=null,Ka(t,i,d,5);break;case 6:$e=0,En=null,Ka(t,i,d,6);break;case 8:Cd(),dt=6;break e;default:throw Error(r(462))}}pS();break}catch(K){T_(t,K)}while(!0);return Yi=qr=null,H.H=l,H.A=h,Ke=a,Me!==null?0:(st=null,ke=0,Gc(),dt)}function pS(){for(;Me!==null&&!af();)A_(Me)}function A_(t){var i=Xy(t.alternate,t,ss);t.memoizedProps=t.pendingProps,i===null?xu(t):Me=i}function x_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Hy(a,i,i.pendingProps,i.type,void 0,ke);break;case 11:i=Hy(a,i,i.pendingProps,i.type.render,i.ref,ke);break;case 5:Gf(i);default:Jy(a,i),i=Me=Sg(i,ss),i=Xy(a,i,ss)}t.memoizedProps=t.pendingProps,i===null?xu(t):Me=i}function Ka(t,i,a,l){Yi=qr=null,Gf(i),ja=null,ol=0;var h=i.return;try{if(iS(t,h,i,a,ke)){dt=1,du(t,jn(a,t.current)),Me=null;return}}catch(d){if(h!==null)throw Me=h,d;dt=1,du(t,jn(a,t.current)),Me=null;return}i.flags&32768?(ze||l===1?t=!0:Ha||(ke&536870912)!==0?t=!1:(Bs=t=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),R_(i,t)):xu(i)}function xu(t){var i=t;do{if((i.flags&32768)!==0){R_(i,Bs);return}t=i.return;var a=aS(i.alternate,i,ss);if(a!==null){Me=a;return}if(i=i.sibling,i!==null){Me=i;return}Me=i=t}while(i!==null);dt===0&&(dt=5)}function R_(t,i){do{var a=oS(t.alternate,t);if(a!==null){a.flags&=32767,Me=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Me=t;return}Me=t=a}while(t!==null);dt=6,Me=null}function I_(t,i,a,l,h,d,_,T,M){t.cancelPendingCommit=null;do Ru();while(Mt!==0);if((Ke&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=_f,cf(t,a,d,_,T,M),t===st&&(Me=st=null,ke=0),Ga=i,Fs=t,rs=a,xd=d,Rd=h,y_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,vS(Ts,function(){return M_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,h=ee.p,ee.p=2,_=Ke,Ke|=4;try{lS(t,i,a)}finally{Ke=_,ee.p=h,H.T=l}}Mt=1,C_(),N_(),D_()}}function C_(){if(Mt===1){Mt=0;var t=Fs,i=Ga,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=ee.p;ee.p=2;var h=Ke;Ke|=4;try{c_(i,t);var d=qd,_=pg(t.containerInfo),T=d.focusedElem,M=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&mg(T.ownerDocument.documentElement,T)){if(M!==null&&df(T)){var z=M.start,K=M.end;if(K===void 0&&(K=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(K,T.value.length);else{var J=T.ownerDocument||document,q=J&&J.defaultView||window;if(q.getSelection){var G=q.getSelection(),fe=T.textContent.length,ve=Math.min(M.start,fe),nt=M.end===void 0?ve:Math.min(M.end,fe);!G.extend&&ve>nt&&(_=nt,nt=ve,ve=_);var L=dg(T,ve),V=dg(T,nt);if(L&&V&&(G.rangeCount!==1||G.anchorNode!==L.node||G.anchorOffset!==L.offset||G.focusNode!==V.node||G.focusOffset!==V.offset)){var P=J.createRange();P.setStart(L.node,L.offset),G.removeAllRanges(),ve>nt?(G.addRange(P),G.extend(V.node,V.offset)):(P.setEnd(V.node,V.offset),G.addRange(P))}}}}for(J=[],G=T;G=G.parentNode;)G.nodeType===1&&J.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var X=J[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Pu=!!Bd,qd=Bd=null}finally{Ke=h,ee.p=l,H.T=a}}t.current=i,Mt=2}}function N_(){if(Mt===2){Mt=0;var t=Fs,i=Ga,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=ee.p;ee.p=2;var h=Ke;Ke|=4;try{s_(t,i.alternate,i)}finally{Ke=h,ee.p=l,H.T=a}}Mt=3}}function D_(){if(Mt===4||Mt===3){Mt=0,yc();var t=Fs,i=Ga,a=rs,l=y_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Mt=5:(Mt=0,Ga=Fs=null,O_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Hs=null),qi(a),i=i.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Gn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=H.T,h=ee.p,ee.p=2,H.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{H.T=i,ee.p=h}}(rs&3)!==0&&Ru(),Di(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Id?Sl++:(Sl=0,Id=t):Sl=0,Al(0)}}function O_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,rl(i)))}function Ru(){return C_(),N_(),D_(),M_()}function M_(){if(Mt!==5)return!1;var t=Fs,i=xd;xd=0;var a=qi(rs),l=H.T,h=ee.p;try{ee.p=32>a?32:a,H.T=null,a=Rd,Rd=null;var d=Fs,_=rs;if(Mt=0,Ga=Fs=null,rs=0,(Ke&6)!==0)throw Error(r(331));var T=Ke;if(Ke|=4,m_(d.current),h_(d,d.current,_,a),Ke=T,Al(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Gn,d)}catch{}return!0}finally{ee.p=h,H.T=l,O_(t,i)}}function V_(t,i,a){i=jn(a,i),i=ad(t.stateNode,i,2),t=Ls(t,i,2),t!==null&&(Ar(t,2),Di(t))}function Je(t,i,a){if(t.tag===3)V_(t,t,a);else for(;i!==null;){if(i.tag===3){V_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Hs===null||!Hs.has(l))){t=jn(a,t),a=ky(2),l=Ls(i,a,2),l!==null&&(jy(a,l,i,t),Ar(l,2),Di(l));break}}i=i.return}}function Dd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new hS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(wd=!0,h.add(a),t=gS.bind(null,t,i,a),i.then(t,t))}function gS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,st===t&&(ke&a)===a&&(dt===4||dt===3&&(ke&62914560)===ke&&300>en()-Tu?(Ke&2)===0&&Qa(t,0):Sd|=a,Fa===ke&&(Fa=0)),Di(t)}function k_(t,i){i===0&&(i=wc()),t=Pr(t,i),t!==null&&(Ar(t,i),Di(t))}function yS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),k_(t,a)}function _S(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),k_(t,a)}function vS(t,i){return Ot(t,i)}var Iu=null,Ya=null,Od=!1,Cu=!1,Md=!1,Qs=0;function Di(t){t!==Ya&&t.next===null&&(Ya===null?Iu=Ya=t:Ya=Ya.next=t),Cu=!0,Od||(Od=!0,TS())}function Al(t,i){if(!Md&&Cu){Md=!0;do for(var a=!1,l=Iu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-pt(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,P_(l,d))}else d=ke,d=di(l,l===st?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Qn(l,d)||(a=!0,P_(l,d));l=l.next}while(a);Md=!1}}function bS(){j_()}function j_(){Cu=Od=!1;var t=0;Qs!==0&&DS()&&(t=Qs);for(var i=en(),a=null,l=Iu;l!==null;){var h=l.next,d=L_(l,i);d===0?(l.next=null,a===null?Iu=h:a.next=h,h===null&&(Ya=a)):(a=l,(t!==0||(d&3)!==0)&&(Cu=!0)),l=h}Mt!==0&&Mt!==5||Al(t),Qs!==0&&(Qs=0)}function L_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-pt(d),T=1<<_,M=h[_];M===-1?((T&a)===0||(T&l)!==0)&&(h[_]=lf(T,i)):M<=i&&(t.expiredLanes|=T),d&=~T}if(i=st,a=ke,a=di(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&($e===2||$e===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&bs(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Qn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&bs(l),qi(a)){case 2:case 8:a=ko;break;case 32:a=Ts;break;case 268435456:a=_c;break;default:a=Ts}return l=U_.bind(null,t),a=Ot(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&bs(l),t.callbackPriority=2,t.callbackNode=null,2}function U_(t,i){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ru()&&t.callbackNode!==a)return null;var l=ke;return l=di(t,t===st?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(v_(t,l,i),L_(t,en()),t.callbackNode!=null&&t.callbackNode===a?U_.bind(null,t):null)}function P_(t,i){if(Ru())return null;v_(t,i,!0)}function TS(){MS(function(){(Ke&6)!==0?Ot(Vo,bS):j_()})}function Vd(){if(Qs===0){var t=Ma;t===0&&(t=hi,hi<<=1,(hi&261888)===0&&(hi=256)),Qs=t}return Qs}function z_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:_a(""+t)}function B_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function ES(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=z_((h[kt]||null).action),_=l.submitter;_&&(i=(i=_[kt]||null)?z_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new Si("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Qs!==0){var M=_?B_(h,_):new FormData(h);ed(a,{pending:!0,data:M,method:h.method,action:d},null,M)}}else typeof d=="function"&&(T.preventDefault(),M=_?B_(h,_):new FormData(h),ed(a,{pending:!0,data:M,method:h.method,action:d},d,M))},currentTarget:h}]})}}for(var kd=0;kd<yf.length;kd++){var jd=yf[kd],wS=jd.toLowerCase(),SS=jd[0].toUpperCase()+jd.slice(1);ei(wS,"on"+SS)}ei(_g,"onAnimationEnd"),ei(vg,"onAnimationIteration"),ei(bg,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(zw,"onTransitionRun"),ei(Bw,"onTransitionStart"),ei(qw,"onTransitionCancel"),ei(Tg,"onTransitionEnd"),bi("onMouseEnter",["mouseout","mouseover"]),bi("onMouseLeave",["mouseout","mouseover"]),bi("onPointerEnter",["pointerout","pointerover"]),bi("onPointerLeave",["pointerout","pointerover"]),vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xl));function q_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],M=T.instance,z=T.currentTarget;if(T=T.listener,M!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=z;try{d(h)}catch(K){Fc(K)}h.currentTarget=null,d=M}else for(_=0;_<l.length;_++){if(T=l[_],M=T.instance,z=T.currentTarget,T=T.listener,M!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=z;try{d(h)}catch(K){Fc(K)}h.currentTarget=null,d=M}}}}function Ve(t,i){var a=i[da];a===void 0&&(a=i[da]=new Set);var l=t+"__bubble";a.has(l)||(H_(i,t,2,!1),a.add(l))}function Ld(t,i,a){var l=0;i&&(l|=4),H_(a,t,l,i)}var Nu="_reactListening"+Math.random().toString(36).slice(2);function Ud(t){if(!t[Nu]){t[Nu]=!0,Uo.forEach(function(a){a!=="selectionchange"&&(AS.has(a)||Ld(a,!1,t),Ld(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Nu]||(i[Nu]=!0,Ld("selectionchange",!1,i))}}function H_(t,i,a,l){switch(_0(i)){case 2:var h=WS;break;case 8:h=e1;break;default:h=Wd}a=h.bind(null,i,a,t),h=void 0,!Dr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Pd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var M=_.tag;if((M===3||M===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=yi(T),_===null)return;if(M=_.tag,M===5||M===6||M===26||M===27){l=d=_;continue e}T=T.parentNode}}l=l.return}Rs(function(){var z=d,K=On(a),J=[];e:{var q=Eg.get(t);if(q!==void 0){var G=Si,fe=t;switch(t){case"keypress":if(Mr(a)===0)break e;case"keydown":case"keyup":G=Bc;break;case"focusin":fe="focus",G=kr;break;case"focusout":fe="blur",G=kr;break;case"beforeblur":case"afterblur":G=kr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Oc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=p;break;case _g:case vg:case bg:G=Vc;break;case Tg:G=w;break;case"scroll":case"scrollend":G=$o;break;case"wheel":G=F;break;case"copy":case"cut":case"paste":G=kc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Gi;break;case"toggle":case"beforetoggle":G=Ne}var ve=(i&4)!==0,nt=!ve&&(t==="scroll"||t==="scrollend"),L=ve?q!==null?q+"Capture":null:q;ve=[];for(var V=z,P;V!==null;){var X=V;if(P=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||P===null||L===null||(X=$n(V,L),X!=null&&ve.push(Rl(V,X,P))),nt)break;V=V.return}0<ve.length&&(q=new G(q,fe,null,a,K),J.push({event:q,listeners:ve}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",q&&a!==Ko&&(fe=a.relatedTarget||a.fromElement)&&(yi(fe)||fe[pi]))break e;if((G||q)&&(q=K.window===K?K:(q=K.ownerDocument)?q.defaultView||q.parentWindow:window,G?(fe=a.relatedTarget||a.toElement,G=z,fe=fe?yi(fe):null,fe!==null&&(nt=c(fe),ve=fe.tag,fe!==nt||ve!==5&&ve!==27&&ve!==6)&&(fe=null)):(G=null,fe=z),G!==fe)){if(ve=Jo,X="onMouseLeave",L="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Gi,X="onPointerLeave",L="onPointerEnter",V="pointer"),nt=G==null?q:gn(G),P=fe==null?q:gn(fe),q=new ve(X,V+"leave",G,a,K),q.target=nt,q.relatedTarget=P,X=null,yi(K)===z&&(ve=new ve(L,V+"enter",fe,a,K),ve.target=P,ve.relatedTarget=nt,X=ve),nt=X,G&&fe)t:{for(ve=xS,L=G,V=fe,P=0,X=L;X;X=ve(X))P++;X=0;for(var ye=V;ye;ye=ve(ye))X++;for(;0<P-X;)L=ve(L),P--;for(;0<X-P;)V=ve(V),X--;for(;P--;){if(L===V||V!==null&&L===V.alternate){ve=L;break t}L=ve(L),V=ve(V)}ve=null}else ve=null;G!==null&&F_(J,q,G,ve,!1),fe!==null&&nt!==null&&F_(J,nt,fe,ve,!0)}}e:{if(q=z?gn(z):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var Fe=og;else if(rg(q))if(lg)Fe=Lw;else{Fe=kw;var me=Vw}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?z&&ya(z.elementType)&&(Fe=og):Fe=jw;if(Fe&&(Fe=Fe(t,z))){ag(J,Fe,a,K);break e}me&&me(t,q,z),t==="focusout"&&z&&q.type==="number"&&z.memoizedProps.value!=null&&Fo(q,"number",q.value)}switch(me=z?gn(z):window,t){case"focusin":(rg(me)||me.contentEditable==="true")&&(Aa=me,mf=z,nl=null);break;case"focusout":nl=mf=Aa=null;break;case"mousedown":pf=!0;break;case"contextmenu":case"mouseup":case"dragend":pf=!1,gg(J,a,K);break;case"selectionchange":if(Pw)break;case"keydown":case"keyup":gg(J,a,K)}var Oe;if(Qe)e:{switch(t){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Sa?jr(t,a)&&(je="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(je="onCompositionStart");je&&(Ri&&a.locale!=="ko"&&(Sa||je!=="onCompositionStart"?je==="onCompositionEnd"&&Sa&&(Oe=Xo()):(wi=K,Yo="value"in wi?wi.value:wi.textContent,Sa=!0)),me=Du(z,je),0<me.length&&(je=new xi(je,t,null,a,K),J.push({event:je,listeners:me}),Oe?je.data=Oe:(Oe=wa(a),Oe!==null&&(je.data=Oe)))),(Oe=Vn?Nw(t,a):Dw(t,a))&&(je=Du(z,"onBeforeInput"),0<je.length&&(me=new xi("onBeforeInput","beforeinput",null,a,K),J.push({event:me,listeners:je}),me.data=Oe)),ES(J,t,z,a,K)}q_(J,i)})}function Rl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Du(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=$n(t,a),h!=null&&l.unshift(Rl(t,h,d)),h=$n(t,i),h!=null&&l.push(Rl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function xS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function F_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,M=T.alternate,z=T.stateNode;if(T=T.tag,M!==null&&M===l)break;T!==5&&T!==26&&T!==27||z===null||(M=z,h?(z=$n(a,d),z!=null&&_.unshift(Rl(a,z,M))):h||(z=$n(a,d),z!=null&&_.push(Rl(a,z,M)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var RS=/\r\n?/g,IS=/\u0000|\uFFFD/g;function G_(t){return(typeof t=="string"?t:""+t).replace(RS,`
`).replace(IS,"")}function Q_(t,i){return i=G_(i),G_(t)===i}function tt(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||cn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&cn(t,""+l);break;case"className":yn(t,"class",l);break;case"tabIndex":yn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(t,a,l);break;case"style":Qo(t,l,d);break;case"data":if(i!=="object"){yn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=_a(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&tt(t,i,"name",h.name,h,null),tt(t,i,"formEncType",h.formEncType,h,null),tt(t,i,"formMethod",h.formMethod,h,null),tt(t,i,"formTarget",h.formTarget,h,null)):(tt(t,i,"encType",h.encType,h,null),tt(t,i,"method",h.method,h,null),tt(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=_a(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Xn);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=_a(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),pa(t,"popover",l);break;case"xlinkActuate":St(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":St(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":St(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":St(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":St(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":St(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":St(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":St(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":St(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":pa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Dc.get(a)||a,pa(t,a,l))}}function zd(t,i,a,l,h,d){switch(a){case"style":Qo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?cn(t,l):(typeof l=="number"||typeof l=="bigint")&&cn(t,""+l);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Po.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[kt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):pa(t,a,l)}}}function Gt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:tt(t,i,d,_,a,null)}}h&&tt(t,i,"srcSet",a.srcSet,a,null),l&&tt(t,i,"src",a.src,a,null);return;case"input":Ve("invalid",t);var T=d=_=h=null,M=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":h=K;break;case"type":_=K;break;case"checked":M=K;break;case"defaultChecked":z=K;break;case"value":d=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,i));break;default:tt(t,i,l,K,a,null)}}Ic(t,d,T,M,z,_,h,!1);return;case"select":Ve("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:tt(t,i,h,T,a,null)}i=d,a=_,t.multiple=!!l,i!=null?ws(t,!!l,i,!1):a!=null&&ws(t,!!l,a,!0);return;case"textarea":Ve("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:tt(t,i,_,T,a,null)}Ss(t,l,h,d);return;case"option":for(M in a)a.hasOwnProperty(M)&&(l=a[M],l!=null)&&(M==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":tt(t,i,M,l,a,null));return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(l=0;l<xl.length;l++)Ve(xl[l],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:tt(t,i,z,l,a,null)}return;default:if(ya(i)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&zd(t,i,K,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&tt(t,i,T,l,a,null))}function CS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,M=null,z=null,K=null;for(G in a){var J=a[G];if(a.hasOwnProperty(G)&&J!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":M=J;default:l.hasOwnProperty(G)||tt(t,i,G,null,l,J)}}for(var q in l){var G=l[q];if(J=a[q],l.hasOwnProperty(q)&&(G!=null||J!=null))switch(q){case"type":d=G;break;case"name":h=G;break;case"checked":z=G;break;case"defaultChecked":K=G;break;case"value":_=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,i));break;default:G!==J&&tt(t,i,q,G,l,J)}}ga(t,_,T,M,z,K,d,h);return;case"select":G=_=T=q=null;for(d in a)if(M=a[d],a.hasOwnProperty(d)&&M!=null)switch(d){case"value":break;case"multiple":G=M;default:l.hasOwnProperty(d)||tt(t,i,d,null,l,M)}for(h in l)if(d=l[h],M=a[h],l.hasOwnProperty(h)&&(d!=null||M!=null))switch(h){case"value":q=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==M&&tt(t,i,h,d,l,M)}i=T,a=_,l=G,q!=null?ws(t,!!a,q,!1):!!l!=!!a&&(i!=null?ws(t,!!a,i,!0):ws(t,!!a,a?[]:"",!1));return;case"textarea":G=q=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:tt(t,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":q=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&tt(t,i,_,h,l,d)}Cc(t,q,G);return;case"option":for(var fe in a)q=a[fe],a.hasOwnProperty(fe)&&q!=null&&!l.hasOwnProperty(fe)&&(fe==="selected"?t.selected=!1:tt(t,i,fe,null,l,q));for(M in l)q=l[M],G=a[M],l.hasOwnProperty(M)&&q!==G&&(q!=null||G!=null)&&(M==="selected"?t.selected=q&&typeof q!="function"&&typeof q!="symbol":tt(t,i,M,q,l,G));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)q=a[ve],a.hasOwnProperty(ve)&&q!=null&&!l.hasOwnProperty(ve)&&tt(t,i,ve,null,l,q);for(z in l)if(q=l[z],G=a[z],l.hasOwnProperty(z)&&q!==G&&(q!=null||G!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,i));break;default:tt(t,i,z,q,l,G)}return;default:if(ya(i)){for(var nt in a)q=a[nt],a.hasOwnProperty(nt)&&q!==void 0&&!l.hasOwnProperty(nt)&&zd(t,i,nt,void 0,l,q);for(K in l)q=l[K],G=a[K],!l.hasOwnProperty(K)||q===G||q===void 0&&G===void 0||zd(t,i,K,q,l,G);return}}for(var L in a)q=a[L],a.hasOwnProperty(L)&&q!=null&&!l.hasOwnProperty(L)&&tt(t,i,L,null,l,q);for(J in l)q=l[J],G=a[J],!l.hasOwnProperty(J)||q===G||q==null&&G==null||tt(t,i,J,q,l,G)}function K_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function NS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&K_(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var M=a[l],z=M.startTime;if(z>T)break;var K=M.transferSize,J=M.initiatorType;K&&K_(J)&&(M=M.responseEnd,_+=K*(M<T?1:(T-z)/(M-z)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Bd=null,qd=null;function Ou(t){return t.nodeType===9?t:t.ownerDocument}function Y_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function X_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Hd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Fd=null;function DS(){var t=window.event;return t&&t.type==="popstate"?t===Fd?!1:(Fd=t,!0):(Fd=null,!1)}var $_=typeof setTimeout=="function"?setTimeout:void 0,OS=typeof clearTimeout=="function"?clearTimeout:void 0,J_=typeof Promise=="function"?Promise:void 0,MS=typeof queueMicrotask=="function"?queueMicrotask:typeof J_<"u"?function(t){return J_.resolve(null).then(t).catch(VS)}:$_;function VS(t){setTimeout(function(){throw t})}function Ks(t){return t==="head"}function Z_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Za(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Il(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Il(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[gi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Il(t.ownerDocument.body);a=h}while(a);Za(i)}function W_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Gd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Gd(a),ma(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function kS(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[gi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Bn(t.nextSibling),t===null)break}return null}function jS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Bn(t.nextSibling),t===null))return null;return t}function e0(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Bn(t.nextSibling),t===null))return null;return t}function Qd(t){return t.data==="$?"||t.data==="$~"}function Kd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function LS(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Bn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Yd=null;function t0(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Bn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function n0(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function i0(t,i,a){switch(i=Ou(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Il(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ma(t)}var qn=new Map,s0=new Set;function Mu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var as=ee.d;ee.d={f:US,r:PS,D:zS,C:BS,L:qS,m:HS,X:GS,S:FS,M:QS};function US(){var t=as.f(),i=Su();return t||i}function PS(t){var i=Dn(t);i!==null&&i.tag===5&&i.type==="form"?Ty(i):as.r(t)}var Xa=typeof document>"u"?null:document;function r0(t,i,a){var l=Xa;if(l&&typeof i=="string"&&i){var h=ln(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),s0.has(h)||(s0.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Gt(i,"link",t),wt(i),l.head.appendChild(i)))}}function zS(t){as.D(t),r0("dns-prefetch",t,null)}function BS(t,i){as.C(t,i),r0("preconnect",t,i)}function qS(t,i,a){as.L(t,i,a);var l=Xa;if(l&&t&&i){var h='link[rel="preload"][as="'+ln(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ln(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ln(a.imageSizes)+'"]')):h+='[href="'+ln(t)+'"]';var d=h;switch(i){case"style":d=$a(t);break;case"script":d=Ja(t)}qn.has(d)||(t=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),qn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Cl(d))||i==="script"&&l.querySelector(Nl(d))||(i=l.createElement("link"),Gt(i,"link",t),wt(i),l.head.appendChild(i)))}}function HS(t,i){as.m(t,i);var a=Xa;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ln(l)+'"][href="'+ln(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ja(t)}if(!qn.has(d)&&(t=S({rel:"modulepreload",href:t},i),qn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Nl(d)))return}l=a.createElement("link"),Gt(l,"link",t),wt(l),a.head.appendChild(l)}}}function FS(t,i,a){as.S(t,i,a);var l=Xa;if(l&&t){var h=_i(l).hoistableStyles,d=$a(t);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Cl(d)))T.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":i},a),(a=qn.get(d))&&Xd(t,a);var M=_=l.createElement("link");wt(M),Gt(M,"link",t),M._p=new Promise(function(z,K){M.onload=z,M.onerror=K}),M.addEventListener("load",function(){T.loading|=1}),M.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Vu(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function GS(t,i){as.X(t,i);var a=Xa;if(a&&t){var l=_i(a).hoistableScripts,h=Ja(t),d=l.get(h);d||(d=a.querySelector(Nl(h)),d||(t=S({src:t,async:!0},i),(i=qn.get(h))&&$d(t,i),d=a.createElement("script"),wt(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function QS(t,i){as.M(t,i);var a=Xa;if(a&&t){var l=_i(a).hoistableScripts,h=Ja(t),d=l.get(h);d||(d=a.querySelector(Nl(h)),d||(t=S({src:t,async:!0,type:"module"},i),(i=qn.get(h))&&$d(t,i),d=a.createElement("script"),wt(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function a0(t,i,a,l){var h=(h=oe.current)?Mu(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=$a(a.href),a=_i(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=$a(a.href);var d=_i(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Cl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),qn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},qn.set(t,a),d||KS(h,t,a,_.state))),i&&l===null)throw Error(r(528,""));return _}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ja(a),a=_i(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function $a(t){return'href="'+ln(t)+'"'}function Cl(t){return'link[rel="stylesheet"]['+t+"]"}function o0(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function KS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Gt(i,"link",a),wt(i),t.head.appendChild(i))}function Ja(t){return'[src="'+ln(t)+'"]'}function Nl(t){return"script[async]"+t}function l0(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+ln(a.href)+'"]');if(l)return i.instance=l,wt(l),l;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),wt(l),Gt(l,"style",h),Vu(l,a.precedence,t),i.instance=l;case"stylesheet":h=$a(a.href);var d=t.querySelector(Cl(h));if(d)return i.state.loading|=4,i.instance=d,wt(d),d;l=o0(a),(h=qn.get(h))&&Xd(l,h),d=(t.ownerDocument||t).createElement("link"),wt(d);var _=d;return _._p=new Promise(function(T,M){_.onload=T,_.onerror=M}),Gt(d,"link",l),i.state.loading|=4,Vu(d,a.precedence,t),i.instance=d;case"script":return d=Ja(a.src),(h=t.querySelector(Nl(d)))?(i.instance=h,wt(h),h):(l=a,(h=qn.get(d))&&(l=S({},a),$d(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),wt(h),Gt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Vu(l,a.precedence,t));return i.instance}function Vu(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Xd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function $d(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var ku=null;function c0(t,i,a){if(ku===null){var l=new Map,h=ku=new Map;h.set(a,l)}else h=ku,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[gi]||d[Et]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function u0(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function YS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function h0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function XS(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=$a(l.href),d=i.querySelector(Cl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=ju.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,wt(d);return}d=i.ownerDocument||i,l=o0(l),(h=qn.get(h))&&Xd(l,h),d=d.createElement("link"),wt(d);var _=d;_._p=new Promise(function(T,M){_.onload=T,_.onerror=M}),Gt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=ju.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Jd=0;function $S(t,i){return t.stylesheets&&t.count===0&&Uu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Uu(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Jd===0&&(Jd=62500*NS());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Uu(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Jd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function ju(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Uu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Lu=null;function Uu(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Lu=new Map,i.forEach(JS,t),Lu=null,ju.call(t))}function JS(t,i){if(!(i.state.loading&4)){var a=Lu.get(t);if(a)var l=a.get(null);else{a=new Map,Lu.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=ju.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Dl={$$typeof:le,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function ZS(t,i,a,l,h,d,_,T,M){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function f0(t,i,a,l,h,d,_,T,M,z,K,J){return t=new ZS(t,i,a,_,M,z,K,J,T),i=1,d===!0&&(i|=24),d=vn(3,null,null,i),t.current=d,d.stateNode=t,i=Nf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Vf(d),t}function d0(t){return t?(t=Ia,t):Ia}function m0(t,i,a,l,h,d){h=d0(h),l.context===null?l.context=h:l.pendingContext=h,l=js(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ls(t,l,i),a!==null&&(mn(a,t,i),cl(a,t,i))}function p0(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Zd(t,i){p0(t,i),(t=t.alternate)&&p0(t,i)}function g0(t){if(t.tag===13||t.tag===31){var i=Pr(t,67108864);i!==null&&mn(i,t,67108864),Zd(t,67108864)}}function y0(t){if(t.tag===13||t.tag===31){var i=Sn();i=Rr(i);var a=Pr(t,i);a!==null&&mn(a,t,i),Zd(t,i)}}var Pu=!0;function WS(t,i,a,l){var h=H.T;H.T=null;var d=ee.p;try{ee.p=2,Wd(t,i,a,l)}finally{ee.p=d,H.T=h}}function e1(t,i,a,l){var h=H.T;H.T=null;var d=ee.p;try{ee.p=8,Wd(t,i,a,l)}finally{ee.p=d,H.T=h}}function Wd(t,i,a,l){if(Pu){var h=em(l);if(h===null)Pd(t,i,l,zu,a),v0(t,l);else if(n1(h,t,i,a,l))l.stopPropagation();else if(v0(t,l),i&4&&-1<t1.indexOf(t)){for(;h!==null;){var d=Dn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=fi(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var M=1<<31-pt(_);T.entanglements[1]|=M,_&=~M}Di(d),(Ke&6)===0&&(Eu=en()+500,Al(0))}}break;case 31:case 13:T=Pr(d,2),T!==null&&mn(T,d,2),Su(),Zd(d,2)}if(d=em(l),d===null&&Pd(t,i,l,zu,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Pd(t,i,l,null,a)}}function em(t){return t=On(t),tm(t)}var zu=null;function tm(t){if(zu=null,t=yi(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return zu=t,null}function _0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wr()){case Vo:return 2;case ko:return 8;case Ts:case of:return 32;case _c:return 268435456;default:return 32}default:return 32}}var nm=!1,Ys=null,Xs=null,$s=null,Ol=new Map,Ml=new Map,Js=[],t1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function v0(t,i){switch(t){case"focusin":case"focusout":Ys=null;break;case"dragenter":case"dragleave":Xs=null;break;case"mouseover":case"mouseout":$s=null;break;case"pointerover":case"pointerout":Ol.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(i.pointerId)}}function Vl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Dn(i),i!==null&&g0(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function n1(t,i,a,l,h){switch(i){case"focusin":return Ys=Vl(Ys,t,i,a,l,h),!0;case"dragenter":return Xs=Vl(Xs,t,i,a,l,h),!0;case"mouseover":return $s=Vl($s,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Ol.set(d,Vl(Ol.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ml.set(d,Vl(Ml.get(d)||null,t,i,a,l,h)),!0}return!1}function b0(t){var i=yi(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Kn(t.priority,function(){y0(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Kn(t.priority,function(){y0(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bu(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=em(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ko=l,a.target.dispatchEvent(l),Ko=null}else return i=Dn(a),i!==null&&g0(i),t.blockedOn=a,!1;i.shift()}return!0}function T0(t,i,a){Bu(t)&&a.delete(i)}function i1(){nm=!1,Ys!==null&&Bu(Ys)&&(Ys=null),Xs!==null&&Bu(Xs)&&(Xs=null),$s!==null&&Bu($s)&&($s=null),Ol.forEach(T0),Ml.forEach(T0)}function qu(t,i){t.blockedOn===i&&(t.blockedOn=null,nm||(nm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,i1)))}var Hu=null;function E0(t){Hu!==t&&(Hu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Hu===t&&(Hu=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(tm(l||a)===null)continue;break}var d=Dn(a);d!==null&&(t.splice(i,3),i-=3,ed(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Za(t){function i(M){return qu(M,t)}Ys!==null&&qu(Ys,t),Xs!==null&&qu(Xs,t),$s!==null&&qu($s,t),Ol.forEach(i),Ml.forEach(i);for(var a=0;a<Js.length;a++){var l=Js[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Js.length&&(a=Js[0],a.blockedOn===null);)b0(a),a.blockedOn===null&&Js.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[kt]||null;if(typeof d=="function")_||E0(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[kt]||null)T=_.formAction;else if(tm(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),E0(a)}}}function w0(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function im(t){this._internalRoot=t}Fu.prototype.render=im.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=Sn();m0(a,l,t,i,null,null)},Fu.prototype.unmount=im.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;m0(t.current,2,null,t,null,null),Su(),i[pi]=null}};function Fu(t){this._internalRoot=t}Fu.prototype.unstable_scheduleHydration=function(t){if(t){var i=Sc();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Js.length&&i!==0&&i<Js[a].priority;a++);Js.splice(a,0,t),a===0&&b0(t)}};var S0=e.version;if(S0!=="19.2.3")throw Error(r(527,S0,"19.2.3"));ee.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var s1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gu.isDisabled&&Gu.supportsFiber)try{Gn=Gu.inject(s1),zt=Gu}catch{}}return jl.createRoot=function(t,i){if(!o(t))throw Error(r(299));var a=!1,l="",h=Dy,d=Oy,_=My;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=f0(t,1,!1,null,null,a,l,null,h,d,_,w0),t[pi]=i.current,Ud(t),new im(i)},jl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(r(299));var l=!1,h="",d=Dy,_=Oy,T=My,M=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(M=a.formState)),i=f0(t,1,!0,i,a??null,l,h,M,d,_,T,w0),i.context=d0(null),a=i.current,l=Sn(),l=Rr(l),h=js(l),h.callback=null,Ls(a,h,l),a=l,i.current.lanes=a,Ar(i,a),Di(i),t[pi]=i.current,Ud(t),new Fu(i)},jl.version="19.2.3",jl}var V0;function d1(){if(V0)return am.exports;V0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),am.exports=f1(),am.exports}var m1=d1();const p1="/Invitation/assets/r-15-CMHvZkWT.jpg",g1=()=>{const[s,e]=ie.useState(!1);return ie.useEffect(()=>{e(!0)},[]),b.jsxs("section",{className:"relative h-screen flex flex-col justify-center items-center text-center bg-white text-white overflow-hidden",children:[b.jsxs("div",{className:"absolute inset-0 z-0",children:[b.jsx("div",{className:"absolute inset-0 bg-black/20 z-10"}),b.jsx("img",{src:p1,alt:"Wedding Background",className:"w-full h-full object-cover"})]}),b.jsxs("div",{className:`relative z-20 p-8 transition-all duration-1000 ease-out transform ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[b.jsx("p",{className:"text-base md:text-lg tracking-[0.2em] mb-4 text-white/90 font-classic",children:"  "}),b.jsxs("h1",{className:"text-5xl md:text-6xl lg:text-7xl mb-8 font-classic font-bold text-white drop-shadow-lg leading-tight",children:[" ",b.jsx("br",{className:"md:hidden"}),b.jsx("span",{className:"text-3xl md:text-4xl lg:text-5xl mx-2 text-soft-pink font-serif italic",children:"&"}),b.jsx("br",{className:"md:hidden"})," "]}),b.jsxs("div",{className:"flex items-center justify-center gap-4 text-white/90 font-classic",children:[b.jsx("div",{className:"h-px w-12 bg-white/60"}),b.jsx("p",{className:"text-xl md:text-2xl tracking-widest font-light",children:"2026 4 25   4 50"}),b.jsx("div",{className:"h-px w-12 bg-white/60"})]})]}),b.jsx("div",{className:"absolute bottom-8 z-20 animate-bounce text-white/80 text-sm tracking-widest font-classic",children:" "})]})},y1=(s,{threshold:e=.1,root:n=null,rootMargin:r="0%"}={})=>{const[o,c]=ie.useState(!1);return ie.useEffect(()=>{const f=s?.current;if(!f)return;const m=new IntersectionObserver(([g])=>{g.isIntersecting&&(c(!0),m.unobserve(f))},{threshold:e,root:n,rootMargin:r});return m.observe(f),()=>{m.disconnect()}},[s,e,n,r]),o},_1=()=>{const s=ie.useRef(null),e=y1(s,{threshold:.3});return b.jsx("section",{className:"py-20 px-4 text-center bg-white",ref:s,children:b.jsxs("div",{className:`transition-all duration-1000 ease-out transform ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[b.jsxs("div",{className:"mb-12",children:[b.jsx("p",{className:"text-primary text-sm tracking-[0.2em] mb-3 opacity-60 font-classic",children:" "}),b.jsx("h2",{className:"text-3xl md:text-4xl text-text font-classic font-bold",children:" "})]}),b.jsxs("div",{className:"font-classic text-xl leading-loose text-text/80 mb-12 space-y-2",children:[b.jsx("p",{children:"    "}),b.jsx("p",{children:"  ."}),b.jsx("p",{children:"  "}),b.jsx("p",{children:"  ."})]}),b.jsxs("div",{className:"flex flex-col items-center gap-4 font-classic text-xl",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("span",{className:"text-base text-primary font-bold tracking-widest",children:""}),b.jsx("strong",{className:"text-text text-2xl font-bold",children:""})]}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("span",{className:"text-base text-primary font-bold tracking-widest",children:""}),b.jsx("strong",{className:"text-text text-2xl font-bold",children:""})]})]})]})})},v1=()=>b.jsx("section",{style:ii.section,children:b.jsxs("div",{style:ii.container,children:[b.jsxs("div",{style:ii.item,children:[b.jsx("h3",{style:ii.label,children:""}),b.jsx("p",{style:ii.value,children:"2026 4 25"}),b.jsx("p",{style:ii.subValue,children:"  4 50"})]}),b.jsx("div",{style:ii.divider}),b.jsxs("div",{style:ii.item,children:[b.jsx("h3",{style:ii.label,children:""}),b.jsx("p",{style:ii.value,children:"   7 "}),b.jsx("p",{style:ii.subValue,children:"   4 140"})]})]})}),ii={section:{padding:"3rem 1.5rem",backgroundColor:"#fff"},container:{backgroundColor:"#fff",padding:"2rem",borderRadius:"2px",boxShadow:"0 5px 15px rgba(0,0,0,0.03)",maxWidth:"400px",margin:"0 auto"},item:{textAlign:"center",marginBottom:"1.5rem"},divider:{width:"1px",height:"40px",backgroundColor:"#ddd",margin:"0 auto 1.5rem"},label:{fontSize:"0.8rem",color:"#aaa",letterSpacing:"0.1em",marginBottom:"0.5rem"},value:{fontSize:"1.3rem",fontFamily:"var(--font-serif)",fontWeight:"700",marginBottom:"0.2rem"},subValue:{fontSize:"0.95rem",color:"#666"}},b1="/Invitation/assets/ssr-01-B4xaqSO9.JPG",T1=Object.freeze(Object.defineProperty({__proto__:null,default:b1},Symbol.toStringTag,{value:"Module"})),E1="/Invitation/assets/ssr-02-1QYa-A_6.JPG",w1=Object.freeze(Object.defineProperty({__proto__:null,default:E1},Symbol.toStringTag,{value:"Module"})),S1="/Invitation/assets/sr-01-Nkos2fhL.jpg",A1=Object.freeze(Object.defineProperty({__proto__:null,default:S1},Symbol.toStringTag,{value:"Module"})),x1="/Invitation/assets/sr-02-B_fI4msP.jpg",R1=Object.freeze(Object.defineProperty({__proto__:null,default:x1},Symbol.toStringTag,{value:"Module"})),I1="/Invitation/assets/sr-03-TsE9Yvyd.jpg",C1=Object.freeze(Object.defineProperty({__proto__:null,default:I1},Symbol.toStringTag,{value:"Module"})),N1="/Invitation/assets/sr-04-BoW-Kdv9.jpg",D1=Object.freeze(Object.defineProperty({__proto__:null,default:N1},Symbol.toStringTag,{value:"Module"})),O1="/Invitation/assets/sr-05-H8F9HfXD.jpg",M1=Object.freeze(Object.defineProperty({__proto__:null,default:O1},Symbol.toStringTag,{value:"Module"})),V1="/Invitation/assets/sr-06-D_ryPiQm.jpg",k1=Object.freeze(Object.defineProperty({__proto__:null,default:V1},Symbol.toStringTag,{value:"Module"})),j1="/Invitation/assets/r-01-tqTTyRFi.jpg",L1=Object.freeze(Object.defineProperty({__proto__:null,default:j1},Symbol.toStringTag,{value:"Module"})),U1="/Invitation/assets/r-02-fqSG2lQg.jpg",P1=Object.freeze(Object.defineProperty({__proto__:null,default:U1},Symbol.toStringTag,{value:"Module"})),z1="/Invitation/assets/r-03-CGYDgkPS.jpg",B1=Object.freeze(Object.defineProperty({__proto__:null,default:z1},Symbol.toStringTag,{value:"Module"})),q1="/Invitation/assets/r-04-oYF5PhvR.jpg",H1=Object.freeze(Object.defineProperty({__proto__:null,default:q1},Symbol.toStringTag,{value:"Module"})),F1="/Invitation/assets/r-05-1r9ml69j.jpg",G1=Object.freeze(Object.defineProperty({__proto__:null,default:F1},Symbol.toStringTag,{value:"Module"})),Q1="/Invitation/assets/r-06-CGsovLs7.jpg",K1=Object.freeze(Object.defineProperty({__proto__:null,default:Q1},Symbol.toStringTag,{value:"Module"})),Y1="/Invitation/assets/r-07-CUXLEnuu.jpg",X1=Object.freeze(Object.defineProperty({__proto__:null,default:Y1},Symbol.toStringTag,{value:"Module"})),$1="/Invitation/assets/r-08-DnA2EqP1.jpg",J1=Object.freeze(Object.defineProperty({__proto__:null,default:$1},Symbol.toStringTag,{value:"Module"})),Z1="/Invitation/assets/r-09-CYEI5d1p.jpg",W1=Object.freeze(Object.defineProperty({__proto__:null,default:Z1},Symbol.toStringTag,{value:"Module"})),eA="/Invitation/assets/r-10-Dn0CQCG_.jpg",tA=Object.freeze(Object.defineProperty({__proto__:null,default:eA},Symbol.toStringTag,{value:"Module"})),nA="/Invitation/assets/r-11-D3eFKwty.jpg",iA=Object.freeze(Object.defineProperty({__proto__:null,default:nA},Symbol.toStringTag,{value:"Module"})),sA="/Invitation/assets/r-12-BY68P3TW.jpg",rA=Object.freeze(Object.defineProperty({__proto__:null,default:sA},Symbol.toStringTag,{value:"Module"})),aA="/Invitation/assets/r-13-CEiRB3GN.jpg",oA=Object.freeze(Object.defineProperty({__proto__:null,default:aA},Symbol.toStringTag,{value:"Module"})),lA="/Invitation/assets/r-14-CrqTQkxo.jpg",cA=Object.freeze(Object.defineProperty({__proto__:null,default:lA},Symbol.toStringTag,{value:"Module"})),uA="/Invitation/assets/r-15-CMHvZkWT.jpg",hA=Object.freeze(Object.defineProperty({__proto__:null,default:uA},Symbol.toStringTag,{value:"Module"})),fA="/Invitation/assets/r-16-eAbJfSS7.jpg",dA=Object.freeze(Object.defineProperty({__proto__:null,default:fA},Symbol.toStringTag,{value:"Module"})),mA="/Invitation/assets/r-17-Lx5q0Lx1.jpg",pA=Object.freeze(Object.defineProperty({__proto__:null,default:mA},Symbol.toStringTag,{value:"Module"})),gA="/Invitation/assets/r-18-CZ-SmRv8.jpg",yA=Object.freeze(Object.defineProperty({__proto__:null,default:gA},Symbol.toStringTag,{value:"Module"})),Zm=()=>{const s=Object.assign({"/src/assets/images/SSR/ssr-01.JPG":T1,"/src/assets/images/SSR/ssr-02.JPG":w1}),e=Object.assign({"/src/assets/images/SR/sr-01.jpg":A1,"/src/assets/images/SR/sr-02.jpg":R1,"/src/assets/images/SR/sr-03.jpg":C1,"/src/assets/images/SR/sr-04.jpg":D1,"/src/assets/images/SR/sr-05.jpg":M1,"/src/assets/images/SR/sr-06.jpg":k1}),n=Object.assign({"/src/assets/images/R/r-01.jpg":L1,"/src/assets/images/R/r-02.jpg":P1,"/src/assets/images/R/r-03.jpg":B1,"/src/assets/images/R/r-04.jpg":H1,"/src/assets/images/R/r-05.jpg":G1,"/src/assets/images/R/r-06.jpg":K1,"/src/assets/images/R/r-07.jpg":X1,"/src/assets/images/R/r-08.jpg":J1,"/src/assets/images/R/r-09.jpg":W1,"/src/assets/images/R/r-10.jpg":tA,"/src/assets/images/R/r-11.jpg":iA,"/src/assets/images/R/r-12.jpg":rA,"/src/assets/images/R/r-13.jpg":oA,"/src/assets/images/R/r-14.jpg":cA,"/src/assets/images/R/r-15.jpg":hA,"/src/assets/images/R/r-16.jpg":dA,"/src/assets/images/R/r-17.jpg":pA,"/src/assets/images/R/r-18.jpg":yA}),r=(m,g)=>Object.entries(m).map(([y,E])=>({src:E.default,path:y,rarity:g})),o=r(s,"SSR"),c=r(e,"SR"),f=r(n,"R");return[...o,...c,...f]},k0=Zm(),wb=({forceUnlock:s=!1,rarityFilter:e=null,showRarity:n=!1})=>{const[r,o]=ie.useState(null),[c,f]=ie.useState(0),[m,g]=ie.useState(null),[y,E]=ie.useState(null),[S,R]=ie.useState(!1),[B,$]=ie.useState(null),[W,te]=ie.useState([]);ie.useEffect(()=>{const D=()=>{if(!s)try{const A=JSON.parse(localStorage.getItem("wedding_collection_v2")||"[]");te(A)}catch(A){console.error("Error loading collection:",A),te([])}};return D(),window.addEventListener("collectionUpdated",D),()=>window.removeEventListener("collectionUpdated",D)},[s]);const ae=k0.filter(D=>!e||D.rarity===e).sort((D,A)=>{const Ae={SSR:3,SR:2,R:1},Te=D.rarity.includes("SSR")?"SSR":D.rarity.includes("SR")?"SR":"R",H=A.rarity.includes("SSR")?"SSR":A.rarity.includes("SR")?"SR":"R",ee=Ae[Te]-Ae[H];return ee!==0?ee:D.path.localeCompare(A.path)}),he=D=>{D?.stopPropagation(),f(1),o(A=>(A+1)%ae.length)},le=D=>{D?.stopPropagation(),f(-1),o(A=>(A-1+ae.length)%ae.length)},Re=D=>{E(null),g(D.targetTouches[0].clientX)},Ye=D=>E(D.targetTouches[0].clientX),Ce=()=>{if(!m||!y)return;const D=m-y,A=D>50,Ae=D<-50;A&&he(),Ae&&le()},I=D=>{R(!0),$(D.clientX)},x=D=>{S&&D.preventDefault()},N=D=>{if(!S||B===null)return;const A=B-D.clientX;A>50?he():A<-50&&le(),R(!1),$(null)},k=()=>{S&&R(!1)},C=D=>{const A=ae.findIndex(Ae=>Ae.src===D);A!==-1&&(f(0),o(A))};return b.jsxs("section",{id:"gallery",className:"py-20 bg-background relative overflow-hidden",children:[b.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[b.jsx("div",{className:"absolute top-10 right-10 w-64 h-64 bg-primary/5 rounded-full blur-3xl"}),b.jsx("div",{className:"absolute bottom-10 left-10 w-96 h-96 bg-secondary/5 rounded-full blur-3xl"})]}),b.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[b.jsx("h2",{className:"text-3xl md:text-4xl text-primary font-classic font-bold mb-4 text-center animate-fade-in-up",children:" "}),b.jsxs("p",{className:"text-text/60 text-center font-body mb-12 tracking-widest uppercase text-sm animate-fade-in-up delay-100 font-classic",children:["  ",s?"":`(${W.length}/${k0.length})`]}),b.jsx("div",{className:"grid grid-cols-3 gap-2 md:gap-4 lg:gap-6",children:ae.map((D,A)=>{const Ae=s||W.includes(D.path),Te=D.rarity.includes("SSR")?"SSR":D.rarity.includes("SR")?"SR":"R",H={SSR:"border-yellow-400 ring-2 ring-yellow-400/50 shadow-md",SR:"border-blue-400 ring-1 ring-blue-400/30",R:"border-stone-400"},ee={SSR:"bg-yellow-400 text-black border-yellow-200",SR:"bg-blue-500 text-white border-blue-300",R:"bg-stone-500 text-white border-stone-400"},ue={SSR:"",SR:"",R:""};return b.jsxs("div",{className:`
                                    group relative rounded-2xl overflow-hidden shadow-soft-md hover:shadow-soft-xl transition-all duration-500 hover:-translate-y-1 bg-white
                                    ${n&&Ae?`border-[3px] ${H[Te]}`:""}
                                `,onClick:()=>Ae&&C(D.src),children:[n&&b.jsxs("div",{className:`
                                        absolute top-2 right-2 z-20 px-2 py-0.5 rounded-full border shadow-sm text-[10px] font-bold flex items-center gap-1 backdrop-blur-sm
                                        ${ee[Te]}
                                        ${!Ae&&"opacity-80 grayscale-[30%]"} 
                                    `,children:[b.jsx("span",{children:ue[Te]}),b.jsx("span",{children:Te})]}),b.jsxs("div",{className:"relative overflow-hidden aspect-square",children:[b.jsx("img",{src:D.src,alt:`Gallery ${A+1}`,className:`w-full h-full object-cover transition-all duration-700 
                                            ${Ae?"cursor-pointer hover:scale-110 filter brightness-100":"blur-xl grayscale contrast-125 cursor-not-allowed opacity-50"}
                                        `,loading:"lazy"}),Ae&&b.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors duration-300 pointer-events-none"}),!Ae&&b.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/10 z-10 backdrop-blur-[2px]",children:[b.jsx("div",{className:"bg-white/90 backdrop-blur-md p-4 rounded-full shadow-lg transform group-hover:scale-110 transition-transform duration-300",children:b.jsx("span",{className:"text-2xl",children:""})}),b.jsx("span",{className:"text-white font-bold tracking-widest mt-2 drop-shadow-md text-xs uppercase bg-black/20 px-3 py-1 rounded-full",children:"Locked"})]})]})]},D.path)})})]}),r!==null&&b.jsxs("div",{className:"fixed inset-0 z-[1001] flex items-center justify-center bg-black/95 backdrop-blur-md p-0 animate-in fade-in duration-200",onClick:()=>o(null),children:[b.jsxs("div",{className:"relative w-full h-full flex items-center justify-center group",onClick:D=>D.stopPropagation(),onTouchStart:Re,onTouchMove:Ye,onTouchEnd:Ce,onMouseDown:I,onMouseMove:x,onMouseUp:N,onMouseLeave:k,children:[b.jsx("button",{className:"absolute left-4 z-[1002] p-4 text-white/50 hover:text-white transition-all hover:scale-110 active:scale-95 hidden md:block",onClick:le,children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 drop-shadow-md",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),b.jsx("img",{src:ae[r].src,alt:"Full view",className:`
                                max-w-full max-h-[100vh] object-contain select-none pointer-events-none md:pointer-events-auto
                                ${c===1?"animate-slide-in-right":c===-1?"animate-slide-in-left":""}
                            `,draggable:"false"},r),b.jsx("button",{className:"absolute right-4 z-[1002] p-4 text-white/50 hover:text-white transition-all hover:scale-110 active:scale-95 hidden md:block",onClick:he,children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 drop-shadow-md",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),b.jsx("button",{className:"absolute top-4 right-4 text-white/80 hover:text-white transition-colors z-[1002] p-2",onClick:()=>o(null),children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 drop-shadow-lg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M6 18L18 6M6 6l12 12"})})}),b.jsxs("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 text-white/80 font-mono text-sm bg-black/50 px-3 py-1 rounded-full backdrop-blur-sm z-[1002]",children:[r+1," / ",ae.length]})]})]})},_A=()=>b.jsxs("section",{className:"py-20 px-4 md:px-6 bg-background text-center relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-4xl h-full max-h-[500px] bg-primary/5 rounded-full blur-[100px] pointer-events-none"}),b.jsxs("div",{className:"relative z-10 w-full max-w-6xl mx-auto",children:[b.jsx("h2",{className:"text-3xl md:text-4xl text-primary font-classic font-bold mb-12 text-center animate-fade-in-up",children:"  "}),b.jsx("div",{className:"w-full aspect-video rounded-3xl overflow-hidden shadow-soft-xl border border-white/50 bg-black/5 animate-fade-in-up delay-100",children:b.jsx("iframe",{className:"w-full h-full",src:"https://www.youtube-nocookie.com/embed/AreIxgzHcIQ",title:"Wedding Video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})})]})]}),Sb=()=>{const s="https://naver.me/x7ndUhZi",e="https://place.map.kakao.com/25447779",n=r=>{window.open(r,"_blank")};return b.jsxs("section",{className:"py-24 px-4 bg-background text-center relative overflow-hidden font-body",children:[b.jsx("div",{className:"mb-12 animate-fade-in-up",children:b.jsx("h2",{className:"text-4xl md:text-5xl text-text font-classic font-bold",children:" "})}),b.jsx("div",{className:"max-w-5xl mx-auto mb-12 animate-fade-in-up delay-100",children:b.jsx("div",{className:"w-full aspect-video md:aspect-[21/9] rounded-xl overflow-hidden shadow-sm border border-black/5 bg-gray-50",children:b.jsx("iframe",{src:"https://maps.google.com/maps?q=%20%20&t=&z=17&ie=UTF8&iwloc=&output=embed",className:"w-full h-full transition-all duration-700",frameBorder:"0",title:"Google Map",loading:"lazy",allowFullScreen:!0})})}),b.jsxs("div",{className:"max-w-lg mx-auto mb-12 space-y-2 animate-fade-in-up delay-200 font-classic",children:[b.jsxs("h3",{className:"text-2xl text-text font-bold tracking-wide",children:["  ",b.jsx("span",{className:"font-normal text-lg ml-2 text-text/60",children:"7 "})]}),b.jsx("p",{className:"text-text/70 text-lg",children:"   4 140"}),b.jsx("div",{className:"w-8 h-[1px] bg-primary/20 mx-auto my-4"}),b.jsx("p",{className:"text-text/50 text-sm tracking-wider",children:"Tel. 031-487-8100"})]}),b.jsxs("div",{className:"flex flex-wrap justify-center gap-4 animate-fade-in-up delay-300",children:[b.jsxs("button",{className:"flex items-center gap-3 px-8 py-3 bg-white border border-gray-200 rounded-full hover:border-[#03C75A] hover:bg-[#03C75A]/5 transition-all group font-classic",onClick:()=>n(s),children:[b.jsx(vA,{}),b.jsx("span",{className:"text-gray-600 group-hover:text-[#03C75A] font-medium transition-colors",children:" "})]}),b.jsxs("button",{className:"flex items-center gap-3 px-8 py-3 bg-white border border-gray-200 rounded-full hover:border-[#FEE500] hover:bg-[#FEE500]/10 transition-all group font-classic",onClick:()=>n(e),children:[b.jsx(bA,{}),b.jsx("span",{className:"text-gray-600 group-hover:text-black font-medium transition-colors",children:" "})]})]})]})},vA=()=>b.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-[#03C75A]",children:b.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.4153 3H21V21H16.4153V10.7417L7.69231 21H3V3H7.69231V13.2519L16.4153 3Z",fill:"currentColor"})}),bA=()=>b.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",className:"text-[#FEE500]",children:b.jsx("path",{d:"M12 3C6.47715 3 2 6.35786 2 10.5C2 13.1679 3.65685 15.5393 6.1875 16.9079L5.4375 19.6579C5.375 19.8766 5.5625 20.0641 5.78125 20.0016L9.625 19.0641C10.375 19.2829 11.1875 19.4079 12 19.4079C17.5228 19.4079 22 16.05 22 11.9079C22 7.76579 17.5228 4.40786 12 4.40786V3Z"})}),TA=()=>{const[s,e]=ie.useState(!1),n=ie.useRef(null),r=()=>{s?n.current.pause():n.current.play(),e(!s)};return ie.useEffect(()=>{if(n.current){n.current.volume=.5;const o=n.current.play();o!==void 0&&o.then(()=>{e(!0)}).catch(c=>{console.log("Auto-play prevented:",c),e(!1)})}},[]),b.jsxs("div",{style:j0.container,children:[b.jsx("audio",{ref:n,src:"/Invitation/bgm.mp3",loop:!0}),b.jsx("button",{onClick:r,style:j0.button,children:s?" ":" "})]})},j0={container:{position:"fixed",top:"20px",right:"20px",zIndex:1e3},button:{background:"rgba(255, 255, 255, 0.8)",border:"1px solid #ddd",borderRadius:"20px",padding:"8px 16px",fontSize:"0.8rem",cursor:"pointer",boxShadow:"0 2px 5px rgba(0,0,0,0.1)",display:"flex",alignItems:"center",gap:"5px",fontFamily:"'Gowun Batang', serif"}},EA=()=>{const[s,e]=ie.useState(null),n=[{id:"groom",label:"   ",description:"   .",accounts:[{relation:"",name:"000",bank:"00",account:"000-000-000000"},{relation:"",name:"000",bank:"00",account:"000-000-000000"},{relation:"",name:"",bank:"",account:"495-910449-55107"}]},{id:"bride",label:"   ",description:"   .",accounts:[{relation:"",name:"000",bank:"00",account:"000-000-000000"},{relation:"",name:"000",bank:"00",account:"000-000-000000"},{relation:"",name:"",bank:"",account:"110-297-915880"}]}],r=o=>{const c=`${o.bank} ${o.account}`;navigator.clipboard.writeText(c).then(()=>{e(o.account),setTimeout(()=>e(null),2e3)})};return b.jsxs("section",{className:"py-20 px-6 bg-background text-center relative overflow-hidden font-body",children:[b.jsx("h2",{className:"text-3xl md:text-4xl text-primary font-classic font-bold mb-10 text-center animate-fade-in-up",children:"  "}),b.jsx("div",{className:"max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8 animate-fade-in-up delay-100",children:n.map(o=>b.jsxs("div",{className:"bg-white/60 backdrop-blur-md rounded-2xl overflow-hidden shadow-soft-md border border-white/50 flex flex-col h-full",children:[b.jsxs("div",{className:"bg-white/80 p-6 border-b border-primary/10",children:[b.jsx("h3",{className:"font-classic text-xl text-primary font-bold mb-2",children:o.label}),b.jsx("p",{className:"text-sm text-gray-500 font-medium",children:o.description})]}),b.jsx("div",{className:"p-6 space-y-4 flex-1",children:o.accounts.map((c,f)=>b.jsxs("div",{className:"flex flex-col items-start gap-2 p-4 rounded-xl bg-white/50 hover:bg-white transition-colors border border-transparent hover:border-primary/20",children:[b.jsxs("div",{className:"flex items-center justify-between w-full",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"text-sm font-bold text-gray-500 w-12 text-left",children:c.relation}),b.jsx("span",{className:"text-base font-bold text-text",children:c.name})]}),b.jsx("button",{onClick:()=>r(c),className:`
                                                px-3 py-1 rounded-full text-xs font-medium transition-all duration-300
                                                ${s===c.account?"bg-[#03C75A] text-white shadow-sm":"bg-white border border-gray-200 text-gray-600 hover:border-primary hover:text-primary"}
                                            `,children:s===c.account?"":""})]}),b.jsxs("div",{className:"text-sm text-gray-600 font-mono w-full text-left pl-14",children:[c.bank," ",b.jsx("span",{className:"mx-1",children:"|"})," ",c.account]})]},f))})]},o.id))})]})},wA=()=>b.jsxs("div",{className:"app-container font-classic",children:[b.jsx(g1,{}),b.jsx(_1,{}),b.jsx(v1,{}),b.jsx(wb,{forceUnlock:!0,rarityFilter:"R"}),b.jsx(_A,{}),b.jsx(EA,{}),b.jsx(TA,{}),b.jsx(Sb,{})]}),SA=()=>{};var L0={};const Ab=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},AA=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[n++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[n++],f=s[n++],m=s[n++],g=((o&7)<<18|(c&63)<<12|(f&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const c=s[n++],f=s[n++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return e.join("")},xb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const c=s[o],f=o+1<s.length,m=f?s[o+1]:0,g=o+2<s.length,y=g?s[o+2]:0,E=c>>2,S=(c&3)<<4|m>>4;let R=(m&15)<<2|y>>6,B=y&63;g||(B=64,f||(R=64)),r.push(n[E],n[S],n[R],n[B])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Ab(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):AA(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const c=n[s.charAt(o++)],m=o<s.length?n[s.charAt(o)]:0;++o;const y=o<s.length?n[s.charAt(o)]:64;++o;const S=o<s.length?n[s.charAt(o)]:64;if(++o,c==null||m==null||y==null||S==null)throw new xA;const R=c<<2|m>>4;if(r.push(R),y!==64){const B=m<<4&240|y>>2;if(r.push(B),S!==64){const $=y<<6&192|S;r.push($)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class xA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RA=function(s){const e=Ab(s);return xb.encodeByteArray(e,!0)},uh=function(s){return RA(s).replace(/\./g,"")},Rb=function(s){try{return xb.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function IA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const CA=()=>IA().__FIREBASE_DEFAULTS__,NA=()=>{if(typeof process>"u"||typeof L0>"u")return;const s=L0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},DA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Rb(s[1]);return e&&JSON.parse(e)},Mh=()=>{try{return SA()||CA()||NA()||DA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Ib=s=>Mh()?.emulatorHosts?.[s],OA=s=>{const e=Ib(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Cb=()=>Mh()?.config,Nb=s=>Mh()?.[`_${s}`];class MA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function To(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Db(s){return(await fetch(s,{credentials:"include"})).ok}function VA(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[uh(JSON.stringify(n)),uh(JSON.stringify(f)),""].join(".")}const ql={};function kA(){const s={prod:[],emulator:[]};for(const e of Object.keys(ql))ql[e]?s.emulator.push(e):s.prod.push(e);return s}function jA(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let U0=!1;function Ob(s,e){if(typeof window>"u"||typeof document>"u"||!To(window.location.host)||ql[s]===e||ql[s]||U0)return;ql[s]=e;function n(R){return`__firebase__banner__${R}`}const r="__firebase__banner",c=kA().prod.length>0;function f(){const R=document.getElementById(r);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function g(R,B){R.setAttribute("width","24"),R.setAttribute("id",B),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function y(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{U0=!0,f()},R}function E(R,B){R.setAttribute("id",B),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function S(){const R=jA(r),B=n("text"),$=document.getElementById(B)||document.createElement("span"),W=n("learnmore"),te=document.getElementById(W)||document.createElement("a"),ae=n("preprendIcon"),he=document.getElementById(ae)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const le=R.element;m(le),E(te,W);const Re=y();g(he,ae),le.append(he,$,te,Re),document.body.appendChild(le)}c?($.innerText="Preview backend disconnected.",he.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(he.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function UA(){const s=Mh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Mb(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function zA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BA(){const s=Wt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function qA(){return!UA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Vb(){try{return typeof indexedDB=="object"}catch{return!1}}function kb(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}function HA(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const FA="FirebaseError";class ci extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=FA,Object.setPrototypeOf(this,ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,la.prototype.create)}}class la{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],f=c?GA(c,r):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new ci(o,m,r)}}function GA(s,e){return s.replace(QA,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const QA=/\{\$([^}]+)}/g;function KA(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function us(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const c=s[o],f=e[o];if(P0(c)&&P0(f)){if(!us(c,f))return!1}else if(c!==f)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function P0(s){return s!==null&&typeof s=="object"}function ac(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function YA(s,e){const n=new XA(s,e);return n.subscribe.bind(n)}class XA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");$A(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=um),o.error===void 0&&(o.error=um),o.complete===void 0&&(o.complete=um);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $A(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function um(){}const JA=1e3,ZA=2,WA=14400*1e3,ex=.5;function z0(s,e=JA,n=ZA){const r=e*Math.pow(n,s),o=Math.round(ex*r*(Math.random()-.5)*2);return Math.min(WA,r+o)}function mt(s){return s&&s._delegate?s._delegate:s}class oi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Zr="[DEFAULT]";class tx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new MA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ix(e))try{this.getOrInitializeService({instanceIdentifier:Zr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=Zr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zr){return this.instances.has(e)}getOptions(e=Zr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[c,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);r===m&&f.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nx(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zr){return this.component?this.component.multipleInstances?e:Zr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nx(s){return s===Zr?void 0:s}function ix(s){return s.instantiationMode==="EAGER"}class sx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Le;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Le||(Le={}));const rx={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},ax=Le.INFO,ox={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},lx=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=ox[e];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vh{constructor(e){this.name=e,this._logLevel=ax,this._logHandler=lx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const cx=(s,e)=>e.some(n=>s instanceof n);let B0,q0;function ux(){return B0||(B0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hx(){return q0||(q0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jb=new WeakMap,xm=new WeakMap,Lb=new WeakMap,hm=new WeakMap,Wm=new WeakMap;function fx(s){const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",f)},c=()=>{n(ar(s.result)),o()},f=()=>{r(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&jb.set(n,s)}).catch(()=>{}),Wm.set(e,s),e}function dx(s){if(xm.has(s))return;const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",f),s.removeEventListener("abort",f)},c=()=>{n(),o()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",f),s.addEventListener("abort",f)});xm.set(s,e)}let Rm={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return xm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Lb.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ar(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function mx(s){Rm=s(Rm)}function px(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(fm(this),e,...n);return Lb.set(r,e.sort?e.sort():[e]),ar(r)}:hx().includes(s)?function(...e){return s.apply(fm(this),e),ar(jb.get(this))}:function(...e){return ar(s.apply(fm(this),e))}}function gx(s){return typeof s=="function"?px(s):(s instanceof IDBTransaction&&dx(s),cx(s,ux())?new Proxy(s,Rm):s)}function ar(s){if(s instanceof IDBRequest)return fx(s);if(hm.has(s))return hm.get(s);const e=gx(s);return e!==s&&(hm.set(s,e),Wm.set(e,s)),e}const fm=s=>Wm.get(s);function Ub(s,e,{blocked:n,upgrade:r,blocking:o,terminated:c}={}){const f=indexedDB.open(s,e),m=ar(f);return r&&f.addEventListener("upgradeneeded",g=>{r(ar(f.result),g.oldVersion,g.newVersion,ar(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const yx=["get","getKey","getAll","getAllKeys","count"],_x=["put","add","delete","clear"],dm=new Map;function H0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(dm.get(e))return dm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=_x.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||yx.includes(n)))return;const c=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return dm.set(e,c),c}mx(s=>({...s,get:(e,n,r)=>H0(e,n)||s.get(e,n,r),has:(e,n)=>!!H0(e,n)||s.has(e,n)}));class vx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bx(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function bx(s){return s.getComponent()?.type==="VERSION"}const Im="@firebase/app",F0="0.14.7";const hs=new Vh("@firebase/app"),Tx="@firebase/app-compat",Ex="@firebase/analytics-compat",wx="@firebase/analytics",Sx="@firebase/app-check-compat",Ax="@firebase/app-check",xx="@firebase/auth",Rx="@firebase/auth-compat",Ix="@firebase/database",Cx="@firebase/data-connect",Nx="@firebase/database-compat",Dx="@firebase/functions",Ox="@firebase/functions-compat",Mx="@firebase/installations",Vx="@firebase/installations-compat",kx="@firebase/messaging",jx="@firebase/messaging-compat",Lx="@firebase/performance",Ux="@firebase/performance-compat",Px="@firebase/remote-config",zx="@firebase/remote-config-compat",Bx="@firebase/storage",qx="@firebase/storage-compat",Hx="@firebase/firestore",Fx="@firebase/ai",Gx="@firebase/firestore-compat",Qx="firebase",Kx="12.8.0";const Cm="[DEFAULT]",Yx={[Im]:"fire-core",[Tx]:"fire-core-compat",[wx]:"fire-analytics",[Ex]:"fire-analytics-compat",[Ax]:"fire-app-check",[Sx]:"fire-app-check-compat",[xx]:"fire-auth",[Rx]:"fire-auth-compat",[Ix]:"fire-rtdb",[Cx]:"fire-data-connect",[Nx]:"fire-rtdb-compat",[Dx]:"fire-fn",[Ox]:"fire-fn-compat",[Mx]:"fire-iid",[Vx]:"fire-iid-compat",[kx]:"fire-fcm",[jx]:"fire-fcm-compat",[Lx]:"fire-perf",[Ux]:"fire-perf-compat",[Px]:"fire-rc",[zx]:"fire-rc-compat",[Bx]:"fire-gcs",[qx]:"fire-gcs-compat",[Hx]:"fire-fst",[Gx]:"fire-fst-compat",[Fx]:"fire-vertex","fire-js":"fire-js",[Qx]:"fire-js-all"};const hh=new Map,Xx=new Map,Nm=new Map;function G0(s,e){try{s.container.addComponent(e)}catch(n){hs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function Pi(s){const e=s.name;if(Nm.has(e))return hs.debug(`There were multiple attempts to register component ${e}.`),!1;Nm.set(e,s);for(const n of hh.values())G0(n,s);for(const n of Xx.values())G0(n,s);return!0}function ca(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function si(s){return s==null?!1:s.settings!==void 0}const $x={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},or=new la("app","Firebase",$x);class Jx{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new oi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw or.create("app-deleted",{appName:this._name})}}const Eo=Kx;function Pb(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:Cm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw or.create("bad-app-name",{appName:String(o)});if(n||(n=Cb()),!n)throw or.create("no-options");const c=hh.get(o);if(c){if(us(n,c.options)&&us(r,c.config))return c;throw or.create("duplicate-app",{appName:o})}const f=new sx(o);for(const g of Nm.values())f.addComponent(g);const m=new Jx(n,r,f);return hh.set(o,m),m}function ep(s=Cm){const e=hh.get(s);if(!e&&s===Cm&&Cb())return Pb();if(!e)throw or.create("no-app",{appName:s});return e}function Hn(s,e,n){let r=Yx[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const f=[`Unable to register library "${r}" with version "${e}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hs.warn(f.join(" "));return}Pi(new oi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Zx="firebase-heartbeat-database",Wx=1,Xl="firebase-heartbeat-store";let mm=null;function zb(){return mm||(mm=Ub(Zx,Wx,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Xl)}catch(n){console.warn(n)}}}}).catch(s=>{throw or.create("idb-open",{originalErrorMessage:s.message})})),mm}async function eR(s){try{const n=(await zb()).transaction(Xl),r=await n.objectStore(Xl).get(Bb(s));return await n.done,r}catch(e){if(e instanceof ci)hs.warn(e.message);else{const n=or.create("idb-get",{originalErrorMessage:e?.message});hs.warn(n.message)}}}async function Q0(s,e){try{const r=(await zb()).transaction(Xl,"readwrite");await r.objectStore(Xl).put(e,Bb(s)),await r.done}catch(n){if(n instanceof ci)hs.warn(n.message);else{const r=or.create("idb-set",{originalErrorMessage:n?.message});hs.warn(r.message)}}}function Bb(s){return`${s.name}!${s.options.appId}`}const tR=1024,nR=30;class iR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new rR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=K0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>nR){const o=aR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){hs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=K0(),{heartbeatsToSend:n,unsentEntries:r}=sR(this._heartbeatsCache.heartbeats),o=uh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return hs.warn(e),""}}}function K0(){return new Date().toISOString().substring(0,10)}function sR(s,e=tR){const n=[];let r=s.slice();for(const o of s){const c=n.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),Y0(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Y0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class rR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Vb()?kb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await eR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Q0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Q0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Y0(s){return uh(JSON.stringify({version:2,heartbeats:s})).length}function aR(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}function oR(s){Pi(new oi("platform-logger",e=>new vx(e),"PRIVATE")),Pi(new oi("heartbeat",e=>new iR(e),"PRIVATE")),Hn(Im,F0,s),Hn(Im,F0,"esm2020"),Hn("fire-js","")}oR("");var lR="firebase",cR="12.8.0";Hn(lR,cR,"app");const qb="@firebase/installations",tp="0.6.19";const Hb=1e4,Fb=`w:${tp}`,Gb="FIS_v2",uR="https://firebaseinstallations.googleapis.com/v1",hR=3600*1e3,fR="installations",dR="Installations";const mR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ia=new la(fR,dR,mR);function Qb(s){return s instanceof ci&&s.code.includes("request-failed")}function Kb({projectId:s}){return`${uR}/projects/${s}/installations`}function Yb(s){return{token:s.token,requestStatus:2,expiresIn:gR(s.expiresIn),creationTime:Date.now()}}async function Xb(s,e){const r=(await e.json()).error;return ia.create("request-failed",{requestName:s,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function $b({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function pR(s,{refreshToken:e}){const n=$b(s);return n.append("Authorization",yR(e)),n}async function Jb(s){const e=await s();return e.status>=500&&e.status<600?s():e}function gR(s){return Number(s.replace("s","000"))}function yR(s){return`${Gb} ${s}`}async function _R({appConfig:s,heartbeatServiceProvider:e},{fid:n}){const r=Kb(s),o=$b(s),c=e.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={fid:n,authVersion:Gb,appId:s.appId,sdkVersion:Fb},m={method:"POST",headers:o,body:JSON.stringify(f)},g=await Jb(()=>fetch(r,m));if(g.ok){const y=await g.json();return{fid:y.fid||n,registrationStatus:2,refreshToken:y.refreshToken,authToken:Yb(y.authToken)}}else throw await Xb("Create Installation",g)}function Zb(s){return new Promise(e=>{setTimeout(e,s)})}function vR(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}const bR=/^[cdef][\w-]{21}$/,Dm="";function TR(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const n=ER(s);return bR.test(n)?n:Dm}catch{return Dm}}function ER(s){return vR(s).substr(0,22)}function kh(s){return`${s.appName}!${s.appId}`}const Wb=new Map;function eT(s,e){const n=kh(s);tT(n,e),wR(n,e)}function tT(s,e){const n=Wb.get(s);if(n)for(const r of n)r(e)}function wR(s,e){const n=SR();n&&n.postMessage({key:s,fid:e}),AR()}let Wr=null;function SR(){return!Wr&&"BroadcastChannel"in self&&(Wr=new BroadcastChannel("[Firebase] FID Change"),Wr.onmessage=s=>{tT(s.data.key,s.data.fid)}),Wr}function AR(){Wb.size===0&&Wr&&(Wr.close(),Wr=null)}const xR="firebase-installations-database",RR=1,sa="firebase-installations-store";let pm=null;function np(){return pm||(pm=Ub(xR,RR,{upgrade:(s,e)=>{e===0&&s.createObjectStore(sa)}})),pm}async function fh(s,e){const n=kh(s),o=(await np()).transaction(sa,"readwrite"),c=o.objectStore(sa),f=await c.get(n);return await c.put(e,n),await o.done,(!f||f.fid!==e.fid)&&eT(s,e.fid),e}async function nT(s){const e=kh(s),r=(await np()).transaction(sa,"readwrite");await r.objectStore(sa).delete(e),await r.done}async function jh(s,e){const n=kh(s),o=(await np()).transaction(sa,"readwrite"),c=o.objectStore(sa),f=await c.get(n),m=e(f);return m===void 0?await c.delete(n):await c.put(m,n),await o.done,m&&(!f||f.fid!==m.fid)&&eT(s,m.fid),m}async function ip(s){let e;const n=await jh(s.appConfig,r=>{const o=IR(r),c=CR(s,o);return e=c.registrationPromise,c.installationEntry});return n.fid===Dm?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function IR(s){const e=s||{fid:TR(),registrationStatus:0};return iT(e)}function CR(s,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(ia.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=NR(s,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:DR(s)}:{installationEntry:e}}async function NR(s,e){try{const n=await _R(s,e);return fh(s.appConfig,n)}catch(n){throw Qb(n)&&n.customData.serverCode===409?await nT(s.appConfig):await fh(s.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function DR(s){let e=await X0(s.appConfig);for(;e.registrationStatus===1;)await Zb(100),e=await X0(s.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await ip(s);return r||n}return e}function X0(s){return jh(s,e=>{if(!e)throw ia.create("installation-not-found");return iT(e)})}function iT(s){return OR(s)?{fid:s.fid,registrationStatus:0}:s}function OR(s){return s.registrationStatus===1&&s.registrationTime+Hb<Date.now()}async function MR({appConfig:s,heartbeatServiceProvider:e},n){const r=VR(s,n),o=pR(s,n),c=e.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={installation:{sdkVersion:Fb,appId:s.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},g=await Jb(()=>fetch(r,m));if(g.ok){const y=await g.json();return Yb(y)}else throw await Xb("Generate Auth Token",g)}function VR(s,{fid:e}){return`${Kb(s)}/${e}/authTokens:generate`}async function sp(s,e=!1){let n;const r=await jh(s.appConfig,c=>{if(!sT(c))throw ia.create("not-registered");const f=c.authToken;if(!e&&LR(f))return c;if(f.requestStatus===1)return n=kR(s,e),c;{if(!navigator.onLine)throw ia.create("app-offline");const m=PR(c);return n=jR(s,m),m}});return n?await n:r.authToken}async function kR(s,e){let n=await $0(s.appConfig);for(;n.authToken.requestStatus===1;)await Zb(100),n=await $0(s.appConfig);const r=n.authToken;return r.requestStatus===0?sp(s,e):r}function $0(s){return jh(s,e=>{if(!sT(e))throw ia.create("not-registered");const n=e.authToken;return zR(n)?{...e,authToken:{requestStatus:0}}:e})}async function jR(s,e){try{const n=await MR(s,e),r={...e,authToken:n};return await fh(s.appConfig,r),n}catch(n){if(Qb(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await nT(s.appConfig);else{const r={...e,authToken:{requestStatus:0}};await fh(s.appConfig,r)}throw n}}function sT(s){return s!==void 0&&s.registrationStatus===2}function LR(s){return s.requestStatus===2&&!UR(s)}function UR(s){const e=Date.now();return e<s.creationTime||s.creationTime+s.expiresIn<e+hR}function PR(s){const e={requestStatus:1,requestTime:Date.now()};return{...s,authToken:e}}function zR(s){return s.requestStatus===1&&s.requestTime+Hb<Date.now()}async function BR(s){const e=s,{installationEntry:n,registrationPromise:r}=await ip(e);return r?r.catch(console.error):sp(e).catch(console.error),n.fid}async function qR(s,e=!1){const n=s;return await HR(n),(await sp(n,e)).token}async function HR(s){const{registrationPromise:e}=await ip(s);e&&await e}function FR(s){if(!s||!s.options)throw gm("App Configuration");if(!s.name)throw gm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!s.options[n])throw gm(n);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function gm(s){return ia.create("missing-app-config-values",{valueName:s})}const rT="installations",GR="installations-internal",QR=s=>{const e=s.getProvider("app").getImmediate(),n=FR(e),r=ca(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},KR=s=>{const e=s.getProvider("app").getImmediate(),n=ca(e,rT).getImmediate();return{getId:()=>BR(n),getToken:o=>qR(n,o)}};function YR(){Pi(new oi(rT,QR,"PUBLIC")),Pi(new oi(GR,KR,"PRIVATE"))}YR();Hn(qb,tp);Hn(qb,tp,"esm2020");const dh="analytics",XR="firebase_id",$R="origin",JR=60*1e3,ZR="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rp="https://www.googletagmanager.com/gtag/js";const an=new Vh("@firebase/analytics");const WR={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Rn=new la("analytics","Analytics",WR);function eI(s){if(!s.startsWith(rp)){const e=Rn.create("invalid-gtag-resource",{gtagURL:s});return an.warn(e.message),""}return s}function aT(s){return Promise.all(s.map(e=>e.catch(n=>n)))}function tI(s,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(s,e)),n}function nI(s,e){const n=tI("firebase-js-sdk-policy",{createScriptURL:eI}),r=document.createElement("script"),o=`${rp}?l=${s}&id=${e}`;r.src=n?n?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function iI(s){let e=[];return Array.isArray(window[s])?e=window[s]:window[s]=e,e}async function sI(s,e,n,r,o,c){const f=r[o];try{if(f)await e[f];else{const g=(await aT(n)).find(y=>y.measurementId===o);g&&await e[g.appId]}}catch(m){an.error(m)}s("config",o,c)}async function rI(s,e,n,r,o){try{let c=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await aT(n);for(const g of f){const y=m.find(S=>S.measurementId===g),E=y&&e[y.appId];if(E)c.push(E);else{c=[];break}}}c.length===0&&(c=Object.values(e)),await Promise.all(c),s("event",r,o||{})}catch(c){an.error(c)}}function aI(s,e,n,r){async function o(c,...f){try{if(c==="event"){const[m,g]=f;await rI(s,e,n,m,g)}else if(c==="config"){const[m,g]=f;await sI(s,e,n,r,m,g)}else if(c==="consent"){const[m,g]=f;s("consent",m,g)}else if(c==="get"){const[m,g,y]=f;s("get",m,g,y)}else if(c==="set"){const[m]=f;s("set",m)}else s(c,...f)}catch(m){an.error(m)}}return o}function oI(s,e,n,r,o){let c=function(...f){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(c=window[o]),window[o]=aI(c,s,e,n),{gtagCore:c,wrappedGtag:window[o]}}function lI(s){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(rp)&&n.src.includes(s))return n;return null}const cI=30,uI=1e3;class hI{constructor(e={},n=uI){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const oT=new hI;function fI(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function dI(s){const{appId:e,apiKey:n}=s,r={method:"GET",headers:fI(n)},o=ZR.replace("{app-id}",e),c=await fetch(o,r);if(c.status!==200&&c.status!==304){let f="";try{const m=await c.json();m.error?.message&&(f=m.error.message)}catch{}throw Rn.create("config-fetch-failed",{httpStatus:c.status,responseMessage:f})}return c.json()}async function mI(s,e=oT,n){const{appId:r,apiKey:o,measurementId:c}=s.options;if(!r)throw Rn.create("no-app-id");if(!o){if(c)return{measurementId:c,appId:r};throw Rn.create("no-api-key")}const f=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new yI;return setTimeout(async()=>{m.abort()},JR),lT({appId:r,apiKey:o,measurementId:c},f,m,e)}async function lT(s,{throttleEndTimeMillis:e,backoffCount:n},r,o=oT){const{appId:c,measurementId:f}=s;try{await pI(r,e)}catch(m){if(f)return an.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:c,measurementId:f};throw m}try{const m=await dI(s);return o.deleteThrottleMetadata(c),m}catch(m){const g=m;if(!gI(g)){if(o.deleteThrottleMetadata(c),f)return an.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:c,measurementId:f};throw m}const y=Number(g?.customData?.httpStatus)===503?z0(n,o.intervalMillis,cI):z0(n,o.intervalMillis),E={throttleEndTimeMillis:Date.now()+y,backoffCount:n+1};return o.setThrottleMetadata(c,E),an.debug(`Calling attemptFetch again in ${y} millis`),lT(s,E,r,o)}}function pI(s,e){return new Promise((n,r)=>{const o=Math.max(e-Date.now(),0),c=setTimeout(n,o);s.addEventListener(()=>{clearTimeout(c),r(Rn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function gI(s){if(!(s instanceof ci)||!s.customData)return!1;const e=Number(s.customData.httpStatus);return e===429||e===500||e===503||e===504}class yI{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function _I(s,e,n,r,o){if(o&&o.global){s("event",n,r);return}else{const c=await e,f={...r,send_to:c};s("event",n,f)}}async function vI(s,e,n,r){if(r&&r.global){const o={};for(const c of Object.keys(n))o[`user_properties.${c}`]=n[c];return s("set",o),Promise.resolve()}else{const o=await e;s("config",o,{update:!0,user_properties:n})}}async function bI(){if(Vb())try{await kb()}catch(s){return an.warn(Rn.create("indexeddb-unavailable",{errorInfo:s?.toString()}).message),!1}else return an.warn(Rn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function TI(s,e,n,r,o,c,f){const m=mI(s);m.then(R=>{n[R.measurementId]=R.appId,s.options.measurementId&&R.measurementId!==s.options.measurementId&&an.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${R.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(R=>an.error(R)),e.push(m);const g=bI().then(R=>{if(R)return r.getId()}),[y,E]=await Promise.all([m,g]);lI(c)||nI(c,y.measurementId),o("js",new Date);const S=f?.config??{};return S[$R]="firebase",S.update=!0,E!=null&&(S[XR]=E),o("config",y.measurementId,S),y.measurementId}class EI{constructor(e){this.app=e}_delete(){return delete ao[this.app.options.appId],Promise.resolve()}}let ao={},J0=[];const Z0={};let ym="dataLayer",wI="gtag",W0,ap,ev=!1;function SI(){const s=[];if(Mb()&&s.push("This is a browser extension environment."),HA()||s.push("Cookies are not available."),s.length>0){const e=s.map((r,o)=>`(${o+1}) ${r}`).join(" "),n=Rn.create("invalid-analytics-context",{errorInfo:e});an.warn(n.message)}}function AI(s,e,n){SI();const r=s.options.appId;if(!r)throw Rn.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)an.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Rn.create("no-api-key");if(ao[r]!=null)throw Rn.create("already-exists",{id:r});if(!ev){iI(ym);const{wrappedGtag:c,gtagCore:f}=oI(ao,J0,Z0,ym,wI);ap=c,W0=f,ev=!0}return ao[r]=TI(s,J0,Z0,e,W0,ym,n),new EI(s)}function xI(s=ep()){s=mt(s);const e=ca(s,dh);return e.isInitialized()?e.getImmediate():RI(s)}function RI(s,e={}){const n=ca(s,dh);if(n.isInitialized()){const o=n.getImmediate();if(us(e,n.getOptions()))return o;throw Rn.create("already-initialized")}return n.initialize({options:e})}function II(s,e,n){s=mt(s),vI(ap,ao[s.app.options.appId],e,n).catch(r=>an.error(r))}function CI(s,e,n,r){s=mt(s),_I(ap,ao[s.app.options.appId],e,n,r).catch(o=>an.error(o))}const tv="@firebase/analytics",nv="0.10.19";function NI(){Pi(new oi(dh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return AI(r,o,n)},"PUBLIC")),Pi(new oi("analytics-internal",s,"PRIVATE")),Hn(tv,nv),Hn(tv,nv,"esm2020");function s(e){try{const n=e.getProvider(dh).getImmediate();return{logEvent:(r,o,c)=>CI(n,r,o,c),setUserProperties:(r,o)=>II(n,r,o)}}catch(n){throw Rn.create("interop-component-reg-failed",{reason:n})}}}NI();var iv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var lr,cT;(function(){var s;function e(I,x){function N(){}N.prototype=x.prototype,I.F=x.prototype,I.prototype=new N,I.prototype.constructor=I,I.D=function(k,C,D){for(var A=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)A[Ae-2]=arguments[Ae];return x.prototype[C].apply(k,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,x,N){N||(N=0);const k=Array(16);if(typeof x=="string")for(var C=0;C<16;++C)k[C]=x.charCodeAt(N++)|x.charCodeAt(N++)<<8|x.charCodeAt(N++)<<16|x.charCodeAt(N++)<<24;else for(C=0;C<16;++C)k[C]=x[N++]|x[N++]<<8|x[N++]<<16|x[N++]<<24;x=I.g[0],N=I.g[1],C=I.g[2];let D=I.g[3],A;A=x+(D^N&(C^D))+k[0]+3614090360&4294967295,x=N+(A<<7&4294967295|A>>>25),A=D+(C^x&(N^C))+k[1]+3905402710&4294967295,D=x+(A<<12&4294967295|A>>>20),A=C+(N^D&(x^N))+k[2]+606105819&4294967295,C=D+(A<<17&4294967295|A>>>15),A=N+(x^C&(D^x))+k[3]+3250441966&4294967295,N=C+(A<<22&4294967295|A>>>10),A=x+(D^N&(C^D))+k[4]+4118548399&4294967295,x=N+(A<<7&4294967295|A>>>25),A=D+(C^x&(N^C))+k[5]+1200080426&4294967295,D=x+(A<<12&4294967295|A>>>20),A=C+(N^D&(x^N))+k[6]+2821735955&4294967295,C=D+(A<<17&4294967295|A>>>15),A=N+(x^C&(D^x))+k[7]+4249261313&4294967295,N=C+(A<<22&4294967295|A>>>10),A=x+(D^N&(C^D))+k[8]+1770035416&4294967295,x=N+(A<<7&4294967295|A>>>25),A=D+(C^x&(N^C))+k[9]+2336552879&4294967295,D=x+(A<<12&4294967295|A>>>20),A=C+(N^D&(x^N))+k[10]+4294925233&4294967295,C=D+(A<<17&4294967295|A>>>15),A=N+(x^C&(D^x))+k[11]+2304563134&4294967295,N=C+(A<<22&4294967295|A>>>10),A=x+(D^N&(C^D))+k[12]+1804603682&4294967295,x=N+(A<<7&4294967295|A>>>25),A=D+(C^x&(N^C))+k[13]+4254626195&4294967295,D=x+(A<<12&4294967295|A>>>20),A=C+(N^D&(x^N))+k[14]+2792965006&4294967295,C=D+(A<<17&4294967295|A>>>15),A=N+(x^C&(D^x))+k[15]+1236535329&4294967295,N=C+(A<<22&4294967295|A>>>10),A=x+(C^D&(N^C))+k[1]+4129170786&4294967295,x=N+(A<<5&4294967295|A>>>27),A=D+(N^C&(x^N))+k[6]+3225465664&4294967295,D=x+(A<<9&4294967295|A>>>23),A=C+(x^N&(D^x))+k[11]+643717713&4294967295,C=D+(A<<14&4294967295|A>>>18),A=N+(D^x&(C^D))+k[0]+3921069994&4294967295,N=C+(A<<20&4294967295|A>>>12),A=x+(C^D&(N^C))+k[5]+3593408605&4294967295,x=N+(A<<5&4294967295|A>>>27),A=D+(N^C&(x^N))+k[10]+38016083&4294967295,D=x+(A<<9&4294967295|A>>>23),A=C+(x^N&(D^x))+k[15]+3634488961&4294967295,C=D+(A<<14&4294967295|A>>>18),A=N+(D^x&(C^D))+k[4]+3889429448&4294967295,N=C+(A<<20&4294967295|A>>>12),A=x+(C^D&(N^C))+k[9]+568446438&4294967295,x=N+(A<<5&4294967295|A>>>27),A=D+(N^C&(x^N))+k[14]+3275163606&4294967295,D=x+(A<<9&4294967295|A>>>23),A=C+(x^N&(D^x))+k[3]+4107603335&4294967295,C=D+(A<<14&4294967295|A>>>18),A=N+(D^x&(C^D))+k[8]+1163531501&4294967295,N=C+(A<<20&4294967295|A>>>12),A=x+(C^D&(N^C))+k[13]+2850285829&4294967295,x=N+(A<<5&4294967295|A>>>27),A=D+(N^C&(x^N))+k[2]+4243563512&4294967295,D=x+(A<<9&4294967295|A>>>23),A=C+(x^N&(D^x))+k[7]+1735328473&4294967295,C=D+(A<<14&4294967295|A>>>18),A=N+(D^x&(C^D))+k[12]+2368359562&4294967295,N=C+(A<<20&4294967295|A>>>12),A=x+(N^C^D)+k[5]+4294588738&4294967295,x=N+(A<<4&4294967295|A>>>28),A=D+(x^N^C)+k[8]+2272392833&4294967295,D=x+(A<<11&4294967295|A>>>21),A=C+(D^x^N)+k[11]+1839030562&4294967295,C=D+(A<<16&4294967295|A>>>16),A=N+(C^D^x)+k[14]+4259657740&4294967295,N=C+(A<<23&4294967295|A>>>9),A=x+(N^C^D)+k[1]+2763975236&4294967295,x=N+(A<<4&4294967295|A>>>28),A=D+(x^N^C)+k[4]+1272893353&4294967295,D=x+(A<<11&4294967295|A>>>21),A=C+(D^x^N)+k[7]+4139469664&4294967295,C=D+(A<<16&4294967295|A>>>16),A=N+(C^D^x)+k[10]+3200236656&4294967295,N=C+(A<<23&4294967295|A>>>9),A=x+(N^C^D)+k[13]+681279174&4294967295,x=N+(A<<4&4294967295|A>>>28),A=D+(x^N^C)+k[0]+3936430074&4294967295,D=x+(A<<11&4294967295|A>>>21),A=C+(D^x^N)+k[3]+3572445317&4294967295,C=D+(A<<16&4294967295|A>>>16),A=N+(C^D^x)+k[6]+76029189&4294967295,N=C+(A<<23&4294967295|A>>>9),A=x+(N^C^D)+k[9]+3654602809&4294967295,x=N+(A<<4&4294967295|A>>>28),A=D+(x^N^C)+k[12]+3873151461&4294967295,D=x+(A<<11&4294967295|A>>>21),A=C+(D^x^N)+k[15]+530742520&4294967295,C=D+(A<<16&4294967295|A>>>16),A=N+(C^D^x)+k[2]+3299628645&4294967295,N=C+(A<<23&4294967295|A>>>9),A=x+(C^(N|~D))+k[0]+4096336452&4294967295,x=N+(A<<6&4294967295|A>>>26),A=D+(N^(x|~C))+k[7]+1126891415&4294967295,D=x+(A<<10&4294967295|A>>>22),A=C+(x^(D|~N))+k[14]+2878612391&4294967295,C=D+(A<<15&4294967295|A>>>17),A=N+(D^(C|~x))+k[5]+4237533241&4294967295,N=C+(A<<21&4294967295|A>>>11),A=x+(C^(N|~D))+k[12]+1700485571&4294967295,x=N+(A<<6&4294967295|A>>>26),A=D+(N^(x|~C))+k[3]+2399980690&4294967295,D=x+(A<<10&4294967295|A>>>22),A=C+(x^(D|~N))+k[10]+4293915773&4294967295,C=D+(A<<15&4294967295|A>>>17),A=N+(D^(C|~x))+k[1]+2240044497&4294967295,N=C+(A<<21&4294967295|A>>>11),A=x+(C^(N|~D))+k[8]+1873313359&4294967295,x=N+(A<<6&4294967295|A>>>26),A=D+(N^(x|~C))+k[15]+4264355552&4294967295,D=x+(A<<10&4294967295|A>>>22),A=C+(x^(D|~N))+k[6]+2734768916&4294967295,C=D+(A<<15&4294967295|A>>>17),A=N+(D^(C|~x))+k[13]+1309151649&4294967295,N=C+(A<<21&4294967295|A>>>11),A=x+(C^(N|~D))+k[4]+4149444226&4294967295,x=N+(A<<6&4294967295|A>>>26),A=D+(N^(x|~C))+k[11]+3174756917&4294967295,D=x+(A<<10&4294967295|A>>>22),A=C+(x^(D|~N))+k[2]+718787259&4294967295,C=D+(A<<15&4294967295|A>>>17),A=N+(D^(C|~x))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+x&4294967295,I.g[1]=I.g[1]+(C+(A<<21&4294967295|A>>>11))&4294967295,I.g[2]=I.g[2]+C&4294967295,I.g[3]=I.g[3]+D&4294967295}r.prototype.v=function(I,x){x===void 0&&(x=I.length);const N=x-this.blockSize,k=this.C;let C=this.h,D=0;for(;D<x;){if(C==0)for(;D<=N;)o(this,I,D),D+=this.blockSize;if(typeof I=="string"){for(;D<x;)if(k[C++]=I.charCodeAt(D++),C==this.blockSize){o(this,k),C=0;break}}else for(;D<x;)if(k[C++]=I[D++],C==this.blockSize){o(this,k),C=0;break}}this.h=C,this.o+=x},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var x=1;x<I.length-8;++x)I[x]=0;x=this.o*8;for(var N=I.length-8;N<I.length;++N)I[N]=x&255,x/=256;for(this.v(I),I=Array(16),x=0,N=0;N<4;++N)for(let k=0;k<32;k+=8)I[x++]=this.g[N]>>>k&255;return I};function c(I,x){var N=m;return Object.prototype.hasOwnProperty.call(N,I)?N[I]:N[I]=x(I)}function f(I,x){this.h=x;const N=[];let k=!0;for(let C=I.length-1;C>=0;C--){const D=I[C]|0;k&&D==x||(N[C]=D,k=!1)}this.g=N}var m={};function g(I){return-128<=I&&I<128?c(I,function(x){return new f([x|0],x<0?-1:0)}):new f([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return te(y(-I));const x=[];let N=1;for(let k=0;I>=N;k++)x[k]=I/N|0,N*=4294967296;return new f(x,0)}function E(I,x){if(I.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(I.charAt(0)=="-")return te(E(I.substring(1),x));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=y(Math.pow(x,8));let k=S;for(let D=0;D<I.length;D+=8){var C=Math.min(8,I.length-D);const A=parseInt(I.substring(D,D+C),x);C<8?(C=y(Math.pow(x,C)),k=k.j(C).add(y(A))):(k=k.j(N),k=k.add(y(A)))}return k}var S=g(0),R=g(1),B=g(16777216);s=f.prototype,s.m=function(){if(W(this))return-te(this).m();let I=0,x=1;for(let N=0;N<this.g.length;N++){const k=this.i(N);I+=(k>=0?k:4294967296+k)*x,x*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if($(this))return"0";if(W(this))return"-"+te(this).toString(I);const x=y(Math.pow(I,6));var N=this;let k="";for(;;){const C=Re(N,x).g;N=ae(N,C.j(x));let D=((N.g.length>0?N.g[0]:N.h)>>>0).toString(I);if(N=C,$(N))return D+k;for(;D.length<6;)D="0"+D;k=D+k}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function $(I){if(I.h!=0)return!1;for(let x=0;x<I.g.length;x++)if(I.g[x]!=0)return!1;return!0}function W(I){return I.h==-1}s.l=function(I){return I=ae(this,I),W(I)?-1:$(I)?0:1};function te(I){const x=I.g.length,N=[];for(let k=0;k<x;k++)N[k]=~I.g[k];return new f(N,~I.h).add(R)}s.abs=function(){return W(this)?te(this):this},s.add=function(I){const x=Math.max(this.g.length,I.g.length),N=[];let k=0;for(let C=0;C<=x;C++){let D=k+(this.i(C)&65535)+(I.i(C)&65535),A=(D>>>16)+(this.i(C)>>>16)+(I.i(C)>>>16);k=A>>>16,D&=65535,A&=65535,N[C]=A<<16|D}return new f(N,N[N.length-1]&-2147483648?-1:0)};function ae(I,x){return I.add(te(x))}s.j=function(I){if($(this)||$(I))return S;if(W(this))return W(I)?te(this).j(te(I)):te(te(this).j(I));if(W(I))return te(this.j(te(I)));if(this.l(B)<0&&I.l(B)<0)return y(this.m()*I.m());const x=this.g.length+I.g.length,N=[];for(var k=0;k<2*x;k++)N[k]=0;for(k=0;k<this.g.length;k++)for(let C=0;C<I.g.length;C++){const D=this.i(k)>>>16,A=this.i(k)&65535,Ae=I.i(C)>>>16,Te=I.i(C)&65535;N[2*k+2*C]+=A*Te,he(N,2*k+2*C),N[2*k+2*C+1]+=D*Te,he(N,2*k+2*C+1),N[2*k+2*C+1]+=A*Ae,he(N,2*k+2*C+1),N[2*k+2*C+2]+=D*Ae,he(N,2*k+2*C+2)}for(I=0;I<x;I++)N[I]=N[2*I+1]<<16|N[2*I];for(I=x;I<2*x;I++)N[I]=0;return new f(N,0)};function he(I,x){for(;(I[x]&65535)!=I[x];)I[x+1]+=I[x]>>>16,I[x]&=65535,x++}function le(I,x){this.g=I,this.h=x}function Re(I,x){if($(x))throw Error("division by zero");if($(I))return new le(S,S);if(W(I))return x=Re(te(I),x),new le(te(x.g),te(x.h));if(W(x))return x=Re(I,te(x)),new le(te(x.g),x.h);if(I.g.length>30){if(W(I)||W(x))throw Error("slowDivide_ only works with positive integers.");for(var N=R,k=x;k.l(I)<=0;)N=Ye(N),k=Ye(k);var C=Ce(N,1),D=Ce(k,1);for(k=Ce(k,2),N=Ce(N,2);!$(k);){var A=D.add(k);A.l(I)<=0&&(C=C.add(N),D=A),k=Ce(k,1),N=Ce(N,1)}return x=ae(I,C.j(x)),new le(C,x)}for(C=S;I.l(x)>=0;){for(N=Math.max(1,Math.floor(I.m()/x.m())),k=Math.ceil(Math.log(N)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),D=y(N),A=D.j(x);W(A)||A.l(I)>0;)N-=k,D=y(N),A=D.j(x);$(D)&&(D=R),C=C.add(D),I=ae(I,A)}return new le(C,I)}s.B=function(I){return Re(this,I).h},s.and=function(I){const x=Math.max(this.g.length,I.g.length),N=[];for(let k=0;k<x;k++)N[k]=this.i(k)&I.i(k);return new f(N,this.h&I.h)},s.or=function(I){const x=Math.max(this.g.length,I.g.length),N=[];for(let k=0;k<x;k++)N[k]=this.i(k)|I.i(k);return new f(N,this.h|I.h)},s.xor=function(I){const x=Math.max(this.g.length,I.g.length),N=[];for(let k=0;k<x;k++)N[k]=this.i(k)^I.i(k);return new f(N,this.h^I.h)};function Ye(I){const x=I.g.length+1,N=[];for(let k=0;k<x;k++)N[k]=I.i(k)<<1|I.i(k-1)>>>31;return new f(N,I.h)}function Ce(I,x){const N=x>>5;x%=32;const k=I.g.length-N,C=[];for(let D=0;D<k;D++)C[D]=x>0?I.i(D+N)>>>x|I.i(D+N+1)<<32-x:I.i(D+N);return new f(C,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,cT=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,lr=f}).apply(typeof iv<"u"?iv:typeof self<"u"?self:typeof window<"u"?window:{});var Qu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var uT,Ul,hT,Wu,Om,fT,dT,mT;(function(){var s,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qu=="object"&&Qu];for(var p=0;p<u.length;++p){var v=u[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function o(u,p){if(p)e:{var v=r;u=u.split(".");for(var w=0;w<u.length-1;w++){var U=u[w];if(!(U in v))break e;v=v[U]}u=u[u.length-1],w=v[u],p=p(w),p!=w&&p!=null&&e(v,u,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(p){var v=[],w;for(w in p)Object.prototype.hasOwnProperty.call(p,w)&&v.push([w,p[w]]);return v}});var c=c||{},f=this||self;function m(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function g(u,p,v){return u.call.apply(u.bind,arguments)}function y(u,p,v){return y=g,y.apply(null,arguments)}function E(u,p){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function S(u,p){function v(){}v.prototype=p.prototype,u.Z=p.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(w,U,F){for(var se=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)se[Ne-2]=arguments[Ne];return p.prototype[U].apply(w,se)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function B(u){const p=u.length;if(p>0){const v=Array(p);for(let w=0;w<p;w++)v[w]=u[w];return v}return[]}function $(u,p){for(let w=1;w<arguments.length;w++){const U=arguments[w];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const F=U.length||0;u.length=v+F;for(let se=0;se<F;se++)u[v+se]=U[se]}else u.push(U)}}class W{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function te(u){f.setTimeout(()=>{throw u},0)}function ae(){var u=I;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class he{constructor(){this.h=this.g=null}add(p,v){const w=le.get();w.set(p,v),this.h?this.h.next=w:this.g=w,this.h=w}}var le=new W(()=>new Re,u=>u.reset());class Re{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ye,Ce=!1,I=new he,x=()=>{const u=Promise.resolve(void 0);Ye=()=>{u.then(N)}};function N(){for(var u;u=ae();){try{u.h.call(u.g)}catch(v){te(v)}var p=le;p.j(u),p.h<100&&(p.h++,u.next=p.g,p.g=u)}Ce=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var D=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};f.addEventListener("test",v,p),f.removeEventListener("test",v,p)}catch{}return u})();function A(u){return/^[\s\xa0]*$/.test(u)}function Ae(u,p){C.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,p)}S(Ae,C),Ae.prototype.init=function(u,p){const v=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget,p||(v=="mouseover"?p=u.fromElement:v=="mouseout"&&(p=u.toElement)),this.relatedTarget=p,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Ae.Z.h.call(this)},Ae.prototype.h=function(){Ae.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Te="closure_listenable_"+(Math.random()*1e6|0),H=0;function ee(u,p,v,w,U){this.listener=u,this.proxy=null,this.src=p,this.type=v,this.capture=!!w,this.ha=U,this.key=++H,this.da=this.fa=!1}function ue(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ie(u,p,v){for(const w in u)p.call(v,u[w],w,u)}function pe(u,p){for(const v in u)p.call(void 0,u[v],v,u)}function O(u){const p={};for(const v in u)p[v]=u[v];return p}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Q(u,p){let v,w;for(let U=1;U<arguments.length;U++){w=arguments[U];for(v in w)u[v]=w[v];for(let F=0;F<j.length;F++)v=j[F],Object.prototype.hasOwnProperty.call(w,v)&&(u[v]=w[v])}}function ne(u){this.src=u,this.g={},this.h=0}ne.prototype.add=function(u,p,v,w,U){const F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);const se=oe(u,p,w,U);return se>-1?(p=u[se],v||(p.fa=!1)):(p=new ee(p,this.src,F,!!w,U),p.fa=v,u.push(p)),p};function de(u,p){const v=p.type;if(v in u.g){var w=u.g[v],U=Array.prototype.indexOf.call(w,p,void 0),F;(F=U>=0)&&Array.prototype.splice.call(w,U,1),F&&(ue(p),u.g[v].length==0&&(delete u.g[v],u.h--))}}function oe(u,p,v,w){for(let U=0;U<u.length;++U){const F=u[U];if(!F.da&&F.listener==p&&F.capture==!!v&&F.ha==w)return U}return-1}var Ee="closure_lm_"+(Math.random()*1e6|0),Be={};function Ze(u,p,v,w,U){if(Array.isArray(p)){for(let F=0;F<p.length;F++)Ze(u,p[F],v,w,U);return null}return v=Mo(v),u&&u[Te]?u.J(p,v,m(w)?!!w.capture:!1,U):on(u,p,v,!1,w,U)}function on(u,p,v,w,U,F){if(!p)throw Error("Invalid event type");const se=m(U)?!!U.capture:!!U;let Ne=Er(u);if(Ne||(u[Ee]=Ne=new ne(u)),v=Ne.add(p,v,w,se,F),v.proxy)return v;if(w=ys(),v.proxy=w,w.src=u,w.listener=v,u.addEventListener)D||(U=se),U===void 0&&(U=!1),u.addEventListener(p.toString(),w,U);else if(u.attachEvent)u.attachEvent(ui(p.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ys(){function u(v){return p.call(u.src,u.listener,v)}const p=Do;return u}function _s(u,p,v,w,U){if(Array.isArray(p))for(var F=0;F<p.length;F++)_s(u,p[F],v,w,U);else w=m(w)?!!w.capture:!!w,v=Mo(v),u&&u[Te]?(u=u.i,F=String(p).toString(),F in u.g&&(p=u.g[F],v=oe(p,v,w,U),v>-1&&(ue(p[v]),Array.prototype.splice.call(p,v,1),p.length==0&&(delete u.g[F],u.h--)))):u&&(u=Er(u))&&(p=u.g[p.toString()],u=-1,p&&(u=oe(p,v,w,U)),(v=u>-1?p[u]:null)&&vs(v))}function vs(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Te])de(p.i,u);else{var v=u.type,w=u.proxy;p.removeEventListener?p.removeEventListener(v,w,u.capture):p.detachEvent?p.detachEvent(ui(v),w):p.addListener&&p.removeListener&&p.removeListener(w),(v=Er(p))?(de(v,u),v.h==0&&(v.src=null,p[Ee]=null)):ue(u)}}}function ui(u){return u in Be?Be[u]:Be[u]="on"+u}function Do(u,p){if(u.da)u=!0;else{p=new Ae(p,this);const v=u.listener,w=u.ha||u.src;u.fa&&vs(u),u=v.call(w,p)}return u}function Er(u){return u=u[Ee],u instanceof ne?u:null}var Oo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Mo(u){return typeof u=="function"?u:(u[Oo]||(u[Oo]=function(p){return u.handleEvent(p)}),u[Oo])}function bt(){k.call(this),this.i=new ne(this),this.M=this,this.G=null}S(bt,k),bt.prototype[Te]=!0,bt.prototype.removeEventListener=function(u,p,v,w){_s(this,u,p,v,w)};function Ot(u,p){var v,w=u.G;if(w)for(v=[];w;w=w.G)v.push(w);if(u=u.M,w=p.type||p,typeof p=="string")p=new C(p,u);else if(p instanceof C)p.target=p.target||u;else{var U=p;p=new C(w,u),Q(p,U)}U=!0;let F,se;if(v)for(se=v.length-1;se>=0;se--)F=p.g=v[se],U=bs(F,w,!0,p)&&U;if(F=p.g=u,U=bs(F,w,!0,p)&&U,U=bs(F,w,!1,p)&&U,v)for(se=0;se<v.length;se++)F=p.g=v[se],U=bs(F,w,!1,p)&&U}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var u=this.i;for(const p in u.g){const v=u.g[p];for(let w=0;w<v.length;w++)ue(v[w]);delete u.g[p],u.h--}}this.G=null},bt.prototype.J=function(u,p,v,w){return this.i.add(String(u),p,!1,v,w)},bt.prototype.K=function(u,p,v,w){return this.i.add(String(u),p,!0,v,w)};function bs(u,p,v,w){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();let U=!0;for(let F=0;F<p.length;++F){const se=p[F];if(se&&!se.da&&se.capture==v){const Ne=se.listener,gt=se.ha||se.src;se.fa&&de(u.i,se),U=Ne.call(gt,w)!==!1&&U}}return U&&!w.defaultPrevented}function af(u,p){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(u,p||0)}function yc(u){u.g=af(()=>{u.g=null,u.i&&(u.i=!1,yc(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class en extends k{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:yc(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wr(u){k.call(this),this.h=u,this.g={}}S(wr,k);var Vo=[];function ko(u){Ie(u.g,function(p,v){this.g.hasOwnProperty(v)&&vs(p)},u),u.g={}}wr.prototype.N=function(){wr.Z.N.call(this),ko(this)},wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ts=f.JSON.stringify,of=f.JSON.parse,_c=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function vc(){}function bc(){}var Gn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){C.call(this,"d")}S(zt,C);function Nn(){C.call(this,"c")}S(Nn,C);var pt={},Tc=null;function fa(){return Tc=Tc||new bt}pt.Ia="serverreachability";function Ec(u){C.call(this,pt.Ia,u)}S(Ec,C);function hi(u){const p=fa();Ot(p,new Ec(p))}pt.STAT_EVENT="statevent";function Sr(u,p){C.call(this,pt.STAT_EVENT,u),this.stat=p}S(Sr,C);function Tt(u){const p=fa();Ot(p,new Sr(p,u))}pt.Ja="timingevent";function fi(u,p){C.call(this,pt.Ja,u),this.size=p}S(fi,C);function di(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},p)}function Qn(){this.g=!0}Qn.prototype.ua=function(){this.g=!1};function lf(u,p,v,w,U,F){u.info(function(){if(u.g)if(F){var se="",Ne=F.split("&");for(let Qe=0;Qe<Ne.length;Qe++){var gt=Ne[Qe].split("=");if(gt.length>1){const lt=gt[0];gt=gt[1];const Vn=lt.split("_");se=Vn.length>=2&&Vn[1]=="type"?se+(lt+"="+gt+"&"):se+(lt+"=redacted&")}}}else se=null;else se=F;return"XMLHTTP REQ ("+w+") [attempt "+U+"]: "+p+`
`+v+`
`+se})}function wc(u,p,v,w,U,F,se){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+U+"]: "+p+`
`+v+`
`+F+" "+se})}function mi(u,p,v,w){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+cf(u,v)+(w?" "+w:"")})}function Ar(u,p){u.info(function(){return"TIMEOUT: "+p})}Qn.prototype.info=function(){};function cf(u,p){if(!u.g)return p;if(!p)return null;try{const F=JSON.parse(p);if(F){for(u=0;u<F.length;u++)if(Array.isArray(F[u])){var v=F[u];if(!(v.length<2)){var w=v[1];if(Array.isArray(w)&&!(w.length<1)){var U=w[0];if(U!="noop"&&U!="stop"&&U!="close")for(let se=1;se<w.length;se++)w[se]=""}}}}return Ts(F)}catch{return p}}var xr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},jo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Lo;function Rr(){}S(Rr,vc),Rr.prototype.g=function(){return new XMLHttpRequest},Lo=new Rr;function qi(u){return encodeURIComponent(String(u))}function Sc(u){var p=1;u=u.split(":");const v=[];for(;p>0&&u.length;)v.push(u.shift()),p--;return u.length&&v.push(u.join(":")),v}function Kn(u,p,v,w){this.j=u,this.i=p,this.l=v,this.S=w||1,this.V=new wr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Yn}function Yn(){this.i=null,this.g="",this.h=!1}var Et={},kt={};function pi(u,p,v){u.M=1,u.A=Ir(St(p)),u.u=v,u.R=!0,da(u,null)}function da(u,p){u.F=Date.now(),gi(u),u.B=St(u.A);var v=u.B,w=u.S;Array.isArray(w)||(w=[String(w)]),ya(v.i,"t",w),u.C=0,v=u.j.L,u.h=new Yn,u.g=Pc(u.j,v?p:null,!u.u),u.P>0&&(u.O=new en(y(u.Y,u,u.g),u.P)),p=u.V,v=u.g,w=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(Vo[0]=U.toString()),U=Vo);for(let F=0;F<U.length;F++){const se=Ze(v,U[F],w||p.handleEvent,!1,p.h||p);if(!se)break;p.g[se.key]=se}p=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,p)):(u.v="GET",u.g.ea(u.B,u.v,null,p)),hi(),lf(u.i,u.v,u.B,u.l,u.S,u.u)}Kn.prototype.ba=function(u){u=u.target;const p=this.O;p&&Jn(u)==3?p.j():this.Y(u)},Kn.prototype.Y=function(u){try{if(u==this.g)e:{const Ne=Jn(this.g),gt=this.g.ya(),Qe=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||Ne!=4||gt==7||(gt==8||Qe<=0?hi(3):hi(2)),yi(this);var p=this.g.ca();this.X=p;var v=uf(this);if(this.o=p==200,wc(this.i,this.v,this.B,this.l,this.S,Ne,p),this.o){if(this.U&&!this.L){t:{if(this.g){var w,U=this.g;if((w=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(w)){var F=w;break t}}F=null}if(u=F)mi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_i(this,u);else{this.o=!1,this.m=3,Tt(12),gn(this),Dn(this);break e}}if(this.R){u=!0;let lt;for(;!this.K&&this.C<v.length;)if(lt=xc(this,v),lt==kt){Ne==4&&(this.m=4,Tt(14),u=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==Et){this.m=4,Tt(15),mi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else mi(this.i,this.l,lt,null),_i(this,lt);if(Ac(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||v.length!=0||this.h.h||(this.m=1,Tt(16),u=!1),this.o=this.o&&u,!u)mi(this.i,this.l,v,"[Invalid Chunked Response]"),gn(this),Dn(this);else if(v.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Zo(se),se.P=!0,Tt(11))}}else mi(this.i,this.l,v,null),_i(this,v);Ne==4&&gn(this),this.o&&!this.K&&(Ne==4?kc(this.j,this):(this.o=!1,gi(this)))}else Fi(this.g),p==400&&v.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),gn(this),Dn(this)}}}catch{}};function uf(u){if(!Ac(u))return u.g.la();const p=Bt(u.g);if(p==="")return"";let v="";const w=p.length,U=Jn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return gn(u),Dn(u),"";u.h.i=new f.TextDecoder}for(let F=0;F<w;F++)u.h.h=!0,v+=u.h.i.decode(p[F],{stream:!(U&&F==w-1)});return p.length=0,u.h.g+=v,u.C=0,u.h.g}function Ac(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function xc(u,p){var v=u.C,w=p.indexOf(`
`,v);return w==-1?kt:(v=Number(p.substring(v,w)),isNaN(v)?Et:(w+=1,w+v>p.length?kt:(p=p.slice(w,w+v),u.C=w+v,p)))}Kn.prototype.cancel=function(){this.K=!0,gn(this)};function gi(u){u.T=Date.now()+u.H,ma(u,u.H)}function ma(u,p){if(u.D!=null)throw Error("WatchDog timer not null");u.D=di(y(u.aa,u),p)}function yi(u){u.D&&(f.clearTimeout(u.D),u.D=null)}Kn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ar(this.i,this.B),this.M!=2&&(hi(),Tt(17)),gn(this),this.m=2,Dn(this)):ma(this,this.T-u)};function Dn(u){u.j.I==0||u.K||kc(u.j,u)}function gn(u){yi(u);var p=u.O;p&&typeof p.dispose=="function"&&p.dispose(),u.O=null,ko(u.V),u.g&&(p=u.g,u.g=null,p.abort(),p.dispose())}function _i(u,p){try{var v=u.j;if(v.I!=0&&(v.g==u||bi(v.h,u))){if(!u.L&&bi(v.h,u)&&v.I==3){try{var w=v.Ba.g.parse(p)}catch{w=null}if(Array.isArray(w)&&w.length==3){var U=w;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ea(v),Cs(v);else break e;kr(v),Tt(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=di(y(v.Va,v),6e3));vi(v.h)<=1&&v.ta&&(v.ta=void 0)}else xi(v,11)}else if((u.L||v.g==u)&&Ea(v),!A(p))for(U=v.Ba.g.parse(p),p=0;p<U.length;p++){let Qe=U[p];const lt=Qe[0];if(!(lt<=v.K))if(v.K=lt,Qe=Qe[1],v.I==2)if(Qe[0]=="c"){v.M=Qe[1],v.ba=Qe[2];const Vn=Qe[3];Vn!=null&&(v.ka=Vn,v.j.info("VER="+v.ka));const Ri=Qe[4];Ri!=null&&(v.za=Ri,v.j.info("SVER="+v.za));const Zn=Qe[5];Zn!=null&&typeof Zn=="number"&&Zn>0&&(w=1.5*Zn,v.O=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const Wn=u.g;if(Wn){const jr=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jr){var F=w.h;F.g||jr.indexOf("spdy")==-1&&jr.indexOf("quic")==-1&&jr.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(zo(F,F.h),F.h=null))}if(w.G){const wa=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;wa&&(w.wa=wa,Xe(w.J,w.G,wa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),w=v;var se=u;if(w.na=Uc(w,w.L?w.ba:null,w.W),se.L){Bo(w.h,se);var Ne=se,gt=w.O;gt&&(Ne.H=gt),Ne.D&&(yi(Ne),gi(Ne)),w.g=se}else Mc(w);v.i.length>0&&Ai(v)}else Qe[0]!="stop"&&Qe[0]!="close"||xi(v,7);else v.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?xi(v,7):$o(v):Qe[0]!="noop"&&v.l&&v.l.qa(Qe),v.A=0)}}hi(4)}catch{}}var wt=class{constructor(u,p){this.g=u,this.map=p}};function Uo(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Po(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function vi(u){return u.h?1:u.g?u.g.size:0}function bi(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function zo(u,p){u.g?u.g.add(p):u.h=p}function Bo(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Uo.prototype.cancel=function(){if(this.i=qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function qo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const v of u.g.values())p=p.concat(v.G);return p}return B(u.i)}var Rc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pa(u,p){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const w=u[v].indexOf("=");let U,F=null;w>=0?(U=u[v].substring(0,w),F=u[v].substring(w+1)):U=u[v],p(U,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function yn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;u instanceof yn?(this.l=u.l,jt(this,u.j),this.o=u.o,this.g=u.g,Es(this,u.u),this.h=u.h,Ho(this,Dc(u.i)),this.m=u.m):u&&(p=String(u).match(Rc))?(this.l=!1,jt(this,p[1]||"",!0),this.o=Ti(p[2]||""),this.g=Ti(p[3]||"",!0),Es(this,p[4]),this.h=Ti(p[5]||"",!0),Ho(this,p[6]||"",!0),this.m=Ti(p[7]||"")):(this.l=!1,this.i=new Ss(null,this.l))}yn.prototype.toString=function(){const u=[];var p=this.j;p&&u.push(Cr(p,ga,!0),":");var v=this.g;return(v||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Cr(p,ga,!0),"@"),u.push(qi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Cr(v,v.charAt(0)=="/"?Fo:Ic,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Cr(v,Cc)),u.join("")},yn.prototype.resolve=function(u){const p=St(this);let v=!!u.j;v?jt(p,u.j):v=!!u.o,v?p.o=u.o:v=!!u.g,v?p.g=u.g:v=u.u!=null;var w=u.h;if(v)Es(p,u.u);else if(v=!!u.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var U=p.h.lastIndexOf("/");U!=-1&&(w=p.h.slice(0,U+1)+w)}if(U=w,U==".."||U==".")w="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){w=U.lastIndexOf("/",0)==0,U=U.split("/");const F=[];for(let se=0;se<U.length;){const Ne=U[se++];Ne=="."?w&&se==U.length&&F.push(""):Ne==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),w&&se==U.length&&F.push("")):(F.push(Ne),w=!0)}w=F.join("/")}else w=U}return v?p.h=w:v=u.i.toString()!=="",v?Ho(p,Dc(u.i)):v=!!u.m,v&&(p.m=u.m),p};function St(u){return new yn(u)}function jt(u,p,v){u.j=v?Ti(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Es(u,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);u.u=p}else u.u=null}function Ho(u,p,v){p instanceof Ss?(u.i=p,_a(u.i,u.l)):(v||(p=Cr(p,ws)),u.i=new Ss(p,u.l))}function Xe(u,p,v){u.i.set(p,v)}function Ir(u){return Xe(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ti(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Cr(u,p,v){return typeof u=="string"?(u=encodeURI(u).replace(p,ln),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ln(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ga=/[#\/\?@]/g,Ic=/[#\?:]/g,Fo=/[#\?]/g,ws=/[#\?@]/g,Cc=/#/g;function Ss(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function cn(u){u.g||(u.g=new Map,u.h=0,u.i&&pa(u.i,function(p,v){u.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}s=Ss.prototype,s.add=function(u,p){cn(this),this.i=null,u=As(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(p),this.h+=1,this};function Nc(u,p){cn(u),p=As(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Go(u,p){return cn(u),p=As(u,p),u.g.has(p)}s.forEach=function(u,p){cn(this),this.g.forEach(function(v,w){v.forEach(function(U){u.call(p,U,w,this)},this)},this)};function Qo(u,p){cn(u);let v=[];if(typeof p=="string")Go(u,p)&&(v=v.concat(u.g.get(As(u,p))));else for(u=Array.from(u.g.values()),p=0;p<u.length;p++)v=v.concat(u[p]);return v}s.set=function(u,p){return cn(this),this.i=null,u=As(this,u),Go(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},s.get=function(u,p){return u?(u=Qo(this,u),u.length>0?String(u[0]):p):p};function ya(u,p,v){Nc(u,p),v.length>0&&(u.i=null,u.g.set(As(u,p),B(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(let w=0;w<p.length;w++){var v=p[w];const U=qi(v);v=Qo(this,v);for(let F=0;F<v.length;F++){let se=U;v[F]!==""&&(se+="="+qi(v[F])),u.push(se)}}return this.i=u.join("&")};function Dc(u){const p=new Ss;return p.i=u.i,u.g&&(p.g=new Map(u.g),p.h=u.h),p}function As(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function _a(u,p){p&&!u.j&&(cn(u),u.i=null,u.g.forEach(function(v,w){const U=w.toLowerCase();w!=U&&(Nc(this,w),ya(this,U,v))},u)),u.j=p}function Xn(u,p){const v=new Qn;if(f.Image){const w=new Image;w.onload=E(On,v,"TestLoadImage: loaded",!0,p,w),w.onerror=E(On,v,"TestLoadImage: error",!1,p,w),w.onabort=E(On,v,"TestLoadImage: abort",!1,p,w),w.ontimeout=E(On,v,"TestLoadImage: timeout",!1,p,w),f.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else p(!1)}function Ko(u,p){const v=new Qn,w=new AbortController,U=setTimeout(()=>{w.abort(),On(v,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:w.signal}).then(F=>{clearTimeout(U),F.ok?On(v,"TestPingServer: ok",!0,p):On(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(U),On(v,"TestPingServer: error",!1,p)})}function On(u,p,v,w,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),w(v)}catch{}}function xs(){this.g=new _c}function Ei(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Ei,vc),Ei.prototype.g=function(){return new Nr(this.i,this.h)};function Nr(u,p){bt.call(this),this.H=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Nr,bt),s=Nr.prototype,s.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=p,this.readyState=1,$n(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(p.body=u),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Rs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;va(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function va(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Rs(this):$n(this),this.readyState==3&&va(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Rs(this))},s.Na=function(u){this.g&&(this.response=u,Rs(this))},s.ga=function(){this.g&&Rs(this)};function Rs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,$n(u)}s.setRequestHeader=function(u,p){this.A.append(u,p)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=p.next();return u.join(`\r
`)};function $n(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Nr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Mn(u){let p="";return Ie(u,function(v,w){p+=w,p+=":",p+=v,p+=`\r
`}),p}function Dr(u,p,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=Mn(v),typeof u=="string"?v!=null&&qi(v):Xe(u,p,v))}function We(u){bt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(We,bt);var wi=/^https?$/i,Yo=["POST","PUT"];s=We.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,p,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Lo.g(),this.g.onreadystatechange=R(y(this.Ca,this));try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(F){Or(this,F);return}if(u=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var U in w)v.set(U,w[U]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const F of w.keys())v.set(F,w.get(F));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(F=>F.toLowerCase()=="content-type"),U=f.FormData&&u instanceof f.FormData,!(Array.prototype.indexOf.call(Yo,p,void 0)>=0)||w||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,se]of v)this.g.setRequestHeader(F,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(F){Or(this,F)}};function Or(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.o=5,Xo(u),Hi(u)}function Xo(u){u.A||(u.A=!0,Ot(u,"complete"),Ot(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ot(this,"complete"),Ot(this,"abort"),Hi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hi(this,!0)),We.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Mr(this):this.Xa())},s.Xa=function(){Mr(this)};function Mr(u){if(u.h&&typeof c<"u"){if(u.v&&Jn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ot(u,"readystatechange"),Jn(u)==4){u.h=!1;try{const F=u.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var w;if(w=F===0){let se=String(u.D).match(Rc)[1]||null;!se&&f.self&&f.self.location&&(se=f.self.location.protocol.slice(0,-1)),w=!wi.test(se?se.toLowerCase():"")}v=w}if(v)Ot(u,"complete"),Ot(u,"success");else{u.o=6;try{var U=Jn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Xo(u)}}finally{Hi(u)}}}}function Hi(u,p){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,p||Ot(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Jn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Jn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),of(p)}};function Bt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Fi(u){const p={};u=(u.g&&Jn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(A(u[w]))continue;var v=Sc(u[w]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const F=p[U]||[];p[U]=F,F.push(v)}pe(p,function(w){return w.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(u,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||p}function Is(u){this.za=0,this.i=[],this.j=new Qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,u),this.Za=Si("retryDelaySeedMs",1e4,u),this.Ta=Si("forwardChannelMaxRetries",2,u),this.va=Si("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Uo(u&&u.concurrentRequestLimit),this.Ba=new xs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Is.prototype,s.ka=8,s.I=1,s.connect=function(u,p,v,w){Tt(0),this.W=u,this.H=p||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.J=Uc(this,null,this.W),Ai(this)};function $o(u){if(ba(u),u.I==3){var p=u.V++,v=St(u.J);if(Xe(v,"SID",u.M),Xe(v,"RID",p),Xe(v,"TYPE","terminate"),Vr(u,v),p=new Kn(u,u.j,p),p.M=2,p.A=Ir(St(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=p.A,v=!0),v||(p.g=Pc(p.j,null),p.g.ea(p.A)),p.F=Date.now(),gi(p)}Lc(u)}function Cs(u){u.g&&(Zo(u),u.g.cancel(),u.g=null)}function ba(u){Cs(u),u.v&&(f.clearTimeout(u.v),u.v=null),Ea(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&f.clearTimeout(u.m),u.m=null)}function Ai(u){if(!Po(u.h)&&!u.m){u.m=!0;var p=u.Ea;Ye||x(),Ce||(Ye(),Ce=!0),I.add(p,u),u.D=0}}function Ta(u,p){return vi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=p.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=di(y(u.Ea,u,p),jc(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Kn(this,this.j,u);let F=this.o;if(this.U&&(F?(F=O(F),Q(F,this.U)):F=this.U),this.u!==null||this.R||(U.J=F,F=null),this.S)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(p+=w,p>4096){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=Oc(this,U,p),v=St(this.J),Xe(v,"RID",u),Xe(v,"CVER",22),this.G&&Xe(v,"X-HTTP-Session-Id",this.G),Vr(this,v),F&&(this.R?p="headers="+qi(Mn(F))+"&"+p:this.u&&Dr(v,this.u,F)),zo(this.h,U),this.Ra&&Xe(v,"TYPE","init"),this.S?(Xe(v,"$req",p),Xe(v,"SID","null"),U.U=!0,pi(U,v,null)):pi(U,v,p),this.I=2}}else this.I==3&&(u?Jo(this,u):this.i.length==0||Po(this.h)||Jo(this))};function Jo(u,p){var v;p?v=p.l:v=u.V++;const w=St(u.J);Xe(w,"SID",u.M),Xe(w,"RID",v),Xe(w,"AID",u.K),Vr(u,w),u.u&&u.o&&Dr(w,u.u,u.o),v=new Kn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),p&&(u.i=p.G.concat(u.i)),p=Oc(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),zo(u.h,v),pi(v,w,p)}function Vr(u,p){u.H&&Ie(u.H,function(v,w){Xe(p,w,v)}),u.l&&Ie({},function(v,w){Xe(p,w,v)})}function Oc(u,p,v){v=Math.min(u.i.length,v);const w=u.l?y(u.l.Ka,u.l,u):null;e:{var U=u.i;let Ne=-1;for(;;){const gt=["count="+v];Ne==-1?v>0?(Ne=U[0].g,gt.push("ofs="+Ne)):Ne=0:gt.push("ofs="+Ne);let Qe=!0;for(let lt=0;lt<v;lt++){var F=U[lt].g;const Vn=U[lt].map;if(F-=Ne,F<0)Ne=Math.max(0,U[lt].g-100),Qe=!1;else try{F="req"+F+"_"||"";try{var se=Vn instanceof Map?Vn:Object.entries(Vn);for(const[Ri,Zn]of se){let Wn=Zn;m(Zn)&&(Wn=Ts(Zn)),gt.push(F+Ri+"="+encodeURIComponent(Wn))}}catch(Ri){throw gt.push(F+"type="+encodeURIComponent("_badmap")),Ri}}catch{w&&w(Vn)}}if(Qe){se=gt.join("&");break e}}se=void 0}return u=u.i.splice(0,v),p.G=u,se}function Mc(u){if(!u.g&&!u.v){u.Y=1;var p=u.Da;Ye||x(),Ce||(Ye(),Ce=!0),I.add(p,u),u.A=0}}function kr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=di(y(u.Da,u),jc(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Vc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=di(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),Cs(this),Vc(this))};function Zo(u){u.B!=null&&(f.clearTimeout(u.B),u.B=null)}function Vc(u){u.g=new Kn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var p=St(u.na);Xe(p,"RID","rpc"),Xe(p,"SID",u.M),Xe(p,"AID",u.K),Xe(p,"CI",u.F?"0":"1"),!u.F&&u.ia&&Xe(p,"TO",u.ia),Xe(p,"TYPE","xmlhttp"),Vr(u,p),u.u&&u.o&&Dr(p,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Ir(St(p)),v.u=null,v.R=!0,da(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Cs(this),kr(this),Tt(19))};function Ea(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function kc(u,p){var v=null;if(u.g==p){Ea(u),Zo(u),u.g=null;var w=2}else if(bi(u.h,p))v=p.G,Bo(u.h,p),w=1;else return;if(u.I!=0){if(p.o)if(w==1){v=p.u?p.u.length:0,p=Date.now()-p.F;var U=u.D;w=fa(),Ot(w,new fi(w,v)),Ai(u)}else Mc(u);else if(U=p.m,U==3||U==0&&p.X>0||!(w==1&&Ta(u,p)||w==2&&kr(u)))switch(v&&v.length>0&&(p=u.h,p.i=p.i.concat(v)),U){case 1:xi(u,5);break;case 4:xi(u,10);break;case 3:xi(u,6);break;default:xi(u,2)}}}function jc(u,p){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*p}function xi(u,p){if(u.j.info("Error code "+p),p==2){var v=y(u.bb,u),w=u.Ua;const U=!w;w=new yn(w||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||jt(w,"https"),Ir(w),U?Xn(w.toString(),v):Ko(w.toString(),v)}else Tt(2);u.I=0,u.l&&u.l.pa(p),Lc(u),ba(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function Lc(u){if(u.I=0,u.ja=[],u.l){const p=qo(u.h);(p.length!=0||u.i.length!=0)&&($(u.ja,p),$(u.ja,u.i),u.h.i.length=0,B(u.i),u.i.length=0),u.l.oa()}}function Uc(u,p,v){var w=v instanceof yn?St(v):new yn(v);if(w.g!="")p&&(w.g=p+"."+w.g),Es(w,w.u);else{var U=f.location;w=U.protocol,p=p?p+"."+U.hostname:U.hostname,U=+U.port;const F=new yn(null);w&&jt(F,w),p&&(F.g=p),U&&Es(F,U),v&&(F.h=v),w=F}return v=u.G,p=u.wa,v&&p&&Xe(w,v,p),Xe(w,"VER",u.ka),Vr(u,w),w}function Pc(u,p,v){if(p&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Aa&&!u.ma?new We(new Ei({ab:v})):new We(u.ma),p.Fa(u.L),p}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function zc(){}s=zc.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ns(){}Ns.prototype.g=function(u,p){return new tn(u,p)};function tn(u,p){bt.call(this),this.g=new Is(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(u?u["X-WebChannel-Client-Profile"]=p.sa:u={"X-WebChannel-Client-Profile":p.sa}),this.g.U=u,(u=p&&p.Qb)&&!A(u)&&(this.g.u=u),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!A(p)&&(this.g.G=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Gi(this)}S(tn,bt),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){$o(this.g)},tn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Ts(u),u=v);p.i.push(new wt(p.Ya++,u)),p.I==3&&Ai(p)},tn.prototype.N=function(){this.g.l=null,delete this.j,$o(this.g),delete this.g,tn.Z.N.call(this)};function Bc(u){zt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const v in p){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}S(Bc,zt);function qc(){Nn.call(this),this.status=1}S(qc,Nn);function Gi(u){this.g=u}S(Gi,zc),Gi.prototype.ra=function(){Ot(this.g,"a")},Gi.prototype.qa=function(u){Ot(this.g,new Bc(u))},Gi.prototype.pa=function(u){Ot(this.g,new qc)},Gi.prototype.oa=function(){Ot(this.g,"b")},Ns.prototype.createWebChannel=Ns.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,mT=function(){return new Ns},dT=function(){return fa()},fT=pt,Om={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},xr.NO_ERROR=0,xr.TIMEOUT=8,xr.HTTP_ERROR=6,Wu=xr,jo.COMPLETE="complete",hT=jo,bc.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",bt.prototype.listen=bt.prototype.J,Ul=bc,We.prototype.listenOnce=We.prototype.K,We.prototype.getLastError=We.prototype.Ha,We.prototype.getLastErrorCode=We.prototype.ya,We.prototype.getStatus=We.prototype.ca,We.prototype.getResponseJson=We.prototype.La,We.prototype.getResponseText=We.prototype.la,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Fa,uT=We}).apply(typeof Qu<"u"?Qu:typeof self<"u"?self:typeof window<"u"?window:{});class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");let wo="12.8.0";function DI(s){wo=s}const ra=new Vh("@firebase/firestore");function eo(){return ra.logLevel}function ce(s,...e){if(ra.logLevel<=Le.DEBUG){const n=e.map(op);ra.debug(`Firestore (${wo}): ${s}`,...n)}}function fs(s,...e){if(ra.logLevel<=Le.ERROR){const n=e.map(op);ra.error(`Firestore (${wo}): ${s}`,...n)}}function fo(s,...e){if(ra.logLevel<=Le.WARN){const n=e.map(op);ra.warn(`Firestore (${wo}): ${s}`,...n)}}function op(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function _e(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,pT(s,r,n)}function pT(s,e,n){let r=`FIRESTORE (${wo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw fs(r),new Error(r)}function He(s,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||pT(e,o,r)}function Se(s,e){return s}const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends ci{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class gT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class OI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Zt.UNAUTHENTICATED)))}shutdown(){}}class MI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class VI{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){He(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let c=new Vi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Vi,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Vi)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string",31837,{l:r}),new gT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class kI{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class jI{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new kI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class sv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,si(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){He(this.o===void 0,3512);const r=c=>{c.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new sv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(He(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new sv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function UI(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class lp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=UI(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<n&&(r+=e.charAt(o[c]%62))}return r}}function Ue(s,e){return s<e?-1:s>e?1:0}function Mm(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const o=s.charAt(r),c=e.charAt(r);if(o!==c)return _m(o)===_m(c)?Ue(o,c):_m(o)?1:-1}return Ue(s.length,e.length)}const PI=55296,zI=57343;function _m(s){const e=s.charCodeAt(0);return e>=PI&&e<=zI}function mo(s,e,n){return s.length===e.length&&s.every(((r,o)=>n(r,e[o])))}const rv="__name__";class Mi{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&_e(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Mi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Mi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const c=Mi.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Ue(e.length,n.length)}static compareSegments(e,n){const r=Mi.isNumericId(e),o=Mi.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Mi.extractNumericId(e).compare(Mi.extractNumericId(n)):Mm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return lr.fromString(e.substring(4,e.length-2))}}class it extends Mi{construct(e,n,r){return new it(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new re(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new it(n)}static emptyPath(){return new it([])}}const BI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Mi{construct(e,n,r){return new Kt(e,n,r)}static isValidIdentifier(e){return BI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rv}static keyField(){return new Kt([rv])}static fromServerFormat(e){const n=[];let r="",o=0;const c=()=>{if(r.length===0)throw new re(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new re(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new re(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(r+=m,o++):(c(),o++)}if(c(),f)throw new re(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(it.fromString(e))}static fromName(e){return new ge(it.fromString(e).popFirst(5))}static empty(){return new ge(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new it(e.slice()))}}function yT(s,e,n){if(!n)throw new re(Y.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function qI(s,e,n,r){if(e===!0&&r===!0)throw new re(Y.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function av(s){if(!ge.isDocumentKey(s))throw new re(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function ov(s){if(ge.isDocumentKey(s))throw new re(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function _T(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Lh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":_e(12329,{type:typeof s})}function In(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new re(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lh(s);throw new re(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function Dt(s,e){const n={typeString:s};return e&&(n.value=e),n}function oc(s,e){if(!_T(s))throw new re(Y.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const f=s[r];if(o&&typeof f!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&f!==c.value){n=`Expected '${r}' field to equal '${c.value}'`;break}}if(n)throw new re(Y.INVALID_ARGUMENT,n);return!0}const lv=-62135596800,cv=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*cv);return new ot(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new re(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new re(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<lv)throw new re(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cv}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(oc(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-lv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:Dt("string",ot._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new ot(0,0))}static max(){return new be(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const $l=-1;function HI(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=be.fromTimestamp(r===1e9?new ot(n+1,0):new ot(n,r));return new fr(o,ge.empty(),e)}function FI(s){return new fr(s.readTime,s.key,$l)}class fr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new fr(be.min(),ge.empty(),$l)}static max(){return new fr(be.max(),ge.empty(),$l)}}function GI(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(s.documentKey,e.documentKey),n!==0?n:Ue(s.largestBatchId,e.largestBatchId))}const QI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function So(s){if(s.code!==Y.FAILED_PRECONDITION||s.message!==QI)throw s;ce("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Z.reject(n)}static resolve(e){return new Z(((n,r)=>{n(e)}))}static reject(e){return new Z(((n,r)=>{r(e)}))}static waitFor(e){return new Z(((n,r)=>{let o=0,c=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++c,f&&c===o&&n()}),(g=>r(g)))})),f=!0,c===o&&n()}))}static or(e){let n=Z.resolve(!1);for(const r of e)n=n.next((o=>o?Z.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,c)=>{r.push(n.call(this,o,c))})),this.waitFor(r)}static mapArray(e,n){return new Z(((r,o)=>{const c=e.length,f=new Array(c);let m=0;for(let g=0;g<c;g++){const y=g;n(e[y]).next((E=>{f[y]=E,++m,m===c&&r(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new Z(((r,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):r()};c()}))}}function YI(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ao(s){return s.name==="IndexedDbTransactionError"}class Uh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Uh.ce=-1;const cp=-1;function lc(s){return s==null}function mh(s){return s===0&&1/s==-1/0}function XI(s){return typeof s=="number"&&Number.isInteger(s)&&!mh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const vT="";function $I(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=uv(e)),e=JI(s.get(n),e);return uv(e)}function JI(s,e){let n=e;const r=s.length;for(let o=0;o<r;o++){const c=s.charAt(o);switch(c){case"\0":n+="";break;case vT:n+="";break;default:n+=c}}return n}function uv(s){return s+vT+""}function hv(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function br(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function bT(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class ht{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ku(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ku(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ku(this.root,e,this.comparator,!0)}}class Ku{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?r(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,r,o,c){this.key=e,this.value=n,this.color=r??Qt.RED,this.left=o??Qt.EMPTY,this.right=c??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,c){return new Qt(e??this.key,n??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,r),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,r,o,c){return this}insert(e,n,r){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new fv(this.data.getIterator())}getIteratorFrom(e){return new fv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class fv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class xn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new xn([])}unionWith(e){let n=new Vt(Kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return mo(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class TT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new TT("Invalid base64 string: "+c):c}})(e);return new Xt(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c})(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const ZI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dr(s){if(He(!!s,39018),typeof s=="string"){let e=0;const n=ZI.exec(s);if(He(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vt(s.seconds),nanos:vt(s.nanos)}}function vt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function mr(s){return typeof s=="string"?Xt.fromBase64String(s):Xt.fromUint8Array(s)}const ET="server_timestamp",wT="__type__",ST="__previous_value__",AT="__local_write_time__";function up(s){return(s?.mapValue?.fields||{})[wT]?.stringValue===ET}function Ph(s){const e=s.mapValue.fields[ST];return up(e)?Ph(e):e}function Jl(s){const e=dr(s.mapValue.fields[AT].timestampValue);return new ot(e.seconds,e.nanos)}class WI{constructor(e,n,r,o,c,f,m,g,y,E,S){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E,this.apiKey=S}}const ph="(default)";class Zl{constructor(e,n){this.projectId=e,this.database=n||ph}static empty(){return new Zl("","")}get isDefaultDatabase(){return this.database===ph}isEqual(e){return e instanceof Zl&&e.projectId===this.projectId&&e.database===this.database}}function e2(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new re(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(s.options.projectId,e)}const xT="__type__",t2="__max__",Yu={mapValue:{}},RT="__vector__",gh="value";function pr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?up(s)?4:i2(s)?9007199254740991:n2(s)?10:11:_e(28295,{value:s})}function zi(s,e){if(s===e)return!0;const n=pr(s);if(n!==pr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Jl(s).isEqual(Jl(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=dr(o.timestampValue),m=dr(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return mr(o.bytesValue).isEqual(mr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return vt(o.geoPointValue.latitude)===vt(c.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return vt(o.integerValue)===vt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=vt(o.doubleValue),m=vt(c.doubleValue);return f===m?mh(f)===mh(m):isNaN(f)&&isNaN(m)}return!1})(s,e);case 9:return mo(s.arrayValue.values||[],e.arrayValue.values||[],zi);case 10:case 11:return(function(o,c){const f=o.mapValue.fields||{},m=c.mapValue.fields||{};if(hv(f)!==hv(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!zi(f[g],m[g])))return!1;return!0})(s,e);default:return _e(52216,{left:s})}}function Wl(s,e){return(s.values||[]).find((n=>zi(n,e)))!==void 0}function po(s,e){if(s===e)return 0;const n=pr(s),r=pr(e);if(n!==r)return Ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(s.booleanValue,e.booleanValue);case 2:return(function(c,f){const m=vt(c.integerValue||c.doubleValue),g=vt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(s,e);case 3:return dv(s.timestampValue,e.timestampValue);case 4:return dv(Jl(s),Jl(e));case 5:return Mm(s.stringValue,e.stringValue);case 6:return(function(c,f){const m=mr(c),g=mr(f);return m.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(c,f){const m=c.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=Ue(m[y],g[y]);if(E!==0)return E}return Ue(m.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,f){const m=Ue(vt(c.latitude),vt(f.latitude));return m!==0?m:Ue(vt(c.longitude),vt(f.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return mv(s.arrayValue,e.arrayValue);case 10:return(function(c,f){const m=c.fields||{},g=f.fields||{},y=m[gh]?.arrayValue,E=g[gh]?.arrayValue,S=Ue(y?.values?.length||0,E?.values?.length||0);return S!==0?S:mv(y,E)})(s.mapValue,e.mapValue);case 11:return(function(c,f){if(c===Yu.mapValue&&f===Yu.mapValue)return 0;if(c===Yu.mapValue)return 1;if(f===Yu.mapValue)return-1;const m=c.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const R=Mm(g[S],E[S]);if(R!==0)return R;const B=po(m[g[S]],y[E[S]]);if(B!==0)return B}return Ue(g.length,E.length)})(s.mapValue,e.mapValue);default:throw _e(23264,{he:n})}}function dv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ue(s,e);const n=dr(s),r=dr(e),o=Ue(n.seconds,r.seconds);return o!==0?o:Ue(n.nanos,r.nanos)}function mv(s,e){const n=s.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const c=po(n[o],r[o]);if(c)return c}return Ue(n.length,r.length)}function go(s){return Vm(s)}function Vm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=dr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return mr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return ge.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",o=!0;for(const c of n.values||[])o?o=!1:r+=",",r+=Vm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const f of r)c?c=!1:o+=",",o+=`${f}:${Vm(n.fields[f])}`;return o+"}"})(s.mapValue):_e(61005,{value:s})}function eh(s){switch(pr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ph(s);return e?16+eh(e):16;case 5:return 2*s.stringValue.length;case 6:return mr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+eh(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return br(r.fields,((c,f)=>{o+=c.length+eh(f)})),o})(s.mapValue);default:throw _e(13486,{value:s})}}function pv(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function km(s){return!!s&&"integerValue"in s}function hp(s){return!!s&&"arrayValue"in s}function gv(s){return!!s&&"nullValue"in s}function yv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function th(s){return!!s&&"mapValue"in s}function n2(s){return(s?.mapValue?.fields||{})[xT]?.stringValue===RT}function Hl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return br(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Hl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Hl(s.arrayValue.values[n]);return e}return{...s}}function i2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===t2}class sn{constructor(e){this.value=e}static empty(){return new sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!th(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hl(n)}setAll(e){let n=Kt.emptyPath(),r={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,r,o),r={},o=[],n=m.popLast()}f?r[m.lastSegment()]=Hl(f):o.push(m.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,r,o)}delete(e){const n=this.field(e.popLast());th(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return zi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];th(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){br(n,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new sn(Hl(this.value))}}function IT(s){const e=[];return br(s.fields,((n,r)=>{const o=new Kt([n]);if(th(r)){const c=IT(r.mapValue).fields;if(c.length===0)e.push(o);else for(const f of c)e.push(o.child(f))}else e.push(o)})),new xn(e)}class Pt{constructor(e,n,r,o,c,f,m){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=c,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Pt(e,0,be.min(),be.min(),be.min(),sn.empty(),0)}static newFoundDocument(e,n,r,o){return new Pt(e,1,n,be.min(),r,o,0)}static newNoDocument(e,n){return new Pt(e,2,n,be.min(),be.min(),sn.empty(),0)}static newUnknownDocument(e,n){return new Pt(e,3,n,be.min(),be.min(),sn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class yh{constructor(e,n){this.position=e,this.inclusive=n}}function _v(s,e,n){let r=0;for(let o=0;o<s.position.length;o++){const c=e[o],f=s.position[o];if(c.field.isKeyField()?r=ge.comparator(ge.fromName(f.referenceValue),n.key):r=po(f,n.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function vv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!zi(s.position[n],e.position[n]))return!1;return!0}class ec{constructor(e,n="asc"){this.field=e,this.dir=n}}function s2(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class CT{}class Nt extends CT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new a2(e,n,r):n==="array-contains"?new c2(e,r):n==="in"?new u2(e,r):n==="not-in"?new h2(e,r):n==="array-contains-any"?new f2(e,r):new Nt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new o2(e,r):new l2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(po(n,this.value)):n!==null&&pr(this.value)===pr(n)&&this.matchesComparison(po(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends CT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new li(e,n)}matches(e){return NT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function NT(s){return s.op==="and"}function DT(s){return r2(s)&&NT(s)}function r2(s){for(const e of s.filters)if(e instanceof li)return!1;return!0}function jm(s){if(s instanceof Nt)return s.field.canonicalString()+s.op.toString()+go(s.value);if(DT(s))return s.filters.map((e=>jm(e))).join(",");{const e=s.filters.map((n=>jm(n))).join(",");return`${s.op}(${e})`}}function OT(s,e){return s instanceof Nt?(function(r,o){return o instanceof Nt&&r.op===o.op&&r.field.isEqual(o.field)&&zi(r.value,o.value)})(s,e):s instanceof li?(function(r,o){return o instanceof li&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,f,m)=>c&&OT(f,o.filters[m])),!0):!1})(s,e):void _e(19439)}function MT(s){return s instanceof Nt?(function(n){return`${n.field.canonicalString()} ${n.op} ${go(n.value)}`})(s):s instanceof li?(function(n){return n.op.toString()+" {"+n.getFilters().map(MT).join(" ,")+"}"})(s):"Filter"}class a2 extends Nt{constructor(e,n,r){super(e,n,r),this.key=ge.fromName(r.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class o2 extends Nt{constructor(e,n){super(e,"in",n),this.keys=VT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class l2 extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=VT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function VT(s,e){return(e.arrayValue?.values||[]).map((n=>ge.fromName(n.referenceValue)))}class c2 extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hp(n)&&Wl(n.arrayValue,this.value)}}class u2 extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wl(this.value.arrayValue,n)}}class h2 extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Wl(this.value.arrayValue,n)}}class f2 extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Wl(this.value.arrayValue,r)))}}class d2{constructor(e,n=null,r=[],o=[],c=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=f,this.endAt=m,this.Te=null}}function bv(s,e=null,n=[],r=[],o=null,c=null,f=null){return new d2(s,e,n,r,o,c,f)}function fp(s){const e=Se(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>jm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),lc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>go(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>go(r))).join(",")),e.Te=n}return e.Te}function dp(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!s2(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!OT(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!vv(s.startAt,e.startAt)&&vv(s.endAt,e.endAt)}function Lm(s){return ge.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class xo{constructor(e,n=null,r=[],o=[],c=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function m2(s,e,n,r,o,c,f,m){return new xo(s,e,n,r,o,c,f,m)}function zh(s){return new xo(s)}function Tv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function p2(s){return ge.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function kT(s){return s.collectionGroup!==null}function Fl(s){const e=Se(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Vt(Kt.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new ec(c,r))})),n.has(Kt.keyField().canonicalString())||e.Ie.push(new ec(Kt.keyField(),r))}return e.Ie}function ki(s){const e=Se(s);return e.Ee||(e.Ee=g2(e,Fl(s))),e.Ee}function g2(s,e){if(s.limitType==="F")return bv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new ec(o.field,c)}));const n=s.endAt?new yh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new yh(s.startAt.position,s.startAt.inclusive):null;return bv(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function Um(s,e){const n=s.filters.concat([e]);return new xo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function y2(s,e){const n=s.explicitOrderBy.concat([e]);return new xo(s.path,s.collectionGroup,n,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function _h(s,e,n){return new xo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function Bh(s,e){return dp(ki(s),ki(e))&&s.limitType===e.limitType}function jT(s){return`${fp(ki(s))}|lt:${s.limitType}`}function to(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>MT(o))).join(", ")}]`),lc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>go(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>go(o))).join(",")),`Target(${r})`})(ki(s))}; limitType=${s.limitType})`}function qh(s,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ge.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,o){for(const c of Fl(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(f,m,g){const y=_v(f,m,g);return f.inclusive?y<=0:y<0})(r.startAt,Fl(r),o)||r.endAt&&!(function(f,m,g){const y=_v(f,m,g);return f.inclusive?y>=0:y>0})(r.endAt,Fl(r),o))})(s,e)}function _2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function LT(s){return(e,n)=>{let r=!1;for(const o of Fl(s)){const c=v2(o,e,n);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function v2(s,e,n){const r=s.field.isKeyField()?ge.comparator(e.key,n.key):(function(c,f,m){const g=f.data.field(c),y=m.data.field(c);return g!==null&&y!==null?po(g,y):_e(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return _e(19790,{direction:s.dir})}}class ua{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){br(this.inner,((n,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return bT(this.inner)}size(){return this.innerSize}}const b2=new ht(ge.comparator);function ds(){return b2}const UT=new ht(ge.comparator);function Pl(...s){let e=UT;for(const n of s)e=e.insert(n.key,n);return e}function PT(s){let e=UT;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ea(){return Gl()}function zT(){return Gl()}function Gl(){return new ua((s=>s.toString()),((s,e)=>s.isEqual(e)))}const T2=new ht(ge.comparator),E2=new Vt(ge.comparator);function Pe(...s){let e=E2;for(const n of s)e=e.add(n);return e}const w2=new Vt(Ue);function S2(){return w2}function mp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mh(e)?"-0":e}}function BT(s){return{integerValue:""+s}}function qT(s,e){return XI(e)?BT(e):mp(s,e)}class Hh{constructor(){this._=void 0}}function A2(s,e,n){return s instanceof tc?(function(o,c){const f={fields:{[wT]:{stringValue:ET},[AT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&up(c)&&(c=Ph(c)),c&&(f.fields[ST]=c),{mapValue:f}})(n,e):s instanceof yo?FT(s,e):s instanceof nc?GT(s,e):(function(o,c){const f=HT(o,c),m=Ev(f)+Ev(o.Ae);return km(f)&&km(o.Ae)?BT(m):mp(o.serializer,m)})(s,e)}function x2(s,e,n){return s instanceof yo?FT(s,e):s instanceof nc?GT(s,e):n}function HT(s,e){return s instanceof ic?(function(r){return km(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class tc extends Hh{}class yo extends Hh{constructor(e){super(),this.elements=e}}function FT(s,e){const n=QT(e);for(const r of s.elements)n.some((o=>zi(o,r)))||n.push(r);return{arrayValue:{values:n}}}class nc extends Hh{constructor(e){super(),this.elements=e}}function GT(s,e){let n=QT(e);for(const r of s.elements)n=n.filter((o=>!zi(o,r)));return{arrayValue:{values:n}}}class ic extends Hh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Ev(s){return vt(s.integerValue||s.doubleValue)}function QT(s){return hp(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class pp{constructor(e,n){this.field=e,this.transform=n}}function R2(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof yo&&o instanceof yo||r instanceof nc&&o instanceof nc?mo(r.elements,o.elements,zi):r instanceof ic&&o instanceof ic?zi(r.Ae,o.Ae):r instanceof tc&&o instanceof tc})(s.transform,e.transform)}class I2{constructor(e,n){this.version=e,this.transformResults=n}}class rn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new rn}static exists(e){return new rn(void 0,e)}static updateTime(e){return new rn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Fh{}function KT(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new gp(s.key,rn.none()):new cc(s.key,s.data,rn.none());{const n=s.data,r=sn.empty();let o=new Vt(Kt.comparator);for(let c of e.fields)if(!o.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?r.delete(c):r.set(c,f),o=o.add(c)}return new Tr(s.key,r,new xn(o.toArray()),rn.none())}}function C2(s,e,n){s instanceof cc?(function(o,c,f){const m=o.value.clone(),g=Sv(o.fieldTransforms,c,f.transformResults);m.setAll(g),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(s,e,n):s instanceof Tr?(function(o,c,f){if(!nh(o.precondition,c))return void c.convertToUnknownDocument(f.version);const m=Sv(o.fieldTransforms,c,f.transformResults),g=c.data;g.setAll(YT(o)),g.setAll(m),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(s,e,n):(function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Ql(s,e,n,r){return s instanceof cc?(function(c,f,m,g){if(!nh(c.precondition,f))return m;const y=c.value.clone(),E=Av(c.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(s,e,n,r):s instanceof Tr?(function(c,f,m,g){if(!nh(c.precondition,f))return m;const y=Av(c.fieldTransforms,g,f),E=f.data;return E.setAll(YT(c)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,e,n,r):(function(c,f,m){return nh(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(s,e,n)}function N2(s,e){let n=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),c=HT(r.transform,o||null);c!=null&&(n===null&&(n=sn.empty()),n.set(r.field,c))}return n||null}function wv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&mo(r,o,((c,f)=>R2(c,f)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class cc extends Fh{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Tr extends Fh{constructor(e,n,r,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function YT(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function Sv(s,e,n){const r=new Map;He(s.length===n.length,32656,{Ve:n.length,de:s.length});for(let o=0;o<n.length;o++){const c=s[o],f=c.transform,m=e.data.field(c.field);r.set(c.field,x2(f,m,n[o]))}return r}function Av(s,e,n){const r=new Map;for(const o of s){const c=o.transform,f=n.data.field(o.field);r.set(o.field,A2(c,f,e))}return r}class gp extends Fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XT extends Fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class D2{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&C2(c,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ql(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ql(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=zT();return this.mutations.forEach((o=>{const c=e.get(o.key),f=c.overlayedDocument;let m=this.applyToLocalView(f,c.mutatedFields);m=n.has(o.key)?null:m;const g=KT(f,m);g!==null&&r.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(be.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&mo(this.mutations,e.mutations,((n,r)=>wv(n,r)))&&mo(this.baseMutations,e.baseMutations,((n,r)=>wv(n,r)))}}class yp{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){He(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return T2})();const c=e.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,r[f].version);return new yp(e,n,r,o)}}class O2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class M2{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ct,qe;function $T(s){switch(s){case Y.OK:return _e(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return _e(15467,{code:s})}}function JT(s){if(s===void 0)return fs("GRPC error has no .code"),Y.UNKNOWN;switch(s){case Ct.OK:return Y.OK;case Ct.CANCELLED:return Y.CANCELLED;case Ct.UNKNOWN:return Y.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return Y.INTERNAL;case Ct.UNAVAILABLE:return Y.UNAVAILABLE;case Ct.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Ct.NOT_FOUND:return Y.NOT_FOUND;case Ct.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Ct.ABORTED:return Y.ABORTED;case Ct.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Ct.DATA_LOSS:return Y.DATA_LOSS;default:return _e(39323,{code:s})}}(qe=Ct||(Ct={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function V2(){return new TextEncoder}const k2=new lr([4294967295,4294967295],0);function xv(s){const e=V2().encode(s),n=new cT;return n.update(e),new Uint8Array(n.digest())}function Rv(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new lr([n,r],0),new lr([o,c],0)]}class _p{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new zl(`Invalid padding: ${n}`);if(r<0)throw new zl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new zl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new zl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=lr.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(lr.fromNumber(r)));return o.compare(k2)===1&&(o=new lr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=xv(e),[r,o]=Rv(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(r,o,c);if(!this.we(f))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new _p(c,o,n);return r.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=xv(e),[r,o]=Rv(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(r,o,c);this.be(f)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Gh{constructor(e,n,r,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,uc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Gh(be.min(),o,new ht(Ue),ds(),Pe())}}class uc{constructor(e,n,r,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new uc(r,n,Pe(),Pe(),Pe())}}class ih{constructor(e,n,r,o){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=o}}class ZT{constructor(e,n){this.targetId=e,this.Ce=n}}class WT{constructor(e,n,r=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class Iv{constructor(){this.ve=0,this.Fe=Cv(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),n=Pe(),r=Pe();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:_e(38017,{changeType:c})}})),new uc(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=Cv()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,He(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class j2{constructor(e){this.Ge=e,this.ze=new Map,this.je=ds(),this.He=Xu(),this.Je=Xu(),this.Ze=new ht(Ue)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(Lm(c))if(r===0){const f=new ge(c.path);this.et(n,f,Pt.newNoDocument(f,be.min()))}else He(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const m=this.ut(e),g=m?this.ct(m,e,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=n;let f,m;try{f=mr(r).toUint8Array()}catch(g){if(g instanceof TT)return fo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new _p(f,o,c)}catch(g){return fo(g instanceof zl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((c=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,f)=>{const m=this.ot(f);if(m){if(c.current&&Lm(m.target)){const g=new ge(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,Pt.newNoDocument(g,e))}c.Be&&(n.set(f,c.ke()),c.Ke())}}));let r=Pe();this.Je.forEach(((c,f)=>{let m=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(c))})),this.je.forEach(((c,f)=>f.setReadTime(e)));const o=new Gh(e,n,this.Ze,this.je,r);return this.je=ds(),this.He=Xu(),this.Je=Xu(),this.Ze=new ht(Ue),o}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new Iv,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Vt(Ue),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Vt(Ue),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Iv),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Xu(){return new ht(ge.comparator)}function Cv(){return new ht(ge.comparator)}const L2={asc:"ASCENDING",desc:"DESCENDING"},U2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},P2={and:"AND",or:"OR"};class z2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Pm(s,e){return s.useProto3Json||lc(e)?e:{value:e}}function vh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function B2(s,e){return vh(s,e.toTimestamp())}function Cn(s){return He(!!s,49232),be.fromTimestamp((function(n){const r=dr(n);return new ot(r.seconds,r.nanos)})(s))}function vp(s,e){return zm(s,e).canonicalString()}function zm(s,e){const n=(function(o){return new it(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?n:n.child(e)}function tE(s){const e=it.fromString(s);return He(oE(e),10190,{key:e.toString()}),e}function bh(s,e){return vp(s.databaseId,e.path)}function Kl(s,e){const n=tE(e);if(n.get(1)!==s.databaseId.projectId)throw new re(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new re(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new ge(iE(n))}function nE(s,e){return vp(s.databaseId,e)}function q2(s){const e=tE(s);return e.length===4?it.emptyPath():iE(e)}function Bm(s){return new it(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function iE(s){return He(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Nv(s,e,n){return{name:bh(s,e),fields:n.value.mapValue.fields}}function H2(s,e){return"found"in e?(function(r,o){He(!!o.found,43571),o.found.name,o.found.updateTime;const c=Kl(r,o.found.name),f=Cn(o.found.updateTime),m=o.found.createTime?Cn(o.found.createTime):be.min(),g=new sn({mapValue:{fields:o.found.fields}});return Pt.newFoundDocument(c,f,m,g)})(s,e):"missing"in e?(function(r,o){He(!!o.missing,3894),He(!!o.readTime,22933);const c=Kl(r,o.missing),f=Cn(o.readTime);return Pt.newNoDocument(c,f)})(s,e):_e(7234,{result:e})}function F2(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_e(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,E){return y.useProto3Json?(He(E===void 0||typeof E=="string",58123),Xt.fromBase64String(E||"")):(He(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Xt.fromUint8Array(E||new Uint8Array))})(s,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?Y.UNKNOWN:JT(y.code);return new re(E,y.message||"")})(f);n=new WT(r,o,c,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Kl(s,r.document.name),c=Cn(r.document.updateTime),f=r.document.createTime?Cn(r.document.createTime):be.min(),m=new sn({mapValue:{fields:r.document.fields}}),g=Pt.newFoundDocument(o,c,f,m),y=r.targetIds||[],E=r.removedTargetIds||[];n=new ih(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Kl(s,r.document),c=r.readTime?Cn(r.readTime):be.min(),f=Pt.newNoDocument(o,c),m=r.removedTargetIds||[];n=new ih([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Kl(s,r.document),c=r.removedTargetIds||[];n=new ih([],c,o,null)}else{if(!("filter"in e))return _e(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,f=new M2(o,c),m=r.targetId;n=new ZT(m,f)}}return n}function sE(s,e){let n;if(e instanceof cc)n={update:Nv(s,e.key,e.value)};else if(e instanceof gp)n={delete:bh(s,e.key)};else if(e instanceof Tr)n={update:Nv(s,e.key,e.data),updateMask:W2(e.fieldMask)};else{if(!(e instanceof XT))return _e(16599,{dt:e.type});n={verify:bh(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(c,f){const m=f.transform;if(m instanceof tc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof yo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof nc)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof ic)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw _e(20930,{transform:f.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:B2(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_e(27497)})(s,e.precondition)),n}function G2(s,e){return s&&s.length>0?(He(e!==void 0,14353),s.map((n=>(function(o,c){let f=o.updateTime?Cn(o.updateTime):Cn(c);return f.isEqual(be.min())&&(f=Cn(c)),new I2(f,o.transformResults||[])})(n,e)))):[]}function Q2(s,e){return{documents:[nE(s,e.path)]}}function K2(s,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=nE(s,o);const c=(function(y){if(y.length!==0)return aE(li.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const f=(function(y){if(y.length!==0)return y.map((E=>(function(R){return{field:no(R.field),direction:$2(R.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Pm(s,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function Y2(s){let e=q2(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){He(r===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];n.where&&(c=(function(S){const R=rE(S);return R instanceof li&&DT(R)?R.getFilters():[R]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((R=>(function($){return new ec(io($.field),(function(te){switch(te){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(R)))})(n.orderBy));let m=null;n.limit&&(m=(function(S){let R;return R=typeof S=="object"?S.value:S,lc(R)?null:R})(n.limit));let g=null;n.startAt&&(g=(function(S){const R=!!S.before,B=S.values||[];return new yh(B,R)})(n.startAt));let y=null;return n.endAt&&(y=(function(S){const R=!S.before,B=S.values||[];return new yh(B,R)})(n.endAt)),m2(e,o,f,c,m,"F",g,y)}function X2(s,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function rE(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=io(n.unaryFilter.field);return Nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=io(n.unaryFilter.field);return Nt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=io(n.unaryFilter.field);return Nt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=io(n.unaryFilter.field);return Nt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Nt.create(io(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return li.create(n.compositeFilter.filters.map((r=>rE(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(n.compositeFilter.op))})(s):_e(30097,{filter:s})}function $2(s){return L2[s]}function J2(s){return U2[s]}function Z2(s){return P2[s]}function no(s){return{fieldPath:s.canonicalString()}}function io(s){return Kt.fromServerFormat(s.fieldPath)}function aE(s){return s instanceof Nt?(function(n){if(n.op==="=="){if(yv(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NAN"}};if(gv(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(yv(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NOT_NAN"}};if(gv(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:no(n.field),op:J2(n.op),value:n.value}}})(s):s instanceof li?(function(n){const r=n.getFilters().map((o=>aE(o)));return r.length===1?r[0]:{compositeFilter:{op:Z2(n.op),filters:r}}})(s):_e(54877,{filter:s})}function W2(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function oE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function lE(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class rr{constructor(e,n,r,o,c=be.min(),f=be.min(),m=Xt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new rr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class eC{constructor(e){this.yt=e}}function tC(s){const e=Y2({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?_h(e,e.limit,"L"):e}class nC{constructor(){this.Sn=new iC}addToCollectionParentIndex(e,n){return this.Sn.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(fr.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(fr.min())}updateCollectionGroup(e,n,r){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class iC{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Vt(it.comparator),c=!o.has(r);return this.index[n]=o.add(r),c}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Vt(it.comparator)).toArray()}}const Dv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cE=41943040;class pn{static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(cE,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);class _o{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new _o(0)}static ar(){return new _o(-1)}}const Ov="LruGarbageCollector",sC=1048576;function Mv([s,e],[n,r]){const o=Ue(s,n);return o===0?Ue(e,r):o}class rC{constructor(e){this.Pr=e,this.buffer=new Vt(Mv),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Mv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class aC{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ce(Ov,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ao(n)?ce(Ov,"Ignoring IndexedDB error during garbage collection: ",n):await So(n)}await this.Ar(3e5)}))}}class oC{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Z.resolve(Uh.ce);const r=new rC(n);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Dv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Dv):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,o,c,f,m,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(r=S,m=Date.now(),this.removeTargets(e,r,n)))).next((S=>(c=S,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(y=Date.now(),eo()<=Le.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${c} targets in `+(g-m)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S}))))}}function lC(s,e){return new oC(s,e)}class cC{constructor(){this.changes=new ua((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class uC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class hC{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&Ql(r.mutation,o,xn.empty(),ot.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Pe()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Pe()){const o=ea();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((c=>{let f=Pl();return c.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const r=ea();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Pe())))}populateOverlays(e,n,r){const o=[];return r.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,r,o){let c=ds();const f=Gl(),m=(function(){return Gl()})();return n.forEach(((g,y)=>{const E=r.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Tr)?c=c.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Ql(E.mutation,y,E.mutation.getFieldMask(),ot.now())):f.set(y.key,xn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new uC(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const r=Gl();let o=new ht(((f,m)=>f-m)),c=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let E=r.get(g)||xn.empty();E=m.applyToLocalView(y,E),r.set(g,E);const S=(o.get(m.batchId)||Pe()).add(g);o=o.insert(m.batchId,S)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,S=zT();E.forEach((R=>{if(!c.has(R)){const B=KT(n.get(R),r.get(R));B!==null&&S.set(R,B),c=c.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,S))}return Z.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return p2(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):kT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-c.size):Z.resolve(ea());let m=$l,g=c;return f.next((y=>Z.forEach(y,((E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),c.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(e,E).next((R=>{g=g.insert(E,R)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,Pe()))).next((E=>({batchId:m,changes:PT(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((r=>{let o=Pl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const c=n.collectionGroup;let f=Pl();return this.indexManager.getCollectionParents(e,c).next((m=>Z.forEach(m,(g=>{const y=(function(S,R){return new xo(R,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((E=>{E.forEach(((S,R)=>{f=f.insert(S,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,c,o)))).next((f=>{c.forEach(((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Pt.newInvalidDocument(E)))}));let m=Pl();return f.forEach(((g,y)=>{const E=c.get(g);E!==void 0&&Ql(E.mutation,y,xn.empty(),ot.now()),qh(n,y)&&(m=m.insert(g,y))})),m}))}}class fC{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return Z.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Cn(o.createTime)}})(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:tC(o.bundledQuery),readTime:Cn(o.readTime)}})(n)),Z.resolve()}}class dC{constructor(){this.overlays=new ht(ge.comparator),this.Lr=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ea();return Z.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,c)=>{this.bt(e,n,c)})),Z.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),Z.resolve()}getOverlaysForCollection(e,n,r){const o=ea(),c=n.length+1,f=new ge(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>r&&o.set(g.getKey(),g)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let c=new ht(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let E=c.get(y.largestBatchId);E===null&&(E=ea(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=ea(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return Z.resolve(m)}bt(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new O2(n,r));let c=this.Lr.get(n);c===void 0&&(c=Pe(),this.Lr.set(n,c)),this.Lr.set(n,c.add(r.key))}}class mC{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}class bp{constructor(){this.kr=new Vt(Ut.Kr),this.qr=new Vt(Ut.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Ut(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new Ut(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new ge(new it([])),r=new Ut(n,e),o=new Ut(n,e+1),c=[];return this.qr.forEachInRange([r,o],(f=>{this.Wr(f),c.push(f.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ge(new it([])),r=new Ut(n,e),o=new Ut(n,e+1);let c=Pe();return this.qr.forEachInRange([r,o],(f=>{c=c.add(f.key)})),c}containsKey(e){const n=new Ut(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ut{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ge.comparator(e.key,n.key)||Ue(e.Hr,n.Hr)}static Ur(e,n){return Ue(e.Hr,n.Hr)||ge.comparator(e.key,n.key)}}class pC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Vt(Ut.Kr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new D2(c,n,r,o);this.mutationQueue.push(f);for(const m of o)this.Jr=this.Jr.add(new Ut(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Z.resolve(f)}lookupMutationBatch(e,n){return Z.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.Xr(r),c=o<0?0:o;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?cp:this.Yn-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ut(n,0),o=new Ut(n,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,o],(f=>{const m=this.Zr(f.Hr);c.push(m)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Vt(Ue);return n.forEach((o=>{const c=new Ut(o,0),f=new Ut(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,f],(m=>{r=r.add(m.Hr)}))})),Z.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let c=r;ge.isDocumentKey(c)||(c=c.child(""));const f=new Ut(new ge(c),0);let m=new Vt(Ue);return this.Jr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Hr)),!0)}),f),Z.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){He(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return Z.forEach(n.mutations,(o=>{const c=new Ut(o.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new Ut(n,0),o=this.Jr.firstAfterOrEqual(r);return Z.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class gC{constructor(e){this.ti=e,this.docs=(function(){return new ht(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),c=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Z.resolve(r?r.document.mutableCopy():Pt.newInvalidDocument(n))}getEntries(e,n){let r=ds();return n.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():Pt.newInvalidDocument(o))})),Z.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let c=ds();const f=n.path,m=new ge(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||GI(FI(E),r)<=0||(o.has(E.key)||qh(n,E))&&(c=c.insert(E.key,E.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(e,n,r,o){_e(9500)}ni(e,n){return Z.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new yC(this)}getSize(e){return Z.resolve(this.size)}}class yC extends cC{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),Z.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class _C{constructor(e){this.persistence=e,this.ri=new ua((n=>fp(n)),dp),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.ii=0,this.si=new bp,this.targetCount=0,this.oi=_o._r()}forEachTarget(e,n){return this.ri.forEach(((r,o)=>n(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),Z.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new _o(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.lr(n),Z.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,r){let o=0;const c=[];return this.ri.forEach(((f,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.ri.delete(f),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),Z.waitFor(c).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return Z.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),Z.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((f=>{c.push(o.markPotentiallyOrphaned(e,f))})),Z.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return Z.resolve(r)}containsKey(e,n){return Z.resolve(this.si.containsKey(n))}}class uE{constructor(e,n){this._i={},this.overlays={},this.ai=new Uh(0),this.ui=!1,this.ui=!0,this.ci=new mC,this.referenceDelegate=e(this),this.li=new _C(this),this.indexManager=new nC,this.remoteDocumentCache=(function(o){return new gC(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new eC(n),this.Pi=new fC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new dC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new pC(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){ce("MemoryPersistence","Starting transaction:",e);const o=new vC(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,n){return Z.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class vC extends KI{constructor(e){super(),this.currentSequenceNumber=e}}class Tp{constructor(e){this.persistence=e,this.Ri=new bp,this.Ai=null}static Vi(e){return new Tp(e)}get di(){if(this.Ai)return this.Ai;throw _e(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),Z.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),Z.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.di,(r=>{const o=ge.fromPath(r);return this.mi(e,o).next((c=>{c||n.removeEntry(o,be.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return Z.or([()=>Z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Th{constructor(e,n){this.persistence=e,this.fi=new ua((r=>$I(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=lC(this,n)}static Vi(e,n){return new Th(e,n)}Ti(){}Ii(e){return Z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return Z.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((c=>c?Z.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(f=>this.wr(e,f,n).next((m=>{m||(r++,c.removeEntry(f,be.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),Z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),Z.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=eh(e.data.value)),n}wr(e,n,r){return Z.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return Z.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ep{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=o}static Es(e,n){let r=Pe(),o=Pe();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Ep(e,n.fromCache,r,o)}}class bC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class TC{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return qA()?8:YI(Wt())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const c={result:null};return this.gs(e,n).next((f=>{c.result=f})).next((()=>{if(!c.result)return this.ps(e,n,o,r).next((f=>{c.result=f}))})).next((()=>{if(c.result)return;const f=new bC;return this.ys(e,n,f).next((m=>{if(c.result=m,this.As)return this.ws(e,n,f,m.size)}))})).next((()=>c.result))}ws(e,n,r,o){return r.documentReadCount<this.Vs?(eo()<=Le.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",to(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):(eo()<=Le.DEBUG&&ce("QueryEngine","Query:",to(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(eo()<=Le.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",to(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ki(n))):Z.resolve())}gs(e,n){if(Tv(n))return Z.resolve(null);let r=ki(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=_h(n,null,"F"),r=ki(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const f=Pe(...c);return this.fs.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,r).next((g=>{const y=this.bs(n,m);return this.Ss(n,y,f,g.readTime)?this.gs(e,_h(n,null,"F")):this.Ds(e,y,n,g)}))))})))))}ps(e,n,r,o){return Tv(n)||o.isEqual(be.min())?Z.resolve(null):this.fs.getDocuments(e,r).next((c=>{const f=this.bs(n,c);return this.Ss(n,f,r,o)?Z.resolve(null):(eo()<=Le.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),to(n)),this.Ds(e,f,n,HI(o,$l)).next((m=>m)))}))}bs(e,n){let r=new Vt(LT(e));return n.forEach(((o,c)=>{qh(e,c)&&(r=r.add(c))})),r}Ss(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,n,r){return eo()<=Le.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",to(n)),this.fs.getDocumentsMatchingQuery(e,n,fr.min(),r)}Ds(e,n,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((c=>(n.forEach((f=>{c=c.insert(f.key,f)})),c)))}}const wp="LocalStore",EC=3e8;class wC{constructor(e,n,r,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ht(Ue),this.Fs=new ua((c=>fp(c)),dp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hC(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function SC(s,e,n,r){return new wC(s,e,n,r)}async function hE(s,e){const n=Se(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((c=>{const f=[],m=[];let g=Pe();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of c){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(r,g).next((y=>({Ns:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function AC(s,e){const n=Se(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,E){const S=y.batch,R=S.keys();let B=Z.resolve();return R.forEach(($=>{B=B.next((()=>E.getEntry(g,$))).next((W=>{const te=y.docVersions.get($);He(te!==null,48541),W.version.compareTo(te)<0&&(S.applyToRemoteDocument(W,y),W.isValidDocument()&&(W.setReadTime(y.commitVersion),E.addEntry(W)))}))})),B.next((()=>m.mutationQueue.removeMutationBatch(g,S)))})(n,r,e,c).next((()=>c.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let g=Pe();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function fE(s){const e=Se(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function xC(s,e){const n=Se(s),r=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((E,S)=>{const R=o.get(S);if(!R)return;m.push(n.li.removeMatchingKeys(c,E.removedDocuments,S).next((()=>n.li.addMatchingKeys(c,E.addedDocuments,S))));let B=R.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?B=B.withResumeToken(Xt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):E.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(E.resumeToken,r)),o=o.insert(S,B),(function(W,te,ae){return W.resumeToken.approximateByteSize()===0||te.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=EC?!0:ae.addedDocuments.size+ae.modifiedDocuments.size+ae.removedDocuments.size>0})(R,B,E)&&m.push(n.li.updateTargetData(c,B))}));let g=ds(),y=Pe();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,E))})),m.push(RC(c,f,e.documentUpdates).next((E=>{g=E.Bs,y=E.Ls}))),!r.isEqual(be.min())){const E=n.li.getLastRemoteSnapshotVersion(c).next((S=>n.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));m.push(E)}return Z.waitFor(m).next((()=>f.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(n.vs=o,c)))}function RC(s,e,n){let r=Pe(),o=Pe();return n.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let f=ds();return n.forEach(((m,g)=>{const y=c.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(be.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):ce(wp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{Bs:f,Ls:o}}))}function IC(s,e){const n=Se(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=cp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function CC(s,e){const n=Se(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.li.getTargetData(r,e).next((c=>c?(o=c,Z.resolve(o)):n.li.allocateTargetId(r).next((f=>(o=new rr(e,f,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function qm(s,e,n){const r=Se(s),o=r.vs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",c,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Ao(f))throw f;ce(wp,`Failed to update sequence numbers for target ${e}: ${f}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function Vv(s,e,n){const r=Se(s);let o=be.min(),c=Pe();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,E){const S=Se(g),R=S.Fs.get(E);return R!==void 0?Z.resolve(S.vs.get(R)):S.li.getTargetData(y,E)})(r,f,ki(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(f,m.targetId).next((g=>{c=g}))})).next((()=>r.Cs.getDocumentsMatchingQuery(f,e,n?o:be.min(),n?c:Pe()))).next((m=>(NC(r,_2(e),m),{documents:m,ks:c})))))}function NC(s,e,n){let r=s.Ms.get(e)||be.min();n.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Ms.set(e,r)}class kv{constructor(){this.activeTargetIds=S2()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DC{constructor(){this.vo=new kv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new kv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class OC{Mo(e){}shutdown(){}}const jv="ConnectivityMonitor";class Lv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ce(jv,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ce(jv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let $u=null;function Hm(){return $u===null?$u=(function(){return 268435456+Math.round(2147483648*Math.random())})():$u++,"0x"+$u.toString(16)}const vm="RestConnection",MC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class VC{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===ph?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,n,r,o,c){const f=Hm(),m=this.Qo(e,n.toUriEncodedString());ce(vm,`Sending RPC '${e}' ${f}:`,m,r);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,c);const{host:y}=new URL(m),E=To(y);return this.zo(e,m,g,r,E).then((S=>(ce(vm,`Received RPC '${e}' ${f}: `,S),S)),(S=>{throw fo(vm,`RPC '${e}' ${f} failed with error: `,S,"url: ",m,"request:",r),S}))}jo(e,n,r,o,c,f){return this.Wo(e,n,r,o,c)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+wo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}Qo(e,n){const r=MC[e];let o=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class kC{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Jt="WebChannelConnection",Ll=(s,e,n)=>{s.listen(e,(r=>{try{n(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class oo extends VC{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!oo.c_){const e=dT();Ll(e,fT.STAT_EVENT,(n=>{n.stat===Om.PROXY?ce(Jt,"STAT_EVENT: detected buffering proxy"):n.stat===Om.NOPROXY&&ce(Jt,"STAT_EVENT: detected no buffering proxy")})),oo.c_=!0}}zo(e,n,r,o,c){const f=Hm();return new Promise(((m,g)=>{const y=new uT;y.setWithCredentials(!0),y.listenOnce(hT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Wu.NO_ERROR:const S=y.getResponseJson();ce(Jt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),m(S);break;case Wu.TIMEOUT:ce(Jt,`RPC '${e}' ${f} timed out`),g(new re(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Wu.HTTP_ERROR:const R=y.getStatus();if(ce(Jt,`RPC '${e}' ${f} failed with status:`,R,"response text:",y.getResponseText()),R>0){let B=y.getResponseJson();Array.isArray(B)&&(B=B[0]);const $=B?.error;if($&&$.status&&$.message){const W=(function(ae){const he=ae.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(he)>=0?he:Y.UNKNOWN})($.status);g(new re(W,$.message))}else g(new re(Y.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new re(Y.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ce(Jt,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);ce(Jt,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",E,r,15)}))}T_(e,n,r){const o=Hm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const y=c.join("");ce(Jt,`Creating RPC '${e}' stream ${o}: ${y}`,m);const E=f.createWebChannel(y,m);this.I_(E);let S=!1,R=!1;const B=new kC({Ho:$=>{R?ce(Jt,`Not sending because RPC '${e}' stream ${o} is closed:`,$):(S||(ce(Jt,`Opening RPC '${e}' stream ${o} transport.`),E.open(),S=!0),ce(Jt,`RPC '${e}' stream ${o} sending:`,$),E.send($))},Jo:()=>E.close()});return Ll(E,Ul.EventType.OPEN,(()=>{R||(ce(Jt,`RPC '${e}' stream ${o} transport opened.`),B.i_())})),Ll(E,Ul.EventType.CLOSE,(()=>{R||(R=!0,ce(Jt,`RPC '${e}' stream ${o} transport closed`),B.o_(),this.E_(E))})),Ll(E,Ul.EventType.ERROR,($=>{R||(R=!0,fo(Jt,`RPC '${e}' stream ${o} transport errored. Name:`,$.name,"Message:",$.message),B.o_(new re(Y.UNAVAILABLE,"The operation could not be completed")))})),Ll(E,Ul.EventType.MESSAGE,($=>{if(!R){const W=$.data[0];He(!!W,16349);const te=W,ae=te?.error||te[0]?.error;if(ae){ce(Jt,`RPC '${e}' stream ${o} received error:`,ae);const he=ae.status;let le=(function(Ce){const I=Ct[Ce];if(I!==void 0)return JT(I)})(he),Re=ae.message;le===void 0&&(le=Y.INTERNAL,Re="Unknown error status: "+he+" with message "+ae.message),R=!0,B.o_(new re(le,Re)),E.close()}else ce(Jt,`RPC '${e}' stream ${o} received:`,W),B.__(W)}})),oo.u_(),setTimeout((()=>{B.s_()}),0),B}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return mT()}}function jC(s){return new oo(s)}function bm(){return typeof document<"u"?document:null}function Qh(s){return new z2(s,!0)}oo.c_=!1;class Sp{constructor(e,n,r=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Uv="PersistentStream";class dE{constructor(e,n,r,o,c,f,m,g){this.Ci=e,this.b_=r,this.S_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Sp(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(fs(n.toString()),fs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new re(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(Uv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ce(Uv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class LC extends dE{constructor(e,n,r,o,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,f),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=F2(this.serializer,e),r=(function(c){if(!("targetChange"in c))return be.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?be.min():f.readTime?Cn(f.readTime):be.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=Bm(this.serializer),n.addTarget=(function(c,f){let m;const g=f.target;if(m=Lm(g)?{documents:Q2(c,g)}:{query:K2(c,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=eE(c,f.resumeToken);const y=Pm(c,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(be.min())>0){m.readTime=vh(c,f.snapshotVersion.toTimestamp());const y=Pm(c,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const r=X2(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=Bm(this.serializer),n.removeTarget=e,this.K_(n)}}class UC extends dE{constructor(e,n,r,o,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,f),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=G2(e.writeResults,e.commitTime),r=Cn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Bm(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>sE(this.serializer,r)))};this.K_(n)}}class PC{}class zC extends PC{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new re(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Wo(e,zm(n,r),o,c,f))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new re(Y.UNKNOWN,c.toString())}))}jo(e,n,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.jo(e,zm(n,r),o,f,m,c))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new re(Y.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function BC(s,e,n,r){return new zC(s,e,n,r)}class qC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fs(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const aa="RemoteStore";class HC{constructor(e,n,r,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((f=>{r.enqueueAndForget((async()=>{ha(this)&&(ce(aa,"Restarting streams for network reachability change."),await(async function(g){const y=Se(g);y.Ea.add(4),await hc(y),y.Va.set("Unknown"),y.Ea.delete(4),await Kh(y)})(this))}))})),this.Va=new qC(r,o)}}async function Kh(s){if(ha(s))for(const e of s.Ra)await e(!0)}async function hc(s){for(const e of s.Ra)await e(!1)}function mE(s,e){const n=Se(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Ip(n)?Rp(n):Ro(n).O_()&&xp(n,e))}function Ap(s,e){const n=Se(s),r=Ro(n);n.Ia.delete(e),r.O_()&&pE(n,e),n.Ia.size===0&&(r.O_()?r.L_():ha(n)&&n.Va.set("Unknown"))}function xp(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ro(s).Z_(e)}function pE(s,e){s.da.$e(e),Ro(s).X_(e)}function Rp(s){s.da=new j2({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Ro(s).start(),s.Va.ua()}function Ip(s){return ha(s)&&!Ro(s).x_()&&s.Ia.size>0}function ha(s){return Se(s).Ea.size===0}function gE(s){s.da=void 0}async function FC(s){s.Va.set("Online")}async function GC(s){s.Ia.forEach(((e,n)=>{xp(s,e)}))}async function QC(s,e){gE(s),Ip(s)?(s.Va.ha(e),Rp(s)):s.Va.set("Unknown")}async function KC(s,e,n){if(s.Va.set("Online"),e instanceof WT&&e.state===2&&e.cause)try{await(async function(o,c){const f=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.da.removeTarget(m))})(s,e)}catch(r){ce(aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Eh(s,r)}else if(e instanceof ih?s.da.Xe(e):e instanceof ZT?s.da.st(e):s.da.tt(e),!n.isEqual(be.min()))try{const r=await fE(s.localStore);n.compareTo(r)>=0&&await(function(c,f){const m=c.da.Tt(f);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=c.Ia.get(y);E&&c.Ia.set(y,E.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,y)=>{const E=c.Ia.get(g);if(!E)return;c.Ia.set(g,E.withResumeToken(Xt.EMPTY_BYTE_STRING,E.snapshotVersion)),pE(c,g);const S=new rr(E.target,g,y,E.sequenceNumber);xp(c,S)})),c.remoteSyncer.applyRemoteEvent(m)})(s,n)}catch(r){ce(aa,"Failed to raise snapshot:",r),await Eh(s,r)}}async function Eh(s,e,n){if(!Ao(e))throw e;s.Ea.add(1),await hc(s),s.Va.set("Offline"),n||(n=()=>fE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ce(aa,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Kh(s)}))}function yE(s,e){return e().catch((n=>Eh(s,n,e)))}async function Yh(s){const e=Se(s),n=gr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:cp;for(;YC(e);)try{const o=await IC(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,XC(e,o)}catch(o){await Eh(e,o)}_E(e)&&vE(e)}function YC(s){return ha(s)&&s.Ta.length<10}function XC(s,e){s.Ta.push(e);const n=gr(s);n.O_()&&n.Y_&&n.ea(e.mutations)}function _E(s){return ha(s)&&!gr(s).x_()&&s.Ta.length>0}function vE(s){gr(s).start()}async function $C(s){gr(s).ra()}async function JC(s){const e=gr(s);for(const n of s.Ta)e.ea(n.mutations)}async function ZC(s,e,n){const r=s.Ta.shift(),o=yp.from(r,e,n);await yE(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Yh(s)}async function WC(s,e){e&&gr(s).Y_&&await(async function(r,o){if((function(f){return $T(f)&&f!==Y.ABORTED})(o.code)){const c=r.Ta.shift();gr(r).B_(),await yE(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Yh(r)}})(s,e),_E(s)&&vE(s)}async function Pv(s,e){const n=Se(s);n.asyncQueue.verifyOperationInProgress(),ce(aa,"RemoteStore received new credentials");const r=ha(n);n.Ea.add(3),await hc(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Kh(n)}async function eN(s,e){const n=Se(s);e?(n.Ea.delete(2),await Kh(n)):e||(n.Ea.add(2),await hc(n),n.Va.set("Unknown"))}function Ro(s){return s.ma||(s.ma=(function(n,r,o){const c=Se(n);return c.sa(),new LC(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:FC.bind(null,s),Yo:GC.bind(null,s),t_:QC.bind(null,s),J_:KC.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),Ip(s)?Rp(s):s.Va.set("Unknown")):(await s.ma.stop(),gE(s))}))),s.ma}function gr(s){return s.fa||(s.fa=(function(n,r,o){const c=Se(n);return c.sa(),new UC(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:$C.bind(null,s),t_:WC.bind(null,s),ta:JC.bind(null,s),na:ZC.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Yh(s)):(await s.fa.stop(),s.Ta.length>0&&(ce(aa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Cp{constructor(e,n,r,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new Vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,c){const f=Date.now()+r,m=new Cp(e,n,f,o,c);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Np(s,e){if(fs("AsyncQueue",`${e}: ${s}`),Ao(s))return new re(Y.UNAVAILABLE,`${e}: ${s}`);throw s}class lo{static emptySet(e){return new lo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ge.comparator(n.key,r.key):(n,r)=>ge.comparator(n.key,r.key),this.keyedMap=Pl(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof lo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new lo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class zv{constructor(){this.ga=new ht(ge.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):_e(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class vo{constructor(e,n,r,o,c,f,m,g,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,o,c){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new vo(e,n,lo.emptySet(n),f,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class tN{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class nN{constructor(){this.queries=Bv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Se(n),c=o.queries;o.queries=Bv(),c.forEach(((f,m)=>{for(const g of m.ba)g.onError(r)}))})(this,new re(Y.ABORTED,"Firestore shutting down"))}}function Bv(){return new ua((s=>jT(s)),Bh)}async function Dp(s,e){const n=Se(s);let r=3;const o=e.query;let c=n.queries.get(o);c?!c.Sa()&&e.Da()&&(r=2):(c=new tN,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Np(f,`Initialization of query '${to(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,c),c.ba.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&Mp(n)}async function Op(s,e){const n=Se(s),r=e.query;let o=3;const c=n.queries.get(r);if(c){const f=c.ba.indexOf(e);f>=0&&(c.ba.splice(f,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function iN(s,e){const n=Se(s);let r=!1;for(const o of e){const c=o.query,f=n.queries.get(c);if(f){for(const m of f.ba)m.Fa(o)&&(r=!0);f.wa=o}}r&&Mp(n)}function sN(s,e,n){const r=Se(s),o=r.queries.get(e);if(o)for(const c of o.ba)c.onError(n);r.queries.delete(e)}function Mp(s){s.Ca.forEach((e=>{e.next()}))}var Fm,qv;(qv=Fm||(Fm={})).Ma="default",qv.Cache="cache";class Vp{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new vo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Fm.Cache}}class bE{constructor(e){this.key=e}}class TE{constructor(e){this.key=e}}class rN{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Pe(),this.mutatedKeys=Pe(),this.eu=LT(e),this.tu=new lo(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new zv,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,S)=>{const R=o.get(E),B=qh(this.query,S)?S:null,$=!!R&&this.mutatedKeys.has(R.key),W=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let te=!1;R&&B?R.data.isEqual(B.data)?$!==W&&(r.track({type:3,doc:B}),te=!0):this.su(R,B)||(r.track({type:2,doc:B}),te=!0,(g&&this.eu(B,g)>0||y&&this.eu(B,y)<0)&&(m=!0)):!R&&B?(r.track({type:0,doc:B}),te=!0):R&&!B&&(r.track({type:1,doc:R}),te=!0,(g||y)&&(m=!0)),te&&(B?(f=f.add(B),c=W?c.add(E):c.delete(E)):(f=f.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),c=c.delete(E.key),r.track({type:1,doc:E})}return{tu:f,iu:r,Ss:m,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,S)=>(function(B,$){const W=te=>{switch(te){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Vt:te})}};return W(B)-W($)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(r),o=o??!1;const m=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,y=g!==this.Xa;return this.Xa=g,f.length!==0||y?{snapshot:new vo(this.query,e.tu,c,f,e.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new zv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Pe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new TE(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new bE(r))})),n}cu(e){this.Za=e.ks,this.Ya=Pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return vo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const kp="SyncEngine";class aN{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class oN{constructor(e){this.key=e,this.hu=!1}}class lN{constructor(e,n,r,o,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ua((m=>jT(m)),Bh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ht(ge.comparator),this.Au=new Map,this.Vu=new bp,this.du={},this.mu=new Map,this.fu=_o.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function cN(s,e,n=!0){const r=RE(s);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await EE(r,e,n,!0),o}async function uN(s,e){const n=RE(s);await EE(n,e,!0,!1)}async function EE(s,e,n,r){const o=await CC(s.localStore,ki(e)),c=o.targetId,f=s.sharedClientState.addLocalQueryTarget(c,n);let m;return r&&(m=await hN(s,e,c,f==="current",o.resumeToken)),s.isPrimaryClient&&n&&mE(s.remoteStore,o),m}async function hN(s,e,n,r,o){s.pu=(S,R,B)=>(async function(W,te,ae,he){let le=te.view.ru(ae);le.Ss&&(le=await Vv(W.localStore,te.query,!1).then((({documents:I})=>te.view.ru(I,le))));const Re=he&&he.targetChanges.get(te.targetId),Ye=he&&he.targetMismatches.get(te.targetId)!=null,Ce=te.view.applyChanges(le,W.isPrimaryClient,Re,Ye);return Fv(W,te.targetId,Ce.au),Ce.snapshot})(s,S,R,B);const c=await Vv(s.localStore,e,!0),f=new rN(e,c.ks),m=f.ru(c.documents),g=uc.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),y=f.applyChanges(m,s.isPrimaryClient,g);Fv(s,n,y.au);const E=new aN(e,n,f);return s.Tu.set(e,E),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),y.snapshot}async function fN(s,e,n){const r=Se(s),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((f=>!Bh(f,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await qm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Ap(r.remoteStore,o.targetId),Gm(r,o.targetId)})).catch(So)):(Gm(r,o.targetId),await qm(r.localStore,o.targetId,!0))}async function dN(s,e){const n=Se(s),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ap(n.remoteStore,r.targetId))}async function mN(s,e,n){const r=TN(s);try{const o=await(function(f,m){const g=Se(f),y=ot.now(),E=m.reduce(((B,$)=>B.add($.key)),Pe());let S,R;return g.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let $=ds(),W=Pe();return g.xs.getEntries(B,E).next((te=>{$=te,$.forEach(((ae,he)=>{he.isValidDocument()||(W=W.add(ae))}))})).next((()=>g.localDocuments.getOverlayedDocuments(B,$))).next((te=>{S=te;const ae=[];for(const he of m){const le=N2(he,S.get(he.key).overlayedDocument);le!=null&&ae.push(new Tr(he.key,le,IT(le.value.mapValue),rn.exists(!0)))}return g.mutationQueue.addMutationBatch(B,y,ae,m)})).next((te=>{R=te;const ae=te.applyToLocalDocumentSet(S,W);return g.documentOverlayCache.saveOverlays(B,te.batchId,ae)}))})).then((()=>({batchId:R.batchId,changes:PT(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let y=f.du[f.currentUser.toKey()];y||(y=new ht(Ue)),y=y.insert(m,g),f.du[f.currentUser.toKey()]=y})(r,o.batchId,n),await fc(r,o.changes),await Yh(r.remoteStore)}catch(o){const c=Np(o,"Failed to persist write");n.reject(c)}}async function wE(s,e){const n=Se(s);try{const r=await xC(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const f=n.Au.get(c);f&&(He(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?He(f.hu,14607):o.removedDocuments.size>0&&(He(f.hu,42227),f.hu=!1))})),await fc(n,r,e)}catch(r){await So(r)}}function Hv(s,e,n){const r=Se(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((c,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=Se(f);g.onlineState=m;let y=!1;g.queries.forEach(((E,S)=>{for(const R of S.ba)R.va(m)&&(y=!0)})),y&&Mp(g)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function pN(s,e,n){const r=Se(s);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),c=o&&o.key;if(c){let f=new ht(ge.comparator);f=f.insert(c,Pt.newNoDocument(c,be.min()));const m=Pe().add(c),g=new Gh(be.min(),new Map,new ht(Ue),f,m);await wE(r,g),r.Ru=r.Ru.remove(c),r.Au.delete(e),jp(r)}else await qm(r.localStore,e,!1).then((()=>Gm(r,e,n))).catch(So)}async function gN(s,e){const n=Se(s),r=e.batch.batchId;try{const o=await AC(n.localStore,e);AE(n,r,null),SE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await fc(n,o)}catch(o){await So(o)}}async function yN(s,e,n){const r=Se(s);try{const o=await(function(f,m){const g=Se(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next((S=>(He(S!==null,37113),E=S.keys(),g.mutationQueue.removeMutationBatch(y,S)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>g.localDocuments.getDocuments(y,E)))}))})(r.localStore,e);AE(r,e,n),SE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await fc(r,o)}catch(o){await So(o)}}function SE(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function AE(s,e,n){const r=Se(s);let o=r.du[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function Gm(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||xE(s,r)}))}function xE(s,e){s.Eu.delete(e.path.canonicalString());const n=s.Ru.get(e);n!==null&&(Ap(s.remoteStore,n),s.Ru=s.Ru.remove(e),s.Au.delete(n),jp(s))}function Fv(s,e,n){for(const r of n)r instanceof bE?(s.Vu.addReference(r.key,e),_N(s,r)):r instanceof TE?(ce(kp,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||xE(s,r.key)):_e(19791,{wu:r})}function _N(s,e){const n=e.key,r=n.path.canonicalString();s.Ru.get(n)||s.Eu.has(r)||(ce(kp,"New document in limbo: "+n),s.Eu.add(r),jp(s))}function jp(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new ge(it.fromString(e)),r=s.fu.next();s.Au.set(r,new oN(n)),s.Ru=s.Ru.insert(n,r),mE(s.remoteStore,new rr(ki(zh(n.path)),r,"TargetPurposeLimboResolution",Uh.ce))}}async function fc(s,e,n){const r=Se(s),o=[],c=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,g)=>{f.push(r.pu(g,e,n).then((y=>{if((y||n)&&r.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Ep.Es(g.targetId,y);c.push(E)}})))})),await Promise.all(f),r.Pu.J_(o),await(async function(g,y){const E=Se(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Z.forEach(y,(R=>Z.forEach(R.Ts,(B=>E.persistence.referenceDelegate.addReference(S,R.targetId,B))).next((()=>Z.forEach(R.Is,(B=>E.persistence.referenceDelegate.removeReference(S,R.targetId,B)))))))))}catch(S){if(!Ao(S))throw S;ce(wp,"Failed to update sequence numbers: "+S)}for(const S of y){const R=S.targetId;if(!S.fromCache){const B=E.vs.get(R),$=B.snapshotVersion,W=B.withLastLimboFreeSnapshotVersion($);E.vs=E.vs.insert(R,W)}}})(r.localStore,c))}async function vN(s,e){const n=Se(s);if(!n.currentUser.isEqual(e)){ce(kp,"User change. New user:",e.toKey());const r=await hE(n.localStore,e);n.currentUser=e,(function(c,f){c.mu.forEach((m=>{m.forEach((g=>{g.reject(new re(Y.CANCELLED,f))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await fc(n,r.Ns)}}function bN(s,e){const n=Se(s),r=n.Au.get(e);if(r&&r.hu)return Pe().add(r.key);{let o=Pe();const c=n.Iu.get(e);if(!c)return o;for(const f of c){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function RE(s){const e=Se(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=wE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pN.bind(null,e),e.Pu.J_=iN.bind(null,e.eventManager),e.Pu.yu=sN.bind(null,e.eventManager),e}function TN(s){const e=Se(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yN.bind(null,e),e}class wh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return SC(this.persistence,new TC,e.initialUser,this.serializer)}Cu(e){return new uE(Tp.Vi,this.serializer)}Du(e){return new DC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wh.provider={build:()=>new wh};class EN extends wh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){He(this.persistence.referenceDelegate instanceof Th,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new aC(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new uE((r=>Th.Vi(r,n)),this.serializer)}}class Qm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Hv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=vN.bind(null,this.syncEngine),await eN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new nN})()}createDatastore(e){const n=Qh(e.databaseInfo.databaseId),r=jC(e.databaseInfo);return BC(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,c,f,m){return new HC(r,o,c,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>Hv(this.syncEngine,n,0)),(function(){return Lv.v()?new Lv:new OC})())}createSyncEngine(e,n){return(function(o,c,f,m,g,y,E){const S=new lN(o,c,f,m,g,y);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Se(n);ce(aa,"RemoteStore shutting down."),r.Ea.add(5),await hc(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Qm.provider={build:()=>new Qm};class Lp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):fs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}let wN=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new re(Y.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(o,c){const f=Se(o),m={documents:c.map((S=>bh(f.serializer,S)))},g=await f.jo("BatchGetDocuments",f.serializer.databaseId,it.emptyPath(),m,c.length),y=new Map;g.forEach((S=>{const R=H2(f.serializer,S);y.set(R.key.toString(),R)}));const E=[];return c.forEach((S=>{const R=y.get(S.toString());He(!!R,55234,{key:S}),E.push(R)})),E})(this.datastore,e);return n.forEach((r=>this.recordVersion(r))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new gp(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,r)=>{const o=ge.fromPath(r);this.mutations.push(new XT(o,this.precondition(o)))})),await(async function(r,o){const c=Se(r),f={writes:o.map((m=>sE(c.serializer,m)))};await c.Wo("Commit",c.serializer.databaseId,it.emptyPath(),f)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw _e(50498,{Gu:e.constructor.name});n=be.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new re(Y.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(be.min())?rn.exists(!1):rn.updateTime(n):rn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(be.min()))throw new re(Y.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return rn.updateTime(n)}return rn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};class SN{constructor(e,n,r,o,c){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=o,this.deferred=c,this.zu=r.maxAttempts,this.M_=new Sp(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const e=new wN(this.datastore),n=this.Ju(e);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((o=>{this.Zu(o)}))))})).catch((r=>{this.Zu(r)}))}))}Ju(e){try{const n=this.updateFunction(e);return!lc(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Zu(e){this.zu>0&&this.Xu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(e)}Xu(e){if(e?.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!$T(n)}return!1}}const yr="FirestoreClient";class AN{constructor(e,n,r,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=lp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async f=>{ce(yr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(ce(yr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Np(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Tm(s,e){s.asyncQueue.verifyOperationInProgress(),ce(yr,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await hE(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Gv(s,e){s.asyncQueue.verifyOperationInProgress();const n=await xN(s);ce(yr,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>Pv(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>Pv(e.remoteStore,o))),s._onlineComponents=e}async function xN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ce(yr,"Using user provided OfflineComponentProvider");try{await Tm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;fo("Error using user provided cache. Falling back to memory cache: "+n),await Tm(s,new wh)}}else ce(yr,"Using default OfflineComponentProvider"),await Tm(s,new EN(void 0));return s._offlineComponents}async function Up(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ce(yr,"Using user provided OnlineComponentProvider"),await Gv(s,s._uninitializedComponentsProvider._online)):(ce(yr,"Using default OnlineComponentProvider"),await Gv(s,new Qm))),s._onlineComponents}function RN(s){return Up(s).then((e=>e.syncEngine))}function IN(s){return Up(s).then((e=>e.datastore))}async function Sh(s){const e=await Up(s),n=e.eventManager;return n.onListen=cN.bind(null,e.syncEngine),n.onUnlisten=fN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=uN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=dN.bind(null,e.syncEngine),n}function CN(s,e,n,r){const o=new Lp(r),c=new Vp(e,o,n);return s.asyncQueue.enqueueAndForget((async()=>Dp(await Sh(s),c))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>Op(await Sh(s),c)))}}function NN(s,e,n={}){const r=new Vi;return s.asyncQueue.enqueueAndForget((async()=>(function(c,f,m,g,y){const E=new Lp({next:R=>{E.Nu(),f.enqueueAndForget((()=>Op(c,S)));const B=R.docs.has(m);!B&&R.fromCache?y.reject(new re(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&R.fromCache&&g&&g.source==="server"?y.reject(new re(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(R)},error:R=>y.reject(R)}),S=new Vp(zh(m.path),E,{includeMetadataChanges:!0,Ka:!0});return Dp(c,S)})(await Sh(s),s.asyncQueue,e,n,r))),r.promise}function DN(s,e,n={}){const r=new Vi;return s.asyncQueue.enqueueAndForget((async()=>(function(c,f,m,g,y){const E=new Lp({next:R=>{E.Nu(),f.enqueueAndForget((()=>Op(c,S))),R.fromCache&&g.source==="server"?y.reject(new re(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(R)},error:R=>y.reject(R)}),S=new Vp(m,E,{includeMetadataChanges:!0,Ka:!0});return Dp(c,S)})(await Sh(s),s.asyncQueue,e,n,r))),r.promise}function ON(s,e){const n=new Vi;return s.asyncQueue.enqueueAndForget((async()=>mN(await RN(s),e,n))),n.promise}function MN(s,e,n){const r=new Vi;return s.asyncQueue.enqueueAndForget((async()=>{const o=await IN(s);new SN(s.asyncQueue,o,n,e,r).ju()})),r.promise}function IE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const VN="ComponentProvider",Qv=new Map;function kN(s,e,n,r,o){return new WI(s,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,IE(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const CE="firestore.googleapis.com",Kv=!0;class Yv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new re(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=CE,this.ssl=Kv}else this.host=e.host,this.ssl=e.ssl??Kv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sC)throw new re(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IE(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new re(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new re(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new re(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xh{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new re(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new re(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new OI;switch(r.type){case"firstParty":return new jI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new re(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Qv.get(n);r&&(ce(VN,"Removing Datastore"),Qv.delete(n),r.terminate())})(this),Promise.resolve()}}function jN(s,e,n,r={}){s=In(s,Xh);const o=To(e),c=s._getSettings(),f={...c,emulatorOptions:s._getEmulatorOptions()},m=`${e}:${n}`;o&&(Db(`https://${m}`),Ob("Firestore",!0)),c.host!==CE&&c.host!==m&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:m,ssl:o,emulatorOptions:r};if(!us(g,f)&&(s._setSettings(g),r.mockUserToken)){let y,E;if(typeof r.mockUserToken=="string")y=r.mockUserToken,E=Zt.MOCK_USER;else{y=VA(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new re(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Zt(S)}s._authCredentials=new MI(new gT(y,E))}}class gs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new gs(this.firestore,e,this._query)}}class ut{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ut(this.firestore,e,this._key)}toJSON(){return{type:ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(oc(n,ut._jsonSchema))return new ut(e,r||null,new ge(it.fromString(n.referencePath)))}}ut._jsonSchemaVersion="firestore/documentReference/1.0",ut._jsonSchema={type:Dt("string",ut._jsonSchemaVersion),referencePath:Dt("string")};class cr extends gs{constructor(e,n,r){super(e,n,zh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ut(this.firestore,null,new ge(e))}withConverter(e){return new cr(this.firestore,e,this._path)}}function LN(s,e,...n){if(s=mt(s),yT("collection","path",e),s instanceof Xh){const r=it.fromString(e,...n);return ov(r),new cr(s,null,r)}{if(!(s instanceof ut||s instanceof cr))throw new re(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(it.fromString(e,...n));return ov(r),new cr(s.firestore,null,r)}}function Bi(s,e,...n){if(s=mt(s),arguments.length===1&&(e=lp.newId()),yT("doc","path",e),s instanceof Xh){const r=it.fromString(e,...n);return av(r),new ut(s,null,new ge(r))}{if(!(s instanceof ut||s instanceof cr))throw new re(Y.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(it.fromString(e,...n));return av(r),new ut(s.firestore,s instanceof cr?s.converter:null,new ge(r))}}const Xv="AsyncQueue";class $v{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Sp(this,"async_queue_retry"),this._c=()=>{const r=bm();r&&ce(Xv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=bm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=bm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Vi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Ao(e))throw e;ce(Xv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,fs("INTERNAL UNHANDLED ERROR: ",Jv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Cp.createAndSchedule(this,e,n,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&_e(47125,{Pc:Jv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Jv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class _r extends Xh{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new $v,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $v(e),this._firestoreClient=void 0,await e}}}function UN(s,e){const n=typeof s=="object"?s:ep(),r=typeof s=="string"?s:ph,o=ca(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=OA("firestore");c&&jN(o,...c)}return o}function dc(s){if(s._terminated)throw new re(Y.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||PN(s),s._firestoreClient}function PN(s){const e=s._freezeSettings(),n=kN(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new AN(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class An{constructor(e){this._byteString=e}static fromBase64String(e){try{return new An(Xt.fromBase64String(e))}catch(n){throw new re(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new An(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:An._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(oc(e,An._jsonSchema))return An.fromBase64String(e.bytes)}}An._jsonSchemaVersion="firestore/bytes/1.0",An._jsonSchema={type:Dt("string",An._jsonSchemaVersion),bytes:Dt("string")};class $h{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new re(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Io{constructor(e){this._methodName=e}}class ji{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new re(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new re(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ji._jsonSchemaVersion}}static fromJSON(e){if(oc(e,ji._jsonSchema))return new ji(e.latitude,e.longitude)}}ji._jsonSchemaVersion="firestore/geoPoint/1.0",ji._jsonSchema={type:Dt("string",ji._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};class ai{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ai._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(oc(e,ai._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ai(e.vectorValues);throw new re(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ai._jsonSchemaVersion="firestore/vectorValue/1.0",ai._jsonSchema={type:Dt("string",ai._jsonSchemaVersion),vectorValues:Dt("object")};const zN=/^__.*__$/;class BN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Tr(e,this.data,this.fieldMask,n,this.fieldTransforms):new cc(e,this.data,n,this.fieldTransforms)}}class NE{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Tr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function DE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{dataSource:s})}}class Jh{constructor(e,n,r,o,c,f){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Jh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Ah(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(DE(this.dataSource)&&zN.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class qN{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Qh(e)}createContext(e,n,r,o=!1){return new Jh({dataSource:e,methodName:n,targetDoc:r,path:Kt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zh(s){const e=s._freezeSettings(),n=Qh(s._databaseId);return new qN(s._databaseId,!!e.ignoreUndefinedProperties,n)}function OE(s,e,n,r,o,c={}){const f=s.createContext(c.merge||c.mergeFields?2:0,e,n,o);qp("Data must be an object, but it was:",f,r);const m=kE(r,f);let g,y;if(c.merge)g=new xn(f.fieldMask),y=f.fieldTransforms;else if(c.mergeFields){const E=[];for(const S of c.mergeFields){const R=bo(e,S,n);if(!f.contains(R))throw new re(Y.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);UE(E,R)||E.push(R)}g=new xn(E),y=f.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,y=f.fieldTransforms;return new BN(new sn(m),g,y)}class Wh extends Io{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wh}}function HN(s,e,n){return new Jh({dataSource:3,targetDoc:e.settings.targetDoc,methodName:s._methodName,arrayElement:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Pp extends Io{_toFieldTransform(e){return new pp(e.path,new tc)}isEqual(e){return e instanceof Pp}}class zp extends Io{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=HN(this,e,!0),r=this.Ac.map((c=>Co(c,n))),o=new yo(r);return new pp(e.path,o)}isEqual(e){return e instanceof zp&&us(this.Ac,e.Ac)}}class Bp extends Io{constructor(e,n){super(e),this.Vc=n}_toFieldTransform(e){const n=new ic(e.serializer,qT(e.serializer,this.Vc));return new pp(e.path,n)}isEqual(e){return e instanceof Bp&&this.Vc===e.Vc}}function ME(s,e,n,r){const o=s.createContext(1,e,n);qp("Data must be an object, but it was:",o,r);const c=[],f=sn.empty();br(r,((g,y)=>{const E=LE(e,g,n);y=mt(y);const S=o.childContextForFieldPath(E);if(y instanceof Wh)c.push(E);else{const R=Co(y,S);R!=null&&(c.push(E),f.set(E,R))}}));const m=new xn(c);return new NE(f,m,o.fieldTransforms)}function VE(s,e,n,r,o,c){const f=s.createContext(1,e,n),m=[bo(e,r,n)],g=[o];if(c.length%2!=0)throw new re(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<c.length;R+=2)m.push(bo(e,c[R])),g.push(c[R+1]);const y=[],E=sn.empty();for(let R=m.length-1;R>=0;--R)if(!UE(y,m[R])){const B=m[R];let $=g[R];$=mt($);const W=f.childContextForFieldPath(B);if($ instanceof Wh)y.push(B);else{const te=Co($,W);te!=null&&(y.push(B),E.set(B,te))}}const S=new xn(y);return new NE(E,S,f.fieldTransforms)}function FN(s,e,n,r=!1){return Co(n,s.createContext(r?4:3,e))}function Co(s,e){if(jE(s=mt(s)))return qp("Unsupported field value:",e,s),kE(s,e);if(s instanceof Io)return(function(r,o){if(!DE(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const c=[];let f=0;for(const m of r){let g=Co(m,o.childContextForArray(f));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),f++}return{arrayValue:{values:c}}})(s,e)}return(function(r,o){if((r=mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return qT(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=ot.fromDate(r);return{timestampValue:vh(o.serializer,c)}}if(r instanceof ot){const c=new ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:vh(o.serializer,c)}}if(r instanceof ji)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof An)return{bytesValue:eE(o.serializer,r._byteString)};if(r instanceof ut){const c=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(c))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:vp(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ai)return(function(f,m){const g=f instanceof ai?f.toArray():f;return{mapValue:{fields:{[xT]:{stringValue:RT},[gh]:{arrayValue:{values:g.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return mp(m.serializer,E)}))}}}}}})(r,o);if(lE(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Lh(r)}`)})(s,e)}function kE(s,e){const n={};return bT(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):br(s,((r,o)=>{const c=Co(o,e.childContextForField(r));c!=null&&(n[r]=c)})),{mapValue:{fields:n}}}function jE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ot||s instanceof ji||s instanceof An||s instanceof ut||s instanceof Io||s instanceof ai||lE(s))}function qp(s,e,n){if(!jE(n)||!_T(n)){const r=Lh(n);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function bo(s,e,n){if((e=mt(e))instanceof $h)return e._internalPath;if(typeof e=="string")return LE(s,e);throw Ah("Field path arguments must be of type string or ",s,!1,void 0,n)}const GN=new RegExp("[~\\*/\\[\\]]");function LE(s,e,n){if(e.search(GN)>=0)throw Ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new $h(...e.split("."))._internalPath}catch{throw Ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Ah(s,e,n,r,o){const c=r&&!r.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(c||f)&&(g+=" (found",c&&(g+=` in field ${r}`),f&&(g+=` in document ${o}`),g+=")"),new re(Y.INVALID_ARGUMENT,m+s+g)}function UE(s,e){return s.some((n=>n.isEqual(e)))}class PE{convertValue(e,n="none"){switch(pr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(mr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return br(e,((o,c)=>{r[o]=this.convertValue(c,n)})),r}convertVectorValue(e){const n=e.fields?.[gh].arrayValue?.values?.map((r=>vt(r.doubleValue)));return new ai(n)}convertGeoPoint(e){return new ji(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ph(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Jl(e));default:return null}}convertTimestamp(e){const n=dr(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=it.fromString(e);He(oE(r),9688,{name:e});const o=new Zl(r.get(1),r.get(3)),c=new ge(r.popFirst(5));return o.isEqual(n)||fs(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}class ef extends PE{constructor(e){super(),this.firestore=e}convertBytes(e){return new An(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ut(this.firestore,null,n)}}function zE(){return new Pp("serverTimestamp")}function BE(...s){return new zp("arrayUnion",s)}function qE(s){return new Bp("increment",s)}const Zv="@firebase/firestore",Wv="4.10.0";function eb(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const c of r)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class xh{constructor(e,n,r,o,c){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(bo("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class QN extends xh{data(){return super.data()}}function HE(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new re(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hp{}class Fp extends Hp{}function KN(s,e,...n){let r=[];e instanceof Hp&&r.push(e),r=r.concat(n),(function(c){const f=c.filter((g=>g instanceof Qp)).length,m=c.filter((g=>g instanceof Gp)).length;if(f>1||f>0&&m>0)throw new re(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class Gp extends Fp{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Gp(e,n,r)}_apply(e){const n=this._parse(e);return FE(e._query,n),new gs(e.firestore,e.converter,Um(e._query,n))}_parse(e){const n=Zh(e.firestore);return(function(c,f,m,g,y,E,S){let R;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new re(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){nb(S,E);const $=[];for(const W of S)$.push(tb(g,c,W));R={arrayValue:{values:$}}}else R=tb(g,c,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||nb(S,E),R=FN(m,f,S,E==="in"||E==="not-in");return Nt.create(y,E,R)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Qp extends Hp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Qp(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:li.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let f=o;const m=c.getFlattenedFilters();for(const g of m)FE(f,g),f=Um(f,g)})(e._query,n),new gs(e.firestore,e.converter,Um(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Kp extends Fp{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Kp(e,n)}_apply(e){const n=(function(o,c,f){if(o.startAt!==null)throw new re(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new re(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ec(c,f)})(e._query,this._field,this._direction);return new gs(e.firestore,e.converter,y2(e._query,n))}}function YN(s,e="asc"){const n=e,r=bo("orderBy",s);return Kp._create(r,n)}class Yp extends Fp{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Yp(e,n,r)}_apply(e){return new gs(e.firestore,e.converter,_h(e._query,this._limit,this._limitType))}}function XN(s){return Yp._create("limit",s,"F")}function tb(s,e,n){if(typeof(n=mt(n))=="string"){if(n==="")throw new re(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kT(e)&&n.indexOf("/")!==-1)throw new re(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(it.fromString(n));if(!ge.isDocumentKey(r))throw new re(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return pv(s,new ge(r))}if(n instanceof ut)return pv(s,n._key);throw new re(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lh(n)}.`)}function nb(s,e){if(!Array.isArray(s)||s.length===0)throw new re(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function FE(s,e){const n=(function(o,c){for(const f of o)for(const m of f.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new re(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new re(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function GE(s,e,n){let r;return r=s?n&&(n.merge||n.mergeFields)?s.toFirestore(e,n):s.toFirestore(e):e,r}class $N extends PE{constructor(e){super(),this.firestore=e}convertBytes(e){return new An(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ut(this.firestore,null,n)}}class so{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ur extends xh{constructor(e,n,r,o,c,f){super(e,n,r,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(bo("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new re(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ur._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ur._jsonSchemaVersion="firestore/documentSnapshot/1.0",ur._jsonSchema={type:Dt("string",ur._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class sh extends ur{data(e={}){return super.data(e)}}class ta{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new so(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new sh(this._firestore,this._userDataWriter,r.key,r,new so(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new re(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new sh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new so(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const g=new sh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new so(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:JN(m.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new re(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ta._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=lp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function JN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:s})}}ta._jsonSchemaVersion="firestore/querySnapshot/1.0",ta._jsonSchema={type:Dt("string",ta._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};const ZN={maxAttempts:5};function Bl(s,e){if((s=mt(s)).firestore!==e)throw new re(Y.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}class WN{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Zh(e)}get(e){const n=Bl(e,this._firestore),r=new $N(this._firestore);return this._transaction.lookup([n._key]).then((o=>{if(!o||o.length!==1)return _e(24041);const c=o[0];if(c.isFoundDocument())return new xh(this._firestore,r,c.key,c,n.converter);if(c.isNoDocument())return new xh(this._firestore,r,n._key,null,n.converter);throw _e(18433,{doc:c})}))}set(e,n,r){const o=Bl(e,this._firestore),c=GE(o.converter,n,r),f=OE(this._dataReader,"Transaction.set",o._key,c,o.converter!==null,r);return this._transaction.set(o._key,f),this}update(e,n,r,...o){const c=Bl(e,this._firestore);let f;return f=typeof(n=mt(n))=="string"||n instanceof $h?VE(this._dataReader,"Transaction.update",c._key,n,r,o):ME(this._dataReader,"Transaction.update",c._key,n),this._transaction.update(c._key,f),this}delete(e){const n=Bl(e,this._firestore);return this._transaction.delete(n._key),this}}class e4 extends WN{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Bl(e,this._firestore),r=new ef(this._firestore);return super.get(e).then((o=>new ur(this._firestore,r,n._key,o._document,new so(!1,!1),n.converter)))}}function t4(s,e,n){s=In(s,_r);const r={...ZN,...n};(function(f){if(f.maxAttempts<1)throw new re(Y.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r);const o=dc(s);return MN(o,(c=>e(new e4(s,c))),r)}function Xp(s){s=In(s,ut);const e=In(s.firestore,_r),n=dc(e);return NN(n,s._key).then((r=>YE(e,s,r)))}function n4(s){s=In(s,gs);const e=In(s.firestore,_r),n=dc(e),r=new ef(e);return HE(s._query),DN(n,s._query).then((o=>new ta(e,r,s,o)))}function sc(s,e,n){s=In(s,ut);const r=In(s.firestore,_r),o=GE(s.converter,e,n),c=Zh(r);return KE(r,[OE(c,"setDoc",s._key,o,s.converter!==null,n).toMutation(s._key,rn.none())])}function QE(s,e,n,...r){s=In(s,ut);const o=In(s.firestore,_r),c=Zh(o);let f;return f=typeof(e=mt(e))=="string"||e instanceof $h?VE(c,"updateDoc",s._key,e,n,r):ME(c,"updateDoc",s._key,e),KE(o,[f.toMutation(s._key,rn.exists(!0))])}function i4(s,...e){s=mt(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||eb(e[r])||(n=e[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(eb(e[r])){const y=e[r];e[r]=y.next?.bind(y),e[r+1]=y.error?.bind(y),e[r+2]=y.complete?.bind(y)}let c,f,m;if(s instanceof ut)f=In(s.firestore,_r),m=zh(s._key.path),c={next:y=>{e[r]&&e[r](YE(f,s,y))},error:e[r+1],complete:e[r+2]};else{const y=In(s,gs);f=In(y.firestore,_r),m=y._query;const E=new ef(f);c={next:S=>{e[r]&&e[r](new ta(f,E,y,S))},error:e[r+1],complete:e[r+2]},HE(s._query)}const g=dc(f);return CN(g,m,o,c)}function KE(s,e){const n=dc(s);return ON(n,e)}function YE(s,e,n){const r=n.docs.get(e._key),o=new ef(s);return new ur(s,o,e._key,r,new so(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){DI(Eo),Pi(new oi("firestore",((r,{instanceIdentifier:o,options:c})=>{const f=r.getProvider("app").getImmediate(),m=new _r(new VI(r.getProvider("auth-internal")),new LI(f,r.getProvider("app-check-internal")),e2(f,o),f);return c={useFetchStreams:n,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),Hn(Zv,Wv,e),Hn(Zv,Wv,"esm2020")})();function XE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const s4=XE,$E=new la("auth","Firebase",XE());const Rh=new Vh("@firebase/auth");function r4(s,...e){Rh.logLevel<=Le.WARN&&Rh.warn(`Auth (${Eo}): ${s}`,...e)}function rh(s,...e){Rh.logLevel<=Le.ERROR&&Rh.error(`Auth (${Eo}): ${s}`,...e)}function ms(s,...e){throw $p(s,...e)}function Li(s,...e){return $p(s,...e)}function JE(s,e,n){const r={...s4(),[e]:n};return new la("auth","Firebase",r).create(e,{appName:s.name})}function hr(s){return JE(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $p(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return $E.create(s,...e)}function we(s,e,...n){if(!s)throw $p(e,...n)}function os(s){const e="INTERNAL ASSERTION FAILED: "+s;throw rh(e),new Error(e)}function ps(s,e){s||os(e)}function Km(){return typeof self<"u"&&self.location?.href||""}function a4(){return ib()==="http:"||ib()==="https:"}function ib(){return typeof self<"u"&&self.location?.protocol||null}function o4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(a4()||Mb()||"connection"in navigator)?navigator.onLine:!0}function l4(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class mc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ps(n>e,"Short delay should be less than long delay!"),this.isMobile=LA()||zA()}get(){return o4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Jp(s,e){ps(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class ZE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;os("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;os("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;os("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const c4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const u4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],h4=new mc(3e4,6e4);function tf(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function No(s,e,n,r,o={}){return WE(s,o,async()=>{let c={},f={};r&&(e==="GET"?f=r:c={body:JSON.stringify(r)});const m=ac({key:s.config.apiKey,...f}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:g,...c};return PA()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&To(s.emulatorConfig.host)&&(y.credentials="include"),ZE.fetch()(await tw(s,s.config.apiHost,n,m),y)})}async function WE(s,e,n){s._canInitEmulator=!1;const r={...c4,...e};try{const o=new f4(s),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw Ju(s,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const m=c.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ju(s,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Ju(s,"email-already-in-use",f);if(g==="USER_DISABLED")throw Ju(s,"user-disabled",f);const E=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw JE(s,E,y);ms(s,E)}}catch(o){if(o instanceof ci)throw o;ms(s,"network-request-failed",{message:String(o)})}}async function ew(s,e,n,r,o={}){const c=await No(s,e,n,r,o);return"mfaPendingCredential"in c&&ms(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function tw(s,e,n,r){const o=`${e}${n}?${r}`,c=s,f=c.config.emulator?Jp(s.config,o):`${s.config.apiScheme}://${o}`;return u4.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}class f4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Li(this.auth,"network-request-failed")),h4.get())})}}function Ju(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Li(s,e,r);return o.customData._tokenResponse=n,o}async function d4(s,e){return No(s,"POST","/v1/accounts:delete",e)}async function Ih(s,e){return No(s,"POST","/v1/accounts:lookup",e)}function Yl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function m4(s,e=!1){const n=mt(s),r=await n.getIdToken(e),o=Zp(r);we(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,f=c?.sign_in_provider;return{claims:o,token:r,authTime:Yl(Em(o.auth_time)),issuedAtTime:Yl(Em(o.iat)),expirationTime:Yl(Em(o.exp)),signInProvider:f||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Em(s){return Number(s)*1e3}function Zp(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return rh("JWT malformed, contained fewer than 3 sections"),null;try{const o=Rb(n);return o?JSON.parse(o):(rh("Failed to decode base64 JWT payload"),null)}catch(o){return rh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function sb(s){const e=Zp(s);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function rc(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ci&&p4(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function p4({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class g4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Ym{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yl(this.lastLoginAt),this.creationTime=Yl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ch(s){const e=s.auth,n=await s.getIdToken(),r=await rc(s,Ih(e,{idToken:n}));we(r?.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?nw(o.providerUserInfo):[],f=_4(s.providerData,c),m=s.isAnonymous,g=!(s.email&&o.passwordHash)&&!f?.length,y=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Ym(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(s,E)}async function y4(s){const e=mt(s);await Ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _4(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function nw(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function v4(s,e){const n=await WE(s,{},async()=>{const r=ac({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,f=await tw(s,o,"/v1/token",`key=${c}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:r};return s.emulatorConfig&&To(s.emulatorConfig.host)&&(g.credentials="include"),ZE.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function b4(s,e){return No(s,"POST","/v2/accounts:revokeToken",tf(s,e))}class co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=sb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:c}=await v4(e,n);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:c}=n,f=new co;return r&&(we(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),o&&(we(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),c&&(we(typeof c=="number","internal-error",{appName:e}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new co,this.toJSON())}_performRefresh(){return os("not implemented")}}function Ws(s,e){we(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ri{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new g4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ym(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await rc(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return m4(this,e)}reload(){return y4(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ri({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ch(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(si(this.auth.app))return Promise.reject(hr(this.auth));const e=await this.getIdToken();return await rc(this,d4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:S,emailVerified:R,isAnonymous:B,providerData:$,stsTokenManager:W}=n;we(S&&W,e,"internal-error");const te=co.fromJSON(this.name,W);we(typeof S=="string",e,"internal-error"),Ws(r,e.name),Ws(o,e.name),we(typeof R=="boolean",e,"internal-error"),we(typeof B=="boolean",e,"internal-error"),Ws(c,e.name),Ws(f,e.name),Ws(m,e.name),Ws(g,e.name),Ws(y,e.name),Ws(E,e.name);const ae=new ri({uid:S,auth:e,email:o,emailVerified:R,displayName:r,isAnonymous:B,photoURL:f,phoneNumber:c,tenantId:m,stsTokenManager:te,createdAt:y,lastLoginAt:E});return $&&Array.isArray($)&&(ae.providerData=$.map(he=>({...he}))),g&&(ae._redirectEventId=g),ae}static async _fromIdTokenResponse(e,n,r=!1){const o=new co;o.updateFromServerResponse(n);const c=new ri({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Ch(c),c}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];we(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?nw(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!c?.length,m=new co;m.updateFromIdToken(r);const g=new ri({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Ym(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(g,y),g}}const rb=new Map;function ls(s){ps(s instanceof Function,"Expected a class definition");let e=rb.get(s);return e?(ps(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,rb.set(s,e),e)}class iw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}iw.type="NONE";const ab=iw;function ah(s,e,n){return`firebase:${s}:${e}:${n}`}class uo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=ah(this.userKey,o.apiKey,c),this.fullPersistenceKey=ah("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ih(this.auth,{idToken:e}).catch(()=>{});return n?ri._fromGetAccountInfoResponse(this.auth,n,e):null}return ri._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new uo(ls(ab),e,r);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||ls(ab);const f=ah(r,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let S;if(typeof E=="string"){const R=await Ih(e,{idToken:E}).catch(()=>{});if(!R)break;S=await ri._fromGetAccountInfoResponse(e,R,E)}else S=ri._fromJSON(e,E);y!==c&&(m=S),c=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new uo(c,e,r):(c=g[0],m&&await c._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(f)}catch{}})),new uo(c,e,r))}}function ob(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ow(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cw(e))return"Blackberry";if(uw(e))return"Webos";if(rw(e))return"Safari";if((e.includes("chrome/")||aw(e))&&!e.includes("edge/"))return"Chrome";if(lw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function sw(s=Wt()){return/firefox\//i.test(s)}function rw(s=Wt()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aw(s=Wt()){return/crios\//i.test(s)}function ow(s=Wt()){return/iemobile/i.test(s)}function lw(s=Wt()){return/android/i.test(s)}function cw(s=Wt()){return/blackberry/i.test(s)}function uw(s=Wt()){return/webos/i.test(s)}function Wp(s=Wt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function T4(s=Wt()){return Wp(s)&&!!window.navigator?.standalone}function E4(){return BA()&&document.documentMode===10}function hw(s=Wt()){return Wp(s)||lw(s)||uw(s)||cw(s)||/windows phone/i.test(s)||ow(s)}function fw(s,e=[]){let n;switch(s){case"Browser":n=ob(Wt());break;case"Worker":n=`${ob(Wt())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Eo}/${r}`}class w4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=c=>new Promise((f,m)=>{try{const g=e(c);f(g)}catch(g){m(g)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function S4(s,e={}){return No(s,"GET","/v2/passwordPolicy",tf(s,e))}const A4=6;class x4{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??A4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class R4{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lb(this),this.idTokenSubscription=new lb(this),this.beforeStateQueue=new w4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$E,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ls(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await uo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ih(this,{idToken:e}),r=await ri._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(si(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,f=r?._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===f)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ch(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=l4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(si(this.app))return Promise.reject(hr(this));const n=e?mt(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return si(this.app)?Promise.reject(hr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return si(this.app)?Promise.reject(hr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ls(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await S4(this),n=new x4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new la("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await b4(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ls(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await uo.create(this,[ls(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(m,this,"internal-error"),m.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,r,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&r4(`Error while retrieving App Check token: ${e.error}`),e?.token}}function nf(s){return mt(s)}class lb{constructor(e){this.auth=e,this.observer=null,this.addObserver=YA(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let eg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function I4(s){eg=s}function C4(s){return eg.loadJS(s)}function N4(){return eg.gapiScript}function D4(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function O4(s,e){const n=ca(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(us(c,e??{}))return o;ms(o,"already-initialized")}return n.initialize({options:e})}function M4(s,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ls);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function V4(s,e,n){const r=nf(s);we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=dw(e),{host:f,port:m}=k4(e),g=m===null?"":`:${m}`,y={url:`${c}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){we(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),we(us(y,r.config.emulator)&&us(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,To(f)?(Db(`${c}//${f}${g}`),Ob("Auth",!0)):j4()}function dw(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function k4(s){const e=dw(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:cb(r.substr(c.length+1))}}else{const[c,f]=r.split(":");return{host:c,port:cb(f)}}}function cb(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function j4(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class mw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return os("not implemented")}_getIdTokenResponse(e){return os("not implemented")}_linkToIdToken(e,n){return os("not implemented")}_getReauthenticationResolver(e){return os("not implemented")}}async function ho(s,e){return ew(s,"POST","/v1/accounts:signInWithIdp",tf(s,e))}const L4="http://localhost";class oa extends mw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new oa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ms("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=n;if(!r||!o)return null;const f=new oa(r,o);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return ho(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ho(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ho(e,n)}buildRequest(){const e={requestUri:L4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ac(n)}return e}}class pw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class pc extends pw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class tr extends pc{constructor(){super("facebook.com")}static credential(e){return oa._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return tr.credential(e.oauthAccessToken)}catch{return null}}}tr.FACEBOOK_SIGN_IN_METHOD="facebook.com";tr.PROVIDER_ID="facebook.com";class nr extends pc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return oa._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return nr.credential(n,r)}catch{return null}}}nr.GOOGLE_SIGN_IN_METHOD="google.com";nr.PROVIDER_ID="google.com";class ir extends pc{constructor(){super("github.com")}static credential(e){return oa._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ir.credential(e.oauthAccessToken)}catch{return null}}}ir.GITHUB_SIGN_IN_METHOD="github.com";ir.PROVIDER_ID="github.com";class sr extends pc{constructor(){super("twitter.com")}static credential(e,n){return oa._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return sr.credential(n,r)}catch{return null}}}sr.TWITTER_SIGN_IN_METHOD="twitter.com";sr.PROVIDER_ID="twitter.com";async function U4(s,e){return ew(s,"POST","/v1/accounts:signUp",tf(s,e))}class vr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const c=await ri._fromIdTokenResponse(e,r,o),f=ub(r);return new vr({user:c,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=ub(r);return new vr({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function ub(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function P4(s){if(si(s.app))return Promise.reject(hr(s));const e=nf(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new vr({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await U4(e,{returnSecureToken:!0}),r=await vr._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}class Nh extends ci{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Nh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new Nh(e,n,r,o)}}function gw(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Nh._fromErrorAndOperation(s,c,e,r):c})}async function z4(s,e,n=!1){const r=await rc(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return vr._forOperation(s,"link",r)}async function B4(s,e,n=!1){const{auth:r}=s;if(si(r.app))return Promise.reject(hr(r));const o="reauthenticate";try{const c=await rc(s,gw(r,o,e,s),n);we(c.idToken,r,"internal-error");const f=Zp(c.idToken);we(f,r,"internal-error");const{sub:m}=f;return we(s.uid===m,r,"user-mismatch"),vr._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&ms(r,"user-mismatch"),c}}async function q4(s,e,n=!1){if(si(s.app))return Promise.reject(hr(s));const r="signIn",o=await gw(s,r,e),c=await vr._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(c.user),c}function H4(s,e,n,r){return mt(s).onIdTokenChanged(e,n,r)}function F4(s,e,n){return mt(s).beforeAuthStateChanged(e,n)}function G4(s,e,n,r){return mt(s).onAuthStateChanged(e,n,r)}const Dh="__sak";class yw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dh,"1"),this.storage.removeItem(Dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Q4=1e3,K4=10;class _w extends yw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},c=this.storage.getItem(r);E4()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,K4):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Q4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_w.type="LOCAL";const Y4=_w;class vw extends yw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}vw.type="SESSION";const bw=vw;function X4(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class sf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new sf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:c}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,c)),g=await X4(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sf.receivers=[];function tg(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}class $4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,f;return new Promise((m,g)=>{const y=tg("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(S){const R=S;if(R.data.eventId===y)switch(R.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(R.data.response);break;default:clearTimeout(E),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Ui(){return window}function J4(s){Ui().location.href=s}function Tw(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function Z4(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function W4(){return navigator?.serviceWorker?.controller||null}function eD(){return Tw()?self:null}const Ew="firebaseLocalStorageDb",tD=1,Oh="firebaseLocalStorage",ww="fbase_key";class gc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rf(s,e){return s.transaction([Oh],e?"readwrite":"readonly").objectStore(Oh)}function nD(){const s=indexedDB.deleteDatabase(Ew);return new gc(s).toPromise()}function Xm(){const s=indexedDB.open(Ew,tD);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Oh,{keyPath:ww})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Oh)?e(r):(r.close(),await nD(),e(await Xm()))})})}async function hb(s,e,n){const r=rf(s,!0).put({[ww]:e,value:n});return new gc(r).toPromise()}async function iD(s,e){const n=rf(s,!1).get(e),r=await new gc(n).toPromise();return r===void 0?null:r.value}function fb(s,e){const n=rf(s,!0).delete(e);return new gc(n).toPromise()}const sD=800,rD=3;class Sw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>rD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Tw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sf._getInstance(eD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Z4(),!this.activeServiceWorker)return;this.sender=new $4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||W4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xm();return await hb(e,Dh,"1"),await fb(e,Dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>hb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>iD(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>fb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=rf(o,!1).getAll();return new gc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Sw.type="LOCAL";const aD=Sw;new mc(3e4,6e4);function oD(s,e){return e?ls(e):(we(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class ng extends mw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ho(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ho(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function lD(s){return q4(s.auth,new ng(s),s.bypassAuthState)}function cD(s){const{auth:e,user:n}=s;return we(n,e,"internal-error"),B4(n,new ng(s),s.bypassAuthState)}async function uD(s){const{auth:e,user:n}=s;return we(n,e,"internal-error"),z4(n,new ng(s),s.bypassAuthState)}class Aw{constructor(e,n,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:c,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lD;case"linkViaPopup":case"linkViaRedirect":return uD;case"reauthViaPopup":case"reauthViaRedirect":return cD;default:ms(this.auth,"internal-error")}}resolve(e){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const hD=new mc(2e3,1e4);class ro extends Aw{constructor(e,n,r,o,c){super(e,n,o,c),this.provider=r,this.authWindow=null,this.pollId=null,ro.currentPopupAction&&ro.currentPopupAction.cancel(),ro.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){ps(this.filter.length===1,"Popup operations only handle one event");const e=tg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ro.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hD.get())};e()}}ro.currentPopupAction=null;const fD="pendingRedirect",oh=new Map;class dD extends Aw{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=oh.get(this.auth._key());if(!e){try{const r=await mD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}oh.set(this.auth._key(),e)}return this.bypassAuthState||oh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mD(s,e){const n=yD(e),r=gD(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function pD(s,e){oh.set(s._key(),e)}function gD(s){return ls(s._redirectPersistence)}function yD(s){return ah(fD,s.config.apiKey,s.name)}async function _D(s,e,n=!1){if(si(s.app))return Promise.reject(hr(s));const r=nf(s),o=oD(r,e),f=await new dD(r,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}const vD=600*1e3;class bD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!TD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!xw(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Li(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vD&&this.cachedEventUids.clear(),this.cachedEventUids.has(db(e))}saveEventToCache(e){this.cachedEventUids.add(db(e)),this.lastProcessedEventTime=Date.now()}}function db(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function xw({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function TD(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xw(s);default:return!1}}async function ED(s,e={}){return No(s,"GET","/v1/projects",e)}const wD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SD=/^https?/;async function AD(s){if(s.config.emulator)return;const{authorizedDomains:e}=await ED(s);for(const n of e)try{if(xD(n))return}catch{}ms(s,"unauthorized-domain")}function xD(s){const e=Km(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!SD.test(n))return!1;if(wD.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const RD=new mc(3e4,6e4);function mb(){const s=Ui().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function ID(s){return new Promise((e,n)=>{function r(){mb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mb(),n(Li(s,"network-request-failed"))},timeout:RD.get()})}if(Ui().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ui().gapi?.load)r();else{const o=D4("iframefcb");return Ui()[o]=()=>{gapi.load?r():n(Li(s,"network-request-failed"))},C4(`${N4()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw lh=null,e})}let lh=null;function CD(s){return lh=lh||ID(s),lh}const ND=new mc(5e3,15e3),DD="__/auth/iframe",OD="emulator/auth/iframe",MD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kD(s){const e=s.config;we(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Jp(e,OD):`https://${s.config.authDomain}/${DD}`,r={apiKey:e.apiKey,appName:s.name,v:Eo},o=VD.get(s.config.apiHost);o&&(r.eid=o);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${n}?${ac(r).slice(1)}`}async function jD(s){const e=await CD(s),n=Ui().gapi;return we(n,s,"internal-error"),e.open({where:document.body,url:kD(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MD,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const f=Li(s,"network-request-failed"),m=Ui().setTimeout(()=>{c(f)},ND.get());function g(){Ui().clearTimeout(m),o(r)}r.ping(g).then(g,()=>{c(f)})}))}const LD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UD=500,PD=600,zD="_blank",BD="http://localhost";class pb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qD(s,e,n,r=UD,o=PD){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const g={...LD,width:r.toString(),height:o.toString(),top:c,left:f},y=Wt().toLowerCase();n&&(m=aw(y)?zD:n),sw(y)&&(e=e||BD,g.scrollbars="yes");const E=Object.entries(g).reduce((R,[B,$])=>`${R}${B}=${$},`,"");if(T4(y)&&m!=="_self")return HD(e||"",m),new pb(null);const S=window.open(e||"",m,E);we(S,s,"popup-blocked");try{S.focus()}catch{}return new pb(S)}function HD(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const FD="__/auth/handler",GD="emulator/auth/handler",QD=encodeURIComponent("fac");async function gb(s,e,n,r,o,c){we(s.config.authDomain,s,"auth-domain-config-required"),we(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:Eo,eventId:o};if(e instanceof pw){e.setDefaultLanguage(s.languageCode),f.providerId=e.providerId||"",KA(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(e instanceof pc){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}s.tenantId&&(f.tid=s.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await s._getAppCheckToken(),y=g?`#${QD}=${encodeURIComponent(g)}`:"";return`${KD(s)}?${ac(m).slice(1)}${y}`}function KD({config:s}){return s.emulator?Jp(s,GD):`https://${s.authDomain}/${FD}`}const wm="webStorageSupport";class YD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bw,this._completeRedirectFn=_D,this._overrideRedirectResult=pD}async _openPopup(e,n,r,o){ps(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await gb(e,n,r,Km(),o);return qD(e,c,tg())}async _openRedirect(e,n,r,o){await this._originValidation(e);const c=await gb(e,n,r,Km(),o);return J4(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(ps(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await jD(e),r=new bD(e);return n.register("authEvent",o=>(we(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wm,{type:wm},o=>{const c=o?.[0]?.[wm];c!==void 0&&n(!!c),ms(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=AD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hw()||rw()||Wp()}}const XD=YD;var yb="@firebase/auth",_b="1.12.0";class $D{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function JD(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZD(s){Pi(new oi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=r.options;we(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:f,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fw(s)},y=new R4(r,o,c,g);return M4(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Pi(new oi("auth-internal",e=>{const n=nf(e.getProvider("auth").getImmediate());return(r=>new $D(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hn(yb,_b,JD(s)),Hn(yb,_b,"esm2020")}const WD=300,eO=Nb("authIdTokenMaxAge")||WD;let vb=null;const tO=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>eO)return;const o=n?.token;vb!==o&&(vb=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function nO(s=ep()){const e=ca(s,"auth");if(e.isInitialized())return e.getImmediate();const n=O4(s,{popupRedirectResolver:XD,persistence:[aD,Y4,bw]}),r=Nb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const f=tO(c.toString());F4(n,f,()=>f(n.currentUser)),H4(n,m=>f(m))}}const o=Ib("auth");return o&&V4(n,`http://${o}`),n}function iO(){return document.getElementsByTagName("head")?.[0]??document}I4({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const c=Li("internal-error");c.customData=o,n(c)},r.type="text/javascript",r.charset="UTF-8",iO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZD("Browser");const sO={apiKey:"AIzaSyAVpKz8TJcz9Q0CbSj2v_KQyeEs6SsuXsI",authDomain:"invitation-475eb.firebaseapp.com",projectId:"invitation-475eb",storageBucket:"invitation-475eb.firebasestorage.app",messagingSenderId:"1068873981449",appId:"1:1068873981449:web:82210f667d60117585e2d8",measurementId:"G-5YHV8DE43L"},ig=Pb(sO);xI(ig);const Fn=UN(ig),na=nO(ig),rO=()=>{const[s,e]=ie.useState(null);return ie.useEffect(()=>{const n=r=>{const o=r.detail.message,c=Date.now();e({message:o,id:c}),setTimeout(()=>{e(f=>f&&f.id===c?null:f)},3e3)};return window.addEventListener("show-toast",n),()=>window.removeEventListener("show-toast",n)},[]),s?b.jsxs("div",{style:bb.toast,children:[b.jsx("span",{style:bb.icon,children:""}),s.message]}):null},bb={toast:{position:"fixed",top:"20px",left:"50%",transform:"translateX(-50%)",backgroundColor:"rgba(0, 0, 0, 0.9)",color:"#ffd700",padding:"12px 24px",borderRadius:"30px",fontSize:"0.9rem",fontWeight:"bold",zIndex:9999,display:"flex",alignItems:"center",gap:"8px",boxShadow:"0 4px 15px rgba(0,0,0,0.3)",animation:"slideDown 0.3s ease-out",whiteSpace:"nowrap",border:"1px solid #ffd700"},icon:{fontSize:"1.2rem"}},Rw=document.createElement("style");Rw.innerText=`
  @keyframes slideDown {
    from { transform: translate(-50%, -20px); opacity: 0; }
    to { transform: translate(-50%, 0); opacity: 1; }
  }
`;document.head.appendChild(Rw);const er={FIRST_STEP:{id:"FIRST_STEP",title:"  ",desc:"   ."},HIGH_SCORE:{id:"HIGH_SCORE",title:" ",desc:"   30  ."},BOUQUET_CATCHER:{id:"BOUQUET_CATCHER",title:" ",desc:"   30  ."},WEDDING_CRASHER:{id:"WEDDING_CRASHER",title:" ",desc:"    5 !"},COLLECTOR_R:{id:"COLLECTOR_R",title:" ",desc:" R  ."},COLLECTOR_MASTER:{id:"COLLECTOR_MASTER",title:" ",desc:"  ! ( 18)"}};let Oi=null,Sm=!1;const ch=new Set;try{const s=localStorage.getItem("my_achievements");s&&(Oi=JSON.parse(s),Oi.forEach(e=>ch.add(e)))}catch(s){console.error(s)}const cs=async(s,e=null)=>{if(na.currentUser)try{if(Oi===null&&!Sm){Sm=!0;try{const o=localStorage.getItem("wedding_nickname");if(!o)throw"No nickname found";const c=Bi(Fn,"users",o),f=await Xp(c);f.exists()?Oi=f.data().achievements||[]:Oi=[],Oi.forEach(m=>ch.add(m)),localStorage.setItem("my_achievements",JSON.stringify(Oi))}catch(o){console.error("Failed to fetch achievements:",o)}finally{Sm=!1}}const r=async o=>{if(ch.has(o))return;ch.add(o);const c=er[o];window.dispatchEvent(new CustomEvent("achievement-unlocked",{detail:{...c}})),Oi&&(Oi.push(o),localStorage.setItem("my_achievements",JSON.stringify(Oi)));const f=localStorage.getItem("wedding_nickname");if(f){const m=Bi(Fn,"users",f);sc(m,{achievements:BE(o)},{merge:!0}).catch(g=>console.error("Achievement save failed:",g))}};switch(s){case"LOGIN":await r(er.FIRST_STEP.id);break;case"GAME_SCORE":e>=30&&await r(er.HIGH_SCORE.id);break;case"TOUCH_CHARACTER":e&&e.groom>=5&&e.bride>=5&&await r(er.WEDDING_CRASHER.id);break;case"BOUQUET_GAME_SCORE":e>=30&&await r(er.BOUQUET_CATCHER.id);break;case"CHECK_COLLECTION":if(!e||!Array.isArray(e))return;const o=Zm();o.filter(g=>g.rarity==="R").every(g=>e.includes(g.path))&&await r(er.COLLECTOR_R.id),o.every(g=>e.includes(g.path))&&await r(er.COLLECTOR_MASTER.id);break}}catch(r){console.error("Error checking achievement:",r)}},aO=({onStart:s,onSwitchToV1:e})=>{const[n,r]=ie.useState(!1),[o,c]=ie.useState(""),[f,m]=ie.useState(!1),[g,y]=ie.useState("  ...");ie.useEffect(()=>{r(!0);const R=G4(na,B=>{});return()=>R()},[]);const E=async()=>{if(!o.trim()){alert(" ! ()");return}m(!0),y("   ...  ! "),[{text:"    ...  ! ",delay:800},{text:"    ... ",delay:1600},{text:`, [${o}] !  .`,delay:2400}].forEach(({text:B,delay:$})=>{setTimeout(()=>y(B),$)}),setTimeout(async()=>{try{let B=na.currentUser;B||(B=(await P4(na)).user);const $=o.trim();localStorage.setItem("wedding_nickname",$);const W=Bi(Fn,"users",$),te=await Xp(W);let ae=te.exists()?te.data():null;const he=!ae;if(he){const le={nickname:$,achievements:[],collection:[],diamonds:0,createdAt:new Date,lastLogin:new Date};await sc(W,le),localStorage.removeItem("wedding_collection_v2"),localStorage.removeItem("my_achievements"),ae=le}else await sc(W,{lastLogin:new Date},{merge:!0});if(ae){const le=ae.achievements||[];localStorage.setItem("my_achievements",JSON.stringify(le));const Re=ae.collection||[];localStorage.setItem("wedding_collection_v2",JSON.stringify(Re)),cs("CHECK_COLLECTION",Re),window.dispatchEvent(new Event("collectionUpdated"))}cs("LOGIN"),s(he)}catch(B){console.error("Login Failed",B),alert(" .  ."),m(!1)}},3e3)},S=new URL("/Invitation/assets/pixel_castle_bg-JX_UEiKn.png",import.meta.url).href;return b.jsxs("div",{className:"flex flex-col items-center justify-center h-full w-full font-pixel relative overflow-hidden text-white",children:[b.jsx("div",{className:"absolute inset-0 z-0 bg-cover bg-center",style:{backgroundImage:`url(${S})`,imageRendering:"pixelated"},children:b.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-[2px]"})}),b.jsxs("div",{className:`relative z-10 flex flex-col items-center p-8 transition-all duration-700 transform ${n?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[b.jsx("div",{className:"absolute inset-0 border-4 border-white bg-black/60 shadow-lg",style:{clipPath:"polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)"}}),b.jsxs("div",{className:"relative z-20 flex flex-col items-center text-center w-full max-w-md",children:[b.jsxs("div",{className:"mb-10 animate-pulse",children:[b.jsx("p",{className:"text-yellow-400 text-sm tracking-[0.2em] mb-2 uppercase shine",children:"  "}),b.jsxs("h1",{className:"text-5xl md:text-7xl text-white drop-shadow-[4px_4px_0_rgba(0,0,0,1)] leading-tight font-pixel",children:["WEDDING",b.jsx("br",{}),"QUEST"]})]}),b.jsx("div",{className:"w-full flex flex-col gap-4",children:f?b.jsx("div",{className:"w-full border-4 border-white p-6 bg-black/80 text-center",children:b.jsxs("p",{className:"text-green-400 text-lg animate-pulse",children:[">"," ",g," ",b.jsx("span",{className:"animate-blink",children:"_"})]})}):b.jsxs(b.Fragment,{children:[b.jsx("input",{type:"text",placeholder:" ()",value:o,onChange:R=>c(R.target.value),className:"w-full bg-black/50 border-4 border-white text-white p-4 text-center text-xl placeholder:text-gray-500 focus:bg-black/70 focus:outline-none focus:border-yellow-400 transition-colors uppercase font-pixel",maxLength:8,onKeyDown:R=>R.key==="Enter"&&E(),autoFocus:!0}),b.jsx("button",{onClick:E,className:"w-full bg-blue-600 border-b-4 border-r-4 border-blue-800 text-white p-4 text-xl hover:bg-blue-500 hover:translate-y-1 hover:border-b-0 hover:border-r-0 active:translate-y-2 transition-all group relative overflow-hidden",children:b.jsx("span",{className:"relative z-10",children:"  (START)"})})]})}),b.jsx("button",{onClick:e,className:"mt-8 text-xs text-white/50 hover:text-white underline decoration-dashed underline-offset-4",children:"[    ]"})]})]}),b.jsx("div",{className:"absolute inset-0 pointer-events-none z-50 opacity-10",style:{background:"linear-gradient(to bottom, transparent 50%, rgba(0, 0, 0, 0.5) 51%)",backgroundSize:"100% 4px"}})]})},Iw="/Invitation/assets/groom_nobg-tvOAzn_6.png",sg="/Invitation/assets/bride_nobg-CV5a6LWZ.png",$m=async s=>{const e=localStorage.getItem("wedding_nickname");if(e&&!(s<=0))try{const n=Bi(Fn,"users",e);await QE(n,{diamonds:qE(s)}),console.log(`Earned ${s} Diamonds!`)}catch(n){console.error("Error adding diamonds:",n)}},oO=async s=>{const e=localStorage.getItem("wedding_nickname");if(!e)return!1;const n=Bi(Fn,"users",e);try{return await t4(Fn,async o=>{const c=await o.get(n);if(!c.exists())throw"User does not exist!";return(c.data().diamonds||0)<s?!1:(o.update(n,{diamonds:qE(-s)}),!0)})}catch(r){return console.error("Transaction failed: ",r),!1}},lO=s=>{const e=localStorage.getItem("wedding_nickname");if(!e)return s(0),()=>{};const n=Bi(Fn,"users",e);return i4(n,o=>{o.exists()?s(o.data().diamonds||0):s(0)})},cO="/Invitation/assets/groom-cEf0GPId.jpg",uO="/Invitation/assets/bride-C9xQdNrL.jpg",hO=()=>{const[s,e]=ie.useState(null),[n,r]=ie.useState(!1),o=[{id:"groom",name:"",type:"[ / ]",stars:"",desc:'"   ,    .  ,  ."',atk:"",def:"",img:cO,bank:"",account:"49591044955107",displayAccount:"495-910449-55107",holder:""},{id:"bride",name:"",type:"[ / ]",stars:"",desc:'"    ,     .    ."',atk:"",def:"",img:uO,bank:"",account:"110297915880",displayAccount:"110-297-915880",holder:""}],c=f=>{const m=`${f.account} ${f.bank}`;navigator.clipboard.writeText(m).then(()=>{r(!0),setTimeout(()=>r(!1),2e3)}).catch(g=>{console.error("Failed to copy: ",g)}),e(f.id)};return b.jsxs("section",{className:"py-24 px-4 bg-background text-center relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-20 left-10 w-40 h-40 bg-primary/10 rounded-full blur-3xl animate-pulse"}),b.jsx("div",{className:"absolute bottom-20 right-10 w-60 h-60 bg-secondary/10 rounded-full blur-3xl animate-pulse delay-700"}),b.jsx("h2",{className:"text-3xl md:text-4xl text-primary font-heading font-medium mb-4 animate-fade-in-up relative z-10",children:"Groom & Bride"}),b.jsx("p",{className:"text-text/60 mb-12 animate-fade-in-up delay-100 font-body relative z-10",children:"   "}),b.jsx("div",{className:"flex flex-col md:flex-row justify-center gap-8 items-stretch max-w-5xl mx-auto relative z-10",children:o.map((f,m)=>b.jsx("div",{className:"relative w-full max-w-md group",children:b.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-[2.5rem] p-8 shadow-soft-lg border border-white/60 hover:shadow-soft-xl hover:-translate-y-2 transition-all duration-500 h-full flex flex-col items-center",children:[b.jsxs("div",{className:"relative w-48 h-48 mb-6",children:[b.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-tr from-primary/20 to-secondary/20 animate-spin-slow blur-md"}),b.jsx("div",{className:"absolute inset-1 rounded-full bg-white p-1 shadow-inner",children:b.jsx("img",{src:f.img,alt:f.name,className:"w-full h-full object-cover rounded-full"})})]}),b.jsx("h3",{className:"text-2xl font-bold text-text mb-2 font-heading",children:f.name}),b.jsx("p",{className:"text-primary font-body text-lg mb-6",children:f.type.replace("[","").replace("]","")}),b.jsx("div",{className:"w-full bg-background/50 rounded-2xl p-6 mb-6 flex-1 border border-primary/5",children:b.jsx("p",{className:"font-body text-text/80 italic leading-relaxed text-lg",children:f.desc.replace(/"/g,"")})}),b.jsxs("button",{onClick:()=>c(f),className:"w-full py-4 bg-white border border-primary/20 rounded-xl shadow-sm hover:shadow-md hover:border-primary/50 transition-all flex flex-col items-center justify-center gap-1 group/btn",children:[b.jsxs("div",{className:"flex items-center gap-2 text-text/60 text-sm group-hover/btn:text-primary transition-colors",children:[b.jsx("span",{children:f.bank}),b.jsx("span",{className:"w-1 h-3 bg-gray-300 rounded-full"}),b.jsx("span",{children:f.holder})]}),b.jsx("span",{className:"font-body font-bold text-lg text-text tracking-wide group-hover/btn:text-primary transition-colors",children:f.displayAccount}),b.jsx("span",{className:"text-xs text-primary/60 font-medium opacity-0 group-hover/btn:opacity-100 transition-opacity -mb-4 absolute bottom-2",children:"Click to Copy"})]})]})},f.id))}),b.jsx("div",{className:`
                    fixed bottom-10 left-1/2 -translate-x-1/2 bg-white/90 backdrop-blur-md text-text px-8 py-4 rounded-full shadow-soft-xl z-[100] whitespace-nowrap transition-all duration-500 border border-white/50
                    ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-8 pointer-events-none"}
                `,children:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("span",{className:"text-primary text-xl",children:""}),b.jsx("span",{className:"font-body font-medium text-lg",children:" "})]})})]})},fO="/Invitation/assets/groom_sprites-Dcepr75R.png",dO="/Invitation/assets/bride_sprites-CIfQIsBB.png",Yt={audioCtx:null,init(){this.audioCtx||(this.audioCtx=new(window.AudioContext||window.webkitAudioContext))},playTone(s,e,n,r=.1){try{if(this.audioCtx||this.init(),!this.audioCtx)return;this.audioCtx.state==="suspended"&&this.audioCtx.resume().catch(()=>{});const o=this.audioCtx.createOscillator(),c=this.audioCtx.createGain();o.type=e,o.frequency.setValueAtTime(s,this.audioCtx.currentTime),c.gain.setValueAtTime(r,this.audioCtx.currentTime),c.gain.exponentialRampToValueAtTime(.01,this.audioCtx.currentTime+n),o.connect(c),c.connect(this.audioCtx.destination),o.start(),o.stop(this.audioCtx.currentTime+n)}catch(o){console.warn("Audio play failed",o)}},playClick(){this.playTone(800,"sine",.1,.1)},playConfirm(){try{if(this.audioCtx||this.init(),!this.audioCtx)return;this.audioCtx.state==="suspended"&&this.audioCtx.resume().catch(()=>{});const s=this.audioCtx.currentTime,e=this.audioCtx.createOscillator(),n=this.audioCtx.createGain();e.type="sine",e.frequency.setValueAtTime(600,s),e.frequency.exponentialRampToValueAtTime(1200,s+.1),n.gain.setValueAtTime(.1,s),n.gain.exponentialRampToValueAtTime(.01,s+.2),e.connect(n),n.connect(this.audioCtx.destination),e.start(),e.stop(s+.2)}catch(s){console.warn("Audio confirm failed",s)}},playHover(){this.playTone(400,"sine",.05,.05)},playDamage(){this.playTone(150,"sawtooth",.2,.2)},playWin(){try{if(this.audioCtx||this.init(),!this.audioCtx)return;this.audioCtx.state==="suspended"&&this.audioCtx.resume().catch(()=>{});const s=this.audioCtx.currentTime;[523.25,659.25,783.99,1046.5].forEach((e,n)=>{const r=this.audioCtx.createOscillator(),o=this.audioCtx.createGain();r.type="square",r.frequency.setValueAtTime(e,s+n*.1),o.gain.setValueAtTime(.1,s+n*.1),o.gain.exponentialRampToValueAtTime(.01,s+n*.1+.1),r.connect(o),o.connect(this.audioCtx.destination),r.start(s+n*.1),r.stop(s+n*.1+.1)})}catch{}},playJump(){try{if(this.audioCtx||this.init(),!this.audioCtx)return;this.audioCtx.state==="suspended"&&this.audioCtx.resume().catch(()=>{});const s=this.audioCtx.currentTime,e=this.audioCtx.createOscillator(),n=this.audioCtx.createGain();e.type="square",e.frequency.setValueAtTime(150,s),e.frequency.linearRampToValueAtTime(300,s+.1),n.gain.setValueAtTime(.1,s),n.gain.exponentialRampToValueAtTime(.01,s+.1),e.connect(n),n.connect(this.audioCtx.destination),e.start(),e.stop(s+.1)}catch{}}},mO=({selectedCharacter:s="groom"})=>{const e=ie.useRef(null),[n,r]=ie.useState("START"),[o,c]=ie.useState(0),[f,m]=ie.useState(0),[g,y]=ie.useState("groom"),[E,S]=ie.useState(!1),R=ie.useRef(null),B=ie.useRef(0),$=ie.useRef(new Image),W=ie.useRef(new Image),te=ie.useRef(new Image),ae=ie.useRef({});ie.useEffect(()=>{let Te=0;const H=3,ee=()=>{Te++,Te>=H&&S(!0)},ue=new Image;ue.src=new URL("/Invitation/assets/pixel_castle_bg-JX_UEiKn.png",import.meta.url).href,ue.onload=()=>{te.current=ue,ee()};const Ie=j=>new Promise(Q=>{const ne=new Image;ne.crossOrigin="Anonymous",ne.src=j,ne.onload=()=>{const de=document.createElement("canvas");de.width=ne.width,de.height=ne.height;const oe=de.getContext("2d");oe.drawImage(ne,0,0);const Ee=oe.getImageData(0,0,de.width,de.height),Be=Ee.data;for(let on=0;on<Be.length;on+=4){const ys=Be[on],_s=Be[on+1],vs=Be[on+2];ys===255&&_s===0&&vs===255&&(Be[on+3]=0)}oe.putImageData(Ee,0,0);const Ze=new Image;Ze.onload=()=>Q(Ze),Ze.src=de.toDataURL()}}),pe=async(j,Q)=>{const ne=await Ie(Q);j.current=ne,ee()};pe($,fO),pe(W,dO),["","","","","","","",""].forEach(j=>{const Q=document.createElement("canvas");Q.width=50,Q.height=50;const ne=Q.getContext("2d");ne.font="40px serif",ne.textAlign="center",ne.textBaseline="middle",ne.fillText(j,25,27);const de=new Image;de.src=Q.toDataURL(),ae.current[j]=de})},[]);const he=800,le=400,Re=50,Ye=2026,Ce=160,I=40,x=ie.useRef({dino:{x:50,y:0,w:0,h:0,dy:0,grounded:!0},items:[],obstacles:[],clouds:[],particles:[],fireworks:[],frame:0,bgOffset:0,isGameOver:!1,isGameClear:!1,animationId:null}),N=()=>{const Te=Ce;let H=Ce;const ee=g==="groom"?$.current:W.current;if(ee&&ee.complete&&ee.width>0){const ue=ee.width/3,Ie=ee.height,pe=ue/Ie;H=Te*pe}x.current={dino:{x:100,y:le-Re-Te,w:H,h:Te,dy:0,grounded:!0},items:[],obstacles:[],clouds:[],particles:[],fireworks:[],frame:0,bgOffset:0,isGameOver:!1,isGameClear:!1,animationId:null,speed:6,spawnRate:60,lastSpawnType:null},c(0),B.current=0,m(0)},k=()=>{if(x.current.dino.grounded){Yt.playJump(),x.current.dino.dy=-15,x.current.dino.grounded=!1;for(let Te=0;Te<5;Te++)x.current.particles.push({x:x.current.dino.x+x.current.dino.w/2,y:x.current.dino.y+x.current.dino.h+I,vx:(Math.random()-.5)*5,vy:(Math.random()-.5)*2,life:20,color:"#fff"})}},C=(Te,H)=>{const ee=["#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF"],ue=ee[Math.floor(Math.random()*ee.length)];for(let Ie=0;Ie<20;Ie++){const pe=Math.random()*Math.PI*2,O=Math.random()*5+2;x.current.fireworks.push({x:Te,y:H,vx:Math.cos(pe)*O,vy:Math.sin(pe)*O,life:60,color:ue})}},D=async Te=>{const H=localStorage.getItem("wedding_nickname");if(H)try{const ee=Bi(Fn,"scores",H);await sc(ee,{uid:na.currentUser?.uid||"anon",displayName:H,score:Te,timestamp:zE()},{merge:!0})}catch(ee){console.error(ee)}};ie.useEffect(()=>{const H=e.current.getContext("2d");H.imageSmoothingEnabled=!1;let ee=performance.now();n==="PLAYING"&&(R.current&&clearInterval(R.current),R.current=setInterval(()=>{m(pe=>pe+1)},1e3));const ue=pe=>{if(n!=="PLAYING")return;const O=Math.min((pe-ee)/16,2);ee=pe;const j=x.current;if(!j.isGameClear&&!j.isGameOver){if(j.frame++,j.speed=Math.min(16,6+Math.floor(j.frame/500)),j.spawnRate=Math.max(18,60-Math.floor(j.frame/300)*10),j.bgOffset+=j.speed*.5*O,j.frame%30===0&&B.current>=Ye&&(j.isGameClear=!0,r("CLEAR"),cs("GAME_CLEAR"),D(B.current),$m(B.current),Yt.playWin(),C(he/2,le/2),R.current&&clearInterval(R.current)),j.dino.dy+=1.5*O,j.dino.y+=j.dino.dy*O,j.dino.y+j.dino.h>le-Re&&(j.dino.y=le-Re-j.dino.h,j.dino.dy=0,j.dino.grounded=!0),j.frame%j.spawnRate===0){let oe=Math.random()>.4;if(j.lastSpawnType==="obstacle"&&(oe=!0),oe){const Ee=["","","","",""],Be=Ee[Math.floor(Math.random()*Ee.length)];j.items.push({x:he,y:le-Re-60-Math.random()*100,w:50,h:50,type:Be,vy:Math.sin(j.frame)*.5}),j.lastSpawnType="item"}else{const Ee=["","",""],Be=Ee[Math.floor(Math.random()*Ee.length)];j.obstacles.push({x:he,y:le-Re-50,w:50,h:50,type:Be}),j.lastSpawnType="obstacle"}}const Q=oe=>{oe.x-=j.speed*O,oe.vy&&(oe.y+=Math.sin(j.frame*.1)*2*O)};[...j.items,...j.obstacles].forEach(Q),j.items=j.items.filter(oe=>oe.x+oe.w>0&&!oe.collected),j.obstacles=j.obstacles.filter(oe=>oe.x+oe.w>0);const ne=20,de=oe=>j.dino.x+ne<oe.x+oe.w-ne&&j.dino.x+j.dino.w-ne>oe.x+ne&&j.dino.y+ne<oe.y+oe.h-ne&&j.dino.y+j.dino.h-ne>oe.y+ne;j.items.forEach(oe=>{if(de(oe)){oe.collected=!0,Yt.playConfirm(),c(Ee=>{const Be=Ee+1;return B.current=Be,Be===100&&cs("GAME_SCORE",Be),Be});for(let Ee=0;Ee<5;Ee++)j.particles.push({x:oe.x,y:oe.y,vx:(Math.random()-.5)*5,vy:(Math.random()-.5)*5,life:30,color:"#FFD700"})}}),j.obstacles.forEach(oe=>{de(oe)&&(Yt.playDamage(),j.isGameOver=!0,r("GAME_OVER"),R.current&&clearInterval(R.current),D(B.current),$m(B.current))})}else j.isGameClear&&(j.frame%30===0&&C(Math.random()*he,Math.random()*le/2),R.current&&clearInterval(R.current));j.particles.forEach(Q=>{Q.x+=Q.vx*O,Q.y+=Q.vy*O,Q.life-=O,Q.vy+=.1*O}),j.fireworks.forEach(Q=>{Q.x+=Q.vx*O,Q.y+=Q.vy*O,Q.life-=O,Q.vy+=.1*O}),j.particles=j.particles.filter(Q=>Q.life>0),j.fireworks=j.fireworks.filter(Q=>Q.life>0),Ie(H),(n==="PLAYING"||n==="CLEAR")&&(x.current.animationId=requestAnimationFrame(ue))},Ie=pe=>{const O=x.current;if(te.current&&te.current.complete){const Q=-(O.bgOffset%te.current.width);pe.drawImage(te.current,Q,0,te.current.width,le),pe.drawImage(te.current,Q+te.current.width,0,te.current.width,le)}else pe.fillStyle="#87CEEB",pe.fillRect(0,0,he,le);pe.textAlign="center",pe.textBaseline="middle",pe.font="40px Silkscreen",O.items.forEach(Q=>{!Q.collected&&ae.current[Q.type]&&pe.drawImage(ae.current[Q.type],Q.x,Q.y,Q.w,Q.h)}),O.obstacles.forEach(Q=>{ae.current[Q.type]&&pe.drawImage(ae.current[Q.type],Q.x,Q.y,Q.w,Q.h)});const j=g==="groom"?$.current:W.current;if(j&&j.complete&&j.width>0){const Q=j.width/3,ne=j.height,de=Math.floor(O.frame/6)%2+1,oe=O.dino.grounded&&!O.isGameClear?de:0;pe.drawImage(j,oe*Q,0,Q,ne,O.dino.x,O.dino.y+I,O.dino.w,O.dino.h)}pe.fillStyle="#FFD700",O.particles.forEach(Q=>{Q.color==="#FFD700"&&pe.fillRect(Q.x,Q.y,4,4)}),pe.fillStyle="#FFFFFF",O.particles.forEach(Q=>{(Q.color==="#fff"||Q.color==="#FFFFFF")&&pe.fillRect(Q.x,Q.y,4,4)}),O.fireworks.forEach(Q=>{pe.fillStyle=Q.color,pe.fillRect(Q.x,Q.y,3,3)})};return n==="PLAYING"||n==="CLEAR"?(ee=performance.now(),x.current.animationId=requestAnimationFrame(ue)):Ie(H),()=>{cancelAnimationFrame(x.current.animationId),R.current&&clearInterval(R.current)}},[n,g,E]);const A=()=>{n==="START"||n==="GAME_OVER"||n==="CLEAR"?(Yt.playClick(),N(),r("PLAYING"),cs("GAME_START")):k()},Ae=Te=>{const H=Math.floor(Te/60),ee=Te%60;return`${H.toString().padStart(2,"0")}:${ee.toString().padStart(2,"0")}`};return b.jsxs("div",{onClick:A,className:"relative w-full aspect-[2/1] bg-sky-300 border-4 border-black overflow-hidden shadow-[8px_8px_0_rgba(0,0,0,0.5)] font-['Silkscreen'] select-none cursor-pointer",children:[b.jsx("canvas",{ref:e,width:800,height:400,className:"w-full h-full block",style:{imageRendering:"pixelated"}}),n==="START"&&b.jsxs("div",{className:"absolute inset-0 bg-black/60 flex flex-col items-center justify-center text-white p-4 font-['Silkscreen']",children:[b.jsx("h2",{className:"text-4xl text-yellow-400 mb-4 animate-bounce drop-shadow-md font-['Silkscreen']",children:"WEDDING RUN"}),b.jsx("p",{className:"text-sm mb-8 animate-pulse text-gray-300",children:"INSERT COIN TO START"}),b.jsx("div",{className:"border-4 border-white px-6 py-2 bg-blue-600 hover:bg-blue-500 blink",children:"PRESS START"})]}),n==="GAME_OVER"&&b.jsxs("div",{className:"absolute inset-0 bg-black/70 flex flex-col items-center justify-center text-white font-['Silkscreen']",children:[b.jsx("h2",{className:"text-5xl text-red-500 mb-4 drop-shadow-md font-['Silkscreen']",children:"GAME OVER"}),b.jsxs("p",{className:"text-2xl mb-2",children:["SCORE: ",o]}),b.jsxs("p",{className:"text-xl mb-2 text-cyan-400 font-bold animate-pulse",children:[" EARNED: +",o]}),b.jsxs("p",{className:"text-lg text-gray-400 mb-8",children:["TIME: ",Ae(f)]}),b.jsx("div",{className:"border-4 border-white px-6 py-2 hover:bg-white hover:text-black transition-colors",children:"RETRY ?"})]}),b.jsx("div",{className:"absolute top-4 left-4 z-20",children:b.jsxs("div",{className:"bg-black/50 text-white px-3 py-1 border-2 border-white/50 text-sm flex items-center shadow-md backdrop-blur-sm rounded-md",children:[" ",Ae(f)]})}),b.jsxs("div",{className:"absolute top-4 right-4 text-2xl text-white drop-shadow-[2px_2px_0_black]",children:["SCORE: ",o]})]})};var Cw=Eb();const Zu=Zm(),Am={SSR:.1,SR:.3},pO=()=>{const[s,e]=ie.useState([]),[n,r]=ie.useState(!1),o=async c=>{if(n||Zu.length===0)return;if(Yt.playClick(),!await oO(c)){alert(` ! ${c} ! `);return}r(!0),e([]),setTimeout(()=>{const m=[];for(let y=0;y<c;y++){const E=Math.random();let S="R";E<Am.SSR?S="SSR":E<Am.SSR+Am.SR&&(S="SR");let R=Zu.filter(W=>W.rarity===S);R.length===0&&(S="SR",R=Zu.filter(W=>W.rarity===S)),R.length===0&&(S="R",R=Zu.filter(W=>W.rarity===S));const B=R[Math.floor(Math.random()*R.length)],$=JSON.parse(localStorage.getItem("wedding_collection_v2")||"[]");$.includes(B.path)||($.push(B.path),localStorage.setItem("wedding_collection_v2",JSON.stringify($)),cs("CHECK_COLLECTION",$)),m.push({image:B.src,originalPath:B.path,rarity:S==="SSR"?"SSR/":S==="SR"?"SR/":"R/",originalRarity:S})}window.dispatchEvent(new Event("collectionUpdated")),e(m),r(!1),Yt.playConfirm();const g=localStorage.getItem("wedding_nickname");if(g&&m.length>0){const y=Bi(Fn,"users",g);m.map(S=>S.image.split("assets/")[1]?`assets/${S.image.split("assets/")[1]}`:S.image);const E=m.map(S=>S.originalPath);QE(y,{collection:BE(...E)}).catch(S=>console.error("Error saving collection to Firestore:",S))}},2e3)};return b.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-background relative overflow-hidden font-body p-4 select-none",children:[b.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[500px] h-[500px] bg-primary/10 rounded-full blur-[100px] animate-pulse pointer-events-none"}),b.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[600px] h-[600px] bg-secondary/10 rounded-full blur-[120px] animate-pulse delay-1000 pointer-events-none"}),s.length===0&&!n&&b.jsxs("div",{className:"z-10 flex flex-col items-center w-full max-w-sm animate-in zoom-in duration-500 font-['Silkscreen']",children:[b.jsxs("div",{className:"mb-4 text-center bg-black/60 backdrop-blur-md border-[6px] border-white px-8 py-6 rounded-2xl shadow-[8px_8px_0_rgba(0,0,0,0.5)]",children:[b.jsx("h2",{className:"text-3xl text-yellow-400 mb-2 drop-shadow-md tracking-wider font-['Silkscreen']",children:"WEDDING PHOTO"}),b.jsx("p",{className:"text-white text-sm",children:"   !"})]}),b.jsx("div",{className:"relative group cursor-pointer mb-8 animate-float",children:b.jsxs("div",{className:"w-48 h-48 bg-gradient-to-tr from-purple-600 to-indigo-400 rounded-full border-[8px] border-white shadow-[0_0_20px_rgba(168,85,247,0.6)] flex items-center justify-center animate-pulse group-hover:scale-105 transition-transform",children:[b.jsx("span",{className:"text-8xl drop-shadow-lg",children:""}),b.jsx("div",{className:"absolute top-4 right-8 w-8 h-8 bg-white/40 rounded-full blur-sm"})]})}),b.jsxs("div",{className:"flex gap-4 w-full justify-center px-4",children:[b.jsxs("button",{onClick:()=>o(1),className:"flex-1 bg-blue-600 border-4 border-white text-white py-4 rounded-xl shadow-[4px_4px_0_black] hover:translate-y-1 hover:shadow-[2px_2px_0_black] active:translate-y-2 active:shadow-none transition-all flex flex-col items-center gap-1",children:[b.jsx("span",{className:"text-xl font-bold",children:"1 "}),b.jsx("div",{className:"bg-black/30 px-3 py-1 rounded-full text-xs flex items-center gap-1",children:" 1"})]}),b.jsxs("button",{onClick:()=>o(10),className:"flex-1 bg-yellow-500 border-4 border-white text-white py-4 rounded-xl shadow-[4px_4px_0_black] hover:translate-y-1 hover:shadow-[2px_2px_0_black] active:translate-y-2 active:shadow-none transition-all flex flex-col items-center gap-1",children:[b.jsx("span",{className:"text-xl font-bold text-black drop-shadow-md",children:"10 "}),b.jsx("div",{className:"bg-black/30 px-3 py-1 rounded-full text-xs flex items-center gap-1 text-white",children:" 10"})]})]})]}),n&&b.jsxs("div",{className:"z-10 flex flex-col items-center justify-center font-['Silkscreen']",children:[b.jsx("div",{className:"text-9xl mb-8 animate-[spin_0.5s_linear_infinite] grayscale brightness-150",children:""}),b.jsx("p",{className:"text-3xl text-white animate-pulse drop-shadow-[4px_4px_0_black]",children:" ..."})]}),s.length>0&&!n&&Cw.createPortal(b.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 font-['Silkscreen'] bg-black/90 backdrop-blur-sm animate-in fade-in duration-300",onClick:()=>e([]),children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-yellow-500/10 to-transparent pointer-events-none animate-pulse"}),b.jsxs("div",{className:"relative z-10 flex flex-col items-center animate-in zoom-in duration-500 w-full max-w-4xl max-h-[90vh] overflow-y-auto",onClick:c=>c.stopPropagation(),children:[b.jsx("h2",{className:"text-4xl text-yellow-400 mb-8 drop-shadow-[0_4px_0_black] animate-bounce text-center",children:s.length>1?" 10   ":"    "}),b.jsx("div",{className:`
                            ${s.length>1?"grid grid-cols-2 md:grid-cols-5 gap-4 p-4":"flex justify-center p-4"}
                        `,children:s.map((c,f)=>b.jsxs("div",{className:`
                                    relative bg-white p-2 rounded-lg shadow-lg border-[4px]
                                    ${c.rarity==="SSR"?"border-yellow-400 ring-4 ring-yellow-400/50":c.rarity==="SR"?"border-purple-400":"border-gray-400"}
                                    flex flex-col items-center transform transition-transform hover:scale-105 duration-200
                                    ${s.length===1?"scale-125 p-4 border-[8px]":""}
                                `,children:[b.jsxs("div",{className:"absolute -top-3 -right-3 z-10",children:[c.rarity==="SSR"&&b.jsx("span",{className:"bg-yellow-400 text-black text-xs font-bold px-2 py-1 rounded-full border-2 border-white shadow-md",children:"SSR"}),c.rarity==="SR"&&b.jsx("span",{className:"bg-purple-500 text-white text-xs font-bold px-2 py-1 rounded-full border-2 border-white shadow-md",children:"SR"}),c.rarity==="R"&&b.jsx("span",{className:"bg-gray-500 text-white text-xs font-bold px-2 py-1 rounded-full border-2 border-white shadow-md",children:"R"})]}),b.jsx("img",{src:c.image,alt:"Result",className:`object-cover bg-gray-900 border-2 border-black
                                            ${s.length>1?"w-24 h-32 md:w-32 md:h-40":"w-64 h-80"}
                                        `}),s.length===1&&b.jsx("div",{className:"mt-4 text-xl text-black font-bold tracking-widest uppercase text-center",children:c.rarity==="SSR"?"  ":" "})]},f))}),b.jsxs("div",{className:"flex gap-4 mt-8 w-full justify-center pb-8",children:[b.jsx("button",{onClick:()=>e([]),className:"px-8 py-3 bg-gray-600 text-white border-4 border-white hover:bg-gray-500 active:scale-95 transition-all shadow-[4px_4px_0_black]",children:""}),b.jsxs("button",{onClick:()=>o(s.length),className:"px-8 py-3 bg-blue-600 text-white border-4 border-white hover:bg-blue-500 active:scale-95 transition-all shadow-[4px_4px_0_black] flex items-center gap-2",children:[b.jsx("span",{children:""}),"  (",s.length,")"]})]})]})]}),document.body)]})},Tb=[{id:1,speaker:"",text:"!    .",image:"groom",expression:"smile"},{id:2,speaker:"",text:"        !",image:"bride",expression:"happy"},{id:3,speaker:"",text:"    .     ' '.",image:"groom",expression:"serious"},{id:4,speaker:"",text:"  ,   ?",image:"bride",expression:"wink"},{id:5,speaker:"SYSTEM",text:" []  .  !",image:"system",expression:"none"}],gO=({onClose:s})=>{const[e,n]=ie.useState(0),[r,o]=ie.useState(""),[c,f]=ie.useState(!1),m=Tb[e];ie.useEffect(()=>{if(!m)return;o(""),f(!0);const y=m.text;let E=0;const R=setInterval(()=>{E++,o(y.slice(0,E)),E>=y.length&&(clearInterval(R),f(!1))},30);return()=>clearInterval(R)},[e]);const g=()=>{Yt.playClick(),c?(o(m.text),f(!1)):e<Tb.length-1?n(y=>y+1):(Yt.playConfirm(),s())};return b.jsxs("div",{className:"w-full h-full relative flex flex-col justify-end overflow-hidden cursor-pointer min-h-[500px] bg-black/40 backdrop-blur-sm select-none",onClick:g,children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-80"}),b.jsx("div",{className:"absolute bottom-32 left-1/2 -translate-x-1/2 h-[85%] flex items-end transition-transform duration-300 z-0",children:b.jsx("img",{src:m.image==="groom"?Iw:m.image==="bride"?sg:"",alt:"Character",className:`h-full object-contain drop-shadow-[0_0_20px_rgba(255,255,255,0.2)] ${!m.image||m.image==="system"?"hidden":""}`},e)}),b.jsxs("div",{className:"relative z-10 mx-2 mb-2 md:m-6 md:mb-8 font-pixel",children:[b.jsx("div",{className:`
                    absolute -top-10 left-0 border-4 border-white border-b-0 px-6 py-2
                    ${m.speaker===""?"bg-blue-600":m.speaker===""?"bg-pink-500":"bg-gray-700"}
                `,children:b.jsx("span",{className:"text-white text-xl tracking-wider uppercase drop-shadow-[2px_2px_0_black]",children:m.speaker})}),b.jsxs("div",{className:"bg-black/90 border-4 border-white p-6 shadow-[8px_8px_0_rgba(0,0,0,0.8)] min-h-[160px] relative",children:[b.jsxs("p",{className:"text-xl md:text-2xl text-white leading-relaxed tracking-wide drop-shadow-md whitespace-pre-wrap",children:[r,c&&b.jsx("span",{className:"animate-blink inline-block ml-1 w-3 h-5 bg-yellow-400 align-middle"})]}),!c&&b.jsx("div",{className:"absolute bottom-4 right-4 animate-bounce",children:b.jsx("div",{className:"w-0 h-0 border-l-[10px] border-l-transparent border-r-[10px] border-r-transparent border-t-[15px] border-t-red-500 drop-shadow-[0_2px_0_white]"})})]})]})]})},yO=({title:s,onClose:e,children:n})=>b.jsxs("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex justify-center items-center p-2 md:p-4 font-pixel select-none",children:[b.jsxs("div",{className:"w-full max-w-3xl max-h-[90vh] bg-white border-4 border-black shadow-[8px_8px_0_rgba(0,0,0,0.5)] flex flex-col overflow-hidden animate-[slideUp_0.3s_steps(4)] relative",children:[b.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b-4 border-black bg-blue-600 text-white",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"animate-pulse",children:""}),b.jsx("span",{className:"text-lg uppercase tracking-wider",children:s})]}),b.jsx("button",{className:"text-white hover:text-yellow-300 transition-colors text-2xl leading-none w-8 h-8 flex items-center justify-center border-2 border-transparent hover:border-white hover:bg-white/10",onClick:e,children:"X"})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-0 scrollbar-hide bg-white relative",children:b.jsx("div",{className:"h-full",children:n})}),b.jsx("div",{className:"h-2 bg-black w-full"})]}),b.jsx("style",{children:`
                @keyframes slideUp {
                    from { transform: translateY(20px); opacity: 0; }
                    to { transform: translateY(0); opacity: 1; }
                }
            `})]}),_O=()=>{const[s,e]=ie.useState([]),[n,r]=ie.useState(!0),[o,c]=ie.useState("run"),f=localStorage.getItem("wedding_nickname");return ie.useEffect(()=>{(async()=>{r(!0);try{const y=KN(LN(Fn,o==="run"?"scores":"bouquet_scores"),YN("score","desc"),XN(50)),S=(await n4(y)).docs.map($=>({id:$.id,...$.data()})),R=new Map;S.forEach($=>{const W=$.displayName;(!R.has(W)||R.get(W).score<$.score)&&R.set(W,$)});const B=Array.from(R.values()).sort(($,W)=>W.score-$.score).slice(0,10);e(B)}catch(g){console.error("Error fetching rankings: ",g)}finally{r(!1)}})()},[o]),b.jsx("div",{className:"w-full max-w-2xl mx-auto p-1 font-pixel select-none",children:b.jsxs("div",{className:"bg-black/80 backdrop-blur-md border-[6px] border-white rounded-lg p-6 shadow-[8px_8px_0_rgba(0,0,0,0.5)] relative overflow-hidden",children:[b.jsx("div",{className:"absolute inset-0 pointer-events-none bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20"}),b.jsx("div",{className:"text-center mb-6",children:b.jsx("h3",{className:"text-3xl md:text-4xl text-yellow-400 mb-2 drop-shadow-[4px_4px_0_#b91c1c] animate-pulse tracking-wider font-pixel whitespace-nowrap",children:"   "})}),b.jsxs("div",{className:"flex gap-2 mb-0 justify-center relative z-10",children:[b.jsx("button",{onClick:()=>c("run"),className:`flex-1 md:flex-none px-2 md:px-4 py-2 border-t-4 border-x-4 rounded-t-lg transition-all text-xs md:text-sm ${o==="run"?"bg-blue-600 border-white text-white -mb-1 pb-3":"bg-gray-800 border-gray-600 text-gray-400 hover:bg-gray-700 mt-2"}`,children:"  "}),b.jsx("button",{onClick:()=>c("bouquet"),className:`flex-1 md:flex-none px-2 md:px-4 py-2 border-t-4 border-x-4 rounded-t-lg transition-all text-xs md:text-sm ${o==="bouquet"?"bg-pink-600 border-white text-white -mb-1 pb-3":"bg-gray-800 border-gray-600 text-gray-400 hover:bg-gray-700 mt-2"}`,children:"  "})]}),b.jsx("div",{className:"overflow-hidden border-4 border-white bg-black min-h-[300px] relative z-0",children:n?b.jsxs("div",{className:"flex flex-col items-center justify-center p-8 h-[300px] text-white",children:[b.jsx("div",{className:"animate-spin text-4xl mb-4",children:""}),b.jsx("p",{className:"animate-pulse",children:"  ..."})]}):b.jsxs("table",{className:"w-full text-left bg-black text-white",children:[b.jsx("thead",{className:`${o==="run"?"bg-blue-800":"bg-pink-800"} text-yellow-300 border-b-4 border-white`,children:b.jsxs("tr",{children:[b.jsx("th",{className:"p-4 text-center w-16",children:""}),b.jsx("th",{className:"p-4",children:""}),b.jsx("th",{className:"p-4 text-right",children:""})]})}),b.jsxs("tbody",{children:[s.map((m,g)=>{const y=f&&(m.displayName===f||m.id===f),E=S=>S===0?"text-yellow-400 drop-shadow-[0_0_5px_gold]":S===1?"text-gray-300 drop-shadow-[0_0_5px_silver]":S===2?"text-orange-400 drop-shadow-[0_0_5px_orange]":"text-white";return b.jsxs("tr",{className:`
                                                border-b-2 border-white/20
                                                ${y?"bg-white/20 animate-pulse":"hover:bg-white/10"}
                                                ${g<3?"text-lg":""}
                                            `,children:[b.jsxs("td",{className:"p-3 text-center text-2xl",children:[g===0&&"",g===1&&"",g===2&&"",g>2&&b.jsxs("span",{className:"text-gray-500 text-lg",children:["#",g+1]})]}),b.jsx("td",{className:`p-3 ${y?"text-cyan-300":E(g)}`,children:b.jsxs("div",{className:"flex flex-col",children:[b.jsx("span",{className:"truncate max-w-[120px] md:max-w-none block",children:m.displayName}),y&&b.jsx("span",{className:"text-[10px] text-cyan-500",children:""})]})}),b.jsx("td",{className:`p-3 text-right ${g<3?"text-yellow-200":"text-gray-300"}`,children:m.score.toLocaleString()})]},m.id)}),s.length===0&&b.jsx("tr",{children:b.jsx("td",{colSpan:"3",className:"p-8 text-center text-gray-500",children:"  "})})]})]})}),b.jsx("div",{className:"mt-6 text-center text-xs text-gray-500 tracking-widest uppercase animate-pulse",children:"   "})]})})},vO=()=>{const[s,e]=ie.useState([]),[n,r]=ie.useState(!0),o=na.currentUser;ie.useEffect(()=>{(async()=>{if(o)try{const m=Bi(Fn,"users",o.uid),g=await Xp(m);g.exists()&&e(g.data().achievements||[])}catch(m){console.error("Error fetching achievements:",m)}finally{r(!1)}})()},[o]);const c=Object.values(er);return b.jsx("div",{className:"w-full max-w-2xl mx-auto p-1 font-pixel select-none text-white",children:b.jsxs("div",{className:"bg-black/80 backdrop-blur-md border-[6px] border-white rounded-lg p-6 shadow-[8px_8px_0_rgba(0,0,0,0.5)] relative overflow-hidden",children:[b.jsx("div",{className:"absolute inset-0 pointer-events-none bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20"}),b.jsxs("div",{className:"text-center mb-8 relative z-10",children:[b.jsx("h3",{className:"text-3xl md:text-4xl text-yellow-400 mb-2 drop-shadow-[4px_4px_0_#b91c1c] animate-pulse tracking-wider whitespace-nowrap",children:"   "}),b.jsxs("p",{className:"text-gray-400 text-xs md:text-sm tracking-[0.2em] uppercase",children:["Mission Progress: ",s.length," / ",c.length]})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 relative z-10",children:c.map(f=>{const m=s.includes(f.id);return b.jsxs("div",{className:`
                                    relative border-4 p-4 transition-all duration-300 group
                                    ${m?"bg-blue-900/40 border-yellow-400 shadow-[4px_4px_0_rgba(250,204,21,0.5)]":"bg-gray-900/50 border-gray-600 grayscale opacity-60"}
                                `,children:[b.jsxs("div",{className:"flex items-start gap-4",children:[b.jsx("div",{className:`
                                        w-12 h-12 flex items-center justify-center text-3xl border-2 
                                        ${m?"bg-black border-yellow-400":"bg-black border-gray-600"}
                                    `,children:m?"":""}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("div",{className:`
                                            font-bold text-lg mb-1 truncate
                                            ${m?"text-yellow-300":"text-gray-500"}
                                        `,children:f.title}),b.jsx("div",{className:"text-xs text-gray-300 leading-relaxed break-keep",children:f.desc})]})]}),m&&b.jsx("div",{className:"absolute -right-2 -bottom-2 transform rotate-[-12deg] border-2 border-red-500 text-red-500 px-2 py-0.5 text-[10px] font-bold tracking-widest bg-black/80 opacity-80 pointer-events-none",children:"CLEAR"})]},f.id)})}),b.jsx("div",{className:"mt-8 text-center border-t-2 border-white/20 pt-4",children:b.jsx("p",{className:"text-[10px] text-gray-500 animate-pulse",children:"     !"})})]})})},bO=({onClose:s})=>{const[e,n]=ie.useState("start"),[r,o]=ie.useState(0),[c,f]=ie.useState(0),[m,g]=ie.useState(50),[y,E]=ie.useState([]),S=ie.useRef(null),R=ie.useRef(null),B=ie.useRef(null),$=ie.useRef(0),W=ie.useRef("start"),te=ie.useRef(50),ae=ie.useRef([]),he=new URL("/Invitation/assets/pixel_castle_bg-JX_UEiKn.png",import.meta.url).href,le=15;ie.useEffect(()=>{te.current=m},[m]);const Re=()=>{Yt.playClick(),n("playing"),o(0),f(0),g(50),E([]),$.current=0,te.current=50,ae.current=[],W.current="playing",R.current&&clearInterval(R.current),R.current=setInterval(Ye,800),B.current&&clearInterval(B.current),B.current=setInterval(()=>{f(C=>C+1)},1e3),S.current&&cancelAnimationFrame(S.current),S.current=requestAnimationFrame(Ce)},Ye=()=>{if(W.current!=="playing")return;const C=Date.now()+Math.random(),A=Math.random()>.6?Math.random()>.5?"bomb":"withered":"bouquet",Ae=Math.random()*90,Te={id:C,x:Ae,y:-10,type:A};ae.current.push(Te)},Ce=()=>{if(W.current!=="playing")return;const C=.4+$.current*.05;let D=!1;if(ae.current=ae.current.filter(A=>{if(A.y+=C,A.y>75&&A.y<98){const Ae=te.current,Te=A.x+5,H=Ae+le/2;if(Math.abs(Te-H)<10)return A.type==="bouquet"?(Yt.playConfirm(),$.current+=1,o($.current),!1):(Yt.playDamage(),D=!0,!1)}return A.y<105}),D){x("gameover");return}E([...ae.current]),S.current=requestAnimationFrame(Ce)},I=async C=>{const D=localStorage.getItem("wedding_nickname");if(D)try{const A=Bi(Fn,"bouquet_scores",D);await sc(A,{uid:na.currentUser?.uid||"anon",displayName:D,score:C,timestamp:zE()},{merge:!0})}catch(A){console.error("Error saving bouquet score:",A)}},x=C=>{W.current=C,n(C);{const D=$.current;$m(Math.floor(D)),I(D),cs("BOUQUET_GAME_SCORE",D)}clearInterval(R.current),clearInterval(B.current),cancelAnimationFrame(S.current)};ie.useEffect(()=>()=>{clearInterval(R.current),clearInterval(B.current),cancelAnimationFrame(S.current)},[]);const N=C=>{e==="playing"&&g(D=>{const A=D+C;return Math.max(0,Math.min(100-le,A))})},k=C=>{const D=Math.floor(C/60),A=C%60;return`${D.toString().padStart(2,"0")}:${A.toString().padStart(2,"0")}`};return b.jsxs("div",{className:"relative w-full h-[400px] bg-sky-200 overflow-hidden font-['Silkscreen'] select-none border-4 border-black",children:[b.jsx("div",{className:"absolute inset-0 bg-cover bg-bottom opacity-50",style:{backgroundImage:`url(${he})`,imageRendering:"pixelated"}}),b.jsx("div",{className:"absolute top-4 left-4 z-20 flex gap-2",children:b.jsxs("div",{className:"bg-black/50 text-white px-2 border-2 border-white/50 text-sm flex items-center",children:[" ",k(c)]})}),b.jsxs("div",{className:"absolute top-4 right-4 text-2xl z-20 text-blue-600 drop-shadow-[2px_2px_0_white]",children:["SCORE: ",r]}),e==="start"&&b.jsxs("div",{className:"absolute inset-0 bg-black/70 flex flex-col items-center justify-center text-white z-50 p-4 text-center cursor-pointer font-['Silkscreen']",onClick:Re,children:[b.jsx("h2",{className:"text-3xl text-yellow-300 mb-4 animate-bounce drop-shadow-md font-['Silkscreen']",children:" BOUQUET RUSH "}),b.jsx("p",{className:"mb-2 text-lg",children:"Infinite Challenge!"}),b.jsxs("div",{className:"flex gap-4 mb-6 text-2xl",children:[b.jsx("span",{children:" = +1"}),b.jsx("span",{children:"/ = DIE"})]}),b.jsx("button",{className:"bg-blue-600 border-4 border-white px-8 py-4 text-xl hover:scale-105 active:scale-95 transition-transform animate-pulse",children:"TAP TO START"})]}),e==="gameover"&&b.jsxs("div",{className:"absolute inset-0 bg-black/80 flex flex-col items-center justify-center text-white z-50 cursor-pointer font-['Silkscreen']",onClick:Re,children:[b.jsx("h2",{className:"text-4xl mb-4 text-red-500 drop-shadow-md font-['Silkscreen']",children:" GAME OVER"}),b.jsxs("p",{className:"text-3xl mb-2 text-yellow-300",children:["SCORE: ",r]}),b.jsxs("p",{className:"text-xl mb-2 text-cyan-400 font-bold animate-pulse",children:[" EARNED: +",r]}),b.jsxs("p",{className:"text-xl mb-8 text-gray-300",children:["Time: ",k(c)]}),b.jsx("p",{className:"text-sm text-gray-400 mb-8 animate-pulse",children:"TAP SCREEN TO RETRY"}),b.jsxs("div",{className:"flex gap-4",onClick:C=>C.stopPropagation(),children:[b.jsx("button",{onClick:Re,className:"bg-white text-black border-4 border-gray-400 px-6 py-2 hover:bg-gray-200",children:"RETRY"}),b.jsx("button",{onClick:s,className:"bg-red-500 text-white border-4 border-red-800 px-6 py-2 hover:bg-red-400",children:"QUIT"})]})]}),y.map(C=>b.jsx("div",{className:"absolute text-4xl transition-transform",style:{left:`${C.x}%`,top:`${C.y}%`},children:C.type==="bouquet"?"":C.type==="bomb"?"":""},C.id)),b.jsxs("div",{className:"absolute bottom-4 h-24 transition-all duration-75 ease-linear",style:{left:`${m}%`,width:`${le}%`},children:[b.jsx("img",{src:sg,className:"w-full h-full object-contain drop-shadow-lg",style:{imageRendering:"pixelated"}}),b.jsx("div",{className:"absolute bottom-0 w-full text-center text-[10px] text-white/50 backdrop-blur-sm",children:"YOU"})]}),e==="playing"&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"absolute top-0 bottom-0 left-0 w-1/2 z-30 active:bg-white/5",onPointerDown:()=>N(-10)}),b.jsx("div",{className:"absolute top-0 bottom-0 right-0 w-1/2 z-30 active:bg-white/5",onPointerDown:()=>N(10)}),b.jsx("button",{className:"absolute bottom-6 left-4 w-16 h-16 bg-white/40 border-2 border-white rounded-full text-3xl flex items-center justify-center z-40 active:scale-90 transition-transform",onPointerDown:()=>N(-10),children:""}),b.jsx("button",{className:"absolute bottom-6 right-4 w-16 h-16 bg-white/40 border-2 border-white rounded-full text-3xl flex items-center justify-center z-40 active:scale-90 transition-transform",onPointerDown:()=>N(10),children:""})]})]})},TO=()=>{const[s,e]=ie.useState([]),[n,r]=ie.useState(null),[o,c]=ie.useState(!1);return ie.useEffect(()=>{const f=m=>{const g=m.detail;e(y=>[...y,g])};return window.addEventListener("achievement-unlocked",f),()=>window.removeEventListener("achievement-unlocked",f)},[]),ie.useEffect(()=>{if(!n&&s.length>0){const f=s[0];e(m=>m.slice(1)),r(f),setTimeout(()=>c(!0),100),setTimeout(()=>{c(!1),setTimeout(()=>r(null),500)},4e3)}},[n,s]),n?Cw.createPortal(b.jsx("div",{className:`
            fixed top-8 left-1/2 -translate-x-1/2 z-[10000]
            transition-all duration-500 transform
            ${o?"translate-y-0 opacity-100 scale-100":"-translate-y-full opacity-0 scale-90"}
        `,children:b.jsxs("div",{className:"relative group",children:[b.jsx("div",{className:"absolute inset-0 bg-yellow-400 blur-xl opacity-20 animate-pulse"}),b.jsxs("div",{className:"relative bg-black/90 text-white min-w-[320px] max-w-sm rounded-xl overflow-hidden shadow-[0_0_20px_rgba(255,215,0,0.4)] border-2 border-yellow-500/50",children:[b.jsx("div",{className:"absolute inset-0 border-2 border-white/20 rounded-xl pointer-events-none"}),b.jsxs("div",{className:"flex items-center p-4 gap-4",children:[b.jsxs("div",{className:"relative shrink-0",children:[b.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-yellow-300 to-yellow-600 rounded-full flex items-center justify-center text-2xl shadow-inner border-2 border-white/30 animate-bounce",children:""}),b.jsx("div",{className:"absolute -top-1 -right-1 text-yellow-200 animate-spin-slow",children:""})]}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("div",{className:"text-yellow-400 text-xs font-bold tracking-widest uppercase mb-0.5 animate-pulse",children:"ACHIEVEMENT UNLOCKED!"}),b.jsx("h4",{className:"text-lg font-bold text-white leading-tight font-pixel truncate",children:n.title}),b.jsx("p",{className:"text-white/70 text-xs mt-1 truncate font-pixel",children:n.desc})]})]}),b.jsx("div",{className:"absolute bottom-0 left-0 h-1 bg-gradient-to-r from-yellow-400 to-yellow-200 animate-[width_4s_linear_forwards]",style:{width:"100%"}}),b.jsx("div",{className:"absolute top-0 right-10 w-1 h-1 bg-white rounded-full animate-ping"}),b.jsx("div",{className:"absolute bottom-2 left-4 w-1 h-1 bg-yellow-200 rounded-full animate-ping delay-300"})]})]})}),document.body):null},EO=({onSwitchToV1:s,isNewUser:e})=>{const[n,r]=ie.useState("bride"),[o,c]=ie.useState(!1),[f,m]=ie.useState(""),[g,y]=ie.useState(null),[E,S]=ie.useState(""),[R,B]=ie.useState(!1),[$,W]=ie.useState(0);ie.useEffect(()=>{const I=new Date("2026-04-25T16:50:00"),x=()=>{const D=I-new Date,A=Math.ceil(D/(1e3*60*60*24));S(A>0?`D-${A}`:A===0?"D-DAY":`D+${Math.abs(A)}`)};x();const N=setInterval(x,1e3*60),k=lO(C=>{W(C)});return()=>{clearInterval(N),k()}},[]),ie.useEffect(()=>{e&&setTimeout(()=>{he("story")},1e3)},[e]);const te=()=>{Yt.playClick(),r(I=>I==="bride"?"groom":"bride")},ae=()=>{Yt.playClick(),B(!0),setTimeout(()=>B(!1),200);const I=n==="bride"?["   !","  ~"," !","   !","  !"]:["  !","  !","  ."," !","   !"],x=I[Math.floor(Math.random()*I.length)];m(x),c(!0);const N="wedding_touch_counts";let k={groom:0,bride:0};try{const C=localStorage.getItem(N);C&&(k=JSON.parse(C))}catch(C){console.error(C)}k[n]=(k[n]||0)+1,localStorage.setItem(N,JSON.stringify(k)),cs("TOUCH_CHARACTER",k),setTimeout(()=>c(!1),3e3)},he=I=>{Yt.playClick(),y(I)},le=()=>{Yt.playClick(),y(null)},Re=()=>{Yt.playClick(),s()},Ye=I=>{switch(I){case"map":return" ";case"gallery":return" ";case"recruit":return"  ";case"story":return"";case"ranking":return"";case"achievement":return"";case"info":return" ";case"game":return" ";case"bouquet":return" ";default:return""}},Ce=new URL("/Invitation/assets/pixel_castle_bg-JX_UEiKn.png",import.meta.url).href;return b.jsxs("div",{className:"relative w-full h-full overflow-hidden bg-black font-pixel select-none text-white",children:[b.jsx(TO,{}),b.jsx("div",{className:"absolute inset-0 z-0 bg-cover bg-center",style:{backgroundImage:`url(${Ce})`,imageRendering:"pixelated"},children:b.jsx("div",{className:"absolute inset-0 bg-black/30"})}),b.jsxs("div",{className:"absolute top-0 left-0 right-0 p-4 z-20 flex justify-between items-start pointer-events-none",children:[b.jsxs("div",{className:"pointer-events-auto flex flex-col gap-2",children:[b.jsxs("div",{className:"bg-black/60 border-2 border-white px-3 py-1 flex items-center gap-2 shadow-md w-fit",children:[b.jsx("span",{className:"text-yellow-400",children:""}),b.jsx("span",{className:"text-lg",children:E})]}),b.jsxs("div",{className:"bg-black/60 border-2 border-cyan-400 px-3 py-1 flex items-center gap-2 shadow-md w-fit animate-pulse",children:[b.jsx("span",{className:"text-cyan-400 text-xl",children:""}),b.jsx("span",{className:"text-lg text-cyan-100 font-bold",children:$})]})]}),b.jsxs("div",{className:"pointer-events-auto flex flex-col items-end gap-2",children:[b.jsx("button",{onClick:te,className:"bg-blue-600 border-b-4 border-r-4 border-blue-800 text-white px-3 py-1 text-xs hover:bg-blue-500 active:border-b-0 active:border-r-0 active:translate-y-1 transition-all",children:"SWITCH CHAR"}),b.jsx("button",{onClick:Re,className:"text-white/60 text-[10px] hover:text-white hover:underline bg-black/40 px-2 py-1",children:"[   ]"})]})]}),b.jsx("div",{className:"absolute inset-0 z-10 flex flex-col items-center justify-end pb-0 pointer-events-none",children:b.jsxs("div",{className:"relative group flex justify-center",children:[b.jsx("img",{src:n==="bride"?sg:Iw,alt:"Character",className:`
                            h-[120vh] w-auto object-contain cursor-pointer pointer-events-auto drop-shadow-[0_0_10px_rgba(255,255,255,0.5)]
                            ${R?"scale-105 brightness-125":"scale-100 hover:scale-[1.02]"}
                            transition-all duration-200
                        `,onClick:ae,style:{imageRendering:"pixelated"}}),o&&b.jsxs("div",{className:"absolute top-[25%] left-[10%] bg-white text-black border-4 border-black px-4 py-2 z-30 min-w-[150px] text-center shadow-lg animate-bounce",children:[b.jsx("p",{className:"text-sm font-bold",children:f}),b.jsx("div",{className:"absolute -right-3 top-1/2 -translate-y-1/2 w-4 h-4 bg-white rotate-45 border-t-4 border-r-4 border-black border-b-0 border-l-0"})]})]})}),b.jsxs("div",{className:"absolute top-1/2 right-4 -translate-y-1/2 flex flex-col gap-3 pointer-events-auto z-40",children:[b.jsx(Wa,{icon:"",label:" ",onClick:()=>he("map")}),b.jsx(Wa,{icon:"",label:" ",onClick:()=>he("gallery")}),b.jsx(Wa,{icon:"",label:" ",onClick:()=>he("recruit")}),b.jsx(Wa,{icon:"",label:"",onClick:()=>he("story")}),b.jsx(Wa,{icon:"",label:"",onClick:()=>he("ranking")}),b.jsx(Wa,{icon:"",label:"",onClick:()=>he("achievement")})]}),b.jsxs("div",{className:"absolute bottom-6 left-6 right-6 z-50 flex justify-center gap-6 pointer-events-auto",children:[b.jsx("button",{onClick:()=>{he("game"),cs("GAME_START")},className:"relative group bg-red-600 border-4 border-white text-white px-6 py-3 shadow-[4px_4px_0_rgba(0,0,0,0.5)] hover:translate-y-1 hover:shadow-[2px_2px_0_rgba(0,0,0,0.5)] active:translate-y-2 active:shadow-none transition-all w-48",children:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("span",{className:"text-2xl animate-pulse",children:""}),b.jsxs("div",{className:"flex flex-col items-start leading-none",children:[b.jsx("span",{className:"text-[10px] text-yellow-300",children:" "}),b.jsx("span",{className:"text-lg",children:" "})]})]})}),b.jsx("button",{onClick:()=>he("bouquet"),className:"relative group bg-pink-500 border-4 border-white text-white px-6 py-3 shadow-[4px_4px_0_rgba(0,0,0,0.5)] hover:translate-y-1 hover:shadow-[2px_2px_0_rgba(0,0,0,0.5)] active:translate-y-2 active:shadow-none transition-all w-48",children:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("span",{className:"text-2xl animate-bounce",children:""}),b.jsxs("div",{className:"flex flex-col items-start leading-none",children:[b.jsx("span",{className:"text-[10px] text-yellow-200",children:" "}),b.jsx("span",{className:"text-lg",children:" "})]})]})})]}),g&&b.jsxs(yO,{title:Ye(g),onClose:le,children:[g==="map"&&b.jsx(Sb,{}),g==="gallery"&&b.jsx(wb,{showRarity:!0}),g==="info"&&b.jsx(hO,{}),g==="game"&&b.jsx("div",{className:"flex flex-col items-center justify-center py-4 w-full",children:b.jsx(mO,{selectedCharacter:n})}),g==="story"&&b.jsx(gO,{onClose:le}),g==="recruit"&&b.jsx(pO,{}),g==="ranking"&&b.jsx(_O,{}),g==="achievement"&&b.jsx(vO,{}),g==="bouquet"&&b.jsx(bO,{})]})]})},Wa=({icon:s,label:e,onClick:n})=>b.jsxs("button",{onClick:n,className:"group relative bg-black/60 border-2 border-white px-3 py-2 flex items-center gap-3 hover:bg-white/20 hover:border-yellow-400 transition-all w-32 shadow-md",children:[b.jsx("span",{className:"text-xl group-hover:scale-110 transition-transform",children:s}),b.jsx("span",{className:"text-xs text-white group-hover:text-yellow-400",children:e})]}),wO=({onSwitchToV1:s})=>{const[e,n]=ie.useState("title"),[r,o]=ie.useState(!1),c=(f=!1)=>{o(f),n("lobby")};return b.jsxs("div",{className:"relative w-full h-screen bg-background overflow-hidden font-body selection:bg-primary/20 selection:text-primary",children:[b.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[500px] h-[500px] bg-primary/20 rounded-full blur-[100px] animate-pulse"}),b.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[600px] h-[600px] bg-secondary/20 rounded-full blur-[120px] animate-pulse delay-1000"}),b.jsx("div",{className:"absolute top-[40%] left-[30%] w-[300px] h-[300px] bg-soft-pink/30 rounded-full blur-[80px] animate-bounce delay-500 duration-[5000ms]"}),b.jsxs("div",{className:"relative w-full h-full",children:[e==="title"&&b.jsx(aO,{onStart:c,onSwitchToV1:s}),e==="lobby"&&b.jsx(EO,{onSwitchToV1:s,isNewUser:r})]})]})},SO=()=>b.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-background font-body p-4",children:b.jsxs("div",{className:"card max-w-md w-full text-center space-y-8",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx("h1",{className:"text-4xl text-text font-heading tracking-wider",children:"INVITATION"}),b.jsx("p",{className:"text-xl text-text/80 font-medium",children:" & "})]}),b.jsx("div",{className:"w-12 h-px bg-gray-300 mx-auto"}),b.jsx("p",{className:"text-text/60 tracking-widest",children:"2026. 04. 25. SAT PM 04:50"}),b.jsxs("div",{className:"flex flex-col gap-4",children:[b.jsxs("a",{href:"classic.html",className:"btn-secondary flex items-center justify-center gap-2 group",children:[b.jsx("span",{className:"group-hover:scale-110 transition-transform",children:""}),"  (Classic)"]}),b.jsxs("a",{href:"game.html",className:"btn-primary flex items-center justify-center gap-2 group",children:[b.jsx("span",{className:"group-hover:rotate-12 transition-transform",children:""}),"  (Game Mode)"]})]})]})});function AO(){const[s,e]=ie.useState("selection");return ie.useEffect(()=>{const n=window.location.pathname;n.includes("classic.html")?e("v1"):n.includes("game.html")?e("v2"):new URLSearchParams(window.location.search).get("mode")==="classic"?e("v1"):new URLSearchParams(window.location.search).get("mode")==="game"?e("v2"):e("selection")},[]),b.jsxs(b.Fragment,{children:[s==="selection"&&b.jsx(SO,{}),s==="v1"&&b.jsx(wA,{}),s==="v2"&&b.jsx(wO,{onSwitchToV1:()=>window.location.href="classic.html"}),b.jsx(rO,{})]})}m1.createRoot(document.getElementById("root")).render(b.jsx(ie.StrictMode,{children:b.jsx(AO,{})}));
